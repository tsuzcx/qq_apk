!function(t){var E={};function e(r){if(E[r])return E[r].exports;var _=E[r]={i:r,l:!1,exports:{}};return t[r].call(_.exports,_,_.exports,e),_.l=!0,_.exports}e.m=t,e.c=E,e.d=function(t,E,r){e.o(t,E)||Object.defineProperty(t,E,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,E){if(1&E&&(t=e(t)),8&E)return t;if(4&E&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&E&&"string"!=typeof t)for(var _ in t)e.d(r,_,function(E){return t[E]}.bind(null,_));return r},e.n=function(t){var E=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(E,"a",E),E},e.o=function(t,E){return Object.prototype.hasOwnProperty.call(t,E)},e.p="",e(e.s=0)}([function(t,E,e){e(1),t.exports=e(2)},function(t,E){!function(){var t=NativeGlobal.batchRender,E=NativeGlobal.registerAfterDoFrame,e=NativeGlobal.Watcher,r=(NativeGlobal.performanceNow,NativeGlobal.log,NativeGlobal.WeakValueMap),_={handler:{},toDeleteList:[]};function A(t){this.destroycmdid=t,this.map_object_to_id=new WeakMap,this.reverse_map_id_to_object=new r,this.getIdWithObject=function(t){let E=this.map_object_to_id.get(t);return E?E[0]:0},this.getObjectWithId=function(t){return this.reverse_map_id_to_object.get(t)},this.get=this.getIdWithObject,this.put=function(t,E){this.reverse_map_id_to_object.put(t,E)},this.remove=function(t){if("number"==typeof t){let E=this.reverse_map_id_to_object.get(t);if(void 0===E)return;let e=this.map_object_to_id.get(E)[1];this.map_object_to_id.delete(E),delete _.handler[e]}else if("object"==typeof t){if(!this.map_object_to_id.has(t))return;let E=this.map_object_to_id.get(t);this.reverse_map_id_to_object.remove(E[0]),this.map_object_to_id.delete(t);let e=E[1];delete _.handler[e]}},this.createWebGLObject=function(t,E){let r=new e;return this.map_object_to_id.set(r,[t,r.__id]),this.reverse_map_id_to_object.put(t,r),_.handler[r.__id]=function(t,E,e,r){return function(){a(E),R.pushInt32Array([e,t],2),r.reverse_map_id_to_object.remove(t)}}(t,E,this.destroycmdid,this),r.__id=void 0,r.ignore=void 0,r.clearExtra=void 0,r.setExtra=void 0,r.getExtra=void 0,r}}NativeGlobal.EventHandler.addEventListener("watcherdestruct",(function(t,E){_.handler[t]&&_.toDeleteList.push(t)}));var T,n=(T=new WeakMap,function(t){var E=T.get(t);return E||(E={origin_ctx:null,ctxid:0,renderbuffer_storage:new A(83),framebuffer_storage:new A(82),buffer_storage:new A(79),texture_storage:new A(78),program_storage:new A(81),shader_storage:new A(41),vao_storage:new A(149)},T.set(t,E)),E}),R={currentctxid:0,buffer:void 0,MAX_LEN:512e3,lengthPerFourBytes:0,meta:new Uint32Array(2),float32Array:void 0,uint32Array:void 0,offsetPerFourBytes:0,init:function(){this.buffer=new ArrayBuffer(this.MAX_LEN),this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.float32Array=new Float32Array(this.buffer),this.uint32Array=new Uint32Array(this.buffer),this.offsetPerFourBytes=2},checkCommand:function(t){if(!(this.offsetPerFourBytes+t<=this.lengthPerFourBytes)){var E=new ArrayBuffer(this.MAX_LEN+4*(t+this.lengthPerFourBytes)),e=new Uint32Array(E);e.set(this.uint32Array),this.buffer=E,this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.uint32Array=e,this.float32Array=new Float32Array(E)}},pushInt32:function(t){this.checkCommand(1),this.uint32Array[this.offsetPerFourBytes++]=t},pushInt64:function(t){this.checkCommand(2);var E=new DataView(this.buffer,4*this.offsetPerFourBytes,8),e=Math.floor(t/4294967296),r=t-4294967296*e;E.setUint32(0,r,!0),E.setUint32(4,e,!0),this.offsetPerFourBytes+=2},pushInt32Array:function(t,E){this.checkCommand(E),this.uint32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=E},pushInt16Array:function(t,E){E%2!=0&&E++,this.checkCommand(E/2),new Uint16Array(this.buffer,4*this.offsetPerFourBytes,E).set(t),this.offsetPerFourBytes+=E/2},pushFloat32:function(t){this.checkCommand(1),this.float32Array[this.offsetPerFourBytes++]=t},pushFloat64:function(t){this.checkCommand(2),new Float64Array(this.buffer,4*this.offsetPerFourBytes,1)[0]=t,this.offsetPerFourBytes+=2},pushFloat32Array:function(t,E){this.checkCommand(E),this.float32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=E},pushFloat64Array:function(t,E){this.checkCommand(2*E),new Float64Array(this.buffer,4*this.offsetPerFourBytes,E).set(t),this.offsetPerFourBytes+=2*E},pushArrayBuffer:function(t){var E=t.byteLength;if(this.pushInt32(E),0!==E){var e,r=E%4;e=0!==r?(E+4-r)/4:E/4,this.checkCommand(e);var _=new Uint8Array(this.buffer,4*this.offsetPerFourBytes,E);ArrayBuffer.isView(t)?_.set(new Uint8Array(t.buffer,t.byteOffset,E)):_.set(new Uint8Array(t)),this.offsetPerFourBytes+=e}},pushString:function(t){var E=t.length+1,e=2*E;this.pushInt32(e);var r,_=e%4;r=0!==_?(e+4-_)/4:e/4,this.checkCommand(r);for(var A=new Uint16Array(this.buffer,4*this.offsetPerFourBytes,E),T=0;T<E;T++)A[T]=t.charCodeAt(T);this.offsetPerFourBytes+=r},batchRender:function(E){return this.meta[0]=this.offsetPerFourBytes,this.offsetPerFourBytes=2,this.currentctxid=0,t(this.buffer,E)}};function a(t){R.currentctxid!==t&&(R.pushInt32(999),R.pushInt64(t),R.currentctxid=t)}R.init(),E((function(){R.offsetPerFourBytes>2&&R.batchRender();let t=_.toDeleteList;_.toDeleteList=[];for(var E=0;E<t.length;E++){var e=t[E];_.handler[e]&&_.handler[e](),delete _.handler[e]}})),NativeGlobal.getCommandBufferUid=function(t){return n(t).ctxid},NativeGlobal.destroyCommandBuffer=function(t){},NativeGlobal.buildCommandBuffer=function(t){var E;E={vertexAttribPointer:function(t,E,e,r,_,A){a(n(this).ctxid),R.pushInt32Array([1,t,E,e,r?1:0,_,A],7)},activeTexture:function(t){a(n(this).ctxid),R.pushInt32Array([2,t],2)},uniform1i:function(t,E){a(n(this).ctxid),"boolean"==typeof E&&(E=E?1:0),R.pushInt32Array([3,t.id,E],3)},drawElements:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([4,t,E,e,r],5)},bindBuffer:function(t,E){let e=n(this);a(e.ctxid),R.pushInt32Array([5,t,e.buffer_storage.get(E)],3)},bindTexture:function(t,E){var e=n(this);a(e.ctxid);var r=e.texture_storage.get(E);36197==t&&(r=E),R.pushInt32Array([6,t,r],3)},uniformMatrix4fv:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([7,t.id,E?1:0,e.length],4),R.pushFloat32Array(e,e.length)},viewport:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([8,t,E,e,r],5)},clear:function(t){a(n(this).ctxid),R.pushInt32Array([9,t],2)},createProgram:function(){var t=n(this);a(t.ctxid),R.pushInt32(10);var E=R.batchRender();return t.program_storage.createWebGLObject(E,t.ctxid)},createShader:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([11,t],2);let e=R.batchRender();return E.shader_storage.createWebGLObject(e,E.ctxid)},shaderSource:function(t,E){let e=n(this);a(e.ctxid),R.pushInt32Array([12,e.shader_storage.get(t)],2),R.pushString(E)},getShaderInfoLog:function(t){let E=n(this);return a(E.ctxid),R.pushInt32Array([13,E.shader_storage.get(t)],2),R.batchRender()},getShaderParameter:function(t,E){let e=n(this);return a(e.ctxid),R.pushInt32Array([14,e.shader_storage.get(t),E],3),R.batchRender()},compileShader:function(t){let E=n(this);a(E.ctxid),R.pushInt32Array([15,E.shader_storage.get(t)],2)},attachShader:function(t,E){var e=n(this);a(e.ctxid),R.pushInt32Array([16,e.program_storage.get(t),e.shader_storage.get(E)],3)},linkProgram:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([17,E.program_storage.get(t)],2)},getProgramParameter:function(t,E){var e=n(this);return a(e.ctxid),R.pushInt32Array([18,e.program_storage.get(t),E],3),R.batchRender()},useProgram:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([19,E.program_storage.get(t)],2)},getAttribLocation:function(t,E){var e=n(this);return a(e.ctxid),R.pushInt32Array([20,e.program_storage.get(t)],2),R.pushString(E),R.batchRender()},enableVertexAttribArray:function(t){a(n(this).ctxid),R.pushInt32Array([21,t],2)},getUniformLocation:function(t,E){var e=n(this);a(e.ctxid),R.pushInt32Array([22,e.program_storage.get(t)],2),R.pushString(E);var r={};return r.id=R.batchRender(),r},createBuffer:function(){var t=n(this);a(t.ctxid),R.pushInt32(23);let E=R.batchRender();return t.buffer_storage.createWebGLObject(E,t.ctxid)},bufferData:function(t,E,e){a(n(this).ctxid),"number"!=typeof E||isNaN(E)?(R.pushInt32Array([25,t,e],3),R.pushArrayBuffer(E)):(R.pushInt32Array([24,t,e],3),R.pushInt64(E))},createTexture:function(){var t=n(this);a(t.ctxid),R.pushInt32(26);var E=R.batchRender();return t.texture_storage.createWebGLObject(E,t.ctxid)},pixelStorei:function(t,E){a(n(this).ctxid),"boolean"==typeof E&&(E=E?1:0),R.pushInt32Array([27,t,E],3)},texImage2D:function(t,E,e,r,_,A,T,i,s){a(n(this).ctxid);var I=arguments.length;6===I?(R.pushInt32Array([28,t,E,e,r,_],6),R.pushInt64(A.__uid())):9===I&&(null==s?R.pushInt32Array([29,t,E,e,r,_,A,T,i],9):R.pushInt32Array([30,t,E,e,r,_,A,T,i],9)),R.batchRender(s)},texParameteri:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([31,t,E,e],4)},enable:function(t){a(n(this).ctxid),R.pushInt32Array([32,t],2)},clearColor:function(t,E,e,r){a(n(this).ctxid),R.pushInt32(33),R.pushFloat32Array([t,E,e,r],4)},disable:function(t){a(n(this).ctxid),R.pushInt32Array([34,t],2)},getExtension:function(t){let E=n(this),e=E.ctxid;a(e),R.pushInt32(35),R.pushString(t);var r=R.batchRender();if(!r)return r;if("ANGLE_instanced_arrays"===t){if(E.angle_instanced_arrays)return E.angle_instanced_arrays;let t={drawArraysInstancedANGLE:function(t,E,r,_){a(e),R.pushInt32Array([143,t,E,r,_],5)},drawElementsInstancedANGLE:function(t,E,r,_,A){a(e),R.pushInt32Array([144,t,E,r,_,A],6)},vertexAttribDivisorANGLE:function(t,E){a(e),R.pushInt32Array([145,t,E],3)}};return t.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=r.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE,E.angle_instanced_arrays=t,t}if("OES_vertex_array_object"===t){if(E.vao)return E.vao;let t=this;var _={createVertexArrayOES:function(){a(n(t).ctxid),R.pushInt32(148);var r=R.batchRender();return E.vao_storage.createWebGLObject(r,e)},deleteVertexArrayOES:function(e){a(n(t).ctxid),R.pushInt32Array([149,E.vao_storage.get(e)],2),E.vao_storage.remove(e)},isVertexArrayOES:function(e){let r=E.vao_storage.get(e);return!(r<=0)&&(a(n(t).ctxid),R.pushInt32Array([150,r],2),R.batchRender())},bindVertexArrayOES:function(e){a(n(t).ctxid);let r=E.vao_storage.get(e);R.pushInt32Array([151,r],2)}};return _.VERTEX_ARRAY_BINDING_OES=r.VERTEX_ARRAY_BINDING_OES,E.vao=_,_}return r},getParameter:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([36,t],2);const e=R.batchRender();switch(t){case this.ARRAY_BUFFER_BINDING:case this.ELEMENT_ARRAY_BUFFER_BINDING:return E.buffer_storage.getObjectWithId(e);case this.CURRENT_PROGRAM:return E.program_storage.getObjectWithId(e);case this.FRAMEBUFFER_BINDING:return E.framebuffer_storage.getObjectWithId(e);case this.RENDERBUFFER_BINDING:return E.renderbuffer_storage.getObjectWithId(e);case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:return E.texture_storage.getObjectWithId(e);default:return e}},getSupportedExtensions:function(){return a(n(this).ctxid),R.pushInt32(37),R.batchRender()},blendFunc:function(t,E){a(n(this).ctxid),R.pushInt32Array([38,t,E],3)},getShaderPrecisionFormat:function(t,E){a(n(this).ctxid),R.pushInt32Array([39,t,E],3);const e=R.batchRender().split(",");var r={};return r.rangeMin=e[0],r.rangeMax=e[1],r.precision=e[2],r},bindAttribLocation:function(t,E,e){var r=n(this);a(r.ctxid),R.pushInt32Array([40,r.program_storage.get(t),E],3),R.pushString(e)},deleteShader:function(t){let E=n(this);a(E.ctxid),R.pushInt32Array([41,E.shader_storage.get(t)],2),E.shader_storage.remove(t)},drawArrays:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([42,t,E,e],4)},isEnabled:function(t){return a(n(this).ctxid),R.pushInt32Array([43,t],2),R.batchRender()},depthMask:function(t){a(n(this).ctxid),R.pushInt32Array([44,t?1:0],2)},stencilFunc:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([45,t,E,e],4)},stencilOp:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([46,t,E,e],4)},stencilMask:function(t){a(n(this).ctxid),R.pushInt32Array([47,t],2)},scissor:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([48,t,E,e,r],5)},bufferSubData:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([49,t,E],3),R.pushArrayBuffer(e)},blendFuncSeparate:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([50,t,E,e,r],5)},uniform1f:function(t,E){a(n(this).ctxid),R.checkCommand(3),R.uint32Array.set([51,t.id],R.offsetPerFourBytes),R.float32Array[R.offsetPerFourBytes+2]=E,R.offsetPerFourBytes+=3},clearDepth:function(t){a(n(this).ctxid),R.pushInt32(52),R.pushFloat32(t)},clearStencil:function(t){a(n(this).ctxid),R.pushInt32Array([53,t],2)},depthFunc:function(t){a(n(this).ctxid),R.pushInt32Array([54,t],2)},frontFace:function(t){a(n(this).ctxid),R.pushInt32Array([55,t],2)},cullFace:function(t){a(n(this).ctxid),R.pushInt32Array([56,t],2)},blendEquationSeparate:function(t,E){a(n(this).ctxid),R.pushInt32Array([57,t,E],3)},createFramebuffer:function(){var t=n(this);a(t.ctxid),R.pushInt32(58);let E=R.batchRender();return t.framebuffer_storage.createWebGLObject(E,t.ctxid)},bindFramebuffer:function(t,E){let e=n(this);a(e.ctxid),R.pushInt32Array([59,t,e.framebuffer_storage.get(E)],3)},framebufferTexture2D:function(t,E,e,r,_){var A=n(this);a(A.ctxid);var T=A.texture_storage.get(r)||0;R.pushInt32Array([60,t,E,e,_,T],6)},createRenderbuffer:function(){var t=n(this);a(t.ctxid),R.pushInt32(61);let E=R.batchRender();return t.renderbuffer_storage.createWebGLObject(E,t.ctxid)},bindRenderbuffer:function(t,E){let e=n(this);a(e.ctxid),R.pushInt32Array([62,t,e.renderbuffer_storage.get(E)],3)},renderbufferStorage:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([63,t,E,e,r],5)},framebufferRenderbuffer:function(t,E,e,r){let _=n(this);a(_.ctxid),R.pushInt32Array([64,t,E,e,_.renderbuffer_storage.get(r)],5)},colorMask:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([65,t?1:0,E?1:0,e?1:0,r?1:0],5)},getProgramInfoLog:function(t){var E=n(this);return a(E.ctxid),R.pushInt32Array([66,E.program_storage.get(t)],2),R.batchRender()},getActiveAttrib:function(t,E){var e=n(this);a(e.ctxid),R.pushInt32Array([67,e.program_storage.get(t),E],3);const r=R.batchRender().split(",");var _={};return _.type=Number(r[0]),_.size=Number(r[1]),_.name=r[2],_},getActiveUniform:function(t,E){var e=n(this);a(e.ctxid),R.pushInt32Array([68,e.program_storage.get(t),E],3);const r=R.batchRender();if(r){const t=r.split(",");var _={};return _.type=Number(t[0]),_.size=Number(t[1]),_.name=t[2],_}return null},uniform3f:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([69,t.id],2),R.pushFloat32Array([E,e,r],3)},uniform1iv:function(t,E){a(n(this).ctxid),R.pushInt32Array([70,t.id,E.length],3),R.pushInt32Array(E,E.length)},uniform3fv:function(t,E){a(n(this).ctxid),R.checkCommand(3+E.length),R.uint32Array.set([71,t.id,E.length],R.offsetPerFourBytes),R.offsetPerFourBytes+=3,R.float32Array.set(E,R.offsetPerFourBytes),R.offsetPerFourBytes+=E.length},uniform2f:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([72,t.id],2),R.pushFloat32Array([E,e],2)},uniformMatrix3fv:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([73,t.id,E?1:0,e.length],4),R.pushFloat32Array(e,e.length)},disableVertexAttribArray:function(t){a(n(this).ctxid),R.pushInt32Array([74,t],2)},generateMipmap:function(t){a(n(this).ctxid),R.pushInt32Array([75,t],2)},uniform4fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([76,t.id,E.length],3),R.pushFloat32Array(E,E.length)},getError:function(){return a(n(this).ctxid),R.pushInt32(77),R.batchRender()},deleteTexture:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([78,E.texture_storage.get(t)],2),E.texture_storage.remove(t)},deleteBuffer:function(t){let E=n(this);a(E.ctxid),R.pushInt32Array([79,E.buffer_storage.get(t)],2),E.buffer_storage.remove(t)},getShaderSource:function(t){let E=n(this);return a(E.ctxid),R.pushInt32Array([80,E.shader_storage.get(t)],2),R.batchRender()},deleteProgram:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([81,E.program_storage.get(t)],2),E.program_storage.remove(t)},deleteFramebuffer:function(t){let E=n(this);a(E.ctxid),R.pushInt32Array([82,E.framebuffer_storage.get(t)],2),E.framebuffer_storage.remove(t)},deleteRenderbuffer:function(t){let E=n(this);a(E.ctxid),R.pushInt32Array([83,E.renderbuffer_storage.get(t)],2),E.renderbuffer_storage.remove(t)},texSubImage2D:function(t,E,e,r,_,A,T,i,s){a(n(this).ctxid);var I=arguments.length;7===I?(R.pushInt32Array([84,t,E,e,r,_,A],7),R.pushInt64(T.__uid())):9===I&&(null==s?R.pushInt32Array([85,t,E,e,r,_,A,T,i],9):R.pushInt32Array([86,t,E,e,r,_,A,T,i],9)),R.batchRender(s)},uniform4f:function(t,E,e,r,_){a(n(this).ctxid),R.pushInt32Array([87,t.id],2),R.pushFloat32Array([E,e,r,_],4)},isBuffer:function(t){let E=n(this),e=E.buffer_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([88,e],2),R.batchRender())},isContextLost:function(){return!1},isFramebuffer:function(t){let E=n(this),e=E.framebuffer_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([90,e],2),R.batchRender())},isProgram:function(t){var E=n(this);let e=E.program_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([91,e],2),R.batchRender())},isRenderbuffer:function(t){var E=n(this);let e=E.renderbuffer_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([92,e],2),R.batchRender())},isShader:function(t){var E=n(this);let e=E.shader_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([93,e],2),R.batchRender())},isTexture:function(t){var E=n(this);let e=E.texture_storage.get(t);return!(e<=0)&&(a(E.ctxid),R.pushInt32Array([94,e],2),R.batchRender())},uniform2i:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([95,t.id,E,e],4)},uniform3i:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([96,t.id,E,e,r],5)},uniform4i:function(t,E,e,r,_){a(n(this).ctxid),R.pushInt32Array([97,t.id,E,e,r,_],6)},uniform1fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([98,t.id,E.length],3),R.pushFloat32Array(E,E.length)},uniform2fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([99,t.id,E.length],3),R.pushFloat32Array(E,E.length)},uniform2iv:function(t,E){a(n(this).ctxid),R.pushInt32Array([100,t.id,E.length],3),R.pushInt32Array(E,E.length)},uniform3iv:function(t,E){a(n(this).ctxid),R.pushInt32Array([101,t.id,E.length],3),R.pushInt32Array(E,E.length)},uniform4iv:function(t,E){a(n(this).ctxid),R.pushInt32Array([102,t.id,E.length],3),R.pushInt32Array(E,E.length)},uniformMatrix2fv:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([103,t.id,E?1:0,e.length],4),R.pushFloat32Array(e,e.length)},vertexAttrib1f:function(t,E){a(n(this).ctxid),R.pushInt32Array([104,t],2),R.pushFloat32(E)},vertexAttrib2f:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([105,t],2),R.pushFloat32Array([E,e],2)},vertexAttrib3f:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([106,t],2),R.pushFloat32Array([E,e,r],3)},vertexAttrib4f:function(t,E,e,r,_){a(n(this).ctxid),R.pushInt32Array([107,t],2),R.pushFloat32Array([E,e,r,_],4)},vertexAttrib1fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([108,t,E.length],3),R.pushFloat32Array(E,E.length)},vertexAttrib2fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([109,t,E.length],3),R.pushFloat32Array(E,E.length)},vertexAttrib3fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([110,t,E.length],3),R.pushFloat32Array(E,E.length)},vertexAttrib4fv:function(t,E){a(n(this).ctxid),R.pushInt32Array([111,t,E.length],3),R.pushFloat32Array(E,E.length)},blendColor:function(t,E,e,r){a(n(this).ctxid),R.pushInt32(112),R.pushFloat32Array([t,E,e,r],4)},checkFramebufferStatus:function(t){return a(n(this).ctxid),R.pushInt32Array([113,t],2),R.batchRender()},compressedTexImage2D:function(t,E,e,r,_,A,T){a(n(this).ctxid),R.pushInt32Array([114,t,E,e,r,_,A],7),R.pushArrayBuffer(T)},compressedTexSubImage2D:function(t,E,e,r,_,A,T,i){a(n(this).ctxid),R.pushInt32Array([115,t,E,e,r,_,A,T],8),R.pushArrayBuffer(i)},copyTexImage2D:function(t,E,e,r,_,A,T,i){a(n(this).ctxid),R.pushInt32Array([116,t,E,e,r,_,A,T,i],9)},copyTexSubImage2D:function(t,E,e,r,_,A,T,i){a(n(this).ctxid),R.pushInt32Array([117,t,E,e,r,_,A,T,i],9)},depthRange:function(t,E){a(n(this).ctxid),R.pushInt32(118),R.pushFloat32Array([t,E],2)},detachShader:function(t,E){var e=n(this);a(n(this).ctxid),R.pushInt32Array([119,e.program_storage.get(t),e.shader_storage.get(E)],3)},flush:function(){a(n(this).ctxid),R.pushInt32(120),R.batchRender()},finish:function(){a(n(this).ctxid),R.pushInt32(121),R.batchRender()},hint:function(t,E){a(n(this).ctxid),R.pushInt32Array([122,t,E],3)},lineWidth:function(t){a(n(this).ctxid),R.pushInt32(123),R.pushFloat32(t)},polygonOffset:function(t,E){a(n(this).ctxid),R.pushInt32(124),R.pushFloat32Array([t,E],2)},sampleCoverage:function(t,E){a(n(this).ctxid),R.pushInt32(125),R.pushFloat32(t),R.pushInt32(E?1:0)},stencilFuncSeparate:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([126,t,E,e,r],5)},stencilMaskSeparate:function(t,E){a(n(this).ctxid),R.pushInt32Array([127,t,E],3)},stencilOpSeparate:function(t,E,e,r){a(n(this).ctxid),R.pushInt32Array([128,t,E,e,r],5)},texParameterf:function(t,E,e){a(n(this).ctxid),R.pushInt32Array([129,t,E],3),R.pushFloat32(e)},validateProgram:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([130,E.program_storage.get(t)],2)},getBufferParameter:function(t,E){return a(n(this).ctxid),R.pushInt32Array([131,t,E],3),R.batchRender()},getRenderbufferParameter:function(t,E){return a(n(this).ctxid),R.pushInt32Array([132,t,E],3),R.batchRender()},getTexParameter:function(t,E){return a(n(this).ctxid),R.pushInt32Array([133,t,E],3),R.batchRender()},getVertexAttribOffset:function(t,E){return a(n(this).ctxid),R.pushInt32Array([134,t,E],3),R.batchRender()},wxSetContextAttributes:function(t){a(n(this).ctxid),R.pushInt32Array([135,t.antialias,t.antialiasSamples],3)},wxBindCanvasTexture:function(t,E){a(n(this).ctxid),R.pushInt32Array([136,t],2),R.pushInt64(E.__id)},getContextAttributes:function(){return a(n(this).ctxid),R.pushInt32(137),R.batchRender()},readPixels:function(t,E,e,r,_,A,T){var i=n(this);return a(i.ctxid),R.batchRender(),i.origin_ctx.readPixels(t,E,e,r,_,A,T)},getAttachedShaders:function(t){var E=n(this);a(E.ctxid),R.pushInt32Array([139,E.program_storage.get(t)],2);var e=R.batchRender().split(",");for(i=0,len=e.length;i<len;i++)e[i]=E.shader_storage.getObjectWithId(e[i]);return e},getFramebufferAttachmentParameter:function(t,E,e){var r=n(this);a(r.ctxid),R.pushInt32Array([140,t,E,e],4);const _=R.batchRender();if(e===this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME){let e=this.getFramebufferAttachmentParameter(t,E,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE);if(e===this.RENDERBUFFER)return r.renderbuffer_storage.getObjectWithId(_);if(e===this.TEXTURE)return r.texture_storage.getObjectWithId(_)}return _},getVertexAttrib:function(t,E){var e=n(this);a(e.ctxid),R.pushInt32Array([141,t,E],3);const r=R.batchRender();return E===this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING?e.buffer_storage.getObjectWithId(r):r},blendEquation:function(t){a(n(this).ctxid),R.pushInt32Array([142,t],2)},SUBMIT_COMMAND_BUFFER_FLUSH:1,SUBMIT_COMMAND_BUFFER_WAIT:2,SUBMIT_FENCE_SYNC_WAIT:16,SUBMIT_FENCE_SYNC_CLIENT_WAIT:32,submit:function(t){return t=t||0,a(n(this).ctxid),R.pushInt32Array([152,t],2),R.batchRender()},DEPTH_BUFFER_BIT:t.DEPTH_BUFFER_BIT,STENCIL_BUFFER_BIT:t.STENCIL_BUFFER_BIT,COLOR_BUFFER_BIT:t.COLOR_BUFFER_BIT,FALSE:t.FALSE,TRUE:t.TRUE,POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:4,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,ZERO:t.ZERO,ONE:t.ONE,SRC_COLOR:t.SRC_COLOR,ONE_MINUS_SRC_COLOR:t.ONE_MINUS_SRC_COLOR,SRC_ALPHA:t.SRC_ALPHA,ONE_MINUS_SRC_ALPHA:t.ONE_MINUS_SRC_ALPHA,DST_ALPHA:t.DST_ALPHA,ONE_MINUS_DST_ALPHA:t.ONE_MINUS_DST_ALPHA,DST_COLOR:t.DST_COLOR,ONE_MINUS_DST_COLOR:t.ONE_MINUS_DST_COLOR,SRC_ALPHA_SATURATE:t.SRC_ALPHA_SATURATE,FUNC_ADD:t.FUNC_ADD,BLEND_EQUATION:t.BLEND_EQUATION,BLEND_EQUATION_RGB:t.BLEND_EQUATION_RGB,BLEND_EQUATION_ALPHA:t.BLEND_EQUATION_ALPHA,FUNC_SUBTRACT:t.FUNC_SUBTRACT,FUNC_REVERSE_SUBTRACT:t.FUNC_REVERSE_SUBTRACT,BLEND_DST_RGB:t.BLEND_DST_RGB,BLEND_SRC_RGB:t.BLEND_SRC_RGB,BLEND_DST_ALPHA:t.BLEND_DST_ALPHA,BLEND_SRC_ALPHA:t.BLEND_SRC_ALPHA,CONSTANT_COLOR:t.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:t.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:t.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:t.ONE_MINUS_CONSTANT_ALPHA,BLEND_COLOR:t.BLEND_COLOR,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:t.ARRAY_BUFFER_BINDING,ELEMENT_ARRAY_BUFFER_BINDING:t.ELEMENT_ARRAY_BUFFER_BINDING,STREAM_DRAW:t.STREAM_DRAW,STATIC_DRAW:t.STATIC_DRAW,DYNAMIC_DRAW:t.DYNAMIC_DRAW,BUFFER_SIZE:t.BUFFER_SIZE,BUFFER_USAGE:t.BUFFER_USAGE,CURRENT_VERTEX_ATTRIB:t.CURRENT_VERTEX_ATTRIB,FRONT:t.FRONT,BACK:t.BACK,FRONT_AND_BACK:t.FRONT_AND_BACK,TEXTURE_2D:3553,TEXTURE_EXTERNAL_OES:36197,CULL_FACE:t.CULL_FACE,BLEND:t.BLEND,DITHER:t.DITHER,STENCIL_TEST:t.STENCIL_TEST,DEPTH_TEST:t.DEPTH_TEST,SCISSOR_TEST:t.SCISSOR_TEST,POLYGON_OFFSET_FILL:t.POLYGON_OFFSET_FILL,SAMPLE_ALPHA_TO_COVERAGE:t.SAMPLE_ALPHA_TO_COVERAGE,SAMPLE_COVERAGE:t.SAMPLE_COVERAGE,NO_ERROR:t.NO_ERROR,INVALID_ENUM:t.INVALID_ENUM,INVALID_VALUE:t.INVALID_VALUE,INVALID_OPERATION:t.INVALID_OPERATION,OUT_OF_MEMORY:t.OUT_OF_MEMORY,CW:t.CW,CCW:t.CCW,LINE_WIDTH:t.LINE_WIDTH,ALIASED_POINT_SIZE_RANGE:t.ALIASED_POINT_SIZE_RANGE,ALIASED_LINE_WIDTH_RANGE:t.ALIASED_LINE_WIDTH_RANGE,CULL_FACE_MODE:t.CULL_FACE_MODE,FRONT_FACE:t.FRONT_FACE,DEPTH_RANGE:t.DEPTH_RANGE,DEPTH_WRITEMASK:t.DEPTH_WRITEMASK,DEPTH_CLEAR_VALUE:t.DEPTH_CLEAR_VALUE,DEPTH_FUNC:t.DEPTH_FUNC,STENCIL_CLEAR_VALUE:t.STENCIL_CLEAR_VALUE,STENCIL_FUNC:t.STENCIL_FUNC,STENCIL_FAIL:t.STENCIL_FAIL,STENCIL_PASS_DEPTH_FAIL:t.STENCIL_PASS_DEPTH_FAIL,STENCIL_PASS_DEPTH_PASS:t.STENCIL_PASS_DEPTH_PASS,STENCIL_REF:t.STENCIL_REF,STENCIL_VALUE_MASK:t.STENCIL_VALUE_MASK,STENCIL_WRITEMASK:t.STENCIL_WRITEMASK,STENCIL_BACK_FUNC:t.STENCIL_BACK_FUNC,STENCIL_BACK_FAIL:t.STENCIL_BACK_FAIL,STENCIL_BACK_PASS_DEPTH_FAIL:t.STENCIL_BACK_PASS_DEPTH_FAIL,STENCIL_BACK_PASS_DEPTH_PASS:t.STENCIL_BACK_PASS_DEPTH_PASS,STENCIL_BACK_REF:t.STENCIL_BACK_REF,STENCIL_BACK_VALUE_MASK:t.STENCIL_BACK_VALUE_MASK,STENCIL_BACK_WRITEMASK:t.STENCIL_BACK_WRITEMASK,VIEWPORT:t.VIEWPORT,SCISSOR_BOX:t.SCISSOR_BOX,COLOR_CLEAR_VALUE:t.COLOR_CLEAR_VALUE,COLOR_WRITEMASK:t.COLOR_WRITEMASK,UNPACK_ALIGNMENT:t.UNPACK_ALIGNMENT,PACK_ALIGNMENT:t.PACK_ALIGNMENT,MAX_TEXTURE_SIZE:t.MAX_TEXTURE_SIZE,MAX_VIEWPORT_DIMS:t.MAX_VIEWPORT_DIMS,SUBPIXEL_BITS:t.SUBPIXEL_BITS,RED_BITS:t.RED_BITS,GREEN_BITS:t.GREEN_BITS,BLUE_BITS:t.BLUE_BITS,ALPHA_BITS:t.ALPHA_BITS,DEPTH_BITS:t.DEPTH_BITS,STENCIL_BITS:t.STENCIL_BITS,POLYGON_OFFSET_UNITS:t.POLYGON_OFFSET_UNITS,POLYGON_OFFSET_FACTOR:t.POLYGON_OFFSET_FACTOR,TEXTURE_BINDING_2D:t.TEXTURE_BINDING_2D,SAMPLE_BUFFERS:t.SAMPLE_BUFFERS,SAMPLES:t.SAMPLES,SAMPLE_COVERAGE_VALUE:t.SAMPLE_COVERAGE_VALUE,SAMPLE_COVERAGE_INVERT:t.SAMPLE_COVERAGE_INVERT,NUM_COMPRESSED_TEXTURE_FORMATS:t.NUM_COMPRESSED_TEXTURE_FORMATS,COMPRESSED_TEXTURE_FORMATS:t.COMPRESSED_TEXTURE_FORMATS,DONT_CARE:t.DONT_CARE,FASTEST:t.FASTEST,NICEST:t.NICEST,GENERATE_MIPMAP_HINT:t.GENERATE_MIPMAP_HINT,BYTE:t.BYTE,UNSIGNED_BYTE:t.UNSIGNED_BYTE,SHORT:t.SHORT,UNSIGNED_SHORT:5123,INT:t.INT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:5126,FIXED:t.FIXED,DEPTH_COMPONENT:t.DEPTH_COMPONENT,ALPHA:t.ALPHA,RGB:t.RGB,RGBA:t.RGBA,LUMINANCE:t.LUMINANCE,LUMINANCE_ALPHA:t.LUMINANCE_ALPHA,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,FRAGMENT_SHADER:t.FRAGMENT_SHADER,VERTEX_SHADER:t.VERTEX_SHADER,MAX_VERTEX_ATTRIBS:t.MAX_VERTEX_ATTRIBS,MAX_VERTEX_UNIFORM_VECTORS:t.MAX_VERTEX_UNIFORM_VECTORS,MAX_VARYING_VECTORS:t.MAX_VARYING_VECTORS,MAX_COMBINED_TEXTURE_IMAGE_UNITS:t.MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_VERTEX_TEXTURE_IMAGE_UNITS:t.MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS:t.MAX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS:t.MAX_FRAGMENT_UNIFORM_VECTORS,SHADER_TYPE:t.SHADER_TYPE,DELETE_STATUS:t.DELETE_STATUS,LINK_STATUS:t.LINK_STATUS,VALIDATE_STATUS:t.VALIDATE_STATUS,ATTACHED_SHADERS:t.ATTACHED_SHADERS,ACTIVE_UNIFORMS:t.ACTIVE_UNIFORMS,ACTIVE_UNIFORM_MAX_LENGTH:t.ACTIVE_UNIFORM_MAX_LENGTH,ACTIVE_ATTRIBUTES:t.ACTIVE_ATTRIBUTES,ACTIVE_ATTRIBUTE_MAX_LENGTH:t.ACTIVE_ATTRIBUTE_MAX_LENGTH,SHADING_LANGUAGE_VERSION:t.SHADING_LANGUAGE_VERSION,CURRENT_PROGRAM:t.CURRENT_PROGRAM,NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LEQUAL:t.LEQUAL,GREATER:t.GREATER,NOTEQUAL:t.NOTEQUAL,GEQUAL:t.GEQUAL,ALWAYS:t.ALWAYS,KEEP:t.KEEP,REPLACE:t.REPLACE,INCR:t.INCR,DECR:t.DECR,INVERT:t.INVERT,INCR_WRAP:t.INCR_WRAP,DECR_WRAP:t.DECR_WRAP,VENDOR:t.VENDOR,RENDERER:t.RENDERER,VERSION:t.VERSION,EXTENSIONS:t.EXTENSIONS,NEAREST:t.NEAREST,LINEAR:t.LINEAR,NEAREST_MIPMAP_NEAREST:t.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:t.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR,TEXTURE_MAG_FILTER:t.TEXTURE_MAG_FILTER,TEXTURE_MIN_FILTER:t.TEXTURE_MIN_FILTER,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,TEXTURE:t.TEXTURE,TEXTURE_CUBE_MAP:t.TEXTURE_CUBE_MAP,TEXTURE_BINDING_CUBE_MAP:t.TEXTURE_BINDING_CUBE_MAP,TEXTURE_CUBE_MAP_POSITIVE_X:t.TEXTURE_CUBE_MAP_POSITIVE_X,TEXTURE_CUBE_MAP_NEGATIVE_X:t.TEXTURE_CUBE_MAP_NEGATIVE_X,TEXTURE_CUBE_MAP_POSITIVE_Y:t.TEXTURE_CUBE_MAP_POSITIVE_Y,TEXTURE_CUBE_MAP_NEGATIVE_Y:t.TEXTURE_CUBE_MAP_NEGATIVE_Y,TEXTURE_CUBE_MAP_POSITIVE_Z:t.TEXTURE_CUBE_MAP_POSITIVE_Z,TEXTURE_CUBE_MAP_NEGATIVE_Z:t.TEXTURE_CUBE_MAP_NEGATIVE_Z,MAX_CUBE_MAP_TEXTURE_SIZE:t.MAX_CUBE_MAP_TEXTURE_SIZE,TEXTURE0:33984,TEXTURE1:t.TEXTURE1,TEXTURE2:t.TEXTURE2,TEXTURE3:t.TEXTURE3,TEXTURE4:t.TEXTURE4,TEXTURE5:t.TEXTURE5,TEXTURE6:t.TEXTURE6,TEXTURE7:t.TEXTURE7,TEXTURE8:t.TEXTURE8,TEXTURE9:t.TEXTURE9,TEXTURE10:t.TEXTURE10,TEXTURE11:t.TEXTURE11,TEXTURE12:t.TEXTURE12,TEXTURE13:t.TEXTURE13,TEXTURE14:t.TEXTURE14,TEXTURE15:t.TEXTURE15,TEXTURE16:t.TEXTURE16,TEXTURE17:t.TEXTURE17,TEXTURE18:t.TEXTURE18,TEXTURE19:t.TEXTURE19,TEXTURE20:t.TEXTURE20,TEXTURE21:t.TEXTURE21,TEXTURE22:t.TEXTURE22,TEXTURE23:t.TEXTURE23,TEXTURE24:t.TEXTURE24,TEXTURE25:t.TEXTURE25,TEXTURE26:t.TEXTURE26,TEXTURE27:t.TEXTURE27,TEXTURE28:t.TEXTURE28,TEXTURE29:t.TEXTURE29,TEXTURE30:t.TEXTURE30,TEXTURE31:t.TEXTURE31,ACTIVE_TEXTURE:t.ACTIVE_TEXTURE,REPEAT:t.REPEAT,CLAMP_TO_EDGE:t.CLAMP_TO_EDGE,MIRRORED_REPEAT:t.MIRRORED_REPEAT,FLOAT_VEC2:t.FLOAT_VEC2,FLOAT_VEC3:t.FLOAT_VEC3,FLOAT_VEC4:t.FLOAT_VEC4,INT_VEC2:t.INT_VEC2,INT_VEC3:t.INT_VEC3,INT_VEC4:t.INT_VEC4,BOOL:t.BOOL,BOOL_VEC2:t.BOOL_VEC2,BOOL_VEC3:t.BOOL_VEC3,BOOL_VEC4:t.BOOL_VEC4,FLOAT_MAT2:t.FLOAT_MAT2,FLOAT_MAT3:t.FLOAT_MAT3,FLOAT_MAT4:t.FLOAT_MAT4,SAMPLER_2D:t.SAMPLER_2D,SAMPLER_CUBE:t.SAMPLER_CUBE,VERTEX_ATTRIB_ARRAY_ENABLED:t.VERTEX_ATTRIB_ARRAY_ENABLED,VERTEX_ATTRIB_ARRAY_SIZE:t.VERTEX_ATTRIB_ARRAY_SIZE,VERTEX_ATTRIB_ARRAY_STRIDE:t.VERTEX_ATTRIB_ARRAY_STRIDE,VERTEX_ATTRIB_ARRAY_TYPE:t.VERTEX_ATTRIB_ARRAY_TYPE,VERTEX_ATTRIB_ARRAY_NORMALIZED:t.VERTEX_ATTRIB_ARRAY_NORMALIZED,VERTEX_ATTRIB_ARRAY_POINTER:t.VERTEX_ATTRIB_ARRAY_POINTER,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING,IMPLEMENTATION_COLOR_READ_TYPE:t.IMPLEMENTATION_COLOR_READ_TYPE,IMPLEMENTATION_COLOR_READ_FORMAT:t.IMPLEMENTATION_COLOR_READ_FORMAT,COMPILE_STATUS:t.COMPILE_STATUS,INFO_LOG_LENGTH:t.INFO_LOG_LENGTH,SHADER_SOURCE_LENGTH:t.SHADER_SOURCE_LENGTH,SHADER_COMPILER:t.SHADER_COMPILER,SHADER_BINARY_FORMATS:t.SHADER_BINARY_FORMATS,NUM_SHADER_BINARY_FORMATS:t.NUM_SHADER_BINARY_FORMATS,LOW_FLOAT:t.LOW_FLOAT,MEDIUM_FLOAT:t.MEDIUM_FLOAT,HIGH_FLOAT:t.HIGH_FLOAT,LOW_INT:t.LOW_INT,MEDIUM_INT:t.MEDIUM_INT,HIGH_INT:t.HIGH_INT,FRAMEBUFFER:t.FRAMEBUFFER,RENDERBUFFER:t.RENDERBUFFER,RGBA4:t.RGBA4,RGB5_A1:t.RGB5_A1,RGB565:t.RGB565,DEPTH_COMPONENT16:t.DEPTH_COMPONENT16,STENCIL_INDEX:t.STENCIL_INDEX,STENCIL_INDEX8:t.STENCIL_INDEX8,DEPTH_STENCIL:t.DEPTH_STENCIL,RENDERBUFFER_WIDTH:t.RENDERBUFFER_WIDTH,RENDERBUFFER_HEIGHT:t.RENDERBUFFER_HEIGHT,RENDERBUFFER_INTERNAL_FORMAT:t.RENDERBUFFER_INTERNAL_FORMAT,RENDERBUFFER_RED_SIZE:t.RENDERBUFFER_RED_SIZE,RENDERBUFFER_GREEN_SIZE:t.RENDERBUFFER_GREEN_SIZE,RENDERBUFFER_BLUE_SIZE:t.RENDERBUFFER_BLUE_SIZE,RENDERBUFFER_ALPHA_SIZE:t.RENDERBUFFER_ALPHA_SIZE,RENDERBUFFER_DEPTH_SIZE:t.RENDERBUFFER_DEPTH_SIZE,RENDERBUFFER_STENCIL_SIZE:t.RENDERBUFFER_STENCIL_SIZE,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,COLOR_ATTACHMENT0:t.COLOR_ATTACHMENT0,DEPTH_ATTACHMENT:t.DEPTH_ATTACHMENT,STENCIL_ATTACHMENT:t.STENCIL_ATTACHMENT,DEPTH_STENCIL_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT,NONE:t.NONE,FRAMEBUFFER_COMPLETE:t.FRAMEBUFFER_COMPLETE,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,FRAMEBUFFER_UNSUPPORTED:t.FRAMEBUFFER_UNSUPPORTED,FRAMEBUFFER_BINDING:t.FRAMEBUFFER_BINDING,RENDERBUFFER_BINDING:t.RENDERBUFFER_BINDING,MAX_RENDERBUFFER_SIZE:t.MAX_RENDERBUFFER_SIZE,INVALID_FRAMEBUFFER_OPERATION:t.INVALID_FRAMEBUFFER_OPERATION,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,CONTEXT_LOST_WEBGL:t.CONTEXT_LOST_WEBGL,UNPACK_COLORSPACE_CONVERSION_WEBGL:t.UNPACK_COLORSPACE_CONVERSION_WEBGL,BROWSER_DEFAULT_WEBGL:t.BROWSER_DEFAULT_WEBGL},Object.defineProperty(E,"drawingBufferWidth",{get:function(){return a(n(this).ctxid),R.pushInt32(146),R.batchRender()},configurable:!0,enumerable:!0}),Object.defineProperty(E,"drawingBufferHeight",{get:function(){return a(n(this).ctxid),R.pushInt32(147),R.batchRender()},configurable:!0,enumerable:!0});var e=Object.create(E);return n(e).origin_ctx=t,n(e).ctxid=t.__uid(),e}}()},function(t,E){var e;!function(t){t.some=function(t,E){return null!=t?t:E},t.some3=function(t,E,e){return null!=t?t:null!=E?E:e},t.Gfx=class{constructor(E){this.gfx=E,t.setGfxConsts(this),this.features=[],this.features_getted=!1}queryFeature(t){return this.features_getted||(this.features=this.gfx.queryFeatures(),this.features_getted=!0),this.features[t]}makePass(t){var E=this.gfx.makePass(JSON.stringify(t));return E.desc=t,E}makeBuffer(t){var E,e;null!=t.content&&(ArrayBuffer.isView(t.content)?(e=this.gfx.createNativeBuffer(t.content),E=t.content,t.content=e.id):(E=t.content,t.content=t.id));var r=this.gfx.makeBuffer(JSON.stringify(t));return E&&(t.content=E),r}updateBuffer(t,E,e,r,_){if(ArrayBuffer.isView(e)){var A=this.gfx.createNativeBuffer(e);r||(r=0),_||(_=e.byteLength-r),this.gfx.updateBuffer(t.id,E,A.id,r,_)}else r||(r=0),_||(_=e.data.byteLength-r),this.gfx.updateBuffer(t.id,E,e.id,r,_)}makeShader(t){return t.binary?(ArrayBuffer.isView(t.binary)&&(t.binary=this.gfx.createNativeBuffer(t.binary)),t.binary=t.binary.id,this.gfx.makeShader(JSON.stringify(t))):this.gfx.makeShader(JSON.stringify(t))}makeImage(t){var E=[];if(null!=t.content&&null!=t.content.subimage)for(var e=0;e<this.CUBEFACE_NUM;e++)if(E[e]=[],null!=t.content.subimage[e])for(var r=0;r<this.MAX_MIPMAPS;r++)if(null!=t.content.subimage[e][r]){var _=t.content.subimage[e][r];if(ArrayBuffer.isView(_)){var A=this.gfx.createNativeBuffer(_);E[e][r]={buffer:A,oldSubImage:_},t.content.subimage[e][r]={buffer_id:A.id}}else _.__uid?(E[e][r]={buffer:null,oldSubImage:t.content.subimage[e][r]},t.content.subimage[e][r]={image_id:t.content.subimage[e][r].__uid()}):(E[e][r]={oldSubImage:_},t.content.subimage[e][r]={buffer_id:_.id})}var T=this.gfx.makeImage(JSON.stringify(t));for(e=0;e<this.CUBEFACE_NUM;e++)if(null!=E[e])for(r=0;r<this.MAX_MIPMAPS;r++)null!=E[e][r]&&(t.content.subimage[e][r]=E[e][r].oldSubImage);return T}updateImage(t,E){var e=[];if(null!=E.content&&null!=E.content.subimage)for(var r=0;r<this.CUBEFACE_NUM;r++)if(e[r]=[],null!=E.content.subimage[r])for(var _=0;_<this.MAX_MIPMAPS;_++)if(null!=E.content.subimage[r][_]){var A=E.content.subimage[r][_];if(ArrayBuffer.isView(A)){var T=this.gfx.createNativeBuffer(A);e[r][_]={buffer:T,oldSubImage:A},E.content.subimage[r][_]={buffer_id:T.id}}else E.content.subimage[r][_].__uid?(e[r][_]={buffer:null,oldSubImage:E.content.subimage[r][_]},E.content.subimage[r][_]={image_id:E.content.subimage[r][_].__uid()}):(e[r][_]={oldSubImage:A},E.content.subimage[r][_]={buffer_id:A.id})}for(this.gfx.updateImage(t.id,JSON.stringify(E)),r=0;r<this.CUBEFACE_NUM;r++)if(null!=e[r])for(_=0;_<this.MAX_MIPMAPS;_++)null!=e[r][_]&&(E.content.subimage[r][_]=e[r][_].oldSubImage)}makePipeline(t){var E=this.gfx.makePipeline(JSON.stringify(t));return t.shader&&(E.shader=t.shader),E}makePassAction(t){return JSON.stringify(t)}beginPass(t,E){this.gfx.beginPass(t.id,E)}beginDefaultPass(t,E,e){this.gfx.beginDefaultPass(t,E,e)}applyPipeline(t){this.gfx.applyPipeline(t.id)}makeBindings(t){return{bindings:t,json:JSON.stringify(t)}}applyBindings(t){this.gfx.applyBindings(t.json)}queryGlyphBitmapInfo(t,E){return this.gfx.queryGlyphBitmapInfo(t,E)}queryShaderBinary(t){return this.gfx.queryShaderBinary(t.id)}queryShaderBinaryAsync(t,E){return this.gfx.queryShaderBinaryAsync(t.id,E)}applyUniforms(t,E,e){if(ArrayBuffer.isView(e)){var r=this.gfx.createNativeBuffer(e);this.gfx.applyUniforms(t,E,r.id)}else this.gfx.applyUniforms(t,E,e.id)}applyUniformBlock(t,E,e){this.gfx.applyUniformBlock(t,E,e.id)}applyViewport(t,E,e,r,_){this.gfx.applyViewport(t,E,e,r,_)}applyScissorRect(t,E,e,r,_){this.gfx.applyScissorRect(t,E,e,r,_)}draw(t,E,e){this.gfx.draw(t,E,e)}endPass(){this.gfx.endPass()}commit(){this.gfx.commit()}createNativeBuffer(t){return this.gfx.createNativeBuffer(t)}queryPassState(t){return this.gfx.queryPassState(t.id)}queryBufferState(t){return this.gfx.queryBufferState(t.id)}queryImageState(t){return this.gfx.queryImageState(t.id)}queryShaderState(t){return this.gfx.queryShaderState(t.id)}queryPipelineState(t){return this.gfx.queryPipelineState(t.id)}queryBackend(){return this.gfx.queryBackend()}},t.setGfxConsts=function(t){t.BACKEND_GLES2=0,t.BACKEND_GLES3=1,t.BACKEND_METAL=2,t.FEATURE_INSTANCING=0,t.FEATURE_TEXTURE_COMPRESSION_DXT=1,t.FEATURE_TEXTURE_COMPRESSION_PVRTC=2,t.FEATURE_TEXTURE_COMPRESSION_ATC=3,t.FEATURE_TEXTURE_COMPRESSION_ETC2=4,t.FEATURE_TEXTURE_FLOAT=5,t.FEATURE_TEXTURE_HALF_FLOAT=6,t.FEATURE_ORIGIN_BOTTOM_LEFT=7,t.FEATURE_ORIGIN_TOP_LEFT=8,t.FEATURE_MSAA_RENDER_TARGETS=9,t.FEATURE_PACKED_VERTEX_FORMAT_10_2=10,t.FEATURE_MULTIPLE_RENDER_TARGET=11,t.FEATURE_IMAGETYPE_3D=12,t.FEATURE_IMAGETYPE_ARRAY=13,t.FEATURE_TEXTURE_COMPRESSION_ETC1=14,t.FEATURE_TEXTURE_COMPRESSION_ASTC_8x8=15,t.FEATURE_TEXTURE_COMPRESSION_ASTC_FULL=16,t.FEATURE_SHADER_BINARY=17,t.NUM_FEATURES=18,t.RESOURCESTATE_INITIAL=0,t.RESOURCESTATE_ALLOC=1,t.RESOURCESTATE_VALID=2,t.RESOURCESTATE_FAILED=3,t.RESOURCESTATE_INVALID=4,t.USAGE_IMMUTABLE=1,t.USAGE_DYNAMIC=2,t.USAGE_STREAM=3,t.BUFFERTYPE_VERTEXBUFFER=1,t.BUFFERTYPE_INDEXBUFFER=2,t.INDEXTYPE_NONE=1,t.INDEXTYPE_UINT16=2,t.INDEXTYPE_UINT32=3,t.IMAGETYPE_2D=1,t.IMAGETYPE_CUBE=2,t.IMAGETYPE_3D=3,t.IMAGETYPE_ARRAY=4,t.CUBEFACE_POS_X=0,t.CUBEFACE_NEG_X=1,t.CUBEFACE_POS_Y=2,t.CUBEFACE_NEG_Y=3,t.CUBEFACE_POS_Z=4,t.CUBEFACE_NEG_Z=5,t.CUBEFACE_NUM=6,t.SHADERSTAGE_VS=0,t.SHADERSTAGE_FS=1,t.PIXELFORMAT_NONE=1,t.PIXELFORMAT_RGBA8=2,t.PIXELFORMAT_RGB8=3,t.PIXELFORMAT_RGBA4=4,t.PIXELFORMAT_R5G6B5=5,t.PIXELFORMAT_R5G5B5A1=6,t.PIXELFORMAT_R10G10B10A2=7,t.PIXELFORMAT_RGBA32F=8,t.PIXELFORMAT_RGBA16F=9,t.PIXELFORMAT_R32F=10,t.PIXELFORMAT_R16F=11,t.PIXELFORMAT_L8=12,t.PIXELFORMAT_DXT1=13,t.PIXELFORMAT_DXT3=14,t.PIXELFORMAT_DXT5=15,t.PIXELFORMAT_DEPTH=16,t.PIXELFORMAT_DEPTHSTENCIL=17,t.PIXELFORMAT_PVRTC2_RGB=18,t.PIXELFORMAT_PVRTC4_RGB=19,t.PIXELFORMAT_PVRTC2_RGBA=20,t.PIXELFORMAT_PVRTC4_RGBA=21,t.PIXELFORMAT_ETC2_RGB8=22,t.PIXELFORMAT_ETC2_SRGB8=23,t.PIXELFORMAT_ETC1_RGB8=24,t.PIXELFORMAT_PVR_CCZ=25,t.PIXELFORMAT_PVR_GZ=26,t.PRIMITIVETYPE_POINTS=1,t.PRIMITIVETYPE_LINES=2,t.PRIMITIVETYPE_LINE_STRIP=3,t.PRIMITIVETYPE_TRIANGLES=4,t.PRIMITIVETYPE_TRIANGLE_STRIP=5,t.FILTER_NEAREST=1,t.FILTER_LINEAR=2,t.FILTER_NEAREST_MIPMAP_NEAREST=3,t.FILTER_NEAREST_MIPMAP_LINEAR=4,t.FILTER_LINEAR_MIPMAP_NEAREST=5,t.FILTER_LINEAR_MIPMAP_LINEAR=6,t.WRAP_REPEAT=1,t.WRAP_CLAMP_TO_EDGE=2,t.WRAP_MIRRORED_REPEAT=3,t.VERTEXFORMAT_INVALID=0,t.VERTEXFORMAT_FLOAT=1,t.VERTEXFORMAT_FLOAT2=2,t.VERTEXFORMAT_FLOAT3=3,t.VERTEXFORMAT_FLOAT4=4,t.VERTEXFORMAT_BYTE4=5,t.VERTEXFORMAT_BYTE4N=6,t.VERTEXFORMAT_UBYTE4=7,t.VERTEXFORMAT_UBYTE4N=8,t.VERTEXFORMAT_SHORT2=9,t.VERTEXFORMAT_SHORT2N=10,t.VERTEXFORMAT_SHORT4=11,t.VERTEXFORMAT_SHORT4N=12,t.VERTEXFORMAT_UINT10_N2=13,t.VERTEXSTEP_PER_VERTEX=1,t.VERTEXSTEP_PER_INSTANCE=2,t.UNIFORMTYPE_INVALID=0,t.UNIFORMTYPE_FLOAT=1,t.UNIFORMTYPE_FLOAT2=2,t.UNIFORMTYPE_FLOAT3=3,t.UNIFORMTYPE_FLOAT4=4,t.UNIFORMTYPE_MAT4=5,t.CULLMODE_NONE=1,t.CULLMODE_FRONT=2,t.CULLMODE_BACK=3,t.FACEWINDING_CCW=1,t.FACEWINDING_CW=2,t.COMPAREFUNC_NEVER=1,t.COMPAREFUNC_LESS=2,t.COMPAREFUNC_EQUAL=3,t.COMPAREFUNC_LESS_EQUAL=4,t.COMPAREFUNC_GREATER=5,t.COMPAREFUNC_NOT_EQUAL=6,t.COMPAREFUNC_GREATER_EQUAL=7,t.COMPAREFUNC_ALWAYS=8,t.STENCILOP_KEEP=1,t.STENCILOP_ZERO=2,t.STENCILOP_REPLACE=3,t.STENCILOP_INCR_CLAMP=4,t.STENCILOP_DECR_CLAMP=5,t.STENCILOP_INVERT=6,t.STENCILOP_INCR_WRAP=7,t.STENCILOP_DECR_WRAP=8,t.BLENDFACTOR_ZERO=1,t.BLENDFACTOR_ONE=2,t.BLENDFACTOR_SRC_COLOR=3,t.BLENDFACTOR_ONE_MINUS_SRC_COLOR=4,t.BLENDFACTOR_SRC_ALPHA=5,t.BLENDFACTOR_ONE_MINUS_SRC_ALPHA=6,t.BLENDFACTOR_DST_COLOR=7,t.BLENDFACTOR_ONE_MINUS_DST_COLOR=8,t.BLENDFACTOR_DST_ALPHA=9,t.BLENDFACTOR_ONE_MINUS_DST_ALPHA=10,t.BLENDFACTOR_SRC_ALPHA_SATURATED=11,t.BLENDFACTOR_BLEND_COLOR=12,t.BLENDFACTOR_ONE_MINUS_BLEND_COLOR=13,t.BLENDFACTOR_BLEND_ALPHA=14,t.BLENDFACTOR_ONE_MINUS_BLEND_ALPHA=15,t.BLENDOP_ADD=1,t.BLENDOP_SUBTRACT=2,t.BLENDOP_REVERSE_SUBTRACT=3,t.COLORMASK_NONE=16,t.COLORMASK_R=1,t.COLORMASK_G=2,t.COLORMASK_B=4,t.COLORMASK_A=8,t.COLORMASK_RGB=7,t.COLORMASK_RGBA=15,t.ACTION_CLEAR=1,t.ACTION_LOAD=2,t.ACTION_DONTCARE=3,t.INVALID_ID=0,t.NUM_SHADER_STAGES=2,t.NUM_INFLIGHT_FRAMES=2,t.MAX_COLOR_ATTACHMENTS=4,t.MAX_SHADERSTAGE_BUFFERS=4,t.MAX_SHADERSTAGE_IMAGES=12,t.MAX_SHADERSTAGE_UBS=4,t.MAX_UB_MEMBERS=16,t.MAX_VERTEX_ATTRIBUTES=16,t.MAX_MIPMAPS=16,t.MAX_TEXTUREARRAY_LAYERS=128,t.UNSIGNED_BYTE=5121,t.FLOAT=5126,t.UNSIGNED_SHORT_5_6_5=33635,t.UNSIGNED_SHORT_4_4_4_4=32819,t.UNSIGNED_SHORT_5_5_5_1=32820}}(e||(e={})),NativeGlobal.buildGfx=function(t){return new e.Gfx(t)}}]);