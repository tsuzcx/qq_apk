/*! /** 2020.11.30 20:8:5  * / */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var _=t[r]={i:r,l:!1,exports:{}};return e[r].call(_.exports,_,_.exports,n),_.l=!0,_.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var _ in e)n.d(r,_,function(t){return e[t]}.bind(null,_));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=202)}({15:function(e,t,n){(function(t){var r=n(3),_=console.error,i={},o=!1,a=void 0!==t&&t.__ttObjdec__||{},c=!1;function s(e,t){if(!i[e]){var n=M(i[e],e).mod;if(n)return!0;if(r.isDevtool&&!n)return _("can't find module : ".concat(e)),o=!1,!1;o=t;try{if(null===e)return _("文件".concat(e,"为null \n")),!1;var c=a.util.loadJS(e,a.__tt__shouldPrintAll__exception?1:0)}catch(t){return o=!1,_("文件".concat(e,"加载异常(可能是es6的问题)\n"),t),!1}return o=!1,0===c?!0:(c<2e5?_("文件".concat(e,"加载失败(获取路径失败，错误码为").concat(c,")")):c<3e5?_("文件".concat(e,"加载失败(获取路径成功，加载js文件失败，错误码为").concat(c,")")):c<4e5&&_("文件".concat(e,"加载失败(js库参数错误，错误码为").concat(c,")")),!1)}return!0}function u(e,t){if(s(e,t)){var n=i[e],r=M(n,e);if(n=r.mod,e=r.path,void 0!==n){if(1===n.status){var o=n.factory,a={exports:{}},c=void 0;try{o&&(c=o(f(e),a,a.exports))}catch(t){return _("文件".concat(e,"执行出现异常\n"),t),void(n.status=3)}n.exports=a.exports||c,n.status=2}return n.exports}}}function f(e,t){var n,r=(null==(n=e.match(/(.*)\/([^\/]+)?$/))?void 0:n[1])?n[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var n=[],_="".concat(r,"/").concat(e).split("/"),i=0,o=_.length;i<o;++i){var a=_[i];if(""!=a&&"."!=a)if(".."==a){if(0==n.length)throw new Error("can't find module : ".concat(e));n.pop()}else i+1<o&&".."==_[i+1]?i++:n.push(a)}try{var c=n.join("/");return/\.js$/.test(c)||(c+=".js"),r.match(/(^|\/)miniprogram_npm\//)&&(c=e),u(c,t)}catch(e){throw e}}}var M=function(e,t){var n=t,r=e;return r||(-1!==n.indexOf(".js")&&(n=n.replace(".js","")),n="miniprogram_npm/".concat(n,"/index.js"),r=i[n]),{mod:r,path:n}},l=f("",!0);e.exports={define:function(e,t){if(!i[e]||i[e].__coverEnable__){var n={exports:{},factory:t,status:1};n.__coverEnable__=o,i[e]=n}},require:l,allModules:i,getPreload:function(e){var t,n=(null==(t=e.match(/(.*)\/([^\/]+)?$/))?void 0:t[1])?t[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var t=[],r="".concat(n,"/").concat(e).split("/"),_=0,i=r.length;_<i;++_){var o=r[_];if(""!=o&&"."!=o)if(".."==o){if(0==t.length)throw new Error("can't find module : ".concat(e));t.pop()}else _+1<i&&".."==r[_+1]?_++:t.push(o)}try{var a=t.join("/");/\.js$/.test(a)||(a+=".js"),n.match(/(^|\/)miniprogram_npm\//)&&(a=e),s(a)}catch(e){throw e}}},getRequire:f,requirePlugin:function(e){var t;if("string"!=typeof e)throw new Error("requirePlugin args must be a string.");if(!(null===(t=__wxConfig)||void 0===t?void 0:t.plugins))throw new Error("This application has not registered any plugins yet.");var n=e.match(/([^\/]*)\/?(.*)/);if(!n||n.length<2)throw new Error('Plugin "'.concat(e,'" has not registered.'));var _=n[1],o=n[2],a=__wxConfig.plugins[_];if(!a)throw new Error('Plugin "'.concat(e,'" has not registered.'));"dev"!==a.version&&r.isIOS&&_.length>0&&function(e){if(!c){f("qqNative/plugin",!0)("".concat(e,"/plugin.js"));var t=__wxConfig.plugins[e],n="plugin";if((null==t?void 0:t.provider)&&(n="__plugin__/".concat(t.provider,"/index.js")),void 0===i[n])throw new Error('Plugin "'.concat(e,'" inject fail.'));console.log('Plugin "'.concat(e,'" inject success.')),c=!0}}(_);var s="__plugin__/".concat(a.provider);o?s+="/".concat(o):/\.js$/.test(s)||(s+=".js"),u(s)}}}).call(this,n(5))},202:function(e,t,n){"undefined"!=typeof window&&(window.__tt__start__loadJSSDK=!0);var r=n(3),_=(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).__ttObjdec__||{};if(null==_.Triton){_.Triton=Triton;try{Triton=void 0}catch(e){}}if(r.isAndroid){n(24),n(42),n(40),n(8),n(41),(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).worker=_.createWorker()}else{var i,o=n(203),a=n(15);(i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self).worker=new o.Worker,i.define=a.define,i.require=a.require,i.util=new _.Triton.GlobalUtil,i.setTimeout=function(e,t){return i.util.setTimeout(e,t||0)},i.setInterval=function(e,t){return i.util.setInterval(e,t||0)},i.clearTimeout=function(e){return i.util.clearTimeout(e)},i.clearInterval=function(e){return i.util.clearInterval(e)}}"undefined"!=typeof window&&(window.__tt__success__loadJSSDK=!0)},203:function(e,t,n){var r=[],_=n(8).WeixinNativeBuffer,i="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self;function o(){this._worker=WeixinWorker}WeixinWorker.appServiceMsgHandler=function(e){var t=_.unpack(e);null!=t.__cmd__&&"requireScript"===t.__cmd__?function(e){if(null==e)throw new Error("worker 入口 undefined");e.startsWith("/")&&(e=e.substring(1)),i.require(e)}(t.__script__):r.forEach((function(e){e(t)}))},o.prototype.postMessage=function(e){try{var t=_.pack(e),n=JSON.stringify(t);this._worker.postMsgToAppService(n)}catch(e){console.error("worker->postMessage 出现异常： ".concat(e))}},o.prototype.onMessage=function(e){r.push(e)},e.exports={Worker:o}},24:function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__,r=__TT__GLOBAL__,_=n.__ttObjdec__;_.logInterface=function(e,t){try{if(t.length>0){var n=t.map((function(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(t){return e}})).join(" ");_.Triton.Script.log(e,0,n)}else _.Triton.Script.log(e,0,"no args log")}catch(e){_.Triton.Script.log(103,0,"tt.Triton.Script.logInterface error! err =".concat(e))}};var i=console.log,o=console.error,a=console.warn,c=console.debug;console.log=function(){var e=Array.prototype.slice.call(arguments);_.logInterface(101,e),i.apply(console,arguments)},console.info=console.log,console.error=function(){var e=Array.prototype.slice.call(arguments);_.logInterface(103,e),o.apply(console,arguments)},console.warn=function(){var e=Array.prototype.slice.call(arguments);_.logInterface(102,e),a.apply(console,arguments)},console.debug=function(){var e=Array.prototype.slice.call(arguments);_.logInterface(100,e),c.apply(console,arguments)},console.group=console.log,console.groupEnd=function(){},r.console=console},25:function(e,t){var n=window.newCmdBufferQueue,r={GL_COMMAND_ACTIVE_TEXTURE:0,GL_COMMAND_ATTACH_SHADER:1,GL_COMMAND_BIND_ATTRIB_LOCATION:2,GL_COMMAND_BIND_BUFFER:3,GL_COMMAND_BIND_FRAME_BUFFER:4,GL_COMMAND_BIND_RENDER_BUFFER:5,GL_COMMAND_BIND_TEXTURE:6,GL_COMMAND_BLEND_COLOR:7,GL_COMMAND_BLEND_EQUATION:8,GL_COMMAND_BLEND_EQUATION_SEPARATE:9,GL_COMMAND_BLEND_FUNC:10,GL_COMMAND_BLEND_FUNC_SEPARATE:11,GL_COMMAND_BUFFER_DATA:12,GL_COMMAND_BUFFER_SUB_DATA:13,GL_COMMAND_CHECK_FRAME_BUFFER_STATUS:14,GL_COMMAND_CLEAR:15,GL_COMMAND_CLEAR_COLOR:16,GL_COMMAND_CLEAR_DEPTH:17,GL_COMMAND_CLEAR_STENCIL:18,GL_COMMAND_COLOR_MASK:19,GL_COMMAND_COMMIT:20,GL_COMMAND_COMPILE_SHADER:21,GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:22,GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:23,GL_COMMAND_COPY_TEX_IMAGE_2D:24,GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:25,GL_COMMAND_CREATE_BUFFER:26,GL_COMMAND_CREATE_FRAME_BUFFER:27,GL_COMMAND_CREATE_PROGRAM:28,GL_COMMAND_CREATE_RENDER_BUFFER:29,GL_COMMAND_CREATE_SHADER:30,GL_COMMAND_CREATE_TEXTURE:31,GL_COMMAND_CULL_FACE:32,GL_COMMAND_DELETE_BUFFER:33,GL_COMMAND_DELETE_FRAME_BUFFER:34,GL_COMMAND_DELETE_PROGRAM:35,GL_COMMAND_DELETE_RENDER_BUFFER:36,GL_COMMAND_DELETE_SHADER:37,GL_COMMAND_DELETE_TEXTURE:38,GL_COMMAND_DEPTH_FUNC:39,GL_COMMAND_DEPTH_MASK:40,GL_COMMAND_DEPTH_RANGE:41,GL_COMMAND_DETACH_SHADER:42,GL_COMMAND_DISABLE:43,GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:44,GL_COMMAND_DRAW_ARRAYS:45,GL_COMMAND_DRAW_ELEMENTS:46,GL_COMMAND_ENABLE:47,GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:48,GL_COMMAND_FINISH:49,GL_COMMAND_FLUSH:50,GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:51,GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:52,GL_COMMAND_FRONT_FACE:53,GL_COMMAND_GENERATE_MIPMAP:54,GL_COMMAND_GET_EXTENSION:55,GL_COMMAND_GET_CONTEXT_ATTRIBUTES:56,GL_COMMAND_GET_SUPPORTED_EXTENSIONS:57,GL_COMMAND_GET_ACTIVE_ATTRIB:58,GL_COMMAND_GET_ACTIVE_UNIFORM:59,GL_COMMAND_GET_ATTACHED_SHADERS:60,GL_COMMAND_GET_ATTRIB_LOCATION:61,GL_COMMAND_GET_BUFFER_PARAMETER:62,GL_COMMAND_GET_ERROR:63,GL_COMMAND_GET_FRAME_BUFFER_ATTACHMENT_PARAMETER:64,GL_COMMAND_GET_PARAMETER:65,GL_COMMAND_GET_PROGRAM_INFO_LOG:66,GL_COMMAND_GET_PROGRAM_PARAMENTER:67,GL_COMMAND_GET_RENDER_BUFFER_PARAMETER:68,GL_COMMAND_GET_SHADER_INFO_LOG:69,GL_COMMAND_GET_SHADER_PARAMETER:70,GL_COMMAND_GET_SHADER_PRECISION_FORMAT:71,GL_COMMAND_GET_SHADER_SOURCE:72,GL_COMMAND_GET_TEX_PARAMETER:73,GL_COMMAND_GET_UNIFORM:74,GL_COMMAND_GET_UNIFORM_LOCATION:75,GL_COMMAND_GET_VERTEX_ATTRIB:76,GL_COMMAND_GET_VERTEX_ATTRIB_OFFSET:77,GL_COMMAND_READPIXELS:78,GL_COMMAND_HINT:79,GL_COMMAND_IS_BUFFER:80,GL_COMMAND_IS_ENABLED:81,GL_COMMAND_IS_FRAME_BUFFER:82,GL_COMMAND_IS_PROGRAM:83,GL_COMMAND_IS_RENDER_BUFFER:84,GL_COMMAND_IS_SHADER:85,GL_COMMAND_IS_TEXTURE:86,GL_COMMAND_IS_VERTEX_ARRAY:87,GL_COMMAND_LINE_WIDTH:88,GL_COMMAND_LINK_PROGRAM:89,GL_COMMAND_PIXEL_STOREI:90,GL_COMMAND_POLYGON_OFFSET:91,GL_COMMAND_RENDER_BUFFER_STORAGE:92,GL_COMMAND_SAMPLE_COVERAGE:93,GL_COMMAND_SCISSOR:94,GL_COMMAND_SHADER_SOURCE:95,GL_COMMAND_STENCIL_FUNC:96,GL_COMMAND_STENCIL_FUNC_SEPARATE:97,GL_COMMAND_STENCIL_MASK:98,GL_COMMAND_STENCIL_MASK_SEPARATE:99,GL_COMMAND_STENCIL_OP:100,GL_COMMAND_STENCIL_OP_SEPARATE:101,GL_COMMAND_TEX_IMAGE_2D:102,GL_COMMAND_TEX_PARAMETER_F:103,GL_COMMAND_TEX_PARAMETER_I:104,GL_COMMAND_TEX_SUB_IMAGE_2D:105,GL_COMMAND_UNIFORM_1F:106,GL_COMMAND_UNIFORM_1FV:107,GL_COMMAND_UNIFORM_1I:108,GL_COMMAND_UNIFORM_1IV:109,GL_COMMAND_UNIFORM_2F:110,GL_COMMAND_UNIFORM_2FV:111,GL_COMMAND_UNIFORM_2I:112,GL_COMMAND_UNIFORM_2IV:113,GL_COMMAND_UNIFORM_3F:114,GL_COMMAND_UNIFORM_3FV:115,GL_COMMAND_UNIFORM_3I:116,GL_COMMAND_UNIFORM_3IV:117,GL_COMMAND_UNIFORM_4F:118,GL_COMMAND_UNIFORM_4FV:119,GL_COMMAND_UNIFORM_4I:120,GL_COMMAND_UNIFORM_4IV:121,GL_COMMAND_UNIFORM_MATRIX_2FV:122,GL_COMMAND_UNIFORM_MATRIX_3FV:123,GL_COMMAND_UNIFORM_MATRIX_4FV:124,GL_COMMAND_USE_PROGRAM:125,GL_COMMAND_VALIDATE_PROGRAM:126,GL_COMMAND_VERTEX_ATTRIB_1F:127,GL_COMMAND_VERTEX_ATTRIB_1FV:128,GL_COMMAND_VERTEX_ATTRIB_2F:129,GL_COMMAND_VERTEX_ATTRIB_2FV:130,GL_COMMAND_VERTEX_ATTRIB_3F:131,GL_COMMAND_VERTEX_ATTRIB_3FV:132,GL_COMMAND_VERTEX_ATTRIB_4F:133,GL_COMMAND_VERTEX_ATTRIB_4FV:134,GL_COMMAND_VERTEX_ATTRIB_POINTER:135,GL_COMMAND_VIEW_PORT:136,GL_COMMAND_CREATE_VERTEX_ARRAY:200,GL_COMMAND_BIND_VERTEX_ARRAY:201,GL_COMMAND_DELETE_VERTEX_ARRAY:202,GL_COMMAND_DRAW_ARRAYS_INSTANCE:203,GL_COMMAND_DRAW_ELEMENTS_INSTANCE:204,GL_COMMAND_VERTEX_ATTRIB_DIVISOR:205,GL_COMMAND_BIND_VERTEX_ARRAY_OES:300,GL_COMMAND_CREATE_VERTEX_ARRAY_OES:301,GL_COMMAND_DELETE_VERTEX_ARRAY_OES:302,GL_COMMAND_IS_VERTEX_ARRAY_OES:303},_={GMD_PARAM_TYPE_QUEUE_H:1,GMD_PARAM_TYPE_COMMAND_H:2,GMD_PARAM_TYPE_ARGS:3},i={FLUSH_TYPE_END_FRAME:1,FLUSH_TYPE_OVER_BUFFER:2,FLUSH_TYPE_SYNC:3,FLUSH_TYPE_CALLER_CHANGE:4};n?(t.CmdParamType=_,t.FlushType=i):(t.WebGLCmdConstant=r,t.attachWebGLCmdConstant=function(e){for(var t in r)"function"!=typeof r[t]&&null!==r[t]&&(e[t]=r[t])},t.CmdParamType=_,t.FlushType=i)},3:function(e,t){var n="undefined"!=typeof __wxConfig?__wxConfig.platform:"undefined";e.exports.isIOS="ios"===n,e.exports.isAndroid="android"===n,e.exports.isDevtool="devtools"===n},40:function(e,t){__TT__GLOBAL__;var n,r,_=__TT__GLOBAL__;__TT__GLOBAL__;n=_.__ttObjdec__,r=[],n.createWorker=function(e){if(r.length>=1){var t=new Error("createWorker: exceed max concurrent workers limit.");return console.error(t.message),void console.error(t.stack)}var _={isTerminate:!1,listeners:[]};return _._worker=new n.Triton.Worker,_.postMessage=function(e){if(!this.isTerminate){e=WeixinNativeBuffer.pack(e);var t=JSON.stringify(e);this._worker.postMessage(t)}},_.onMessage=function(e){this.isTerminate||this.listeners.push(e)},_.terminate=function(){this.isTerminate||(this.isTerminate=!0,this._worker.terminate(),this._worker=void 0,this.listeners=[],r=r.filter((function(e){return e!==_})))},_._worker.onMessage((function(e){var t=WeixinNativeBuffer.unpack(e);_.listeners.forEach((function(e){e(t)}))})),"string"==typeof e&&_._worker.runScript(e),r.push(_),_}},41:function(e,t,n){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}__TT__GLOBAL__;var i=__TT__GLOBAL__,o=__TT__GLOBAL__.newCmdBufferQueue;!function(e){i.setTimeout=function(t,n){return n=n||0,e.Triton.MessageQueue.setTimeout(t,n)},i.clearTimeout=function(t){t&&e.Triton.MessageQueue.removeTimeout(t)},i.setInterval=function(t,n){n=n||0;var r={};return r.id=e.Triton.MessageQueue.setTimeout((function _(){r.id=e.Triton.MessageQueue.setTimeout(_,n),t()}),n),r},i.clearInterval=function(t){t&&"number"==typeof t.id&&e.Triton.MessageQueue.removeTimeout(t.id)};var t=0,n=new Map,_=new Map;i.requestAnimationFrame=function(e){if("function"==typeof e){var r=t++;return n.set(r,e),r}},i.cancelAnimationFrame=function(e){n.delete(e)},e.Triton.__processAnimateFrame__=function(e){var t=n;n=_;var i,o=r(t.values());try{for(o.s();!(i=o.n()).done;){(0,i.value)(e)}}catch(e){o.e(e)}finally{o.f()}t.clear(),_=t}}(i.__ttObjdec__),function(e){var t=n(25).FlushType,r=!1;function _(){return scriptEngineContextType&&(scriptEngineContextType==CONTEXT_TYPE_MAIN||scriptEngineContextType==CONTEXT_TYPE_OPENDATA)}wx.__tt___changeGameState__=function(e){r=!e},!o&&_()&&e.Triton.Director.init(),e.Triton.__onVSync__=function(n){r?_()&&i.q9zq.saveToFile():(_()&&i.q9zq.frameStart(),e.Triton.__processAnimateFrame__(n),o?CONTEXT_TYPE_MAIN==scriptEngineContextType&&e.RenderCmdQueue.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME):_()&&(null!=e.lastMergeCanvas&&(e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=null),e.CommandQueueV2.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME),e.CommandQueue.Instance.flushCmd()))}}(i.__ttObjdec__),function(e){function t(){return Date.now()}var n=t(),r=function(){return t()-n};i.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return e.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(e){i.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout((function(){i.timePerformanceResult("",e)}),0))},FrameProfileEnd:function(e){if(i.timePerformanceResult){this.FrameProfileRunning=!1;var t=this.getDataStr();setTimeout((function(){i.timePerformanceResult(t,e)}),0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=r(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(r()-this.frameStartTime>16?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t="".concat(this.fpIndex,"_").concat(this.funIndex,"_").concat(e);return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:r(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var n=r(),_=this.tempFrameRec[this.lastRecIndex];_.callIndex==t.s&&n-_.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:r(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var n=[],r=[],_=0;_<t.list.length;_++){if("start"==(M=t.list[_]).type)n.push(M),r.push(M);else for(;;){var i,o=n.pop();if(!o){M.disable=!0,__err("打点数据出现非预期的异常情况(只有end，没有start)");break}if(o.callIndex==M.callIndex){M.searchInfo="searchInfo: ".concat(o.key,"_").concat(M&&M.time-o.time),r.push(M);break}o.disable=!0,r.push({key:o.key,type:"end",time:null===(i=M)||void 0===i?void 0:i.time,callIndex:o.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: ".concat(o.key,"_").concat(M&&M.time-o.time,"_exception")})}}for(var a=r[r.length-1]&&r[r.length-1].time,c=n.length-1;c>=0;c--){var s=n[c];s.disable=!0,r.push({key:s.key,type:"end",time:a,callIndex:s.callIndex,addedPoint:!0})}for(var u=[],f=0;f<t.list.length;f++){var M;(M=t.list[f]).disable||u.push(M)}t.list=r}}var l=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,l}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),n="".concat(t.getSeconds(),":").concat(t.getHours(),":").concat(t.getMinutes());this.moniterFileTime=n,this.moniterFileIndex=0}var r="wxfile://usr/js_time_monitor_".concat(++this.moniterFileIndex,"_").concat(this.moniterFileTime,".json");wx.getFileSystemManager().writeFile({filePath:r,data:e,success:function(){console.log("save moniter success: ".concat(r))}})}}},e.initFrameProfile=function(){scriptEngineContextType==CONTEXT_TYPE_MAIN&&(console.log("initFrameProfile"),wx.registerProfile((function(e){if(console.log("FrameProfile onMessage:",e),e){var t=e.cmd,n=e.id;"start"===t?i.q9zq.FrameProfileStart(n):"end"===t&&i.q9zq.FrameProfileEnd(n)}})))}}(i.__ttObjdec__)},42:function(e,t){var n=__TT__GLOBAL__;!function(e){var t={};function r(n){t[n]||e.Triton.Script.loadJS(n)}function _(e){var t=e.match(/(.*)\/([^\/]+)?$/);return(null==t?void 0:t[1])?t[1]:"./"}function i(e,t){if("string"!=typeof t)throw new Error("require args must be a string");for(var n=[],r="".concat(e,"/").concat(t).split("/"),_=0,i=r.length;_<i;++_){var o=r[_];if(""!==o&&"."!==o)if(".."===o){if(0===n.length)throw new Error("can't find module : ".concat(t));n.pop()}else _+1<i&&".."===r[_+1]?_++:n.push(o)}var a=n.join("/");return/\.js$/.test(a)||(a+=".js"),e.match(/(^|\/)miniprogram_npm\//)&&(a=t),a}function o(e,t){if(1===e.status){var n,r=e.factory,_={exports:{}};r&&(n=r(t,_,_.exports)),e.exports=_.exports||n,e.status=2}}function a(e){var n=_(e);return function(e){return function(e){var n=t[e];if(!n){var _=M(n,e);n=_.mod,e=_.path}return r(e),o(n,a(e)),n.exports}(i(n,e))}}var c={},s={};function u(e){var t=s[e];if(void 0===t)throw new Error("can't find plugin ".concat(e));return"__plugin__/".concat(t)}var f,M=function(e,n){var r=n,_=e;return _||(-1!==r.indexOf(".js")&&(r=r.replace(".js","")),r="miniprogram_npm/".concat(r,"/index.js"),_=t[r]),{mod:_,path:r}};n.__tt__allModules=t,n.define=function(e,n){t[e]||(t[e]={exports:{},factory:n,status:1})},n.definePlugin=function(e,t,n){s[e]=t,n((function(e,t){c[e]||(c[e]={exports:{},factory:t,status:1})}))},n.require=a(""),n.requirePlugin=function(t){var n=t.match(/([^\/]+)(\/(.*))?/);if(n){var r=n[1],a=n[3];!function(t){s[t]||e.Triton.Script.loadPlugin(t)}(r);var f=function e(t,n){return function(r){var a;if(void 0!==r){if(!(a=i(_(n),r)).startsWith("".concat(u(t),"/")))throw new Error("invalid plugin file ".concat(t,"/").concat(r))}else{if(n!==u(t))throw new Error("require args must be a string");a="".concat(u(t),".js")}var s=c[a];if(void 0===s)throw r?new Error("can't find plugin file ".concat(t," ").concat(r)):new Error("can't find plugin ".concat(t));return o(s,e(t,a)),s.exports}}(r,u(r));f(void 0===a?void 0:"".concat(s[r],"/").concat(a))}},n.__tt__preloadjs=(f=_(""),function(e){r(i(f,e))})}(n.__ttObjdec__)},5:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},8:function(e,t){var n="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self,r=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,r=e.setNativeBuffer,_=(e.getNativeBuffer,e.__wxConfig||{}),i=!1,o=e.WeixinNativeBuffer,a=(e.getNativeBufferId,e.setNativeBuffer,e.getNativeBuffer);e.__wxConfig;i="android"===_.platform||"ios"===_.platform&&null!=t&&_.nativeBufferEnabled;var c=function(e){var _={};return i?_.id=function(e){var _=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof r&&(i=n(),r(i,e)),e.__proto__=_,i}(e):_.base64=M(e),_},s=function(e){if(e)if(i&&null!=e.id){if(i)return o.get(e.id);if("function"==typeof a)return a(e.id)}else if(e.base64)return l(e.base64)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=f||function(e){for(var t,n,r=String(e),_="",i=0,o=u;r.charAt(0|i)||(o="=",i%1);_+=o.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return _},M=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,_=0;_<r;_++)t+=String.fromCharCode(n[_]);return f(t)},l=function(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,_,i=0,o=0;_=t.charAt(o++);~_&&(r=i%4?64*r+_:_,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)_=u.indexOf(_);return n}(e),n=t.length,r=new Uint8Array(n),_=0;_<n;_++)r[_]=t.charCodeAt(_);return r.buffer},A=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:c,get:s,useCompatibleMode:function(e){null==t||t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var n in e){var r=e[n];void 0!==r&&"ArrayBuffer"===A(r)&&void 0!==r.byteLength&&((i=c(r)).key=n,t.push(i))}if(0<t.length){for(var _=0;_<t.length;_++){var i;delete e[(i=t[_]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var r=t[n];if(null!=r){var _=s(r);void 0!==_&&"ArrayBuffer"===A(_)&&(e[r.key]=_)}}return e}}}(n);n.WeixinNativeBuffer=r,r=null,e.exports={WeixinNativeBuffer:n.WeixinNativeBuffer}}});