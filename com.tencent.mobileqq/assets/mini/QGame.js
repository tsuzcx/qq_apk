/*! /** 2020.11.30 20:8:5  * / */!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=92)}([function(e,t,n){function r(e){var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}e.exports=n(4),e.exports.parameterMustBe=function(e,t){return r(e)===t},e.exports.getTypeStr=r,e.exports.parameterMustString=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter";if(t=t||"","string"!=typeof e)throw new Error("".concat(t,":fail parameter error: ").concat(n," should be String instead of ").concat(r(e),";"));return e},e.exports.parameterMustNumber=function(e,t){if(t=t||"","Number"!=typeof e)throw new Error("".concat(t,":fail parameter error: parameter should be Number instead of ").concat(r(e),";"));return e},e.exports.failCallback=function(e,t,n){if(void 0!==t){var r="".concat(e,":fail ").concat(n);"function"==typeof t.fail&&t.fail({errMsg:r}),"function"==typeof t.complete&&t.complete({errMsg:r})}}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){(function(t){var r,o=n(1),i=n(8).WeixinNativeBuffer,a=n(11),s=function(){return n(7)},c=1,u={},f={},l={},p=void 0;function m(){return r?r(c++):c++}function d(e,t){if(!t||0===t.length)return!0;if(1===t.length&&0===t[0])return!0;if(!e||0===e.length)return!1;for(var n=0;n<e.length;n++)for(var r=0;r<t.length;r++)if(e[n]===t[r])return!0;return!1}function h(e,t){e&&(""===e.errMsg||!e.errMsg||e.errMsg.indexOf(":ok")>-1)&&(e.errMsg="".concat(t,":ok"))}function _(e,t,n){if(e){n=n||{};var r=t;if("object"===o(t))try{var c=i.pack(t);null==c&&(c={}),t=JSON.stringify(c)}catch(e){console.error("函数打包序列化异常：",e)}if("undefined"!=typeof WeixinJSCore||"undefined"!=typeof QQJSCore||"undefined"!=typeof webkit){if(n.isInvoke||!n.isInvoke&&!n.isPublish){var f=Date.now(),l=m();if(function(e,t,r){u[l]=function(o){if(n.context&&!a.isSyncConfigByWXName[n.context.__APIName__])try{"string"==typeof o&&h(o=i.unpack(JSON.parse(o)),e)}catch(e){console.error("异步回调解包异常：",e)}else try{h(o=JSON.parse(o),e)}catch(e){}if(n.invokeAfter&&(o||(console.warn("".concat(e," invokeAfter with null result on invokeHandlerMap[").concat(l,"]")),s()._reportDataToDC04239({timestamp:Date.now(),actionType:"api-report",sub_actiontype:"invoke-after-result-is-null",reserves2:"".concat(e," invokeAfter with null result when async")})),o=n.invokeAfter(o,t,!1,n.context)),o)if("function"==typeof r)r(o);else{var c,u,p;if(!o.errMsg||""===o.errMsg||o.errMsg&&o.errMsg.indexOf(":ok")>-1)null==t||null===(p=t.success)||void 0===p||p.call(t,o),u="ok";else if(o.errMsg&&o.errMsg.indexOf(":cancel")>-1){var m;null==t||null===(m=t.cancel)||void 0===m||m.call(t,o),u="cancel"}else{var d;null==t||null===(d=t.fail)||void 0===d||d.call(t,o),u="fail"}null==t||null===(c=t.complete)||void 0===c||c.call(t,o);var v=Date.now();if("api_report"===e)return;_("api_report",{api:e,ret:u,errMsg:o.errMsg,callStartTime:f,callEndTime:v,type:"game"})}}}(e,r,n.callback),n.invokeBefore&&(y=n.invokeBefore(e,t,l,n.context,r)))return y;if((p.QQJSCore||p.WeixinJSCore||{}).invokeHandler?y=(p.QQJSCore||p.WeixinJSCore).invokeHandler(e,t,l):"undefined"!=typeof webkit&&webkit.messageHandlers&&webkit.messageHandlers.publishHandler&&webkit.messageHandlers.publishHandler.postMessage&&(y=webkit.messageHandlers.invokeHandler.postMessage({eventName:e,param:t,_callbackId:l})),n.context&&a.isSyncConfigByWXName[n.context.__APIName__])try{"string"==typeof y&&h(y=i.unpack(JSON.parse(y)),e)}catch(e){console.error("同步接口返回解包异常：",e)}else if("string"==typeof y)try{h(y=JSON.parse(y),e)}catch(e){}if(n.invokeAfter)try{y=n.invokeAfter(y,r,!0,n.context)}catch(t){if(y)throw t;var d="";(null==t?void 0:t.message)?d=t.message:"string"==typeof t&&(d=t),console.warn("".concat(e," invokeAfter with null result when sync obj.isInvoke || (!obj.isInvoke && !obj.isPublish): ").concat(d)),s()._reportDataToDC04239({timestamp:Date.now(),actionType:"api-report",sub_actiontype:"invoke-after-result-is-null",reserves2:"".concat(e," invokeAfter with null result when sync obj.isInvoke || (!obj.isInvoke && !obj.isPublish): ").concat(d)})}return y}if(n.isPublish){l=m();if(n.invokeBefore&&(y=n.invokeBefore(e,t,l,n.context,r)))return y;var v="";n.contextIDs&&Array.isArray(n.contextIDs)&&(v="[".concat(n.contextIDs.join(","),"]"));var y=(p.QQJSCore||p.WeixinJSCore).publishHandler(e,t,v);try{"string"==typeof y&&(y=JSON.parse(y))}catch(e){console.log("接口返回反序列化异常：",e)}if(n.invokeAfter)try{y=n.invokeAfter(y,r,!0,n.context)}catch(t){if(y)throw t;d="";(null==t?void 0:t.message)?d=t.message:"string"==typeof t&&(d=t),console.warn("".concat(e," invokeAfter with null result when sync obj.isPublish: ").concat(d)),s()._reportDataToDC04239({timestamp:Date.now(),actionType:"api-report",sub_actiontype:"invoke-after-result-is-null",reserves2:"".concat(e," invokeAfter with null result when sync obj.isPublish: ").concat(d)})}return y}}}}function v(e,t){if(t){if(Array.isArray(f[e]))for(var n=f[e],r=n.length-1;r>-1;r--){var o,i;(null===(o=n[r]._params)||void 0===o?void 0:o.bindAPIName)!==t&&(null===(i=n[r]._params)||void 0===i?void 0:i.bindAPIName)||n.splice(r,1)}}else f[e]=[]}function y(e,t,n){var r,o=e._params;null==n||n.callback(o.context||n.context||{},t,e.callback),(null==o||null===(r=o.triggerEventBefore)||void 0===r?void 0:r.call(o,o.context||{},t,e.callback))||((null==o?void 0:o.paramHandlers)&&(t=o.paramHandlers(t,o.context)),e.callback&&e.callback(t))}void 0!==t&&t.window?p=t.window:"undefined"!=typeof __TT__GLOBAL__&&__TT__GLOBAL__.window&&(p=__TT__GLOBAL__.window),e.exports={invokeHandler:_,publishHandler:function(e,t,n){_(e,t,{contextIDs:n,isPublish:!0})},invokeCallbackHandler:function(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var n=i.unpack(t);"function"==typeof u[e]&&(u[e](n),delete u[e])},addEventListener:function(e,t,n,r){Array.isArray(f[e])?f[e].push({callback:t,contextIDs:n,_params:r}):f[e]=[{callback:t,contextIDs:n,_params:r}]},removeEventListener:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Array.isArray(f[e]))for(var o=f[e],i=o.length-1;i>-1;i--){var a;if(t)o[i].callback===t&&o.splice(i,1);else if(n)(null===(a=o[i]._params)||void 0===a?void 0:a.context)===n&&(r.bindAPIName&&o[i]._params.bindAPIName?r.bindAPIName===o[i]._params.bindAPIName&&o.splice(i,1):o.splice(i,1));else v(e,r.bindAPIName)}},removeAllEventListener:v,subscribeHandler:function(e,t,n){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var r=i.unpack(t);if(Array.isArray(f[e])&&f[e].length>0)for(var o=0;o<f[e].length;o++)"number"==typeof n?n=[n]:"string"==typeof n&&(n=[+n]),Array.isArray(n)?d(f[e][o].contextIDs,n)&&y(f[e][o],r,l[e]):y(f[e][o],r,l[e]);else l[e]&&l[e].callback(l[e].context,r,void 0)},addGetCallbackIdHook:function(e){"function"==typeof e&&(r=e)},addStaticEventListener:function(e,t,n){e&&t&&(l[e]={callback:t,context:n})}}}).call(this,n(5))},function(e,t){var n="undefined"!=typeof __wxConfig?__wxConfig.platform:"undefined";e.exports.isIOS="ios"===n,e.exports.isAndroid="android"===n,e.exports.isDevtool="devtools"===n},function(e,t){window.__normalAPIMap=window.__normalAPIMap||{},window.__bindAPIMap=window.__bindAPIMap||{},window.__canIUseConfig=window.__canIUseConfig||{};var n=window,r=n.__normalAPIMap,o=n.__bindAPIMap,i=n.__canIUseConfig;function a(e,t){i[e]=t}function s(e){return o[e]}function c(e){return r[e]}e.exports={normalAPIMutations:function(e){var t=[];"string"==typeof e?t=[e]:Array.isArray(e)?t=e:t.push(e),t.forEach((function(e){"string"==typeof e?r[e]={toNativeEventName:e}:Object.keys(e).forEach((function(t){"string"==typeof e[t]?r[t]={toNativeEventName:e[t]}:(r[t]=e[t],e[t].canIUse&&a(t,e[t].canIUse))}))}))},bindAPIMutations:function(e){var t=[];Array.isArray(e)?t=e:t.push(e),t.forEach((function(e){e.bindAPIName&&(o[e.bindAPIName]=e,e.canIUse&&(a(e.bindAPIName,e.canIUse),e.offAPIName&&(e.offAPICanIUse?a(e.offAPIName,e.offAPICanIUse):a(e.offAPIName,{"1.0.0":{}}))))}))},getNormalAPIConfigs:function(){return Object.keys(r).map((function(e){return{[e]:c(e)}}))},getBindAPIConfigs:function(){return Object.keys(o).map((function(e){return s(e)}))},getNormalAPIConfigByName:c,getBindAPIConfigByName:s,getCanIUseConfig:function(){return i},addCanIUseConfig:a,checkParam:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter",o="",i=Object.prototype.toString.call(t).slice(8,-1),a=Object.prototype.toString.call(n).slice(8,-1);if(i!==a)return o="".concat(r," should be ").concat(a,", not ").concat(i,";");switch(a){case"Object":Object.keys(n).filter((function(e){return t.hasOwnProperty(e)})).forEach((function(i){o="".concat(o).concat(e(t[i],n[i],"".concat(r,".").concat(i)))}));break;case"Array":for(var s=Math.min(t.length,n.length),c=0;c<s;++c)o="".concat(o).concat(e(t[c],n[c],"".concat(r,"[").concat(c,"]")))}return o}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){var r=n(1),o="undefined"!=typeof window&&window.WeixinJSBridge||n(2),i=n(11);function a(e,t,n,i){var a={};e.createObjectBefore&&e.createObjectBefore(i,t,n,a);var s=e.bindEventAPI,f=e.normalAPI,l=e.propertys;return a=Object.assign(function e(t,n,i){if(!t)return{};i=i||{},n=n||{};for(var a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)i[s]=void 0;else if("object"===r(s)){var c=s.name;if(c){var u=s.value;"function"==typeof u&&(u=u());var f=s.writable;void 0===f&&(f=!0),s.propertys&&(u={},e(s.propertys,n,u)),function(e,t){!1===t.writable?Object.defineProperty(e,t.name,{value:t.value,writable:!1}):(t.context=t.context||{},t.context.dataCache=t.context.dataCache||{},t.context.dataCache[t.name]=t.value,Object.defineProperty(e,t.name,{get:function(){if(t.getInvoke){var n=t.getInvoke(t.context.dataCache[t.name],t.context,e);if(n)return o.invokeHandler(n.eventName,n.params,{isInvoke:!0,invokeBefore:n.invokeBefore,invokeAfter:n.invokeAfter,context:t.context})}return t.get?t.get(t.context.dataCache[t.name],t.context,e):t.context.dataCache[t.name]},set:function(n){if(t.set?t.context.dataCache[t.name]=t.set(n,t.context,e):t.context.dataCache[t.name]=n,t.setInvoke){var r=t.setInvoke(t.context.dataCache[t.name],t.context,e);r&&o.invokeHandler(r.eventName,r.params,{isInvoke:!0,invokeBefore:r.invokeBefore,invokeAfter:r.invokeAfter,context:t.context})}}}))}(i,{name:c,value:u,writable:f,get:s.get,set:s.set,setInvoke:s.setInvoke,getInvoke:s.getInvoke,context:n})}}}return i}(l,i),c(f,i),u(s,i),a),e.createObjectAfter&&(a=e.createObjectAfter(i,t,n,a)||a),a}function s(e,n){var s=function(){var t=e.createObj;if((null==t?void 0:t.singleton)&&t._signletonObjCache)return t._signletonObjCache;var s,c=arguments,u={},f=e.context||{};if(f.__APIName__=n,"string"==typeof e?f.toNativeEventName=e:"object"===r(e)&&(f.toNativeEventName=e.eventName||e.toNativeEventName,s=e.paramHandlers),"function"==typeof s)try{u=s(c,f)}catch(e){if(console.error(e.message),i.isSyncConfigByWXName[n])throw e;return c[0]&&"object"===r(c[0])&&c[0].fail&&"function"==typeof c[0].fail&&c[0].fail({errMsg:e.message}),void(c[0]&&"object"===r(c[0])&&c[0].complete&&"function"==typeof c[0].complete&&c[0].complete({errMsg:e.message}))}else 1===c.length&&"object"===r(c[0])&&(u=c[0]);e.invokeType=e.invokeType||"invoke";var l,p={invokeBefore:e.invokeBefore,invokeAfter:e.invokeAfter,context:f},m=f.toNativeEventName;if("publish"===e.invokeType?(p.isPublish=!0,p.contextIDs=e.contextIDs):"invoke"===e.invokeType&&(p.isInvoke=!0),f.tempParams&&(f.tempParams.toNativeEventName&&(m=f.tempParams.toNativeEventName),f.tempParams.invokeObj&&Object.assign(p,f.tempParams.invokeObj),delete f.tempParams),l=e.noNativeAPI&&"function"==typeof e.handler?e.handler.apply(f,c):o.invokeHandler(m,u,p),e.subscribeEventListener&&e.subscribeEventListener.subscribeEventName){var d=e.subscribeEventListener,h=function e(t){d.callback&&d.callback(c,t,f)&&o.removeEventListener(d.subscribeEventName,e,f)};o.addEventListener(d.subscribeEventName,h,d.contextIDs,{triggerEventBefore:d.triggerEventBefore,context:f,paramHandlers:d.paramHandlers})}if(t){var _=a(t,u,l,f);return t.singleton&&(t._signletonObjCache=_),_}return l};if(1!=e.private)return s;t.__ttObjdec__.privateApi&&(t.__ttObjdec__.privateApi[n]=s)}function c(e,t){var n={},o=e;if(o)for(var i=0;i<o.length;i++){var a=o[i];if("string"==typeof a)n[a]=s(a,a);else if("object"===r(a))for(var c in a)"string"==typeof a[c]?n[c]=s(a[c],c):"object"===r(a[c])&&(n[c]=s(Object.assign({},{context:t},a[c]),c))}return n}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=e;if(r)for(var i=0;i<r.length;i++){var a=r[i];a.bindAPIName&&a.toNativeEventName&&function(e){var r=e.triggerEventBefore,i=e.paramHandlers;n[e.bindAPIName]=function(){e.removePreviousListeners&&o.removeEventListener(e.toNativeEventName,null,t),e.onBeforeBind&&e.onBeforeBind(),o.addEventListener(e.toNativeEventName,arguments[0],e.contextIDs,{triggerEventBefore:r,context:t,paramHandlers:i,bindAPIName:e.bindAPIName})},e.staticCallback&&o.addStaticEventListener(e.toNativeEventName,e.staticCallback,t),e.offAPIName&&(n[e.offAPIName]=function(){o.removeEventListener(e.toNativeEventName,arguments[0],t,{bindAPIName:e.bindAPIName})})}(a)}return n}e.exports={normalAPIFactory:c,bindEventAPIFactory:u}}).call(this,n(5))},function(e,t,n){n(0);var r=n(6).normalAPIFactory([{_reportDataToDC:{toNativeEventName:"reportDataToDC"}}]);r._reportDataToDC04239=function(e){var t={tableName:"dc04239"};t.args=e,r._reportDataToDC(t)},r._reportDataToDC04682=function(e){var t={tableName:"dc04682"};t.args=e,r._reportDataToDC(t)},r._reportAPICallToDC04239=function(e){e&&r._reportDataToDC04239({actiontype:"inner-app",sub_actiontype:"from_api",reserves_action:e})},r._reportAPICall=function(e,t){var n=(t||{}).rate||1;Math.random()>n||(e.timestamp=Date.now(),e.actiontype="api-call",e.sub_actiontype=e.apiname,e.reserves_action=e.param,e.reserves2=e.param2,e.reserves3="game",delete e.apiname,delete e.param,delete e.param2,r._reportDataToDC04239(e))},e.exports=r},function(e,t){var n="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self,r=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,r=e.setNativeBuffer,o=(e.getNativeBuffer,e.__wxConfig||{}),i=!1,a=e.WeixinNativeBuffer,s=(e.getNativeBufferId,e.setNativeBuffer,e.getNativeBuffer);e.__wxConfig;i="android"===o.platform||"ios"===o.platform&&null!=t&&o.nativeBufferEnabled;var c=function(e){var o={};return i?o.id=function(e){var o=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof r&&(i=n(),r(i,e)),e.__proto__=o,i}(e):o.base64=p(e),o},u=function(e){if(e)if(i&&null!=e.id){if(i)return a.get(e.id);if("function"==typeof s)return s(e.id)}else if(e.base64)return m(e.base64)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=l||function(e){for(var t,n,r=String(e),o="",i=0,a=f;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return o},p=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return l(t)},m=function(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=f.indexOf(o);return n}(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},d=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:c,get:u,useCompatibleMode:function(e){null==t||t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var n in e){var r=e[n];void 0!==r&&"ArrayBuffer"===d(r)&&void 0!==r.byteLength&&((i=c(r)).key=n,t.push(i))}if(0<t.length){for(var o=0;o<t.length;o++){var i;delete e[(i=t[o]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var r=t[n];if(null!=r){var o=u(r);void 0!==o&&"ArrayBuffer"===d(o)&&(e[r.key]=o)}}return e}}}(n);n.WeixinNativeBuffer=r,r=null,e.exports={WeixinNativeBuffer:n.WeixinNativeBuffer}},,,function(e,t){e.exports={isSyncConfigByWXName:{getSystemInfoSync:!0,getLaunchOptionsSync:!0,setStorageSync:!0,removeStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,clearStorageSync:!0,accessSync:!0,appendFileSync:!0,copyFileSync:!0,mkdirSync:!0,readdirSync:!0,readFileSync:!0,renameSync:!0,rmdirSync:!0,saveFileSync:!0,statSync:!0,unlinkSync:!0,writeFileSync:!0,getAccountInfoSync:!0,getBatteryInfoSync:!0,getExtConfigSync:!0,bindUDPSocket:!0},isSyncConfig:{getBatteryInfoSync:!0,getSystemInfoSync:!0,getLaunchOptionsSync:!0,toTempFilePathSync:!0,accessSync:!0,fs_copyFileSync:!0,fs_appendFileSync:!0,mkdirSync:!0,readdirSync:!0,readFileSync:!0,fs_renameSync:!0,rmdirSync:!0,saveFileSync:!0,statSync:!0,unlinkSync:!0,writeFileSync:!0,setStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,removeStorageSync:!0,createDownloadTask:!0,createRequestTask:!0,createAudioInstance:!0,getMenuButtonBoundingClientRect:!0,createLoadSubPackageTask:!0,getAudioState:!0,createUploadTask:!0,bindUDPSocket:!0},ex:{getBatteryInfo:!0},touch:{touchstart:"TouchStart",touchmove:"TouchMove",touchcancel:"TouchCancel",touchend:"TouchEnd"},touchList:["touchstart","touchmove","touchcancel","touchend"],canvasLimit:["height","width","offsetHeight","offsetWidth","offsetLeft","offsetTop"]}},function(e,t,n){e.exports=n(172)},,,function(e,t,n){(function(t){var r=n(3),o=console.error,i={},a=!1,s=void 0!==t&&t.__ttObjdec__||{},c=!1;function u(e,t){if(!i[e]){var n=p(i[e],e).mod;if(n)return!0;if(r.isDevtool&&!n)return o("can't find module : ".concat(e)),a=!1,!1;a=t;try{if(null===e)return o("文件".concat(e,"为null \n")),!1;var c=s.util.loadJS(e,s.__tt__shouldPrintAll__exception?1:0)}catch(t){return a=!1,o("文件".concat(e,"加载异常(可能是es6的问题)\n"),t),!1}return a=!1,0===c?!0:(c<2e5?o("文件".concat(e,"加载失败(获取路径失败，错误码为").concat(c,")")):c<3e5?o("文件".concat(e,"加载失败(获取路径成功，加载js文件失败，错误码为").concat(c,")")):c<4e5&&o("文件".concat(e,"加载失败(js库参数错误，错误码为").concat(c,")")),!1)}return!0}function f(e,t){if(u(e,t)){var n=i[e],r=p(n,e);if(n=r.mod,e=r.path,void 0!==n){if(1===n.status){var a=n.factory,s={exports:{}},c=void 0;try{a&&(c=a(l(e),s,s.exports))}catch(t){return o("文件".concat(e,"执行出现异常\n"),t),void(n.status=3)}n.exports=s.exports||c,n.status=2}return n.exports}}}function l(e,t){var n,r=(null==(n=e.match(/(.*)\/([^\/]+)?$/))?void 0:n[1])?n[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var n=[],o="".concat(r,"/").concat(e).split("/"),i=0,a=o.length;i<a;++i){var s=o[i];if(""!=s&&"."!=s)if(".."==s){if(0==n.length)throw new Error("can't find module : ".concat(e));n.pop()}else i+1<a&&".."==o[i+1]?i++:n.push(s)}try{var c=n.join("/");return/\.js$/.test(c)||(c+=".js"),r.match(/(^|\/)miniprogram_npm\//)&&(c=e),f(c,t)}catch(e){throw e}}}var p=function(e,t){var n=t,r=e;return r||(-1!==n.indexOf(".js")&&(n=n.replace(".js","")),n="miniprogram_npm/".concat(n,"/index.js"),r=i[n]),{mod:r,path:n}},m=l("",!0);e.exports={define:function(e,t){if(!i[e]||i[e].__coverEnable__){var n={exports:{},factory:t,status:1};n.__coverEnable__=a,i[e]=n}},require:m,allModules:i,getPreload:function(e){var t,n=(null==(t=e.match(/(.*)\/([^\/]+)?$/))?void 0:t[1])?t[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var t=[],r="".concat(n,"/").concat(e).split("/"),o=0,i=r.length;o<i;++o){var a=r[o];if(""!=a&&"."!=a)if(".."==a){if(0==t.length)throw new Error("can't find module : ".concat(e));t.pop()}else o+1<i&&".."==r[o+1]?o++:t.push(a)}try{var s=t.join("/");/\.js$/.test(s)||(s+=".js"),n.match(/(^|\/)miniprogram_npm\//)&&(s=e),u(s)}catch(e){throw e}}},getRequire:l,requirePlugin:function(e){var t;if("string"!=typeof e)throw new Error("requirePlugin args must be a string.");if(!(null===(t=__wxConfig)||void 0===t?void 0:t.plugins))throw new Error("This application has not registered any plugins yet.");var n=e.match(/([^\/]*)\/?(.*)/);if(!n||n.length<2)throw new Error('Plugin "'.concat(e,'" has not registered.'));var o=n[1],a=n[2],s=__wxConfig.plugins[o];if(!s)throw new Error('Plugin "'.concat(e,'" has not registered.'));"dev"!==s.version&&r.isIOS&&o.length>0&&function(e){if(!c){l("qqNative/plugin",!0)("".concat(e,"/plugin.js"));var t=__wxConfig.plugins[e],n="plugin";if((null==t?void 0:t.provider)&&(n="__plugin__/".concat(t.provider,"/index.js")),void 0===i[n])throw new Error('Plugin "'.concat(e,'" inject fail.'));console.log('Plugin "'.concat(e,'" inject success.')),c=!0}}(o);var u="__plugin__/".concat(s.provider);a?u+="/".concat(a):/\.js$/.test(u)||(u+=".js"),f(u)}}}).call(this,n(5))},function(e,t){function n(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function s(e){n(a,o,i,s,c,"next",e)}function c(e){n(a,o,i,s,c,"throw",e)}s(void 0)}))}}},function(e,t,n){var r=n(53),o=n(141),i=n(35),a=n(54);e.exports=function(e,t){return r(e)||o(e,t)||i(e,t)||a()}},function(e,t){var n=__TT__GLOBAL__.newCmdBufferQueue;function r(e){return"number"==typeof e}t.wrap=function(e){var t={};return t.__objID=e,t.id=e,t},t.unwrap=function(e){return null==e?0:r(e)?e:null==e.__objID?(console.log("JS ERROR: unwrap jsObj failed because of undefine ID"),0):e.__objID},t.isNumber=r,t.isNumberOrBool=function(e){return"number"==typeof e||"boolean"==typeof e},t.getBufferData=function(e){return(r(e)||"string"==typeof e)&&(e=Number(e)),e instanceof Array&&1==e.length&&(e=Number(e[0])),e},t.getFloat32Array=function(e){return n?e&&Array===e.constructor?new Float32Array(e):e:new Float32Array(e)},t.getInt32Array=function(e){return n?e&&Array===e.constructor?new Int32Array(e):e:new Int32Array(e)}},,,function(e,t,n){t.ANGLEInstancedArrays=function e(t){this.gl=t,this.originFunc={drawArraysInstanced:t.drawArraysInstanced,drawElementsInstanced:t.drawElementsInstanced,vertexAttribDivisor:t.vertexAttribDivisor},e.prototype.drawArraysInstancedANGLE=function(e,t,n,r){return this.originFunc.drawArraysInstanced.call(this.gl,e,t,n,r)},e.prototype.drawElementsInstancedANGLE=function(e,t,n,r,o){return this.originFunc.drawElementsInstanced.call(this.gl,e,t,n,r,o)},e.prototype.vertexAttribDivisorANGLE=function(e,t){return this.originFunc.vertexAttribDivisor.call(this.gl,e,t)},e.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=t.VERTEX_ATTRIB_ARRAY_DIVISOR},t.VertexArrayObject=function e(t){this.gl=t,this.originFunc={bindVertexArray:t.bindVertexArray,createVertexArray:t.createVertexArray,deleteVertexArray:t.deleteVertexArray,isVertexArray:t.isVertexArray},e.prototype.bindVertexArrayOES=function(e){return this.originFunc.bindVertexArray.call(this.gl,e)},e.prototype.createVertexArrayOES=function(){return this.originFunc.createVertexArray.call(this.gl)},e.prototype.deleteVertexArrayOES=function(e){return this.originFunc.deleteVertexArray.call(this.gl,e)},e.prototype.isVertexArrayOES=function(e){return this.originFunc.isVertexArray.call(this.gl,e)},e.prototype.VERTEX_ARRAY_BINDING_OES=t.VERTEX_ARRAY_BINDING},t.OESVertexArrayObject=function e(t){this.__nativeExtensionObj=t;var r=n(18);e.prototype.bindVertexArrayOES=function(e){null!=e&&r.isNumber(e._id)?this.__nativeExtensionObj.bindVertexArrayOES(e._id):this.__nativeExtensionObj.bindVertexArrayOES(0)},e.prototype.createVertexArrayOES=function(){return this.__nativeExtensionObj.createVertexArrayOES()},e.prototype.deleteVertexArrayOES=function(e){if(null==e||!r.isNumber(e._id))return;this.__nativeExtensionObj.deleteVertexArrayOES(e._id)},e.prototype.isVertexArrayOES=function(e){return!(null==e||!r.isNumber(e._id))&&this.__nativeExtensionObj.isVertexArrayOES(e._id)}}},function(e,t){t.attachWebGlConstant=function(e){e.prototype.DEPTH_BUFFER_BIT=256,e.prototype.STENCIL_BUFFER_BIT=1024,e.prototype.COLOR_BUFFER_BIT=16384,e.prototype.POINTS=0,e.prototype.LINES=1,e.prototype.LINE_LOOP=2,e.prototype.LINE_STRIP=3,e.prototype.TRIANGLES=4,e.prototype.TRIANGLE_STRIP=5,e.prototype.TRIANGLE_FAN=6,e.prototype.ZERO=0,e.prototype.ONE=1,e.prototype.SRC_COLOR=768,e.prototype.ONE_MINUS_SRC_COLOR=769,e.prototype.SRC_ALPHA=770,e.prototype.ONE_MINUS_SRC_ALPHA=771,e.prototype.DST_ALPHA=772,e.prototype.ONE_MINUS_DST_ALPHA=773,e.prototype.DST_COLOR=774,e.prototype.ONE_MINUS_DST_COLOR=775,e.prototype.SRC_ALPHA_SATURATE=776,e.prototype.FUNC_ADD=32774,e.prototype.BLEND_EQUATION=32777,e.prototype.BLEND_EQUATION_RGB=32777,e.prototype.BLEND_EQUATION_ALPHA=34877,e.prototype.FUNC_SUBTRACT=32778,e.prototype.FUNC_REVERSE_SUBTRACT=32779,e.prototype.BLEND_DST_RGB=32968,e.prototype.BLEND_SRC_RGB=32969,e.prototype.BLEND_DST_ALPHA=32970,e.prototype.BLEND_SRC_ALPHA=32971,e.prototype.CONSTANT_COLOR=32769,e.prototype.ONE_MINUS_CONSTANT_COLOR=32770,e.prototype.CONSTANT_ALPHA=32771,e.prototype.ONE_MINUS_CONSTANT_ALPHA=32772,e.prototype.BLEND_COLOR=32773,e.prototype.ARRAY_BUFFER=34962,e.prototype.ELEMENT_ARRAY_BUFFER=34963,e.prototype.ARRAY_BUFFER_BINDING=34964,e.prototype.ELEMENT_ARRAY_BUFFER_BINDING=34965,e.prototype.STREAM_DRAW=35040,e.prototype.STATIC_DRAW=35044,e.prototype.DYNAMIC_DRAW=35048,e.prototype.BUFFER_SIZE=34660,e.prototype.BUFFER_USAGE=34661,e.prototype.CURRENT_VERTEX_ATTRIB=34342,e.prototype.FRONT=1028,e.prototype.BACK=1029,e.prototype.FRONT_AND_BACK=1032,e.prototype.CULL_FACE=2884,e.prototype.BLEND=3042,e.prototype.DITHER=3024,e.prototype.STENCIL_TEST=2960,e.prototype.DEPTH_TEST=2929,e.prototype.SCISSOR_TEST=3089,e.prototype.POLYGON_OFFSET_FILL=32823,e.prototype.SAMPLE_ALPHA_TO_COVERAGE=32926,e.prototype.SAMPLE_COVERAGE=32928,e.prototype.NO_ERROR=0,e.prototype.INVALID_ENUM=1280,e.prototype.INVALID_VALUE=1281,e.prototype.INVALID_OPERATION=1282,e.prototype.OUT_OF_MEMORY=1285,e.prototype.CW=2304,e.prototype.CCW=2305,e.prototype.LINE_WIDTH=2849,e.prototype.ALIASED_POINT_SIZE_RANGE=33901,e.prototype.ALIASED_LINE_WIDTH_RANGE=33902,e.prototype.CULL_FACE_MODE=2885,e.prototype.FRONT_FACE=2886,e.prototype.DEPTH_RANGE=2928,e.prototype.DEPTH_WRITEMASK=2930,e.prototype.DEPTH_CLEAR_VALUE=2931,e.prototype.DEPTH_FUNC=2932,e.prototype.STENCIL_CLEAR_VALUE=2961,e.prototype.STENCIL_FUNC=2962,e.prototype.STENCIL_FAIL=2964,e.prototype.STENCIL_PASS_DEPTH_FAIL=2965,e.prototype.STENCIL_PASS_DEPTH_PASS=2966,e.prototype.STENCIL_REF=2967,e.prototype.STENCIL_VALUE_MASK=2963,e.prototype.STENCIL_WRITEMASK=2968,e.prototype.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798,e.prototype.STENCIL_BACK_FUNC=34816,e.prototype.STENCIL_BACK_FAIL=34817,e.prototype.STENCIL_BACK_PASS_DEPTH_FAIL=34818,e.prototype.STENCIL_BACK_PASS_DEPTH_PASS=34819,e.prototype.COMPRESSED_RGB_ATC_WEBGL=35986,e.prototype.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987,e.prototype.STENCIL_BACK_REF=36003,e.prototype.STENCIL_BACK_VALUE_MASK=36004,e.prototype.STENCIL_BACK_WRITEMASK=36005,e.prototype.VIEWPORT=2978,e.prototype.SCISSOR_BOX=3088,e.prototype.COLOR_CLEAR_VALUE=3106,e.prototype.COLOR_WRITEMASK=3107,e.prototype.UNPACK_ALIGNMENT=3317,e.prototype.PACK_ALIGNMENT=3333,e.prototype.MAX_TEXTURE_SIZE=3379,e.prototype.MAX_VIEWPORT_DIMS=3386,e.prototype.SUBPIXEL_BITS=3408,e.prototype.RED_BITS=3410,e.prototype.GREEN_BITS=3411,e.prototype.BLUE_BITS=3412,e.prototype.ALPHA_BITS=3413,e.prototype.DEPTH_BITS=3414,e.prototype.STENCIL_BITS=3415,e.prototype.POLYGON_OFFSET_UNITS=10752,e.prototype.POLYGON_OFFSET_FACTOR=32824,e.prototype.TEXTURE_BINDING_2D=32873,e.prototype.SAMPLE_BUFFERS=32936,e.prototype.SAMPLES=32937,e.prototype.SAMPLE_COVERAGE_VALUE=32938,e.prototype.SAMPLE_COVERAGE_INVERT=32939,e.prototype.COMPRESSED_TEXTURE_FORMATS=34467,e.prototype.DONT_CARE=4352,e.prototype.FASTEST=4353,e.prototype.NICEST=4354,e.prototype.GENERATE_MIPMAP_HINT=33170,e.prototype.BYTE=5120,e.prototype.UNSIGNED_BYTE=5121,e.prototype.SHORT=5122,e.prototype.UNSIGNED_SHORT=5123,e.prototype.INT=5124,e.prototype.UNSIGNED_INT=5125,e.prototype.FLOAT=5126,e.prototype.DEPTH_COMPONENT=6402,e.prototype.ALPHA=6406,e.prototype.RGB=6407,e.prototype.RGBA=6408,e.prototype.LUMINANCE=6409,e.prototype.LUMINANCE_ALPHA=6410,e.prototype.UNSIGNED_SHORT_4_4_4_4=32819,e.prototype.UNSIGNED_SHORT_5_5_5_1=32820,e.prototype.UNSIGNED_SHORT_5_6_5=33635,e.prototype.FRAGMENT_SHADER=35632,e.prototype.VERTEX_SHADER=35633,e.prototype.MAX_VERTEX_ATTRIBS=34921,e.prototype.MAX_VERTEX_UNIFORM_VECTORS=36347,e.prototype.MAX_VARYING_VECTORS=36348,e.prototype.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,e.prototype.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,e.prototype.MAX_TEXTURE_IMAGE_UNITS=34930,e.prototype.MAX_FRAGMENT_UNIFORM_VECTORS=36349,e.prototype.SHADER_TYPE=35663,e.prototype.DELETE_STATUS=35712,e.prototype.LINK_STATUS=35714,e.prototype.VALIDATE_STATUS=35715,e.prototype.ATTACHED_SHADERS=35717,e.prototype.ACTIVE_UNIFORMS=35718,e.prototype.ACTIVE_ATTRIBUTES=35721,e.prototype.SHADING_LANGUAGE_VERSION=35724,e.prototype.CURRENT_PROGRAM=35725,e.prototype.NEVER=512,e.prototype.LESS=513,e.prototype.EQUAL=514,e.prototype.LEQUAL=515,e.prototype.GREATER=516,e.prototype.NOTEQUAL=517,e.prototype.GEQUAL=518,e.prototype.ALWAYS=519,e.prototype.KEEP=7680,e.prototype.REPLACE=7681,e.prototype.INCR=7682,e.prototype.DECR=7683,e.prototype.INVERT=5386,e.prototype.INCR_WRAP=34055,e.prototype.DECR_WRAP=34056,e.prototype.VENDOR=7936,e.prototype.RENDERER=7937,e.prototype.VERSION=7938,e.prototype.NEAREST=9728,e.prototype.LINEAR=9729,e.prototype.NEAREST_MIPMAP_NEAREST=9984,e.prototype.LINEAR_MIPMAP_NEAREST=9985,e.prototype.NEAREST_MIPMAP_LINEAR=9986,e.prototype.LINEAR_MIPMAP_LINEAR=9987,e.prototype.TEXTURE_MAG_FILTER=10240,e.prototype.TEXTURE_MIN_FILTER=10241,e.prototype.TEXTURE_WRAP_S=10242,e.prototype.TEXTURE_WRAP_T=10243,e.prototype.COMPRESSED_RGB_S3TC_DXT1_EXT=33776,e.prototype.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777,e.prototype.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778,e.prototype.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779,e.prototype.TEXTURE_MAX_ANISOTROPY_EXT=34046,e.prototype.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,e.prototype.TEXTURE_2D=3553,e.prototype.TEXTURE=5890,e.prototype.TEXTURE_CUBE_MAP=34067,e.prototype.TEXTURE_BINDING_CUBE_MAP=34068,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_X=34069,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,e.prototype.MAX_CUBE_MAP_TEXTURE_SIZE=34076,e.prototype.TEXTURE0=33984,e.prototype.TEXTURE1=33985,e.prototype.TEXTURE2=33986,e.prototype.TEXTURE3=33987,e.prototype.TEXTURE4=33988,e.prototype.TEXTURE5=33989,e.prototype.TEXTURE6=33990,e.prototype.TEXTURE7=33991,e.prototype.TEXTURE8=33992,e.prototype.TEXTURE9=33993,e.prototype.TEXTURE10=33994,e.prototype.TEXTURE11=33995,e.prototype.TEXTURE12=33996,e.prototype.TEXTURE13=33997,e.prototype.TEXTURE14=33998,e.prototype.TEXTURE15=33999,e.prototype.TEXTURE16=34e3,e.prototype.TEXTURE17=34001,e.prototype.TEXTURE18=34002,e.prototype.TEXTURE19=34003,e.prototype.TEXTURE20=34004,e.prototype.TEXTURE21=34005,e.prototype.TEXTURE22=34006,e.prototype.TEXTURE23=34007,e.prototype.TEXTURE24=34008,e.prototype.TEXTURE25=34009,e.prototype.TEXTURE26=34010,e.prototype.TEXTURE27=34011,e.prototype.TEXTURE28=34012,e.prototype.TEXTURE29=34013,e.prototype.TEXTURE30=34014,e.prototype.TEXTURE31=34015,e.prototype.ACTIVE_TEXTURE=34016,e.prototype.REPEAT=10497,e.prototype.CLAMP_TO_EDGE=33071,e.prototype.MIRRORED_REPEAT=33648,e.prototype.FLOAT_VEC2=35664,e.prototype.FLOAT_VEC3=35665,e.prototype.FLOAT_VEC4=35666,e.prototype.INT_VEC2=35667,e.prototype.INT_VEC3=35668,e.prototype.INT_VEC4=35669,e.prototype.BOOL=35670,e.prototype.BOOL_VEC2=35671,e.prototype.BOOL_VEC3=35672,e.prototype.BOOL_VEC4=35673,e.prototype.FLOAT_MAT2=35674,e.prototype.FLOAT_MAT3=35675,e.prototype.FLOAT_MAT4=35676,e.prototype.SAMPLER_2D=35678,e.prototype.SAMPLER_CUBE=35680,e.prototype.VERTEX_ATTRIB_ARRAY_ENABLED=34338,e.prototype.VERTEX_ATTRIB_ARRAY_SIZE=34339,e.prototype.VERTEX_ATTRIB_ARRAY_STRIDE=34340,e.prototype.VERTEX_ATTRIB_ARRAY_TYPE=34341,e.prototype.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,e.prototype.VERTEX_ATTRIB_ARRAY_POINTER=34373,e.prototype.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,e.prototype.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,e.prototype.IMPLEMENTATION_COLOR_READ_TYPE=35738,e.prototype.IMPLEMENTATION_COLOR_READ_FORMAT=35739,e.prototype.COMPILE_STATUS=35713,e.prototype.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,e.prototype.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,e.prototype.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,e.prototype.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,e.prototype.LOW_FLOAT=36336,e.prototype.MEDIUM_FLOAT=36337,e.prototype.HIGH_FLOAT=36338,e.prototype.LOW_INT=36339,e.prototype.MEDIUM_INT=36340,e.prototype.HIGH_INT=36341,e.prototype.FRAMEBUFFER=36160,e.prototype.RENDERBUFFER=36161,e.prototype.RGBA4=32854,e.prototype.RGB5_A1=32855,e.prototype.HALF_FLOAT=36193,e.prototype.RGB565=36194,e.prototype.COMPRESSED_RGB_ETC1_WEBGL=36196,e.prototype.DEPTH_COMPONENT16=33189,e.prototype.STENCIL_INDEX8=36168,e.prototype.DEPTH_STENCIL=34041,e.prototype.RENDERBUFFER_WIDTH=36162,e.prototype.RENDERBUFFER_HEIGHT=36163,e.prototype.RENDERBUFFER_INTERNAL_FORMAT=36164,e.prototype.RENDERBUFFER_RED_SIZE=36176,e.prototype.RENDERBUFFER_GREEN_SIZE=36177,e.prototype.RENDERBUFFER_BLUE_SIZE=36178,e.prototype.RENDERBUFFER_ALPHA_SIZE=36179,e.prototype.RENDERBUFFER_DEPTH_SIZE=36180,e.prototype.RENDERBUFFER_STENCIL_SIZE=36181,e.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,e.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,e.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,e.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,e.prototype.COLOR_ATTACHMENT0=36064,e.prototype.DEPTH_ATTACHMENT=36096,e.prototype.STENCIL_ATTACHMENT=36128,e.prototype.DEPTH_STENCIL_ATTACHMENT=33306,e.prototype.NONE=0,e.prototype.FRAMEBUFFER_COMPLETE=36053,e.prototype.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,e.prototype.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,e.prototype.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,e.prototype.FRAMEBUFFER_UNSUPPORTED=36061,e.prototype.FRAMEBUFFER_BINDING=36006,e.prototype.RENDERBUFFER_BINDING=36007,e.prototype.MAX_RENDERBUFFER_SIZE=34024,e.prototype.INVALID_FRAMEBUFFER_OPERATION=1286,e.prototype.VERTEX_ARRAY_BINDING=34229,e.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,e.prototype.UNPACK_FLIP_Y_WEBGL=37440,e.prototype.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,e.prototype.CONTEXT_LOST_WEBGL=37442,e.prototype.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,e.prototype.BROWSER_DEFAULT_WEBGL=37444,e.prototype.SHADER_BINARY_FORMATS=36344,e.prototype.NUM_SHADER_BINARY_FORMATS=36345,e.prototype.NUM_COMPRESSED_TEXTURE_FORMATS=34466,e.prototype.TRUE=!0,e.prototype.FALSE=!1}},function(e,t){var n={normal:0,italic:1,oblique:2},r={normal:0,bold:1};t.createFontObj=function(e){var t={},n=e.split(" "),r=!1,o=!1,i=!1;(!n||n.length<2)&&console.error("context.font set: param format error! not a standard format, error param =".concat(e));for(var a=0;a<n.length;a++){var s=0;if("string"==typeof n[a])if(-1==n[a].indexOf("normal")&&-1==n[a].indexOf("italic")&&-1==n[a].indexOf("oblique")||r)if(-1==n[a].indexOf("normal")&&-1==n[a].indexOf("bold")||o){if((-1!=(s=n[a].indexOf("px"))||-1!=(s=n[a].indexOf("em")))&&!i){var c=n[a].substr(0,s).replace(/[^0-9.]/gi,"");t.font_size=parseFloat(c),i=!0}}else t.font_weight=n[a],o=!0;else t.font_style=n[a],r=!0;else console.error("context.font set: param string type error! error sub-param = ".concat(n[a]))}return t.font_family=n[n.length-1],t},t.isBase64Image=function(e){return/^data:image\/(png|gif|jpeg|jpg);base64,.*$/.test(e)},t.fontObj2String=function(e){var t="";if(e){var o=Object.keys(n),i=Object.keys(r);t="".concat(o[e.font_style]," ").concat(i[e.font_weight]," ").concat(e.font_size,"px ").concat(e.font_family)}return t}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__,r=__TT__GLOBAL__,o=n.__ttObjdec__;o.logInterface=function(e,t){try{if(t.length>0){var n=t.map((function(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(t){return e}})).join(" ");o.Triton.Script.log(e,0,n)}else o.Triton.Script.log(e,0,"no args log")}catch(e){o.Triton.Script.log(103,0,"tt.Triton.Script.logInterface error! err =".concat(e))}};var i=console.log,a=console.error,s=console.warn,c=console.debug;console.log=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(101,e),i.apply(console,arguments)},console.info=console.log,console.error=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(103,e),a.apply(console,arguments)},console.warn=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(102,e),s.apply(console,arguments)},console.debug=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(100,e),c.apply(console,arguments)},console.group=console.log,console.groupEnd=function(){},r.console=console},function(e,t){var n=window.newCmdBufferQueue,r={GL_COMMAND_ACTIVE_TEXTURE:0,GL_COMMAND_ATTACH_SHADER:1,GL_COMMAND_BIND_ATTRIB_LOCATION:2,GL_COMMAND_BIND_BUFFER:3,GL_COMMAND_BIND_FRAME_BUFFER:4,GL_COMMAND_BIND_RENDER_BUFFER:5,GL_COMMAND_BIND_TEXTURE:6,GL_COMMAND_BLEND_COLOR:7,GL_COMMAND_BLEND_EQUATION:8,GL_COMMAND_BLEND_EQUATION_SEPARATE:9,GL_COMMAND_BLEND_FUNC:10,GL_COMMAND_BLEND_FUNC_SEPARATE:11,GL_COMMAND_BUFFER_DATA:12,GL_COMMAND_BUFFER_SUB_DATA:13,GL_COMMAND_CHECK_FRAME_BUFFER_STATUS:14,GL_COMMAND_CLEAR:15,GL_COMMAND_CLEAR_COLOR:16,GL_COMMAND_CLEAR_DEPTH:17,GL_COMMAND_CLEAR_STENCIL:18,GL_COMMAND_COLOR_MASK:19,GL_COMMAND_COMMIT:20,GL_COMMAND_COMPILE_SHADER:21,GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:22,GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:23,GL_COMMAND_COPY_TEX_IMAGE_2D:24,GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:25,GL_COMMAND_CREATE_BUFFER:26,GL_COMMAND_CREATE_FRAME_BUFFER:27,GL_COMMAND_CREATE_PROGRAM:28,GL_COMMAND_CREATE_RENDER_BUFFER:29,GL_COMMAND_CREATE_SHADER:30,GL_COMMAND_CREATE_TEXTURE:31,GL_COMMAND_CULL_FACE:32,GL_COMMAND_DELETE_BUFFER:33,GL_COMMAND_DELETE_FRAME_BUFFER:34,GL_COMMAND_DELETE_PROGRAM:35,GL_COMMAND_DELETE_RENDER_BUFFER:36,GL_COMMAND_DELETE_SHADER:37,GL_COMMAND_DELETE_TEXTURE:38,GL_COMMAND_DEPTH_FUNC:39,GL_COMMAND_DEPTH_MASK:40,GL_COMMAND_DEPTH_RANGE:41,GL_COMMAND_DETACH_SHADER:42,GL_COMMAND_DISABLE:43,GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:44,GL_COMMAND_DRAW_ARRAYS:45,GL_COMMAND_DRAW_ELEMENTS:46,GL_COMMAND_ENABLE:47,GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:48,GL_COMMAND_FINISH:49,GL_COMMAND_FLUSH:50,GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:51,GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:52,GL_COMMAND_FRONT_FACE:53,GL_COMMAND_GENERATE_MIPMAP:54,GL_COMMAND_GET_EXTENSION:55,GL_COMMAND_GET_CONTEXT_ATTRIBUTES:56,GL_COMMAND_GET_SUPPORTED_EXTENSIONS:57,GL_COMMAND_GET_ACTIVE_ATTRIB:58,GL_COMMAND_GET_ACTIVE_UNIFORM:59,GL_COMMAND_GET_ATTACHED_SHADERS:60,GL_COMMAND_GET_ATTRIB_LOCATION:61,GL_COMMAND_GET_BUFFER_PARAMETER:62,GL_COMMAND_GET_ERROR:63,GL_COMMAND_GET_FRAME_BUFFER_ATTACHMENT_PARAMETER:64,GL_COMMAND_GET_PARAMETER:65,GL_COMMAND_GET_PROGRAM_INFO_LOG:66,GL_COMMAND_GET_PROGRAM_PARAMENTER:67,GL_COMMAND_GET_RENDER_BUFFER_PARAMETER:68,GL_COMMAND_GET_SHADER_INFO_LOG:69,GL_COMMAND_GET_SHADER_PARAMETER:70,GL_COMMAND_GET_SHADER_PRECISION_FORMAT:71,GL_COMMAND_GET_SHADER_SOURCE:72,GL_COMMAND_GET_TEX_PARAMETER:73,GL_COMMAND_GET_UNIFORM:74,GL_COMMAND_GET_UNIFORM_LOCATION:75,GL_COMMAND_GET_VERTEX_ATTRIB:76,GL_COMMAND_GET_VERTEX_ATTRIB_OFFSET:77,GL_COMMAND_READPIXELS:78,GL_COMMAND_HINT:79,GL_COMMAND_IS_BUFFER:80,GL_COMMAND_IS_ENABLED:81,GL_COMMAND_IS_FRAME_BUFFER:82,GL_COMMAND_IS_PROGRAM:83,GL_COMMAND_IS_RENDER_BUFFER:84,GL_COMMAND_IS_SHADER:85,GL_COMMAND_IS_TEXTURE:86,GL_COMMAND_IS_VERTEX_ARRAY:87,GL_COMMAND_LINE_WIDTH:88,GL_COMMAND_LINK_PROGRAM:89,GL_COMMAND_PIXEL_STOREI:90,GL_COMMAND_POLYGON_OFFSET:91,GL_COMMAND_RENDER_BUFFER_STORAGE:92,GL_COMMAND_SAMPLE_COVERAGE:93,GL_COMMAND_SCISSOR:94,GL_COMMAND_SHADER_SOURCE:95,GL_COMMAND_STENCIL_FUNC:96,GL_COMMAND_STENCIL_FUNC_SEPARATE:97,GL_COMMAND_STENCIL_MASK:98,GL_COMMAND_STENCIL_MASK_SEPARATE:99,GL_COMMAND_STENCIL_OP:100,GL_COMMAND_STENCIL_OP_SEPARATE:101,GL_COMMAND_TEX_IMAGE_2D:102,GL_COMMAND_TEX_PARAMETER_F:103,GL_COMMAND_TEX_PARAMETER_I:104,GL_COMMAND_TEX_SUB_IMAGE_2D:105,GL_COMMAND_UNIFORM_1F:106,GL_COMMAND_UNIFORM_1FV:107,GL_COMMAND_UNIFORM_1I:108,GL_COMMAND_UNIFORM_1IV:109,GL_COMMAND_UNIFORM_2F:110,GL_COMMAND_UNIFORM_2FV:111,GL_COMMAND_UNIFORM_2I:112,GL_COMMAND_UNIFORM_2IV:113,GL_COMMAND_UNIFORM_3F:114,GL_COMMAND_UNIFORM_3FV:115,GL_COMMAND_UNIFORM_3I:116,GL_COMMAND_UNIFORM_3IV:117,GL_COMMAND_UNIFORM_4F:118,GL_COMMAND_UNIFORM_4FV:119,GL_COMMAND_UNIFORM_4I:120,GL_COMMAND_UNIFORM_4IV:121,GL_COMMAND_UNIFORM_MATRIX_2FV:122,GL_COMMAND_UNIFORM_MATRIX_3FV:123,GL_COMMAND_UNIFORM_MATRIX_4FV:124,GL_COMMAND_USE_PROGRAM:125,GL_COMMAND_VALIDATE_PROGRAM:126,GL_COMMAND_VERTEX_ATTRIB_1F:127,GL_COMMAND_VERTEX_ATTRIB_1FV:128,GL_COMMAND_VERTEX_ATTRIB_2F:129,GL_COMMAND_VERTEX_ATTRIB_2FV:130,GL_COMMAND_VERTEX_ATTRIB_3F:131,GL_COMMAND_VERTEX_ATTRIB_3FV:132,GL_COMMAND_VERTEX_ATTRIB_4F:133,GL_COMMAND_VERTEX_ATTRIB_4FV:134,GL_COMMAND_VERTEX_ATTRIB_POINTER:135,GL_COMMAND_VIEW_PORT:136,GL_COMMAND_CREATE_VERTEX_ARRAY:200,GL_COMMAND_BIND_VERTEX_ARRAY:201,GL_COMMAND_DELETE_VERTEX_ARRAY:202,GL_COMMAND_DRAW_ARRAYS_INSTANCE:203,GL_COMMAND_DRAW_ELEMENTS_INSTANCE:204,GL_COMMAND_VERTEX_ATTRIB_DIVISOR:205,GL_COMMAND_BIND_VERTEX_ARRAY_OES:300,GL_COMMAND_CREATE_VERTEX_ARRAY_OES:301,GL_COMMAND_DELETE_VERTEX_ARRAY_OES:302,GL_COMMAND_IS_VERTEX_ARRAY_OES:303},o={GMD_PARAM_TYPE_QUEUE_H:1,GMD_PARAM_TYPE_COMMAND_H:2,GMD_PARAM_TYPE_ARGS:3},i={FLUSH_TYPE_END_FRAME:1,FLUSH_TYPE_OVER_BUFFER:2,FLUSH_TYPE_SYNC:3,FLUSH_TYPE_CALLER_CHANGE:4};n?(t.CmdParamType=o,t.FlushType=i):(t.WebGLCmdConstant=r,t.attachWebGLCmdConstant=function(e){for(var t in r)"function"!=typeof r[t]&&null!==r[t]&&(e[t]=r[t])},t.CmdParamType=o,t.FlushType=i)},,,,function(e,t,n){n(4).normalAPIMutations({loadSubpackage:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"createLoadSubPackageTask",paramHandlers:function(e,t){var n=(e[0]||{}).name||"";if("undefined"!=typeof __wxConfig&&__wxConfig.subpackages&&__wxConfig.subpackages.length>0)for(var r=0;r<__wxConfig.subpackages.length;r++)if(__wxConfig.subpackages[r].name===n){var o=__wxConfig.subpackages[r].root;o.startsWith("/")||(o="/".concat(o)),o.endsWith(".js")||o.endsWith("/")||(o="".concat(o,"/")),e[0].moduleName=o,delete e[0].name}return e[0]},invokeAfter:function(e,t,n,r){var o,i;if(e&&e.errMsg.indexOf("ok")>-1)return e;null==t||null===(o=t.fail)||void 0===o||o.call(t),null==t||null===(i=t.complete)||void 0===i||i.call(t)},subscribeEventListener:{subscribeEventName:"onLoadSubPackageTaskStateChange",callback:function(e,t,n){t&&+t.taskId==+n.loadTaskId&&("success"===t.state&&(e[0]&&e[0].success&&e[0].success(),e[0]&&e[0].complete&&e[0].complete()),"fail"===t.state&&(e[0]&&e[0].fail&&e[0].fail(),e[0]&&e[0].complete&&e[0].complete()))}},createObj:{createObjectBefore:function(e,t,n,r){e.loadTaskId=(n||{}).loadTaskId,null==e.loadTaskId&&console.error("createLoadSubPackageTask loadTaskId = undefined !!!")},bindEventAPI:[{bindAPIName:"onProgressUpdate",toNativeEventName:"onLoadSubPackageTaskStateChange",triggerEventBefore:function(e,t,n){return!t||+t.taskId!=+e.loadTaskId||"progressUpdate"!==t.state}}]}}})},,function(e,t,n){var r=n(0),o=n(6),i=n(8).WeixinNativeBuffer,a=(n(2),function(e,t,n){return n.state!==e||t.audioId!==n.audioId});function s(e){this._audioId=e,this._value=1,this._channelId=-1}function c(){this.bufferId=-1,this.sourceId=-1}r.normalAPIMutations({createInnerAudioContext:{canIUse:{"1.0.0":{}},toNativeEventName:"createAudioInstance",subscribeEventListener:{subscribeEventName:"onAudioStateChange",callback:function(e,t,n){}},createObj:{createObjectBefore:function(e,t,n,r){(null==n?void 0:n.audioId)?e.audioId=parseInt(n.audioId,10):e.audioId=parseInt(n,10)},normalAPI:[{play:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"play",audioId:t.audioId}}}},{pause:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"pause",audioId:t.audioId}}}},{stop:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"stop",audioId:t.audioId}}}},{seek:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"seek",audioId:t.audioId,currentTime:1e3*Math.max(e[0]||0)}}}},{destroy:{toNativeEventName:"destroyAudioInstance",paramHandlers:function(e,t){return{audioId:t.audioId}}}}],bindEventAPI:[{bindAPIName:"onCanplay",offAPIName:"offCanplay",triggerEventBefore:function(e,t){return a("canplay",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onEnded",offAPIName:"offEnded",triggerEventBefore:function(e,t){return a("ended",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onError",offAPIName:"offError",triggerEventBefore:function(e,t){return a("error",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onPause",offAPIName:"offPause",triggerEventBefore:function(e,t){return a("pause",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onPlay",offAPIName:"offPlay",triggerEventBefore:function(e,t){return a("play",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onSeeked",offAPIName:"offSeeked",triggerEventBefore:function(e,t){return a("seeked",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onSeeking",offAPIName:"offSeeking",triggerEventBefore:function(e,t){return a("seeking",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onStop",offAPIName:"offStop",triggerEventBefore:function(e,t){return a("stop",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onTimeUpdate",offAPIName:"offTimeUpdate",triggerEventBefore:function(e,t){return a("timeUpdate",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onWaiting",offAPIName:"offWaiting",triggerEventBefore:function(e,t){return a("waiting",e,t)},toNativeEventName:"onAudioStateChange"}],propertys:[{name:"src",value:"",set:function(e,t,n){return t.srcIsChange=!1,e!==t.dataCache.src&&(t.srcIsChange=!0),e},setInvoke:function(e,t){if(t.srcIsChange)return{eventName:"setAudioState",params:{audioId:t.audioId,src:e}}}},{name:"autoplay",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,autoplay:Boolean(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,n,r,o){return r?e instanceof Object?e.autoplay:t.__autoplay:(t.__autoplay=e.autoplay,e.autoplay)}}}},{name:"startTime",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,startTime:1e3*e}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,t,n,r){return e.startTime/1e3}}}},{name:"loop",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,loop:Boolean(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,n,r,o){return r?e instanceof Object?e.loop:t.__loop:(t.__loop=e.loop,e.loop)}}}},{name:"paused",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,n,r,o){return r?e instanceof Object?e.paused:t.__paused:(t.__paused=e.paused,e.paused)}}}},{name:"volume",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,volume:Number(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,n,r,o){return r?e instanceof Object?e.volume:t.__volume:(t.__volume=e.volume,e.volume)}}}},{name:"duration",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){return e.duration/1e3}}}},{name:"currentTime",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){return e.currentTime/1e3}}}},{name:"buffered",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){return e.buffered/1e3}}}}]}}}),wx.createWebAudioContext=function(){return u.createWebAudioContext()},s.prototype={get value(){return this._value},set value(e){return this._value=e,u.setWebAudioCurrentGain(this._audioId,this._channelId,e)}},c.prototype.getChannelData=function(e){return u.getChannelData(this.bufferId,e,this.sourceId)},c.prototype.copyToChannel=function(e,t,n){var r=u.copyToChannel(this.bufferId,this.sourceId,e,t,n);this.bufferId=r};var u=o.normalAPIFactory([{start:{toNativeEventName:"sourceStart",paramHandlers:function(e,t){var n,r;return{audioId:null==e||null===(n=e[0])||void 0===n?void 0:n.audioId,channelId:null==e||null===(r=e[0])||void 0===r?void 0:r.channelId,when:null==e?void 0:e[1],offset:null==e?void 0:e[2],duration:null==e?void 0:e[3]}}},stop:{toNativeEventName:"sourceStop",paramHandlers:function(e,t){var n,r;return{audioId:null==e||null===(n=e[0])||void 0===n?void 0:n.audioId,channelId:null==e||null===(r=e[0])||void 0===r?void 0:r.channelId,when:null==e?void 0:e[1]}}},connect:{toNativeEventName:"webAudioConnectAudioNode",paramHandlers:function(e,t){var n=null==e?void 0:e[0],r=null==e?void 0:e[1];if(n){2===n.audioNodeType&&(n.channelId=n.sourceId);var o=r;for(n.next=o;o;){o.channelId=n.channelId,o&&3===o.audioNodeType&&(o.gain._channelId=n.channelId),o=o.next}}return{channelId:null==n?void 0:n.channelId,audioId:null==n?void 0:n.audioId,audioNodeType:null==r?void 0:r.audioNodeType,oriAudioNodeType:null==n?void 0:n.audioNodeType}}},getChannelData:{toNativeEventName:"getWebAudioBufferChannelData",paramHandlers:function(e,t){return{bufferId:null==e?void 0:e[0],channelId:null==e?void 0:e[1],sourceId:null==e?void 0:e[2]}},invokeAfter:function(e,t,n,r){return e.__nativeBuffers__&&(e=i.unpack(e)),function(e){var t,n=new Uint8Array(e),r=n.length,o=new Float32Array(n.length);for(t=0;t<r;t++)o[t]=(n[t]-128)/128;return o}(e.data)}},copyToChannel:{toNativeEventName:"audioBufferCopyToChannel",paramHandlers:function(e,t){var n=function(e){var t,n=e.length,r=new Uint8Array(e.length);for(t=0;t<n;t++)r[t]=Math.floor(128*e[t]+128);return r}(null==e?void 0:e[2]);return{bufferId:null==e?void 0:e[0],sourceId:null==e?void 0:e[1],data:null==n?void 0:n.buffer,channelId:null==e?void 0:e[3],startInChannel:null==e?void 0:e[4]}},invokeAfter:function(e,t,n,r){return e.bufferId}},setWebAudioCurrentGain:{toNativeEventName:"setWebAudioCurrentGain",paramHandlers:function(e,t){return{audioId:null==e?void 0:e[0],channelId:null==e?void 0:e[1],data:null==e?void 0:e[2]}}},createBufferSource:{toNativeEventName:"createWebAudioBufferSource",paramHandlers:function(e,t){return t.audioId=null==e?void 0:e[0],{audioId:null==e?void 0:e[0]}},createObj:{createObjectAfter:function(e,t,n,r){return r.audioId=e.audioId,r.audioNodeType=2,r.numberOfInputs=0,r.numberOfOutputs=1,r.sourceId=null==n?void 0:n.channelId,r.channelId=null==n?void 0:n.channelId,r.connect=function(e){return u.connect(r,e)},r.start=function(e,t,n){return u.start(r,e,t,n)},r.stop=function(e){return u.stop(r,null==e?void 0:e[0])},r.disconnect=function(e){r.channelId=-1,void 0!==e&&(e.channelId=-1,e.gain&&(e.gain._channelId=-1))},e.sourceId=null==n?void 0:n.channelId,r},bindEventAPI:[{bindAPIName:"onended",offAPIName:"offended",toNativeEventName:"onWebAudioSourceEnded",triggerEventBefore:function(e,t,n){return(null==t?void 0:t.audioId)!==(null==e?void 0:e.audioId)||(!((null==t?void 0:t.channelId)===(null==e?void 0:e.sourceId))||void 0)}}],propertys:[{name:"buffer",setInvoke:function(e,t,n){return{eventName:"setWebAudioSourceBuffer",params:{bufferId:e.bufferId,channelId:n.channelId,decodeId:e.decodeId}}}},{name:"loop",setInvoke:function(e,t,n){return{eventName:"setWebAudioBufferSourceLoop",params:{loop:e,channelId:n.channelId,audioId:t.audioId},invokeBefore:function(t,n,r,o){if(!e)return!0},invokeAfter:function(e,t,n,r){}}}}]}},createWebAudioContext:{canIUse:{"1.0.0":{}},toNativeEventName:"createWebAudioContext",createObj:{createObjectBefore:function(e,t,n,r){(null==n?void 0:n.audioId)?e.audioId=parseInt(n.audioId,10):e.audioId=parseInt(n,10),r.createBufferSource=function(){return u.createBufferSource(e.audioId)}},createObjectAfter:function(e,t,n,r){e.webaudiocontext=1,e.promiseCallBackMap=new Map,e.onendedCallBackList=new Map},normalAPI:[{createGain:{toNativeEventName:"createWebAudioGain",createObj:{createObjectAfter:function(e,t,n,r){r.audioNodeType=3,r.audioId=e.audioId,r.connect=function(e){return u.connect(r,e)},r.disconnect=function(e){r.channelId=-1,e&&(e.channelId=-1),r.gain&&(r.gain._channelId=-1)},r.gain=new s(r.audioId)}}},suspend:{toNativeEventName:"operateWebAudioContext",paramHandlers:function(e,t){return{operationType:"suspend",audioId:t.audioId}}},resume:{toNativeEventName:"operateWebAudioContext",paramHandlers:function(e,t){return{operationType:"resume",audioId:t.audioId}}},decodeAudioData:{toNativeEventName:"decodeWebAudioData",paramHandlers:function(e,t){return{audioId:t.audioId,data:e[0]}},invokeAfter:function(e,t,n,r){if((null==t?void 0:t[1])&&t[1]instanceof Function)return e;if(t&&void 0===t[1]){null==e||e.decodeId;return function(e,t){return new f((function(n,r){t.promiseCallBackMap.set(e.decodeId,(function(e){"ok"===e.status?n(e):r(e)}))}))}(e,r)}return e},subscribeEventListener:{subscribeEventName:"onDecodeWebAudioDataDone",callback:function(e,t,n){n=n||{};var r=new c;if(r.decodeId=null==t?void 0:t.decodeId,r.status=null==t?void 0:t.status,(null==e?void 0:e[1])&&e[1]instanceof Function)e[1](r);else if(e&&void 0===e[1]){var o=null==t?void 0:t.decodeId,i=n.promiseCallBackMap.get(o);i&&(i(r),n.promiseCallBackMap.delete(o))}}}},createBuffer:{toNativeEventName:"createWebAudioContextBuffer",paramHandlers:function(e,t){return{audioId:t.audioId,numOfChannels:null==e?void 0:e[0],length:null==e?void 0:e[1],sampleRate:null==e?void 0:e[2]}},createObj:{createObjectAfter:function(e,t,n,r){return e.AudioBufferContext=1,(r=new c).bufferId=null==n?void 0:n.bufferId,e.bufferId=null==n?void 0:n.bufferId,r.numOfChannels=null==t?void 0:t.numOfChannels,r.length=null==t?void 0:t.length,r.sampleRate=null==t?void 0:t.sampleRate,r.duration=r.length/r.sampleRate,r}}},createPanner:{toNativeEventName:"createWebAudioPanner",paramHandlers:function(e,t){return{audioId:t.audioId}},createObj:{createObjectBefore:function(e,t,n,r){},createObjectAfter:function(e,t,n,r){r.numberOfInputs=0,r.numberOfOutputs=1},normalAPI:[{setPosition:{toNativeEventName:"pannerSetPosition",paramHandlers:function(e,t){return{x:null==e?void 0:e[0],y:null==e?void 0:e[1],z:null==e?void 0:e[2]}}},setOrientation:{toNativeEventName:"pannerSetOrientation",paramHandlers:function(e,t){return{x:null==e?void 0:e[0],y:null==e?void 0:e[1],z:null==e?void 0:e[2]}}},setVelocity:{toNativeEventName:"pannerSetVelocity",paramHandlers:function(e,t){return e[0].channelId=t.channelId,{x:null==e?void 0:e[0],y:null==e?void 0:e[1],z:null==e?void 0:e[2]}}}}],propertys:[{name:"coneInnerAngle",setInvoke:function(e,t,n){return{eventName:"operateWebAudioPannerNode",params:{action:"setConeInnerAngle",channelId:t.channelId,data:e},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){}}},getInvoke:function(e,t,n){return{eventName:"operateWebAudioPannerNode",params:{action:"getConeInnerAngle",channelId:t.channelId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){if(n)return e}}}},{name:"coneOuterAngle",setInvoke:function(e,t,n){return{eventName:"setWebAudioBufferconeOuterAngle",params:{loop:e,channelId:t.channelId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){}}}},{name:"coneOuterGain",setInvoke:function(e,t,n){return{eventName:"setWebAudioBufferSourceLoop",params:{loop:e,channelId:t.channelId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){}}}}]}},createScriptProcessor:{toNativeEventName:"createWebAudioScriptProcessor",paramHandlers:function(e,t){return{bufferSize:null==e?void 0:e[0],inputChannelNum:null==e?void 0:e[1],outputChannelNum:null==e?void 0:e[2],audioId:t.audioId}},createObj:{createObjectAfter:function(e,t,n,r){r.audioNodeType=5,r.audioId=e.audioId,r.connect=function(e){return u.connect(r,e)},r.disconnect=function(e){r.channelId=-1,e&&(e.channelId=-1,e.gain&&(e.gain._channelId=-1))}},bindEventAPI:[{bindAPIName:"onaudioprocess",offAPIName:"offaudioprocess",triggerEventBefore:function(e,t,n){var r={},o=new c,i=new c;return o.bufferId=t.bufferId,o.sourceId=-2,i.bufferId=t.bufferId,i.sourceId=-2,r.inputBuffer=o,r.outputBuffer=i,r.playbackTime=t.playbackTime,n(r),!0},toNativeEventName:"onWebAudioScriptProcessorAudioProcess"}]}},setQueueBuffer:{toNativeEventName:"audioProcessingEventSetQueueBuffer",paramHandlers:function(e,t){return{bufferId:e[0]&&e[0].bufferId,channelId:e[0]&&e[0].channelId}}},close:{toNativeEventName:"closeWebAudioContext",paramHandlers:function(e,t){return{audioId:t.audioId}}}}],propertys:[{name:"currentTime",getInvoke:function(e,t,n){return{eventName:"getWebAudioCurrentTime",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){},invokeAfter:function(e,t,n,r){if(n)return e}}}},{name:"destination",getInvoke:function(e,t,n){return{eventName:"getWebAudioDestination",createObj:{createObjectAfter:function(e,t,r,o){return o.audioNodeType=4,o.maxChannelCount=2,o.audioId=n.audioId,o}}}}},{name:"listener",getInvoke:function(e,t){return{eventName:"getWebAudioListener",params:{audioId:t.audioId},invokeAfter:function(e,t,n,r){return e.startTime/1e3}}}},{name:"sampleRate",getInvoke:function(e,t){return{eventName:"getWebAudioSampleRate",params:{audioId:t.audioId},invokeBefore:function(e,t,n,r){return 44100}}}},{name:"state",getInvoke:function(e,t){return{eventName:"getWebAudioState",params:{audioId:t.audioId}}}}]}}}]),f=Promise},function(e,t,n){var r=n(1),o=n(0),i=n(33),a=n(3),s=n(7),c=n(2),u=void 0;o.normalAPIMutations({getSystemInfo:{canIUse:{"1.0.0":{success:["brand","model","pixelRatio","screenWidth","screenHeight","windowWidth","windowHeight","statusBarHeight","language","version","system","platform","fontSizeSetting","SDKVersion","benchmarkLevel"]}},toNativeEventName:"getSystemInfo",paramHandlers:function(e,t){return t.originParams=e[0],e[0]},invokeBefore:function(e,t,n,r){var o=r.originParams;if(u)return u.errMsg&&(u.errMsg="getSystemInfo:ok"),setTimeout((function(){var e,t;null==o||null===(e=o.success)||void 0===e||e.call(o,u),null==o||null===(t=o.complete)||void 0===t||t.call(o,u)}),0),!0},invokeAfter:function(e,t,n,r){return n?null:(e.devicePixelRatio=e.pixelRatio,e.benchmarkLevel=e.benchmarkLevel||1,e.SDKVersion=i.version,i.build?e.SDKBuild=i.build:e.SDKBuild="99999",u=e,e)}}}),o.normalAPIMutations({getSystemInfoSync:{canIUse:{"1.0.0":{return:["brand","model","pixelRatio","screenWidth","screenHeight","windowWidth","windowHeight","statusBarHeight","language","version","system","platform","fontSizeSetting","SDKVersion","benchmarkLevel"]}},toNativeEventName:"getSystemInfoSync",invokeBefore:function(e,t,n,r){if(u)return u.errMsg&&(u.errMsg="getSystemInfoSync:ok"),u},invokeAfter:function(e,t,n,r){return n?(e.devicePixelRatio=e.pixelRatio,e.benchmarkLevel=e.benchmarkLevel||1,e.SDKVersion=i.version,i.build?e.SDKBuild=i.build:e.SDKBuild="99999",u=e,e):null}}}),o.normalAPIMutations({getLaunchOptionsSync:{canIUse:{"1.0.0":{}},toNativeEventName:"getLaunchOptionsSync",invokeAfter:function(e,t,n,o){if(n){if("string"==typeof e.query)if(""==e.query)e.query={};else try{e.query=JSON.parse(e.query)}catch(e){console.warn("getLaunchOptionsSync 解析query出现异常",e)}return"object"===r(e.extendData)&&null!=e.extendData.ad_scene_2019&&(e.scene=e.extendData.ad_scene_2019),e}}}}),o.normalAPIMutations({exitMiniProgram:{toNativeEventName:"exitMiniProgram"}}),o.normalAPIMutations({updateQQApp:{canIUse:{"1.19.0":{}},toNativeEventName:"updateQQApp"}}),o.normalAPIMutations({hideHomeButton:{canIUse:{"1.14.0":{}},toNativeEventName:"hideHomeButton"}}),o.normalAPIMutations({recordOffLineResourceState:{toNativeEventName:"recordOffLineResourceState"}}),o.normalAPIMutations({reportAnalytics:{toNativeEventName:"reportRealtimeAction",paramHandlers:function(e,t){var n="{}",r={business:"mmbizwxaanalytics",eventID:e[0],data:e[1]||{},uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1};try{n=JSON.stringify(r)}catch(e){console.error("reportAnalytics error: JSON.stringify(value) fail")}return{actionData:n}}}}),(a.isIOS||a.isDevtool)&&o.normalAPIMutations({reportMonitor:{toNativeEventName:"reportRealtimeAction",paramHandlers:function(e,t){"number"!=typeof e[1]&&console.error("reportMonitor: 'value' argument must be a Number.");var n="{}",r={business:"mmbizwxamonitor",name:e[0],value:e[1],timeStamp:Date.now()};try{n=JSON.stringify(r)}catch(e){}return{actionData:n}}}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["scene","query","shareTicket","referrerInfo"]}},bindAPIName:"onShow",offAPIName:"offShow",toNativeEventName:"onAppEnterForeground",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onAppEnterForeground",{})},triggerEventBefore:function(e,t,n){if(""==t.query)return t.query={},!1;if("object"===r(t.query))return!1;try{t.query=JSON.parse(t.query)}catch(e){console.warn("onShow 解析query出现异常",e)}return!1}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onHide",offAPIName:"offHide",toNativeEventName:"onAppEnterBackground",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onAppEnterBackground",{})}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["message","stack"]}},bindAPIName:"onError",offAPIName:"offError",toNativeEventName:"onError"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},private:1,bindAPIName:"onTTJSFinish",toNativeEventName:"onTTJSFinish"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAudioInterruptionEnd",offAPIName:"offAudioInterruptionEnd",toNativeEventName:"onAudioInterruptionEnd",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onAudioInterruptionEnd",{})}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAudioInterruptionBegin",offAPIName:"offAudioInterruptionBegin",toNativeEventName:"onAudioInterruptionBegin",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onAudioInterruptionBegin",{})}}),a.isAndroid&&(o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onPause",offAPIName:"offPause",toNativeEventName:"onPause",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onPause",{})}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAppStop",offAPIName:"offAppStop",toNativeEventName:"onAppStop",onBeforeBind:function(){a.isAndroid&&c.invokeHandler("onAppStop",{})}})),o.normalAPIMutations({saveAppToDesktop:{canIUse:{"1.7.1":{}},toNativeEventName:"saveAppToDesktop",paramHandlers:function(e,t){return s._reportAPICall({apiname:"saveAppToDesktop"}),t.originParams=e[0],e[0]},invokeBefore:function(){return!!a.isDevtool&&(console.warn("开发者工具 不支持saveAppToDesktop接口，请到手机调试"),!0)},invokeAfter:function(e,t,n,r){return e}}}),o.normalAPIMutations({getEnvVersion:{noNativeAPI:!0,handler:function(){return(__qqConfig||__wxConfig||{}).envVersion}}}),o.normalAPIMutations({showMiniAIOEntrance:{canIUse:{"1.11.0":{}},toNativeEventName:"showMiniAIOEntrance",paramHandlers:function(e,t){var n,r=e[0]||{},o=r.x,i=r.y;return o&&"number"!=typeof o&&(n="参数 x 类型不正确"),i&&"number"!=typeof i&&(n="参数 y 类型不正确"),n?(r.fail&&r.fail({errMsg:"showMiniAIOEntrance:fail ".concat(n)}),{isFail:!0}):r}},invokeAfter:function(e,t,n,r){}}),o.normalAPIMutations({hideMiniAIOEntrance:{toNativeEventName:"hideMiniAIOEntrance"},invokeAfter:function(e,t,n,r){}})},function(e,t,n){e.exports=n(34)},function(e,t,n){e.exports&&(e.exports={updateTime:"2020.11.30 20:7:22",version:"1.22.0",build:"00008"})},function(e,t,n){var r=n(49);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){t.CommandConstant={canvas2d:{drawImage:{name:"drawImage"},fill:{name:"fill"},stroke:{name:"stroke"},rect:{name:"rect"},fillRect:{name:"fillRect"},strokeRect:{name:"strokeRect"},clearRect:{name:"clearRect"},beginPath:{name:"beginPath"},closePath:{name:"closePath"},moveTo:{name:"moveTo"},lineTo:{name:"lineTo"},arcTo:{name:"arcTo"},arc:{name:"arc"},quadraticCurveTo:{name:"quadraticCurveTo"},bezierCurveTo:{name:"bezierCurveTo"},save:{name:"save"},restore:{name:"restore"},fillText:{name:"fillText"},strokeText:{name:"strokeText"},clip:{name:"clip"},createImageData:{name:"createImageData"},getImageData:{name:"getImageData"},putImageData:{name:"putImageData"},scale:{name:"scale"},rotate:{name:"rotate"},translate:{name:"translate"},transform:{name:"transform"},setTransform:{name:"setTransform"},resetTransform:{name:"resetTransform"},measureText:{name:"measureText"},createPattern:{name:"createPattern"},createLinearGradient:{name:"createLinearGradient"},createRadialGradient:{name:"createRadialGradient"},globalAlpha:{name:"globalAlpha"},globalCompositeOperation:{name:"globalCompositeOperation"},fillColor:{name:"fillColor"},fillStyle:{name:"fillStyle"},strokeColor:{name:"strokeColor"},strokeStyle:{name:"strokeStyle"},lineWidth:{name:"lineWidth"},lineCap:{name:"lineCap"},lineJoin:{name:"lineJoin"},miterLimit:{name:"miterLimit"},font:{name:"font"},textAlign:{name:"textAlign"},textBaseline:{name:"textBaseline"},imageSmoothingEnabled:{name:"imageSmoothingEnabled"}},webgl:{activeTexture:{name:"activeTexture"},attachShader:{name:"attachShader"},bindAttribLocation:{name:"bindAttribLocation"},bindBuffer:{name:"bindBuffer"},bindFramebuffer:{name:"bindFramebuffer"},bindRenderbuffer:{name:"bindRenderbuffer"},bindTexture:{name:"bindTexture"},blendColor:{name:"blendColor"},blendEquation:{name:"blendEquation"},blendEquationSeparate:{name:"blendEquationSeparate"},blendFunc:{name:"blendFunc"},blendFuncSeparate:{name:"blendFuncSeparate"},bufferData:{name:"bufferData"},bufferSubData:{name:"bufferSubData"},checkFramebufferStatus:{name:"checkFramebufferStatus"},clear:{name:"clear"},clearColor:{name:"clearColor"},clearDepth:{name:"clearDepth"},clearStencil:{name:"clearStencil"},colorMask:{name:"colorMask"},compileShader:{name:"compileShader"},compressedTexImage2D:{name:"compressedTexImage2D"},compressedTexSubImage2D:{name:"compressedTexSubImage2D"},copyTexImage2D:{name:"copyTexImage2D"},copyTexSubImage2D:{name:"copyTexSubImage2D"},createBuffer:{name:"createBuffer"},createFramebuffer:{name:"createFramebuffer"},createProgram:{name:"createProgram"},createRenderbuffer:{name:"createRenderbuffer"},createShader:{name:"createShader"},createTexture:{name:"createTexture"},cullFace:{name:"cullFace"},deleteBuffer:{name:"deleteBuffer"},deleteFramebuffer:{name:"deleteFramebuffer"},deleteProgram:{name:"deleteProgram"},deleteRenderbuffer:{name:"deleteRenderbuffer"},deleteShader:{name:"deleteShader"},deleteTexture:{name:"deleteTexture"},depthFunc:{name:"depthFunc"},depthMask:{name:"depthMask"},depthRange:{name:"depthRange"},detachShader:{name:"detachShader"},disable:{name:"disable"},disableVertexAttribArray:{name:"disableVertexAttribArray"},drawArrays:{name:"drawArrays"},drawElements:{name:"drawElements"},enable:{name:"enable"},enableVertexAttribArray:{name:"enableVertexAttribArray"},finish:{name:"finish"},flush:{name:"flush"},framebufferRenderbuffer:{name:"framebufferRenderbuffer"},framebufferTexture2D:{name:"framebufferTexture2D"},frontFace:{name:"frontFace"},generateMipmap:{name:"generateMipmap"},getExtension:{name:"getExtension"},getSupportedExtensions:{name:"getSupportedExtensions"},getActiveAttrib:{name:"getActiveAttrib"},getActiveUniform:{name:"getActiveUniform"},getAttachedShaders:{name:"getAttachedShaders"},getAttribLocation:{name:"getAttribLocation"},getBufferParameter:{name:"getBufferParameter"},getContextAttributes:{name:"getContextAttributes"},getError:{name:"getError"},getFramebufferAttachmentParameter:{name:"getFramebufferAttachmentParameter"},getParameter:{name:"getParameter"},getProgramInfoLog:{name:"getProgramInfoLog"},getProgramParameter:{name:"getProgramParameter"},getRenderbufferParameter:{name:"getRenderbufferParameter"},getShaderInfoLog:{name:"getShaderInfoLog"},getShaderParameter:{name:"getShaderParameter"},getShaderPrecisionFormat:{name:"getShaderPrecisionFormat"},getShaderSource:{name:"getShaderSource"},getTexParameter:{name:"getTexParameter"},getUniform:{name:"getUniform"},getUniformLocation:{name:"getUniformLocation"},getVertexAttrib:{name:"getVertexAttrib"},getVertexAttribOffset:{name:"getVertexAttribOffset"},readPixels:{name:"readPixels"},hint:{name:"hint"},isBuffer:{name:"isBuffer"},isEnabled:{name:"isEnabled"},isFramebuffer:{name:"isFramebuffer"},isProgram:{name:"isProgram"},isRenderbuffer:{name:"isRenderbuffer"},isShader:{name:"isShader"},isTexture:{name:"isTexture"},isVertexArray:{name:"isVertexArray"},lineWidth:{name:"lineWidth"},linkProgram:{name:"linkProgram"},pixelStorei:{name:"pixelStorei"},polygonOffset:{name:"polygonOffset"},renderbufferStorage:{name:"renderbufferStorage"},sampleCoverage:{name:"sampleCoverage"},scissor:{name:"scissor"},shaderSource:{name:"shaderSource"},stencilFunc:{name:"stencilFunc"},stencilFuncSeparate:{name:"stencilFuncSeparate"},stencilMask:{name:"stencilMask"},stencilMaskSeparate:{name:"stencilMaskSeparate"},stencilOp:{name:"stencilOp"},stencilOpSeparate:{name:"stencilOpSeparate"},texImage2D:{name:"texImage2D"},texParameterf:{name:"texParameterf"},texParameteri:{name:"texParameteri"},texSubImage2D:{name:"texSubImage2D"},uniform1f:{name:"uniform1f"},uniform1fv:{name:"uniform1fv"},uniform1i:{name:"uniform1i"},uniform1iv:{name:"uniform1iv"},uniform2f:{name:"uniform2f"},uniform2fv:{name:"uniform2fv"},uniform2i:{name:"uniform2i"},uniform2iv:{name:"uniform2iv"},uniform3f:{name:"uniform3f"},uniform3fv:{name:"uniform3fv"},uniform3i:{name:"uniform3i"},uniform3iv:{name:"uniform3iv"},uniform4f:{name:"uniform4f"},uniform4fv:{name:"uniform4fv"},uniform4i:{name:"uniform4i"},uniform4iv:{name:"uniform4iv"},uniformMatrix2fv:{name:"uniformMatrix2fv"},uniformMatrix3fv:{name:"uniformMatrix3fv"},uniformMatrix4fv:{name:"uniformMatrix4fv"},useProgram:{name:"useProgram"},validateProgram:{name:"validateProgram"},vertexAttrib1f:{name:"vertexAttrib1f"},vertexAttrib1fv:{name:"vertexAttrib1fv"},vertexAttrib2f:{name:"vertexAttrib2f"},vertexAttrib2fv:{name:"vertexAttrib2fv"},vertexAttrib3f:{name:"vertexAttrib3f"},vertexAttrib3fv:{name:"vertexAttrib3fv"},vertexAttrib4f:{name:"vertexAttrib4f"},vertexAttrib4fv:{name:"vertexAttrib4fv"},vertexAttribPointer:{name:"vertexAttribPointer"},viewport:{name:"viewport"},createVertexArray:{name:"createVertexArray"},bindVertexArray:{name:"bindVertexArray"},deleteVertexArray:{name:"deleteVertexArray"},drawArraysInstanced:{name:"drawArraysInstanced"},drawElementsInstanced:{name:"drawElementsInstanced"},vertexAttribDivisor:{name:"vertexAttribDivisor"},bindVertexArrayOES:{name:"bindVertexArrayOES"},createVertexArrayOES:{name:"createVertexArrayOES"},deleteVertexArrayOES:{name:"deleteVertexArrayOES"},isVertexArrayOES:{name:"isVertexArrayOES"}}}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t){t.CommandConstant={canvas2d:{drawImage:{name:"drawImage"},fill:{name:"fill"},stroke:{name:"stroke"},rect:{name:"rect"},fillRect:{name:"fillRect"},strokeRect:{name:"strokeRect"},clearRect:{name:"clearRect"},beginPath:{name:"beginPath"},closePath:{name:"closePath"},moveTo:{name:"moveTo"},lineTo:{name:"lineTo"},arcTo:{name:"arcTo"},arc:{name:"arc"},quadraticCurveTo:{name:"quadraticCurveTo"},bezierCurveTo:{name:"bezierCurveTo"},save:{name:"save"},restore:{name:"restore"},fillText:{name:"fillText"},strokeText:{name:"strokeText"},clip:{name:"clip"},createImageData:{name:"createImageData"},getImageData:{name:"getImageData"},putImageData:{name:"putImageData"},scale:{name:"scale"},rotate:{name:"rotate"},translate:{name:"translate"},transform:{name:"transform"},setTransform:{name:"setTransform"},resetTransform:{name:"resetTransform"},measureText:{name:"measureText"},createPattern:{name:"createPattern"},createLinearGradient:{name:"createLinearGradient"},createRadialGradient:{name:"createRadialGradient"},globalAlpha:{name:"globalAlpha"},globalCompositeOperation:{name:"globalCompositeOperation"},fillColor:{name:"fillColor"},fillStyle:{name:"fillStyle"},strokeColor:{name:"strokeColor"},strokeStyle:{name:"strokeStyle"},lineWidth:{name:"lineWidth"},lineCap:{name:"lineCap"},lineJoin:{name:"lineJoin"},miterLimit:{name:"miterLimit"},font:{name:"font"},textAlign:{name:"textAlign"},textBaseline:{name:"textBaseline"},imageSmoothingEnabled:{name:"imageSmoothingEnabled"}},webgl:{activeTexture:{name:"activeTexture"},attachShader:{name:"attachShader"},bindAttribLocation:{name:"bindAttribLocation"},bindBuffer:{name:"bindBuffer"},bindFramebuffer:{name:"bindFramebuffer"},bindRenderbuffer:{name:"bindRenderbuffer"},bindTexture:{name:"bindTexture"},blendColor:{name:"blendColor"},blendEquation:{name:"blendEquation"},blendEquationSeparate:{name:"blendEquationSeparate"},blendFunc:{name:"blendFunc"},blendFuncSeparate:{name:"blendFuncSeparate"},bufferData:{name:"bufferData"},bufferSubData:{name:"bufferSubData"},checkFramebufferStatus:{name:"checkFramebufferStatus"},clear:{name:"clear"},clearColor:{name:"clearColor"},clearDepth:{name:"clearDepth"},clearStencil:{name:"clearStencil"},colorMask:{name:"colorMask"},compileShader:{name:"compileShader"},compressedTexImage2D:{name:"compressedTexImage2D"},compressedTexSubImage2D:{name:"compressedTexSubImage2D"},copyTexImage2D:{name:"copyTexImage2D"},copyTexSubImage2D:{name:"copyTexSubImage2D"},createBuffer:{name:"createBuffer"},createFramebuffer:{name:"createFramebuffer"},createProgram:{name:"createProgram"},createRenderbuffer:{name:"createRenderbuffer"},createShader:{name:"createShader"},createTexture:{name:"createTexture"},cullFace:{name:"cullFace"},deleteBuffer:{name:"deleteBuffer"},deleteFramebuffer:{name:"deleteFramebuffer"},deleteProgram:{name:"deleteProgram"},deleteRenderbuffer:{name:"deleteRenderbuffer"},deleteShader:{name:"deleteShader"},deleteTexture:{name:"deleteTexture"},depthFunc:{name:"depthFunc"},depthMask:{name:"depthMask"},depthRange:{name:"depthRange"},detachShader:{name:"detachShader"},disable:{name:"disable"},disableVertexAttribArray:{name:"disableVertexAttribArray"},drawArrays:{name:"drawArrays"},drawElements:{name:"drawElements"},enable:{name:"enable"},enableVertexAttribArray:{name:"enableVertexAttribArray"},finish:{name:"finish"},flush:{name:"flush"},framebufferRenderbuffer:{name:"framebufferRenderbuffer"},framebufferTexture2D:{name:"framebufferTexture2D"},frontFace:{name:"frontFace"},generateMipmap:{name:"generateMipmap"},getExtension:{name:"getExtension"},getSupportedExtensions:{name:"getSupportedExtensions"},getActiveAttrib:{name:"getActiveAttrib"},getActiveUniform:{name:"getActiveUniform"},getAttachedShaders:{name:"getAttachedShaders"},getAttribLocation:{name:"getAttribLocation"},getBufferParameter:{name:"getBufferParameter"},getError:{name:"getError"},getFramebufferAttachmentParameter:{name:"getFramebufferAttachmentParameter"},getParameter:{name:"getParameter"},getProgramInfoLog:{name:"getProgramInfoLog"},getProgramParameter:{name:"getProgramParameter"},getRenderbufferParameter:{name:"getRenderbufferParameter"},getShaderInfoLog:{name:"getShaderInfoLog"},getShaderParameter:{name:"getShaderParameter"},getShaderPrecisionFormat:{name:"getShaderPrecisionFormat"},getShaderSource:{name:"getShaderSource"},getTexParameter:{name:"getTexParameter"},getUniform:{name:"getUniform"},getUniformLocation:{name:"getUniformLocation"},getVertexAttrib:{name:"getVertexAttrib"},getVertexAttribOffset:{name:"getVertexAttribOffset"},readPixels:{name:"readPixels"},hint:{name:"hint"},isBuffer:{name:"isBuffer"},isEnabled:{name:"isEnabled"},isFramebuffer:{name:"isFramebuffer"},isProgram:{name:"isProgram"},isRenderbuffer:{name:"isRenderbuffer"},isShader:{name:"isShader"},isTexture:{name:"isTexture"},isVertexArray:{name:"isVertexArray"},lineWidth:{name:"lineWidth"},linkProgram:{name:"linkProgram"},pixelStorei:{name:"pixelStorei"},polygonOffset:{name:"polygonOffset"},renderbufferStorage:{name:"renderbufferStorage"},sampleCoverage:{name:"sampleCoverage"},scissor:{name:"scissor"},shaderSource:{name:"shaderSource"},stencilFunc:{name:"stencilFunc"},stencilFuncSeparate:{name:"stencilFuncSeparate"},stencilMask:{name:"stencilMask"},stencilMaskSeparate:{name:"stencilMaskSeparate"},stencilOp:{name:"stencilOp"},stencilOpSeparate:{name:"stencilOpSeparate"},texImage2D:{name:"texImage2D"},texParameterf:{name:"texParameterf"},texParameteri:{name:"texParameteri"},texSubImage2D:{name:"texSubImage2D"},uniform1f:{name:"uniform1f"},uniform1fv:{name:"uniform1fv"},uniform1i:{name:"uniform1i"},uniform1iv:{name:"uniform1iv"},uniform2f:{name:"uniform2f"},uniform2fv:{name:"uniform2fv"},uniform2i:{name:"uniform2i"},uniform2iv:{name:"uniform2iv"},uniform3f:{name:"uniform3f"},uniform3fv:{name:"uniform3fv"},uniform3i:{name:"uniform3i"},uniform3iv:{name:"uniform3iv"},uniform4f:{name:"uniform4f"},uniform4fv:{name:"uniform4fv"},uniform4i:{name:"uniform4i"},uniform4iv:{name:"uniform4iv"},uniformMatrix2fv:{name:"uniformMatrix2fv"},uniformMatrix3fv:{name:"uniformMatrix3fv"},uniformMatrix4fv:{name:"uniformMatrix4fv"},useProgram:{name:"useProgram"},validateProgram:{name:"validateProgram"},vertexAttrib1f:{name:"vertexAttrib1f"},vertexAttrib1fv:{name:"vertexAttrib1fv"},vertexAttrib2f:{name:"vertexAttrib2f"},vertexAttrib2fv:{name:"vertexAttrib2fv"},vertexAttrib3f:{name:"vertexAttrib3f"},vertexAttrib3fv:{name:"vertexAttrib3fv"},vertexAttrib4f:{name:"vertexAttrib4f"},vertexAttrib4fv:{name:"vertexAttrib4fv"},vertexAttribPointer:{name:"vertexAttribPointer"},viewport:{name:"viewport"},createVertexArray:{name:"createVertexArray"},bindVertexArray:{name:"bindVertexArray"},deleteVertexArray:{name:"deleteVertexArray"},drawArraysInstanced:{name:"drawArraysInstanced"},drawElementsInstanced:{name:"drawElementsInstanced"},vertexAttribDivisor:{name:"vertexAttribDivisor"},bindVertexArrayOES:{name:"bindVertexArrayOES"},createVertexArrayOES:{name:"createVertexArrayOES"},deleteVertexArrayOES:{name:"deleteVertexArrayOES"},isVertexArrayOES:{name:"isVertexArrayOES"}}}},function(e,t){__TT__GLOBAL__;var n,r,o=__TT__GLOBAL__;__TT__GLOBAL__;n=o.__ttObjdec__,r=[],n.createWorker=function(e){if(r.length>=1){var t=new Error("createWorker: exceed max concurrent workers limit.");return console.error(t.message),void console.error(t.stack)}var o={isTerminate:!1,listeners:[]};return o._worker=new n.Triton.Worker,o.postMessage=function(e){if(!this.isTerminate){e=WeixinNativeBuffer.pack(e);var t=JSON.stringify(e);this._worker.postMessage(t)}},o.onMessage=function(e){this.isTerminate||this.listeners.push(e)},o.terminate=function(){this.isTerminate||(this.isTerminate=!0,this._worker.terminate(),this._worker=void 0,this.listeners=[],r=r.filter((function(e){return e!==o})))},o._worker.onMessage((function(e){var t=WeixinNativeBuffer.unpack(e);o.listeners.forEach((function(e){e(t)}))})),"string"==typeof e&&o._worker.runScript(e),r.push(o),o}},function(e,t,n){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}__TT__GLOBAL__;var i=__TT__GLOBAL__,a=__TT__GLOBAL__.newCmdBufferQueue;!function(e){i.setTimeout=function(t,n){return n=n||0,e.Triton.MessageQueue.setTimeout(t,n)},i.clearTimeout=function(t){t&&e.Triton.MessageQueue.removeTimeout(t)},i.setInterval=function(t,n){n=n||0;var r={};return r.id=e.Triton.MessageQueue.setTimeout((function o(){r.id=e.Triton.MessageQueue.setTimeout(o,n),t()}),n),r},i.clearInterval=function(t){t&&"number"==typeof t.id&&e.Triton.MessageQueue.removeTimeout(t.id)};var t=0,n=new Map,o=new Map;i.requestAnimationFrame=function(e){if("function"==typeof e){var r=t++;return n.set(r,e),r}},i.cancelAnimationFrame=function(e){n.delete(e)},e.Triton.__processAnimateFrame__=function(e){var t=n;n=o;var i,a=r(t.values());try{for(a.s();!(i=a.n()).done;){(0,i.value)(e)}}catch(e){a.e(e)}finally{a.f()}t.clear(),o=t}}(i.__ttObjdec__),function(e){var t=n(25).FlushType,r=!1;function o(){return scriptEngineContextType&&(scriptEngineContextType==CONTEXT_TYPE_MAIN||scriptEngineContextType==CONTEXT_TYPE_OPENDATA)}wx.__tt___changeGameState__=function(e){r=!e},!a&&o()&&e.Triton.Director.init(),e.Triton.__onVSync__=function(n){r?o()&&i.q9zq.saveToFile():(o()&&i.q9zq.frameStart(),e.Triton.__processAnimateFrame__(n),a?CONTEXT_TYPE_MAIN==scriptEngineContextType&&e.RenderCmdQueue.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME):o()&&(null!=e.lastMergeCanvas&&(e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=null),e.CommandQueueV2.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME),e.CommandQueue.Instance.flushCmd()))}}(i.__ttObjdec__),function(e){function t(){return Date.now()}var n=t(),r=function(){return t()-n};i.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return e.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(e){i.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout((function(){i.timePerformanceResult("",e)}),0))},FrameProfileEnd:function(e){if(i.timePerformanceResult){this.FrameProfileRunning=!1;var t=this.getDataStr();setTimeout((function(){i.timePerformanceResult(t,e)}),0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=r(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(r()-this.frameStartTime>16?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t="".concat(this.fpIndex,"_").concat(this.funIndex,"_").concat(e);return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:r(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var n=r(),o=this.tempFrameRec[this.lastRecIndex];o.callIndex==t.s&&n-o.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:r(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var n=[],r=[],o=0;o<t.list.length;o++){if("start"==(p=t.list[o]).type)n.push(p),r.push(p);else for(;;){var i,a=n.pop();if(!a){p.disable=!0,__err("打点数据出现非预期的异常情况(只有end，没有start)");break}if(a.callIndex==p.callIndex){p.searchInfo="searchInfo: ".concat(a.key,"_").concat(p&&p.time-a.time),r.push(p);break}a.disable=!0,r.push({key:a.key,type:"end",time:null===(i=p)||void 0===i?void 0:i.time,callIndex:a.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: ".concat(a.key,"_").concat(p&&p.time-a.time,"_exception")})}}for(var s=r[r.length-1]&&r[r.length-1].time,c=n.length-1;c>=0;c--){var u=n[c];u.disable=!0,r.push({key:u.key,type:"end",time:s,callIndex:u.callIndex,addedPoint:!0})}for(var f=[],l=0;l<t.list.length;l++){var p;(p=t.list[l]).disable||f.push(p)}t.list=r}}var m=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,m}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),n="".concat(t.getSeconds(),":").concat(t.getHours(),":").concat(t.getMinutes());this.moniterFileTime=n,this.moniterFileIndex=0}var r="wxfile://usr/js_time_monitor_".concat(++this.moniterFileIndex,"_").concat(this.moniterFileTime,".json");wx.getFileSystemManager().writeFile({filePath:r,data:e,success:function(){console.log("save moniter success: ".concat(r))}})}}},e.initFrameProfile=function(){scriptEngineContextType==CONTEXT_TYPE_MAIN&&(console.log("initFrameProfile"),wx.registerProfile((function(e){if(console.log("FrameProfile onMessage:",e),e){var t=e.cmd,n=e.id;"start"===t?i.q9zq.FrameProfileStart(n):"end"===t&&i.q9zq.FrameProfileEnd(n)}})))}}(i.__ttObjdec__)},function(e,t){var n=__TT__GLOBAL__;!function(e){var t={};function r(n){t[n]||e.Triton.Script.loadJS(n)}function o(e){var t=e.match(/(.*)\/([^\/]+)?$/);return(null==t?void 0:t[1])?t[1]:"./"}function i(e,t){if("string"!=typeof t)throw new Error("require args must be a string");for(var n=[],r="".concat(e,"/").concat(t).split("/"),o=0,i=r.length;o<i;++o){var a=r[o];if(""!==a&&"."!==a)if(".."===a){if(0===n.length)throw new Error("can't find module : ".concat(t));n.pop()}else o+1<i&&".."===r[o+1]?o++:n.push(a)}var s=n.join("/");return/\.js$/.test(s)||(s+=".js"),e.match(/(^|\/)miniprogram_npm\//)&&(s=t),s}function a(e,t){if(1===e.status){var n,r=e.factory,o={exports:{}};r&&(n=r(t,o,o.exports)),e.exports=o.exports||n,e.status=2}}function s(e){var n=o(e);return function(e){return function(e){var n=t[e];if(!n){var o=p(n,e);n=o.mod,e=o.path}return r(e),a(n,s(e)),n.exports}(i(n,e))}}var c={},u={};function f(e){var t=u[e];if(void 0===t)throw new Error("can't find plugin ".concat(e));return"__plugin__/".concat(t)}var l,p=function(e,n){var r=n,o=e;return o||(-1!==r.indexOf(".js")&&(r=r.replace(".js","")),r="miniprogram_npm/".concat(r,"/index.js"),o=t[r]),{mod:o,path:r}};n.__tt__allModules=t,n.define=function(e,n){t[e]||(t[e]={exports:{},factory:n,status:1})},n.definePlugin=function(e,t,n){u[e]=t,n((function(e,t){c[e]||(c[e]={exports:{},factory:t,status:1})}))},n.require=s(""),n.requirePlugin=function(t){var n=t.match(/([^\/]+)(\/(.*))?/);if(n){var r=n[1],s=n[3];!function(t){u[t]||e.Triton.Script.loadPlugin(t)}(r);var l=function e(t,n){return function(r){var s;if(void 0!==r){if(!(s=i(o(n),r)).startsWith("".concat(f(t),"/")))throw new Error("invalid plugin file ".concat(t,"/").concat(r))}else{if(n!==f(t))throw new Error("require args must be a string");s="".concat(f(t),".js")}var u=c[s];if(void 0===u)throw r?new Error("can't find plugin file ".concat(t," ").concat(r)):new Error("can't find plugin ".concat(t));return a(u,e(t,s)),u.exports}}(r,f(r));l(void 0===s?void 0:"".concat(u[r],"/").concat(s))}},n.__tt__preloadjs=(l=o(""),function(e){r(i(l,e))})}(n.__ttObjdec__)},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiInfoMapMaxSize=t.TruncatLen=t.eventCbkDefaultTimeout=t.apiCbkDefaultTimeout=t.argPropertyCbkCheckNames=t.autoAddCallbackProperties=void 0,t.autoAddCallbackProperties=["success","fail"],t.argPropertyCbkCheckNames=["success","fail"],t.apiCbkDefaultTimeout=3e3,t.eventCbkDefaultTimeout=3e4,t.TruncatLen=1e3,t.ApiInfoMapMaxSize=1e3},function(e,t,n){var r=n(105),o=n(50),i=n(35),a=n(106);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t,n){var r=__TT__GLOBAL__,o=(r.__ttObjdec__,n(3));!function(e){null==wx.webglPlus&&(wx.webglPlus={}),o.isIOS&&(_conchFloatArrayKeyframe=void 0,_conchKeyframeNode=void 0,_conchKeyframeNodeList=void 0,_ArrayBufferRef=void 0);var t,n,r,i;!function(e){e[e.INTERIOR_UNIFORM1F=0]="INTERIOR_UNIFORM1F",e[e.INTERIOR_UNIFORM1FV=1]="INTERIOR_UNIFORM1FV",e[e.INTERIOR_UNIFORM1I=2]="INTERIOR_UNIFORM1I",e[e.INTERIOR_UNIFORM1IV=3]="INTERIOR_UNIFORM1IV",e[e.INTERIOR_UNIFORM2F=4]="INTERIOR_UNIFORM2F",e[e.INTERIOR_UNIFORM2FV=5]="INTERIOR_UNIFORM2FV",e[e.INTERIOR_UNIFORM2I=6]="INTERIOR_UNIFORM2I",e[e.INTERIOR_UNIFORM2IV=7]="INTERIOR_UNIFORM2IV",e[e.INTERIOR_UNIFORM3F=8]="INTERIOR_UNIFORM3F",e[e.INTERIOR_UNIFORM3FV=9]="INTERIOR_UNIFORM3FV",e[e.INTERIOR_UNIFORM3I=10]="INTERIOR_UNIFORM3I",e[e.INTERIOR_UNIFORM3IV=11]="INTERIOR_UNIFORM3IV",e[e.INTERIOR_UNIFORM4F=12]="INTERIOR_UNIFORM4F",e[e.INTERIOR_UNIFORM4FV=13]="INTERIOR_UNIFORM4FV",e[e.INTERIOR_UNIFORM4I=14]="INTERIOR_UNIFORM4I",e[e.INTERIOR_UNIFORM4IV=15]="INTERIOR_UNIFORM4IV",e[e.INTERIOR_UNIFORMMATRIX2FV=16]="INTERIOR_UNIFORMMATRIX2FV",e[e.INTERIOR_UNIFORMMATRIX3FV=17]="INTERIOR_UNIFORMMATRIX3FV",e[e.INTERIOR_UNIFORMMATRIX4FV=18]="INTERIOR_UNIFORMMATRIX4FV",e[e.INTERIOR_UNIFORMSAMPLER_2D=19]="INTERIOR_UNIFORMSAMPLER_2D",e[e.INTERIOR_UNIFORMSAMPLER_CUBE=20]="INTERIOR_UNIFORMSAMPLER_CUBE"}(t||(t={})),function(e){e[e.ARRAY_BUFFER_REF_REFERENCE=0]="ARRAY_BUFFER_REF_REFERENCE",e[e.ARRAY_BUFFER_REF_COPY=1]="ARRAY_BUFFER_REF_COPY"}(n||(n={})),function(e){e[e.UPLOAD_SHADER_UNIFORM_TYPE_ID=0]="UPLOAD_SHADER_UNIFORM_TYPE_ID",e[e.UPLOAD_SHADER_UNIFORM_TYPE_DATA=1]="UPLOAD_SHADER_UNIFORM_TYPE_DATA"}(r||(r={})),function(e){e[e.ARRAY_BUFFER_TYPE_DATA=0]="ARRAY_BUFFER_TYPE_DATA",e[e.ARRAY_BUFFER_TYPE_CMD=1]="ARRAY_BUFFER_TYPE_CMD"}(i||(i={}));var a=function(){function t(){o.isAndroid?this._nativeObj=new _conchFloatArrayKeyframe:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createFloatArrayKeyframe())}return Object.defineProperty(t.prototype,"time",{get:function(){return this._nativeObj.getTime()},set:function(e){this._nativeObj.setTime(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._nativeObj.setData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inTangent",{get:function(){return this._inTangent},set:function(e){this._inTangent=e,this._nativeObj.setInTangent(this._inTangent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outTangent",{get:function(){return this._outTangent},set:function(e){this._outTangent=e,this._nativeObj.setOutTangent(this._outTangent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._nativeObj.setValue(this._value)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return this.cloneTo(e),e},t.prototype.cloneTo=function(e){e.inTangent=this._inTangent.slice(),e.outTangent=this._outTangent.slice(),e.value=this._value.slice(),e.data=this._data.slice()},t}();if(wx.webglPlus.conchFloatArrayKeyframe=a,o.isIOS)var s=function(){function t(){this._nativeObj=e.webglPlusUtil.createFloatKeyframe()}t.prototype.clone=function(){var e=new t,n=this._nativeObj.clone();return e._nativeObj=n,e},t.prototype.cloneTo=function(e){this._nativeObj.cloneTo(e._nativeObj)},Object.defineProperty(t.prototype,"time",{get:function(){return this._nativeObj.time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inTangent",{get:function(){return this._nativeObj.inTangent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outTangent",{get:function(){return this._nativeObj.outTangent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._nativeObj.value},enumerable:!0,configurable:!0})}();wx.webglPlus.conchFloatKeyframe=s;var c=function(){function t(){this._keyFrameArray=[],this._type=0,this._setKeyframeByIndex=function(e,t){this._keyFrameArray[e]=t,t instanceof a?this._nativeObj._setKeyframeByIndex1(e,t._nativeObj):o.isIOS?this._nativeObj._setKeyframeByIndex0(e,t._nativeObj):this._nativeObj._setKeyframeByIndex0(e,t)},o.isAndroid?this._nativeObj=new _conchKeyframeNode:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createKeyframeNode())}return Object.defineProperty(t.prototype,"data",{get:function(){return 0==this._type?this._nativeObj.getFloatData():this._data},set:function(e){this._data=e,this._nativeObj.setFloat32ArrayData(this._data.elements)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indexInList",{get:function(){return this._nativeObj._indexInList},set:function(e){this._nativeObj._indexInList=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._nativeObj.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._nativeObj.fullPath},set:function(e){this._nativeObj.fullPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyOwner",{get:function(){return this._nativeObj.propertyOwner},set:function(e){this._nativeObj.propertyOwner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ownerPathCount",{get:function(){return this._nativeObj.ownerPathCount},set:function(e){this._nativeObj.ownerPathCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyCount",{get:function(){return this._nativeObj.propertyCount},set:function(e){this._nativeObj.propertyCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyFramesCount",{get:function(){return this._keyFrameArray.length},set:function(e){this._keyFrameArray.length=e,this._nativeObj.keyFramesCount=e},enumerable:!0,configurable:!0}),t.prototype.getOwnerPathCount=function(){return this._nativeObj.getOwnerPathCount()},t.prototype._setOwnerPathCount=function(e){this._nativeObj._setOwnerPathCount(e)},t.prototype.getPropertyCount=function(){return this._nativeObj.getPropertyCount()},t.prototype._setPropertyCount=function(e){this._nativeObj._setPropertyCount(e)},t.prototype.getKeyFramesCount=function(){return this._keyFrameArray.length},t.prototype._setKeyframeCount=function(e){this._keyFrameArray.length=e,this._nativeObj._setKeyframeCount(e)},t.prototype.getOwnerPathByIndex=function(e){return this._nativeObj.getOwnerPathByIndex(e)},t.prototype._setOwnerPathByIndex=function(e,t){this._nativeObj._setOwnerPathByIndex(e,t)},t.prototype.getPropertyByIndex=function(e){return this._nativeObj.getPropertyByIndex(e)},t.prototype._setPropertyByIndex=function(e,t){this._nativeObj._setPropertyByIndex(e,t)},t.prototype.getKeyframeByIndex=function(e){return this._nativeObj.getKeyframeByIndex(e)},t.prototype._joinOwnerPath=function(e){return this._nativeObj._joinOwnerPath(e)},t.prototype._joinProperty=function(e){return this._nativeObj._joinProperty(e)},t}();wx.webglPlus.conchKeyframeNode=c;var u=function(){function t(){this._nodes=[],o.isAndroid?this._nativeObj=new _conchKeyframeNodeList:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createKeyframeNodeList())}return Object.defineProperty(t.prototype,"count",{get:function(){return this._nodes.length},set:function(e){this._nodes.length=e,this._nativeObj.setCount(e)},enumerable:!0,configurable:!0}),t.prototype.getNodeByIndex=function(e){return this._nodes[e]},t.prototype.setNodeByIndex=function(e,t){this._nodes[e]=t,this._nativeObj.setNodeByIndex(e,t._nativeObj)},t}();wx.webglPlus.conchKeyframeNodeList=u;var f=function(){function n(e,t,n,r){this._adjustSize=0,this._byteLen=0,this._isSyncToRenderThread=!1,this._isSyncToRenderThread=r,this._layagl=e,this._byteLen=t,this._adjustSize=n,this._init(r)}return n.prototype._init=function(e){this._buffer=new ArrayBuffer(this._byteLen),this._idata=new Int32Array(this._buffer),this._fdata=new Float32Array(this._buffer),this._byteArray=new Uint8Array(this._buffer),this._layagl.createArrayBufferRef(this._buffer,i.ARRAY_BUFFER_TYPE_CMD,e),this._idata[0]=1},n.prototype.getAlignLength=function(e){return e.byteLength+3&4294967292},n.prototype.getPtrID=function(){return this._buffer._ptrID},n.prototype.clearEncoding=function(){this._idata[0]=1},n.prototype.getCount=function(){return this._idata[0]},n.prototype._need=function(t){if(!(this._byteLen-(this._idata[0]<<2)>=t)){this._byteLen+=t>this._adjustSize?t:this._adjustSize;var n=this._idata,r=this._buffer.conchRef,i=this._buffer._ptrID;this._buffer=new ArrayBuffer(this._byteLen),this._idata=new Int32Array(this._buffer),this._fdata=new Float32Array(this._buffer),this._byteArray=new Uint8Array(this._buffer),this._buffer.conchRef=r,this._buffer._ptrID=i,n&&this._idata.set(n,0),o.isAndroid?e.webglPlus.updateArrayBufferRef(this._buffer._ptrID,r.isSyncToRender(),this._buffer):o.isIOS&&this._layagl.__nativeObj.updateArrayBufferRef(this._buffer._ptrID,r.isSyncToRender(),this._buffer)}},n.prototype.addShaderUniform=function(e){var r=0,o=e.isArray;switch(e.type){case n.INT:r=o?t.INTERIOR_UNIFORM1IV:t.INTERIOR_UNIFORM1I;break;case n.FLOAT:r=o?t.INTERIOR_UNIFORM1FV:t.INTERIOR_UNIFORM1F;break;case n.FLOAT_VEC2:r=o?t.INTERIOR_UNIFORM2FV:t.INTERIOR_UNIFORM2F;break;case n.FLOAT_VEC3:r=o?t.INTERIOR_UNIFORM3FV:t.INTERIOR_UNIFORM3F;break;case n.FLOAT_VEC4:r=o?t.INTERIOR_UNIFORM4FV:t.INTERIOR_UNIFORM4F;break;case n.SAMPLER_2D:r=t.INTERIOR_UNIFORMSAMPLER_2D;break;case n.SAMPLER_CUBE:r=t.INTERIOR_UNIFORMSAMPLER_CUBE;break;case n.FLOAT_MAT4:r=t.INTERIOR_UNIFORMMATRIX4FV;break;case n.BOOL:r=t.INTERIOR_UNIFORM1I;break;case n.FLOAT_MAT2:r=t.INTERIOR_UNIFORMMATRIX2FV;break;case n.FLOAT_MAT3:r=t.INTERIOR_UNIFORMMATRIX3FV;break;default:throw new Error("compile shader err!")}this._layagl.syncBufferToRenderThread(this._buffer),this.add_iiiiiii(24,3,r,e.location.id,e.type,e.dataOffset,e.textureID)},n.prototype.add_iiiiiii=function(e,t,n,r,o,i,a){this._need(28);var s=this._idata,c=s[0];s[c++]=e,s[c++]=t,s[c++]=n,s[c++]=r,s[c++]=o,s[c++]=i,s[c++]=a,s[0]=c},n}();f.INT=5124,f.FLOAT=5126,f.FLOAT_VEC2=35664,f.FLOAT_VEC3=35665,f.FLOAT_VEC4=35666,f.INT_VEC2=35667,f.INT_VEC3=35668,f.INT_VEC4=35669,f.BOOL=35670,f.BOOL_VEC2=35671,f.BOOL_VEC3=35672,f.BOOL_VEC4=35673,f.FLOAT_MAT2=35674,f.FLOAT_MAT3=35675,f.FLOAT_MAT4=35676,f.SAMPLER_2D=35678,f.SAMPLER_CUBE=35680,e.extendWebGLPlusToWebGLContext=function(t){var a=e.CommandQueue.Instance;t.prototype.getAlignLength=f.prototype.getAlignLength,t.prototype.createArrayBufferRef=function(t,r,i){if(o.isAndroid)var a=e.webglPlus.createArrayBufferRef(t,r,i,n.ARRAY_BUFFER_REF_REFERENCE);else{if(!o.isIOS)return;a=this.__nativeObj.createArrayBufferRef(t,r,i,n.ARRAY_BUFFER_REF_REFERENCE)}return t.conchRef=a,t._ptrID=a.id,a},t.prototype.createArrayBufferRefs=function(t,r,i,a){t._refArray||(t._refArray=[],t._refNum=1,t._refArray.length=1,t.getRefNum=function(){return this._refNum},t.clearRefNum=function(){this._refNum=1},t.getRefSize=function(){return this._refArray.length},t.getPtrID=function(e){return e=e||0,this._refArray[e].ptrID});var s=null;if(a==n.ARRAY_BUFFER_REF_REFERENCE){var c=t._refArray;c[0]||(o.isAndroid?s=e.webglPlus.createArrayBufferRef(t,r,i,a):o.isIOS&&(s=this.__nativeObj.createArrayBufferRef(t,r,i,a)),c[0]={ref:s,ptrID:s.id})}else{if(t._refNum<t._refArray.length){s=t._refArray[t._refNum].ref;var u=t.getPtrID(t._refNum);o.isAndroid?e.webglPlus.syncArrayBufferDataToRuntime(u,s.isSyncToRender(),t):o.isIOS&&this.__nativeObj.syncArrayBufferDataToRuntime(u,s.isSyncToRender(),t)}else o.isAndroid?s=e.webglPlus.createArrayBufferRef(t,r,i,a):o.isIOS&&(s=this.__nativeObj.createArrayBufferRef(t,r,i,a)),t._refArray.push({ref:s,ptrID:s.id});t._refNum++}return s},t.prototype.updateArrayBufferRef=function(t,n,r){return o.isAndroid?e.webglPlus.updateArrayBufferRef(t,n,r):o.isIOS?this.__nativeObj.updateArrayBufferRef(t,n,r):void 0},t.prototype.updateAnimationNodeWorldMatix=function(t,n,r,i,a){return o.isAndroid?e.webglPlus.updateAnimationNodeWorldMatix(t,n,r,i,a):o.isIOS?this.__nativeObj.updateAnimationNodeWorldMatix(t,n,r,i,a):void 0},t.prototype.computeSubSkinnedData=function(t,n,r,i,a,s){return o.isAndroid?e.webglPlus.computeSubSkinnedData(t,n,r,i,a,s):o.isIOS?this.__nativeObj.computeSubSkinnedData(t,n,r,i,a,s):void 0},t.prototype.evaluateClipDatasRealTime=function(t,n,r,i,a){o.isAndroid?e.webglPlus.evaluateClipDatasRealTime(t,n,r,i,a):o.isIOS&&this.__nativeObj.evaluateClipDatasRealTime(t,n,r,i,null!=a&&a)},t.prototype.culling=function(t,n,r,i,a){return o.isAndroid?e.webglPlus.culling(t,n,r,i,a):o.isIOS?this.__nativeObj.culling(t,n,r,i,a):void 0},t.prototype.createCommandEncoder=function(e,t,n){var r=new f(this,e=e||128,t=t||64,n=n||!1);return n&&this.syncBufferToRenderThread(r),r},t.prototype.syncBufferToRenderThread=function(e,t){void 0===t&&(t=0)},t.prototype.uploadShaderUniforms=function(t,n,i){if(i==r.UPLOAD_SHADER_UNIFORM_TYPE_ID){var s=n._ptrID;this.syncBufferToRenderThread(n),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,501,1,0,2,t._buffer._ptrID,s):this.__nativeObj.uploadShaderUniforms(t._buffer._ptrID,s):o.isIOS&&(a.enableCommandQueue?a.pushCommand(this.__nativeObj,501,1,0,2,!0,t._buffer._ptrID,s):this.__nativeObj.uploadShaderUniforms(t._buffer._ptrID,s))}else{this.getAlignLength(n);var c=new ArrayBuffer(n.byteLength),u=new Uint8Array(c),f=new Uint8Array(n);u.set(f),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,502,1,0,2,t._buffer._ptrID,c):this.__nativeObj.uploadShaderUniformsBuffer(t._buffer._ptrID,c):o.isIOS&&(a.flushCmd(),this.__nativeObj.uploadShaderUniformsBuffer(t._buffer._ptrID,c))}return 0},t.prototype.uniformMatrix2fvEx=function(t,n,r){r._ptrID||this.createArrayBufferRef(r,i.ARRAY_BUFFER_TYPE_DATA,!0);var s=r._ptrID;this.syncBufferToRenderThread(r),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,503,1,0,3,t.id,n,s):this.__nativeObj.uniformMatrix2fvEx(t.id,n,s):o.isIOS&&(a.enableCommandQueue?a.pushCommand(this.__nativeObj,503,1,0,3,!1,t.id,n,s):this.__nativeObj.uniformMatrix2fvEx(t.id,n,s))},t.prototype.uniformMatrix3fvEx=function(t,n,r){r._ptrID||this.createArrayBufferRef(r,i.ARRAY_BUFFER_TYPE_DATA,!0);var s=r._ptrID;this.syncBufferToRenderThread(r),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,504,1,0,3,t.id,n,s):this.__nativeObj.uniformMatrix3fvEx(t.id,n,s):o.isIOS&&(a.enableCommandQueue?a.pushCommand(this.__nativeObj,504,1,0,3,!1,t.id,n,s):this.__nativeObj.uniformMatrix3fvEx(t.id,n,s))},t.prototype.uniformMatrix4fvEx=function(t,n,r){r._ptrID||this.createArrayBufferRef(r,i.ARRAY_BUFFER_TYPE_DATA,!0);var s=r._ptrID;this.syncBufferToRenderThread(r),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,505,1,0,3,t.id,n,s):this.__nativeObj.uniformMatrix4fvEx(t.id,n,s):o.isIOS&&(a.enableCommandQueue?a.pushCommand(this.__nativeObj,505,1,0,3,!1,t.id,n,s):this.__nativeObj.uniformMatrix4fvEx(t.id,n,s))}}}(r.__ttObjdec__)},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(1);function __cons(t,a){return eval("new t(".concat(a.map((function(e,t){return"a[".concat(t,"]")})).join(","),")"))}Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!==_typeof(e))throw TypeError();function n(){}n.prototype=e;var r=new n;if(e&&(r.constructor=n),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(r,t)}return r}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,n,r){if(e)try{return e(t,n,r)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in r&&Object.prototype.__defineGetter__.call(t,n,r.get),Object.prototype.__defineSetter__&&"set"in r&&Object.prototype.__defineSetter__.call(t,n,r.set),"value"in r&&(t[n]=r.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&Object.defineProperty(e,n,t[n]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");var t=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(r.prototype=this.prototype),o.prototype=new r,o}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>0&&(r=Number(arguments[1]),isNaN(r)?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var o=r>=0?r:Math.max(n-Math.abs(r),0);o<n;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=n;arguments.length>1&&((r=Number(arguments[1]))!=r?r=0:0!==r&&r!==1/0&&r!==-1/0&&(r=(r>0||-1)*Math.floor(Math.abs(r))));for(var o=r>=0?Math.min(r,n-1):n-Math.abs(r);o>=0;o--)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,o=arguments[1];for(r=0;r<n;r++)if(r in t&&!e.call(o,t[r],r,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,o=arguments[1];for(r=0;r<n;r++)if(r in t&&e.call(o,t[r],r,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,o=arguments[1];for(r=0;r<n;r++)r in t&&e.call(o,t[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r=[];r.length=n;var o,i=arguments[1];for(o=0;o<n;o++)o in t&&(r[o]=e.call(i,t[o],o,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,o=[],i=arguments[1];for(r=0;r<n;r++)if(r in t){var a=t[r];e.call(i,a,r,t)&&o.push(a)}return o}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in t){r=t[o++];break}if(++o>=n)throw TypeError()}for(;o<n;)o in t&&(r=e.call(void 0,r,t[o],o,t)),o++;return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(null==this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===n&&1===arguments.length)throw TypeError();var r,o=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in this){r=this[o--];break}if(--o<0)throw TypeError()}for(;o>=0;)o in t&&(r=e.call(void 0,r,t[o],o,t)),o--;return r}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return"00".concat(e).slice(-2)}return"".concat(this.getUTCFullYear(),"-").concat(e(this.getUTCMonth()+1),"-").concat(e(this.getUTCDate()),"T").concat(e(this.getUTCHours()),":").concat(e(this.getUTCMinutes()),":").concat(e(this.getUTCSeconds()),".").concat((t=this.getUTCMilliseconds(),"000".concat(t).slice(-3)),"Z");var t}),function(e){"use strict";function t(t){return t===e?void 0:t}function n(e,t){for(var n=Object.getOwnPropertyDescriptor(e,t),r=Object.getPrototypeOf(e);!n&&r;)n=Object.getOwnPropertyDescriptor(r,t),r=Object.getPrototypeOf(r);return n}var r,o;r=e.Promise,o=e.setImmediate;function i(t,n,r,o){var i;n in t&&!o||("function"==typeof r?(console.assert("symbol"===_typeof(i=n)||"Symbol"in e&&i instanceof e.Symbol||!("name"in r)||r.name===n||r.name==="".concat(n,"_"),'Expected function name "'.concat(n.toString(),'", was "').concat(r.name,'"')),Object.defineProperty(t,n,{value:r,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(t,n,{value:r,configurable:!1,enumerable:!1,writable:!1}))}function a(e,t,n){Object.defineProperty(e,t,{value:n,configurable:!1,enumerable:!1,writable:!0})}var s=e.isNaN,c=e.parseInt,u=e.parseFloat,f=Math.E,l=Math.LOG10E,p=Math.LOG2E,m=Math.abs,d=Math.ceil,h=Math.exp,_=Math.floor,v=Math.log,y=Math.max,g=Math.min,b=Math.pow,I=Math.random,E=Math.sqrt,A=String.prototype.match,O=String.prototype.replace,w=String.prototype.search,S=String.prototype.split;function N(){var e=ee(null);function t(t){var n="function"==typeof t.valueOf&&t.valueOf(e);return n===t?null:n}return{clear:function(){e=ee(null)},remove:function(e){var n=t(e);return!(!n||!Y(n,"value"))&&(delete n.value,!0)},get:function(e,n){var r=t(e);return r&&Y(r,"value")?r.value:n},has:function(e){var n=t(e);return Boolean(n&&Y(n,"value"))},set:function(n,r){(t(n)||function(t){var n=t.valueOf,r=ee(null);return Object.defineProperty(t,"valueOf",{value:function(e){return function(o){return o===e?r:n.apply(t,arguments)}}(e),configurable:!0,writeable:!0,enumerable:!1}),r}(n)).value=r}}}var T,C=Object.create(null);!function(){var n=Object.create(null),r={};T=function(e){return r[e]};var o=[];function s(e){return Array(e+1).join("x").replace(/x/g,(function(){return I()<.5?"‌":"‍"}))}function c(e){if(!(this instanceof c))return new c(e,n);if(this instanceof c&&arguments[1]!==n)throw TypeError();var t=void 0===e?void 0:String(e);return a(this,"[[SymbolData]]",s(128)),a(this,"[[Description]]",t),r[this]=this,this}"Symbol"in e||(e.Symbol=c),i(c,"for",(function(e){for(var t=String(e),n=0;n<o.length;++n){var r=o[n];if(q(r["[[key]]"],t))return r["[[symbol]]"]}var i=c(e);return o.push({"[[key]]":t,"[[symbol]]":i}),i})),i(e.Symbol,"iterator",e.Symbol("Symbol.iterator")),i(c,"keyFor",(function(e){if(!(e instanceof c))throw TypeError();for(var t=0;t<o.length;++t){var n=o[t];if(q(n["[[symbol]]"],e))return n["[[key]]"]}})),i(e.Symbol,"match",e.Symbol("Symbol.match")),i(e.Symbol,"replace",e.Symbol("Symbol.replace")),i(e.Symbol,"search",e.Symbol("Symbol.search")),i(e.Symbol,"split",e.Symbol("Symbol.split")),i(e.Symbol,"toStringTag",e.Symbol("Symbol.toStringTag")),Object.defineProperty(c.prototype,"toString",{value:function(){var e=t(this),n=e["[[Description]]"];return"Symbol(".concat(void 0===n?"":n).concat(e["[[SymbolData]]"],")")},configurable:!0,writeable:!0,enumerable:!1}),Object.defineProperty(c.prototype,"valueOf",{value:function(){throw TypeError()},configurable:!0,writeable:!0,enumerable:!1})}(),console.assert("symbol"===_typeof(e.Symbol())||void 0!==T(String(e.Symbol("x"))));var R={};function M(t){switch(_typeof(t)){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";default:return null===t?"null":t instanceof e.Symbol?"symbol":"object"}}var P=e.Symbol.iterator,j=e.Symbol.match,x=e.Symbol.replace,D=e.Symbol.search,L=e.Symbol.split,B=e.Symbol.toStringTag;function k(e){return e=Number(e),s(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*_(m(e))}function F(e){return e>>>0}function U(e){if(null==e)throw TypeError();return Object(e)}function G(e){var t=k(e);return t<=0?0:t===1/0?9007199254740991:g(t,9007199254740991)}function V(e){return"function"==typeof e}function H(e){return!!/Constructor/.test(Object.prototype.toString.call(e))||(!!/Function/.test(Object.prototype.toString.call(e))||"function"==typeof e)}function q(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||(0===e&&0===t?1/e==1/t:e===t);case"boolean":case"string":case"object":default:return e===t}}function W(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||e===t;case"boolean":case"string":case"object":default:return e===t}}function X(e,t){var n=function(e,t){return U(e)[t]}(e,t);if(null!=n){if(!V(n))throw TypeError();return n}}function J(e,t){for(;e;){if(Object.prototype.hasOwnProperty.call(e,t))return!0;if("object"!==M(e))return!1;var n=Object.getPrototypeOf(e);if(n===e)return!1;e=n}return!1}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){arguments.length<2&&(t=X(e,P));var n=t.call(e);if("object"!==M(n))throw TypeError();return n}function z(e){return console.assert("object"===M(e)),e.value}function $(e,t){var n=function(e,t){if(arguments.length<2)var n=e.next();else n=e.next(t);if("object"!==M(n))throw TypeError();return n}(e,t),r=n.done;return!0!==Boolean(r)&&n}function Q(e,t){console.assert("boolean"===M(t));var n={};return n.value=e,n.done=t,n}function Z(e){return Object.getOwnPropertyNames(e)}function ee(e,t){return Object.create(e,t)}i(Object,"assign",(function(e,t){var n=U(e);if(arguments.length<2)return n;for(var r=1;r<arguments.length;){var o=arguments[r++];if(null==o)var i=[];else{var a=U(o);i=Z(a)}for(var s=0;s<i.length;++s){var c=i[s],u=Object.getOwnPropertyDescriptor(a,c);if(null==u?void 0:u.enumerable){var f=a[c];n[c]=f}}}return n})),function(){var t="symbol"===_typeof(e.Symbol()),n=Object.getOwnPropertyNames,r=Object.keys,o="object"===("undefined"==typeof window?"undefined":_typeof(window))?n(window):[];function a(e){return!T(e)}i(Object,"getOwnPropertyNames",(function(e){if("[object Window]"===Object.prototype.toString.call(e))try{return n(e).filter(a)}catch(e){return o.slice()}return n(e).filter(a)}),!t),i(Object,"getOwnPropertySymbols",(function(e){return n(e).filter(T).map(T)}),!t),i(Object,"keys",(function(e){return r(e).filter(a)}),!t)}(),i(Object,"is",(function(e,t){return q(e,t)})),i(Object,"setPrototypeOf",(function(e,t){if("object"!==M(e))throw TypeError();if("object"!==M(t)&&"null"!==M(t))throw TypeError();return e.__proto__=t,e}));var te=Object.prototype.toString;i(Object.prototype,"toString",(function(){var e=t(this);return e===Object(e)&&B in e?"[object ".concat(e[B],"]"):te.apply(e,arguments)})),i(e.Symbol.prototype,e.Symbol.toStringTag,"Symbol"),i(Number,"EPSILON",function(){var e,t;for(e=1;1+e!==1;e/=2)t=e;return t}()),i(Number,"isFinite",(function(e){return"number"===M(e)&&(e==e&&e!==1/0&&e!==-1/0)})),i(Number,"isInteger",(function(e){return"number"===M(e)&&(e==e&&e!==1/0&&e!==-1/0&&k(e)===e)})),i(Number,"isNaN",(function(e){return"number"===M(e)&&e!=e})),i(Number,"isSafeInteger",(function(e){if("number"!==M(e))return!1;if(e!=e||e===1/0||e===-1/0)return!1;var t=k(e);return t===e&&m(t)<=9007199254740991})),i(Number,"MAX_SAFE_INTEGER",9007199254740991),i(Number,"MIN_SAFE_INTEGER",-9007199254740991),i(Number,"parseFloat",u),i(Number,"parseInt",c),i(Math,B,"Math"),i(Math,"acosh",(function(e){return e=Number(e),v(e+E(e*e-1))})),i(Math,"asinh",(function(e){if(q(e=Number(e),-0))return e;var t=E(e*e+1);return v(t===-e?0:e+t)})),i(Math,"atanh",(function(e){return 0===(e=Number(e))?e:v((1+e)/(1-e))/2})),i(Math,"cbrt",(function(e){if(e=Number(e),s(e/e))return e;var t=b(m(e),1/3),n=e/t/t;return t+t*(n-t)/(2*t+n)})),i(Math,"clz32",(function(e){function t(e){return 240&e?128&e?0:64&e?1:32&e?2:3:8&e?4:4&e?5:2&e?6:1&e?7:8}return 4278190080&(e=F(e))?t(e>>24):16711680&e?t(e>>16)+8:65280&e?t(e>>8)+16:t(e)+24})),i(Math,"cosh",(function(e){return e=Number(e),(b(f,e)+b(f,-e))/2})),i(Math,"expm1",(function(e){return q(e=Number(e),-0)?-0:m(e)<1e-5?e+.5*e*e:h(e)-1})),i(Math,"fround",(function(e){return s(e)?NaN:1/e==1/0||1/e==-1/0||e===1/0||e===-1/0?e:new Float32Array([e])[0]})),i(Math,"hypot",(function(){for(var e=[],t=0,n=!1,r=0;r<arguments.length;++r){var o=m(Number(arguments[r]));if(o===1/0)return o;o!=o&&(n=!0),o>t&&(t=o),e[r]=o}if(n)return NaN;if(0===t)return 0;var i=0;for(r=0;r<e.length;++r){var a=e[r]/t;i+=a*a}return t*E(i)})),i(Math,"imul",(function(e,t){var n=F(e),r=F(t),o=65535&n,i=65535&r;return o*i+((n>>>16&65535)*i+o*(r>>>16&65535)<<16>>>0)|0}),"imul"in Math&&0===Math.imul(1,2147483648)),i(Math,"log1p",(function(e){return(e=Number(e))<-1?NaN:q(e,-0)?-0:m(e)>1e-4?v(1+e):(-.5*e+1)*e})),i(Math,"log10",(function(e){return e=Number(e),v(e)*l})),i(Math,"log2",(function(e){return e=Number(e),v(e)*p})),i(Math,"sign",(function(e){return(e=Number(e))<0?-1:e>0?1:e})),i(Math,"sinh",(function(e){return q(e=Number(e),-0)?e:(b(f,e)-b(f,-e))/2})),i(Math,"tanh",(function(e){e=Number(e);var t=b(f,2*e)-1,n=b(f,2*e)+1;return q(e,-0)?e:t===n?1:t/n})),i(Math,"trunc",(function(e){return e=Number(e),s(e)?NaN:e<0?d(e):_(e)}));var ne,re,oe=(ne={},re=Symbol(),ne[Symbol.match]=function(){return re},"".match(ne)===re);function ie(){}i(String,"fromCodePoint",(function(){for(var e=arguments,t=e.length,n=[],r=0;r<t;){var o=e[r],i=Number(o);if(!q(i,k(i))||i<0||i>1114111)throw RangeError("Invalid code point ".concat(i));i<65536?n.push(String.fromCharCode(i)):(i-=65536,n.push(String.fromCharCode(55296+(i>>10))),n.push(String.fromCharCode(i%1024+56320))),r+=1}return n.join("")})),i(String,"raw",(function(e){var t=[].slice.call(arguments,1),n=Object(e),r=n.raw,o=Object(r),i=o.length,a=G(i);if(a<=0)return"";for(var s=[],c=0;;){var u=o[c],f=String(u);if(s.push(f),c+1===a)return s.join("");u=t[c];var l=String(u);s.push(l),c+=1}})),i(String.prototype,"codePointAt",(function(e){var n=t(this),r=String(n),o=k(e),i=r.length;if(!(o<0||o>=i)){var a=r.charCodeAt(o);if(a<55296||a>56319||o+1===i)return a;var s=r.charCodeAt(o+1);return s<56320||s>57343?a:1024*(a-55296)+(s-56320)+65536}})),i(String.prototype,"endsWith",(function(e){var n=arguments[1],r=t(this),o=String(r),i=String(e),a=o.length,s=void 0===n?a:k(n),c=g(y(s,0),a),u=i.length,f=c-u;return!(f<0)&&o.substring(f,f+u)===i})),i(String.prototype,"includes",(function(e){var n=arguments[1],r=t(this),o=String(r),i=String(e),a=k(n),s=o.length,c=g(y(a,0),s);return-1!==o.indexOf(i,c)})),i(String.prototype,"match",(function(e){var n=t(this),r=String(n);if(J(e,j))var o=e;else o=new RegExp(e);return o[j](r)}),!oe),i(String.prototype,"repeat",(function(e){var n=t(this),r=String(n),o=k(e);if(o<0)throw RangeError();if(o===1/0)throw RangeError();return new Array(o+1).join(r)})),i(String.prototype,"replace",(function(e,n){var r=t(this);return J(e,x)?e[x](r,n):O.call(r,e,n)}),!oe),i(String.prototype,"search",(function(e){var n=t(this),r=String(n);if(J(e,D))var o=e;else o=new RegExp(e);return o[D](r)}),!oe),i(String.prototype,"split",(function(e,n){var r=t(this);return J(e,L)?e[L](r,n):S.call(r,e,n)}),!oe),i(String.prototype,"startsWith",(function(e){var n=arguments[1],r=t(this),o=String(r),i=String(e),a=k(n),s=o.length,c=g(y(a,0),s),u=i.length;return!(u+c>s)&&o.substring(c,c+u)===i})),i(String.prototype,P,(function(){return e="value",t=String(this),a(n=new ie,"[[IteratedString]]",t),a(n,"[[StringIteratorNextIndex]]",0),a(n,"[[StringIterationKind]]",e),n;var e,t,n}));var ae=Object.create(R);ie.prototype=ae,i(ae,"next",(function(){var e=U(this),t=String(e["[[IteratedString]]"]),n=e["[[StringIteratorNextIndex]]"];if(n>=t.length)return a(e,"[[StringIteratorNextIndex]]",1/0),Q(void 0,!0);var r=t.codePointAt(n);return a(e,"[[StringIteratorNextIndex]]",n+(r>65535?2:1)),Q(String.fromCodePoint(r),!1)})),i(ae,B,"String Iterator"),"flags"in RegExp.prototype||Object.defineProperty(RegExp.prototype,"flags",{get:function(){var e=String(this);return e.substring(e.lastIndexOf("/")+1)}}),i(RegExp.prototype,j,(function(e){var n=t(this);return A.call(e,n)})),i(RegExp.prototype,x,(function(e,n){var r=t(this);return O.call(e,r,n)})),i(RegExp.prototype,D,(function(e){var n=t(this);return w.call(e,n)})),i(RegExp.prototype,L,(function(e,n){var r=t(this);return S.call(e,r,n)})),i(Array,"from",(function(e){var n=arguments[1],r=arguments[2],o=t(this);if(void 0===n)var i=!1;else{if(!V(n))throw TypeError();var a=r;i=!0}var s=X(e,P);if(void 0!==s){if(H(o))var c=new o;else c=new Array(0);for(var u=K(e,s),f=0;;){var l=$(u);if(!1===l)return c.length=f,c;var p=z(l);if(i)var m=n.call(a,p);else m=p;c[f]=m,f+=1}}var d=U(e),h=d.length,_=G(h);for(c=H(o)?new o(_):new Array(_),f=0;f<_;){var v=d[f];m=i?n.call(a,v,f):v,c[f]=m,f+=1}return c.length=_,c})),i(Array,"of",(function(){var e,n=arguments,r=n.length,o=F(r),i=t(this);e=H(i)?U(e=new i(o)):new Array(o);for(var a=0;a<o;)e[a]=n[a],a+=1;return e.length=o,e})),i(Array.prototype,"copyWithin",(function(e,t){var n=arguments[2],r=U(this),o=r.length,i=G(o);i=y(i,0);var a,s=k(e);a=s<0?y(i+s,0):g(s,i);var c,u,f,l=k(t);c=l<0?y(i+l,0):g(l,i),f=(u=void 0===n?i:k(n))<0?y(i+u,0):g(u,i);var p,m=g(f-c,i-a);for(c<a&&a<c+m?(p=-1,c=c+m-1,a=a+m-1):p=1;m>0;){var d=String(c),h=String(a),_=J(r,d);if(_){var v=r[d];r[h]=v}else delete r[h];c+=p,a+=p,m-=1}return r}));var se="entries"in Array.prototype&&"next"in[].entries();function ce(){}function ue(e,t){var n=U(e),r=new ce;return a(r,"[[IteratedObject]]",n),a(r,"[[ArrayIteratorNextIndex]]",0),a(r,"[[ArrayIterationKind]]",t),r}i(Array.prototype,"entries",(function(){return ue(this,"key+value")}),!se),i(Array.prototype,"fill",(function(e){var t=arguments[1],n=arguments[2],r=U(this),o=r.length,i=G(o);i=y(i,0);var a,s,c,u=k(t);for(a=u<0?y(i+u,0):g(u,i),c=(s=void 0===n?i:k(n))<0?y(i+s,0):g(s,i);a<c;){var f=String(a);r[f]=e,a+=1}return r})),i(Array.prototype,"find",(function(e){var t=U(this),n=t.length,r=k(n);if(!V(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:void 0,i=0;i<r;){var a=String(i),s=J(t,a);if(s){var c=t[a],u=e.call(o,c,i,t);if(Boolean(u))return c}++i}})),i(Array.prototype,"findIndex",(function(e){var t=U(this),n=t.length,r=G(n);if(!V(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:void 0,i=0;i<r;){var a=String(i),s=J(t,a);if(s){var c=t[a],u=e.call(o,c,i,t);if(Boolean(u))return i}++i}return-1})),i(Array.prototype,"keys",(function(){return ue(this,"key")}),!se),i(Array.prototype,"values",(function(){return ue(this,"value")}),!se),i(Array.prototype,P,Array.prototype.values);var fe=Object.create(R);ce.prototype=fe,i(fe,"next",(function(){var e=t(this);if("object"!==M(e))throw TypeError();var n,r,o=e["[[IteratedObject]]"],i=e["[[ArrayIteratorNextIndex]]"],s=e["[[ArrayIterationKind]]"],c=F(o.length);if(-1!==s.indexOf("sparse"))for(var u=!1;!u&&i<c;)(u=J(o,n=String(i)))||(i+=1);if(i>=c)return a(e,"[[ArrayIteratorNextIndex]]",1/0),Q(void 0,!0);if(n=i,a(e,"[[ArrayIteratorNextIndex]]",i+1),-1!==s.indexOf("value")&&(r=o[n]),-1!==s.indexOf("key+value"))return Q([n,r],!1);if(-1!==s.indexOf("key"))return Q(n,!1);if("value"===s)return Q(r,!1);throw Error("Internal error")})),i(fe,B,"Array Iterator"),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach((function(n){if(n in e){var r=e[n];i(r,"from",(function(e){var n=arguments[1],r=arguments[2],o=t(this);if(!H(o))throw TypeError();if(void 0===n)var i=!1;else{if(V(n))throw TypeError();var a=r;i=!0}var s=X(e,P);if(void 0!==s){for(var c=K(e,s),u=[],f=!0;!1!==f;)if(!1!==(f=$(c))){var l=z(f);u.push(l)}for(var p=u.length,m=new o(p),d=0;d<p;){var h=u.shift();if(i)var _=n.call(a,h);else _=h;m[d]=_,++d}return console.assert(0===u.length),m}var v=U(e),y=v.length;for(m=new o(p=G(y)),d=0;d<p;)h=v[d],_=i?n.call(a,h,d):h,m[d]=_,++d;return m})),i(r,"of",(function(){for(var e=arguments,n=e.length,r=t(this),o=new r(n),i=0;i<n;)o[i]=e[i],++i;return o})),i(r.prototype,"copyWithin",Array.prototype.copyWithin),i(r.prototype,"entries",Array.prototype.entries),i(r.prototype,"every",Array.prototype.every),i(r.prototype,"fill",(function(e){var t=arguments[1],n=arguments[2],r=U(this),o=r.length,i=G(o);i=y(i,0);var a,s,c,u=k(t);for(a=u<0?y(i+u,0):g(u,i),c=(s=void 0===n?i:k(n))<0?y(i+s,0):g(s,i);a<c;){var f=String(a);r[f]=e,a+=1}return r})),i(r.prototype,"filter",(function(e){var t=arguments[1],n=U(this),r=n.length,o=G(r);if(!V(e))throw TypeError();for(var i=t,a=n.constructor,s=[],c=0,u=0;c<o;){var f=n[c],l=e.call(i,f,c,n);l&&(s.push(f),++u),++c}for(var p=new a(u),m=0,d=0;d<s.length;++d){var h=s[d];p[m]=h,++m}return p})),i(r.prototype,"find",Array.prototype.find),i(r.prototype,"findIndex",Array.prototype.findIndex),i(r.prototype,"forEach",Array.prototype.forEach),i(r.prototype,"indexOf",Array.prototype.indexOf),i(r.prototype,"join",Array.prototype.join),i(r.prototype,"keys",Array.prototype.keys),i(r.prototype,"lastIndexOf",Array.prototype.lastIndexOf),i(r.prototype,"map",(function(e){var t=arguments[1],n=U(this),r=n.length,o=G(r);if(!V(e))throw TypeError();var i=t,a=void 0,s=n.constructor;H(s)&&(a=new s(o)),void 0===a&&(a=new Array(o));for(var c=0;c<o;){var u=J(n,c);if(u){var f=n[c],l=e.call(i,f,c,n);a[c]=l}++c}return a})),i(r.prototype,"reduce",Array.prototype.reduce),i(r.prototype,"reduceRight",Array.prototype.reduceRight),i(r.prototype,"reverse",Array.prototype.reverse),i(r.prototype,"slice",(function(e,t){var n=U(this),r=G(n.length),o=k(e),i=o<0?y(r+o,0):g(o,r),a=void 0===t?r:k(t),s=a<0?y(r+a,0):g(a,r),c=s-i,u=n.constructor;if(!H(u))throw TypeError();for(var f=new u(c),l=0;i<s;){var p=n[i];f[l]=p,++i,++l}return f})),i(r.prototype,"some",Array.prototype.some),i(r.prototype,"sort",(function(){var e=arguments[0];function t(t,n){return console.assert("number"===M(t)&&"number"===M(n)),t!=t&&n!=n?0:t!=t?1:n!=n?-1:void 0!==e?e(t,n):t<n?-1:t>n?1:0}return Array.prototype.sort.call(this,t)})),i(r.prototype,"values",Array.prototype.values),i(r.prototype,P,r.prototype.values),i(r.prototype,B,n)}})),function(){function n(){var e=t(this),n=arguments[0];if("object"!==M(e))throw TypeError();if("[[MapData]]"in e)throw TypeError();if(void 0!==n){var r=e.set;if(!V(r))throw TypeError();var o=K(U(n))}if(a(e,"[[MapData]]",{keys:[],values:[]}),void 0===o)return e;for(;;){var i=$(o);if(!1===i)return e;var s=z(i);if("object"!==M(s))throw TypeError();var c=s[0],u=s[1];r.call(e,c,u)}return e}function r(e,t){var n;if(t==t)return e.keys.indexOf(t);for(n=0;n<e.keys.length;n+=1)if(W(e.keys[n],t))return n;return-1}(!("Map"in e)||function(){try{return new e.Map([]),!1}catch(e){return!0}}()||function(){try{return!(new e.Map).entries().next}catch(e){return!0}}()||1!==new e.Map([["a",1]]).size)&&(e.Map=n);function o(){}function s(e,t){if("object"!==M(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(void 0===e["[[MapData]]"])throw TypeError();var n=new o;return a(n,"[[Map]]",e),a(n,"[[MapNextIndex]]",0),a(n,"[[MapIterationKind]]",t),n}n.prototype={},i(n.prototype,"clear",(function(){var e=t(this);if("object"!==M(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(void 0===e["[[MapData]]"])throw TypeError();var n=e["[[MapData]]"];n.keys.length=0,n.values.length=0})),i(n.prototype,"delete",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[MapData]]"in n))throw TypeError();if(void 0===n["[[MapData]]"])throw TypeError();var o=n["[[MapData]]"],i=r(o,e);return!(i<0)&&(o.keys[i]=C,o.values[i]=C,!0)})),i(n.prototype,"entries",(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"key+value")})),i(n.prototype,"forEach",(function(e){var n=arguments[1],r=t(this);if("object"!==M(r))throw TypeError();if(!("[[MapData]]"in r))throw TypeError();if(void 0===r["[[MapData]]"])throw TypeError();var o=r["[[MapData]]"];if(!V(e))throw TypeError("First argument to forEach is not callable.");for(var i=0;i<o.keys.length;++i)o.keys[i]!==C&&e.call(n,o.values[i],o.keys[i],r)})),i(n.prototype,"get",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[MapData]]"in n))throw TypeError();if(void 0===n["[[MapData]]"])throw TypeError();var o=n["[[MapData]]"],i=r(o,e);if(i>=0)return o.values[i]})),i(n.prototype,"has",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[MapData]]"in n))throw TypeError();if(void 0===n["[[MapData]]"])throw TypeError();return r(n["[[MapData]]"],e)>=0})),i(n.prototype,"keys",(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"key")})),i(n.prototype,"set",(function(e,n){var o=t(this);if("object"!==M(o))throw TypeError();if(!("[[MapData]]"in o))throw TypeError();if(void 0===o["[[MapData]]"])throw TypeError();var i=o["[[MapData]]"],a=r(i,e);return a<0&&(a=i.keys.length),q(e,-0)&&(e=0),i.keys[a]=e,i.values[a]=n,o})),Object.defineProperty(n.prototype,"size",{get:function(){var e=t(this);if("object"!==M(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(void 0===e["[[MapData]]"])throw TypeError();for(var n=e["[[MapData]]"],r=0,o=0;o<n.keys.length;++o)n.keys[o]!==C&&(r+=1);return r}}),i(n.prototype,"values",(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"value")})),i(n.prototype,P,(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"key+value")})),i(e.Map.prototype,B,"Map");var c=Object.create(R);o.prototype=c,i(c,"next",(function(){var e=t(this);if("object"!==M(e))throw TypeError();for(var n=e["[[Map]]"],r=e["[[MapNextIndex]]"],o=e["[[MapIterationKind]]"],i=n["[[MapData]]"];r<i.keys.length;){var s={key:i.keys[r],value:i.values[r]};if(a(e,"[[MapNextIndex]]",r=r+=1),s.key!==C)return Q("key"===o?s.key:"value"===o?s.value:[s.key,s.value],!1)}return Q(void 0,!0)})),i(c,B,"Map Iterator")}(),function(){function n(){var e=t(this),n=arguments[0];if("object"!==M(e))throw TypeError();if("[[SetData]]"in e)throw TypeError();if(void 0!==n){var r=e.add;if(!V(r))throw TypeError();var o=K(U(n))}if(a(e,"[[SetData]]",[]),void 0===o)return e;for(;;){var i=$(o);if(!1===i)return e;var s=z(i);r.call(e,s)}return e}function r(e,t){var n;if(t==t)return e.indexOf(t);for(n=0;n<e.length;n+=1)if(W(e[n],t))return n;return-1}"Set"in e&&!function(){try{return!(new e.Set).entries().next}catch(e){return!0}}()&&1===new e.Set([1]).size||(e.Set=n);function o(){}function s(e,t){if("object"!==M(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(void 0===e["[[SetData]]"])throw TypeError();var n=new o;return a(n,"[[IteratedSet]]",e),a(n,"[[SetNextIndex]]",0),a(n,"[[SetIterationKind]]",t),n}n.prototype={},i(n.prototype,"add",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[SetData]]"in n))throw TypeError();if(void 0===n["[[SetData]]"])throw TypeError();q(e,-0)&&(e=0);var o=r(n["[[SetData]]"],e);return o<0&&(o=n["[[SetData]]"].length),n["[[SetData]]"][o]=e,n})),i(n.prototype,"clear",(function(){var e=t(this);if("object"!==M(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(void 0===e["[[SetData]]"])throw TypeError();e["[[SetData]]"].length=0})),i(n.prototype,"delete",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[SetData]]"in n))throw TypeError();if(void 0===n["[[SetData]]"])throw TypeError();var o=n["[[SetData]]"],i=r(o,e);return!(i<0)&&(o[i]=C,!0)})),i(n.prototype,"entries",(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"key+value")})),i(n.prototype,"forEach",(function(e){var n=arguments[1],r=t(this);if("object"!==M(r))throw TypeError();if(!("[[SetData]]"in r))throw TypeError();if(void 0===r["[[SetData]]"])throw TypeError();var o=r["[[SetData]]"];if(!V(e))throw TypeError("First argument to forEach is not callable.");for(var i=0;i<o.length;++i)o[i]!==C&&e.call(n,o[i],o[i],r)})),i(n.prototype,"has",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(!("[[SetData]]"in n))throw TypeError();if(void 0===n["[[SetData]]"])throw TypeError();return-1!==r(n["[[SetData]]"],e)})),Object.defineProperty(n.prototype,"size",{get:function(){var e=t(this);if("object"!==M(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(void 0===e["[[SetData]]"])throw TypeError();for(var n=e["[[SetData]]"],r=0,o=0;o<n.length;++o)n[o]!==C&&(r+=1);return r}}),i(n.prototype,"values",(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e,"value")})),n.prototype.keys=n.prototype.values,i(n.prototype,P,(function(){var e=t(this);if("object"!==M(e))throw TypeError();return s(e)})),i(e.Set.prototype,B,"Set");var c=Object.create(R);o.prototype=c,i(c,"next",(function(){var e=t(this);if("object"!==M(e))throw TypeError();for(var n=e["[[IteratedSet]]"],r=e["[[SetNextIndex]]"],o=e["[[SetIterationKind]]"],i=n["[[SetData]]"];r<i.length;){var s=i[r];if(a(e,"[[SetNextIndex]]",r=r+=1),s!==C)return Q("key+value"===o?[s,s]:s,!1)}return Q(void 0,!0)})),i(c,B,"Set Iterator")}(),function(){function n(){var e=t(this),n=arguments[0];if("object"!==M(e))throw TypeError();if("[[WeakMapData]]"in e)throw TypeError();if(void 0!==n){var r=e.set;if(!V(r))throw TypeError();var o=K(U(n))}if(a(e,"[[WeakMapData]]",new N),void 0===o)return e;for(;;){var i=$(o);if(!1===i)return e;var s=z(i);if("object"!==M(s))throw TypeError();var c=s[0],u=s[1];r.call(e,c,u)}return e}"WeakMap"in e||(e.WeakMap=n);var r,o;n.prototype={},i(n.prototype,"delete",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(void 0===n["[[WeakMapData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return n["[[WeakMapData]]"].remove(e)})),i(n.prototype,"get",(function(e,n){var r=t(this);if("object"!==M(r))throw TypeError();if(void 0===r["[[WeakMapData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return r["[[WeakMapData]]"].get(e,n)})),i(n.prototype,"has",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(void 0===n["[[WeakMapData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return n["[[WeakMapData]]"].has(e)})),i(n.prototype,"set",(function(e,n){var r=t(this);if("object"!==M(r))throw TypeError();if(void 0===r["[[WeakMapData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return r["[[WeakMapData]]"].set(e,n),r})),i(e.WeakMap.prototype,B,"WeakMap"),r=new e.WeakMap,o=e.WeakMap.prototype.set,i(e.WeakMap.prototype,"set",(function(){return o.apply(this,arguments),this}),r.set({},0)!==r)}(),function(){function n(){var e=t(this),n=arguments[0];if("object"!==M(e))throw TypeError();if("[[WeakSetData]]"in e)throw TypeError();if(void 0!==n){var r=e.add;if(!V(r))throw TypeError();var o=K(U(n))}if(a(e,"[[WeakSetData]]",new N),void 0===o)return e;for(;;){var i=$(o);if(!1===i)return e;var s=z(i);r.call(e,s)}return e}"WeakSet"in e||(e.WeakSet=n);var r,o;n.prototype={},i(n.prototype,"add",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(void 0===n["[[WeakSetData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return n["[[WeakSetData]]"].set(e,!0),n})),i(n.prototype,"delete",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(void 0===n["[[WeakSetData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return n["[[WeakSetData]]"].remove(e)})),i(n.prototype,"has",(function(e){var n=t(this);if("object"!==M(n))throw TypeError();if(void 0===n["[[WeakSetData]]"])throw TypeError();if("object"!==M(e))throw TypeError("Expected object");return n["[[WeakSetData]]"].has(e)})),i(e.WeakSet.prototype,B,"WeakSet"),r=new e.WeakSet,o=e.WeakSet.prototype.add,i(e.WeakSet.prototype,"add",(function(){return o.apply(this,arguments),this}),r.add({})!==r)}(),"ArrayBuffer"in e&&(i(ArrayBuffer,"isView",(function(e){return"object"===M(e)&&"buffer"in e&&e.buffer instanceof ArrayBuffer})),i(ArrayBuffer.prototype,B,"ArrayBuffer")),"DataView"in e&&i(DataView.prototype,B,"DataView"),i(JSON,B,"JSON"),i(R,P,(function(){return this})),i(Promise.prototype,B,"Promise"),"Reflect"in e||(e.Reflect={}),i(Reflect,"apply",(function(e,t,n){if(!V(e))throw TypeError();return Function.prototype.apply.call(e,t,n)})),i(Reflect,"construct",(function(e,t){return __cons(e,t)})),i(Reflect,"defineProperty",(function(e,t,n){try{return Object.defineProperty(e,t,n),!0}catch(e){return!1}})),i(Reflect,"deleteProperty",(function(e,t){try{return delete e[t],!Y(e,t)}catch(e){return!1}})),i(Reflect,"enumerate",(function(e){return function(e){var t=[];if(Object(e)!==e)return t;for(var n=new Set;null!==e;)Object.getOwnPropertyNames(e).forEach((function(r){if(!n.has(r)){var o=Object.getOwnPropertyDescriptor(e,r);o&&(n.add(r),o.enumerable&&t.push(r))}})),e=Object.getPrototypeOf(e);return t[P]()}(e=U(e))})),i(Reflect,"get",(function(e,t,r){e=U(e),t=String(t),r=void 0===r?e:U(r);var o=n(e,t);return o&&"get"in o?Function.prototype.call.call(o.get,r):e[t]})),i(Reflect,"getOwnPropertyDescriptor",Object.getOwnPropertyDescriptor),i(Reflect,"getPrototypeOf",Object.getPrototypeOf),i(Reflect,"has",(function(e,t){return String(t)in U(e)})),i(Reflect,"isExtensible",Object.isExtensible),i(Reflect,"ownKeys",(function(e){var t=U(e);return Object.getOwnPropertyNames(t)})),i(Reflect,"preventExtensions",(function(e){try{return Object.preventExtensions(e),!0}catch(e){return!1}})),i(Reflect,"set",(function(e,t,r,o){e=U(e),t=String(t),o=void 0===o?e:U(o);var i=n(e,t);try{return i&&"set"in i?Function.prototype.call.call(i.set,o,r):e[t]=r,!0}catch(e){return!1}})),i(Reflect,"setPrototypeOf",(function(e,t){try{return e.__proto__=t,Reflect.getPrototypeOf(e)===t}catch(e){return!1}}))}(self),function(e){"use strict";var t=e.isNaN,n=Math.abs,r=Math.floor,o=(Math.max,Math.min);function i(e){return e=Number(e),t(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*r(n(e))}function a(e){if(null==e)throw TypeError();return Object(e)}function s(e){var t=i(e);return t<=0?0:o(t,9007199254740991)}function c(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||e===t;case"boolean":case"string":case"object":default:return e===t}}!function(t,n,r,o){var i;n in t&&!o||("function"==typeof r?(console.assert("symbol"===_typeof(i=n)||"Symbol"in e&&i instanceof e.Symbol||!("name"in r)||r.name===n||r.name==="".concat(n,"_"),'Expected function name "'.concat(n.toString(),'", was "').concat(r.name,'"')),Object.defineProperty(t,n,{value:r,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(t,n,{value:r,configurable:!1,enumerable:!1,writable:!1}))}(Array.prototype,"includes",(function(e){var t=arguments[1],n=a(this),r=s(n.length);if(0===r)return!1;var o=i(t);if(o>=0)var u=o;else(u=r+o)<0&&(u=0);for(;u<r;){n[u];if(c(n[u],e))return!0;u+=1}return!1}))}(this),function(e){"use strict";function t(t,n,r,o){var i;n in t&&!o||("function"==typeof r?(console.assert("symbol"===_typeof(i=n)||"Symbol"in e&&i instanceof e.Symbol||!("name"in r)||r.name===n||r.name==="".concat(n,"_"),'Expected function name "'.concat(n.toString(),'", was "').concat(r.name,'"')),Object.defineProperty(t,n,{value:r,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(t,n,{value:r,configurable:!1,enumerable:!1,writable:!1}))}var n=e.isNaN,r=Math.abs,o=Math.floor,i=Math.min;function a(e){if(null==e)throw TypeError();return Object(e)}function s(e){var t,a=(t=e,t=Number(t),n(t)?0:0===t||t===1/0||t===-1/0?t:(t<0?-1:1)*o(r(t)));return a<=0?0:i(a,9007199254740991)}function c(e,t){var n=Object.keys(e),r=[];return n.forEach((function(n){var o=Object.getOwnPropertyDescriptor(e,n);if(null==o?void 0:o.enumerable)if("key"===t)r.push(n);else{var i=e[n];"value"===t?r.push(i):r.push([n,i])}})),r}t(Object,"entries",(function(e){return c(a(e),"key+value")})),t(Object,"getOwnPropertyDescriptors",(function(e){for(var t,n,r,o=a(e),i=Object.getOwnPropertyNames(o),s={},c=0;c<i.length;++c){var u=i[c],f=Object.getOwnPropertyDescriptor(o,u);t=s,n=u,r=f,Object.defineProperty(t,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}return s})),t(Object,"values",(function(e){return c(a(e),"value")})),t(String.prototype,"padEnd",(function(e){var t=arguments[1],n=String(this),r=n.length;if(void 0===t)var o="";else o=String(t);""===o&&(o=" ");var i=s(e);if(i<=r)return n;for(var a=i-r,c="";c.length<a;)c+=o;return n+c.substring(0,a)})),t(String.prototype,"padStart",(function(e){var t=arguments[1],n=String(this),r=n.length;if(void 0===t)var o="";else o=String(t);""===o&&(o=" ");var i=s(e);if(i<=r)return n;for(var a=i-r,c="";c.length<a;)c+=o;return c.substring(0,a)+n}))}(this),function(e){"use strict";"window"in e&&"document"in e&&("head"in document||(document.head=document.getElementsByTagName("head")[0]),["abbr","article","aside","audio","bdi","canvas","data","datalist","details","dialog","figcaption","figure","footer","header","hgroup","main","mark","meter","nav","output","picture","progress","section","summary","template","time","video"].forEach((function(e){document.createElement(e)})),!("dataset"in document.createElement("span"))&&"Element"in e&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var e=Object.create(null),t=0;t<this.attributes.length;++t){var n=this.attributes[t];n.specified&&"data-"===n.name.substring(0,5)&&function(t,n){var r=n.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));e[r]=t.getAttribute("data-".concat(n)),Object.defineProperty(e,r,{get:function(){return t.getAttribute("data-".concat(n))},set:function(e){t.setAttribute("data-".concat(n),e)}})}(this,n.name.substring(5))}return e}}),function(){if(!("atob"in e)||!("btoa"in e)){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=function(e){var n=0,r=[],o=0,i=0;if((e=(e=String(e)).replace(/\s/g,"")).length%4==0&&(e=e.replace(/=+$/,"")),e.length%4==1)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;n<e.length;)o=o<<6|t.indexOf(e.charAt(n)),24===(i+=6)&&(r.push(String.fromCharCode(o>>16&255)),r.push(String.fromCharCode(o>>8&255)),r.push(String.fromCharCode(255&o)),i=0,o=0),n+=1;return 12===i?(o>>=4,r.push(String.fromCharCode(255&o))):18===i&&(o>>=2,r.push(String.fromCharCode(o>>8&255)),r.push(String.fromCharCode(255&o))),r.join("")},e.btoa=function(e){e=String(e);var n,r,o,i,a,s,c,u=0,f=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;u<e.length;)i=(n=e.charCodeAt(u++))>>2,a=(3&n)<<4|(r=e.charCodeAt(u++))>>4,s=(15&r)<<2|(o=e.charCodeAt(u++))>>6,c=63&o,u===e.length+2?(s=64,c=64):u===e.length+1&&(c=64),f.push(t.charAt(i),t.charAt(a),t.charAt(s),t.charAt(c));return f.join("")}}}(),function(){if(!("requestAnimationFrame"in e)){var t=Object.create(null),n=0,r=-1;e.requestAnimationFrame=function(i,a){var s=++n;return t[s]={callback:i,element:a},-1===r&&(r=e.setTimeout(o,1e3/60)),s},e.cancelAnimationFrame=function(n){delete t[n],0===Object.keys(t).length&&(e.clearTimeout(r),r=-1)}}function o(){var e=t;t=Object.create(null),r=-1,Object.keys(e).forEach((function(t){var n,r=e[t];(!r.element||(n=r.element).offsetWidth>0&&n.offsetHeight>0)&&r.callback(Date.now())}))}}())}(self),function(e){"use strict";if("window"in e&&"document"in e){document.querySelectorAll||(document.querySelectorAll=function(e){var t,n=document.createElement("style"),r=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText="".concat(e,"{x-qsa:expression(document._qsa && document._qsa.push(this))}"),window.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)(t=document._qsa.shift()).style.removeAttribute("x-qsa"),r.push(t);return document._qsa=null,r}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),e.Node=e.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach((function(t){t[0]in e.Node||(e.Node[t[0]]=t[1])})),e.DOMException=e.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach((function(t){t[0]in e.DOMException||(e.DOMException[t[0]]=t[1])})),function(){function t(e,t,n){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var r=this,o=function(e){e._timeStamp=Date.now(),e._currentTarget=r,t.call(this,e),e._currentTarget=null};this["_".concat(e).concat(t)]=o,this.attachEvent("on".concat(e),o)}}function n(e,t,n){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var r=this["_".concat(e).concat(t)];r&&(this.detachEvent("on".concat(e),r),this["_".concat(e).concat(t)]=null)}}"Element"in e&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return!1===this.returnValue}}}),[Window,HTMLDocument,Element].forEach((function(e){e.prototype.addEventListener=t,e.prototype.removeEventListener=n})))}(),function(){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"CustomEvent"in e&&"function"==typeof e.CustomEvent||(t.prototype=e.Event.prototype,e.CustomEvent=t)}(),window.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e".concat(t).concat(n)]=n,e[t+n]=function(){var r=window.event;r.currentTarget=e,r.preventDefault=function(){r.returnValue=!1},r.stopPropagation=function(){r.cancelBubble=!0},r.target=r.srcElement,r.timeStamp=Date.now(),e["e".concat(t).concat(n)].call(this,r)},e.attachEvent("on".concat(t),e[t+n]))},window.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&(e.detachEvent("on".concat(t),e[t+n]),e[t+n]=null,e["e".concat(t).concat(n)]=null)},function(){function t(e,t){function n(e){return e.length?e.split(/\s+/g):[]}function r(e,t){var r=n(t),o=r.indexOf(e);return-1!==o&&r.splice(o,1),r.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return n(e[t]).length}},item:{value:function(r){var o=n(e[t]);return 0<=r&&r<o.length?o[r]:null}},contains:{value:function(r){if(0===(r=String(r)).length)throw SyntaxError();if(/\s/.test(r))throw Error("InvalidCharacterError");return-1!==n(e[t]).indexOf(r)}},add:{value:function(){var r=Array.prototype.slice.call(arguments).map(String);if(r.some((function(e){return 0===e.length})))throw SyntaxError();if(r.some((function(e){return/\s/.test(e)})))throw Error("InvalidCharacterError");try{var o=e[t],i=n(o);if(0===(r=r.filter((function(e){return-1===i.indexOf(e)}))).length)return;0===o.length||/\s$/.test(o)||(o+=" "),o+=r.join(" "),e[t]=o}finally{var a=n(e[t]),s=a.length;this.length!==s&&(this.length=s)}}},remove:{value:function(){var o=Array.prototype.slice.call(arguments).map(String);if(o.some((function(e){return 0===e.length})))throw SyntaxError();if(o.some((function(e){return/\s/.test(e)})))throw Error("InvalidCharacterError");try{var i=e[t];o.forEach((function(e){i=r(e,i)})),e[t]=i}finally{var a=n(e[t]),s=a.length;this.length!==s&&(this.length=s)}}},toggle:{value:function(o){var i=arguments[1];try{if(0===(o=String(o)).length)throw SyntaxError();if(/\s/.test(o))throw Error("InvalidCharacterError");var a=n(e[t]),s=a.indexOf(o);if(-1!==s&&(!i||void 0===i))return e[t]=r(o,e[t]),!1;if(-1!==s&&i)return!0;var c=e[t];return 0===c.length||/\s$/.test(c)||(c+=" "),c+=o,e[t]=c,!0}finally{var u=n(e[t]),f=u.length;this.length!==f&&(this.length=f)}}},toString:{value:function(){return e[t]}}}),"length"in this)for(var o=0;o<100;++o)Object.defineProperty(this,String(o),{get:function(e){return function(){return this.item(e)}}(o)});else this.length=n(e[t]).length}function n(t,n){"Element"in e&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,t,{get:n})}"classList"in document.createElement("span")?window.getClassList=function(e){return e.classList}:(window.getClassList=function(e){return new t(e,"className")},n("classList",(function(){return new t(this,"className")}))),"relList"in document.createElement("link")?window.getRelList=function(e){return e.relList}:(window.getRelList=function(e){return new t(e,"rel")},n("relList",(function(){return new t(this,"rel")}))),function(){if("DOMTokenList"in e){var t=document.createElement("span");"classList"in t&&(t.classList.toggle("x",!1),t.classList.contains("x")&&(e.DOMTokenList.prototype.toggle=function(e){var t=arguments[1];if(void 0===t){var n=!this.contains(e);return this[n?"add":"remove"](e),n}return this[(t=!!t)?"add":"remove"](e),t}))}}(),"previousElementSibling"in document.documentElement||n("previousElementSibling",(function(){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e})),"nextElementSibling"in document.documentElement||n("nextElementSibling",(function(){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e}))}(),"Element"in e&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),r=this;do{for(t=n.length;--t>=0&&n.item(t)!==r;);}while(t<0&&(r=r.parentElement));return r});var t={prepend:function(){var e=[].slice.call(arguments);e=o(e),this.insertBefore(e,this.firstChild)},append:function(){var e=[].slice.call(arguments);e=o(e),this.appendChild(e)}};r(e.Document||e.HTMLDocument,t),r(e.DocumentFragment,t),r(e.Element,t);var n={before:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.previousSibling;-1!==e.indexOf(n);)n=n.previousSibling;var r=o(e);t.insertBefore(r,n?n.nextSibling:t.firstChild)}},after:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.nextSibling;-1!==e.indexOf(n);)n=n.nextSibling;var r=o(e);t.insertBefore(r,n)}},replaceWith:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var n=this.nextSibling;-1!==e.indexOf(n);)n=n.nextSibling;var r=o(e);this.parentNode===t?t.replaceChild(r,this):t.insertBefore(r,n)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};r(e.DocumentType,n),r(e.Element,n),r(e.CharacterData,n)}function r(e,t){e&&Object.keys(t).forEach((function(n){if(!(n in e)&&!(n in e.prototype))try{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t,n))}catch(r){e[n]=t[n]}}))}function o(e){var t=null;return 1===(e=e.map((function(e){return e instanceof Node?e:document.createTextNode(e)}))).length?t=e[0]:(t=document.createDocumentFragment(),e.forEach((function(e){t.appendChild(e)}))),t}}(self),function(e){"use strict";"window"in e&&"document"in e&&(e.XMLHttpRequest=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("This browser does not support XMLHttpRequest.")},[["UNSENT",0],["OPENED",1],["HEADERS_RECEIVED",2],["LOADING",3],["DONE",4]].forEach((function(t){t[0]in e.XMLHttpRequest||(e.XMLHttpRequest[t[0]]=t[1])})),function(){if(!("FormData"in e)){n.prototype={append:function(t,n){if("Blob"in e&&n instanceof e.Blob)throw TypeError("Blob not supported");t=String(t),this._data.push([t,n])},toString:function(){return this._data.map((function(e){return"".concat(encodeURIComponent(e[0]),"=").concat(encodeURIComponent(e[1]))})).join("&")}},e.FormData=n;var t=e.XMLHttpRequest.prototype.send;e.XMLHttpRequest.prototype.send=function(e){return e instanceof n&&(this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),arguments[0]=e.toString()),t.apply(this,arguments)}}function n(e){if(this._data=[],e)for(var t=0;t<e.elements.length;++t){var n=e.elements[t];""!==n.name&&this.append(n.name,n.value)}}}())}(self),function(e){"use strict";"window"in e&&"document"in e&&"TextRectangle"in e&&!("width"in e.TextRectangle.prototype)&&Object.defineProperties(e.TextRectangle.prototype,{width:{get:function(){return this.right-this.left}},height:{get:function(){return this.bottom-this.top}}})}(self),function(e){"use strict";function t(t){return!!t&&("Symbol"in e&&"iterator"in e.Symbol&&"function"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function n(e){return"from"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){var r,o=e.URL;try{if(o){if("searchParams"in(r=new e.URL("http://example.com")))return;"href"in r||(r=void 0)}}catch(e){}function i(e){var t="",n=!0;return e.forEach((function(e){var r=encodeURIComponent(e.name),o=encodeURIComponent(e.value);n||(t+="&"),t+="".concat(r,"=").concat(o),n=!1})),t.replace(/%20/g,"+")}function a(e,t){var n=e.split("&");t&&-1===n[0].indexOf("=")&&(n[0]="=".concat(n[0]));var r=[];n.forEach((function(e){if(0!==e.length){var t=e.indexOf("=");if(-1!==t)var n=e.substring(0,t),o=e.substring(t+1);else n=e,o="";n=n.replace(/\+/g," "),o=o.replace(/\+/g," "),r.push({name:n,value:o})}}));var o=[];return r.forEach((function(e){o.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})})),o}function s(e){var r=this;this._list=[],null==e||(e instanceof s?this._list=a(String(e)):"object"===_typeof(e)&&t(e)?n(e).forEach((function(e){if(!t(e))throw TypeError();var o=n(e);if(2!==o.length)throw TypeError();r._list.push({name:String(o[0]),value:String(o[1])})})):"object"===_typeof(e)&&e?Object.keys(e).forEach((function(t){r._list.push({name:String(t),value:String(e[t])})})):("?"===(e=String(e)).substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){o||(r._list=e)};var o=!1;this._update_steps=function(){o||(o=!0,r._url_object&&("about:"===r._url_object.protocol&&-1!==r._url_object.pathname.indexOf("?")&&(r._url_object.pathname=r._url_object.pathname.split("?")[0]),r._url_object.search=i(r._list),o=!1))}}function c(e,t){var n=0;this.next=function(){if(n>=e.length)return{done:!0,value:void 0};var r=e[n++];return{done:!1,value:"key"===t?r.name:"value"===t?r.value:[r.name,r.value]}}}function u(t,n){if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");n&&(t=function(){if(r)return new o(t,n).href;var e;try{var i;if("[object OperaMini]"===Object.prototype.toString.call(window.operamini)?((e=document.createElement("iframe")).style.display="none",document.documentElement.appendChild(e),i=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?i=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?((i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null)).documentElement.appendChild(i.createElement("head")),i.documentElement.appendChild(i.createElement("body"))):window.ActiveXObject&&((i=new window.ActiveXObject("htmlfile")).write("<head></head><body></body>"),i.close()),!i)throw Error("base not supported");var a=i.createElement("base");a.href=n,i.getElementsByTagName("head")[0].appendChild(a);var s=i.createElement("a");return s.href=t,s.href}finally{e&&e.parentNode.removeChild(e)}}());var i=function(e){if(r)return new o(e);var t=document.createElement("a");return t.href=e,t}(t||""),c=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}()?this:document.createElement("a"),u=new s(i.search?i.search.substring(1):null);function f(){var e=i.href.replace(/#$|\?$|\?(?=#)/g,"");i.href!==e&&(i.href=e)}function l(){u._setList(i.search?a(i.search.substring(1)):[]),u._update_steps()}return u._url_object=c,Object.defineProperties(c,{href:{get:function(){return i.href},set:function(e){i.href=e,f(),l()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in i?i.origin:"".concat(this.protocol,"//").concat(this.host)},enumerable:!0,configurable:!0},protocol:{get:function(){return i.protocol},set:function(e){i.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return i.username},set:function(e){i.username=e},enumerable:!0,configurable:!0},password:{get:function(){return i.password},set:function(e){i.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[i.protocol];return e?i.host.replace(e,""):i.host},set:function(e){i.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return i.hostname},set:function(e){i.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return i.port},set:function(e){i.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==i.pathname.charAt(0)?"/".concat(i.pathname):i.pathname},set:function(e){i.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return i.search},set:function(e){i.search!==e&&(i.search=e,f(),l())},enumerable:!0,configurable:!0},searchParams:{get:function(){return u},enumerable:!0,configurable:!0},hash:{get:function(){return i.hash},set:function(e){i.hash=e,f()},enumerable:!0,configurable:!0},toString:{value:function(){return i.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return i.valueOf()},enumerable:!1,configurable:!0}}),c}if(Object.defineProperties(s.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],n=0;n<this._list.length;++n)this._list[n].name===e&&t.push(this._list[n].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var n=!1,r=0;r<this._list.length;)this._list[r].name===e?n?this._list.splice(r,1):(this._list[r].value=t,n=!0,++r):++r;n||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new c(this._list,"key+value")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new c(this._list,"key")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new c(this._list,"value")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:void 0;this._list.forEach((function(n,r){e.call(t,n.value,n.name)}))},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return i(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in e&&"iterator"in e.Symbol&&(Object.defineProperty(s.prototype,e.Symbol.iterator,{value:s.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),o)for(var f in o)o.hasOwnProperty(f)&&"function"==typeof o[f]&&(u[f]=o[f]);e.URL=u,e.URLSearchParams=s}(),function(){if("1"!==new e.URLSearchParams([["a",1]]).get("a")||"1"!==new e.URLSearchParams({a:1}).get("a")){var r=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&"object"===_typeof(e)&&t(e)){var o=new r;return n(e).forEach((function(e){if(!t(e))throw TypeError();var r=n(e);if(2!==r.length)throw TypeError();o.append(r[0],r[1])})),o}return e&&"object"===_typeof(e)?(o=new r,Object.keys(e).forEach((function(t){o.set(t,e[t])})),o):new r(e)}}}()}(self),function(e){"use strict";function t(e){if((e=String(e)).match(/[^\x00-\xFF]/))throw TypeError("Not a valid ByteString");return e}function n(e){return(e=String(e)).replace(/([\u0000-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF])/g,(function(e){return/^[\uD800-\uDFFF]$/.test(e)?"�":e}))}function r(e){return 65535&e}function o(e){return String(e).replace(/[a-z]/g,(function(e){return e.toUpperCase()}))}function i(e){return"CONNECT"===(e=o(e))||"TRACE"===e||"TRACK"===e}function a(e){var t=o(e);return"DELETE"===t||"GET"===t||"HEAD"===t||"OPTIONS"===t||"POST"===t||"PUT"===t?t:e}function s(e){return/^[!#$%&'*+\-.09A-Z^_`a-z|~]+$/.test(e)}function c(e){return{"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0}[e=String(e).toLowerCase()]||"proxy-"===e.substring(0,6)||"sec-"===e.substring(0,4)}function u(e){return{"set-cookie":!0,"set-cookie2":!0}[e=String(e).toLowerCase()]}function f(e,t){return"accept"===(e=String(e).toLowerCase())||"accept-language"===e||"content-language"===e||"content-type"===e&&-1!==["application/x-www-form-encoded","multipart/form-data","text/plain"].indexOf(t)}function l(e){this._guard="none",this._headerList=[],e&&p(this,e)}function p(e,t){t instanceof l?t._headerList.forEach((function(t){e.append(t[0],t[1])})):Array.isArray(t)?t.forEach((function(t){if(!Array.isArray(t)||2!==t.length)throw TypeError();e.append(t[0],t[1])})):(t=Object(t),Object.keys(t).forEach((function(n){e.append(n,t[n])})))}function m(e){this._headers=e,this._index=0}function d(e){this._stream=e,this.bodyUsed=!1}function h(e,r){if(arguments.length<1)throw TypeError("Not enough arguments");if(d.call(this,null),this.method="GET",this.url="",this.headers=new l,this.headers._guard="request",this.referrer=null,this.mode=null,this.credentials="omit",e instanceof h){if(e.bodyUsed)throw TypeError();e.bodyUsed=!0,this.method=e.method,this.url=e.url,this.headers=new l(e.headers),this.headers._guard=e.headers._guard,this.credentials=e.credentials,this._stream=e._stream}else e=n(e),this.url=String(new URL(e,self.location));if("method"in(r=Object(r))){var o=t(r.method);if(i(o))throw TypeError();this.method=a(o)}"headers"in r&&(this.headers=new l,p(this.headers,r.headers)),"body"in r&&(this._stream=r.body),"credentials"in r&&-1!==["omit","same-origin","include"].indexOf(r.credentials)&&(this.credentials=r.credentials)}function _(e,t){if(arguments.length<1&&(e=""),this.headers=new l,this.headers._guard="response",e instanceof XMLHttpRequest&&"_url"in e){var o=e;return this.type="basic",this.url=n(o._url),this.status=o.status,this.ok=200<=this.status&&this.status<=299,this.statusText=o.statusText,o.getAllResponseHeaders().split(/\r?\n/).filter((function(e){return e.length})).forEach((function(e){var t=e.indexOf(":");this.headers.append(e.substring(0,t),e.substring(t+2))}),this),void d.call(this,o.responseText)}d.call(this,e),t=Object(t)||{},this.url="";var i="status"in t?r(t.status):200;if(i<200||i>599)throw RangeError();this.status=i,this.ok=200<=this.status&&this.status<=299;var a="statusText"in t?String(t.statusText):"OK";if(/[^\x00-\xFF]/.test(a))throw TypeError();this.statusText=a,"headers"in t&&p(this.headers,t),this.type="basic"}l.prototype={append:function(e,n){if(!s(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();"request"===this._guard&&c(e)||("request-no-CORS"!==this._guard||f(e,n))&&("response"===this._guard&&u(e)||(e=e.toLowerCase(),this._headerList.push([e,n])))},delete:function(e){if(!s(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!c(e))&&("request-no-CORS"!==this._guard||f(e,"invalid"))&&("response"!==this._guard||!u(e))){e=e.toLowerCase();for(var n=0;n<this._headerList.length;)this._headerList[n][0]===e?this._headerList.splice(n,1):++n}},get:function(e){if(!s(e=t(e)))throw TypeError();e=e.toLowerCase();for(var n=0;n<this._headerList.length;++n)if(this._headerList[n][0]===e)return this._headerList[n][1];return null},getAll:function(e){if(!s(e=t(e)))throw TypeError();e=e.toLowerCase();for(var n=[],r=0;r<this._headerList.length;++r)this._headerList[r][0]===e&&n.push(this._headerList[r][1]);return n},has:function(e){if(!s(e=t(e)))throw TypeError();e=e.toLowerCase();for(var n=0;n<this._headerList.length;++n)if(this._headerList[n][0]===e)return!0;return!1},set:function(e,n){if(!s(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!c(e))&&("request-no-CORS"!==this._guard||f(e,n))&&("response"!==this._guard||!u(e))){e=e.toLowerCase();for(var r=0;r<this._headerList.length;++r)if(this._headerList[r][0]===e){for(this._headerList[r++][1]=n;r<this._headerList.length;)this._headerList[r][0]===e?this._headerList.splice(r,1):++r;return}this._headerList.push([e,n])}}},l.prototype[Symbol.iterator]=function(){return new m(this)},m.prototype={},m.prototype.next=function(){return this._index>=this._headers._headerList.length?{value:void 0,done:!0}:{value:this._headers._headerList[this._index++],done:!1}},m.prototype[Symbol.iterator]=function(){return this},d.prototype={arrayBuffer:function(){if(this.bodyUsed)return Promise.reject(TypeError());if(this.bodyUsed=!0,this._stream instanceof ArrayBuffer)return Promise.resolve(this._stream);var e=this._stream;return new Promise((function(t,n){var r=unescape(encodeURIComponent(e)).split("").map((function(e){return e.charCodeAt(0)}));t(new Uint8Array(r).buffer)}))},blob:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof Blob?Promise.resolve(this._stream):Promise.resolve(new Blob([this._stream])))},formData:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof FormData?Promise.resolve(this._stream):Promise.reject(Error("Not yet implemented")))},json:function(){if(this.bodyUsed)return Promise.reject(TypeError());this.bodyUsed=!0;var e=this;return new Promise((function(t,n){t(JSON.parse(e._stream))}))},text:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,Promise.resolve(String(this._stream)))}},h.prototype=d.prototype,_.prototype=d.prototype,_.redirect=function(){throw Error("Not supported")},"fetch"in e||(e.Headers=l,e.Request=h,e.Response=_,e.fetch=function(e,t){return new Promise((function(n,r){var o=new h(e,t),i=new XMLHttpRequest;i._url=o.url;try{i.open(o.method,o.url,!0)}catch(e){throw TypeError(e.message)}for(var a=o.headers[Symbol.iterator](),s=a.next();!s.done;s=a.next())i.setRequestHeader(s.value[0],s.value[1]);"include"===o.credentials&&(i.withCredentials=!0),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(0===i.status?r(new TypeError("Network error")):n(new _(i)))},i.send(o._stream)}))})}(self)},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(0),o=n(7);r.normalAPIMutations({openScheme:{toNativeEventName:"openScheme"},openGroupProfile:{canIUse:{"1.4.7":{success:[],object:["groupId"]}},toNativeEventName:"openGroupProfile",paramHandlers:function(e,t){console.warn("openGroupProfile: 1.19.0 版本基础库开始无需在 game.json 文件里配置 groupIdList，低版本需兼容处理");var n=(null==e?void 0:e[0])||{},r=n.groupId,i=n.fail,a=n.complete,s=n.success;o._reportAPICallToDC04239("openGroupProfile"),o._reportAPICall({apiname:"openGroupProfile",param:r});var c={api_name:"mqqapi://card/show_pslcard",data:{src_type:"internal",version:"1",card_type:"group",jump_from:"miniapp",uin:r},fail:i,complete:a,success:s};return t.originParams=e[0],t.toNativeEventName="openNativePage",t.__APIName__="openNativePage",t.tempParams={toNativeEventName:"openNativePage"},c},invokeBefore:function(e,t,n,r){var o=r.originParams||{},i=o.groupId,a=o.fail,s=o.complete;if(!i){var c={errMsg:"openGroupProfile:fail invalid groupId"};return"function"==typeof a&&a(c),"function"==typeof s&&s(c),!0}},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.errMsg)&&(e.errMsg=e.errMsg.replace("openNativePage","openGroupProfile")),e}},openPublicProfile:{canIUse:{"1.12.0":{success:[],object:["publicId"]}},toNativeEventName:"openPublicProfile",paramHandlers:function(e,t){console.warn("openPublicProfile: 1.18.0 版本基础库开始无需在 game.json 文件里配置 publicIdList，低版本需兼容处理");var n=(null==e?void 0:e[0])||{},r=n.publicId,i=n.fail,a=n.complete,s=n.success;o._reportAPICallToDC04239("openPublicProfile"),o._reportAPICall({apiname:"openPublicProfile",param:r});var c={api_name:"mqqapi://card/show_pslcard",data:{src_type:"internal",card_type:"public_account",uin:String(r),version:"1"},fail:i,complete:a,success:s};return t.originParams=e[0],t.toNativeEventName="openNativePage",t.__APIName__="openNativePage",t.tempParams={toNativeEventName:"openNativePage"},c},invokeBefore:function(e,t,n,r){var o=r.originParams||{},i=o.publicId,a=o.fail,s=o.complete;if(!i){var c={errMsg:"openPublicProfile:fail invalid publicId"};return"function"==typeof a&&a(c),"function"==typeof s&&s(c),!0}},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.errMsg)&&(e.errMsg=e.errMsg.replace("openNativePage","openPublicProfile")),e}}})},function(e,t,n){var r=n(0);r.normalAPIMutations({updateVoIPChatMuteConfig:{canIUse:{"1.4.7":{success:[],object:[{muteConfig:["muteMicrophone","muteEarphone"]}]}},toNativeEventName:"updateVoIPChatMuteConfig",paramHandlers:function(e,t){return e[0]}},joinVoIPChat:{canIUse:{"1.4.7":{success:["openIdList","errCode"],object:["signature","nonceStr","timeStamp","groupId",{muteConfig:["muteMicrophone","muteEarphone"]}]}},toNativeEventName:"joinVoIPChat",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){var n,r=e[0],o=r.signature,i=r.nonceStr,a=r.timeStamp,s=r.groupId,c=Object.prototype.toString;function u(e){return c.call(e).slice(8,-1)}return"String"!==u(o)?n="paramter signature should be string":"String"!==u(i)?n="paramter nonceStr should be string":"Number"!==u(a)||a<0?n="paramter timeStamp should be a positive integer":"String"!==u(s)&&(n="paramter groupId should be string"),n&&(n="joinVoIPChat:fail ".concat(n),e[0].fail&&e[0].fail(n),e[0].complete&&e[0].complete(n),e[0].isFail=!0),e[0]}},exitVoIPChat:{canIUse:{"1.4.7":{}},toNativeEventName:"exitVoIPChat"}}),r.bindAPIMutations({canIUse:{"1.4.7":{callback:["errCode"]}},bindAPIName:"onVoIPChatInterrupted",toNativeEventName:"onVoIPChatInterrupted"}),r.bindAPIMutations({canIUse:{"1.4.7":{callback:["openIdList","errCode"]}},bindAPIName:"onVoIPChatMembersChanged",toNativeEventName:"onVoIPChatMembersChanged"}),r.bindAPIMutations({canIUse:{"1.4.7":{callback:["openIdList","errCode"]}},bindAPIName:"onVoIPChatSpeakersChanged",toNativeEventName:"onVoIPChatSpeakersChanged"})},function(e,t,n){var r=n(0),o=function(e,t,n){if(n.state==e){var r=t.videoAdPromiseCallBackMap.get(n.state);if(r&&r.length>0)for(var o=0;o<r.length;o++){var i=r[o];i&&(i(n),t.videoAdPromiseCallBackMap.delete(n.state))}return!1}return!0},i=Promise;function a(e,t){return new i((function(n,r){var o;(o=t.videoAdPromiseCallBackMap.has(e.type)?t.videoAdPromiseCallBackMap.get(e.type):[]).push((function(e){"ok"==e.status?n(e):r(e)})),t.videoAdPromiseCallBackMap.set(e.type,o)}))}r.normalAPIMutations({createRewardedVideoAd:{toNativeEventName:"createRewardedVideoAd",createObj:{singleton:!0,createObjectBefore:function(e,t,n,r){(e=Object.assign(e,t)).videoAdPromiseCallBackMap=new Map},normalAPI:[{load:{toNativeEventName:"operateRewardedAd",paramHandlers:function(e,t){return{type:"load"}},invokeAfter:function(e,t,n,r){if(n)return a(t,r)}},show:{toNativeEventName:"operateRewardedAd",paramHandlers:function(e,t){return{type:"show"}},invokeAfter:function(e,t,n,r){if(n)return a(t,r)}}}],bindEventAPI:[{bindAPIName:"onClose",triggerEventBefore:function(e,t){return o("close",e,t)},offAPIName:"offClose",toNativeEventName:"onRewardedVideoStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},offAPIName:"offError",toNativeEventName:"onRewardedVideoStateChange"},{bindAPIName:"onLoad",triggerEventBefore:function(e,t){return o("load",e,t)},offAPIName:"offLoad",toNativeEventName:"onRewardedVideoStateChange"}]},subscribeEventListener:{subscribeEventName:"onRewardedVideoShowDone",callback:function(e,t,n){var r=n.videoAdPromiseCallBackMap.get(t.state);if(r&&r.length>0)for(var o=0;o<r.length;o++){var i=r[o];i&&(i(t),n.videoAdPromiseCallBackMap.delete(t.state))}}}}})},function(e,t,n){var r=n(17),o=n(0),i=n(2),a=function(e,t,n){if(n.state===e){var r=t.bannerAdPromiseCallBackMap.get(n.state);return r&&(r(n),t.bannerAdPromiseCallBackMap.delete(n.state)),!1}return!0},s=Promise;function c(e,t){if(!t.bannerAdPromiseCallBackMap.has(e.type))return new s((function(n,r){t.bannerAdPromiseCallBackMap.set(e.type,(function(e){"ok"===e.status?n(e):r(e)}))}))}o.normalAPIMutations({createBannerAd:{toNativeEventName:"createBannerAd",paramHandlers:function(e,t){var n=r(e,1)[0];return(null==n?void 0:n.style)&&(t.adUnitId=n.adUnitId,t.left=n.style.left||0,t.top=n.style.left||0,t.width=n.style.width||0,t.height=n.style.height||0),e[0]},createObj:{createObjectBefore:function(e,t,n,r){e.bannerAdPromiseCallBackMap=new Map},normalAPI:[{show:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"show"}},invokeAfter:function(e,t,n,r){if(n)return c(t,r)}},hide:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"hide"}},invokeAfter:function(e,t,n,r){if(n)return c(t,r)}},destroy:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"destroy"}},invokeAfter:function(e,t,n,r){if(i.removeAllEventListener("onBannerAdStateChange"),i.removeAllEventListener("onBannerAdShowDone"),n)return c(t,r)}}}],bindEventAPI:[{bindAPIName:"onResize",triggerEventBefore:function(e,t){return e.realWidth=t.width,e.realHeight=t.height,a("resize",e,t)},offAPIName:"offResize",toNativeEventName:"onBannerAdStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return a("error",e,t)},offAPIName:"offError",toNativeEventName:"onBannerAdStateChange"},{bindAPIName:"onLoad",triggerEventBefore:function(e,t){return e.realWidth=t.realWidth,e.realHeight=t.realHeight,a("load",e,t)},offAPIName:"offLoad",toNativeEventName:"onBannerAdStateChange"}],propertys:[{name:"adUnitId",writable:!0,get:function(e,t,n){return t.adUnitId},set:function(e,t,n){return t.adUnitId=e,e}},{name:"style",propertys:[{name:"left",writable:!0,get:function(e,t,n){return t.left},set:function(e,t,n){return t.left=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,left:e}}}},{name:"top",writable:!0,get:function(e,t,n){return t.top},set:function(e,t,n){return t.top=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,top:e}}}},{name:"width",writable:!0,get:function(e,t,n){return t.width},set:function(e,t,n){return t.width=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,width:e}}}},{name:"height",writable:!0,get:function(e,t,n){return t.height},set:function(e,t,n){return t.height=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,height:e}}}},{name:"realWidth",get:function(e,t,n){return t.realWidth},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{realWidth:e}}}},{name:"realHeight",get:function(e,t,n){return t.realHeight},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{realHeight:e}}}}]}]},subscribeEventListener:{subscribeEventName:"onBannerAdShowDone",callback:function(e,t,n){var r=n.bannerAdPromiseCallBackMap.get("show");r&&(r(t),n.bannerAdPromiseCallBackMap.delete("show"))}}}})},function(e,t,n){n(0);var r=n(7);n(3);wx.reportRegister=function(){var e={actiontype:"game_inner",sub_actiontype:"regist"};r._reportDataToDC04239(e)},wx.reportLogin=function(){var e={actiontype:"game_inner",sub_actiontype:"login"};r._reportDataToDC04239(e)},wx.reportMobileGameAD=function(e){var t=e;r._reportDataToDC04682(t)}},function(e,t){__TT__GLOBAL__;var n,r,o,i=__TT__GLOBAL__;__TT__GLOBAL__;n=i.__ttObjdec__,r=function(){var e={event:"",once:!1,listener:[]};return e},o={create:function(){var e={};function t(t){return e[t]||(e[t]=[]),e[t]}function n(e){var n=t(e);return!!(n&&n.length>0)}function o(e,r){if(1==n(e)){for(var o=-1,i=t(e),a=i.length-1;a>=0;a--)if(r==i[a].listener){o=a;break}return o>-1&&i.splice(o,1),!0}return!1}var i={addObserver:function(e,n){return function(e,n,o){var i=r();i.event=e,i.listener=n,i.once=o,t(e).push(i)}(e,n,!1),this},removeObserver:function(e,t){return o(e,t),this},postEvent:function(e,r,i){if(0==n(e))return!1;for(var a=[],s=t(e),c=s.length,u=0;u<c;u++){var f=s[u];f&&(f.listener&&f.listener(r,i),f.once&&a.push(f))}for(u=0;u<a.length;u++)o(e,a[u].listener);return!0}};return i}},n._notifcationCenter=o.create(),n.EventEmitter=o},function(e,t){__TT__GLOBAL__;var n,r=__TT__GLOBAL__;__TT__GLOBAL__;(n=r.__ttObjdec__).isRemoteUrl=function(e){return/^https?:\/\//.test(e)},n.wrapLocalUrl=function(e){return/^GameRes:\/\//.test(e)?e:"GameRes://".concat(e.replace(/^\.*\//,""))},n.wrapSandBoxPath=function(e){return/^GameSandBox:\/\//.test(e)?e:"GameSandBox://".concat(e.replace(/^\.*\//,""))},n.extractFileNameFromUrl=function(e){var t=e.lastIndexOf("/");return-1==t&&(t=e.lastIndexOf("\\")),e.substr(t+1)},n.extractFilePathFromUrl=function(e){var t=0;t=e.startsWith("https")?e.substr(8).indexOf("/")+9:e.startsWith("http")?e.substr(7).indexOf("/")+8:e.indexOf("/")+1;var n=e.lastIndexOf("/");return"".concat(e.substring(t,n),"/")},n.getImgPath=function(e){var t;if(n.isRemoteUrl(e)){var r=n.extractFilePathFromUrl(e)+n.extractFileNameFromUrl(e);r.replace("/","#"),r.replace("\\","#"),t=n.wrapSandBoxPath("download/images/".concat(r))}else 0==e.indexOf("GameRes://")||0==e.indexOf("GameSandBox://")?t=e:(t=n.wrapLocalUrl(e),TT.FileUtil.isFileExist(t)||(t=n.wrapSandBoxPath(e)));return t},n.getAudioPath=function(e){var t;if(n.isRemoteUrl(e)){var r=n.extractFileNameFromUrl(e);t=n.wrapSandBoxPath("download/audio/".concat(r))}else t=n.wrapLocalUrl(e);return t},n.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)}:null},n.colourNameToHex=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]},n.colorToRgba=function(e){"#"===e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(\.*\d*))\)$/,example:["rgba(123, 234, 45,12)","rgba(255,234,245,12)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})(\w{2})$/,example:["#00ff0000","33669900"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseFloat(e[4])]}}],o=0;o<r.length;o++){var i=r[o].re,a=r[o].process,s=i.exec(e);if(s){var c=a(s);this.r=c[0],this.g=c[1],this.b=c[2],this.a=c[3],this.a<=1&&(this.a*=255),this.ok=!0}}return this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toFloatColor=function(){return{r:(this.r+0)/255,g:(this.g+0)/255,b:(this.b+0)/255,a:(this.a+0)/255}},this.toFloatColor()}},function(e,t,n){__TT__GLOBAL__;var r=__TT__GLOBAL__,o=__TT__GLOBAL__.newCmdBufferQueue;!function(e){function t(){return scriptEngineContextType&&scriptEngineContextType==CONTEXT_TYPE_OPENDATA}function r(t){this.__nativeObj=t,this.type="canvas",this._width=this.__nativeObj.canvasWidth,this._height=this.__nativeObj.canvasHeight,this.currentContext=[],o||(this.commandInstance=e.CommandQueueV2.Instance),this.isShared=!1,Object.getOwnPropertyNames(this.__nativeObj).forEach((function(e){var t=e;"width"!=t&&"height"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})}),this)}Object.defineProperty(r.prototype,"width",{get:function(){return this.isShared&&t()?this.__nativeObj.canvasWidth:this._width},set:function(e){e>16384||e<0?console.error("canvas set width: param error! width=".concat(e)):(this.currentContext.webgl&&(this.currentContext.webgl.drawingBufferWidth=e),this._width=e,this.__nativeObj.canvasWidth=e)}}),Object.defineProperty(r.prototype,"height",{get:function(){return this.isShared&&t()?this.__nativeObj.canvasHeight:this._height},set:function(e){e>16384||e<0?console.error("canvas set height: param error! height=".concat(e)):(this.currentContext.webgl&&(this.currentContext.webgl.drawingBufferHeight=e),this._height=e,this.__nativeObj.canvasHeight=e)}}),r.prototype.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var r=arguments[0];if(this.currentContext[r])return this.currentContext[r];if("2d"==r){if(a=this.__nativeObj.getContext.apply(this.__nativeObj,arguments),o){var i=n(63);this.currentContext[r]=new i(a)}else this.currentContext[r]=e.CanvasContext2D(this.__nativeObj,a);return this.currentContext[r].canvas=this,this.currentContext[r]}if("webgl"==r&&!t()){var a=this.__nativeObj.getContext.apply(this.__nativeObj,arguments);return this.currentContext[r]=o?new e.WebGLRenderingContext(a):e.CanvasContextWebGL(a),this.currentContext[r].canvas=this,this.currentContext[r].drawingBufferHeight=this.height,this.currentContext[r].drawingBufferWidth=this.width,this.currentContext[r]}}else;},r.prototype.toDataURL=function(){if(o||e.CommandQueue.Instance.flushCmd(),this.__nativeObj)return"data:image/png;base64,".concat(this.__nativeObj.toDataURL())},r.prototype.toTempFilePath=function(){return(!arguments[0].x||arguments[0].x<0)&&(arguments[0].x=0),(!arguments[0].y||arguments[0].y<0)&&(arguments[0].y=0),(!arguments[0].width||arguments[0].width<0)&&(arguments[0].width=this.width),(!arguments[0].height||arguments[0].height<0)&&(arguments[0].height=this.height),(!arguments[0].destWidth||arguments[0].destWidth<0)&&(arguments[0].destWidth=this.width),(!arguments[0].destHeight||arguments[0].destHeight<0)&&(arguments[0].destHeight=this.height),(!arguments[0].fileType||"png"!==arguments[0].fileType&&"jpg"!==arguments[0].fileType)&&(arguments[0].fileType="png"),(!arguments[0].quality||arguments[0].quality<=0||arguments[0].quality>1)&&(arguments[0].quality=1),this.__nativeObj.toTempFilePath(arguments[0])},r.prototype.toTempFilePathSync=function(){o||e.CommandQueue.Instance.flushCmd();var t=[];return arguments[0]instanceof Object?(t.push(arguments[0].x&&arguments[0].x>=0?arguments[0].x:0),t.push(arguments[0].y&&arguments[0].y>=0?arguments[0].y:0),t.push(arguments[0].width&&arguments[0].width>0?arguments[0].width:this.width),t.push(arguments[0].height&&arguments[0].height>0?arguments[0].height:this.height),t.push(arguments[0].destWidth&&arguments[0].destWidth>0?arguments[0].destWidth:this.width),t.push(arguments[0].destHeight&&arguments[0].destHeight>0?arguments[0].destHeight:this.height),t.push(!arguments[0].fileType||"png"!==arguments[0].fileType&&"jpg"!==arguments[0].fileType?"png":arguments[0].fileType),t.push(arguments[0].quality&&arguments[0].quality>0&&arguments[0].quality<=1?arguments[0].quality:1)):t=[0,0,this.width,this.height,this.width,this.height,"png",1],this.__nativeObj.toTempFilePathSync.apply(this.__nativeObj,t)},r.prototype.isScreen=function(){return this.__nativeObj.isScreen()},r.prototype.addEventListener=function(e,t){console.log("---adapter---Canvas.addEventListener todo???")},r.prototype.removeEventListener=function(e,t){console.log("---adapter---Canvas.removeEventListener todo???")},e.Canvas=r}(r.__ttObjdec__)},function(e,t,n){var r=n(1),o=n(38),i=n(37),a=function e(){"use strict";i(this,e),this.globalAlpha=void 0,this.globalCompositeOperation=void 0,this.fillColor=void 0,this.fillStyle=void 0,this.strokeColor=void 0,this.strokeStyle=void 0,this.lineWidth=void 0,this.lineCap=void 0,this.lineJoin=void 0,this.miterLimit=void 0,this.font=void 0,this.textAlign=void 0,this.textBaseline=void 0,this.imageSmoothingEnabled=void 0,this.transform=void 0},s=n(36).CommandConstant.canvas2d,c=n(23),u=__TT__GLOBAL__.__ttObjdec__,f=function(){"use strict";function e(t){i(this,e),t.nativeConsumer=new Uint32Array(t._nativeConsumer),this.__nativeObj=t,this._curState=new a,this._savedState=[],this._fontName="",this.commandInstance=u.RenderCmdQueue.Instance}return o(e,[{key:"makePropertyCmd",value:function(e,t){return t.cmd_id=e|65535&t.cmd_id,t}},{key:"drawImage",value:function(){var e=arguments.length;if(3===e||5===e||9===e){var t=arguments[0];if(null!=t){if(this.commandInstance.writeRenderCmd(this.__nativeObj,s.drawImage,e),Object.prototype.hasOwnProperty.call(t,"__nativeObj"))if(null!=t.type&&"canvas"==t.type){var n=t.currentContext["2d"]?t.currentContext["2d"]:t.currentContext.webgl;if(null==n)return void console.error("canvas 2d drawImage param error. canvas has no context");this.commandInstance.writeCanvas(n.__nativeObj)}else this.commandInstance.writeImage(t.__nativeObj);else if(t.width>0&&t.height>0)this.commandInstance.writeImageData(t);else if("string"==typeof t)this.commandInstance.writeString(t);else{if(!t.src)return void console.error("canvas 2d drawImage arguments[0] type error!",r(t));this.commandInstance.writeString(t.src)}for(var o=1;o<e;o++)if("number"!=typeof arguments[o])return void console.error("canvas 2d drawImage arguments type error! argument[".concat(o,"] ").concat(r(arguments[o])));if(9==e)this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.writeFloat32(arguments[6]),this.commandInstance.writeFloat32(arguments[7]),this.commandInstance.writeFloat32(arguments[8]),this.commandInstance.commit();else if(5==e)this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.commit();else{if(3!=e)return void console.error("canvas 2d drawImage arguments length error",e);this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.commit()}}else console.error("canvas 2d drawImage arguments[0] is undefined!")}else console.error("canvas 2d drawImage arguments length error!",e)}},{key:"fill",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.fill,0),this.commandInstance.commit()}},{key:"stroke",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.stroke,0),this.commandInstance.commit()}},{key:"rect",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.rect,4),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.commit()}},{key:"fillRect",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.fillRect,4),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.commit()}},{key:"strokeRect",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.strokeRect,4),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.commit()}},{key:"clearRect",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.clearRect,4),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.commit()}},{key:"beginPath",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.beginPath,0),this.commandInstance.commit()}},{key:"closePath",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.closePath,0),this.commandInstance.commit()}},{key:"moveTo",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.moveTo,2),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.commit()}},{key:"lineTo",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.lineTo,2),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.commit()}},{key:"arcTo",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.arcTo,5),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.commit()}},{key:"arc",value:function(){var e=arguments.length;5==e?(this.commandInstance.writeRenderCmd(this.__nativeObj,s.arc,5),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.commit()):6==e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.arc,6),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.commit())}},{key:"quadraticCurveTo",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.quadraticCurveTo,4),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.commit()}},{key:"bezierCurveTo",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.bezierCurveTo,6),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.commit()}},{key:"save",value:function(){this._fontName="",this._savedState.push(this._curState),this.commandInstance.writeRenderCmd(this.__nativeObj,s.save,0),this.commandInstance.commit()}},{key:"restore",value:function(){this._fontName="",this._curState=this._savedState.pop(),this.commandInstance.writeRenderCmd(this.__nativeObj,s.restore,0),this.commandInstance.commit()}},{key:"fillText",value:function(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"===r(t)?Object.prototype.toString.call(t):JSON.stringify(t));var n=arguments[1],o=arguments[2];if(3==e)this.commandInstance.writeRenderCmd(this.__nativeObj,s.fillText,3),this.commandInstance.writeString(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(o),this.commandInstance.commit();else if(4==e){var i=arguments[3];this.commandInstance.writeRenderCmd(this.__nativeObj,s.fillText,4),this.commandInstance.writeString(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(o),this.commandInstance.writeFloat32(i),this.commandInstance.commit()}}}},{key:"strokeText",value:function(){var e=arguments.length;if(e>=3){var t=arguments[1],n=arguments[2];if(3==e)this.commandInstance.writeRenderCmd(this.__nativeObj,s.strokeText,3),this.commandInstance.writeString(arguments[0]),this.commandInstance.writeFloat32(t),this.commandInstance.writeFloat32(n),this.commandInstance.commit();else if(4==e){var r=arguments[3];this.commandInstance.writeRenderCmd(this.__nativeObj,s.strokeText,4),this.commandInstance.writeString(arguments[0]),this.commandInstance.writeFloat32(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.commit()}}}},{key:"clip",value:function(){var e=arguments.length;0==e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.clip,0),this.commandInstance.commit())}},{key:"createImageData",value:function(){var e=arguments.length;if(2==e)return this.commandInstance.writeRenderCmd(this.__nativeObj,s.createImageData,2),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.commit();if(1==e){var t=arguments[0];if((null==t?void 0:t.width)&&t.height)return this.commandInstance.writeRenderCmd(this.__nativeObj,s.createImageData,2),this.commandInstance.writeFloat32(t.width),this.commandInstance.writeFloat32(t.height),this.commandInstance.commit()}}},{key:"getImageData",value:function(){var e=arguments.length;if(4==e){this.commandInstance.writeRenderCmd(this.__nativeObj,s.getImageData,4);var t=arguments[0],n=arguments[1],r=arguments[2],o=arguments[3];return this.commandInstance.writeFloat32(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(o),this.commandInstance.commit()}}},{key:"putImageData",value:function(){var e=arguments.length;if(e>=3){var t=arguments[0],n=t.width,r=t.height;3==e?(this.commandInstance.writeRenderCmd(this.__nativeObj,s.putImageData,5),this.commandInstance.writeArray(t.data),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.commit()):7==e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.putImageData,9),this.commandInstance.writeArray(t.data),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.writeFloat32(arguments[6]),this.commandInstance.commit())}else console.error("canvas 2d putImageData argument length error ",e)}},{key:"scale",value:function(){2==arguments.length&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.scale,2),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.commit())}},{key:"rotate",value:function(){1==arguments.length&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.rotate,1),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.commit())}},{key:"translate",value:function(){2==arguments.length&&(this.commandInstance.writeRenderCmd(this.__nativeObj,s.translate,2),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.commit())}},{key:"transform",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.transform,6),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.commit()}},{key:"setTransform",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.setTransform,6),this.commandInstance.writeFloat32(arguments[0]),this.commandInstance.writeFloat32(arguments[1]),this.commandInstance.writeFloat32(arguments[2]),this.commandInstance.writeFloat32(arguments[3]),this.commandInstance.writeFloat32(arguments[4]),this.commandInstance.writeFloat32(arguments[5]),this.commandInstance.commit()}},{key:"resetTransform",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.resetTransform,0),this.commandInstance.commit()}},{key:"measureText",value:function(){this.commandInstance.writeRenderCmd(this.__nativeObj,s.measureText,0),this.commandInstance.writeString(arguments[0]);var e=this.commandInstance.commit();return null!=e&&(e.type="TextMetrics"),e}},{key:"toDataURL",value:function(){var e=u.Triton.Director.screenScale,t=this.getImageData(0,0,this.size.width/e,this.size.height/e),n=u.Triton.Misc.encodeBase64FromBuffer(t);return n&&(n="data:image/png;base64,".concat(n)),n}},{key:"createPattern",value:function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,s.createPattern,2),this.commandInstance.writeImage(e),this.commandInstance.writeString(t),this.commandInstance.commit()}},{key:"createLinearGradient",value:function(e,t,n,r){return this.commandInstance.writeRenderCmd(this.__nativeObj,s.createLinearGradient,4),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.commit()}},{key:"createRadialGradient",value:function(e,t,n,r,o,i){return this.commandInstance.writeRenderCmd(this.__nativeObj,s.createRadialGradient,6),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(t),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(o),this.commandInstance.writeFloat32(i),this.commandInstance.commit()}},{key:"globalAlpha",get:function(){return null==this._curState.globalAlpha&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.globalAlpha),1),this._curState.globalAlpha=this.commandInstance.commit()),this._curState.globalAlpha},set:function(e){this._curState.globalAlpha=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.globalAlpha),2),this.commandInstance.writeFloat32(e),this.commandInstance.commit()}},{key:"globalCompositeOperation",get:function(){return null==this._curState.globalCompositeOperation&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.globalCompositeOperation),1),this._curState.globalCompositeOperation=this.commandInstance.commit()),this._curState.globalCompositeOperation},set:function(e){this._curState.globalCompositeOperation=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.globalCompositeOperation),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"fillColor",get:function(){return null==this._curState.fillColor&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.fillColor),1),this._curState.fillColor=this.commandInstance.commit()),this._curState.fillColor},set:function(e){this._curState.fillColor=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.fillColor),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"fillStyle",get:function(){return null==this._curState.fillStyle&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.fillStyle),1),this._curState.fillStyle=this.commandInstance.commit()),this._curState.fillStyle},set:function(e){this._curState.fillStyle=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.fillStyle),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"strokeColor",get:function(){return null==this._curState.strokeColor&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.strokeColor),1),this._curState.strokeColor=this.commandInstance.commit()),this._curState.strokeColor},set:function(e){this._curState.strokeColor=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.strokeColor),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"strokeStyle",get:function(){return null==this._curState.strokeStyle&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.strokeStyle),1),this._curState.strokeStyle=this.commandInstance.commit()),this._curState.strokeStyle},set:function(e){this._curState.strokeStyle=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.strokeStyle),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"lineWidth",get:function(){return null==this._curState.lineWidth&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.lineWidth),1),this._curState.lineWidth=this.commandInstance.commit()),this._curState.lineWidth},set:function(e){this._curState.lineWidth=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.lineWidth),2),this.commandInstance.writeFloat32(e),this.commandInstance.commit()}},{key:"lineCap",get:function(){return null==this._curState.lineCap&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.lineCap),1),this._curState.lineCap=this.commandInstance.commit()),this._curState.lineCap},set:function(e){this._curState.lineCap=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.lineCap),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"lineJoin",get:function(){return null==this._curState.lineJoin&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.lineJoin),1),this._curState.lineJoin=this.commandInstance.commit()),this._curState.lineJoin},set:function(e){this._curState.lineJoin=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.lineJoin),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"miterLimit",get:function(){return null==this._curState.miterLimit&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.miterLimit),1),this._curState.miterLimit=this.commandInstance.commit()),this._curState.miterLimit},set:function(e){this._curState.miterLimit=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.miterLimit),2),this.commandInstance.writeFloat32(e),this.commandInstance.commit()}},{key:"font",get:function(){if(null==this._curState.font){this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.font),1);var e=this.commandInstance.commit();this._curState.font=c.fontObj2String(e)}return this._curState.font},set:function(e){if(e&&"string"==typeof e){if(this._fontName!==e){var t=c.createFontObj(e);this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.font),5),this.commandInstance.writeInt32(t.font_style),this.commandInstance.writeInt32(t.font_weight),this.commandInstance.writeFloat32(t.font_size),this.commandInstance.writeString(t.font_family),this.commandInstance.commit(),this._curState.font=e}}else console.error("context.font set: param format error! param is null or not a string! param =".concat(e))}},{key:"textAlign",get:function(){return null==this._curState.textAlign&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.textAlign),1),this._curState.textAlign=this.commandInstance.commit()),this._curState.textAlign},set:function(e){this._curState.textAlign=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.textAlign),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"textBaseline",get:function(){return null==this._curState.textBaseline&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.textBaseline),1),this._curState.textBaseline=this.commandInstance.commit()),this._curState.textBaseline},set:function(e){this._curState.textBaseline=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.textBaseline),2),this.commandInstance.writeString(e),this.commandInstance.commit()}},{key:"imageSmoothingEnabled",get:function(){return null==this._curState.imageSmoothingEnabled&&(this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(2<<16,s.imageSmoothingEnabled),1),this._curState.imageSmoothingEnabled=this.commandInstance.commit()),this._curState.imageSmoothingEnabled},set:function(e){this._curState.imageSmoothingEnabled=e,this.commandInstance.writeRenderCmd(this.__nativeObj,this.makePropertyCmd(65536,s.imageSmoothingEnabled),2),this.commandInstance.writeFloat32(e),this.commandInstance.commit()}}]),e}();e.exports=f},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(e){window.__tt__start__loadJSSDK=!0;var t,r=n(3),o=n(93).default,i=n(94).default,a=e.__ttObjdec__;if((r.isIOS||r.isAndroid)&&a&&null==a.Triton){a.Triton=Triton;try{Triton=void 0}catch(e){}}function s(){var e=window.wx||{};__ttObjdec__.privateApi={};var t=n(6),o=n(2),i=n(0),a=n(112);window.WeixinJSBridge=o,n(114),n(152),n(55),n(56),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161);var s=t.normalAPIFactory(i.getNormalAPIConfigs()),c=t.bindEventAPIFactory(i.getBindAPIConfigs());if(e=Object.assign(e,s,c),r.isDevtool||r.isIOS){var u=n(162);e=Object.assign(e,u,a)}for(var f in __ttObjdec__.privateApi)delete e[f];window.wx=e,window.qq=wx}function c(){var e=window.wx||{},t=n(204);e.requestMidasPayment=t.requestMidasPayment,e.requestFriendPayment=t.requestFriendPayment}r.isDevtool?(s(),t=n(15),window.define=t.define,window.require=t.require,window.requirePlugin=t.requirePlugin,c()):r.isAndroid?(window.newCmdBufferQueue=a.Triton.hasOwnProperty("RenderCmdQueue"),window.newCmdBufferQueue?(n(174),n(175),n(60),n(61),n(62),n(24)):(n(60),n(61),n(177),n(178),n(179),n(62),n(24),n(183),n(184)),n(40),n(187),n(188),n(189),n(41),n(42),n(190),console.log("android newCmdBufferQueue",window.newCmdBufferQueue),s(),c(),n(59),e.timePerformanceResult=wx.timePerformanceResult):(!function(){var t,r,o=e.__ttObjdec__;if(o.util=new o.Triton.GlobalUtil,o.Map=Map,o.isMainService=!0,o.webglPlusUtil=new o.Triton.WebGLPlusUtil,n(99),n(100),n(101),n(102),n(103),r=n(97),Promise=void 0,Promise=r,n(104),n(107),n(108),n(109),n(111),null===(t=__wxConfig)||void 0===t?void 0:t.systemVersion){var i=__wxConfig.systemVersion.split(".");i.length>0&&parseInt(i[0])<10&&n(52)}}(),s(),c(),n(173),n(163),n(164),n(165),n(166),n(59),n(167),n(168),n(169),n(170));try{if(o()){var u=window.wx;window.wx=i.getProxy(u,"game"),window.qq=window.wx}}catch(e){console.error("ProxyApiReport error",e)}window.__tt__success__loadJSSDK=!0}).call(this,n(5))},function(e,t,n){"use strict";n.r(t);t.default=function(){if("undefined"==typeof Proxy)return!1;if(Object.prototype.toString.call(new Proxy({},{}))!==Object.prototype.toString.call({}))return!1;if("undefined"==typeof __qqConfig)return!1;var e=__qqConfig.deviceinfo;try{if(e){var t=e.match(/iOS\/([0-9]+)./);if(t)if(parseInt(t[1],10))return!1}}catch(e){console.warn("check ios version warning",e.message)}var n=__wxConfig,r=n.platform,o=(n.frameworkInfo,n.QUA);return"devtools"!==r&&!!(o&&o.indexOf("RDM")>-1)}},function(e,t,n){"use strict";n.r(t);var r,o,i,a,s,c,u,f=n(95).default,l="https://api-report.q.qq.com/qqqzonetest/miniapp/api/base_lib_report",p=new Map,m=1e3,d=[],h="",_="",v={},y=console.error,g=!1,b=["reportUserApi","__nativeObj","currentContext","addEventListener","dispatchEvent","handleImgUrl","loadImg","constructor","__proto__","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","offTouchStart","offTouchMove","offTouchEnd","offTouchCancel","transformRpx"],I=["createImage","getContext","connectSocket"],E=["createInnerAudioContext","createLivePusherContext","createVideo","createImage"],A="devtools"===__qqConfig.platform,O=function(){for(var e="".concat(Math.floor(1e5*Math.random()));e.length<5;)e="0".concat(e);return"".concat(Date.now(),"_").concat(e)},w=function(e){for(var t=5388,n=0,r=e.length;n<r;++n)t+=t+e.charAt(n).charCodeAt();return 2147483647&t},S=function(){return s||(s=new Promise((function(e,t){if(A||h)e();else{var n=function(){var t;v=a()||{},__wxConfig.accountInfo&&(_=__wxConfig.accountInfo.appId,console.log("appid",_));var n="".concat(l,"?_wnscgi=1&platform=").concat(v.platform,"&qua=").concat(__qqConfig.QUA);null===(t=o)||void 0===t||t({url:n,method:"GET",success:function(t){var n=t.data,r=void 0===n?{}:n;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}h=r.sessionid,r.isTest&&(console.log("is test uin set reportLen 30"),m=20),console.log("get report sessionid:".concat(JSON.stringify(r))),e()},fail:function(t){y("get report sessionid fail",t),e()}})};__wxConfig.onReady?__wxConfig.onReady(n):setTimeout(n)}})))},N=0,T=0,C=!1,R={getProxy:function(e,t){if(g)return e;var n="app"===(r=t);n&&(m=20),o=e.request,i=e.onHide?e.onHide:e.onAppHide,a=e.getSystemInfoSync||function(){};var s=new f(e,{getApiId:O,apiPrefix:"qq",dealType:n?"defineProperty":"proxy",report:function(e){if(function(e){var t=p.get(e)||[];t.st&&clearTimeout(t.st),t.st=setTimeout((function(){p.delete(e)}),2e3);var n=Date.now(),r=t.length>=10,o=!r||n-t[0]>1e3;return r&&t.shift(),t.push(n),p.set(e,t),o}(e.apiName)){var t=e.ret,n=e.apiName,a=e.res,s="";switch(t){case"exception":s="jslib",n.endsWith(":callback:exception")&&(s="developer"),a.indexOf("no such file or directory")&&(s="developer");break;case"errorLog":s="jslib",e.args&&e.args[0]&&"string"==typeof e.args[0]&&e.args[0].indexOf("parameter error:")>-1&&(s="developer");break;case"fail":s="developer";break;case"cbkMultiWarn":case"cbkOrderWarn":case"cbkAsyncWarn":case"timeout":s="client"}/(onError|onSocketError|onUpdateFailed):args\[0\]:callback$/.test(n)&&(t="onError",s="client"),function(e){var t=e.callStartTime,n=e.api,a=e.apiid,s=e.pid,f=void 0===s?"":s,p=e.parentApiName,y=void 0===p?"":p,g=e.traceid,b=e.traceApiName,I=e.args,E=void 0===I?{}:I,O=e.res,R=void 0===O?{}:O,M=e.ret,P=void 0===M?"ok":M,j=e.bugAttribution,x=void 0===j?"":j;if(!("ok"!==P&&(T+=1)>100)){u!==t&&(N=0),u=t,t=1e3*t+N,N+=1;var D=t+1;S();var L={api:n,apiid:a,traceid:g,pid:f,parentApiName:y,traceApiName:b,args:E,res:R,ret:P,bug_attribution:x,callStartTime:t,callEndTime:D};if("ok"!==P)console.warn("API全链路",L);else if("game"===r)return;d.push(L);var B=function(){var e=d;e.length<=0||(d=[],S().then((function(){var t=Date.now(),n={time:t,QUA:__qqConfig.QUA,appid:_,from:r,sessionid:h,SDKVersion:v.SDKVersion,SDKBuild:v.SDKBuild,model:v.model,platform:v.platform,system:v.system,version:v.version,brand:v.brand,signatrue:w("".concat(t))};n.list=e,!A&&o({url:l,data:n,method:"POST",success:function(e){},fail:function(e){console.warn("report fail",e)}})})))};d.length>=m&&B(),c||(c=setInterval(B,5e3)),C||("function"==typeof i&&i((function(){B()})),C=!0)}}({api:e.apiName,apiid:e.apiId,pid:e.pid,parentApiName:e.parentApiName,traceid:e.traceId,traceApiName:e.traceApiName,args:e.args,res:e.res,ret:t,bugAttribution:s,callStartTime:e.time})}},shouldHandleMethod:function(e,t,n){return!b.includes(n)},shouldHandleResult:function(e,t,n){return!I.includes(n)},shouldReportPropertySet:function(e,t,n){return E.includes(t)},shouldHookConsoleError:!0}).proxy;return g=!0,s}};t.default=R},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(47),a=n(96),s=function(){},c=Map,u=0,f=function(){return""+(u+=1)},l=function(){function e(e,t){if(this.dealType="proxy",this.parentIdMap=new c,this.apiInfoMap=new c,this.apiTagMap=new c,this.useDefineProperty=!1,!a.default.checkCanBeDeal(e))return console.warn("ProxyMonitorError:target should be object and not null"),this.proxy=e,void(this.isDealed=!1);this.isDealed=!0,this.options=r({shouldHandleMethod:function(){return!0},shouldHandleResult:function(){return!0},shouldReportPropertySet:function(){return!1},report:function(){},apiCbkTimeout:i.apiCbkDefaultTimeout,eventCbkTimeout:i.eventCbkDefaultTimeout,getApiId:f},t),this.useDefineProperty="defineProperty"===this.options.dealType,a.default.checkCanBeProxy(e)||(this.useDefineProperty=!0),this.dealType=this.useDefineProperty?"defineProperty":"proxy",this.options.hookSetTimeout&&(this.setTimeout=this.dealSetTimeoutOrSetInterval(this.options.hookSetTimeout,"setTimeout")),this.options.hookSetInterval&&(this.setInterval=this.dealSetTimeoutOrSetInterval(this.options.hookSetInterval,"setInterval")),this.options.shouldHookConsoleError&&this.hookConsoleError(),this.callPaths=[],this.apiInfoKeys=[],this.useDefineProperty?this.proxy=this.dealTargetWithDefineProperty(e):this.proxy=a.default.getNewProxyWithTryCatch(e,this.getHandler())}return e.prototype.addApiInfo=function(e,t){for(this.apiInfoMap.set(e,t),this.apiInfoKeys.push(e);this.apiInfoKeys.length>i.ApiInfoMapMaxSize;){var n=this.apiInfoKeys.shift();this.apiInfoMap.delete(n)}},e.prototype.hookConsoleError=function(){var e=this,t=console.error;Object.getOwnPropertyDescriptor(console,"error").writable?console.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.callPaths[e.callPaths.length-1];e.report({apiName:"ConsoleError",apiId:e.options.getApiId(),pid:o,args:n,ret:"errorLog"}),t.apply(console,n)}:console.warn("console.error不可被hook")},e.prototype.dealSetTimeoutOrSetInterval=function(e,t){var n=this;return function(r,o){void 0===o&&(o=0);var i=n.callPaths[n.callPaths.length-1],a=r;if(i&&n.apiInfoMap.get(i).isCbk){var s=n.options.getApiId();n.addApiInfo(s,{name:t,time:Date.now(),isCbk:!1,isFinish:!1}),n.report({apiName:t,apiId:s,pid:i,ret:"ok"}),a=function(){var e=n.options.getApiId(),o=s;n.callPaths.push(e);var i=t+":callback";n.addApiInfo(e,{name:i,time:Date.now(),isCbk:!0,isFinish:!1}),n.report({apiId:e,apiName:i,pid:o,ret:"ok"}),r(),n.callPaths.splice(n.callPaths.length-1,1)}}return e(a,o)}},e.prototype.report=function(e){var t,n=e.apiId,r=e.apiName,o=e.property,i=e.pid,s=e.args,c=void 0===s?[]:s,u=e.res,f=e.isAsync,l=void 0===f?null:f,p=e.ret,m=void 0===p?"ok":p,d=n=String(n),h=r;if(i&&this.apiInfoMap.has(i)){for(this.parentIdMap.set(n,i),t=this.apiInfoMap.get(i).name;this.parentIdMap.has(d);)d=this.parentIdMap.get(d);this.apiInfoMap.has(d)&&(h=this.apiInfoMap.get(d).name)}var _=this.options.apiPrefix;_&&(r=_+"."+r,h=_+"."+h,t&&(t=_+"."+t));var v={apiId:n,apiName:r,property:o,pid:i,parentApiName:t,traceId:d,traceApiName:h,args:a.default.truncatObjectProperty(c),res:a.default.truncatObjectProperty(u),ret:m,isAsync:l,time:Date.now()};this.options.report(v)},e.prototype.getNewApiArgPropertyArgs=function(e,t,n){var r=this;return e.map((function(e,o){var i=e,s=n+":args["+o+"]";return a.default.checkCanBeDeal(e)&&(i=r.useDefineProperty||!a.default.checkCanBeProxy(e)?r.dealTargetWithDefineProperty(e,s,t):a.default.getNewProxyWithTryCatch(e,r.getHandler(s,t))),i}))},e.prototype.warnReport=function(e,t,n,r,o){this.report({apiId:this.options.getApiId(),apiName:n+":"+e,ret:e,res:t,property:r,pid:o})},e.prototype.getArgFuncHook=function(e,t,n,r,o,a){var s=this;return function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];var f="",l="",p="",m=null,d=s.apiInfoMap.get(r);if(d){var h=d.cbkCalledList,_=d.checkTimeoutSt,v=d.isFinish;m=v,_&&clearTimeout(_),i.argPropertyCbkCheckNames.includes(a)&&(h.includes("complete")&&(l="complete在回调success、fail前被调用"),m||(p="异步接口同步回调了")),a&&h.push(a),h.filter((function(e){return i.argPropertyCbkCheckNames.includes(e)})).length>1&&(f="回调success、fail被重复调用")}var y=s.options.getApiId(),g=s.getNewApiArgPropertyArgs(c,y,n);s.addApiInfo(y,{name:n,time:Date.now(),isCbk:!0,isFinish:!1});var b="ok";"fail"===a?b="fail":"onError"!==o&&"onSocketError"!==o&&"onUpdateFailed"!==o||(b="onError"),s.report({apiId:y,apiName:n,property:a,pid:r,args:c,isAsync:m,ret:b}),s.callPaths.push(y),f&&s.warnReport("cbkMultiWarn",f,n,a,r),l&&s.warnReport("cbkOrderWarn",l,n,a,r),p&&s.warnReport("cbkAsyncWarn",p,n,a,r);try{var I=t.apply(e,g);return s.callPaths.splice(s.callPaths.length-1,1),s.apiInfoMap.get(y).isFinish=!0,I}catch(e){throw s.callPaths.splice(s.callPaths.length-1,1),s.apiInfoMap.get(y).isFinish=!0,s.report({apiName:n+":exception",apiId:s.options.getApiId(),property:a,pid:y,res:e.message,ret:"exception"}),e}}},e.prototype.getFuncHook=function(e,t,n){var r=e[n],i=(t?t+".":"")+n;if(this.options.useApiTag){var s=this.apiTagMap.get(n)||0;i=i+":"+s,s+=1,this.apiTagMap.set(n,s)}var c=this;return function s(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var l=c.options.getApiId(),p=c.callPaths[c.callPaths.length-1],m=c.dealApiFuncArgs(u,l,p,n,i);c.report({apiName:i,apiId:l,property:n,pid:p,args:u,ret:"ok"}),c.callPaths.push(l);try{var d=void 0;return d=s.prototype===this.__proto__?new(r.bind.apply(r,o([void 0],m))):r.apply(e,m),c.callPaths.splice(c.callPaths.length-1,1),c.apiInfoMap.get(l).isFinish=!0,c.options.shouldHandleResult(d,t,n)&&a.default.checkCanBeDeal(d)&&(d=c.useDefineProperty?c.dealTargetWithDefineProperty(d,i,l):a.default.getNewProxyWithTryCatch(d,c.getHandler(i,l))),d}catch(e){throw c.callPaths.splice(c.callPaths.length-1,1),c.apiInfoMap.get(l).isFinish=!0,c.report({apiName:i+":exception",apiId:c.options.getApiId(),property:n,pid:l,res:e.message,ret:"exception"}),e}}},e.prototype.dealApiFuncArgs=function(e,t,n,r,o){var s=this,u=[],f=null,l=function(n){f||(f=setTimeout((function(){var i=n?"timeout":"timeout_maybe";s.report({apiName:o+":"+i,apiId:s.options.getApiId(),property:r,pid:t,args:e,res:"等待回调超过了"+s.options.apiCbkTimeout+"秒",ret:i})}),n?s.options.apiCbkTimeout:s.options.eventCbkTimeout))};return e.forEach((function(e,n){if("function"!==typeof e)if(a.default.checkCanBeDeal(e)){var f,p=new c;Reflect.ownKeys(e).forEach((function(e){i.argPropertyCbkCheckNames.includes(String(e))&&l(!0)})),f=s.useDefineProperty||!a.default.checkCanBeProxy(e)?s.dealArgPropertyWithDefineProperty(e,p,o,n,t,r):s.dealArgPropertyWithProxy(e,p,o,n,t,r),u.push(f)}else u.push(e);else{if(!e.hookNewFuncCache){l(!1);var m=o+":args["+n+"]:callback";e.hookNewFuncCache=s.getArgFuncHook(null,e,m,t,r,"")}u.push(e.hookNewFuncCache)}})),this.addApiInfo(t,{name:o,time:Date.now(),isCbk:!1,isFinish:!1,checkTimeoutSt:f,cbkCalledList:[]}),u},e.prototype.dealArgPropertyWithDefineProperty=function(e,t,n,r,o,i){var a=this,s={};return Reflect.ownKeys(e).forEach((function(c){var u=Reflect.getOwnPropertyDescriptor(e,i)||{enumerable:!0,configurable:!0};Reflect.defineProperty(s,c,{get:function(){var s=e[c];if("function"!=typeof s)return s;if(!t.has(c)){var u=n+":args["+r+"]."+c+":callback";t.set(c,a.getArgFuncHook(e,s,u,o,i,c))}return t.get(c)},set:function(t){e[c]=t},configurable:u.configurable,enumerable:u.enumerable})})),s},e.prototype.dealArgPropertyWithProxy=function(e,t,n,r,o,c){var u=this;return a.default.getNewProxyWithTryCatch(e,{get:function(e,a){try{var f=e[a],l=!1;if(void 0===f&&i.autoAddCallbackProperties.includes(a)&&(f=s,l=!0),"function"!=typeof f)return f;if(!t.has(a)){var p=n+":args["+r+"]."+a+(l?":autoadd":"")+":callback";t.set(a,u.getArgFuncHook(e,f,p,o,c,a))}return t.get(a)}catch(t){return console.warn("proxy handler get property faild",c,a,t.message),e[a]}}})},e.prototype.getHandler=function(e,t){var n=this;return{get:function(t,r,o){try{var i=Reflect.get(t,r,o);return"symbol"==typeof r||"function"!=typeof i?i:n.options.shouldHandleMethod(t,e,r)?n.getFuncHook(t,e,r).bind(t):i}catch(e){return t[r]}},set:function(r,o,i,a){try{return n.options.shouldReportPropertySet(r,e,o)&&n.report({apiId:n.options.getApiId(),apiName:(e?e+".":"")+o+".set",property:o,args:[i],pid:t,ret:"ok"}),Reflect.set(r,o,i,a)}catch(e){try{return r[o]=i,!0}catch(e){return console.error("proxy handler set property error",o,r),!1}}}}},e.prototype.dealTargetWithDefineProperty=function(e,t,n){var r=this;if("function"==typeof e.then&&!Reflect.ownKeys(e.__proto__).includes("then"))return e;var o={};return a.default.getObjectKeys(e).forEach((function(i){var a=Reflect.getOwnPropertyDescriptor(e,i)||{enumerable:!0,configurable:!0};Reflect.defineProperty(o,i,{get:function(){var n=e[i];return"function"!=typeof n?n:r.options.shouldHandleMethod(e,t,i)?r.getFuncHook(e,t,i).bind(e):n},set:function(o){r.options.shouldReportPropertySet(e,t,i)&&r.report({apiId:r.options.getApiId(),apiName:(t?t+".":"")+i+".set",property:i,args:[o],pid:n,ret:"ok"}),e[i]=o},enumerable:a.enumerable,configurable:a.configurable})})),o.__proto__=e.__proto__,o},e}();t.default=l},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(47),i=Object.prototype.hasOwnProperty,a=!1;t.default={truncatObjectProperty:function e(t,n){void 0===n&&(n=1);try{if(!t)return t;var r=typeof t;if("string"===r)return function(e){return e?e.length>o.TruncatLen?e.slice(0,o.TruncatLen)+"...":e:String(e)}(t);if("function"===r)return"function";if("object"==typeof t){var i=Array.isArray(t),a=i?[]:{};return n>2?typeof t:(Object.keys(t).forEach((function(r){var o=e(t[r],n+1);i?a.push(o):a[r]=o})),a)}}catch(e){return console.error("truncatObjectProperty error",e),"parse error:"+e.message}return t},checkCanBeProxy:function(e){if(a)return!0;if("function"!=typeof Proxy)return!1;if(Object.prototype.toString.call(new Proxy({},{}))!==Object.prototype.toString.call({}))return console.warn("Proxy toString 与 Object toString 不同"),!1;var t=function(){this.name="name"},n=new t,o=new Proxy(n,{});return o instanceof t&&o.__proto__===n.__proto__?0===Reflect.ownKeys(o).length?(console.warn("Proxy对象同原对象属性不同"),!1):0===Reflect.ownKeys(r({},o)).length?(console.warn("Proxy对象不能被展开"),!1):(a=!0,!0):(console.warn("Proxy对象同原对象类型不同"),!1)},checkCanBeDeal:function(e){return!!e&&"object"==typeof e&&!function(e){if("object"!=typeof e)return!1;if(Array.isArray(e))return!0;if(e instanceof ArrayBuffer)return!0;if(ArrayBuffer.isView(e))return!0;return!1}(e)&&"[object Date]"!==Object.prototype.toString.call(e)},getNewProxyWithTryCatch:function(e,t){try{return new Proxy(e,t)}catch(t){return console.warn("get new proxy warning",t.message),e}},getObjectKeys:function(e){var t={},n=[];for(t.__proto__=e;t.__proto__&&!i.call(t.__proto__,"hasOwnProperty");)t=t.__proto__,n=n.concat(Reflect.ownKeys(t));return n}}},function(e,t,n){(function(r,o){var i,a,s,c=n(1);
/* !
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */
s=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,i=void 0,a=void 0,s=function(e,t){h[n]=e,h[n+1]=t,2===(n+=2)&&(a?a(_):I())},u="undefined"!=typeof window?window:void 0,f=u||{},l=f.MutationObserver||f.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),m="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(_,1)}}var h=new Array(1e3);function _(){for(var e=0;e<n;e+=2)(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0;n=0}var v,y,g,b,I=void 0;function E(e,t){var n=this,r=new this.constructor(w);void 0===r[O]&&B(r);var o=n._state;if(o){var i=arguments[o-1];s((function(){return D(o,r,i,n._result)}))}else j(n,r,e,t);return r}function A(e){if(e&&"object"===c(e)&&e.constructor===this)return e;var t=new this(w);return C(t,e),t}p?I=function(){return r.nextTick(_)}:l?(y=0,g=new l(_),b=document.createTextNode(""),g.observe(b,{characterData:!0}),I=function(){b.data=y=++y%2}):m?((v=new MessageChannel).port1.onmessage=_,I=function(){return v.port2.postMessage(0)}):I=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(_)}:d()}catch(e){return d()}}():d();var O=Math.random().toString(36).substring(2);function w(){}var S={error:null};function N(e){try{return e.then}catch(e){return S.error=e,S}}function T(t,n,r){n.constructor===t.constructor&&r===E&&n.constructor.resolve===A?function(e,t){1===t._state?M(e,t._result):2===t._state?P(e,t._result):j(t,void 0,(function(t){return C(e,t)}),(function(t){return P(e,t)}))}(t,n):r===S?(P(t,S.error),S.error=null):void 0===r?M(t,n):e(r)?function(e,t,n){s((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?C(e,n):M(e,n))}),(function(t){r||(r=!0,P(e,t))}),"Settle: ".concat(e._label||" unknown promise"));!r&&o&&(r=!0,P(e,o))}),e)}(t,n,r):M(t,n)}function C(e,t){var n,r;e===t?P(e,new TypeError("You cannot resolve a promise with itself")):(r=c(n=t),null===n||"object"!==r&&"function"!==r?M(e,t):T(e,t,N(t)))}function R(e){e._onerror&&e._onerror(e._result),x(e)}function M(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&s(x,e))}function P(e,t){void 0===e._state&&(e._state=2,e._result=t,s(R,e))}function j(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&s(x,e)}function x(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?D(n,r,o,i):o(i);e._subscribers.length=0}}function D(t,n,r,o){var i=e(r),a=void 0,s=void 0,c=void 0,u=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return S.error=e,S}}(r,o))===S?(u=!0,s=a.error,a.error=null):c=!0,n===a)return void P(n,new TypeError("A promises callback cannot return that same promise."))}else a=o,c=!0;void 0!==n._state||(i&&c?C(n,a):u?P(n,s):1===t?M(n,a):2===t&&P(n,a))}var L=0;function B(e){e[O]=L++,e._state=void 0,e._result=void 0,e._subscribers=[]}var k=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(w),this.promise[O]||B(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&M(this.promise,this._result))):P(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===A){var o=N(e);if(o===E&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(w);T(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?P(r,n):this._result[t]=n),0===this._remaining&&M(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;j(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),F=function(){function t(e){this[O]=L++,this._result=this._state=void 0,this._subscribers=[],w!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){C(e,t)}),(function(t){P(e,t)}))}catch(t){P(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return F.prototype.then=E,F.all=function(e){return new k(this,e).promise},F.race=function(e){var n=this;return t(e)?new n((function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)})):new n((function(e,t){return t(new TypeError("You must pass an array to race."))}))},F.resolve=A,F.reject=function(e){var t=new this(w);return P(t,e),t},F._setScheduler=function(e){a=e},F._setAsap=function(e){s=e},F._asap=s,F.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F},F.Promise=F,F},"object"===c(t)&&void 0!==e?e.exports=s():void 0===(a="function"==typeof(i=s)?i.call(t,n,t,e):i)||(e.exports=a)}).call(this,n(98),n(5))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?u=c.concat(u):l=-1,u.length&&m())}function m(){if(!f){var e=s(p);f=!0;for(var t=u.length;t;){for(c=u,u=[];++l<t;)c&&c[l].run();l=-1,t=u.length}c=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||f||s(m)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){var r=n(1);function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}__TT__GLOBAL__;var a=__TT__GLOBAL__,s=(__TT__GLOBAL__,a.__ttObjdec__);a.__ttObjdec__,s.parameterMustStringInObject=function(e,t,n){if(n=n||"","object"!==r(e))throw new Error("".concat(n,":fail parameter error: parameter should be Object instead of ").concat(getTypeStr(e),";"));var o=e[t];if("string"!=typeof o)throw new Error("".concat(n,":fail parameter error: parameter.").concat(t," should be String instead of ").concat(getTypeStr(o),";"));return e},s.callBackExceptionCatch=function(e,t){try{void 0===t?e():e(t)}catch(e){s.dealCallBackException(e)}},s.dealCallBackException=function(e){if((null==e?void 0:e.stack)&&"string"==typeof e.stack){var t,n="stack:",r=o(e.stack.split("\n"));try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.substring(i.lastIndexOf("/")+1);n="".concat(n,"\n").concat(a)}}catch(e){r.e(e)}finally{r.f()}console.error("Exception:".concat(e.message,"\n").concat(n))}else console.error("Exception:",e)}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__,n.__ttObjdec__;!function(e){var t=void 0;function r(e){return e&&e instanceof Object}function o(e){if(!r(e))return!1;var t=e.constructor;function n(e,t){try{return e===t}catch(e){return!1}}return n(t,EvalError)||n(t,RangeError)||n(t,ReferenceError)||n(t,SyntaxError)||n(t,TypeError)||n(t,URIError)||n(t,Error)}function i(e,t){var n="";return e.name&&(n+="".concat(e.name,": ")),e.message&&(n+=e.message),e.sourceURL&&(n+=", 在文件".concat(e.sourceURL,"(行").concat(e.line,",列").concat(e.column,")")),e.stack&&t&&(n+=", 堆栈：".concat(e.stack)),n}function a(e,t,n,a){for(var s,c="",u=0;u<e.length;u++){var f=e[u];if((s=f)&&s instanceof Function&&"function"==typeof s&&s.constructor==Function)c+="【 Function 】";else if(r(f)){if(o(f))try{var l=i(f,t)}catch(e){l="【 Error 】"}else try{(l=JSON.stringify(f)).length>100&&(l="".concat(l.substr(0,95),"【...】"))}catch(e){l="【 object 】"}c+=l}else try{(l="".concat(f)).length>1e3?c+="".concat(l.substr(0,995),"【...】"):c+=l}catch(e){c+="【 Unknown 】"}}return a&&(void 0===a.logIndex&&(a.logIndex=0),c="(".concat(a.logIndex,") ").concat(c),a.logIndex++),n&&(c=n+c),c}e.isOpenDataService&&(t="[开放]"),e.strFromLogArgs=a;var s=void 0;e.nativeLog=function(n,r){if("error"==n||e.___tt__shouldPrintJSLog___){if(void 0===e.nativeLog.logIndex&&(e.nativeLog.logIndex=0),__wxConfig.___tt__appid___&&!s&&(s="[MiniGame][JSLog,appid:".concat(__wxConfig.___tt__appid___,"]")),s)var o=s;else o="[MiniGame][JSLog]";o="***(".concat(e.nativeLog.logIndex,")*").concat(o),t&&(o+=t),e.nativeLog.logIndex++,o+=r?"\n     [MiniGame]".concat(n,": ").concat(a(r,!0)):n,"error"==n?e.util.log(1,100,o):e.util.log(1,0,o)}};var c=e.util.getEnableDebug(),u=void 0;function f(e,t){e.__pre__index__=e.__pre__index__||1;var n=[];++e.__pre__index__;for(var r=0;r<t.length;r++)n.push(t[r]);return n.push("<log索引：".concat(e.__pre__index__,">")),n}c&&(u=new e.Triton.VConsoleLog),e.util.onJSSDKFinsh=function(){(c=e.util.getEnableDebug())&&void 0===u&&(u=new e.Triton.VConsoleLog)},n.wx.setGameStartManul=function(t){t?e.util.showGameRunBtn():e.util.hideGameRunBtn()};var l=console.__tt__old__log___=console.log;e.console={},e.console.log=console.log=function(){console.__tt__old__log___||(console.__tt__old__log___=l),console.__tt__old__log___.apply(console,f(console,arguments)),c&&u.log(a(arguments,!1,t,u)),e.nativeLog("log",arguments)};var p=console.__tt__old__info___=console.info;e.console.info=console.info=function(){console.__tt__old__info___||(console.__tt__old__info___=p),console.__tt__old__info___.apply(console,f(console,arguments)),c&&u.info(a(arguments,!1,t,u)),e.nativeLog("info",arguments)};var m=console.__tt__old__warn___=console.warn;e.console.warn=console.warn=function(){console.__tt__old__warn___||(console.__tt__old__warn___=m),console.__tt__old__warn___.apply(console,f(console,arguments)),c&&u.warn(a(arguments,!1,t,u)),e.nativeLog("warn",arguments)};var d=console.__tt__old__error___=console.error;e.console.error=console.error=function(){console.__tt__old__error___||(console.__tt__old__error___=d),console.__tt__old__error___.apply(console,f(console,arguments)),c&&u.error(a(arguments,!0,t,u)),e.nativeLog("error",arguments)};var h=console.__tt__old__debug___=console.debug;e.console.debug=console.debug=function(){console.__tt__old__debug___||(console.__tt__old__debug___=h),console.__tt__old__debug___.apply(console,f(console,arguments)),c&&u.debug(a(arguments,!1,t,u)),e.nativeLog("debug",arguments)};var _={};n.__tt__printCatch__=function(n){if(o(n))var r=i(n,!0);else r="".concat(n);_[r]||(_[r]=!0,e.nativeLog("exception",r),c&&u.error(a([r],!1,t,u)),console.__tt__old__error___||(console.__tt__old__error___=d),console.__tt__old__error___.apply(console,[n]))}}(n.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e,t){var n=console.warn,r=console.log,o=console.error;t.enableTimeMonitor=!1;var i=[],a=[],s=Date.now(),c=0;function u(){var e=Date.now()-s;e>1e3&&(s=Date.now(),0!=i.length?(!function(e){var t="(".concat(c++,")[卡顿监控]在过去的").concat(e,"ms秒内，有").concat(i.length,"帧执行时长超过").concat(16,"ms\n");t+="耗时分布(FPS为".concat(a.length,")：");for(var o=0;o<a.length;o++){var s=a[o];t+=s>16?"(".concat(s,") "):"".concat(s," ")}n(t);for(var u={slowestFunInfo:void 0,funs:{},funKeys:[]},f=0,l=0;l<i.length;l++)for(var p=i[l],m=0;m<p.funKeys.length;m++){var d=p.funKeys[m],h=p.funs[d];u.funs[d]?(u.funs[d].times+=h.times,u.funs[d].amount+=h.amount):(u.funs[d]={times:h.times,amount:h.amount,funStr:"".concat(++f," :-> ").concat(d)},u.funKeys.push(d)),h.funStr=u.funs[d].funStr,(!u.slowestFunInfo||u.slowestFunInfo.amount<h.amount)&&(u.slowestFunInfo={times:h.times,amount:h.amount,funStr:h.funStr})}for(var _=void 0,v=void 0,y=0;y<u.funKeys.length;y++){var g=u.funKeys[y];h=u.funs[g];(!_||_.times<h.times)&&(_=h),(!v||v.amount<h.amount)&&(v=h)}r("单帧最耗时：".concat(u.slowestFunInfo.amount," ms， 函数为：\n").concat(u.slowestFunInfo.funStr)),r("区间最耗时：".concat(v.amount," ms， 函数为：\n").concat(v.funStr)),r("区间最频繁：".concat(_.times," 次， 函数为：\n").concat(_.funStr))}(e),i=[],a=[]):a=[])}function f(){return Date.now()}t.timeMonitor={onFrameStart:function(){return{start:Date.now(),funs:{},funKeys:[],duration:0}},onFrameEnd:function(e){e.duration=Date.now()-e.start,a.push(e.duration),e.duration>16&&i.push(e),u()},onFrameFunctionOver:function(e,t,n){var r,o=((r=t).__tt__funKey__||(r.__tt__funKey__="".concat(r)),r.__tt__funKey__);e.funs[o]||(e.funs[o]={times:0,amount:0},e.funKeys.push(o)),e.funs[o].times+=1,e.funs[o].amount+=n}};var l=f(),p=function(){return f()-l};e.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return t.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(t){e.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout((function(){e.timePerformanceResult("",t)}),0))},FrameProfileEnd:function(t){if(e.timePerformanceResult){this.FrameProfileRunning=!1;var n=this.getDataStr();setTimeout((function(){e.timePerformanceResult(n,t)}),0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=p(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(p()-this.frameStartTime>16?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t="".concat(this.fpIndex,"_").concat(this.funIndex,"_").concat(e);return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:p(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var n=p(),r=this.tempFrameRec[this.lastRecIndex];r.callIndex==t.s&&n-r.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:p(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var n=[],r=[],i=0;i<t.list.length;i++){if("start"==(p=t.list[i]).type)n.push(p),r.push(p);else for(;;){var a=n.pop();if(!a){p.disable=!0,o("打点数据出现非预期的异常情况(只有end，没有start)");break}if(a.callIndex==p.callIndex){p.searchInfo="searchInfo: ".concat(a.key,"_").concat(p.time-a.time),r.push(p);break}a.disable=!0,r.push({key:a.key,type:"end",time:p.time,callIndex:a.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: ".concat(a.key,"_").concat(p.time-a.time,"_exception")})}}for(var s=r[r.length-1].time,c=n.length-1;c>=0;c--){var u=n[c];u.disable=!0,r.push({key:u.key,type:"end",time:s,callIndex:u.callIndex,addedPoint:!0})}for(var f=[],l=0;l<t.list.length;l++){var p;(p=t.list[l]).disable||f.push(p)}t.list=r}}var m=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,m}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),n="".concat(t.getSeconds(),":").concat(t.getHours(),":").concat(t.getMinutes());this.moniterFileTime=n,this.moniterFileIndex=0}var r="wxfile://usr/js_time_monitor_".concat(++this.moniterFileIndex,"_").concat(this.moniterFileTime,".json");wx.getFileSystemManager().writeFile({filePath:r,data:e,success:function(){console.log("save moniter success: ".concat(r))}})}}},t.runloopPauseCallbacks=t.runloopPauseCallbacks||[],t.runloopPauseCallbacks.push((function(){e.q9zq.saveToFile()}))}(n,n.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n,r,o,i=__TT__GLOBAL__;__TT__GLOBAL__;n=i.__ttObjdec__,r=function(){var e={event:"",once:!1,listener:[]};return e},o=function(){var e={};function t(t){return e[t]||(e[t]=[]),e[t]}function n(e){var n=t(e);return!!(n&&n.length>0)}function o(e,r){if(1==n(e)){for(var o=-1,i=t(e),a=i.length-1;a>=0;a--)if(r==i[a].listener){o=a;break}return o>-1&&i.splice(o,1),!0}return!1}var i={addObserver:function(e,n){return function(e,n,o){var i=r();i.event=e,i.listener=n,i.once=o,t(e).push(i)}(e,n,!1),this},removeObserver:function(e,t){return o(e,t),this},postEvent:function(e,r){if(0==n(e))return!1;for(var i=[],a=t(e),s=a.length,c=0;c<s;c++){var u=a[c];u.listener(r),u.once&&i.push(u)}for(c=0;c<i.length;c++)o(e,i[c].listener);return!0}};return i},n._notifcationCenter=o()},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e,t){console.error;var n,r,o={};function i(){return o.lastID=1+(o.lastID+2)%1000001}function a(e,t){for(var n=[],r=t;r<e.length;r++)n.push(e[r]);return n}o.timers={},o.intervals={},o._fpsinterval=1e3/60,o.lastID=0,o.lastIntervalID=0,o.lastTime=0,o.animationFrameCall={},n=0,r=0,t.timerCallback=function(e,i){if(n+=1e3/60,t.enableTimeMonitor)var a=t.timeMonitor.onFrameStart();function s(n,r,o,i,s){if(!r[o])return!1;var c=q9zq.a(i,{}),u=void 0;if(n)try{var f=r[o].params;if(f||(f=[e]),t.enableTimeMonitor&&a){var l=Date.now();n.apply(void 0,f),t.timeMonitor.onFrameFunctionOver(a,n,Date.now()-l)}else n.apply(void 0,f)}catch(e){e&&e instanceof Object&&e.stack?((u={}).line=e.line,u.column=e.column,u.message=e.message,u.stack=e.stack,u.name=e.name,u.sourceURL=e.sourceURL,u.toString=function(){return e.toString()}):u=e}if(s&&delete r[o],q9zq.b(i,{s:c}),u)throw u;return!0}function c(t,n,r,o){for(var i=!1,a=Object.keys(t),c=0;c<a.length;++c){var u=a[c],f=t[u];f&&f.t<n(f)&&(i=s(f.f,t,u,r,o)||i,f.b+=f.t,e>f.b&&(f.b=e))}return i}function u(t){return e+1e3/60-t.b}function f(e,t){return c(o.timers,e,t,!0)}function l(e){return f((function(e){return 4}),e)}try{l("setTimeout0"),p="setInterval",c(o.intervals,u,p,!1),function(e){if(r+o._fpsinterval<n+1e-4){r=n;for(var t=o.animationFrameCall,i=Object.keys(t),a=0;a<i.length;a++)s(t[i[a]],t,i[a],e,!0)}}("requestAnimateFrame"),function(e){f(u,e)}("setTimeout"),l("setTimeout0")}catch(e){throw t.enableTimeMonitor&&a&&t.timeMonitor.onFrameEnd(a),e}var p;t.enableTimeMonitor&&a&&t.timeMonitor.onFrameEnd(a)},e.setTimeout=function(e,t){void 0===t&&(t=0);var n=void 0;arguments.length>2&&(n=a(arguments,2));var r=i();return o.timers[r]={b:Date.now(),t:t,f:e,params:n},r},e.clearTimeout=function(e){delete o.timers[e]},e.requestAnimationFrame=function(e){var t=i();return o.animationFrameCall[t]=e,t},e.wx.setPreferredFramesPerSecond=function(e){e>59?(o._fpsinterval=1e3/60,e=60):e<1?(o._fpsinterval=1e5,e=1):o._fpsinterval=1e3/e,t.util.reportPreferredFramesPerSecond&&t.util.reportPreferredFramesPerSecond(e)},e.wx.__tt__setUpdateDurationSecond=function(e){e<1e3/60&&(e=1e3/60),o._fpsinterval=e},e.cancelAnimationFrame=function(e){o.animationFrameCall[e]=void 0},e.setInterval=function(e,t){void 0===t&&(t=0);var n=void 0;arguments.length>2&&(n=a(arguments,2));var r=i();return o.intervals[r]={b:Date.now(),t:t,f:e,params:n},r},e.clearInterval=function(e){delete o.intervals[e]}}(n,n.__ttObjdec__)},function(e,t,n){var r=n(48),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__,o.__ttObjdec__;!function(e,t){var n=!1,o=(console.error,function(){function e(e){this.__nativeObj=new t.Triton.CommandQueue,this.pendingQueue=[],this.maxSize=e,this.enableCommandQueue=this.__nativeObj.enableCommandQueue,this.enableMergeArgs=!1,this.__nativeObj.setFlushCallerArray(_),this.__nativeObj.setFuncArgs(u),this.__nativeObj.setFuncIndexs(a),t.meastureTextCount1=0,t.meastureTextCount2=0}var o,i=void 0,a=new Uint32Array(1024),s=new ArrayBuffer(4e5),c=0,u=new Float32Array(s),f=[[Float64Array,8],[Float32Array,4],[Uint32Array,4],[Uint16Array,2],[Uint8Array,1],[Int32Array,4],[Int16Array,2],[Int8Array,1],[Uint8ClampedArray,1]];function l(e){return(e+(1&e))/2}ArrayBuffer.prototype.__qqCpyEnable=function(){return this.byteLength<2e4};for(var p=0;p<f.length;p++)!function(e){var t=e[0],n=e[1];t.prototype.__qqCpyEnable=n<=8?function(){return this.length*n<2e4?this.__qqCpyEnable=function(){return!0}:this.__qqCpyEnable=function(){return!1},this.__qqCpyEnable()}:function(){return!1},t.prototype.__qqByteLength=function(){return this.length*n};var r=new t(s);switch(n){case 1:t.prototype.__qqInsertDataPoolWithOffset=function(e){return r.set(this,4*e),l(l(this.length))};break;case 2:t.prototype.__qqInsertDataPoolWithOffset=function(e){return r.set(this,2*e),l(this.length)};break;case 4:t.prototype.__qqInsertDataPoolWithOffset=function(e){return r.set(this,e),this.length}}}(f[p]);var m,d=0,h=[],_=new Uint32Array(1024),v=[];e.prototype.setStateMachine=function(e){m=e},e.prototype.setCaller=function(e,t){e!=i&&(i=e,v.push(e)),t!=o&&(o=t),_[d]=e.__cqCallerId};var y=-1,g=[],b=-1,I={};var E={};var A={};t.runloopPauseCallbacks=t.runloopPauseCallbacks||[],t.runloopPauseCallbacks.push((function(){t.console.error(function(){var e=[],t=0;for(var n in I)if(I.hasOwnProperty(n)){var r=I[n];e.push({funName:n,freq:r}),t+=r}e.sort((function(e,t){return t.freq-e.freq}));for(var o=0,i="",a=0;a<e.length;a++){var s=e[a];if(o+=s.freq/t,i+="".concat(s.funName,", ").concat(Math.round(1e4*o)/100,"%%, ").concat(s.freq,"\n"),o>.99)break}return"指令: \n".concat(i)}()),t.console.error(function(){var e=[],t=0;for(var n in E)if(E.hasOwnProperty(n)){var r=E[n];e.push({funName:n,freq:r}),t+=r}e.sort((function(e,t){return t.freq-e.freq}));for(var o=0,i="",a=0;a<e.length;a++){var s=e[a];if(o+=s.freq/t,i+="".concat(s.funName,", ").concat(Math.round(1e4*o)/100,"%%, ").concat(s.freq,"\n"),o>.99)break}return"flush原因: \n".concat(i)}()),t.console.error(function(){var e=[],t=0;for(var n in A)if(A.hasOwnProperty(n)){var r=A[n];e.push({funName:n,freq:r}),t+=r}e.sort((function(e,t){return t.freq-e.freq}));for(var o=0,i="",a=0;a<e.length;a++){var s=e[a],c=s.freq/t;if(o+=c,i+="".concat(s.funName,", ").concat(Math.round(1e4*o)/100,"%%, ").concat(Math.round(1e4*c)/100,"%%, ").concat(s.freq,"\n"),o>.99)break}return"指令队列长度分布: \n".concat(i)}()),t.console.error("meastureText复用率:".concat(Math.round(t.meastureTextCount2/t.meastureTextCount1*1e4)/100,"%")),I={},E={},A={}}));var O={};e.prototype.pushCommand_F32Array=function(e,t,r,o){if(n)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");d>=this.maxSize&&this.flushCmd("maxSize");var i=o.length;O[t]=e,u.set(o,c),c+=i,_[d]=t,a[d++]=r+1e3*i,c>94e3&&this.flushCmd("tooManyArgs_1")},e.prototype.pushCommand_F32Array_ArrayBuffer=function(e,t,r,o,i){if(n)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");d>=this.maxSize&&this.flushCmd("maxSize");var s=o.length;O[t]=e,u.set(o,c);var f=i.__qqInsertDataPoolWithOffset(c+s);c+=s+f,_[d]=t,a[d++]=r+1e3*(s+f),c>94e3&&this.flushCmd("tooManyArgs_2")},e.prototype.pushCommand=function(e,t,r,s,f,l){if(n)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");var p=6;if(arguments.length-p!=f&&console.error("pushCommand参数个数与实际不一致"),this.enableCommandQueue){if(null==t)return;if(d>=this.maxSize&&this.flushCmd("maxSize"),c+f>94e3&&this.flushCmd("tooManyArgs"),this.enableMergeArgs&&s>0){var m=!1;if(e==i&&r==o&&t==b&&f==y&&s<=f){m=!0;for(var _=0;_<s;_++)if(arguments[_+p]!=g[_]){m=!1;break}}if(m&&d>0){for(_=0;_<f-s;_++)u[c++]=arguments[p+_+s];return void(a[d-1]+=1e3*(f-s))}}this.setCaller(e,r),a[d++]=t+1e3*f,this.enableMergeArgs&&(g=[]);var v=c;for(_=0;_<f;_++){if(l)u[c++]=arguments[_+p];else if("number"==typeof arguments[_+p])u[c++]=arguments[_+p];else if("string"==typeof arguments[_+p])u[c++]=this.cacheStr(arguments[_+p]);else if("boolean"==typeof arguments[_+p])u[c++]=arguments[_+p]?1:0;else{if(null==arguments[_+p]){console.error("".concat(e.commandIndexDict[t],"函数的第").concat(_,"个参数为undefined"));break}h.push(arguments[_+p]),u[c++]=h.length-1}this.enableMergeArgs&&g.push(arguments[_+p])}c-v<f&&(c=v,d--),y=f,b=t}};var w=new Map,S=0;return e.prototype.cacheStr=function(e){if(this.enableCommandQueue){var t=w.get(e);return null!=t?t:(S++,w.set(e,S),this.__nativeObj.setStr(e,S),S)}},e.prototype.flushCmd=function(e){var t;if(this.enableCommandQueue){if(d>0){if(n)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");n=!0;var o=d;if(h.length>0){var a=[o,e];a.push.apply(a,r(h)),this.__nativeObj.exeCmdQueue.apply(this.__nativeObj,a)}else this.__nativeObj.exeCmdQueue(o,e);n=!1}d=0,c=0,y=-1,g=[],b=-1,h=[],v=[],i=void 0,O={},null===(t=m)||void 0===t||t.clearTmpPopl()}},e.prototype.toggleCommandQueue=function(e){this.flushCmd("toggleCommandQueue"),this.enableCommandQueue=e,this.__nativeObj.enableCommandQueue=e},e.prototype.startLogCommand=function(){this.__nativeObj.startLogCommand()},e.Instance=new e(1024),e}());t.CommandQueue=o,e.wx.CommandQueue=o}(o,o.__ttObjdec__)},function(e,t,n){var r=n(49);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=e.CommandQueue.Instance;function n(r,o){var i=arguments,a=arguments.length;a>0&&void 0!==i[0]&&i[0],a>1&&void 0!==i[1]&&i[1];function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return Object.keys(e).find((function(r){return n(e[r],t)}))}this.__nativeObj=o,this.__canvas=r,this._fontName="",this._fontNameStack=[],this._fontMeasureMap=new e.Map,this._shadowColor={r:0,g:0,b:0,a:0},this._shadowOffset={x:0,y:0},this._shadowRadius=0,this._textBaseLine="alphabetic",this._textAlign="start",this._useH5Mode=0,this._a=1,this._b=0,this._c=0,this._d=1,this._tx=0,this._ty=0,this._fillStyle={},this.lastCanvasState=new e.Map,this.lastFont=null,t.enableCommandQueue&&(this.__cqCallerId=this.__nativeObj.__cqCallerId=t.__nativeObj.cacheCaller(this.__nativeObj,0)),this.funcMap={drawImage:0,fill:1,stroke:2,rect:3,fillRect:4,strokeRect:5,clearRect:6,beginPath:7,closePath:8,moveTo:9,lineTo:10,arcTo:11,arc:12,quadraticCurveTo:13,bezierCurveTo:14,save:15,restore:16,fillText:17,strokeText:18,clip:19,scale:20,rotate:21,translate:22,transform:23,setTransform:24,drawTexture:25,drawImageArray:26,putImageData:27,drawImageObj:28,globalAlpha:100,globalCompositeOperation:101,fillColor:102,strokeColor:103,lineWidth:104,lineCap:105,lineJoin:106,miterLimit:107,textAlign:108,textBaseline:109,imageSmoothingEnabled:110,fillStyle:111,strokeStyle:112,font:113},this.__nativeObj.commandIndexDict={0:"drawImage",1:"fill",2:"stroke",3:"rect",4:"fillRect",5:"strokeRect",6:"clearRect",7:"beginPath",8:"closePath",9:"moveTo",10:"lineTo",11:"arcTo",12:"arc",13:"quadraticCurveTo",14:"bezierCurveTo",15:"save",16:"restore",17:"fillText",18:"strokeText",19:"clip",20:"scale",21:"rotate",22:"translate",23:"transform",24:"setTransform",25:"drawTexture",26:"drawImageArray",27:"putImageData",28:"drawImageObj",100:"globalAlpha",101:"globalCompositeOperation",102:"fillColor",103:"strokeColor",104:"lineWidth",105:"lineCap",106:"lineJoin",107:"miterLimit",108:"textAlign",109:"textBaseline",110:"imageSmoothingEnabled",111:"fillStyle",112:"strokeStyle",113:"font"};var c=Object.getOwnPropertyNames(this.__nativeObj);c.forEach((function(n){var r=n;"contentSize"!=r&&"size"!=r&&"fontPath"!=r&&"font"!=r&&Object.defineProperty(this,r,{get:function(){return r in this.funcMap&&r in this.lastCanvasState||(this.flushImage(),t.flushCmd("get".concat(r)),this.lastCanvasState[r]=this.__nativeObj[r]),this.lastCanvasState[r]},set:function(n){if(this.lastCanvasState[r]!=n)if(this.lastCanvasState[r]=n,t.enableCommandQueue)if(r in this.funcMap){var o=null;"number"==typeof n||e.isNumber(n)?o=parseFloat(n):"string"==typeof n?o=t.cacheStr(n):"boolean"==typeof n&&(o=n?1:0),null!=o?t.pushCommand(this.__nativeObj,this.funcMap[r],0,0,1,!0,o):(t.flushCmd("set_1_".concat(r)),this.__nativeObj[r]=n)}else t.flushCmd("set_2_".concat(r)),this.__nativeObj[r]=n;else this.flushImage(),this.__nativeObj[r]=n}})}),this),Object.defineProperty(n.prototype,"globalCompositeOperation",{get:function(){this.flushImage(),t.flushCmd("getglobalCompositeOperation");var e=this.__nativeObj.globalCompositeOperation;return"android"==GameStatusInfo.platform?s(skiaCompositeMode,e):s(cgCompositeMode,e)},set:function(e){var n;n="android"==GameStatusInfo.platform?skiaCompositeMode[e]||3:cgCompositeMode[e]||0,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.globalCompositeOperation,0,0,1,!0,t.cacheStr(n)):(this.flushImage(),this.__nativeObj.globalCompositeOperation=n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"font",{get:function(){return null!=this.lastFont||(this.flushImage(),t.flushCmd("getFont_1"),this.lastFont=this.__nativeObj.font),this.lastFont},set:function(n){this._fontName!==n&&(t.enableCommandQueue?(t.flushCmd("setFont_2"),t.pushCommand(this.__nativeObj,this.funcMap.font,0,0,1,!1,n)):(this.flushImage(),t.flushCmd("setFont_3"),this.__nativeObj.font=n),this._fontName=n,this._fontMeasureMap=new e.Map)},enumerable:!0,configurable:!0})}var r,o=0,i=new Float32Array(512),a=new Float32Array(512),s=new Float32Array(512),c=new Float32Array(512),u=0,f=0,l=0,p=0;n.prototype.flushImage=function(){t.enableCommandQueue||(e.lastMergeCanvas!=this&&(null!=e.lastMergeCanvas&&e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=this),o<=0||(this.__nativeObj.drawImageArray(r,u,f,l,p,i,a,s,c,o),o=0))},e.CanvasContext2D=n,Object.defineProperties(n.prototype,{width:{get:function(){return this.size.width},set:function(e){var t=this.size;t.width=e,this.size=t},configurable:!0},height:{get:function(){return this.size.height},set:function(e){var t=this.size;t.height=e,this.size=t},configurable:!0}}),n.prototype.drawImage=function(){if(this.__nativeObj){var e,n,m=arguments.length,d="",h=!0;if(m>=1&&null!=arguments[0].src)(null===(e=(n=d=arguments[0].src).includes)||void 0===e?void 0:e.call(n,":image"))?d=arguments[0].__nativeObj:"string"==typeof d&&(h=!1);else(d=arguments[0]).__nativeObj&&(d=d.__nativeObj);if(h||"string"!=typeof d&&"number"!=typeof d&&(h=!0),9==m)if(t.enableCommandQueue)if(h)t.flushCmd("drawImage_1"),this.__nativeObj.drawImage(d,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else{var _=t.cacheStr(d);t.pushCommand(this.__nativeObj,this.funcMap.drawImageArray,0,5,9,!0,_,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8])}else 0!=o&&r==d&&u==arguments[1]&&f==arguments[2]&&l==arguments[3]&&p==arguments[4]||(this.flushImage(),r=d,u=arguments[1],f=arguments[2],l=arguments[3],p=arguments[4]),i[o]=arguments[5],a[o]=arguments[6],s[o]=arguments[7],c[o]=arguments[8],o++,this.__nativeObj.drawImageArray(r,u,f,l,p,i,a,s,c,o),o=0;else if(5==m)t.enableCommandQueue?h?(t.flushCmd("drawImage_2"),this.__nativeObj.drawImage(d,arguments[1],arguments[2],arguments[3],arguments[4])):t.pushCommand(this.__nativeObj,this.funcMap.drawImage,0,0,5,!0,t.cacheStr(d),arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.drawImage(d,arguments[1],arguments[2],arguments[3],arguments[4]));else{if(3!=m)return;t.enableCommandQueue?h?(t.flushCmd("drawImage_3"),this.__nativeObj.drawImage(d,arguments[1],arguments[2])):t.pushCommand(this.__nativeObj,this.funcMap.drawImage,0,0,3,!0,t.cacheStr(d),arguments[1],arguments[2]):(this.flushImage(),this.__nativeObj.drawImage(d,arguments[1],arguments[2]))}}return 0},n.prototype.fill=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fill,0,0,0,!0):(this.flushImage(),this.__nativeObj.fill())),0},n.prototype.stroke=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.stroke,0,0,0,!0):(this.flushImage(),this.__nativeObj.stroke())),0},n.prototype.rect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.rect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.rect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},n.prototype.fillRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.fillRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},n.prototype.strokeRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.strokeRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},n.prototype.clearRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clearRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.clearRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},n.prototype.beginPath=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.beginPath,0,0,0,!0):(this.flushImage(),this.__nativeObj.beginPath())),0},n.prototype.closePath=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.closePath,0,0,0,!0):(this.flushImage(),this.__nativeObj.closePath())),0},n.prototype.moveTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.moveTo,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.moveTo(arguments[0],arguments[1]))),0},n.prototype.lineTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.lineTo,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.lineTo(arguments[0],arguments[1]))),0},n.prototype.arcTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arcTo,0,0,5,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.arcTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]))),0},n.prototype.arc=function(){if(this.__nativeObj){var e=arguments.length;5==e?t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arc,0,0,5,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])):6==e&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arc,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))}return 0},n.prototype.quadraticCurveTo=function(){return this.__nativeObj&&4==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.quadraticCurveTo,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.quadraticCurveTo(arguments[0],arguments[1],arguments[2],arguments[3]))),0},n.prototype.bezierCurveTo=function(){return this.__nativeObj&&6==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.bezierCurveTo,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.bezierCurveTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))),0},n.prototype.save=function(){return this.__nativeObj&&(this.lastCanvasState=new e.Map,this._fontName="",this._fontMeasureMap=new e.Map,this.lastFont=null,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.save,0,0,0,!0):(this.flushImage(),this.__nativeObj.save())),0},n.prototype.restore=function(){return this.__nativeObj&&(this.lastCanvasState=new e.Map,this._fontName="",this._fontMeasureMap=new e.Map,this.lastFont=null,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.restore,0,0,0,!0):(this.flushImage(),this.__nativeObj.restore())),0},n.prototype.fillText=function(){var e=arguments.length;if(e>=3){var n=arguments[1],r=arguments[2];if(3==e)t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillText,0,0,3,!1,t.cacheStr(arguments[0]),n,r):(this.flushImage(),this.__nativeObj.fillText(arguments[0],n,r));else if(4==e){var o=arguments[2];t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillText,0,0,4,!0,t.cacheStr(arguments[0]),n,r,o):(this.flushImage(),this.__nativeObj.fillText(arguments[0],n,r,o))}}return 0},n.prototype.strokeText=function(){var e=arguments.length;if(e>=3){var n=arguments[1],r=arguments[2];if(3==e)t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeText,0,0,3,!0,t.cacheStr(arguments[0]),n,r):(this.flushImage(),this.__nativeObj.strokeText(arguments[0],n,r));else if(4==e){var o=arguments[2];t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeText,0,0,4,!0,t.cacheStr(arguments[0]),n,r,o):(this.flushImage(),this.__nativeObj.strokeText(arguments[0],n,r,o))}}return 0},n.prototype.clip=function(){var e=arguments.length;return this.__nativeObj&&(0==e?t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clip,0,0,0,!0):(this.flushImage(),this.__nativeObj.clip()):2==e&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clip,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.clip(arguments[0],arguments[1])))),0},n.prototype.isPointInPath=function(){return t.flushCmd("isPointInPath"),!1},n.prototype.createImageData=function(){if(this.__nativeObj){var e=arguments.length;if(2==e)return this.__nativeObj.createImageData(arguments[0],arguments[1]);if(1==e)return this.__nativeObj.createImageData(arguments[0])}},n.prototype.getImageData=function(){var e=arguments.length;if(this.__nativeObj&&4==e)return this.flushImage(),t.flushCmd("getImageData"),this.__nativeObj.getImageData(arguments[0],arguments[1],arguments[2],arguments[3])},n.prototype.putImageData=function(){var e=arguments.length;if(this.__nativeObj&&e>=3){var n=arguments[0];3==e?t.enableCommandQueue?(t.flushCmd("putImageData_1"),this.__nativeObj.putImageData(n,arguments[1],arguments[2])):(this.flushImage(),this.__nativeObj.putImageData(n,arguments[1],arguments[2])):7==e&&(t.enableCommandQueue?(t.flushCmd("putImageData_2"),this.__nativeObj.putImageData(n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])):(this.flushImage(),this.__nativeObj.putImageData(n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])))}},n.prototype.scale=function(){this.__nativeObj&&2==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.scale,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.scale(arguments[0],arguments[1])))},n.prototype.rotate=function(){this.__nativeObj&&1==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.rotate,0,0,1,!0,arguments[0]):(this.flushImage(),this.__nativeObj.rotate(arguments[0])))},n.prototype.translate=function(){this.__nativeObj&&2==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.translate,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.translate(arguments[0],arguments[1])))},n.prototype.transform=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.transform,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.transform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))},n.prototype.setTransform=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.setTransform,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.setTransform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))},n.prototype.clear=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clear,0,0,0,!0):(this.flushImage(),this.__nativeObj.clear()))},n.prototype.measureText=function(n){if(this.__nativeObj){e.meastureTextCount1++;var r=0;if(this._fontMeasureMap.has(n))e.meastureTextCount2++,r=this._fontMeasureMap.get(n);else this.flushImage(),t.flushCmd("measureText"),null!=(r={width:this.__nativeObj.measureText(n),height:0})&&(r.type="TextMetrics"),this._fontMeasureMap.set(n,r);return r}return null},n.prototype.toDataURL=function(){if(this.__nativeObj){var e=TT.Director.screenScale;this.flushImage(),t.flushCmd("toDataURL");var n=this.__nativeObj.getImageData(0,0,this.size.width/e,this.size.height/e),r=TT.Misc.encodeBase64FromBuffer(n);return r&&(r="data:image/png;base64,".concat(r)),r}return""},n.prototype.createPattern=function(t,n){if(this.__nativeObj)return this.flushImage(),null==t.__nativeObj?void e.console.error("createPattern第一个参数不合法"):this.__nativeObj.createPattern(t.__nativeObj,n)},n.prototype.createLinearGradient=function(e,t,n,r){if(this.__nativeObj)return this.flushImage(),this.__nativeObj.createLinearGradient(e,t,n,r)},n.prototype.createRadialGradient=function(e,t,n,r,o,i){if(this.__nativeObj)return this.__nativeObj.createRadialGradient(e,t,n,r,o,i)}}(n.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__,n.__ttObjdec__;!function(e){e.Canvas=function(t){null!=e.canvasConstructor&&null!=e.canvasConstructor||(e.canvasConstructor=new e.Triton.CanvasConstructor),this.__nativeObj="shared"==t?e.canvasConstructor.createSharedCanvas(t):"opendata"==t?e.canvasConstructor.createOpendataCanvas(t):e.canvasConstructor.createMainCanvas(t),Object.getOwnPropertyNames(this.__nativeObj).forEach((function(e){var t=e;Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})}),this)}}(n.__ttObjdec__)},function(e,t,n){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;r.__ttObjdec__.isMainService&&(n(110),n(51)),function(e){var t=e.CommandQueue.Instance;function n(e,t){return void 0===t&&(t=Float32Array),e instanceof Array==1?new t(e):e}e.CanvasContextWebGL=function(n){if(n){var r=new i(n);return t.enableCommandQueue?(o=r,e.nativeLog("Enable Command Queue for WebGL"),o.attachMethodOpt()):function(e){e.attachMethod()}(r),r}var o;return null};var r=!1;function o(){0==r&&(r=!0)}function i(r){function c(e){return null==e?-1:null===e.__objID?(null==this.unwrapFailed&&(console.error("ERROR: Pass invalid parameter because of undefine ID"),this.unwrapFailed=!0),-1):e.__objID}function u(e){return null==e?0:null===e.__objID?(null==this.unwrapSafeFailed&&(console.error("ERROR: Pass invalid parameter because of undefine ID"),this.unwrapSafeFailed=!0),0):e.__objID}function f(e){if(null!=e){var t={};return t.__nativeObj=e,e.__objID?t.__objID=e.__objID:t.__objID=e,t}return null}function l(e){e&&(e.__objID=null,e.__type=null)}function p(e){if(null==e?void 0:e.__type)return e.__type;var t=0;switch(e.constructor){case Uint8Array:t=3;break;case Uint16Array:t=5;break;case Uint32Array:t=6;break;case Float32Array:t=7}return e.__type=t,e.__type}function m(e){this.__nativeObj.activeTexture(e)}function d(e,t){this.__nativeObj.attachShader(u(e),u(t))}function h(e,t,n){this.__nativeObj.bindAttribLocation(u(e),t,n)}function _(e){e&&"vao"!==e.__type||this.__nativeObj.bindVertexArray(u(e))}function v(e,t){this.__nativeObj.bindBuffer(e,u(t))}function y(e,t){this.__nativeObj.bindFramebuffer(e,c(t))}function g(e,t){this.__nativeObj.bindRenderbuffer(e,c(t))}function b(e,t){this.__nativeObj.bindTexture(e,u(t))}function I(e,t,n,r){this.__nativeObj.blendColor(e,t,n,r)}function E(e){this.__nativeObj.blendEquation(e)}function A(e,t){this.__nativeObj.blendEquationSeparate(e,t)}function O(e,t){this.__nativeObj.blendFunc(e,t)}function w(e,t,n,r){this.__nativeObj.blendFuncSeparate(e,t,n,r)}function S(e,t,n){this.__nativeObj.bufferData(e,t,n)}function N(e,t,n){this.__nativeObj.bufferSubData(e,t,n)}function T(e){return this.__nativeObj.checkFramebufferStatus(e)}function C(e){this.__nativeObj.clear(e)}function R(e,t,n,r){this.__nativeObj.clearColor(e,t,n,r)}function M(e){this.__nativeObj.clearDepth(e)}function P(e){this.__nativeObj.clearStencil(e)}function j(e,t,n,r){this.__nativeObj.colorMask(e,t,n,r)}function x(e){this.__nativeObj.compileShader(u(e))}function D(e,t,n,r,o,i,a){this.__nativeObj.compressedTexImage2D(e,t,n,r,o,i,a)}function L(e,t,n,r,o,i,a,s){this.__nativeObj.compressedTexSubImage2D(e,t,n,r,o,i,a,s)}function B(e,t,n,r,o,i,a,s){this.__nativeObj.copyTexImage2D(e,t,n,r,o,i,a,s)}function k(e,t,n,r,o,i,a,s){this.__nativeObj.copyTexSubImage2D(e,t,n,r,o,i,a,s)}function F(){var e=f(this.__nativeObj.createVertexArray());return e.__type="vao",e}function U(){return f(this.__nativeObj.createBuffer())}function G(){return f(this.__nativeObj.createFramebuffer())}function V(){return f(this.__nativeObj.createProgram())}function H(){return f(this.__nativeObj.createRenderbuffer())}function q(e){return f(this.__nativeObj.createShader(e))}function W(){var e=f(this.__nativeObj.createTexture());return null===e||Object.defineProperty(e,"id",{get:function(){return u(this)}}),e}function X(e){this.__nativeObj.cullFace(e)}function J(e){e&&"vao"===e.__type&&(this.__nativeObj.deleteVertexArray(u(e)),l(e))}function Y(e){this.__nativeObj.deleteBuffer(u(e))}function K(e){this.__nativeObj.deleteFramebuffer(u(e))}function z(e){this.__nativeObj.deleteProgram(u(e))}function $(e){this.__nativeObj.deleteRenderbuffer(c(e))}function Q(e){this.__nativeObj.deleteShader(u(e))}function Z(e){this.__nativeObj.deleteTexture(u(e))}function ee(e){this.__nativeObj.depthFunc(e)}function te(e){this.__nativeObj.depthMask(e)}function ne(e,t){this.__nativeObj.depthRange(e,t)}function re(e,t){this.__nativeObj.detachShader(u(e),u(t))}function oe(e){this.__nativeObj.disable(e)}function ie(e){this.__nativeObj.disableVertexAttribArray(e)}function ae(e,t,n){this.__nativeObj.drawArrays(e,t,n),n>0&&o()}function se(e,t,n,r){this.__nativeObj.drawArraysInstanced(e,t,n,r),n>0&&o()}function ce(e,t,n,r){this.__nativeObj.drawElements(e,t,n,r),t>0&&o()}function ue(e,t,n,r,i){this.__nativeObj.drawElementsInstanced(e,t,n,r,i),t>0&&o()}function fe(e){this.__nativeObj.enable(e)}function le(e){this.__nativeObj.enableVertexAttribArray(e)}function pe(){this.__nativeObj.finish()}function me(){this.__nativeObj.flush()}function de(e,t,n,r){this.__nativeObj.framebufferRenderbuffer(e,t,n,c(r))}function he(e,t,n,r,o){this.__nativeObj.framebufferTexture2D(e,t,n,u(r),o)}function _e(e){this.__nativeObj.frontFace(e)}function ve(e){this.__nativeObj.generateMipmap(e)}function ye(e,t){return this.__nativeObj.getAttribLocation(u(e),t)}function ge(){return this.__nativeObj.getError()}function be(e,t){return this.__nativeObj.getShaderPrecisionFormat(e,t)}function Ie(e){return this.__nativeObj.getProgramInfoLog(u(e))}function Ee(e){return this.__nativeObj.getShaderInfoLog(u(e))}function Ae(e){return this.__nativeObj.getShaderSource(u(e))}function Oe(){return Object.keys(this.__extensions)}function we(e,t){var n=f(this.__nativeObj.getUniformLocation(u(e),t));return null===n||Object.defineProperty(n,"id",{get:function(){return c(this)}}),n}function Se(e,t){return this.__nativeObj.getVertexAttribOffset(e,t)}function Ne(){return this.__nativeObj.GPUCapture()}function Te(e,t){this.__nativeObj.hint(e,t)}function Ce(e){return!(!e||"vao"!==e.__type)&&this.__nativeObj.isVertexArray(u(e))}function Re(e){return this.__nativeObj.isBuffer(u(e))}function Me(){return this.__nativeObj.isContextLost()}function Pe(e){return this.__nativeObj.isEnabled(e)}function je(e){return this.__nativeObj.isFramebuffer(c(e))}function xe(e){return this.__nativeObj.isProgram(u(e))}function De(e){return this.__nativeObj.isRenderbuffer(c(e))}function Le(e){return this.__nativeObj.isShader(u(e))}function Be(e){return this.__nativeObj.isTexture(u(e))}function ke(e){this.__nativeObj.lineWidth(e)}function Fe(e){this.__nativeObj.linkProgram(u(e))}function Ue(e,t){this.__nativeObj.pixelStorei(e,t)}function Ge(e,t){this.__nativeObj.polygonOffset(e,t)}function Ve(e,t,n,r,o,i,a){this.__nativeObj.readPixels(e,t,n,r,o,i,a)}function He(e,t,n,r){this.__nativeObj.renderbufferStorage(e,t,n,r)}function qe(e,t){this.__nativeObj.sampleCoverage(e,t)}function We(e,t,n,r){this.__nativeObj.scissor(e,t,n,r)}function Xe(e,t){this.__nativeObj.shaderSource(u(e),t)}function Je(e,t,n){this.__nativeObj.stencilFunc(e,t,n)}function Ye(e,t,n,r){this.__nativeObj.stencilFuncSeparate(e,t,n,r)}function Ke(e){this.__nativeObj.stencilMask(e)}function ze(e,t){this.__nativeObj.stencilMaskSeparate(e,t)}function $e(e,t,n){this.__nativeObj.stencilOp(e,t,n)}function Qe(e,t,n,r){this.__nativeObj.stencilOpSeparate(e,t,n,r)}function Ze(e,t,n){switch(arguments.length){case 6:var r=arguments[3],o=arguments[4],i=arguments[5],a=this.decodeDrawableSource(i);a&&this.__nativeObj.texImage2D(e,t,n,r,o,a);break;case 9:var s=arguments[3],c=arguments[4],u=arguments[5],f=(r=arguments[6],o=arguments[7],arguments[8]);this.__nativeObj.texImage2D(e,t,n,s,c,u,r,o,f)}}function et(e,t,n){this.__nativeObj.texParameterf(e,t,n)}function tt(e,t,n){this.__nativeObj.texParameteri(e,t,n)}function nt(e,t,n,r){switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6],s=this.decodeDrawableSource(a);s&&this.__nativeObj.texSubImage2D(e,t,n,r,o,i,s);break;case 9:var c=arguments[4],u=arguments[5],f=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texSubImage2D(e,t,n,r,c,u,o,i,f)}}function rt(e,t){this.__nativeObj.uniform1f(c(e),t)}function ot(e,t,n){this.__nativeObj.uniform2f(c(e),t,n)}function it(e,t,n,r){this.__nativeObj.uniform3f(c(e),t,n,r)}function at(e,t,n,r,o){this.__nativeObj.uniform4f(c(e),t,n,r,o)}function st(e,t){this.__nativeObj.uniform1i(c(e),t)}function ct(e,t,n){this.__nativeObj.uniform2i(c(e),t,n)}function ut(e,t,n,r){this.__nativeObj.uniform3i(c(e),t,n,r)}function ft(e,t,n,r,o){this.__nativeObj.uniform4i(c(e),t,n,r,o)}function lt(e,t){this.__nativeObj.uniform1fv(c(e),t instanceof Array==1?new Float32Array(t):t)}function pt(e,t){this.__nativeObj.uniform2fv(c(e),t instanceof Array==1?new Float32Array(t):t)}function mt(e,t){this.__nativeObj.uniform3fv(c(e),t instanceof Array==1?new Float32Array(t):t)}function dt(e,t){this.__nativeObj.uniform4fv(c(e),t instanceof Array==1?new Float32Array(t):t)}function ht(e,t){this.__nativeObj.uniform1iv(c(e),t instanceof Array==1?new Int32Array(t):t)}function _t(e,t){this.__nativeObj.uniform2iv(c(e),t instanceof Array==1?new Int32Array(t):t)}function vt(e,t){this.__nativeObj.uniform3iv(c(e),t instanceof Array==1?new Int32Array(t):t)}function yt(e,t){this.__nativeObj.uniform4iv(c(e),t instanceof Array==1?new Int32Array(t):t)}function gt(e,t,n){this.__nativeObj.uniformMatrix2fv(c(e),t,n instanceof Array==1?new Float32Array(n):n)}function bt(e,t,n){this.__nativeObj.uniformMatrix3fv(c(e),t,n instanceof Array==1?new Float32Array(n):n)}function It(e,t,n){this.__nativeObj.uniformMatrix4fv(c(e),t,n instanceof Array==1?new Float32Array(n):n)}function Et(e){this.__nativeObj.useProgram(u(e))}function At(e){this.__nativeObj.validateProgram(u(e))}function Ot(e,t){this.__nativeObj.vertexAttrib1f(e,t)}function wt(e,t,n){this.__nativeObj.vertexAttrib2f(e,t,n)}function St(e,t,n,r){this.__nativeObj.vertexAttrib3f(e,t,n,r)}function Nt(e,t,n,r,o){this.__nativeObj.vertexAttrib4f(e,t,n,r,o)}function Tt(e,t){this.__nativeObj.vertexAttrib1fv(e,t instanceof Array==1?new Float32Array(t):t)}function Ct(e,t){this.__nativeObj.vertexAttrib2fv(e,t instanceof Array==1?new Float32Array(t):t)}function Rt(e,t){this.__nativeObj.vertexAttrib3fv(e,t instanceof Array==1?new Float32Array(t):t)}function Mt(e,t){this.__nativeObj.vertexAttrib4fv(e,t instanceof Array==1?new Float32Array(t):t)}function Pt(e,t){this.__nativeObj.vertexAttribDivisor(e,t)}function jt(e,t,n,r,o,i,a){if(void 0===a){var s={index:e,size:t,type:n,normalized:r,stride:o,offset:i};void 0===this.__nativeObj.recordVertexAttribPointer&&(this.__nativeObj.recordVertexAttribPointer=[]);for(var c=!1,u=0;u<this.__nativeObj.recordVertexAttribPointer.length;u++){if(this.__nativeObj.recordVertexAttribPointer[u].index==s.index){c=!0,this.__nativeObj.recordVertexAttribPointer[u]=s;break}}0==c&&this.__nativeObj.recordVertexAttribPointer.push(s)}this.__nativeObj.vertexAttribPointer(e,t,n,r,o,i)}function xt(e,t,n,r){this.__nativeObj.viewport(e,t,n,r)}function Dt(e,t){return this.__nativeObj.getActiveAttrib(u(e),t)}function Lt(e,t){return this.__nativeObj.getActiveUniform(u(e),t)}function Bt(e){return this.__nativeObj.getAttachedShaders(u(e))}function kt(e,t){return this.__nativeObj.getBufferParameter(e,t)}function Ft(e,t,n){return this.__nativeObj.getFramebufferAttachmentParameter(e,t,n)}function Ut(e,t){return this.__nativeObj.getProgramParameter(u(e),t)}function Gt(e,t){return this.__nativeObj.getRenderbufferParameter(e,t)}function Vt(e,t){return this.__nativeObj.getShaderParameter(u(e),t)}function Ht(e,t){return this.__nativeObj.getTexParameter(e,t)}function qt(e,t){return this.__nativeObj.getVertexAttrib(e,t)}function Wt(e,t){return this.__nativeObj.getUniform(u(e),c(t))}function Xt(e){var t=this.__extensions[e];if(t){if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new a(this)),this.__vaoExt;if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new s(this)),this.__irExt;this.__nativeObj.useExtension(e),console.log("USE_EXSTENSION".concat(e))}return t}function Jt(e){return e==this.CURRENT_PROGRAM||e==this.FRAMEBUFFER_BINDING||e==this.RENDERBUFFER_BINDING||e==this.ARRAY_BUFFER_BINDING||e==this.ELEMENT_ARRAY_BUFFER_BINDING||e==this.TEXTURE_BINDING_2D||e==this.TEXTURE_BINDING_CUBE_MAP||this.VERTEX_ARRAY_BINDING,this.__nativeObj.getParameter(e)}function Yt(){return this.__nativeObj.getContextAttributes()}this.__nativeObj=r,e.isMainService?(this.nativeStm=this.__nativeObj.getStateMachine(),this.stm=new e.stateMachine(this.nativeStm),t.setStateMachine(this.stm)):this.stm={},i.prototype.decodeDrawableSource=function(t){return t instanceof e.Canvas?(t.__nativeObj.__type=1,t.__nativeObj):t instanceof e.WebImage?(t.__nativeObj.__type=2,t.__nativeObj):t instanceof e.Triton.ImageData?(t.__type=3,t):void 0},i.prototype.decodeDrawableSourceOpt=function(t){var n,r={},o=0;if(t instanceof e.Canvas?(o=this.stm.type_canvas,n=t.__nativeObj):t instanceof e.WebImage?(o=this.stm.type_image,n=t.__nativeObj):t instanceof e.Triton.ImageData&&(o=this.stm.type_imageData,n=t),o&&n)return r.__type=o,this.stm.indexOf(n,o)<0&&this.stm.add(n,o),r.__objID=n.__objID,r},i.prototype.attachMethod=function(){i.prototype.activeTexture=m,i.prototype.attachShader=d,i.prototype.bindAttribLocation=h,i.prototype.bindVertexArray=_,i.prototype.bindBuffer=v,i.prototype.bindFramebuffer=y,i.prototype.bindRenderbuffer=g,i.prototype.bindTexture=b,i.prototype.blendColor=I,i.prototype.blendEquation=E,i.prototype.blendEquationSeparate=A,i.prototype.blendFunc=O,i.prototype.blendFuncSeparate=w,i.prototype.bufferData=S,i.prototype.bufferSubData=N,i.prototype.checkFramebufferStatus=T,i.prototype.clear=C,i.prototype.clearColor=R,i.prototype.clearDepth=M,i.prototype.clearStencil=P,i.prototype.colorMask=j,i.prototype.compileShader=x,i.prototype.compressedTexImage2D=D,i.prototype.compressedTexSubImage2D=L,i.prototype.copyTexImage2D=B,i.prototype.copyTexSubImage2D=k,i.prototype.createVertexArray=F,i.prototype.createBuffer=U,i.prototype.createFramebuffer=G,i.prototype.createProgram=V,i.prototype.createRenderbuffer=H,i.prototype.createShader=q,i.prototype.createTexture=W,i.prototype.cullFace=X,i.prototype.deleteVertexArray=J,i.prototype.deleteBuffer=Y,i.prototype.deleteFramebuffer=K,i.prototype.deleteProgram=z,i.prototype.deleteRenderbuffer=$,i.prototype.deleteShader=Q,i.prototype.deleteTexture=Z,i.prototype.depthFunc=ee,i.prototype.depthMask=te,i.prototype.depthRange=ne,i.prototype.detachShader=re,i.prototype.disable=oe,i.prototype.disableVertexAttribArray=ie,i.prototype.drawArrays=ae,i.prototype.drawArraysInstanced=se,i.prototype.drawElements=ce,i.prototype.drawElementsInstanced=ue,i.prototype.enable=fe,i.prototype.enableVertexAttribArray=le,i.prototype.finish=pe,i.prototype.flush=me,i.prototype.framebufferRenderbuffer=de,i.prototype.framebufferTexture2D=he,i.prototype.frontFace=_e,i.prototype.generateMipmap=ve,i.prototype.getActiveAttrib=Dt,i.prototype.getActiveUniform=Lt,i.prototype.getAttachedShaders=Bt,i.prototype.getAttribLocation=ye,i.prototype.getBufferParameter=kt,i.prototype.getError=ge,i.prototype.getExtension=Xt,i.prototype.getFramebufferAttachmentParameter=Ft,i.prototype.getParameter=Jt,i.prototype.getProgramInfoLog=Ie,i.prototype.getProgramParameter=Ut,i.prototype.getRenderbufferParameter=Gt,i.prototype.getShaderInfoLog=Ee,i.prototype.getShaderParameter=Vt,i.prototype.getShaderPrecisionFormat=be,i.prototype.getShaderSource=Ae,i.prototype.getSupportedExtensions=Oe,i.prototype.getTexParameter=Ht,i.prototype.getUniform=Wt,i.prototype.getUniformLocation=we,i.prototype.getVertexAttrib=qt,i.prototype.getVertexAttribOffset=Se,i.prototype.GPUCapture=Ne,i.prototype.readPixels=Ve,i.prototype.hint=Te,i.prototype.isVertexArray=Ce,i.prototype.isBuffer=Re,i.prototype.isContextLost=Me,i.prototype.isEnabled=Pe,i.prototype.isFramebuffer=je,i.prototype.isProgram=xe,i.prototype.isRenderbuffer=De,i.prototype.isShader=Le,i.prototype.isTexture=Be,i.prototype.lineWidth=ke,i.prototype.linkProgram=Fe,i.prototype.pixelStorei=Ue,i.prototype.polygonOffset=Ge,i.prototype.renderbufferStorage=He,i.prototype.sampleCoverage=qe,i.prototype.scissor=We,i.prototype.shaderSource=Xe,i.prototype.stencilFunc=Je,i.prototype.stencilFuncSeparate=Ye,i.prototype.stencilMask=Ke,i.prototype.stencilMaskSeparate=ze,i.prototype.stencilOp=$e,i.prototype.stencilOpSeparate=Qe,i.prototype.texImage2D=Ze,i.prototype.texParameterf=et,i.prototype.texParameteri=tt,i.prototype.texSubImage2D=nt,i.prototype.uniform1f=rt,i.prototype.uniform1fv=lt,i.prototype.uniform1i=st,i.prototype.uniform1iv=ht,i.prototype.uniform2f=ot,i.prototype.uniform2fv=pt,i.prototype.uniform2i=ct,i.prototype.uniform2iv=_t,i.prototype.uniform3f=it,i.prototype.uniform3fv=mt,i.prototype.uniform3i=ut,i.prototype.uniform3iv=vt,i.prototype.uniform4f=at,i.prototype.uniform4fv=dt,i.prototype.uniform4i=ft,i.prototype.uniform4iv=yt,i.prototype.uniformMatrix2fv=gt,i.prototype.uniformMatrix3fv=bt,i.prototype.uniformMatrix4fv=It,i.prototype.useProgram=Et,i.prototype.validateProgram=At,i.prototype.vertexAttrib1f=Ot,i.prototype.vertexAttrib1fv=Tt,i.prototype.vertexAttrib2f=wt,i.prototype.vertexAttrib2fv=Ct,i.prototype.vertexAttrib3f=St,i.prototype.vertexAttrib3fv=Rt,i.prototype.vertexAttrib4f=Nt,i.prototype.vertexAttrib4fv=Mt,i.prototype.vertexAttribDivisor=Pt,i.prototype.vertexAttribPointer=jt,i.prototype.viewport=xt,i.prototype.getContextAttributes=Yt},i.prototype.attachMethodOpt=function(){i.prototype.gl_checkFramebufferStatus=T,i.prototype.gl_colorMask=j,i.prototype.gl_createVertexArray=F,i.prototype.gl_createBuffer=U,i.prototype.gl_createFramebuffer=G,i.prototype.gl_createProgram=V,i.prototype.gl_createRenderbuffer=H,i.prototype.gl_createShader=q,i.prototype.gl_createTexture=W,i.prototype.gl_getExtension=Xt,i.prototype.gl_getActiveAttrib=Dt,i.prototype.gl_getActiveUniform=Lt,i.prototype.gl_getAttachedShaders=Bt,i.prototype.gl_getAttribLocation=ye,i.prototype.gl_getBufferParameter=kt,i.prototype.gl_getError=ge,i.prototype.gl_getFramebufferAttachmentParameter=Ft,i.prototype.gl_getParameter=Jt,i.prototype.gl_getProgramInfoLog=Ie,i.prototype.gl_getProgramParameter=Ut,i.prototype.gl_getRenderbufferParameter=Gt,i.prototype.gl_getShaderInfoLog=Ee,i.prototype.gl_getShaderParameter=Vt,i.prototype.gl_getShaderPrecisionFormat=be,i.prototype.gl_getShaderSource=Ae,i.prototype.gl_getSupportedExtensions=Oe,i.prototype.gl_getTexParameter=Ht,i.prototype.gl_getUniform=Wt,i.prototype.gl_getUniformLocation=we,i.prototype.gl_getVertexAttrib=qt,i.prototype.gl_getVertexAttribOffset=Se,i.prototype.gl_GPUCapture=Ne,i.prototype.gl_readPixels=Ve,i.prototype.gl_isVertexArray=Ce,i.prototype.gl_isBuffer=Re,i.prototype.gl_isContextLost=Me,i.prototype.gl_isEnabled=Pe,i.prototype.gl_isFramebuffer=je,i.prototype.gl_isProgram=xe,i.prototype.gl_isRenderbuffer=De,i.prototype.gl_isShader=Le,i.prototype.gl_isTexture=Be,i.prototype.gl_shaderSource=Xe,i.prototype.gl_texImage2D=Ze,i.prototype.gl_texSubImage2D=nt,i.prototype.gl_getContextAttributes=Yt,i.prototype.gl_compressedTexImage2D=D,i.prototype.gl_compressedTexSubImage2D=L,i.prototype.activeTexture=zn,i.prototype.attachShader=$n,i.prototype.bindAttribLocation=Qn,i.prototype.bindVertexArray=Zn,i.prototype.bindBuffer=er,i.prototype.bindFramebuffer=en,i.prototype.bindRenderbuffer=tn,i.prototype.bindTexture=tr,i.prototype.blendColor=nr,i.prototype.blendEquation=rr,i.prototype.blendEquationSeparate=or,i.prototype.blendFunc=ir,i.prototype.blendFuncSeparate=ar,i.prototype.bufferData=Qt,i.prototype.bufferSubData=Zt,i.prototype.checkFramebufferStatus=pn,i.prototype.clear=sr,i.prototype.clearColor=cr,i.prototype.clearDepth=ur,i.prototype.clearStencil=fr,i.prototype.colorMask=lr,i.prototype.compileShader=pr,i.prototype.compressedTexImage2D=nn,i.prototype.compressedTexSubImage2D=rn,i.prototype.copyTexImage2D=mr,i.prototype.copyTexSubImage2D=dr,i.prototype.createVertexArray=on,i.prototype.createBuffer=an,i.prototype.createFramebuffer=sn,i.prototype.createProgram=cn,i.prototype.createRenderbuffer=un,i.prototype.createShader=fn,i.prototype.createTexture=ln,i.prototype.cullFace=hr,i.prototype.deleteVertexArray=_r,i.prototype.deleteBuffer=vr,i.prototype.deleteFramebuffer=yr,i.prototype.deleteProgram=gr,i.prototype.deleteRenderbuffer=br,i.prototype.deleteShader=Ir,i.prototype.deleteTexture=Er,i.prototype.depthFunc=Ar,i.prototype.depthMask=Or,i.prototype.depthRange=wr,i.prototype.detachShader=Sr,i.prototype.disable=Nr,i.prototype.disableVertexAttribArray=Tr,i.prototype.drawArrays=Cr,i.prototype.drawArraysInstanced=Rr,i.prototype.drawElements=Mr,i.prototype.drawElementsInstanced=Pr,i.prototype.enable=jr,i.prototype.enableVertexAttribArray=xr,i.prototype.finish=Dr,i.prototype.flush=Lr,i.prototype.framebufferRenderbuffer=Br,i.prototype.framebufferTexture2D=kr,i.prototype.frontFace=Fr,i.prototype.generateMipmap=Ur,i.prototype.getActiveAttrib=mn,i.prototype.getActiveUniform=dn,i.prototype.getAttachedShaders=hn,i.prototype.getAttribLocation=_n,i.prototype.getBufferParameter=vn,i.prototype.getError=gn,i.prototype.getExtension=bn,i.prototype.getFramebufferAttachmentParameter=In,i.prototype.getParameter=yn,i.prototype.getProgramInfoLog=An,i.prototype.getProgramParameter=En,i.prototype.getRenderbufferParameter=On,i.prototype.getShaderInfoLog=Nn,i.prototype.getShaderParameter=wn,i.prototype.getShaderPrecisionFormat=Sn,i.prototype.getShaderSource=Tn,i.prototype.getSupportedExtensions=Cn,i.prototype.getTexParameter=Rn,i.prototype.getUniform=Mn,i.prototype.getUniformLocation=Pn,i.prototype.getVertexAttrib=jn,i.prototype.getVertexAttribOffset=xn,i.prototype.GPUCapture=Dn,i.prototype.readPixels=Xn,i.prototype.hint=Gr,i.prototype.isVertexArray=Ln,i.prototype.isBuffer=Bn,i.prototype.isContextLost=kn,i.prototype.isEnabled=Fn,i.prototype.isFramebuffer=Un,i.prototype.isProgram=Gn,i.prototype.isRenderbuffer=Vn,i.prototype.isShader=Hn,i.prototype.isTexture=qn,i.prototype.lineWidth=Vr,i.prototype.linkProgram=Hr,i.prototype.pixelStorei=Wn,i.prototype.polygonOffset=qr,i.prototype.renderbufferStorage=Wr,i.prototype.sampleCoverage=Xr,i.prototype.scissor=Jr,i.prototype.shaderSource=Yr,i.prototype.stencilFunc=Kr,i.prototype.stencilFuncSeparate=zr,i.prototype.stencilMask=$r,i.prototype.stencilMaskSeparate=Qr,i.prototype.stencilOp=Zr,i.prototype.stencilOpSeparate=eo,i.prototype.texImage2D=Jn,i.prototype.texParameterf=to,i.prototype.texParameteri=no,i.prototype.texSubImage2D=Yn,i.prototype.uniform1f=ro,i.prototype.uniform1fv=lo,i.prototype.uniform1i=so,i.prototype.uniform1iv=_o,i.prototype.uniform2f=oo,i.prototype.uniform2fv=po,i.prototype.uniform2i=co,i.prototype.uniform2iv=vo,i.prototype.uniform3f=io,i.prototype.uniform3fv=mo,i.prototype.uniform3i=uo,i.prototype.uniform3iv=yo,i.prototype.uniform4f=ao,i.prototype.uniform4fv=ho,i.prototype.uniform4i=fo,i.prototype.uniform4iv=go,i.prototype.uniformMatrix2fv=bo,i.prototype.uniformMatrix3fv=Io,i.prototype.uniformMatrix4fv=Eo,i.prototype.useProgram=Ao,i.prototype.validateProgram=Oo,i.prototype.vertexAttrib1f=wo,i.prototype.vertexAttrib1fv=Co,i.prototype.vertexAttrib2f=So,i.prototype.vertexAttrib2fv=Ro,i.prototype.vertexAttrib3f=No,i.prototype.vertexAttrib3fv=Mo,i.prototype.vertexAttrib4f=To,i.prototype.vertexAttrib4fv=Po,i.prototype.vertexAttribDivisor=jo,i.prototype.vertexAttribPointer=xo,i.prototype.viewport=Do,i.prototype.getContextAttributes=Kn,i.prototype.uniformVecOpt=function(e,n,r,o){this.stm.captureIfNeed(r),e>=Kt&&e<=zt?t.pushCommand(this.__nativeObj,e,1,0,4,!1,c(n),o,r.length,r.__objID):t.pushCommand(this.__nativeObj,e,1,0,3,!1,c(n),r.length,r.__objID),t.flushCmd("uniformVec_".concat(e))},i.prototype.vertexAttribVecOpt=function(e,n,r){this.stm.captureIfNeed(r),t.pushCommand(this.__nativeObj,e,1,0,3,!1,n,r.length,r.__objID),t.flushCmd("vertexAttribVec_".concat(e))}};var Kt=83,zt=85;var $t=function(){function e(){}return e.prototype.cArr={create:1},e.prototype.count=function(e){null==this.cArr[e]?this.cArr[e]=1:this.cArr[e]+=1},e.prototype.result=function(){var e=this.cArr,t=Object.keys(e).map((function(t){return[t,e[t]]}));return t.sort((function(e,t){return t[1]-e[1]})),t},new e}();function Qt(e,n,r){if(null==n)return t.flushCmd("bufferData_1"),void console.error("bufferDataOpt data invald");var o=0,i=0;if("number"==typeof n)o=-1*n;else{if(n instanceof ArrayBuffer&&n.__qqCpyEnable()&&(n=new Uint8Array(n)),ArrayBuffer.isView(n)&&n.__qqCpyEnable())return i=1,void t.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,12,[i,e,n.__qqByteLength(),r],n);this.stm.indexOf(n)<0&&this.stm.add(n,this.stm.type_typedArray),o=n.__objID}t.pushCommand(this.__nativeObj,12,1,0,4,!0,i,e,o,r),t.flushCmd("bufferData_2"),this.stm.removeAllTypedArrayIfNeed()}function Zt(e,n,r){if(!r||!(r instanceof ArrayBuffer||ArrayBuffer.isView(r)))return t.flushCmd("bufferSubData_1"),void console.error("bufferSubDataOpt data invald");var o=0;if(r instanceof ArrayBuffer&&r.__qqCpyEnable()&&(r=new Uint8Array(r)),ArrayBuffer.isView(r)&&r.__qqCpyEnable())return o=1,void t.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,13,[o,e,n,r.__qqByteLength()],r);this.stm.indexOf(r)<0&&this.stm.add(r,this.stm.type_typedArray),t.pushCommand(this.__nativeObj,13,1,0,4,!0,o,e,n,r.__objID),t.flushCmd("bufferSubData_2"),this.stm.removeAllTypedArrayIfNeed()}function en(e,n){t.pushCommand(this.__nativeObj,4,1,0,2,!1,e,c(n))}function tn(e,n){t.pushCommand(this.__nativeObj,5,1,0,2,!1,e,c(n))}function nn(e,n,r,o,i,a,s){var c=0;s&&this.stm.indexOf(s)<0&&(this.stm.add(s,this.stm.type_typedArray),c=s.__objID);var u=s?p(s):0;n||(n=0),t.pushCommand(this.__nativeObj,21,1,0,8,!1,e,n,r,o,i,a,c,u),t.flushCmd("compressedTexImage2D")}function rn(e,n,r,o,i,a,s,c){var u=0;c&&this.stm.indexOf(c)<0&&(this.stm.add(c,this.stm.type_typedArray),u=c.__objID);var f=c?p(c):0;n||(n=0),t.pushCommand(this.__nativeObj,22,1,0,9,!1,e,n,r,o,i,a,s,u,f),t.flushCmd("compressedTexSubImage2D")}function on(){return this.gl_createVertexArray()}function an(){return this.gl_createBuffer()}function sn(){return this.gl_createFramebuffer()}function cn(){return this.gl_createProgram()}function un(){return this.gl_createRenderbuffer()}function fn(e){return this.gl_createShader(e)}function ln(){return this.gl_createTexture()}function pn(e){return t.flushCmd("checkFramebufferStatus"),this.gl_checkFramebufferStatus(e)}function mn(e,n){return t.flushCmd("getActiveAttrib"),this.gl_getActiveAttrib(e,n)}function dn(e,n){return t.flushCmd("getActiveUniform"),this.gl_getActiveUniform(e,n)}function hn(e){return t.flushCmd("getAttachedShaders"),this.gl_getAttachedShaders(e)}function _n(e,n){return t.flushCmd("getAttribLocation"),this.gl_getAttribLocation(e,n)}function vn(e,n){return t.flushCmd("getBufferParameter"),this.gl_getBufferParameter(e,n)}function yn(e){return t.flushCmd("getParameter"),this.gl_getParameter(e)}function gn(){return t.flushCmd("getError"),this.gl_getError()}function bn(e){return t.flushCmd("getExtension"),this.gl_getExtension(e)}function In(e,n,r){return t.flushCmd("getFramebufferAttachmentParameter"),this.gl_getFramebufferAttachmentParameter(e,n,r)}function En(e,n){return t.flushCmd("getProgramParameter"),this.gl_getProgramParameter(e,n)}function An(e){return t.flushCmd("getProgramInfoLog"),this.gl_getProgramInfoLog(e)}function On(e,n){return t.flushCmd("getRenderbufferParameter"),this.gl_getRenderbufferParameter(e,n)}function wn(e,n){return t.flushCmd("getShaderParameter"),this.gl_getShaderParameter(e,n)}function Sn(e,n){return t.flushCmd("getShaderPrecisionFormat"),this.gl_getShaderPrecisionFormat(e,n)}function Nn(e){return t.flushCmd("getShaderInfoLog"),this.gl_getShaderInfoLog(e)}function Tn(e){return t.flushCmd("getShaderSource"),this.gl_getShaderSource(e)}function Cn(){return t.flushCmd("getSupportedExtensions"),this.gl_getSupportedExtensions()}function Rn(e,n){return t.flushCmd("getTexParameter"),this.gl_getTexParameter(e,n)}function Mn(e,n){return t.flushCmd("getUniform"),this.gl_getUniform(e,n)}function Pn(e,n){return t.flushCmd("getUniformLocation"),this.gl_getUniformLocation(e,n)}function jn(e,n){return t.flushCmd("getVertexAttrib"),this.gl_getVertexAttrib(e,n)}function xn(e,n){return t.flushCmd("getVertexAttribOffset"),this.gl_getVertexAttribOffset(e,n)}function Dn(){return t.flushCmd("GPUCapture"),this.gl_GPUCapture()}function Ln(e){return t.flushCmd("isVertexArrayOpt"),this.gl_isVertexArray(e)}function Bn(e){return t.flushCmd("isBuffer"),this.gl_isBuffer(e)}function kn(){return t.flushCmd("isContextLost"),this.gl_isContextLost()}function Fn(e){return t.flushCmd("isEnabled"),this.gl_isEnabled(e)}function Un(e){return t.flushCmd("isFramebuffer"),this.gl_isFramebuffer(e)}function Gn(e){return t.flushCmd("isProgram"),this.gl_isProgram(e)}function Vn(e){return t.flushCmd("isRenderbuffer"),this.gl_isRenderbuffer(e)}function Hn(e){return t.flushCmd("isShader"),this.gl_isShader(e)}function qn(e){return t.flushCmd("isTexture"),this.gl_isTexture(e)}function Wn(e,n){t.pushCommand(this.__nativeObj,51,1,0,2,!1,e,n)}function Xn(e,n,r,o,i,a,s){t.flushCmd("readPixels"),this.gl_readPixels(e,n,r,o,i,a,s)}function Jn(e,n,r){if(6==arguments.length){var o=arguments[3],i=arguments[4],a=arguments[5],s=this.decodeDrawableSourceOpt(a);s&&(t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,63,[e,n,r,o,i,s.__objID,s.__type]),s.__type==this.stm.type_canvas&&t.flushCmd("texImage2D_1"))}else if(9==arguments.length){var c=arguments[3],u=arguments[4],f=arguments[5],l=(o=arguments[6],i=arguments[7],0);if(!(a=arguments[8]))return void t.pushCommand(this.__nativeObj,63,1,0,10,!1,e,n,r,c,u,f,o,i,l,0);a&&this.stm.indexOf(a)<0&&this.stm.add(a,this.stm.type_typedArray),l=a.__objID;var m=a?p(a):0;t.pushCommand(this.__nativeObj,63,1,0,10,!1,e,n,r,c,u,f,o,i,l,m),t.flushCmd("texImage2D_2")}}function Yn(e,n,r,o){if(7==arguments.length){var i=arguments[4],a=arguments[5],s=arguments[6],c=this.decodeDrawableSourceOpt(s);c&&(t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,66,[e,n,r,o,i,a,c.__objID,c.__type]),c.__type==this.stm.type_canvas&&t.flushCmd("texSubImage2D_1"))}else if(9==arguments.length){var u=arguments[4],f=arguments[5],l=(i=arguments[6],a=arguments[7],0);(s=arguments[8])&&this.stm.indexOf(s)<0&&this.stm.add(s,this.stm.type_typedArray),l=s.__objID;var m=s?p(s):0;t.pushCommand(this.__nativeObj,66,1,0,10,!0,e,n,r,o,u,f,i,a,l,m),t.flushCmd("texSubImage2D_2")}}function Kn(){return t.flushCmd("getContextAttributes"),this.gl_getContextAttributes()}function zn(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,0,[e])}function $n(e,n){t.pushCommand(this.__nativeObj,1,1,0,2,!0,u(e),u(n))}function Qn(e,n,r){t.pushCommand(this.__nativeObj,2,1,0,3,!1,u(e),n,r)}function Zn(e){e&&"vao"!==e.__type||t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,102,[u(e)])}function er(e,n){n?t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,3,[e,u(n)]):t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,3,[e,0])}function tr(e,n){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,6,[e,u(n)])}function nr(e,n,r,o){t.pushCommand(this.__nativeObj,7,1,0,4,!1,e,n,r,o)}function rr(e){t.pushCommand(this.__nativeObj,8,1,0,1,!1,e)}function or(e,n){t.pushCommand(this.__nativeObj,9,1,0,2,!1,e,n)}function ir(e,n){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,10,[e,n])}function ar(e,n,r,o){t.pushCommand(this.__nativeObj,11,1,0,4,!1,e,n,r,o)}function sr(e){t.pushCommand(this.__nativeObj,14,1,0,1,!1,e)}function cr(e,n,r,o){t.pushCommand(this.__nativeObj,15,1,0,4,!1,e,n,r,o)}function ur(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,16,[e])}function fr(e){t.pushCommand(this.__nativeObj,17,1,0,1,!1,e)}function lr(e,n,r,o){t.pushCommand(this.__nativeObj,18,1,0,4,!1,e,n,r,o)}function pr(e){t.pushCommand(this.__nativeObj,20,1,0,1,!0,u(e))}function mr(e,n,r,o,i,a,s,c){t.pushCommand(this.__nativeObj,23,1,0,8,!1,e,n,r,o,i,a,s,c)}function dr(e,n,r,o,i,a,s,c){t.pushCommand(this.__nativeObj,24,1,0,8,!1,e,n,r,o,i,a,s,c)}function hr(e){t.pushCommand(this.__nativeObj,25,1,0,1,!1,e)}function _r(e){e&&"vao"===e.__type&&(t.pushCommand(this.__nativeObj,103,1,0,1,!0,u(e)),l(e))}function vr(e){t.pushCommand(this.__nativeObj,26,1,0,1,!0,u(e))}function yr(e){t.pushCommand(this.__nativeObj,27,1,0,1,!0,c(e))}function gr(e){t.pushCommand(this.__nativeObj,28,1,0,1,!0,u(e))}function br(e){t.pushCommand(this.__nativeObj,29,1,0,1,!0,c(e))}function Ir(e){t.pushCommand(this.__nativeObj,30,1,0,1,!0,u(e))}function Er(e){t.pushCommand(this.__nativeObj,31,1,0,1,!0,u(e))}function Ar(e){t.pushCommand(this.__nativeObj,32,1,0,1,!1,e)}function Or(e){t.pushCommand(this.__nativeObj,33,1,0,1,!0,e?1:0)}function wr(e,n){t.pushCommand(this.__nativeObj,34,1,0,2,!1,e,n)}function Sr(e,n){t.pushCommand(this.__nativeObj,35,1,0,2,!0,u(e),u(n))}function Nr(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,36,[e])}function Tr(e){t.pushCommand(this.__nativeObj,37,1,0,1,!1,e)}function Cr(e,n,r){t.pushCommand(this.__nativeObj,38,1,0,3,!1,e,n,r),r>0&&o()}function Rr(e,n,r,i){t.pushCommand(this.__nativeObj,104,1,0,4,!0,e,n,r,i),r>0&&o()}function Mr(e,n,r,i){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,39,[e,n,r,i]),n>0&&o()}function Pr(e,n,r,i,a){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,105,[e,n,r,i,a]),n>0&&o()}function jr(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,40,[e])}function xr(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,41,[e])}function Dr(){t.pushCommand(this.__nativeObj,42,1,0,0,!0)}function Lr(){t.pushCommand(this.__nativeObj,43,1,0,0,!0)}function Br(e,n,r,o){t.pushCommand(this.__nativeObj,44,1,0,4,!1,e,n,r,c(o))}function kr(e,n,r,o,i){t.pushCommand(this.__nativeObj,45,1,0,5,!1,e,n,r,u(o),i)}function Fr(e){t.pushCommand(this.__nativeObj,46,1,0,1,!1,e)}function Ur(e){t.pushCommand(this.__nativeObj,47,1,0,1,!0,e)}function Gr(e,n){t.pushCommand(this.__nativeObj,48,1,0,2,!1,e,n)}function Vr(e){t.pushCommand(this.__nativeObj,49,1,0,1,!1,e)}function Hr(e){t.pushCommand(this.__nativeObj,50,1,0,1,!0,u(e))}function qr(e,n){t.pushCommand(this.__nativeObj,52,1,0,2,!1,e,n)}function Wr(e,n,r,o){t.pushCommand(this.__nativeObj,53,1,0,4,!1,e,n,r,o)}function Xr(e,n){t.pushCommand(this.__nativeObj,54,1,0,2,!1,e,n?1:0)}function Jr(e,n,r,o){t.pushCommand(this.__nativeObj,55,1,0,4,!1,e,n,r,o)}function Yr(e,n){t.pushCommand(this.__nativeObj,56,1,0,2,!1,u(e),n)}function Kr(e,n,r){t.pushCommand(this.__nativeObj,57,1,0,3,!1,e,n,r)}function zr(e,n,r,o){t.pushCommand(this.__nativeObj,58,1,0,4,!1,e,n,r,o)}function $r(e){t.pushCommand(this.__nativeObj,59,1,0,1,!1,e)}function Qr(e,n){t.pushCommand(this.__nativeObj,60,1,0,2,!1,e,n)}function Zr(e,n,r){t.pushCommand(this.__nativeObj,61,1,0,3,!1,e,n,r)}function eo(e,n,r,o){t.pushCommand(this.__nativeObj,62,1,0,4,!1,e,n,r,o)}function to(e,n,r){t.pushCommand(this.__nativeObj,64,1,0,3,!1,e,n,r)}function no(e,n,r){t.pushCommand(this.__nativeObj,65,1,0,3,!1,e,n,r)}function ro(e,n){t.pushCommand(this.__nativeObj,67,1,0,2,!1,c(e),parseFloat(n))}function oo(e,n,r){t.pushCommand(this.__nativeObj,71,1,0,3,!1,c(e),parseFloat(n),parseFloat(r))}function io(e,n,r,o){t.pushCommand(this.__nativeObj,75,1,0,4,!1,c(e),parseFloat(n),parseFloat(r),parseFloat(o))}function ao(e,n,r,o,i){t.pushCommand(this.__nativeObj,79,1,0,5,!1,c(e),parseFloat(n),parseFloat(r),parseFloat(o),parseFloat(i))}function so(e,n){t.pushCommand(this.__nativeObj,69,1,0,2,!1,c(e),parseInt(n))}function co(e,n,r){t.pushCommand(this.__nativeObj,73,1,0,3,!1,c(e),parseInt(n),parseInt(r))}function uo(e,n,r,o){t.pushCommand(this.__nativeObj,77,1,0,4,!1,c(e),parseInt(n),parseInt(r),parseInt(o))}function fo(e,n,r,o,i){t.pushCommand(this.__nativeObj,81,1,0,5,!1,c(e),parseInt(n),parseInt(r),parseInt(o),parseInt(i))}function lo(e,t){this.uniformVecOpt(68,e,n(t))}function po(e,r){if(ArrayBuffer.isView(r)&&r.__qqCpyEnable())t.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,72,[c(e),r.length,1],r);else{r=n(r);this.stm.captureIfNeed(r),t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,72,[c(e),r.length,0,r.__objID]),t.flushCmd("uniform2fvOpt")}}function mo(e,t){this.uniformVecOpt(76,e,n(t))}function ho(e,r){if(ArrayBuffer.isView(r)&&r.__qqCpyEnable())t.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,80,[c(e),r.length,1],r);else{r=n(r);this.stm.captureIfNeed(r),t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,80,[c(e),r.length,0,r.__objID]),t.flushCmd("uniform4fvOpt")}}function _o(e,t){this.uniformVecOpt(70,e,n(t,Int32Array))}function vo(e,t){this.uniformVecOpt(74,e,n(t,Int32Array))}function yo(e,t){this.uniformVecOpt(78,e,n(t,Int32Array))}function go(e,t){this.uniformVecOpt(82,e,n(t,Int32Array))}function bo(e,t,r){this.uniformVecOpt(Kt,e,n(r),t)}function Io(e,t,r){this.uniformVecOpt(84,e,n(r),t)}function Eo(e,r,o){ArrayBuffer.isView(o)&&o.__qqCpyEnable()?t.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,99,[c(e),r,o.length],o):this.uniformVecOpt(zt,e,n(o),r)}function Ao(e){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,86,[u(e)])}function Oo(e){t.pushCommand(this.__nativeObj,87,1,0,1,!0,u(e))}function wo(e,n){t.pushCommand(this.__nativeObj,88,1,0,2,!1,e,n)}function So(e,n,r){t.pushCommand(this.__nativeObj,89,1,0,3,!1,e,n,r)}function No(e,n,r,o){t.pushCommand(this.__nativeObj,90,1,0,4,!1,e,n,r,o)}function To(e,n,r,o,i){t.pushCommand(this.__nativeObj,91,1,0,5,!1,e,n,r,o,i)}function Co(e,t){this.vertexAttribVecOpt(92,e,n(t))}function Ro(e,t){this.vertexAttribVecOpt(93,e,n(t))}function Mo(e,t){this.vertexAttribVecOpt(94,e,n(t))}function Po(e,t){this.vertexAttribVecOpt(95,e,n(t))}function jo(e,n){t.pushCommand(this.__nativeObj,106,1,0,2,!1,e,n)}function xo(e,n,r,o,i,a){t.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,96,[e,n,r,o?1:0,i,a])}function Do(e,n,r,o){t.pushCommand(this.__nativeObj,97,1,0,4,!1,e,n,r,o)}GameGlobal.countFlush=$t,i.prototype.DEPTH_BUFFER_BIT=256,i.prototype.STENCIL_BUFFER_BIT=1024,i.prototype.COLOR_BUFFER_BIT=16384,i.prototype.POINTS=0,i.prototype.LINES=1,i.prototype.LINE_LOOP=2,i.prototype.LINE_STRIP=3,i.prototype.TRIANGLES=4,i.prototype.TRIANGLE_STRIP=5,i.prototype.TRIANGLE_FAN=6,i.prototype.ZERO=0,i.prototype.ONE=1,i.prototype.SRC_COLOR=768,i.prototype.ONE_MINUS_SRC_COLOR=769,i.prototype.SRC_ALPHA=770,i.prototype.ONE_MINUS_SRC_ALPHA=771,i.prototype.DST_ALPHA=772,i.prototype.ONE_MINUS_DST_ALPHA=773,i.prototype.DST_COLOR=774,i.prototype.ONE_MINUS_DST_COLOR=775,i.prototype.SRC_ALPHA_SATURATE=776,i.prototype.FUNC_ADD=32774,i.prototype.BLEND_EQUATION=32777,i.prototype.BLEND_EQUATION_RGB=32777,i.prototype.BLEND_EQUATION_ALPHA=34877,i.prototype.FUNC_SUBTRACT=32778,i.prototype.FUNC_REVERSE_SUBTRACT=32779,i.prototype.BLEND_DST_RGB=32968,i.prototype.BLEND_SRC_RGB=32969,i.prototype.BLEND_DST_ALPHA=32970,i.prototype.BLEND_SRC_ALPHA=32971,i.prototype.CONSTANT_COLOR=32769,i.prototype.ONE_MINUS_CONSTANT_COLOR=32770,i.prototype.CONSTANT_ALPHA=32771,i.prototype.ONE_MINUS_CONSTANT_ALPHA=32772,i.prototype.BLEND_COLOR=32773,i.prototype.ARRAY_BUFFER=34962,i.prototype.ELEMENT_ARRAY_BUFFER=34963,i.prototype.ARRAY_BUFFER_BINDING=34964,i.prototype.ELEMENT_ARRAY_BUFFER_BINDING=34965,i.prototype.STREAM_DRAW=35040,i.prototype.STATIC_DRAW=35044,i.prototype.DYNAMIC_DRAW=35048,i.prototype.BUFFER_SIZE=34660,i.prototype.BUFFER_USAGE=34661,i.prototype.CURRENT_VERTEX_ATTRIB=34342,i.prototype.FRONT=1028,i.prototype.BACK=1029,i.prototype.FRONT_AND_BACK=1032,i.prototype.CULL_FACE=2884,i.prototype.BLEND=3042,i.prototype.DITHER=3024,i.prototype.STENCIL_TEST=2960,i.prototype.DEPTH_TEST=2929,i.prototype.SCISSOR_TEST=3089,i.prototype.POLYGON_OFFSET_FILL=32823,i.prototype.SAMPLE_ALPHA_TO_COVERAGE=32926,i.prototype.SAMPLE_COVERAGE=32928,i.prototype.NO_ERROR=0,i.prototype.INVALID_ENUM=1280,i.prototype.INVALID_VALUE=1281,i.prototype.INVALID_OPERATION=1282,i.prototype.OUT_OF_MEMORY=1285,i.prototype.CW=2304,i.prototype.CCW=2305,i.prototype.LINE_WIDTH=2849,i.prototype.ALIASED_POINT_SIZE_RANGE=33901,i.prototype.ALIASED_LINE_WIDTH_RANGE=33902,i.prototype.CULL_FACE_MODE=2885,i.prototype.FRONT_FACE=2886,i.prototype.DEPTH_RANGE=2928,i.prototype.DEPTH_WRITEMASK=2930,i.prototype.DEPTH_CLEAR_VALUE=2931,i.prototype.DEPTH_FUNC=2932,i.prototype.STENCIL_CLEAR_VALUE=2961,i.prototype.STENCIL_FUNC=2962,i.prototype.STENCIL_FAIL=2964,i.prototype.STENCIL_PASS_DEPTH_FAIL=2965,i.prototype.STENCIL_PASS_DEPTH_PASS=2966,i.prototype.STENCIL_REF=2967,i.prototype.STENCIL_VALUE_MASK=2963,i.prototype.STENCIL_WRITEMASK=2968,i.prototype.STENCIL_BACK_FUNC=34816,i.prototype.STENCIL_BACK_FAIL=34817,i.prototype.STENCIL_BACK_PASS_DEPTH_FAIL=34818,i.prototype.STENCIL_BACK_PASS_DEPTH_PASS=34819,i.prototype.STENCIL_BACK_REF=36003,i.prototype.STENCIL_BACK_VALUE_MASK=36004,i.prototype.STENCIL_BACK_WRITEMASK=36005,i.prototype.VIEWPORT=2978,i.prototype.SCISSOR_BOX=3088,i.prototype.COLOR_CLEAR_VALUE=3106,i.prototype.COLOR_WRITEMASK=3107,i.prototype.UNPACK_ALIGNMENT=3317,i.prototype.PACK_ALIGNMENT=3333,i.prototype.MAX_TEXTURE_SIZE=3379,i.prototype.MAX_VIEWPORT_DIMS=3386,i.prototype.SUBPIXEL_BITS=3408,i.prototype.RED_BITS=3410,i.prototype.GREEN_BITS=3411,i.prototype.BLUE_BITS=3412,i.prototype.ALPHA_BITS=3413,i.prototype.DEPTH_BITS=3414,i.prototype.STENCIL_BITS=3415,i.prototype.POLYGON_OFFSET_UNITS=10752,i.prototype.POLYGON_OFFSET_FACTOR=32824,i.prototype.TEXTURE_BINDING_2D=32873,i.prototype.SAMPLE_BUFFERS=32936,i.prototype.SAMPLES=32937,i.prototype.SAMPLE_COVERAGE_VALUE=32938,i.prototype.SAMPLE_COVERAGE_INVERT=32939,i.prototype.COMPRESSED_TEXTURE_FORMATS=34467,i.prototype.DONT_CARE=4352,i.prototype.FASTEST=4353,i.prototype.NICEST=4354,i.prototype.GENERATE_MIPMAP_HINT=33170,i.prototype.BYTE=5120,i.prototype.UNSIGNED_BYTE=5121,i.prototype.SHORT=5122,i.prototype.UNSIGNED_SHORT=5123,i.prototype.INT=5124,i.prototype.UNSIGNED_INT=5125,i.prototype.FLOAT=5126,i.prototype.DEPTH_COMPONENT=6402,i.prototype.ALPHA=6406,i.prototype.RGB=6407,i.prototype.RGBA=6408,i.prototype.LUMINANCE=6409,i.prototype.LUMINANCE_ALPHA=6410,i.prototype.UNSIGNED_SHORT_4_4_4_4=32819,i.prototype.UNSIGNED_SHORT_5_5_5_1=32820,i.prototype.UNSIGNED_SHORT_5_6_5=33635,i.prototype.FRAGMENT_SHADER=35632,i.prototype.VERTEX_SHADER=35633,i.prototype.MAX_VERTEX_ATTRIBS=34921,i.prototype.MAX_VERTEX_UNIFORM_VECTORS=36347,i.prototype.MAX_VARYING_VECTORS=36348,i.prototype.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,i.prototype.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,i.prototype.MAX_TEXTURE_IMAGE_UNITS=34930,i.prototype.MAX_FRAGMENT_UNIFORM_VECTORS=36349,i.prototype.SHADER_TYPE=35663,i.prototype.DELETE_STATUS=35712,i.prototype.LINK_STATUS=35714,i.prototype.VALIDATE_STATUS=35715,i.prototype.ATTACHED_SHADERS=35717,i.prototype.ACTIVE_UNIFORMS=35718,i.prototype.ACTIVE_ATTRIBUTES=35721,i.prototype.SHADING_LANGUAGE_VERSION=35724,i.prototype.CURRENT_PROGRAM=35725,i.prototype.NEVER=512,i.prototype.LESS=513,i.prototype.EQUAL=514,i.prototype.LEQUAL=515,i.prototype.GREATER=516,i.prototype.NOTEQUAL=517,i.prototype.GEQUAL=518,i.prototype.ALWAYS=519,i.prototype.KEEP=7680,i.prototype.REPLACE=7681,i.prototype.INCR=7682,i.prototype.DECR=7683,i.prototype.INVERT=5386,i.prototype.INCR_WRAP=34055,i.prototype.DECR_WRAP=34056,i.prototype.VENDOR=7936,i.prototype.RENDERER=7937,i.prototype.VERSION=7938,i.prototype.NEAREST=9728,i.prototype.LINEAR=9729,i.prototype.NEAREST_MIPMAP_NEAREST=9984,i.prototype.LINEAR_MIPMAP_NEAREST=9985,i.prototype.NEAREST_MIPMAP_LINEAR=9986,i.prototype.LINEAR_MIPMAP_LINEAR=9987,i.prototype.TEXTURE_MAG_FILTER=10240,i.prototype.TEXTURE_MIN_FILTER=10241,i.prototype.TEXTURE_WRAP_S=10242,i.prototype.TEXTURE_WRAP_T=10243,i.prototype.TEXTURE_2D=3553,i.prototype.TEXTURE=5890,i.prototype.TEXTURE_CUBE_MAP=34067,i.prototype.TEXTURE_BINDING_CUBE_MAP=34068,i.prototype.TEXTURE_CUBE_MAP_POSITIVE_X=34069,i.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,i.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,i.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,i.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,i.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,i.prototype.MAX_CUBE_MAP_TEXTURE_SIZE=34076,i.prototype.TEXTURE0=33984,i.prototype.TEXTURE1=33985,i.prototype.TEXTURE2=33986,i.prototype.TEXTURE3=33987,i.prototype.TEXTURE4=33988,i.prototype.TEXTURE5=33989,i.prototype.TEXTURE6=33990,i.prototype.TEXTURE7=33991,i.prototype.TEXTURE8=33992,i.prototype.TEXTURE9=33993,i.prototype.TEXTURE10=33994,i.prototype.TEXTURE11=33995,i.prototype.TEXTURE12=33996,i.prototype.TEXTURE13=33997,i.prototype.TEXTURE14=33998,i.prototype.TEXTURE15=33999,i.prototype.TEXTURE16=34e3,i.prototype.TEXTURE17=34001,i.prototype.TEXTURE18=34002,i.prototype.TEXTURE19=34003,i.prototype.TEXTURE20=34004,i.prototype.TEXTURE21=34005,i.prototype.TEXTURE22=34006,i.prototype.TEXTURE23=34007,i.prototype.TEXTURE24=34008,i.prototype.TEXTURE25=34009,i.prototype.TEXTURE26=34010,i.prototype.TEXTURE27=34011,i.prototype.TEXTURE28=34012,i.prototype.TEXTURE29=34013,i.prototype.TEXTURE30=34014,i.prototype.TEXTURE31=34015,i.prototype.ACTIVE_TEXTURE=34016,i.prototype.REPEAT=10497,i.prototype.CLAMP_TO_EDGE=33071,i.prototype.MIRRORED_REPEAT=33648,i.prototype.FLOAT_VEC2=35664,i.prototype.FLOAT_VEC3=35665,i.prototype.FLOAT_VEC4=35666,i.prototype.INT_VEC2=35667,i.prototype.INT_VEC3=35668,i.prototype.INT_VEC4=35669,i.prototype.BOOL=35670,i.prototype.BOOL_VEC2=35671,i.prototype.BOOL_VEC3=35672,i.prototype.BOOL_VEC4=35673,i.prototype.FLOAT_MAT2=35674,i.prototype.FLOAT_MAT3=35675,i.prototype.FLOAT_MAT4=35676,i.prototype.SAMPLER_2D=35678,i.prototype.SAMPLER_CUBE=35680,i.prototype.VERTEX_ATTRIB_ARRAY_ENABLED=34338,i.prototype.VERTEX_ATTRIB_ARRAY_SIZE=34339,i.prototype.VERTEX_ATTRIB_ARRAY_STRIDE=34340,i.prototype.VERTEX_ATTRIB_ARRAY_TYPE=34341,i.prototype.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,i.prototype.VERTEX_ATTRIB_ARRAY_POINTER=34373,i.prototype.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,i.prototype.IMPLEMENTATION_COLOR_READ_TYPE=35738,i.prototype.IMPLEMENTATION_COLOR_READ_FORMAT=35739,i.prototype.COMPILE_STATUS=35713,i.prototype.LOW_FLOAT=36336,i.prototype.MEDIUM_FLOAT=36337,i.prototype.HIGH_FLOAT=36338,i.prototype.LOW_INT=36339,i.prototype.MEDIUM_INT=36340,i.prototype.HIGH_INT=36341,i.prototype.FRAMEBUFFER=36160,i.prototype.RENDERBUFFER=36161,i.prototype.RGBA4=32854,i.prototype.RGB5_A1=32855,i.prototype.RGB565=36194,i.prototype.DEPTH_COMPONENT16=33189,i.prototype.STENCIL_INDEX8=36168,i.prototype.DEPTH_STENCIL=34041,i.prototype.RENDERBUFFER_WIDTH=36162,i.prototype.RENDERBUFFER_HEIGHT=36163,i.prototype.RENDERBUFFER_INTERNAL_FORMAT=36164,i.prototype.RENDERBUFFER_RED_SIZE=36176,i.prototype.RENDERBUFFER_GREEN_SIZE=36177,i.prototype.RENDERBUFFER_BLUE_SIZE=36178,i.prototype.RENDERBUFFER_ALPHA_SIZE=36179,i.prototype.RENDERBUFFER_DEPTH_SIZE=36180,i.prototype.RENDERBUFFER_STENCIL_SIZE=36181,i.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,i.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,i.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,i.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,i.prototype.COLOR_ATTACHMENT0=36064,i.prototype.DEPTH_ATTACHMENT=36096,i.prototype.STENCIL_ATTACHMENT=36128,i.prototype.DEPTH_STENCIL_ATTACHMENT=33306,i.prototype.NONE=0,i.prototype.FRAMEBUFFER_COMPLETE=36053,i.prototype.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,i.prototype.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,i.prototype.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,i.prototype.FRAMEBUFFER_UNSUPPORTED=36061,i.prototype.FRAMEBUFFER_BINDING=36006,i.prototype.RENDERBUFFER_BINDING=36007,i.prototype.MAX_RENDERBUFFER_SIZE=34024,i.prototype.INVALID_FRAMEBUFFER_OPERATION=1286,i.prototype.VERTEX_ARRAY_BINDING=34229,i.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,i.prototype.HALF_FLOAT=5131,i.prototype.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,i.prototype.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,i.prototype.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,i.prototype.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,i.prototype.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,i.prototype.TEXTURE_MAX_ANISOTROPY_EXT=34046,i.prototype.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,i.prototype.UNPACK_FLIP_Y_WEBGL=37440,i.prototype.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,i.prototype.CONTEXT_LOST_WEBGL=37442,i.prototype.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,i.prototype.BROWSER_DEFAULT_WEBGL=37444,i.prototype.SHADER_BINARY_FORMATS=36344,i.prototype.NUM_SHADER_BINARY_FORMATS=36345,i.prototype.NUM_COMPRESSED_TEXTURE_FORMATS=34466,this.__extensions={EXT_texture_filter_anisotropic:{TEXTURE_MAX_ANISOTROPY_EXT:this.TEXTURE_MAX_ANISOTROPY_EXT,MAX_TEXTURE_MAX_ANISOTROPY_EXT:this.MAX_TEXTURE_MAX_ANISOTROPY_EXT},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:this.HALF_FLOAT},OES_texture_half_float_linear:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:this.FRAGMENT_SHADER_DERIVATIVE_HINT},OES_vertex_array_object:{},ANGLE_instanced_arrays:{},OES_element_index_uint:{},WEBGL_compressed_texture_pvrtc:{COMPRESSED_RGB_PVRTC_4BPPV1_IMG:this.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:this.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:this.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:this.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}},i.prototype.__defineGetter__("drawingBufferWidth",(function(){return t.flushCmd("getdrawingBufferWidth"),this.__nativeObj.drawingBufferWidth})),i.prototype.__defineGetter__("drawingBufferHeight",(function(){return t.flushCmd("getdrawingBufferHeight"),this.__nativeObj.drawingBufferHeight})),this.__nativeObj.commandIndexDict={GL_COMMAND_ACTIVE_TEXTURE:"activeTexture",GL_COMMAND_ATTACH_SHADER:"attachShader",GL_COMMAND_BIND_ATTRIB_LOCATION:"bindAttribLocation",GL_COMMAND_BIND_BUFFER:"bindBuffer",GL_COMMAND_BIND_VERTEX_ARRAY:"bindVertexArray",GL_COMMAND_BIND_FRAME_BUFFER:"bindFrameBuffer",GL_COMMAND_BIND_RENDER_BUFFER:"bindRenderBuffer",GL_COMMAND_BIND_TEXTURE:"bindTexture",GL_COMMAND_BLEND_COLOR:"blendColor",GL_COMMAND_BLEND_EQUATION:"blendEquation",GL_COMMAND_BLEND_EQUATION_SEPARATE:"blendEquationSeparate",GL_COMMAND_BLEND_FUNC:"blendFunc",GL_COMMAND_BLEND_FUNC_SEPARATE:"blendFuncSeparate",GL_COMMAND_BUFFER_DATA:"bufferData",GL_COMMAND_BUFFER_SUB_DATA:"bufferSubData",GL_COMMAND_CLEAR:"clear",GL_COMMAND_CLEAR_COLOR:"clearColor",GL_COMMAND_CLEAR_DEPTH:"clearDepth",GL_COMMAND_CLEAR_STENCIL:"clearStencil",GL_COMMAND_COLOR_MASK:"colorMask",GL_COMMAND_COMMIT:"commit",GL_COMMAND_COMPILE_SHADER:"compileShader",GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:"compressedTexImage2d",GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:"compressedTexSubImage2d",GL_COMMAND_COPY_TEX_IMAGE_2D:"copyTexImage2d",GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:"copyTexSubImage2d",GL_COMMAND_CULL_FACE:"cullFace",GL_COMMAND_DELETE_VERTEX_ARRAY:"deleteVertexArray",GL_COMMAND_DELETE_BUFFER:"deleteBuffer",GL_COMMAND_DELETE_FRAME_BUFFER:"deleteFrameBuffer",GL_COMMAND_DELETE_PROGRAM:"deleteProgram",GL_COMMAND_DELETE_RENDER_BUFFER:"deleteRenderBuffer",GL_COMMAND_DELETE_SHADER:"deleteShader",GL_COMMAND_DELETE_TEXTURE:"deleteTexture",GL_COMMAND_DEPTH_FUNC:"depthFunc",GL_COMMAND_DEPTH_MASK:"depthMask",GL_COMMAND_DEPTH_RANGE:"depthRange",GL_COMMAND_DETACH_SHADER:"detachShader",GL_COMMAND_DISABLE:"disable",GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:"disableVertexAttribArray",GL_COMMAND_DRAW_ARRAYS:"drawArrays",GL_COMMAND_DRAW_ELEMENTS:"drawElements",GL_COMMAND_ENABLE:"enable",GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:"enableVertexAttribArray",GL_COMMAND_FINISH:"finish",GL_COMMAND_FLUSH:"flush",GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:"frameBufferRenderBuffer",GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:"frameBufferTexture2d",GL_COMMAND_FRONT_FACE:"frontFace",GL_COMMAND_GENERATE_MIPMAP:"generateMipmap",GL_COMMAND_HINT:"hint",GL_COMMAND_LINE_WIDTH:"lineWidth",GL_COMMAND_LINK_PROGRAM:"linkProgram",GL_COMMAND_PIXEL_STOREI:"pixelStorei",GL_COMMAND_POLYGON_OFFSET:"polygonOffset",GL_COMMAND_RENDER_BUFFER_STORAGE:"renderBufferStorage",GL_COMMAND_SAMPLE_COVERAGE:"sampleCoverage",GL_COMMAND_SCISSOR:"scissor",GL_COMMAND_SHADER_SOURCE:"shaderSource",GL_COMMAND_STENCIL_FUNC:"stencilFunc",GL_COMMAND_STENCIL_FUNC_SEPARATE:"stencilFuncSeparate",GL_COMMAND_STENCIL_MASK:"stencilMask",GL_COMMAND_STENCIL_MASK_SEPARATE:"stencilMaskSeparate",GL_COMMAND_STENCIL_OP:"stencilOp",GL_COMMAND_STENCIL_OP_SEPARATE:"stencilOpSeparate",GL_COMMAND_TEX_IMAGE_2D:"texImage2d",GL_COMMAND_TEX_PARAMETER_F:"texParameterF",GL_COMMAND_TEX_PARAMETER_I:"texParameterI",GL_COMMAND_TEX_SUB_IMAGE_2D:"texSubImage2d",GL_COMMAND_UNIFORM_1F:"uniform1f",GL_COMMAND_UNIFORM_1FV:"uniform1fv",GL_COMMAND_UNIFORM_1I:"uniform1i",GL_COMMAND_UNIFORM_1IV:"uniform1iv",GL_COMMAND_UNIFORM_2F:"uniform2f",GL_COMMAND_UNIFORM_2FV:"uniform2fv",GL_COMMAND_UNIFORM_2I:"uniform2i",GL_COMMAND_UNIFORM_2IV:"uniform2iv",GL_COMMAND_UNIFORM_3F:"uniform3f",GL_COMMAND_UNIFORM_3FV:"uniform3fv",GL_COMMAND_UNIFORM_3I:"uniform3i",GL_COMMAND_UNIFORM_3IV:"uniform3iv",GL_COMMAND_UNIFORM_4F:"uniform4f",GL_COMMAND_UNIFORM_4FV:"uniform4fv",GL_COMMAND_UNIFORM_4I:"uniform4i",GL_COMMAND_UNIFORM_4IV:"uniform4iv",GL_COMMAND_UNIFORM_MATRIX_2FV:"uniformMatrix2fv",GL_COMMAND_UNIFORM_MATRIX_3FV:"uniformMatrix3fv",GL_COMMAND_UNIFORM_MATRIX_4FV:"uniformMatrix4fv",GL_COMMAND_UNIFORM_MATRIX_4FV_ARRAYBUFFER:"uniformMatrix4fv",GL_COMMAND_USE_PROGRAM:"useProgram",GL_COMMAND_VALIDATE_PROGRAM:"validateProgram",GL_COMMAND_VERTEX_ATTRIB_1F:"vertexAttrib1f",GL_COMMAND_VERTEX_ATTRIB_2F:"vertexAttrib2f",GL_COMMAND_VERTEX_ATTRIB_3F:"vertexAttrib3f",GL_COMMAND_VERTEX_ATTRIB_4F:"vertexAttrib4f",GL_COMMAND_VERTEX_ATTRIB_1FV:"vertexAttrib1fv",GL_COMMAND_VERTEX_ATTRIB_2FV:"vertexAttrib2fv",GL_COMMAND_VERTEX_ATTRIB_3FV:"vertexAttrib3fv",GL_COMMAND_VERTEX_ATTRIB_4FV:"vertexAttrib4fv",GL_COMMAND_VERTEX_ATTRIB_POINTER:"vertexAttribPointer",GL_COMMAND_VIEW_PORT:"viewPort"},t.enableCommandQueue&&(this.__cqCallerId=this.__nativeObj.__cqCallerId=t.__nativeObj.cacheCaller(this.__nativeObj,1))}function a(e){this.gl=e,this.originFunc={bindVertexArray:e.bindVertexArray,createVertexArray:e.createVertexArray,deleteVertexArray:e.deleteVertexArray,isVertexArray:e.isVertexArray}}function s(e){this.gl=e,this.originFunc={drawArraysInstanced:e.drawArraysInstanced,drawElementsInstanced:e.drawElementsInstanced,vertexAttribDivisor:e.vertexAttribDivisor}}e.isMainService&&(e.webglPlusUtil.enableWebGLPlus?e.extendWebGLPlusToWebGLContext(i):wx.webglPlus=void 0),a.prototype.bindVertexArrayOES=function(e){return this.originFunc.bindVertexArray.call(this.gl,e)},a.prototype.createVertexArrayOES=function(){return this.originFunc.createVertexArray.call(this.gl)},a.prototype.deleteVertexArrayOES=function(e){return this.originFunc.deleteVertexArray.call(this.gl,e)},a.prototype.isVertexArrayOES=function(e){return this.originFunc.isVertexArray.call(this.gl,e)},a.prototype.VERTEX_ARRAY_BINDING_OES=i.prototype.VERTEX_ARRAY_BINDING,s.prototype.drawArraysInstancedANGLE=function(e,t,n,r){return this.originFunc.drawArraysInstanced.call(this.gl,e,t,n,r)},s.prototype.drawElementsInstancedANGLE=function(e,t,n,r,o){return this.originFunc.drawElementsInstanced.call(this.gl,e,t,n,r,o)},s.prototype.vertexAttribDivisorANGLE=function(e,t){return this.originFunc.vertexAttribDivisor.call(this.gl,e,t)},s.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=i.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;n.__ttObjdec__.stateMachine=function e(t){this.__nativeObj=t,e.prototype.type_undefined=0,e.prototype.type_typedArray=1,e.prototype.type_image=2,e.prototype.type_buffer=3,e.prototype.type_shader=4,e.prototype.type_canvas=5,e.prototype.type_context=6,e.prototype.type_imageData=7,this.index_TypedArray=0,this.index_Image=0,this.index_Buffer=0,this.index_Shader=0,this.index_Canvas=0,this.index_Context=0,this.index_ImageData=0,this.indexs=[void 0,this.index_TypedArray,this.index_Image,this.index_Buffer,this.index_Shader,this.index_Canvas,this.index_Context,this.index_ImageData],this.reusefulIndexs_TypedArray=[],this.reusefulIndexs_Image=[],this.reusefulIndexs_Buffer=[],this.reusefulIndexs_Shader=[],this.reusefulIndexs_Canvas=[],this.reusefulIndexs_Context=[],this.reusefulIndexs_ImageData=[],this.reusefulIndexs=[void 0,this.reusefulIndexs_TypedArray,this.reusefulIndexs_Image,this.reusefulIndexs_Buffer,this.reusefulIndexs_Shader,this.reusefulIndexs_Canvas,this.reusefulIndexs_Context,this.reusefulIndexs_ImageData],this.pool_typedArray=[],this.pool_image=[],this.pool_buffer=[],this.pool_shader=[],this.pool_canvas=[],this.pool_context=[],this.pool_imageData=[],this.pools=[void 0,this.pool_typedArray,this.pool_image,this.pool_buffer,this.pool_shader,this.pool_canvas,this.pool_context,this.pool_imageData],this.tmpPool=[],e.prototype.clearTmpPopl=function(){this.tmpPool=[]},e.prototype.usefulIDFor=function(e,t){if(void 0===e.__objID){var n,r=this.reusefulIndexs[t];0!=r.length?n=r.pop():(this.clearPoolIfNeed(t),this.indexs[t]+=1,n=this.indexs[t]),e.__objID=n}return e.__objID},e.prototype.clearPoolIfNeed=function(e){this.indexs[e]===Number.MAX_VALUE&&(this.pools[e].splice(0),this.indexs[e]=0)},e.prototype.retrieveUsefulIDFor=function(e,t){this.reusefulIndexs[t].push(e)},e.prototype.add=function(e,t){if(t<this.type_undefined||t>this.type_imageData)console.error("ERROR: Undefined STM type!");else{var n=this.usefulIDFor(e,t);this.pools[t].push(n),this.tmpPool.push(e),this.__nativeObj.addObject(n,e,t)}},e.prototype.remove=function(e,t){if((t<this.type_undefined||t>this.type_imageData)&&console.error("ERROR: Undefined STM type!"),void 0!==e.__objID){var n=e.__objID;this.retrieveUsefulIDFor(n,t);var r=this.pools[t],o=r.indexOf(n);r.splice(o,1),this.__nativeObj.removeObject(n,t)}else console.error("retrieveUsefulID failed, undefined objID!")},e.prototype.removeAllTypedArrayIfNeed=function(){var e=this.pool_typedArray;if(e.length>12500){for(var t=0;t<e.length;t++)this.__nativeObj.removeObject(e[t],this.type_typedArray);e.splice(0,e.length)}},e.prototype.indexOf=function(e,t){if(void 0===e.__objID)return-1;void 0===t&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(t=this.type_typedArray);var n=e.__objID;return this.pools[t].indexOf(n)},e.prototype.captureIfNeed=function(e,t){void 0===t&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(t=this.type_typedArray),this.indexOf(e,t)<0&&this.add(e,t)}}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){e.isRemoteUrl=function(e){return/^https?:\/\//.test(e)},e.wrapLocalUrl=function(e){return/^GameRes:\/\//.test(e)?e:"GameRes://".concat(e.replace(/^\.*\//,""))},e.wrapSandBoxPath=function(e){return/^wxfile:\/\//.test(e)?e:"wxfile://".concat(e.replace(/^\.*\//,""))},e.extractFileNameFromUrl=function(e){var t=e.lastIndexOf("/");return-1==t&&(t=e.lastIndexOf("\\")),e.substr(t+1)},e.extractFilePathFromUrl=function(e){var t=0;t=e.startsWith("https")?e.substr(8).indexOf("/")+9:e.startsWith("http")?e.substr(7).indexOf("/")+8:e.indexOf("/")+1;var n=e.lastIndexOf("/");return"".concat(e.substring(t,n),"/")},e.getImgPath=function(t){var n;if(e.isRemoteUrl(t)){var r=e.extractFilePathFromUrl(t)+e.extractFileNameFromUrl(t);r.replace("/","#"),r.replace("\\","#"),n=e.wrapSandBoxPath("imageCache/".concat(e.imageDownloadDir,"/").concat(r))}else n=(0==t.indexOf("GameRes://")||t.indexOf("wxfile://"),t);return n},e.extractDir=function(e){var t;return 0==e.indexOf("wxfile://")&&(t=e.substr(0,e.lastIndexOf("/"))),t},e.getAudioPath=function(t){var n;if(e.isRemoteUrl(t)){var r=e.extractFileNameFromUrl(t);n=e.wrapSandBoxPath("download/audio/".concat(r))}else n=e.wrapLocalUrl(t);return n},e.isNumber=function(e){return!(!/^\d+(\.\d+)?$/.test(e)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(e))},e.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)}:null},e.colourNameToHex=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]},e.colorToRgba=function(e){"#"===e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in t)e==n&&(e=t[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(\.*\d*))\)$/,example:["rgba(123, 234, 45,12)","rgba(255,234,245,12)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})(\w{2})$/,example:["#00ff0000","33669900"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseFloat(e[4])]}}],o=0;o<r.length;o++){var i=r[o].re,a=r[o].process,s=i.exec(e);if(s){var c=a(s);this.r=c[0],this.g=c[1],this.b=c[2],this.a=c[3],this.a<=1&&(this.a*=255),this.ok=!0}}return this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toFloatColor=function(){return{r:(this.r+0)/255,g:(this.g+0)/255,b:(this.b+0)/255,a:(this.a+0)/255}},this.toFloatColor()},e.BufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.bufferLength()),n=new Uint8Array(t),r=0;r<e.bufferLength();)n[r++]=e.readUint8Buffer();return t};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.Base64ToArraybuffer=function(e){var t,r,o,i,a,s=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var f=new ArrayBuffer(s),l=new Uint8Array(f);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],o=n[e.charCodeAt(t+1)],i=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],l[u++]=r<<2|o>>4,l[u++]=(15&o)<<4|i>>2,l[u++]=(3&i)<<6|63&a;return f}}(n.__ttObjdec__)},function(e,t,n){var r=n(1),o=n(113),i=n(0);e.exports={canIUse:function(e){if("string"!=typeof e)return!1;e=e.split(".");var t=i.getCanIUseConfig(),n=o(e),a=n[0],s=n[1],c=n[2],u=n[3],f=n.slice(4);return!(f&&f.length>0)&&(!(!a||!t[a])&&(!s||Object.keys(t[a]).filter((function(e){return!!t[a][e][s]&&(!c||t[a][e][s].filter((function(e){return"string"==typeof e&&e===c&&!u||!("object"!==r(e)||!e[c])&&(!u||(Array.isArray(e[c])||(e[c]=[e[c]]),e[c].indexOf(u)>-1))})).length>0)})).length>0))}}},function(e,t,n){var r=n(53),o=n(50),i=n(35),a=n(54);e.exports=function(e){return r(e)||o(e)||i(e)||a()}},function(e,t,n){var r=n(3);n(32),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(127),n(128),n(129),n(131),n(55),n(132),n(56),n(133),n(134),n(136),n(137),n(138),n(139),r.isAndroid?(n(31),n(140),n(57),n(58),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149)):(n(58),n(57),n(150),n(151))},function(e,t,n){var r=n(0);r.normalAPIMutations({showLoading:{toNativeEventName:"showLoading",paramHandlers:function(e,t){if(!r.parameterMustBe(e[0],"Object")||r.parameterMustBe(e[0].title,"Undefined")||r.parameterMustBe(e[0].title,"String"))return e[0]||{};var n="showLoading:fail parameter error: parameter.title should be String instead of ".concat(r.getTypeStr(e[0].title),";");console.error(n),r.parameterMustBe(e[0].fail,"Function")&&e[0].fail(n),r.parameterMustBe(e[0].complete,"Function")&&e[0].complete(n)},invokeBefore:function(e,t,n,r){if(void 0===t)return!0}}}),r.normalAPIMutations({showActionSheet:{toNativeEventName:"showActionSheet",paramHandlers:function(e,t){if(!r.parameterMustBe(e[0],"Object")&&(e[0]={}),r.parameterMustBe(e[0].itemList,"Undefined")&&(e[0].itemList=[]),!r.parameterMustBe(e[0].itemList,"Array")){var n="showActionSheet:fail parameter error: parameter.itemList should be Array instead of ".concat(r.getTypeStr(e[0].itemList),";");return console.error(n),r.parameterMustBe(e[0].fail,"Function")&&e[0].fail(n),void(r.parameterMustBe(e[0].complete,"Function")&&e[0].complete(n))}if(e[0].itemList.length<=0||e[0].itemList.length>6){n="";return n=e[0].itemList.length>6?"showActionSheet:fail parameter error: parameter.itemList should not have more than 6 item;":"showActionSheet:fail parameter error: parameter.itemList should have at least 1 item;",console.error(n),r.parameterMustBe(e[0].fail,"Function")&&e[0].fail(n),void(r.parameterMustBe(e[0].complete,"Function")&&e[0].complete(n))}if(!r.parameterMustBe(e[0].itemList[0],"String")){n="showActionSheet:fail parameter error: parameter.itemList[0] should be String instead of ".concat(r.getTypeStr(e[0].itemList[0]),";");return console.error(n),r.parameterMustBe(e[0].fail,"Function")&&e[0].fail(n),void(r.parameterMustBe(e[0].complete,"Function")&&e[0].complete(n))}for(var o=0;o<e[0].itemList.length;o++)if(!r.parameterMustBe(e[0].itemList[o],"String"))try{e[0].itemList[o]=JSON.stringify(e[0].itemList[o])}catch(e){}return e[0]},invokeBefore:function(e,t,n,r){if(void 0===t)return!0}}}),r.normalAPIMutations("hideToast"),r.normalAPIMutations("hideLoading"),r.normalAPIMutations({showToast:{canIUse:{"1.0.0":{}},toNativeEventName:"showToast",paramHandlers:function(e,t){var n=e[0];return void 0===n.icon&&(n.icon="success"),void 0===n.duration&&(n.duration=1500),void 0===n.mask&&(n.mask=!1),n}}}),r.normalAPIMutations({showModal:{canIUse:{"1.0.0":{}},toNativeEventName:"showModal",paramHandlers:function(e,t){var n=e[0];return void 0===n.showCancel&&(n.showCancel=!0),void 0===n.cancelText&&(n.cancelText="取消"),void 0===n.cancelColor&&(n.cancelColor="#000000"),void 0===n.confirmText&&(n.confirmText="确定"),void 0===n.confirmColor&&(n.confirmColor="#576B95"),n}}}),r.addCanIUseConfig("showToast",{"1.0.0":{object:["title",{icon:["success","loading","none"]},"image","duration","mask"],success:[]}}),r.addCanIUseConfig("showLoading",{"1.0.0":{success:[],object:["title","mask"]}}),r.addCanIUseConfig("showModal",{"1.0.0":{success:["confirm","cancel"],object:["title","content","showCancel","cancelText","cancelColor","confirmText","confirmColor"]}}),r.addCanIUseConfig("showActionSheet",{"1.0.0":{success:["tapIndex"],object:["itemList","itemColor"]}}),r.addCanIUseConfig("showActionSheet",{"1.0.0":{success:["tapIndex"],object:["itemList","itemColor"]}}),r.addCanIUseConfig("hideToast",{"1.0.0":{success:[]}}),r.addCanIUseConfig("hideLoading",{"1.0.0":{success:[]}})},function(e,t,n){var r=n(0),o=n(3),i="undefined"!=typeof window&&window.WeixinJSBridge||n(2);r.normalAPIMutations([{setEnableDebug:{canIUse:{"1.3.0":{success:[],object:["enableDebug"]}},toNativeEventName:"setEnableDebug"}}]),o.isAndroid&&(r.normalAPIMutations({timePerformanceResult:{toNativeEventName:"timePerformanceResult",paramHandlers:function(e){return{id:e[1],result:e[0]}}}}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},private:1,bindAPIName:"registerProfile",toNativeEventName:"onProfileCmd",onBeforeBind:function(){i.invokeHandler("registerProfile",{})}}))},function(e,t,n){var r=n(1),o=n(0);function i(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("object"!==r(e))return e;var n=[];for(var o in e)if(e.hasOwnProperty(o))if(t)try{n.push("".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(e[o])))}catch(t){n.push("".concat(o,"=").concat(e[o]))}else n.push("".concat(o,"=").concat(e[o]));return n.join("&")}function a(e,t){try{if("string"==typeof e&&"object"===r(t)&&null!==t&&0<Object.keys(t).length){var n=e.split("?");return"".concat(n[0],"?").concat(i(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})}((n[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e}),{}),Object.keys(t).reduce((function(e,n){return"object"===r(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{}))))}}catch(e){console.warn("parseGetUrl:".concat(e))}return e}var s=["tcb-api.tencentcloudapi.com","api-report.q.qq.com","q.qq.com"];function c(e,t){var n,o=u(e.header);"Undefined"!==o&&"Object"!==o&&console.warn("wx.request: header must be an object"),e.header=e.header||{},e.header=(n=e.header,Object.keys(n).reduce((function(e,t){return"string"==typeof n[t]?e[t]=n[t]:"number"==typeof n[t]?e[t]="".concat(n[t]):e[t]=Object.prototype.toString.apply(n[t]),e}),{})),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{});var c="text";e.responseType&&(c=e.responseType.toLowerCase());var f="GET";"string"==typeof e.method&&(f=e.method.toUpperCase()),e.dataType=e.dataType||"json";var l,p=e.header;if(p["content-type"]=p["content-type"]||"application/json",void 0===e.data)l="";else try{l="string"!=typeof e.data&&"ArrayBuffer"!==u(e.data)?"POST"===f&&-1<p["content-type"].indexOf("application/x-www-form-urlencoded")?i(e.data,1):-1<p["content-type"].indexOf("application/json")||"object"===r(e.data)?JSON.stringify(e.data):e.data.toString():e.data}catch(e){console.warn("processRequestParams: ".concat(e))}"GET"==f&&(e.url=a(e.url,e.data));var m=e.url.match(/^https?:\/\/([^\/\?]*)[\/\?]?/i),d=m?m[1]:"";"GET"===f&&d&&-1!==s.indexOf(d)&&-1!==e.url.indexOf("_wnscgi=1")&&(e.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/".concat(e.url.replace(/^https?:\/\//i,"")),t.tempParams={toNativeEventName:"wnsCgiRequest",invokeObj:{invokeAfter:null}});try{return Object.assign({},e,{header:p,method:f,responseType:c,data:l})}catch(e){console.warn("error parse wx.reqeust :".concat(e.message))}}function u(e){return Object.prototype.toString.call(e).slice(8,-1)}o.normalAPIMutations({request:{canIUse:{"1.0.0":{object:["url","data","header",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]},"dataType",{responseType:["text","arraybuffer"]}],success:["data","statusCode","header"]}},toNativeEventName:"createRequestTask",paramHandlers:function(e,t){return c(e[0],t)},invokeAfter:function(e,t,n,r){if(n&&null!=(null==e?void 0:e.errMsg)){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("request illegal host:".concat(t.url));var o=t;null!=o.fail&&setTimeout((function(){o.fail(e)}),0)}},subscribeEventListener:{subscribeEventName:"onRequestTaskStateChange",callback:function(e,t,n){var r=e[0];if(null==r)return!1;if(n.requestTaskId!=t.requestTaskId)return!1;if(t.data&&e[0]&&"json"===e[0].dataType)try{"string"==typeof t.data&&(t.data=JSON.parse(t.data))}catch(e){}if(t.header)try{"string"==typeof t.header&&(t.header=JSON.parse(t.header))}catch(e){console.warn("onRequestTaskStateChange 解析header出现异常",e)}return"success"==t.state?(null!=r.success&&r.success(t),null!=r.complete&&r.complete(t),!0):"fail"==t.state&&(null!=r.fail&&r.fail(t),null!=r.complete&&r.complete(t),!0)}},createObj:{createObjectBefore:function(e,t,n,r){if(null!=n){if("string"==typeof n)try{n=JSON.parse(n)}catch(e){console.warn("request 解析parentInvokeResult出现异常",e)}var o=n.requestTaskId;null==o&&console.warn("requestTaskId is undefined!!!!!!"),e.requestTaskId=o,r.requestTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateRequestTask",paramHandlers:function(e,t){return{requestTaskId:t.requestTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){if(null==e)return!1;if(e.requestTaskId!=t.requestTaskId)return!0;var n=t.state;return null==n||"headersReceived"!=n||e.requestTaskId!==t.requestTaskId},toNativeEventName:"onRequestTaskStateChange"}]}}}),o.normalAPIMutations({uploadFile:{canIUse:{"1.0.0":{object:["url","filePath","name","header","formData"],success:["data","statusCode"]}},toNativeEventName:"createUploadTask",invokeAfter:function(e,t,n,r){if(n&&null!=(null==e?void 0:e.errMsg)){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("uploadFile illegal host:".concat(t.url));var o=t;null!=o.fail&&setTimeout((function(){o.fail(e)}),0)}},subscribeEventListener:{subscribeEventName:"onUploadTaskStateChange",callback:function(e,t,n){var r=e[0];return null==r||n.uploadTaskId==t.uploadTaskId&&void("success"==t.state?(null!=r.success&&r.success(t),null!=r.complete&&r.complete()):"fail"==t.state&&(null!=r.fail&&r.fail(t),null!=r.complete&&r.complete()))}},createObj:{invokeAfter:function(e,t,n,r){if(n)return e},createObjectBefore:function(e,t,n,r){if(null!=n){if("string"==typeof n)try{n=JSON.parse(n)}catch(e){console.warn("uploadFile 解析parentInvokeResult出现异常",e)}var o=n.uploadTaskId;null==o&&console.warn("uploadTaskId is undefined!!!!!!"),e.uploadTaskId=o,r.uploadTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateUploadTask",paramHandlers:function(e,t){return{uploadTaskId:t.uploadTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){var n=t.state;return null==n||"headersReceived"!=n||e.uploadTaskId!==t.uploadTaskId},paramHandlers:function(e){return e.header},toNativeEventName:"onUploadTaskStateChange"},{bindAPIName:"onProgressUpdate",offAPIName:"offProgressUpdate",triggerEventBefore:function(e,t){if(null==e)return!0;var n=t.state;return null==n||"progressUpdate"!=n||e.uploadTaskId!==t.uploadTaskId},toNativeEventName:"onUploadTaskStateChange"}]}}})},function(e,t,n){var r=n(1),o=n(0),i=n(6),a=(n(3),i.normalAPIFactory([{statSync:{toNativeEventName:"statSync",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,n,r){return void 0!==e.mode?new s(e):e.stats?new s(e.stats):null}}}]));function s(e){this.mode=e.mode,this.size=e.size,this.lastAccessedTime=e.lastAccessedTime,this.lastModifiedTime=e.lastModifiedTime}function c(e,t,n,o){if(n){if("object"!==r(e))throw new Error("unkonw error");if(e.errMsg&&-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg)}}function u(e){if(!e)return e;var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}function f(e,t,n){if(n=n||"","object"!==r(e))throw new Error("".concat(n,":fail parameter error: parameter should be Object instead of ").concat(u(e),";"));var o=e[t];if("string"!=typeof o)throw new Error("".concat(n,":fail parameter error: parameter.").concat(t," should be String instead of ").concat(u(o),";"));return e}function l(e,t){if(t=t||"","string"!=typeof e)throw new Error("".concat(t,":fail parameter error: parameter should be String instead of ").concat(u(e),";"));return e}s.prototype.isDirectory=function(){return 16384==(61440&this.mode)},s.prototype.isFile=function(){return 32768==(61440&this.mode)},o.normalAPIMutations({getFileSystemManager:{canIUse:{"1.0.0":{}},createObj:{createObjectBefore:function(e,t,n){e.fileManagerId=n},normalAPI:[{access:{toNativeEventName:"access",paramHandlers:function(e,t){return f(e[0],"path","access")}},accessSync:{toNativeEventName:"accessSync",paramHandlers:function(e,t){return e[0]=l(e[0],"accessSync"),{path:e[0]}},invokeAfter:c},mkdir:{toNativeEventName:"mkdir",paramHandlers:function(e,t){return f(e[0],"dirPath","mkdir")}},mkdirSync:{toNativeEventName:"mkdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"mkdirSync"),{dirPath:e[0],recursive:e[1]}},invokeAfter:c},readdir:{toNativeEventName:"readdir",paramHandlers:function(e,t){return f(e[0],"dirPath","readdir")}},readdirSync:{toNativeEventName:"readdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"readdirSync"),{dirPath:e[0]}},invokeAfter:function(e,t,n,r){if(n){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.files}return e}},writeFile:{toNativeEventName:"writeFile",paramHandlers:function(e,t){return!e[0]||"utf-8"!=e[0].encoding&&e[0].encoding||(e[0].encoding="utf8"),f(e[0],"filePath","writeFile")}},writeFileSync:{toNativeEventName:"writeFileSync",paramHandlers:function(e,t){return"utf-8"!=e[2]&&e[2]||(e[2]="utf8"),e[0]=l(e[0],"writeFileSync"),{filePath:e[0],data:e[1],encoding:e[2]}},invokeAfter:c},rename:{toNativeEventName:"fs_rename",paramHandlers:function(e,t){return e[0]=f(e[0],"oldPath","rename"),f(e[0],"newPath","rename")}},renameSync:{toNativeEventName:"fs_renameSync",paramHandlers:function(e,t){return e[0]=l(e[0],"renameSync"),e[1]=l(e[1],"renameSync"),{oldPath:e[0],newPath:e[1]}},invokeAfter:c},rmdir:{toNativeEventName:"rmdir",paramHandlers:function(e,t){return f(e[0],"dirPath","rmdir")}},rmdirSync:{toNativeEventName:"rmdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"rmdirSync"),{dirPath:e[0],recursive:e[1]}},invokeAfter:c},copyFile:{toNativeEventName:"fs_copyFile",paramHandlers:function(e,t){return e[0]=f(e[0],"srcPath","copyFile"),f(e[0],"destPath","copyFile")}},copyFileSync:{toNativeEventName:"fs_copyFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"copyFileSync"),e[1]=l(e[1],"copyFileSync"),{srcPath:e[0],destPath:e[1]}},invokeAfter:c},appendFile:{toNativeEventName:"fs_appendFile",paramHandlers:function(e,t){return f(e[0],"filePath","appendFile")}},appendFileSync:{toNativeEventName:"fs_appendFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"appendFileSync"),{filePath:e[0],data:e[1],encoding:e[2]}},invokeAfter:c},getSavedFileList:{toNativeEventName:"getSavedFileList",paramHandlers:function(e,t){return e[0]}},readFile:{toNativeEventName:"readFile",paramHandlers:function(e,t){return e[0]&&"utf-8"==e[0].encoding&&(e[0].encoding="utf8"),f(e[0],"filePath","readFile")}},readFileSync:{toNativeEventName:"readFileSync",paramHandlers:function(e,t){return"utf-8"==e[1]&&(e[1]="utf8"),e[0]=l(e[0],"readFileSync"),{filePath:e[0],encoding:e[1]}},invokeAfter:function(e,t,n,r){if(n){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.__nativeBuffers__?e.__nativeBuffers__:e.data?e.data:void 0}}},saveFile:{toNativeEventName:"saveFile",paramHandlers:function(e,t){return f(e[0],"tempFilePath","saveFile")}},saveFileSync:{toNativeEventName:"saveFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"saveFileSync"),e.length>=2&&(e[1]=l(e[1],"saveFileSync")),{tempFilePath:e[0],filePath:e[1]}},invokeAfter:function(e,t,n,r){if(n){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.savedFilePath}}},stat:{toNativeEventName:"stat",paramHandlers:function(e,t){return f(e[0],"path","stat")},invokeAfter:function(e,t,n,r){if(!n){if(e.errMsg.indexOf(":fail")>-1)return{errMsg:e.errMsg};if(e.stats||void 0===e.mode)if(e.stats&&void 0!==e.stats.mode)e.stats=new s(e.stats);else{var o=[],i=e.stats||e;if(!i[""]){var c=a.statSync({path:t.path,recursive:!1});o.push({path:"/",stats:c})}Object.keys(i).forEach((function(e){if("errMsg"!==e){var t=i[e];o.push({path:e,stats:new s(t)}),delete i[e]}})),e.stats=o}else e.stats=new s(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;return e}}},statSync:{toNativeEventName:"statSync",paramHandlers:function(e,t){return e[0]=l(e[0],"statSync"),{path:e[0],recursive:e[1]}},invokeAfter:function(e,t,n,r){if(n){if(e.errMsg.indexOf(":fail")>-1)throw new Error(e.errMsg);if(e.stats||void 0===e.mode)if(e.stats&&void 0!==e.stats.mode)e.stats=new s(e.stats);else{var o=[],i=e.stats||e;if(!i["/"]){var c=a.statSync({path:t.path,recursive:!1});c&&o.push({path:"/",stats:c})}Object.keys(i).forEach((function(e){if("errMsg"!==e){var t=i[e];o.push({path:e,stats:new s(t)}),delete i[e]}})),e.stats=o}else e.stats=new s(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;return e.stats}}},unlink:{toNativeEventName:"unlink",paramHandlers:function(e,t){return f(e[0],"filePath","unlink")}},unlinkSync:{toNativeEventName:"unlinkSync",paramHandlers:function(e,t){return e[0]=l(e[0],"unlinkSync"),{filePath:e[0]}},invokeAfter:c},removeSavedFile:{toNativeEventName:"removeSavedFile",paramHandlers:function(e,t){return f(e[0],"filePath","removeSavedFile")}},unzip:{toNativeEventName:"unzip",paramHandlers:function(e,t){return e[0]=f(e[0],"zipFilePath","unzip"),f(e[0],"targetPath","unzip")}},getFileInfo:{toNativeEventName:"getFileInfo",paramHandlers:function(e,t){return f(e[0],"filePath","getFileInfo")},invokeAfter:function(e,t,n,r){if(!n){var o={};return o.size=e.size,e.fileSize&&(o.size=e.fileSize),o.digest=e.digest,o.errMsg=e.errMsg,o}}}}]}}}),o.normalAPIMutations({getFileInfo:{canIUse:{"1.8.0":{}},toNativeEventName:"getFileInfo",paramHandlers:function(e,t){return e[0]=f(e[0],"filePath","getFileInfo"),t.originParams=e[0],e[0]},invokeBefore:function(e,t,n,r){var o=(t=JSON.parse(t)).digestAlgorithm;if(void 0!==o&&-1===["md5","sha1"].indexOf(o)){var i;console.error("illegal param digestAlgorithm : ".concat(o));var a=r.originParams;return null==a||null===(i=a.fail)||void 0===i||i.call(a,"illegal param digestAlgorithm"),!0}},invokeAfter:function(e,t,n,r){return e}}})},function(e,t,n){var r=n(0),o=n(3),i=n(2);r.normalAPIMutations({getNetworkType:{canIUse:{"1.0.0":{success:[{networkType:["wifi","2g","3g","4g","unknown","none"]}]}},toNativeEventName:"getNetworkType"},getBatteryInfo:{canIUse:{"1.0.0":{success:["level","isCharging"]}},toNativeEventName:"getBatteryInfo"},setClipboardData:{canIUse:{"1.0.0":{success:[],object:["data"]}},toNativeEventName:"setClipboardData"},getClipboardData:{canIUse:{"1.0.0":{success:["data"]}},toNativeEventName:"getClipboardData"},setScreenBrightness:{canIUse:{"1.0.0":{success:[],object:["value"]}},toNativeEventName:"setScreenBrightness"},setKeepScreenOn:{canIUse:{"1.0.0":{success:[],object:["keepScreenOn"]}},toNativeEventName:"setKeepScreenOn"},getScreenBrightness:{canIUse:{"1.0.0":{success:["value"]}},toNativeEventName:"getScreenBrightness"},stopAccelerometer:{canIUse:{"1.0.0":{success:["value"]}},toNativeEventName:"enableAccelerometer",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startAccelerometer:{canIUse:{"1.0.0":{success:["value"],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableAccelerometer",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopCompass:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableCompass",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startCompass:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableCompass",paramHandlers:function(e,t){return{enable:!0,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopDeviceMotionListening:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableDeviceMotionChangeListening",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startDeviceMotionListening:{canIUse:{"1.0.0":{success:[],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableDeviceMotionChangeListening",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopGyroscope:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableGyroscope",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startGyroscope:{canIUse:{"1.0.0":{success:[],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableGyroscope",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},vibrateShort:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"vibrateShort"},vibrateLong:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"vibrateLong"}}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["isConnected",{networkType:["wifi","2g","3g","4g","unknown","none"]}]}},bindAPIName:"onNetworkStatusChange",toNativeEventName:"onNetworkStatusChange",onBeforeBind:function(){o.isAndroid&&i.invokeHandler("onNetworkStatusChange",{})}}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:[{value:["portrait","landscape","landscapeReverse"]}]}},bindAPIName:"onDeviceOrientationChange",toNativeEventName:"onDeviceOrientationChange",offAPIName:"offDeviceOrientationChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["x","y","z"]}},bindAPIName:"onAccelerometerChange",toNativeEventName:"onAccelerometerChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["direction","accuracy"]}},bindAPIName:"onCompassChange",toNativeEventName:"onCompassChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["alpha","beta","gamma"]}},bindAPIName:"onDeviceMotionChange",toNativeEventName:"onDeviceMotionChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["x","y","z"]}},bindAPIName:"onGyroscopeChange",toNativeEventName:"onGyroscopeChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:[{level:["5","10","15"]}]}},bindAPIName:"onMemoryWarning",toNativeEventName:"onMemoryWarning",onBeforeBind:function(){o.isAndroid&&i.invokeHandler("onMemoryWarning",{})}}),r.normalAPIMutations({getMenuButtonBoundingClientRect:{canIUse:{"1.0.0":{return:["width","height","top","right","bottom","left"]}},toNativeEventName:"getMenuButtonBoundingClientRect"}}),o.isAndroid&&(r.normalAPIMutations({getBatteryInfoSync:{toNativeEventName:"getBatteryInfoSync"}}),r.bindAPIMutations({canIUse:{"1.11.0":{callback:[]}},bindAPIName:"onUserCaptureScreen",toNativeEventName:"onUserCaptureScreen",onBeforeBind:function(){o.isAndroid&&i.invokeHandler("onUserCaptureScreen",{})}}))},function(e,t,n){n(0).normalAPIMutations({triggerGC:{toNativeEventName:"triggerGC"}})},function(e,t,n){var r=n(0),o=function(e,t,n){return n.state!=e||t.socketTaskId!=n.socketTaskId},i=new Array;r.normalAPIMutations({connectSocket:{canIUse:{"1.0.0":{object:["url","header","protocols","tcpNoDelay"],success:[]}},toNativeEventName:"createSocketTask",createObj:{createObjectBefore:function(e,t,n,r){i.length>5&&null!=t.fail&&t.fail({errMsg:"最多可以同时存在 5 个 WebSocket 连接"}),""===n.errMsg||n.errMsg&&n.errMsg.indexOf("createSocketTask:ok")>-1?(null==n.socketTaskId&&console.warn("socketTaskId is undefined!!!!!!"),r.socketTaskId=parseInt(n.socketTaskId),e.socketTaskId=parseInt(n.socketTaskId)):null!=t.fail&&t.fail(n)},createObjectAfter:function(e,t,n,r){(""===n.errMsg||n.errMsg&&n.errMsg.indexOf("createSocketTask:ok")>-1)&&i.push(r)},normalAPI:[{close:{toNativeEventName:"operateSocketTask",paramHandlers:function(e,t){return null!=e[0]&&(e=e[0]),null==e.code&&(e.code=1e3),null==e.reason&&(e.reason=""),e.operationType="close",e.socketTaskId=t.socketTaskId,e},invokeAfter:function(e,t,n,r){return function(e,t){for(var n=-1,r=0;r<e.length;r++)if(e[r].socketTaskId===t){n=r;break}n>-1&&e.splice(n,1)}(i,r.socketTaskId),e}}},{send:{toNativeEventName:"operateSocketTask",paramHandlers:function(e,t){return null==e[0].data&&(e[0].data=""),e[0].operationType="send",e[0].socketTaskId=t.socketTaskId,e[0]}}}],bindEventAPI:[{bindAPIName:"onOpen",triggerEventBefore:function(e,t){return o("open",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onClose",triggerEventBefore:function(e,t){return o("close",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onMessage",triggerEventBefore:function(e,t){return o("message",e,t)},toNativeEventName:"onSocketTaskStateChange"}]}}}),r.normalAPIMutations({closeSocket:{canIUse:{"1.0.0":{object:["code","reason"],success:[]}},paramHandlers:function(e){null!=i[0]&&i[0].close(e[0])}}}),r.normalAPIMutations({sendSocketMessage:{canIUse:{"1.0.0":{object:["data"],success:[]}},paramHandlers:function(e){null!=i[0]&&i[0].send(e[0])}}}),r.bindAPIMutations({bindAPIName:"onSocketOpen",canIUse:{"1.0.0":{callback:["header"]}},triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"open"!=t.state)},toNativeEventName:"onSocketTaskStateChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onSocketError",triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"error"!=t.state)},toNativeEventName:"onSocketTaskStateChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onSocketClose",triggerEventBefore:function(e,t){return"close"!=t.state},toNativeEventName:"onSocketTaskStateChange"}),r.bindAPIMutations({canIUse:{"1.0.0":{callback:["data"]}},bindAPIName:"onSocketMessage",triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"message"!=t.state)},toNativeEventName:"onSocketTaskStateChange"})},function(e,t,n){n(0).normalAPIMutations({downloadFile:{canIUse:{"1.0.0":{success:["tempFilePath","statusCode"],object:["url","header","filePath"]}},toNativeEventName:"createDownloadTask",invokeAfter:function(e,t,n,r){if(n&&null!=(null==e?void 0:e.errMsg)){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("downloadFile illegal host:".concat(t.url));var o=t;null!=o.fail&&setTimeout((function(){o.fail(e)}),0)}},subscribeEventListener:{subscribeEventName:"onDownloadTaskStateChange",callback:function(e,t,n){var r=e[0];return null==r||n.downloadTaskId==t.downloadTaskId&&void("success"==t.state?(null!=r.success&&r.success(t),null!=r.complete&&r.complete()):"fail"==t.state&&(null!=r.fail&&r.fail(t),null!=r.complete&&r.complete()))}},createObj:{createObjectBefore:function(e,t,n,r){if(null!=n){if("string"==typeof n){try{n=JSON.parse(n)}catch(e){console.warn("downloadFile 解析parentInvokeResult出现异常",e)}return n}var o=n.downloadTaskId;null==o&&console.warn("downloadTaskId is undefined!!!!!!"),e.downloadTaskId=o,r.downloadTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateDownloadTask",paramHandlers:function(e,t){return{downloadTaskId:t.downloadTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){if(null==e)return!0;var n=t.state;return null==n||"headersReceived"!=n||e.downloadTaskId!==t.downloadTaskId},toNativeEventName:"onDownloadTaskStateChange"},{bindAPIName:"onProgressUpdate",offAPIName:"offProgressUpdate",triggerEventBefore:function(e,t){if(null==e)return!0;var n=t.state;return null==n||"progressUpdate"!=n||e.downloadTaskId!==t.downloadTaskId},toNativeEventName:"onDownloadTaskStateChange"}]}}})},function(e,t,n){var r=n(1),o=n(0),i=n(3);function a(e){return"Object"==e.dataType||"Array"==e.dataType?e.data=JSON.parse(e.data):"Boolean"==e.dataType?e.data=Boolean(e.data):"Number"==e.dataType?e.data=Number(e.data):"Date"==e.dataType?e.data=new Date(e.data):"Null"==e.dataType&&(e.data=null),delete e.dataType,e}o.normalAPIMutations({setStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"setStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("setStorageSync:fail parameter error: parameter should be String instead of Undefined;");if(e.length>1){var n={key:e[0],data:e[1]};return i.isAndroid&&(n.dataType=o.getTypeStr(e[1])),n}return e[0]},invokeAfter:function(e,t,n,o){if(n){if("object"!==r(e))throw new Error("unkonw error");if(e.errMsg&&-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg)}}}}),o.normalAPIMutations({setStorage:{canIUse:{"1.0.0":{object:["key","data"],success:[]}},toNativeEventName:"setStorage",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].key)throw new Error("setStorage:fail parameter error: parameter.key should be String instead of Undefined;");return i.isAndroid&&(e[0].dataType=o.getTypeStr(e[0].data)),e[0]}}}),o.normalAPIMutations({removeStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"removeStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("removeStorageSync:fail parameter error: parameter should be String instead of Undefined;");return{key:e[0]}}}}),o.normalAPIMutations({removeStorage:{canIUse:{"1.0.0":{object:["key"],success:[]}},toNativeEventName:"removeStorage",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].key)throw new Error("removeStorage:fail parameter error: parameter.key should be String instead of Undefined;");return e[0]}}}),o.normalAPIMutations({getStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"getStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("getStorageSync:fail parameter error: parameter should be String instead of Undefined;");return{key:e[0]}},invokeAfter:function(e,t,n,r){if(n){if("getStorageSync:ok"==e.errMsg)if(i.isAndroid)try{e=a(e).data}catch(e){console.error("getStorageSync convertStorageData4Android error:".concat(JSON.stringify(e)))}else e=e.data;else e=void 0;return void 0===e&&(e=""),e}}}}),o.normalAPIMutations({getStorageInfoSync:{canIUse:{"1.0.0":{return:["keys","currentSize","limitSize"]}},toNativeEventName:"getStorageInfoSync",invokeAfter:function(e,t,n,r){if(n)return e}}}),o.normalAPIMutations({getStorage:{canIUse:{"1.0.0":{object:["key"],success:["data"]}},toNativeEventName:"getStorage",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].key)throw new Error("getStorage:fail parameter error: parameter.key should be String instead of Undefined;");return e[0]},invokeAfter:function(e,t,n,r){if(e&&"getStorage:ok"==e.errMsg&&i.isAndroid)try{e=a(e)}catch(e){console.error("getStorage convertStorageData4Android error:".concat(JSON.stringify(e)))}return e}}}),o.normalAPIMutations("getStorageInfo"),o.normalAPIMutations("clearStorageSync"),o.normalAPIMutations("clearStorage"),o.addCanIUseConfig("getStorageInfo",{"1.0.0":{success:["keys","currentSize","limitSize"]}}),o.addCanIUseConfig("clearStorageSync",{"1.0.0":{}}),o.addCanIUseConfig("clearStorage",{"1.0.0":{success:[]}})},function(e,t,n){var r=n(1),o=n(0);o.normalAPIMutations({openSetting:{canIUse:{"1.0.0":{success:["authSetting"]}},toNativeEventName:"openSetting",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,n,o){if(!n){if(e&&"object"===r(e)&&"string"==typeof e.errMsg)if("openSetting:ok"===e.errMsg&&t&&"object"===r(t)){if(t.success&&"function"==typeof t.success){var i={};for(var a in e.authSetting){var s=!1;1==e.authSetting[a].state&&(s=!0),i[e.authSetting[a].scope]=s}e.authSetting=i,t.success(e)}}else if(0==e.errMsg.indexOf("openSetting:fail")&&t&&"object"===r(t)){var c=e.errMsg.slice("openSetting:fail".length);t.fail&&"function"==typeof t.fail&&t.fail(c)}t&&"object"===r(t)&&t.complete&&"function"==typeof t.complete&&t.complete(e)}}}}),o.normalAPIMutations({getSetting:{canIUse:{"1.0.0":{success:["authSetting"]}},toNativeEventName:"getSetting",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,n,r){if(!n){var o={};for(var i in e.authSetting){var a=!1;1==e.authSetting[i].state&&(a=!0),o[e.authSetting[i].scope]=a}return e.authSetting=o,e}}}})},function(e,t,n){n(0).normalAPIMutations({chooseImage:{canIUse:{"1.0.0":{success:["tempFilePaths",{tempFiles:["path","size"]}],object:["count",{sizeType:["original","compressed"]},{sourceType:["album","camera"]}]}},toNativeEventName:"chooseImage",paramHandlers:function(e,t){return null==e[0].sourceType&&(e[0].sourceType=["album","camera"]),null==e[0].sizeType&&(e[0].sizeType=["original","compressed"]),e[0]}},previewImage:{canIUse:{"1.0.0":{success:[],object:["urls","current"]}},toNativeEventName:"previewImage",paramHandlers:function(e,t){return e[0]}},saveImageToPhotosAlbum:{canIUse:{"1.0.0":{success:[],object:["filePath"]}},toNativeEventName:"saveImageToPhotosAlbum",paramHandlers:function(e,t){return e[0]}}})},function(e,t,n){var r=n(0),o=1e4;var i=function(e,t,n){return!(n.state==e&&t.videoPlayerId==n.videoPlayerId)},a="undefined"==typeof Promise?n(52).Promise:Promise;function s(e,t){if(t.isDestroy)console.error("fail: video is destroyed");else if(!t.videoPromiseCallBackMap.has(e.type))return new a((function(n,r){t.videoPromiseCallBackMap.set(e.type,(function(e){"operateVideoPlayer:ok"===e.errMsg?n(e):r(e)}))}))}var c=function(e,t,n,r){if(n)return s(t,r);!function(e,t,n){var r=n.videoPromiseCallBackMap.get(e.type);r&&(r(t),n.videoPromiseCallBackMap.delete(e.state))}(t,e,r)};r.normalAPIMutations({createVideo:{canIUse:{"1.0.0":{object:["x","y","width","height","src","poster","initialTime","playbackRate","live",{objectFit:["fill","contain","cover"]},"controls","autoplay","loop","muted","enableProgressGesture","showCenterPlayBtn"]}},toNativeEventName:"insertVideoPlayer",paramHandlers:function(e,t){return e[0].videoPlayerId=++o,1!=e[0].muted&&(e[0].muted=!1),e[0]},createObj:{createObjectBefore:function(e,t,n,r){(e=Object.assign(e,t)).videoPromiseCallBackMap=new Map},createObjectAfter:function(e,t,n,r){t.src&&(r.src=t.src)},normalAPI:[{play:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"play",videoPlayerId:t.videoPlayerId}},invokeAfter:c}},{pause:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"pause",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,n,r){if(n)return s(t,r)}}},{stop:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"stop",videoPlayerId:t.videoPlayerId}},invokeAfter:c}},{seek:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"seek",videoPlayerId:t.videoPlayerId,time:e[0]||0,data:[e[0]||0]}},invokeAfter:c}},{destroy:{toNativeEventName:"removeVideoPlayer",paramHandlers:function(e,t){return{type:"destroy",videoPlayerId:t.videoPlayerId}}}},{requestFullScreen:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"requestFullScreen",videoPlayerId:t.videoPlayerId}},invokeAfter:c}},{exitFullScreen:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"exitFullScreen",videoPlayerId:t.videoPlayerId}},invokeAfter:c}}],bindEventAPI:[{bindAPIName:"onPlay",triggerEventBefore:function(e,t){return i("play",e,t)},offAPIName:"offPlay",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onPause",triggerEventBefore:function(e,t){return i("pause",e,t)},offAPIName:"offPause",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onEnded",triggerEventBefore:function(e,t){return i("ended",e,t)},offAPIName:"offEnded",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onWaiting",triggerEventBefore:function(e,t){return i("waiting",e,t)},offAPIName:"offWaiting",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onTimeUpdate",triggerEventBefore:function(e,t){return i("timeUpdate",e,t)},offAPIName:"offTimeUpdate",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return i("error",e,t)},offAPIName:"offError",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onRequestFullScreen",triggerEventBefore:function(e,t){return i("requestFullScreen",e,t)},offAPIName:"offRequestFullScreen",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onExitFullScreen",triggerEventBefore:function(e,t){return i("exitFullScreen",e,t)},offAPIName:"offExitFullScreen",toNativeEventName:"onVideoStateChange"}],propertys:[{name:"x",get:function(e,t){return null==e&&null!=t.x?t.x:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,x:e}}}},{name:"y",get:function(e,t){return null==e&&null!=t.y?t.y:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,y:e}}}},{name:"width",get:function(e,t){return null==e&&null!=t.width?t.width:e},setInvoke:function(e,t){return e<0&&(e=300),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,width:e}}}},{name:"height",get:function(e,t){return null==e&&null!=t.height?t.height:e},setInvoke:function(e,t){return e<0&&(e=150),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,height:e}}}},{name:"src",get:function(e,t){return null==e&&null!=t.src?t.src:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,src:e,filePath:e}}}},{name:"initialTime",get:function(e,t){return null==e&&null!=t.initialTime?t.initialTime:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,initialTime:e}}}},{name:"playbackRate",get:function(e,t){return null==e&&null!=t.playbackRate?t.playbackRate:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,playbackRate:e}}}},{name:"live",get:function(e,t){return null==e&&null!=t.live?t.live:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,live:Boolean(e)}}}},{name:"objectFit",get:function(e,t){return null==e&&null!=t.objectFit?t.objectFit:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,objectFit:e}}}},{name:"controls",get:function(e,t){return null==e&&null!=t.controls?t.controls:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,controls:Boolean(e)}}}},{name:"loop",get:function(e,t){return null==e&&null!=t.loop?t.loop:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,loop:Boolean(e)}}}},{name:"muted",get:function(e,t){return null==e&&null!=t.muted?t.muted:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,muted:Boolean(e)}}}},{name:"enableProgressGesture",get:function(e,t){return null==e&&null!=t.enableProgressGesture?t.enableProgressGesture:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,enableProgressGesture:Boolean(e)}}}},{name:"showCenterPlayBtn",get:function(e,t){return null==e&&null!=t.showCenterPlayBtn?t.showCenterPlayBtn:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,showCenterPlayBtn:Boolean(e)}}}}]}}})},function(e,t,n){var r=n(1),o=(__TT__GLOBAL__,__TT__GLOBAL__,__TT__GLOBAL__),i=n(0),a=n(3),s=n(2);function c(e,t,n,o){try{t=JSON.parse(t)}catch(e){}if(!(t[n]instanceof Array))return console.error("".concat(e,"的").concat(n,"参数不是Array")),i.failCallback(e,o,"".concat(n," must be an Array")),!0;if("KVDataList"===n){if(0===t[n].length)return console.error("".concat(n,".length must greater than 0")),i.failCallback(e,o,"".concat(n,".length must greater than 0")),!0;if(t[n].some((function(e){if("object"!==r(e)||"string"!=typeof e.key||"string"!=typeof e.value)return!0})))return console.error("invalid KVData item"),i.failCallback(e,o,"invalid KVData item"),!0}return!1}i.normalAPIMutations([{getOpenDataContext:{canIUse:{"1.0.0":{}},toNativeEventName:"getOpenDataContext",createObj:{normalAPI:[{postMessage:{toNativeEventName:"onMessage",contextIDs:[2],invokeType:"publish"}}],propertys:[{name:"canvas",get:function(e,t){return o.sharedCanvas}}]}}},{removeUserCloudStorage:{canIUse:{"1.0.0":{success:[],object:["keyList"]}},toNativeEventName:"removeUserCloudStorage",invokeBefore:function(e,t,n,r,o){return c(e,t,"keyList",o)}}},{setUserCloudStorage:{canIUse:{"1.0.0":{success:[],object:["KVDataList"]}},toNativeEventName:"setUserCloudStorage",invokeBefore:function(e,t,n,r,o){return c(e,t,"KVDataList",o)}}},{getUserInteractiveStorage:{canIUse:{"1.0.0":{success:["encryptedData","iv"],object:["keyList"]}},toNativeEventName:"getUserInteractiveStorage",invokeBefore:function(e,t,n,r,o){return c(e,t,"keyList",o)}}}]),i.bindAPIMutations({bindAPIName:"onMessage",toNativeEventName:"onMessage",contextIDs:[1]}),i.bindAPIMutations({bindAPIName:"onInteractiveStorageModified",triggerEventBefore:function(e,t){return!1},toNativeEventName:"onInteractiveStorageModified",onBeforeBind:function(){a.isAndroid&&s.invokeHandler("onInteractiveStorageModified",{})}})},function(e,t,n){n(0).normalAPIMutations({getLocation:{canIUse:{"1.0.0":{success:["latitude","longitude","speed","accuracy","altitude","verticalAccuracy","horizontalAccuracy"],object:["type","altitude"]}},toNativeEventName:"getLocation"}})},function(e,t,n){var r=n(130);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=n(0),s=n(3),c=n(7),u=n(6).normalAPIFactory([{openGroupNotice:{canIUse:{"1.5.1":{success:[],object:["entryDataHash"]}},toNativeEventName:"invokeGroupJSApi",paramHandlers:function(e){var t=e[0]||{};return t.url="https://web.qun.qq.com/mannounce/edit.html?&_wv=1031#gc={{gid}}&role=2",c._reportAPICall({apiname:"openGroupNotice"}),t},invokeAfter:function(e,t,n,r){if(!n)return e.errMsg&&(e.errMsg=e.errMsg.replace("invokeGroupJSApi","openGroupNotice")),e}}},{openGroupRemind:{canIUse:{"1.5.1":{success:[],object:["entryDataHash"]}},toNativeEventName:"invokeGroupJSApi",paramHandlers:function(e){var t=e[0]||{};return t.url="https://qun.qq.com/qqweb/m/qun/calendar/create.html?_wv=1031&role=1&gc={{gid}}&role=1",c._reportAPICall({apiname:"openGroupRemind"}),t},invokeAfter:function(e,t,n,r){if(!n)return e.errMsg&&(e.errMsg=e.errMsg.replace("invokeGroupJSApi","openGroupNotice")),e}}}]),f=__ttObjdec__;a.normalAPIMutations([{login:{canIUse:{"1.0.0":{success:["code"],object:["timeout"]}},toNativeEventName:"login"}},{checkSession:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"refreshSession"}},{authorize:{canIUse:{"1.0.0":{success:[],object:["scope"]}},toNativeEventName:"authorize",paramHandlers:function(e){return"string"==typeof e[0].scope&&(e[0].scope=[e[0].scope]),e[0]}}},{getUserInfo:{toNativeEventName:"getNativeUserInfo",invokeAfter:function(e,t,n,r){if(!n)return-1===e.errMsg.indexOf("ok")?(console.error("请使用createUserInfoButton"),{errMsg:"getUserInfo:fail NO Data!"}):void wx.authorize({scope:"scope.userInfo",success:function(e){f.privateApi&&f.privateApi.webapi_getuserinfo&&f.privateApi.webapi_getuserinfo(t)},fail:function(e){var n=t||{},r="getUserInfo:fail scope unauthorized";"function"==typeof n.fail&&n.fail({errMsg:r}),"function"==typeof n.complete&&n.complete({errMsg:r})}})}}},{getGroupInfo:{canIUse:{"1.5.1":{success:["isGroupManager"],object:["entryDataHash"]}},toNativeEventName:"getGroupInfo",paramHandlers:function(e){var t=(e[0]||{}).entryDataHash;return(void 0===t?"":t)?(c._reportAPICall({apiname:"getGroupInfo"}),e[0]):(e[0].fail&&e[0].fail({errMsg:"getGroupInfo:fail param entryDataHash should not be empty"}),{isFail:!0})},invokeBefore:function(e,t){var n=t;try{n=JSON.parse(t)}catch(e){}if(n.isFail)return!0},invokeAfter:function(e,t,n,r){if(!n)return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData","getGroupInfo")),window.__isGroupManager=!1,e.errMsg.indexOf("ok")>-1&&(window.__isGroupManager=e.isGroupManager),e}}},{webapi_getuserinfo:{canIUse:{"1.0.0":{success:["userInfo","rawData","signature","encryptedData","iv"],object:["withCredentials","lang"]}},private:1,toNativeEventName:"operateWXData",paramHandlers:function(e){return e[0]&&(e[0].data={api_name:"webapi_getuserinfo",with_credentials:e[0].withCredentials||e[0].with_credentials,lang:e[0].lang,from_component:e[0].from_component}),e[0]},invokeAfter:function(e,t,n,r){if(!n){if(e.errMsg.indexOf("ok")>-1){var o={};if(s.isAndroid)return o.errMsg="getUserInfo:ok",o.userInfo=e.userInfo,o.rawData=e.rawData,o.encryptedData=e.encryptedData,o.iv=e.iv,o.signature=e.signature,o;var i,a={};if(s.isDevtool)i=e.data;else{if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(e){return{errMsg:"getUserInfo:fail Data Error!"}}try{i=JSON.parse(e.data.data)}catch(e){return{errMsg:"getUserInfo:fail Data Error!"}}}return a.nickName=i.nickName,a.avatarUrl=i.avatarUrl,a.gender=i.gender,a.country=i.country,a.province=i.province,a.city=i.city,a.language=i.language,o.errMsg="getUserInfo:ok",o.userInfo=a,o.rawData=e.data.data,o.encryptedData=e.data.encryptedData,o.iv=e.data.iv,o.signature=e.data.signature,o}return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")),e}}}},{getQQRunData:{toNativeEventName:"getNativeWeRunData",invokeAfter:function(e,t,n){n||wx.authorize({scope:"scope.qqrun",success:function(e){t.fromApi="getQQRunData",f.privateApi&&f.privateApi.webapi_getwerunstep_history&&f.privateApi.webapi_getwerunstep_history(t),c._reportAPICall({apiname:"getQQRunData"})},fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={errMsg:"getQQRunData:fail ".concat((e.errMsg||"unknown reason").replace("authorize:fail",""))};"function"==typeof t.fail&&t.fail(n),"function"==typeof t.complete&&t.complete(n)}})}}},{getWeRunData:{toNativeEventName:"getNativeWeRunData",invokeAfter:function(e,t,n){n||wx.authorize({scope:"scope.qqrun",success:function(e){t.fromApi="getWeRunData",f.privateApi&&f.privateApi.webapi_getwerunstep_history&&f.privateApi.webapi_getwerunstep_history(t),c._reportAPICall({apiname:"getQQRunData"})},fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={errMsg:"getWeRunData:fail ".concat((e.errMsg||"unknown reason").replace("authorize:fail",""))};"function"==typeof t.fail&&t.fail(n),"function"==typeof t.complete&&t.complete(n)}})}}},{webapi_getwerunstep_history:{canIUse:{"1.0.0":{success:["encryptedData","iv"],object:[]}},toNativeEventName:"operateWXData",private:1,paramHandlers:function(e){return e[0]&&(e[0].data={api_name:"webapi_getwerunstep_history"}),e[0]},invokeAfter:function(e,t,n,r){if(!n){if(e.errMsg.indexOf("ok")>-1){var o={};return o.errMsg="".concat(t.fromApi,":ok"),o.encryptedData=e.data.encryptedData,o.iv=e.data.iv,o}return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData",t.fromApi)),e}}}},{getUserInfoExtra:{canIUse:{"1.2.0":{success:["errMsg","encryptedData","iv"]}},toNativeEventName:"getUserInfoExtra"}},{addFriend:{canIUse:{"2.0.0":{success:["errMsg"]}},private:1,toNativeEventName:"addFriend",invokeAfter:function(e,t,n,r){if(!n)return c._reportAPICall({apiname:"addFriend"}),e}}},{feedback:{canIUse:{"1.2.0":{success:["errMsg"]}},private:1,toNativeEventName:"private_openUrl",invokeAfter:function(e,t,n,r){if(!n)return{errMsg:(e.errMsg||"").replace("private_openUrl","feedback")}}}},{openActivity:{canIUse:{"1.9.0":{success:["errMsg"]}},toNativeEventName:"private_openUrl",paramHandlers:function(e){var t,n=e[0]||{},r=n.url,o=void 0===r?"":r;if(o?0!==o.indexOf("http")?t="url param should start with http":/^https:\/\/\w*\.*qzone\.qq\.com/.test(o)||(t="url param is not in domain whitelist"):t="url param is required",t){var i={errMsg:"openActivity:fail ".concat(t)};return"function"==typeof n.fail&&n.fail(i),"function"==typeof n.complete&&n.complete(i),{isFail:!0}}return n},invokeBefore:function(e,t){var n=t;try{n=JSON.parse(t)}catch(e){}if(n.isFail)return!0},invokeAfter:function(e,t,n,r){if(!n)return e.errMsg&&(e.errMsg=e.errMsg.replace("private_openUrl","openActivity")),e}}}]),wx.openGroupNotice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}wx.getGroupInfo({entryDataHash:e.entryDataHash,success:function(n){if(n.isGroupManager)u.openGroupNotice(e);else{t({errMsg:"openGroupNotice:fail only group manager can open group notice"})}},fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i(i({},e),{errMsg:"openGroupNotice:fail ".concat((e.errMsg||"unknown reason").replace("getGroupInfo:fail",""))});t(n)}})},wx.openGroupRemind=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}wx.getGroupInfo({entryDataHash:e.entryDataHash,success:function(n){if(n.isGroupManager)u.openGroupRemind(e);else{t({errMsg:"openGroupRemind:fail only group manager can open group notice"})}},fail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i(i({},e),{errMsg:"openGroupRemind:fail ".concat((e.errMsg||"unknown reason").replace("getGroupInfo:fail",""))});t(n)}})}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){var r=n(0),o=n(6).normalAPIFactory([{_navigateToMiniProgram:{toNativeEventName:"navigateToMiniProgram",paramHandlers:function(e,t){return e[0]}}},{_checkAppIdInNavigationAppIdList:{toNativeEventName:"navigateToMiniProgramConfig",paramHandlers:function(e,t){return e[0]}}}]);function i(e,t){var n,r,o={errMsg:"navigateToMiniProgram:fail ".concat(t)};console.error(t),null==e||null===(n=e.fail)||void 0===n||n.call(e,o),null==e||null===(r=e.complete)||void 0===r||r.call(e,o)}function a(e){var t=e;o._navigateToMiniProgram(t)}r.normalAPIMutations({navigateToMiniProgram:{toNativeEventName:"operateWXData",paramHandlers:function(e,t){return t.originParams=e[0],{data:{api_name:"webapi_getnavigatewxaappinfo"},reqData:{target_appid:e[0].appId}}},invokeAfter:function(e,t,n,r){if(!n){try{var s=JSON.parse(e.respData.data)}catch(e){console.warn("navigateToMiniProgram 解析respData出现异常",e)}if(0!=s.action_code){if(!s.skip_local_check)if(!function(e){var t=e.appId;return o._checkAppIdInNavigationAppIdList({appId:t}).inList}(r.originParams)){c='appId "'.concat(r.originParams.appId,'" is not in navigateToMiniProgramAppIdList');return void i(r.originParams,c)}1!=s.action_code?2==s.action_code&&wx.showModal({title:"",content:s.wording,confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000",success:function(e){if(!e.cancel&&e.confirm)a(r.originParams);else{i(r.originParams,"cancel")}}}):a(r.originParams)}else{var c=s.reason;i(r.originParams,c)}}}}})},function(e,t,n){var r=n(1),o=n(0);o.normalAPIMutations({getAvailableAudioSources:{toNativeEventName:"getAvailableAudioSources"}}),o.normalAPIMutations({setInnerAudioOption:{toNativeEventName:"setInnerAudioOptionQGame",invokeAfter:function(e,t,n,o){if(!n){if(e&&"object"===r(e)&&"string"==typeof e.errMsg)if("setInnerAudioOptionQGame:ok"===e.errMsg&&t&&"object"===r(t))t.success&&"function"==typeof t.success&&t.success();else if(0==e.errMsg.indexOf("setInnerAudioOptionQGame:fail")&&t&&"object"===r(t)){var i=e.errMsg.slice("setInnerAudioOptionQGame:fail".length);t.fail&&"function"==typeof t.fail&&t.fail(i)}t&&"object"===r(t)&&t.complete&&"function"==typeof t.complete&&t.complete()}}}})},function(e,t,n){var r,o="devtools"===__wxConfig.platform,i=n(6),a=i.normalAPIFactory([{operateAppBox:{canIUse:{"1.7.0":{success:[],object:["type","id","adUnitId","compId"]}},toNativeEventName:"operateAppBox",paramHandlers:function(e,t){return e[0]}}}]);function s(e){if(!e||"string"!=typeof e)throw new Error("paramter adUnitId should be string");this.id=0,this.adUnitId=e,this.compId=1,this.isLoad=!1,this.isDestroy=!1,this.onLoadCache=[]}s.prototype.load=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"load:fail 广告盒子实例已销毁"}):a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"load",success:function(){e.isLoad=!0,t()},fail:function(e){if(!e)throw new Error("AppBox.load: null res when fail");n({errMsg:e.errMsg,errCode:e.errCode})}})}))},s.prototype.show=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"show:fail 广告盒子实例已销毁"}):e.isLoad?a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"show",success:function(e){t()},fail:function(e){if(!e)throw new Error("AppBox.show: null res when fail");n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"show:fail 请先调用广告盒子load方法"})}))},s.prototype.destroy=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"destroy:fail 广告盒子实例已销毁"}):a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"destroy",success:function(){e.isDestroy=!0,r=void 0,t()},fail:function(e){if(!e)throw new Error("AppBox.destroy: null res when fail");n({errMsg:e.errMsg,errCode:e.errCode})}})}))},s.prototype.onClose=function(e){"function"==typeof e&&this.onLoadCache.push(e)},s.prototype.offClose=function(e){this.onLoadCache=this.onLoadCache.filter((function(t){return t!==e}))},s.prototype.onError=function(){console.warn("onError方法已废弃")},s.prototype.offError=function(){console.warn("offError方法已废弃")},s.prototype.onLoad=function(){console.warn("onLoad方法已废弃")},s.prototype.offLoad=function(){console.warn("offLoad方法已废弃")},wx.createAppBox=function(e){var t=e.adUnitId;return o&&console.warn("开发者工具上qq.createAppBox接口为测试数据，请在真机上验证最终效果。"),r||(r=new s(t)),r},i.bindEventAPIFactory([{bindAPIName:"_onAppBoxClose",offAPIName:"_offAppBoxClose",toNativeEventName:"onAppBoxClose",staticCallback:function(){var e;null===(e=r)||void 0===e||e.onLoadCache.forEach((function(e){e()}))}}])},function(e,t,n){var r=n(0),o=n(135),i=n(7);r.normalAPIMutations({getCloudTicket:{canIUse:{"1.8.0":{success:[],object:["envId"]}},toNativeEventName:"getCloudTicket",paramHandlers:function(e,t){return i._reportAPICall({apiname:"getCloudTicket"}),e[0]}}}),(window.wx||{}).cloud=o},function(e,t,n){e.exports=function(){var e={559:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e=n.nmd(e);var o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",u="[object Function]",f="[object GeneratorFunction]",l="[object Map]",p="[object Number]",m="[object Object]",d="[object Promise]",h="[object RegExp]",_="[object Set]",v="[object String]",y="[object Symbol]",g="[object WeakMap]",b="[object ArrayBuffer]",I="[object DataView]",E="[object Float32Array]",A="[object Float64Array]",O="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",N="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",R="[object Uint32Array]",M=/\w*$/,P=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,x={};x[a]=x["[object Array]"]=x[b]=x[I]=x[s]=x[c]=x[E]=x[A]=x[O]=x[w]=x[S]=x[l]=x[p]=x[m]=x[h]=x[_]=x[v]=x[y]=x[N]=x[T]=x[C]=x[R]=!0,x["[object Error]"]=x[u]=x[g]=!1;var D="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,L="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,B=D||L||Function("return this")(),k="object"==r(t)&&t&&!t.nodeType&&t,F=k&&"object"==r(e)&&e&&!e.nodeType&&e,U=F&&F.exports===k;function G(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function H(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function X(e,t){return function(n){return e(t(n))}}function J(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Y,K=Array.prototype,z=Function.prototype,$=Object.prototype,Q=B["__core-js_shared__"],Z=(Y=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",ee=z.toString,te=$.hasOwnProperty,ne=$.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=U?B.Buffer:void 0,ie=B.Symbol,ae=B.Uint8Array,se=X(Object.getPrototypeOf,Object),ce=Object.create,ue=$.propertyIsEnumerable,fe=K.splice,le=Object.getOwnPropertySymbols,pe=oe?oe.isBuffer:void 0,me=X(Object.keys,Object),de=Be(B,"DataView"),he=Be(B,"Map"),_e=Be(B,"Promise"),ve=Be(B,"Set"),ye=Be(B,"WeakMap"),ge=Be(Object,"create"),be=Ve(de),Ie=Ve(he),Ee=Ve(_e),Ae=Ve(ve),Oe=Ve(ye),we=ie?ie.prototype:void 0,Se=we?we.valueOf:void 0;function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){this.__data__=new Te(e)}function Me(e,t,n){var r=e[t];te.call(e,t)&&He(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(He(e[n][0],t))return n;return-1}function je(e,t,n,r,o,i,d){var g;if(r&&(g=i?r(e,o,i,d):r(e)),void 0!==g)return g;if(!Ye(e))return e;var P=qe(e);if(P){if(g=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,g)}else{var j=Fe(e),D=j==u||j==f;if(Xe(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(j==m||j==a||D&&!i){if(q(e))return i?e:{};if(g=function(e){return"function"!=typeof e.constructor||Ge(e)?{}:Ye(t=se(e))?ce(t):{};var t}(D?{}:e),!t)return function(e,t){return De(e,ke(e),t)}(e,function(e,t){return e&&De(t,Ke(t),e)}(g,e))}else{if(!x[j])return i?e:{};g=function(e,t,n,r){var o,i=e.constructor;switch(t){case b:return xe(e);case s:case c:return new i(+e);case I:return function(e,t){var n=t?xe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case E:case A:case O:case w:case S:case N:case T:case C:case R:return function(e,t){var n=t?xe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return H(t?n(W(e),!0):W(e),G,new e.constructor)}(e,r,n);case p:case v:return new i(e);case h:return function(e){var t=new e.constructor(e.source,M.exec(e));return t.lastIndex=e.lastIndex,t}(e);case _:return function(e,t,n){return H(t?n(J(e),!0):J(e),V,new e.constructor)}(e,r,n);case y:return o=e,Se?Object(Se.call(o)):{}}}(e,j,je,t)}}d||(d=new Re);var L=d.get(e);if(L)return L;if(d.set(e,g),!P)var B=n?function(e){return function(e,t,n){var r=t(e);return qe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ke,ke)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(B||e,(function(o,i){B&&(o=e[i=o]),Me(g,i,je(o,t,n,r,i,e,d))})),g}function xe(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function De(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Me(n,a,void 0===s?e[a]:s)}return n}function Le(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ye(e)||(t=e,Z&&Z in t))&&(Je(e)||q(e)?re:P).test(Ve(e));var t}(n)?n:void 0}Ne.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ne.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ne.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===o?void 0:n}return te.call(t,e)?t[e]:void 0},Ne.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:te.call(t,e)},Ne.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?o:t,this},Te.prototype.clear=function(){this.__data__=[]},Te.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0||(n==t.length-1?t.pop():fe.call(t,n,1),0))},Te.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},Te.prototype.has=function(e){return Pe(this.__data__,e)>-1},Te.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ce.prototype.clear=function(){this.__data__={hash:new Ne,map:new(he||Te),string:new Ne}},Ce.prototype.delete=function(e){return Le(this,e).delete(e)},Ce.prototype.get=function(e){return Le(this,e).get(e)},Ce.prototype.has=function(e){return Le(this,e).has(e)},Ce.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Re.prototype.clear=function(){this.__data__=new Te},Re.prototype.delete=function(e){return this.__data__.delete(e)},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ce(r)}return n.set(e,t),this};var ke=le?X(le,Object):function(){return[]},Fe=function(e){return ne.call(e)};function Ue(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||j.test(e))&&e>-1&&e%1==0&&e<t}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$)}function Ve(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=I||he&&Fe(new he)!=l||_e&&Fe(_e.resolve())!=d||ve&&Fe(new ve)!=_||ye&&Fe(new ye)!=g)&&(Fe=function(e){var t=ne.call(e),n=t==m?e.constructor:void 0,r=n?Ve(n):void 0;if(r)switch(r){case be:return I;case Ie:return l;case Ee:return d;case Ae:return _;case Oe:return g}return t});var qe=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Je(e)}var Xe=pe||function(){return!1};function Je(e){var t=Ye(e)?ne.call(e):"";return t==u||t==f}function Ye(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ke(e){return We(e)?function(e,t){var n=qe(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&We(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||ne.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,i=!!o;for(var s in e)!te.call(e,s)||i&&("length"==s||Ue(s,o))||n.push(s);return n}(e):function(e){if(!Ge(e))return me(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return je(e,!0,!0)}},574:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i="__lodash_hash_undefined__",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,m="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,d="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,h=m||d||Function("return this")(),_=Array.prototype,v=Function.prototype,y=Object.prototype,g=h["__core-js_shared__"],b=(o=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",I=v.toString,E=y.hasOwnProperty,A=y.toString,O=RegExp("^"+I.call(E).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=h.Symbol,S=_.splice,N=B(h,"Map"),T=B(Object,"create"),C=w?w.prototype:void 0,R=C?C.toString:void 0;function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function x(e,t,n){var r=e[t];E.call(e,t)&&V(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function D(e,t){for(var n=e.length;n--;)if(V(e[n][0],t))return n;return-1}function L(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!q(e)||(t=e,b&&b in t))&&(function(e){var t=q(e)?A.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:l).test(function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function k(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}M.prototype.clear=function(){this.__data__=T?T(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(T){var n=t[e];return n===i?void 0:n}return E.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:E.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?i:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,n=D(t,e);return!(n<0||(n==t.length-1?t.pop():S.call(t,n,1),0))},P.prototype.get=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]},P.prototype.has=function(e){return D(this.__data__,e)>-1},P.prototype.set=function(e,t){var n=this.__data__,r=D(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new M,map:new(N||P),string:new M}},j.prototype.delete=function(e){return L(this,e).delete(e)},j.prototype.get=function(e){return L(this,e).get(e)},j.prototype.has=function(e){return L(this,e).has(e)},j.prototype.set=function(e,t){return L(this,e).set(e,t),this};var F=G((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(u,(function(e,t,r,o){n.push(r?o.replace(f,"$1"):t||e)})),n}));function U(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function G(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(G.Cache||j),n}function V(e,t){return e===t||e!=e&&t!=t}G.Cache=j;var H=Array.isArray;function q(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==A.call(e)}e.exports=function(e,t,n){return null==e?e:function(e,t,n,o){if(!q(e))return e;for(var i=-1,c=(t=function(e,t){if(H(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!W(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return H(e)?e:F(e)}(t)).length,u=c-1,f=e;null!=f&&++i<c;){var l=U(t[i]),p=n;if(i!=u){var m=f[l];void 0===(p=void 0)&&(p=q(m)?m:k(t[i+1])?[]:{})}x(f,l,p),f=f[l]}return e}(e,t,n)}},238:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o,i="__lodash_hash_undefined__",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,l=/^\[object .+?Constructor\]$/,p="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,m="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,d=p||m||Function("return this")(),h=Array.prototype,_=Function.prototype,v=Object.prototype,y=d["__core-js_shared__"],g=(o=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",b=_.toString,I=v.hasOwnProperty,E=v.toString,A=RegExp("^"+b.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=d.Symbol,w=h.splice,S=L(d,"Map"),N=L(Object,"create"),T=O?O.prototype:void 0,C=T?T.toString:void 0;function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function x(e){return G(e)?e:k(e)}function D(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function L(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!V(e)||(t=e,g&&g in t))&&(function(e){var t=V(e)?E.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:l).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function B(e,t){if(G(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!H(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}R.prototype.clear=function(){this.__data__=N?N(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===i?void 0:n}return I.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:I.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?i:t,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(e){var t=this.__data__,n=j(t,e);return!(n<0||(n==t.length-1?t.pop():w.call(t,n,1),0))},M.prototype.get=function(e){var t=this.__data__,n=j(t,e);return n<0?void 0:t[n][1]},M.prototype.has=function(e){return j(this.__data__,e)>-1},M.prototype.set=function(e,t){var n=this.__data__,r=j(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},P.prototype.clear=function(){this.__data__={hash:new R,map:new(S||M),string:new R}},P.prototype.delete=function(e){return D(this,e).delete(e)},P.prototype.get=function(e){return D(this,e).get(e)},P.prototype.has=function(e){return D(this,e).has(e)},P.prototype.set=function(e,t){return D(this,e).set(e,t),this};var k=U((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(H(e))return C?C.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(u,(function(e,t,r,o){n.push(r?o.replace(f,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(U.Cache||P),n}U.Cache=P;var G=Array.isArray;function V(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==E.call(e)}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=B(t,e)?[t]:x(t)).length;null!=e&&n<r;)e=e[F(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))}(e,t=B(t,e)?[t]:x(t));var n,r,o=F((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&I.call(e,o))||delete e[o]}(e,t)}},588:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new C(r||[]);return i._invoke=function(e,t,n){var r=p;return function(o,i){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return M()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===_)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:m,c.arg===_)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=f;var p="suspendedStart",m="suspendedYield",d="executing",h="completed",_={};function v(){}function y(){}function g(){}var b={};b[a]=function(){return this};var I=Object.getPrototypeOf,E=I&&I(I(R([])));E&&E!==n&&o.call(E,a)&&(b=E);var A=g.prototype=v.prototype=Object.create(b);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(i,a,s,c){var u=l(e[i],e,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"===r(p)&&o.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(p).then((function(e){f.value=e,s(f)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,_;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function R(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=A.constructor=g,g.constructor=y,y.displayName=u(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,c,"GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},O(w.prototype),w.prototype[s]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(f(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(A),u(A,c,"Generator"),A[a]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=R,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,_):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:R(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}("object"===r(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},902:function(e,t,n){"use strict";n.d(t,{default:function(){return Bi}});var r={};n.r(r),n.d(r,{LineString:function(){return Ge},MultiLineString:function(){return tt},MultiPoint:function(){return ze},MultiPolygon:function(){return at},Point:function(){return _t},Polygon:function(){return Xe}});var o={};n.r(o),n.d(o,{get:function(){return li},post:function(){return mi},put:function(){return hi}});var i={};function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))}}n.r(i),n.d(i,{callFunction:function(){return wi},database:function(){return Li},deleteFile:function(){return Ni},downloadFile:function(){return Ri},getTempFileURL:function(){return Si},getUploadMetadata:function(){return Ti},init:function(){return Oi},invokeExtension:function(){return xi},registerExtension:function(){return ji},requestClient:function(){return Ei},uploadFile:function(){return Ci}});var c={};function u(e,t){return f.apply(this,arguments)}function f(){return(f=s(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(r=qq)||void 0===r?void 0:r.setStorageSync)){e.next=3;break}return qq.setStorageSync(t,n),e.abrupt("return");case 3:c[t]=n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return(p=s(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=qq)||void 0===n?void 0:n.removeStorageSync)){e.next=3;break}return qq.removeStorageSync(t),e.abrupt("return");case 3:delete c[t];case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return(d=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=qq)||void 0===n?void 0:n.getStorageSync)){e.next=3;break}return r=qq.getStorageSync(t),e.abrupt("return",r);case 3:return e.abrupt("return",c[t]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return _.apply(this,arguments)}function _(){return(_=s(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("[@cloudbase/qq-sdk] 请设置env");case 2:if(qq&&qq.getCloudTicket){e.next=4;break}throw new Error("[@cloudbase/qq-sdk] 请在QQ小程序中使用并升级到最新的基础库版本");case 4:if(t){e.next=6;break}throw new Error("[@cloudbase/qq-sdk] 未指定云环境，请先执行init方法或填入env字段");case 6:return e.next=8,new Promise((function(e,n){qq.getCloudTicket({envId:t,success:function(t){e(t)},fail:function(e){var t;n(new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(null===(t=e.errMsg)||void 0===t?void 0:t.replace("getCloudTicket:fail ",""))))}})}));case 8:if((n=e.sent)&&n.ticket){e.next=11;break}throw new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat((null==n?void 0:n.code)||"获取失败"));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=s(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=Object.assign(t,{success:function(t){(null==t?void 0:t.code)?n(t):e(t)},fail:function(e){n(e)}});qq.request(r)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))}}function I(e){return E.apply(this,arguments)}function E(){return(E=b(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="qq_ticket_".concat(t),e.next=3,m(n);case 3:if(!(r=e.sent)){e.next=10;break}if(o=parseInt(r.split(";")[1]),!(Date.now()<o)){e.next=8;break}return e.abrupt("return",r.split(";")[0]);case 8:return e.next=10,l(n);case 10:return e.next=12,h(t);case 12:return i=e.sent,a=i.ticket,s=i.createTime,c=void 0===s?Math.floor(Date.now()/1e3):s,f=i.period,p=1e3*(c+(void 0===f?7e3:f)),e.next=17,u(n,"".concat(a,";").concat(p));case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A={SUCCESS:0,SYS_ERR:-501001,SERVER_TIMEOUT:-501002,EXCEED_REQUEST_LIMIT:-501003,EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,INVALIID_ENV:-501005,INVALID_COMMON_PARAM:-501006,INVALID_PARAM:-501007,INVALID_REQUEST_SOURCE:-501008,RESOURCE_NOT_INITIAL:-501009,DATABASE_REQUEST_FAILED:-502001,DATABASE_INVALID_OPERRATOR:-502002,DATABASE_PERMISSION_DENIED:-502003,DATABASE_COLLECTION_EXCEED_LIMIT:-502004,DATABASE_COLLECTION_NOT_EXIST:-502005,STORAGE_REQUEST_FAIL:-503001,STORAGE_EXCEED_AUTHORITY:-503002,STORAGE_FILE_NONEXIST:-503003,STORAGE_SIGN_PARAM_INVALID:-503004,FUNCTIONS_REQUEST_FAIL:-504001,FUNCTIONS_EXECUTE_FAIL:-504002};function O(e){return e.code&&"SUCCESSS"!==e.code.toUpperCase()||(e.status=0,e.errMsg="ok"),e.requestID=e.requestId,e}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){N(i,r,o,a,s,"next",e)}function s(e){N(i,r,o,a,s,"throw",e)}a(void 0)}))}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"config",void 0),this.config=t}var t,n,r;return t=e,(n=[{key:"request",value:function(){var e=T(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,s,c,u,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="application/x-www-form-urlencoded",e.next=3,I(this.config.env);case 3:if(i=e.sent,a=S({action:t,loginType:"QQ-MINI",ticket:i,env:this.config.env,dataVersion:"2019-08-16"},n),"storage.uploadFile"===t){for(c in s=new FormData)s.hasOwnProperty(c)&&void 0!==s[c]&&s.append(c,a[c]);o="multipart/form-data"}else o="application/json;charset=UTF-8",s=a;return u={headers:{"content-type":o}},(null==r?void 0:r.onUploadProgress)&&(u.onUploadProgress=r.onUploadProgress),f="".concat("https://tcb-api.tencentcloudapi.com/web","?env=").concat(this.config.env),e.next=11,v({url:f,data:a,header:{"content-type":o,"X-SDK-Version":"tcb-qq-sdk/".concat("1.0.3")},method:"post"});case 11:if(l=e.sent,200===Number(l.statusCode)&&l.data){e.next=14;break}throw new Error("network request error");case 14:return e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"send",value:(r=T(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(t,n,{onUploadProgress:n.onUploadProgress});case 2:if(!(r=e.sent).data.code){e.next=6;break}throw S({},(o=r.data).code?{errCode:A[o.code]||A.SYS_ERR,errMsg:"fail ".concat(o.message),requestID:o.requestId}:o);case 6:return e.abrupt("return",O(r.data));case 7:case"end":return e.stop()}var o}),e,this)}))),function(e,t){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}(),M={};function P(e,t){return(null==e?void 0:e.env)?e.env:M[t]||M.env}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,s,"next",e)}function s(e){L(i,r,o,a,s,"throw",e)}a(void 0)}))}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F="storage",U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),k(this,"preTask",void 0),k(this,"realTask",void 0),k(this,"aborted",void 0),k(this,"initedCallback",void 0),k(this,"onProgressUpdateArr",void 0),k(this,"offProgressUpdateArr",void 0),k(this,"onHeadersReceivedArr",void 0),k(this,"offHeadersReceivedArr",void 0),this.onProgressUpdateArr=[],this.offProgressUpdateArr=[],this.onHeadersReceivedArr=[],this.offHeadersReceivedArr=[]}var t;return(t=[{key:"abort",value:function(){this.aborted=!0}},{key:"onProgressUpdate",value:function(e){var t;this.onProgressUpdateArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.onProgressUpdate(e))}},{key:"offProgressUpdate",value:function(e){var t;this.offProgressUpdateArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.offProgressUpdate(e))}},{key:"onHeadersReceived",value:function(e){var t;this.onHeadersReceivedArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.onHeadersReceived(e))}},{key:"offHeadersReceived",value:function(e){var t;this.offHeadersReceivedArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.offHeadersReceived(e))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function G(){return(G=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileList,r=t.config,n&&Array.isArray(n)){e.next=3;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 3:o=x(n),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=12;break}if((a=i.value)&&"string"==typeof a){e.next=10;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:return s={fileid_list:n},c={env:P(r,F)},u=new R(c),e.next=26,u.send("storage.batchDeleteFile",s);case 26:if(!(f=e.sent).code){e.next=29;break}return e.abrupt("return",f);case 29:return Array.isArray(f.data.delete_list)&&f.data.delete_list.map((function(e){return A[e.code]?{fileID:e.fileID,status:A[e.code],errMsg:e.code}:e})),e.abrupt("return",{fileList:f.data.delete_list,requestId:f.requestId});case 31:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function V(e){return H.apply(this,arguments)}function H(){return(H=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,f,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileList,r=t.config,n&&Array.isArray(n)){e.next=3;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 3:o=[],i=x(n),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=22;break}if("object"!==j(s=a.value)){e.next=15;break}if(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")){e.next=12;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"});case 12:o.push({fileid:s.fileID,max_age:s.maxAge}),e.next=20;break;case 15:if("string"!=typeof s){e.next=19;break}o.push({fileid:s}),e.next=20;break;case 19:return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});case 20:e.next=7;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:return c={file_list:o},u={env:P(r,F)},f=new R(u),e.next=36,f.send("storage.batchGetDownloadUrl",c);case 36:if(!(l=e.sent).code){e.next=39;break}return e.abrupt("return",l);case 39:return Array.isArray(l.data.download_list)&&l.data.download_list.map((function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL,status:"SUCCESS"===e.code?0:A[e.code]||e.code,errMsg:"SUCCESS"===e.code?"getTempFileURL:ok":"getTempFileURL:fail ".concat(e.code)}})),e.abrupt("return",{fileList:l.data.download_list,requestId:l.requestId});case 41:case"end":return e.stop()}}),e,null,[[5,24,27,30]])})))).apply(this,arguments)}function q(){return(q=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloudPath,r=t.config,o={env:P(r,F)},i=new R(o),e.next=6,i.send("storage.getUploadMetadata",{path:n});case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){W(i,r,o,a,s,"next",e)}function s(e){W(i,r,o,a,s,"throw",e)}a(void 0)}))}}var J,Y,K="functions";function z(){return(z=X(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.data,o=t.config,e.prev=1,r=r?JSON.stringify(r):"{}",e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 8:if(n){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("函数名不能为空")));case 10:return i={function_name:n,request_data:r},a={env:P(o,K)},s=new R(a),e.next=16,s.send("functions.invokeFunction",i);case 16:if(!(c=e.sent).code){e.next=19;break}return e.abrupt("return",c);case 19:return c.data.response_data,e.prev=20,u=JSON.parse(c.data.response_data),e.abrupt("return",{result:u,status:0,errMsg:"ok",requestID:c.requestID});case 25:throw e.prev=25,e.t1=e.catch(20),new Error("[@cloudbase/qq-sdk] response data must be json");case 28:case"end":return e.stop()}}),e,null,[[1,5],[20,25]])})))).apply(this,arguments)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(Y||(Y={}));var Q,Z,ee="GeoPoint",te="GeoLineString",ne="GeoPolygon",re="GeoMultiPoint",oe="GeoMultiLineString",ie="GeoMultiPolygon",ae="Date",se="ServerDate",ce=["desc","asc"],ue=["<","<=","==",">=",">"];function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(Q||(Q={})),$(J={},Q.eq,"$eq"),$(J,Q.lt,"$lt"),$(J,Q.lte,"$lte"),$(J,Q.gt,"$gt"),$(J,Q.gte,"$gte"),function(e){e.WHERE="WHERE",e.DOC="DOC"}(Z||(Z={}));var he=[],_e={},ve=function(e){!function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(i,(function e(t){de(this,e),Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:t}})}));var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=me(n);if(r){var o=me(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return pe(this,e)});function i(e,t){if(de(this,i),t!==_e)throw new TypeError("InternalSymbol cannot be constructed with new operator");return o.call(this,e)}return(t=[{key:"for",value:function(e){for(var t=0,n=he.length;t<n;t++)if(he[t].target===e)return he[t].instance;var r=new i(e,_e);return he.push({target:e,instance:r}),r}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i,t),i}(),ye=ve,ge=ye.for("UNSET_FIELD_NAME"),be=ye.for("UPDATE_COMMAND"),Ie=ye.for("QUERY_COMMAND"),Ee=ye.for("LOGIC_COMMAND"),Ae=ye.for("GEO_POINT"),Oe=ye.for("SYMBOL_GEO_LINE_STRING"),we=ye.for("SYMBOL_GEO_POLYGON"),Se=ye.for("SYMBOL_GEO_MULTI_POINT"),Ne=ye.for("SYMBOL_GEO_MULTI_LINE_STRING"),Te=ye.for("SYMBOL_GEO_MULTI_POLYGON"),Ce=ye.for("SERVER_DATE"),Re=ye.for("REGEXP"),Me=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},Pe=function(e){return"object"===Me(e)},je=function(e){return"number"===Me(e)},xe=function(e){return Array.isArray(e)},De=function(e){return"date"===Me(e)},Le=function(e){return"regexp"===Me(e)},Be=function(e){return e&&e._internalType instanceof ve};function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ge=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!xe(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Fe(t)));if(t.length<2)throw new Error('"points" must contain 2 points at least');t.forEach((function(e){if(!(e instanceof _t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Fe(e),"[]"))})),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("LineString"!==e.type||!xe(e.coordinates))return!1;var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ke(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!je(r[0])||!je(r[1]))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"isClosed",value:function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))})}},{key:"toJSON",value:function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}}},{key:"_internalType",get:function(){return Oe}}])&&Ue(t.prototype,n),r&&Ue(t,r),e}();function Ve(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?He(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xe=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!xe(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(qe(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach((function(e){if(!(e instanceof Ge))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(qe(e),"[]"));if(!Ge.isClosed(e))throw new Error("LineString ".concat(e.points.map((function(e){return e.toReadableString()}))," is not a closed cycle"))})),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("Polygon"!==e.type||!xe(e.coordinates))return!1;var t,n=Ve(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.isCloseLineString(r))return!1;var o,i=Ve(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!je(a[0])||!je(a[1]))return!1}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"isCloseLineString",value:function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))})}},{key:"toJSON",value:function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}}},{key:"_internalType",get:function(){return Te}}])&&We(t.prototype,n),r&&We(t,r),e}();function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ze=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!xe(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Ye(t)));if(0===t.length)throw new Error('"points" must contain 1 point at least');t.forEach((function(e){if(!(e instanceof _t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Ye(e),"[]"))})),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPoint"!==e.type||!xe(e.coordinates))return!1;var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!je(r[0])||!je(r[1]))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))})}},{key:"toJSON",value:function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}}},{key:"_internalType",get:function(){return Se}}])&&Ke(t.prototype,n),r&&Ke(t,r),e}();function $e(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!xe(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ze(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach((function(e){if(!(e instanceof Ge))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ze(e),"[]"))})),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiLineString"!==e.type||!xe(e.coordinates))return!1;var t,n=$e(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r,o=$e(t.value);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!je(i[0])||!je(i[1]))return!1}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))})}},{key:"toJSON",value:function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}}},{key:"_internalType",get:function(){return Ne}}])&&et(t.prototype,n),r&&et(t,r),e}();function nt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!xe(t))throw new TypeError('"polygons" must be of type Polygon[]. Received type '.concat(ot(t)));if(0===t.length)throw new Error("MultiPolygon must contain 1 polygon at least");var n,r=nt(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(o instanceof Xe))throw new TypeError('"polygon" must be of type Polygon[]. Received type '.concat(ot(o),"[]"))}}catch(e){r.e(e)}finally{r.f()}this.polygons=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPolygon"!==e.type||!xe(e.coordinates))return!1;var t,n=nt(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r,o=nt(t.value);try{for(o.s();!(r=o.n()).done;){var i,a=nt(r.value);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!je(s[0])||!je(s[1]))return!1}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))})}},{key:"toJSON",value:function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}}},{key:"_internalType",get:function(){return we}}])&&it(t.prototype,n),r&&it(t,r),e}();function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ct=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.offset,r=void 0===n?0:n;st(this,e),this.offset=r}var t;return(t=[{key:"parse",value:function(){return{$date:{offset:this.offset}}}},{key:"_internalType",get:function(){return Ce}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ut(e){return new ct(e)}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};pt.formatResDocumentData=function(e){return e.map((function(e){return pt.formatField(e)}))},pt.formatField=function(e){var t=Object.keys(e),n={};return Array.isArray(e)&&(n=[]),t.forEach((function(t){var r,o=e[t];switch(pt.whichType(o)){case ee:r=new _t(o.coordinates[0],o.coordinates[1]);break;case te:r=new Ge(o.coordinates.map((function(e){return new _t(e[0],e[1])})));break;case ne:r=new Xe(o.coordinates.map((function(e){return new Ge(e.map((function(e){var t=ft(e,2),n=t[0],r=t[1];return new _t(n,r)})))})));break;case re:r=new ze(o.coordinates.map((function(e){return new _t(e[0],e[1])})));break;case oe:r=new tt(o.coordinates.map((function(e){return new Ge(e.map((function(e){var t=ft(e,2),n=t[0],r=t[1];return new _t(n,r)})))})));break;case ie:r=new at(o.coordinates.map((function(e){return new Xe(e.map((function(e){return new Ge(e.map((function(e){var t=ft(e,2),n=t[0],r=t[1];return new _t(n,r)})))})))})));break;case ae:r=new Date(1e3*o.$timestamp);break;case"Object":case"Array":r=pt.formatField(o);break;case se:r=new Date(o.$date);break;default:r=o}Array.isArray(n)?n.push(r):n[t]=r})),n},pt.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===ae)return"BsonDate";if("Object"===t){if(e instanceof _t)return ee;if(e instanceof Date)return ae;if(e instanceof ct)return se;e.$timestamp?t=ae:e.$date?t=se:_t.validate(e)?t=ee:Ge.validate(e)?t=te:Xe.validate(e)?t=ne:ze.validate(e)?t=re:tt.validate(e)?t=oe:at.validate(e)&&(t=ie)}return t},pt.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};var mt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"isGeopoint",value:function(e,t){if("Number"!==pt.whichType(t))throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0}},{key:"isInteger",value:function(e,t){if(!Number.isInteger(t))throw new Error(e+Y.IntergerError);return!0}},{key:"isFieldOrder",value:function(e){if(-1===ce.indexOf(e))throw new Error(Y.DirectionError);return!0}},{key:"isFieldPath",value:function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0}},{key:"isOperator",value:function(e){if(-1===ue.indexOf(e))throw new Error(Y.OpStrError);return!0}},{key:"isCollName",value:function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(Y.CollNameError);return!0}},{key:"isDocID",value:function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(Y.DocIDError);return!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ht,_t=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mt.isGeopoint("longitude",t),mt.isGeopoint("latitude",n),this.longitude=t,this.latitude=n}var t,n,r;return t=e,r=[{key:"validate",value:function(e){return"Point"===e.type&&xe(e.coordinates)&&mt.isGeopoint("longitude",e.coordinates[0])&&mt.isGeopoint("latitude",e.coordinates[1])}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"Point",coordinates:[this.longitude,this.latitude]})}},{key:"toJSON",value:function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}}},{key:"toReadableString",value:function(){return"[".concat(this.longitude,",").concat(this.latitude,"]")}},{key:"_internalType",get:function(){return Ae}}])&&dt(t.prototype,n),r&&dt(t,r),e}(),vt=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(ht||(ht={}));var yt,gt=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=be,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||ge}var t;return(t=[{key:"_setFieldName",value:function(t){return new e(this.operator,this.operands,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function bt(e){return e&&e instanceof gt&&e._internalType===be}!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(yt||(yt={}));var It,Et=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=Ee,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||ge,this.fieldName!==ge)if(Array.isArray(n)){n=n.slice(),this.operands=n;for(var o=0,i=n.length;o<i;o++){var a=n[o];(At(a)||Rt(a))&&(n[o]=a._setFieldName(this.fieldName))}}else{var s=n;(At(s)||Rt(s))&&(n=s._setFieldName(this.fieldName))}}var t;return(t=[{key:"_setFieldName",value:function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)}},{key:"and",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(yt.AND,o,this.fieldName)}},{key:"or",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(yt.OR,o,this.fieldName)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function At(e){return e&&e instanceof Et&&e._internalType===Ee}function Ot(e){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){return(St=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e,t){return!t||"object"!==Ot(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tt(e){return(Tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(It||(It={}));var Ct=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&St(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Tt(n);if(r){var o=Tt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Nt(this,e)});function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t,n)).operator=e,r._internalType=Ie,r}return(t=[{key:"toJSON",value:function(){switch(this.operator){case It.IN:case It.NIN:return wt({},"$"+this.operator,this.operands);default:return wt({},"$"+this.operator,this.operands[0])}}},{key:"_setFieldName",value:function(e){return new i(this.operator,this.operands,e)}},{key:"eq",value:function(e){var t=new i(It.EQ,[e],this.fieldName);return this.and(t)}},{key:"neq",value:function(e){var t=new i(It.NEQ,[e],this.fieldName);return this.and(t)}},{key:"gt",value:function(e){var t=new i(It.GT,[e],this.fieldName);return this.and(t)}},{key:"gte",value:function(e){var t=new i(It.GTE,[e],this.fieldName);return this.and(t)}},{key:"lt",value:function(e){var t=new i(It.LT,[e],this.fieldName);return this.and(t)}},{key:"lte",value:function(e){var t=new i(It.LTE,[e],this.fieldName);return this.and(t)}},{key:"in",value:function(e){var t=new i(It.IN,e,this.fieldName);return this.and(t)}},{key:"nin",value:function(e){var t=new i(It.NIN,e,this.fieldName);return this.and(t)}},{key:"geoNear",value:function(e){if(!(e.geometry instanceof _t))throw new TypeError('"geometry" must be of type Point. Received type '.concat(Ot(e.geometry)));if(void 0!==e.maxDistance&&!je(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '.concat(Ot(e.maxDistance)));if(void 0!==e.minDistance&&!je(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '.concat(Ot(e.minDistance)));var t=new i(It.GEO_NEAR,[e],this.fieldName);return this.and(t)}},{key:"geoWithin",value:function(e){if(!(e.geometry instanceof at||e.geometry instanceof Xe))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '.concat(Ot(e.geometry)));var t=new i(It.GEO_WITHIN,[e],this.fieldName);return this.and(t)}},{key:"geoIntersects",value:function(e){if(!(e.geometry instanceof _t||e.geometry instanceof Ge||e.geometry instanceof Xe||e.geometry instanceof ze||e.geometry instanceof tt||e.geometry instanceof at))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '.concat(Ot(e.geometry)));var t=new i(It.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}(Et);function Rt(e){return e&&e instanceof Ct&&e._internalType===Ie}function Mt(e){return Rt(e)}var Pt={};for(var jt in It)Pt[jt]="$"+jt;for(var xt in yt)Pt[xt]="$"+xt;for(var Dt in ht)Pt[Dt]="$"+Dt;function Lt(e){return Pt[e]||"$"+e}function Bt(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e){return function e(t,n){if(!Be(t)){if(De(t))return{$date:+t};if(Le(t))return{$regex:t.source,$options:t.flags};if(xe(t))return t.map((function(t){if(n.indexOf(t)>-1)throw new Error("Cannot convert circular structure to JSON");return e(t,[].concat(Bt(n),[t]))}));if(Pe(t)){var r=Object.assign({},t);for(var o in r){if(n.indexOf(r[o])>-1)throw new Error("Cannot convert circular structure to JSON");r[o]=e(r[o],[].concat(Bt(n),[r[o]]))}return r}return t}switch(t._internalType){case Ae:return t.toJSON();case Ce:case Re:return t.parse();default:return t.toJSON?t.toJSON():t}}(e,[e])}function Ut(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e){return function e(t,n,r,o){var i=Object.assign({},t);for(var a in t)if(!/^\$/.test(a)){var s=t[a];if(s&&Pe(s)&&!n(s)){if(o.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var c=e(s,n,[].concat(Ut(r),[a]),[].concat(Ut(o),[s]));i[a]=c;var u=!1;for(var f in c)/^\$/.test(f)?u=!0:(i["".concat(a,".").concat(f)]=c[f],delete i[a][f]);u||delete i[a]}}return i}(e,qt,[],[e])}function Ht(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?xe(e[r])?e[r].push(t[r]):Pe(e[r])?Pe(t[r])?Object.assign(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is ".concat(Me(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(Me(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}function qt(e){return Be(e)||De(e)||Le(e)}function Wt(e){return Ft(e)}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Pt[It.NEQ]="$ne",Pt[ht.REMOVE]="$unset",Pt[ht.SHIFT]="$pop",Pt[ht.UNSHIFT]="$push";var Yt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(t){return(new e).encodeUpdate(t)}}],(n=[{key:"encodeUpdate",value:function(e){return bt(e)?this.encodeUpdateCommand(e):"object"===Me(e)?this.encodeUpdateObject(e):e}},{key:"encodeUpdateCommand",value:function(e){if(e.fieldName===ge)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case ht.PUSH:case ht.PULL:case ht.PULL_ALL:case ht.POP:case ht.SHIFT:case ht.UNSHIFT:case ht.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}}},{key:"encodeFieldUpdateCommand",value:function(e){var t=Lt(e.operator);switch(e.operator){case ht.REMOVE:return Xt({},t,Xt({},e.fieldName,""));default:return Xt({},t,Xt({},e.fieldName,e.operands[0]))}}},{key:"encodeArrayUpdateCommand",value:function(e){var t=Lt(e.operator);switch(e.operator){case ht.PUSH:var n;return n=xe(e.operands)?{$each:e.operands.map(Wt)}:e.operands,Xt({},t,Xt({},e.fieldName,n));case ht.UNSHIFT:var r={$each:e.operands.map(Wt),$position:0};return Xt({},t,Xt({},e.fieldName,r));case ht.POP:return Xt({},t,Xt({},e.fieldName,1));case ht.SHIFT:return Xt({},t,Xt({},e.fieldName,-1));default:return Xt({},t,Xt({},e.fieldName,Wt(e.operands)))}}},{key:"encodeUpdateObject",value:function(e){var t=Vt(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(bt(r))t[n]=r._setFieldName(n),Ht(t,this.encodeUpdateCommand(t[n]),n);else{t[n]=r=Wt(r);var o=new gt(ht.SET,[r],n);Ht(t,this.encodeUpdateCommand(o),n)}}return t}}])&&Jt(t.prototype,n),r&&Jt(t,r),e}(),Kt=n(574),zt=n.n(Kt),$t=n(238),Qt=n.n($t),Zt=n(559),en=n.n(Zt);function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())}var nn={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"};function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}function sn(e){var t=pn();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(e){var t="function"==typeof Map?new Map:void 0;return(fn=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ln(e,arguments,dn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),mn(r,e)})(e)}function ln(e,t,n){return(ln=pn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&mn(o,n.prototype),o}).apply(null,arguments)}function pn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var hn=function(e){an(r,e);var t,n=sn(r);function r(e){var t;return on(this,r),(t=n.call(this,e.errMsg)).errCode="UNKNOWN_ERROR",Object.defineProperties(un(t),{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(nn[this.errCode]||""," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}}),t.errCode=e.errCode||"UNKNOWN_ERROR",t.errMsg=e.errMsg,t}return(t=[{key:"message",get:function(){return"errCode: ".concat(this.errCode," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,t),r}(fn(Error)),_n=function(e){an(n,e);var t=sn(n);function n(e){var r;return on(this,n),(r=t.call(this,e)).type="timeout",r.payload=null,r.generic=!0,r}return n}(fn(Error)),vn=function(e){an(n,e);var t=sn(n);function n(e){var r;return on(this,n),(r=t.call(this,e)).type="cancelled",r.payload=null,r.generic=!0,r}return n}(fn(Error)),yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},gn=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=t.close,this.onChange=t.onChange,this.onError=t.onError,t.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return t.virtualClient}})},bn=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,r,o=t.id,i=t.docChanges,a=t.docs,s=t.msgType,c=t.type;Object.defineProperties(this,{id:{get:function(){return o},enumerable:!0},docChanges:{get:function(){return n||(n=JSON.parse(JSON.stringify(i))),n},enumerable:!0},docs:{get:function(){return r||(r=JSON.parse(JSON.stringify(a))),r},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return c},enumerable:!0}})};function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function An(e){var t="function"==typeof Map?new Map:void 0;return(An=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return On(e,arguments,Nn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Sn(r,e)})(e)}function On(e,t,n){return(On=wn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Sn(o,n.prototype),o}).apply(null,arguments)}function wn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){return(Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tn,Cn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(o,e);var t,n,r=(t=o,n=wn(),function(){var e,r=Nn(t);if(n){var o=Nn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return En(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Watch Error ".concat(JSON.stringify(e.msgData)," (requestid: ").concat(e.requestId,")"))).isRealtimeErrorMessageError=!0,t.payload=e,t}return o}(An(Error)),Rn=function(e){return e&&e.isRealtimeErrorMessageError};function Mn(e){return(Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e){return function(e){if(Array.isArray(e))return Dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||xn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=xn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function xn(e,t){if(e){if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ln(i,r,o,a,s,"next",e)}function s(e){Ln(i,r,o,a,s,"throw",e)}a(void 0)}))}}!function(e){e.LOGGINGIN="LOGGINGIN",e.INITING="INITING",e.REBUILDING="REBUILDING",e.ACTIVE="ACTIVE",e.ERRORED="ERRORED",e.CLOSING="CLOSING",e.CLOSED="CLOSED",e.PAUSED="PAUSED",e.RESUMING="RESUMING"}(Tn||(Tn={}));var kn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchStatus=Tn.INITING,this._login=function(){var e=Bn(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.watchStatus=Tn.LOGGINGIN,e.next=3,n.login(t,r);case 3:return o=e.sent,n.envId||(n.envId=o.envId),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.initWatch=function(){var e=Bn(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._initWatchPromise){e.next=2;break}return e.abrupt("return",n._initWatchPromise);case 2:return n._initWatchPromise=new Promise(function(){var e=Bn(regeneratorRuntime.mark((function e(r,o){var i,a,s,c,u,f,l,p,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus!==Tn.PAUSED){e.next=4;break}return console.log("[realtime] initWatch cancelled on pause"),e.abrupt("return",r());case 4:return e.next=6,n._login(n.envId,t);case 6:if(i=e.sent,a=i.envId,n.watchStatus!==Tn.PAUSED){e.next=11;break}return console.log("[realtime] initWatch cancelled on pause"),e.abrupt("return",r());case 11:return n.watchStatus=Tn.INITING,s={watchId:n.watchId,requestId:tn(),msgType:"INIT_WATCH",msgData:{envId:a,collName:n.collectionName,query:n.query,limit:n.limit,orderBy:n.orderBy}},e.next=15,n.send({msg:s,waitResponse:!0,skipOnMessage:!0,timeout:1e4});case 15:if(c=e.sent,u=c.msgData,f=u.events,l=u.currEvent,n.sessionInfo={queryID:c.msgData.queryID,currentEventId:l-1,currentDocs:[]},f.length>0){p=jn(f);try{for(p.s();!(m=p.n()).done;)m.value.ID=l}catch(e){p.e(e)}finally{p.f()}n.handleServerEvents(c)}else n.sessionInfo.currentEventId=l,d=new bn({id:l,docChanges:[],docs:[],type:"init"}),n.listener.onChange(d),n.scheduleSendACK();n.onWatchStart(n,n.sessionInfo.queryID),n.watchStatus=Tn.ACTIVE,n._availableRetries.INIT_WATCH=2,r(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),n.handleWatchEstablishmentError(e.t0,{operationName:"INIT_WATCH",resolve:r,reject:o});case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,n){return e.apply(this,arguments)}}()),r=!1,e.prev=4,e.next=7,n._initWatchPromise;case 7:r=!0;case 8:return e.prev=8,n._initWatchPromise=void 0,e.finish(8);case 11:console.log("[realtime] initWatch ".concat(r?"success":"fail"));case 12:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),this.rebuildWatch=function(){var e=Bn(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._rebuildWatchPromise){e.next=2;break}return e.abrupt("return",n._rebuildWatchPromise);case 2:return n._rebuildWatchPromise=new Promise(function(){var e=Bn(regeneratorRuntime.mark((function e(r,o){var i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus!==Tn.PAUSED){e.next=4;break}return console.log("[realtime] rebuildWatch cancelled on pause"),e.abrupt("return",r());case 4:return e.next=6,n._login(n.envId,t);case 6:if(i=e.sent,a=i.envId,n.sessionInfo){e.next=10;break}throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");case 10:if(n.watchStatus!==Tn.PAUSED){e.next=13;break}return console.log("[realtime] rebuildWatch cancelled on pause"),e.abrupt("return",r());case 13:return n.watchStatus=Tn.REBUILDING,s={watchId:n.watchId,requestId:tn(),msgType:"REBUILD_WATCH",msgData:{envId:a,collName:n.collectionName,queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},e.next=17,n.send({msg:s,waitResponse:!0,skipOnMessage:!1,timeout:1e4});case 17:c=e.sent,n.handleServerEvents(c),n.watchStatus=Tn.ACTIVE,n._availableRetries.REBUILD_WATCH=2,r(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),n.handleWatchEstablishmentError(e.t0,{operationName:"REBUILD_WATCH",resolve:r,reject:o});case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}()),r=!1,e.prev=4,e.next=7,n._rebuildWatchPromise;case 7:r=!0;case 8:return e.prev=8,n._rebuildWatchPromise=void 0,e.finish(8);case 11:console.log("[realtime] rebuildWatch ".concat(r?"success":"fail"));case 12:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),this.handleWatchEstablishmentError=function(){var e=Bn(regeneratorRuntime.mark((function e(t,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="INIT_WATCH"===r.operationName,i=function(){n.closeWithError(new hn({errCode:o?nn.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:nn.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:t})),r.reject(t)},a=function(e){n.useRetryTicket(r.operationName)?o?(n._initWatchPromise=void 0,r.resolve(n.initWatch(e))):(n._rebuildWatchPromise=void 0,r.resolve(n.rebuildWatch(e))):i()},n.handleCommonError(t,{onSignError:function(){return a(!0)},onTimeoutError:function(){return a(!1)},onNotRetryableError:i,onCancelledError:r.reject,onUnknownError:function(){var e=Bn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=function(){var e=Bn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pause(),e.next=3,n.onceWSConnected();case 3:a(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.isWSConnected()){e.next=7;break}return e.next=5,t();case 5:e.next=19;break;case 7:return e.next=9,yn(100);case 9:if(n.watchStatus!==Tn.PAUSED){e.next=13;break}r.reject(new vn("".concat(r.operationName," cancelled due to pause after unknownError"))),e.next=19;break;case 13:if(n.isWSConnected()){e.next=18;break}return e.next=16,t();case 16:e.next=19;break;case 18:a(!1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),a(!0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.closeWatch=Bn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.sessionInfo?n.sessionInfo.queryID:"",n.watchStatus===Tn.ACTIVE){e.next=5;break}return n.watchStatus=Tn.CLOSED,n.onWatchClose(n,t),e.abrupt("return");case 5:return e.prev=5,n.watchStatus=Tn.CLOSING,r={watchId:n.watchId,requestId:tn(),msgType:"CLOSE_WATCH",msgData:null},e.next=10,n.send({msg:r});case 10:n.sessionInfo=void 0,n.watchStatus=Tn.CLOSED,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),n.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:e.t0}));case 17:return e.prev=17,n.onWatchClose(n,t),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])}))),this.scheduleSendACK=function(){n.clearACKSchedule(),n._ackTimeoutId=setTimeout((function(){n._waitExpectedTimeoutId?n.scheduleSendACK():n.sendACK()}),1e4)},this.clearACKSchedule=function(){n._ackTimeoutId&&clearTimeout(n._ackTimeoutId)},this.sendACK=Bn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus===Tn.ACTIVE){e.next=4;break}return n.scheduleSendACK(),e.abrupt("return");case 4:if(n.sessionInfo){e.next=7;break}return console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),e.abrupt("return");case 7:return t={watchId:n.watchId,requestId:tn(),msgType:"CHECK_LAST",msgData:{queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},e.next=10,n.send({msg:t});case 10:n.scheduleSendACK(),e.next=26;break;case 13:if(e.prev=13,e.t0=e.catch(0),!Rn(e.t0)){e.next=25;break}r=e.t0.payload,e.t1=r.msgData.code,e.next="CHECK_LOGIN_FAILED"===e.t1||"SIGN_EXPIRED_ERROR"===e.t1||"SIGN_INVALID_ERROR"===e.t1||"SIGN_PARAM_INVALID"===e.t1?20:"QUERYID_INVALID_ERROR"===e.t1||"SYS_ERR"===e.t1||"INVALIID_ENV"===e.t1||"COLLECTION_PERMISSION_DENIED"===e.t1?22:24;break;case 20:return n.rebuildWatch(),e.abrupt("return");case 22:return n.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code})),e.abrupt("return");case 24:return e.abrupt("break",25);case 25:n._availableRetries.CHECK_LAST&&n._availableRetries.CHECK_LAST>0?(n._availableRetries.CHECK_LAST--,n.scheduleSendACK()):n.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:e.t0}));case 26:case"end":return e.stop()}}),e,null,[[0,13]])}))),this.handleCommonError=function(e,t){if(Rn(e))switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}else{if(function(e){return"timeout"===e.type}(e))return void t.onTimeoutError(e);if(function(e){return"cancelled"===e.type}(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.limit=t.limit,this.orderBy=t.orderBy,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this.listener=new gn({close:this.closeWatch,onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}var t,n,r,o,i;return t=e,(n=[{key:"useRetryTicket",value:function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this._availableRetries[e]," retry left")),!0)}},{key:"handleServerEvents",value:(i=Bn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.scheduleSendACK(),e.next=4,this._handleServerEvents(t);case 4:this._postHandleServerEventsValidityCheck(t),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return i.apply(this,arguments)})},{key:"_handleServerEvents",value:(o=Bn(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,s,c,u,f,l,p,m=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requestId,r=t.msgData.events,o=t.msgType,r.length&&this.sessionInfo){e.next=5;break}return e.abrupt("return");case 5:i=this.sessionInfo,e.prev=6,a=r.map(Fn),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(6),this.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e.t0})),e.abrupt("return");case 14:s=Pn(i.currentDocs),c=!1,u=regeneratorRuntime.mark((function e(r,u){var f,l,p,d,h,_,v,y,g,b,I,E,A,O,w,S,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f=a[r],!(i.currentEventId>=f.id)){e.next=6;break}return!a[r-1]||f.id>a[r-1].id?console.warn("[realtime] duplicate event received, cur ".concat(i.currentEventId," but got ").concat(f.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(n,")")),e.abrupt("return","continue");case 6:if(i.currentEventId!==f.id-1){e.next=58;break}e.t0=f.dataType,e.next="update"===e.t0?10:"replace"===e.t0?22:"remove"===e.t0?27:"limit"===e.t0?30:42;break;case 10:if(f.doc){e.next=21;break}e.t1=f.queueType,e.next="update"===e.t1||"dequeue"===e.t1?14:"enqueue"===e.t1?17:20;break;case 14:if(l=s.find((function(e){return e._id===f.docId}))){if(p=en()(l),f.updatedFields)for(d in f.updatedFields)zt()(p,d,f.updatedFields[d]);if(f.removedFields){h=jn(f.removedFields);try{for(h.s();!(_=h.n()).done;)v=_.value,Qt()(p,v)}catch(e){h.e(e)}finally{h.f()}}f.doc=p}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");return e.abrupt("break",21);case 17:throw y=new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),m.closeWithError(y),y;case 20:return e.abrupt("break",21);case 21:return e.abrupt("break",42);case 22:if(f.doc){e.next=26;break}throw g=new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(t.requestId,")")}),m.closeWithError(g),g;case 26:return e.abrupt("break",42);case 27:return(b=s.find((function(e){return e._id===f.docId})))?f.doc=b:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),e.abrupt("break",42);case 30:if(f.doc){e.next=41;break}e.t2=f.queueType,e.next="dequeue"===e.t2?34:"enqueue"===e.t2?37:40;break;case 34:return(I=s.find((function(e){return e._id===f.docId})))?f.doc=I:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated."),e.abrupt("break",41);case 37:throw E=new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),m.closeWithError(E),E;case 40:return e.abrupt("break",41);case 41:return e.abrupt("break",42);case 42:e.t3=f.queueType,e.next="init"===e.t3?45:"enqueue"===e.t3?47:"dequeue"===e.t3?49:"update"===e.t3?52:55;break;case 45:return c?s.push(f.doc):(c=!0,s=[f.doc]),e.abrupt("break",55);case 47:return s.push(f.doc),e.abrupt("break",55);case 49:return(A=s.findIndex((function(e){return e._id===f.docId})))>-1?s.splice(A,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),e.abrupt("break",55);case 52:return(O=s.findIndex((function(e){return e._id===f.docId})))>-1?s[O]=f.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),e.abrupt("break",55);case 55:(r===u-1||a[r+1]&&a[r+1].id!==f.id)&&(w=Pn(s),S=a.slice(0,r+1).filter((function(e){return e.id===f.id})),m.sessionInfo.currentEventId=f.id,m.sessionInfo.currentDocs=s,N=new bn({id:f.id,docChanges:S,docs:w,msgType:o}),m.listener.onChange(N)),e.next=62;break;case 58:return console.warn("[realtime listener] event received is out of order, cur ".concat(m.sessionInfo.currentEventId," but got ").concat(f.id)),e.next=61,m.rebuildWatch();case 61:return e.abrupt("return",{v:void 0});case 62:case"end":return e.stop()}}),e)})),f=0,l=a.length;case 18:if(!(f<l)){e.next=28;break}return e.delegateYield(u(f,l),"t1",20);case 20:if("continue"!==(p=e.t1)){e.next=23;break}return e.abrupt("continue",25);case 23:if("object"!==Mn(p)){e.next=25;break}return e.abrupt("return",p.v);case 25:f++,e.next=18;break;case 28:case"end":return e.stop()}}),e,this,[[6,10]])}))),function(e){return o.apply(this,arguments)})},{key:"_postHandleServerEventsValidityCheck",value:function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")}},{key:"clearWaitExpectedEvent",value:function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}},{key:"onMessage",value:function(e){var t=this;switch(this.watchStatus){case Tn.PAUSED:if("ERROR"!==e.msgType)return;break;case Tn.LOGGINGIN:case Tn.INITING:case Tn.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));case Tn.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case Tn.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((function(){t.rebuildWatch()}),this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break;case"ERROR":this.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e)}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}},{key:"closeWithError",value:function(e){this.watchStatus=Tn.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"pause",value:function(){this.watchStatus=Tn.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"resume",value:(r=Bn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.watchStatus=Tn.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.prev=2,e.next=5,this.sessionInfo?this.rebuildWatch():this.initWatch();case 5:console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Fn(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var Un,Gn={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};!function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.NoAuthentication=3050]="NoAuthentication"}(Un||(Un={}));var Vn=function(e,t){var n=Gn[e],r=n?"".concat(n.name,", code ").concat(e,", reason ").concat(t||n.description):"code ".concat(e);return new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})};function Hn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||qn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qn(e,t){if(e){if("string"==typeof e)return Wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wn(e,t):void 0}}function Wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Jn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xn(i,r,o,a,s,"next",e)}function s(e){Xn(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Yn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.initWebSocketConnection=function(){var e=Jn(regeneratorRuntime.mark((function e(t){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:n._maxReconnect,!t||!n._reconnectState){e.next=3;break}return e.abrupt("return");case 3:if(t&&(n._reconnectState=!0),!n._wsInitPromise){e.next=6;break}return e.abrupt("return",n._wsInitPromise);case 6:return t&&n.pauseClients(),n.close(Un.ReconnectWebSocket),n._wsInitPromise=new Promise(function(){var e=Jn(regeneratorRuntime.mark((function e(o,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getWsSign();case 3:return a=e.sent,e.next=6,new Promise((function(e){var t=a.wsUrl||"wss://tcb-ws.tencentcloudapi.com";n._ws=Qo.wsClass?new Qo.wsClass(t):new WebSocket(t),e()}));case 6:if(!n._ws.connect){e.next=9;break}return e.next=9,n._ws.connect();case 9:return e.next=11,n.initWebSocketEvent();case 11:o(),t&&(n.resumeClients(),n._reconnectState=!1),e.next=30;break;case 15:if(e.prev=15,e.t0=e.catch(0),console.error("[realtime] initWebSocketConnection connect fail",e.t0),!(r>0)){e.next=28;break}return n._wsInitPromise=void 0,e.next=24,yn(n._reconnectInterval);case 24:t&&(n._reconnectState=!1);case 25:o(n.initWebSocketConnection(t,r-1)),e.next=30;break;case 28:i(e.t0),t&&n.closeAllClients(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:e.t0}));case 30:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()),e.prev=9,e.next=12,n._wsInitPromise;case 12:n._wsReadySubsribers.forEach((function(e){return(0,e.resolve)()})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),n._wsReadySubsribers.forEach((function(e){return(0,e.reject)()}));case 18:return e.prev=18,n._wsInitPromise=void 0,n._wsReadySubsribers=[],e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[9,15,18,22]])})));return function(t){return e.apply(this,arguments)}}(),this.initWebSocketEvent=function(){return new Promise((function(e,t){if(!n._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;n._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),r=!0,e()},n._ws.onerror=function(e){n._logins=new Map,r?(console.error("[realtime] ws event: error",e),n.clearHeartbeat(),n._virtualWSClient.forEach((function(t){return t.closeWithError(new hn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))}))):(console.error("[realtime] ws open failed with ws event: error",e),t(e))},n._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),n._logins=new Map,n.clearHeartbeat(),e.code){case Un.ReconnectWebSocket:case Un.NoRealtimeListeners:break;case Un.HeartbeatPingError:case Un.HeartbeatPongTimeoutError:case Un.NormalClosure:case Un.AbnormalClosure:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Vn(e.code));break;case Un.NoAuthentication:n.closeAllClients(Vn(e.code,e.reason));break;default:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Vn(e.code))}},n._ws.onmessage=function(e){var t,r=e.data;n.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error("[realtime] onMessage parse res.data error: ".concat(e))}if("ERROR"===t.msgType){var o=null;n._virtualWSClient.forEach((function(e){e.watchId===t.watchId&&(o=e)})),o&&o.listener.onError(t)}var i=n._wsResponseWait.get(t.requestId);if(i){try{"ERROR"===t.msgType?i.reject(new Cn(t)):i.resolve(t)}catch(e){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{n._wsResponseWait.delete(t.requestId)}if(i.skipOnMessage)return}if("PONG"!==t.msgType){var a=t.watchId&&n._watchIdClientMap.get(t.watchId);if(a)a.onMessage(t);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(t.watchId,": "),t),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(a=n._queryIdClientMap.get(t.msgData.queryID))&&a.onMessage(t);break;default:var s,c=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=qn(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(n._watchIdClientMap);try{for(c.s();!(s=c.n()).done;){Hn(s.value,2)[1].onMessage(t);break}}catch(e){c.e(e)}finally{c.f()}}}else if(n._lastPingSendTS){var u=Date.now()-n._lastPingSendTS;if(u>1e4)return void console.warn("[realtime] untrusted rtt observed: ".concat(u));n._rttObserved.length>=3&&n._rttObserved.splice(0,n._rttObserved.length-3+1),n._rttObserved.push(u)}},n.heartbeat()}))},this.isWSConnected=function(){return Boolean(n._ws&&1===n._ws.readyState)},this.onceWSConnected=Jn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isWSConnected()){e.next=2;break}return e.abrupt("return");case 2:if(!n._wsInitPromise){e.next=4;break}return e.abrupt("return",n._wsInitPromise);case 4:return e.abrupt("return",new Promise((function(e,t){n._wsReadySubsribers.push({resolve:e,reject:t})})));case 5:case"end":return e.stop()}}),e)}))),this.webLogin=function(){var e=Jn(regeneratorRuntime.mark((function e(t,r){var o,i,a,s,c,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=15;break}if(!t){e.next=12;break}if(!(o=n._logins.get(t))){e.next=10;break}if(!o.loggedIn||!o.loginResult){e.next=8;break}return e.abrupt("return",o.loginResult);case 8:if(!o.loggingInPromise){e.next=10;break}return e.abrupt("return",o.loggingInPromise);case 10:e.next=15;break;case 12:if(!(i=n._logins.get(""))||!i.loggingInPromise){e.next=15;break}return e.abrupt("return",i.loggingInPromise);case 15:return a=new Promise(function(){var e=Jn(regeneratorRuntime.mark((function e(t,r){var o,i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getWsSign();case 3:return o=e.sent,i={envId:o.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:Qo.dataVersion||""},a={watchId:void 0,requestId:tn(),msgType:"LOGIN",msgData:i,exMsgData:{runtime:Qo.runtime,signStr:o.signStr,secretVersion:o.secretVersion}},e.next=8,n.send({msg:a,waitResponse:!0,skipOnMessage:!0,timeout:5e3});case 8:(s=e.sent).msgData.code?r(new Error("".concat(s.msgData.code," ").concat(s.msgData.message))):t({envId:o.envId}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()),s=t&&n._logins.get(t),c=Date.now(),s?(s.loggedIn=!1,s.loggingInPromise=a,s.loginStartTS=c):(s={loggedIn:!1,loggingInPromise:a,loginStartTS:c},n._logins.set(t||"",s)),e.prev=19,e.next=22,a;case 22:if(u=e.sent,!(f=t&&n._logins.get(t))||f!==s||f.loginStartTS!==c){e.next=32;break}return s.loggedIn=!0,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=u,e.abrupt("return",u);case 32:if(!f){e.next=44;break}if(!f.loggedIn||!f.loginResult){e.next=37;break}return e.abrupt("return",f.loginResult);case 37:if(!f.loggingInPromise){e.next=41;break}return e.abrupt("return",f.loggingInPromise);case 41:throw new Error("ws unexpected login info");case 42:e.next=45;break;case 44:throw new Error("ws login info reset");case 45:e.next=54;break;case 47:throw e.prev=47,e.t0=e.catch(19),s.loggedIn=!1,s.loggingInPromise=void 0,s.loginStartTS=void 0,s.loginResult=void 0,e.t0;case 54:case"end":return e.stop()}}),e,null,[[19,47]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getWsSign=Jn(regeneratorRuntime.mark((function e(){var t,r,o,i,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n._wsSign&&n._wsSign.expiredTs>Date.now())){e.next=2;break}return e.abrupt("return",n._wsSign);case 2:return t=Date.now()+6e4,e.next=5,n._context.appConfig.request.send("auth.wsWebSign",{runtime:Qo.runtime});case 5:if(!(r=e.sent).code){e.next=8;break}throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败: ".concat(r.code));case 8:if(!r.data){e.next=13;break}return o=r.data,i=o.signStr,a=o.wsUrl,s=o.secretVersion,c=o.envId,e.abrupt("return",{signStr:i,wsUrl:a,secretVersion:s,envId:c,expiredTs:t});case 13:throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败");case 14:case"end":return e.stop()}}),e)}))),this.getWaitExpectedTimeoutLength=function(){return n._rttObserved.length?n._rttObserved.reduce((function(e,t){return e+t}))/n._rttObserved.length*1.5:5e3},this.ping=Jn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={watchId:void 0,requestId:tn(),msgType:"PING",msgData:null},e.next=3,n.send({msg:t});case 3:case"end":return e.stop()}}),e)}))),this.send=function(){var e=Jn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Jn(regeneratorRuntime.mark((function e(r,o){var i,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,s=!1,c=function(e){a=!0,i&&clearTimeout(i),r(e)},u=function(e){s=!0,i&&clearTimeout(i),o(e)},t.timeout&&(i=setTimeout(Jn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&s){e.next=4;break}return e.next=3,yn(0);case 3:a&&s||u(new _n("wsclient.send timedout"));case 4:case"end":return e.stop()}}),e)}))),t.timeout)),e.prev=5,!n._wsInitPromise){e.next=9;break}return e.next=9,n._wsInitPromise;case 9:if(n._ws){e.next=12;break}return u(new Error("invalid state: ws connection not exists, can not send message")),e.abrupt("return");case 12:if(1===n._ws.readyState){e.next=15;break}return u(new Error("ws readyState invalid: ".concat(n._ws.readyState,", can not send message"))),e.abrupt("return");case 15:return t.waitResponse&&n._wsResponseWait.set(t.msg.requestId,{resolve:c,reject:u,skipOnMessage:t.skipOnMessage}),e.prev=16,e.next=19,n._ws.send(JSON.stringify(t.msg));case 19:t.waitResponse||c(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),e.t0&&(u(e.t0),t.waitResponse&&n._wsResponseWait.delete(t.msg.requestId));case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(5),u(e.t1);case 30:case"end":return e.stop()}}),e,null,[[5,27],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.closeAllClients=function(e){n._virtualWSClient.forEach((function(t){t.closeWithError(e)}))},this.pauseClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.pause()}))},this.resumeClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.resume()}))},this.onWatchStart=function(e,t){n._queryIdClientMap.set(t,e)},this.onWatchClose=function(e,t){t&&n._queryIdClientMap.delete(t),n._watchIdClientMap.delete(e.watchId),n._virtualWSClient.delete(e),n._virtualWSClient.size||n.close(Un.NoRealtimeListeners)},this._maxReconnect=t.maxReconnect||5,this._reconnectInterval=t.reconnectInterval||1e4,this._context=t.context}var t;return(t=[{key:"heartbeat",value:function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(Jn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._ws&&1===t._ws.readyState){e.next=3;break}return e.abrupt("return");case 3:return t._lastPingSendTS=Date.now(),e.next=6,t.ping();case 6:t._pingFailed=0,t._pongTimeoutId=setTimeout((function(){console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.initWebSocketConnection(!0)}),t._context.appConfig.realtimePongWaitTimeout),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(Un.HeartbeatPingError);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),e?0:this._context.appConfig.realtimePingInterval)}},{key:"clearHeartbeat",value:function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}},{key:"close",value:function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,Gn[e].name),this._ws=void 0)}},{key:"watch",value:function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new kn(Object.assign(Object.assign({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var $n=function(){function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};zn(this,e),this.watch=function(e){return Qo.ws||(Qo.ws=new Yn({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:o.request}}})),Qo.ws.watch(Object.assign(Object.assign({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=t,this._coll=n,this.id=r,this.request=new Qo.reqClass(this._db.config),this.projection=i}var t;return(t=[{key:"create",value:function(e,t){t=t||vt();var n={collectionName:this._coll,data:Ft(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"set",value:function(e,t){if(t=t||vt(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==Kn(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1;if(function e(t){if("object"===Kn(t))for(var r in t)t[r]instanceof gt?n=!0:"object"===Kn(t[r])&&e(t[r])}(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var r={collectionName:this._coll,queryType:Z.DOC,data:Ft(e),multi:!1,merge:!1,upsert:!0};return this.id&&(r.query={_id:this.id}),this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"update",value:function(e,t){if(t=t||vt(),!e||"object"!==Kn(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:Yt.encode(e),query:n,queryType:Z.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"remove",value:function(e){e=e||vt();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Z.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise}},{key:"get",value:function(e){e=e||vt();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Z.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=pt.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise}},{key:"field",value:function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),e}var nr=function(){function e(){Zn(this,e)}return tr(e,null,[{key:"encode",value:function(e){return(new rr).encodeQuery(e)}}]),e}(),rr=function(){function e(){Zn(this,e)}return tr(e,[{key:"encodeQuery",value:function(e,t){return qt(e)?At(e)?this.encodeLogicCommand(e):Rt(e)?this.encodeQueryCommand(e):Qn({},t,this.encodeQueryObject(e)):Pe(e)?this.encodeQueryObject(e):e}},{key:"encodeRegExp",value:function(e){return{$regex:e.source,$options:e.flags}}},{key:"encodeLogicCommand",value:function(e){var t=this;switch(e.operator){case yt.NOR:case yt.AND:case yt.OR:return Qn({},Lt(e.operator),e.operands.map((function(n){return t.encodeQuery(n,e.fieldName)})));case yt.NOT:var n=Lt(e.operator),r=e.operands[0];if(Le(r))return Qn({},e.fieldName,Qn({},n,this.encodeRegExp(r)));var o=this.encodeQuery(r)[e.fieldName];return Qn({},e.fieldName,Qn({},n,o));default:var i=Lt(e.operator);return 1===e.operands.length?Qn({},i,this.encodeQuery(e.operands[0])):Qn({},i,e.operands.map(this.encodeQuery.bind(this)))}}},{key:"encodeQueryCommand",value:function(e){return Mt(e),this.encodeComparisonCommand(e)}},{key:"encodeComparisonCommand",value:function(e){if(e.fieldName===ge)throw new Error("Cannot encode a comparison command with unset field name");var t=Lt(e.operator);switch(e.operator){case It.EQ:case It.NEQ:case It.LT:case It.LTE:case It.GT:case It.GTE:case It.ELEM_MATCH:case It.EXISTS:case It.SIZE:case It.MOD:return Qn({},e.fieldName,Qn({},t,Wt(e.operands[0])));case It.IN:case It.NIN:case It.ALL:return Qn({},e.fieldName,Qn({},t,Wt(e.operands)));case It.GEO_NEAR:var n=e.operands[0];return Qn({},e.fieldName,{$nearSphere:{$geometry:n.geometry.toJSON(),$maxDistance:n.maxDistance,$minDistance:n.minDistance}});case It.GEO_WITHIN:var r=e.operands[0];return Qn({},e.fieldName,{$geoWithin:{$geometry:r.geometry.toJSON()}});case It.GEO_INTERSECTS:var o=e.operands[0];return Qn({},e.fieldName,{$geoIntersects:{$geometry:o.geometry.toJSON()}});default:return Qn({},e.fieldName,Qn({},t,Wt(e.operands[0])))}}},{key:"encodeQueryObject",value:function(e){var t=Vt(e);for(var n in t){var r=t[n];if(At(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(Mt(r)){t[n]=r._setFieldName(n);var i=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,i,n)}else qt(r)&&(t[n]=Wt(r))}return t}},{key:"mergeConditionAfterEncode",value:function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?xe(e[r])?e[r]=e[r].concat(t[r]):Pe(e[r])?Pe(t[r])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is ".concat(Me(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(Me(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}}]),e}();function or(e){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ir=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return Qo.ws||(Qo.ws=new Yn({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:a._request}}})),Qo.ws.watch(Object.assign(Object.assign({},e),{envId:a._db.config.env,collectionName:a._coll,query:JSON.stringify(a._fieldFilters),limit:a._queryOptions.limit,orderBy:a._fieldOrders?a._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=t,this._coll=n,this._fieldFilters=r,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new Qo.reqClass(this._db.config)}var t;return(t=[{key:"get",value:function(e){e=e||vt();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:Z.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:pt.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}})).catch((function(t){e(t)})),e.promise}},{key:"count",value:function(e){e=e||vt();var t={collectionName:this._coll,queryType:Z.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})),e.promise}},{key:"where",value:function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(Y.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(Y.QueryParamValueError);return new e(this._db,this._coll,nr.encode(t),this._fieldOrders,this._queryOptions)}},{key:"orderBy",value:function(t,n){mt.isFieldPath(t),mt.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)}},{key:"limit",value:function(t){mt.isInteger("limit",t);var n=Object.assign({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"skip",value:function(t){mt.isInteger("offset",t);var n=Object.assign({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"update",value:function(e,t){if(t=t||vt(),!e||"object"!==or(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Z.WHERE,multi:!0,merge:!0,upsert:!1,data:Yt.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})),t.promise}},{key:"field",value:function(t){for(var n in t)t[n]?"object"!==or(t[n])&&(t[n]=1):t[n]=0;var r=Object.assign({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)}},{key:"remove",value:function(e){e=e||vt(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:nr.encode(this._fieldFilters),queryType:Z.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})),e.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sr(e,t){return!t||"object"!==mr(t)&&"function"!=typeof t?cr(e):t}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _r(e,t){return e(t={exports:{}},t.exports),t.exports}for(var vr=[],yr=[],gr="undefined"!=typeof Uint8Array?Uint8Array:Array,br="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ir=0,Er=br.length;Ir<Er;++Ir)vr[Ir]=br[Ir],yr[br.charCodeAt(Ir)]=Ir;function Ar(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(vr[(o=r)>>18&63]+vr[o>>12&63]+vr[o>>6&63]+vr[63&o]);return i.join("")}yr["-".charCodeAt(0)]=62,yr["_".charCodeAt(0)]=63;var Or=function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}(e),o=r[0],i=r[1],a=new gr(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),s=0,c=i>0?o-4:o;for(n=0;n<c;n+=4)t=yr[e.charCodeAt(n)]<<18|yr[e.charCodeAt(n+1)]<<12|yr[e.charCodeAt(n+2)]<<6|yr[e.charCodeAt(n+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===i&&(t=yr[e.charCodeAt(n)]<<2|yr[e.charCodeAt(n+1)]>>4,a[s++]=255&t),1===i&&(t=yr[e.charCodeAt(n)]<<10|yr[e.charCodeAt(n+1)]<<4|yr[e.charCodeAt(n+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},wr=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,s=n-r;a<s;a+=i)o.push(Ar(e,a,a+i>s?s:a+i));return 1===r?(t=e[n-1],o.push(vr[t>>2]+vr[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(vr[t>>10]+vr[t>>4&63]+vr[t<<2&63]+"=")),o.join("")},Sr=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,f=-7,l=n?o-1:0,p=n?-1:1,m=e[t+l];for(l+=p,i=m&(1<<-f)-1,m>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,r),i-=u}return(m?-1:1)*a*Math.pow(2,i-r)},Nr=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,d=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+m]=255&s,m+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+m]=255&a,m+=d,a/=256,u-=8);e[n+m-d]|=128*h},Tr=_r((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|p(e,t),r=o(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var a=function(e){if(i.isBuffer(e)){var t=0|l(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return s(e),o(e<0?0:0|l(e))}function u(e){for(var t=e.length<0?0:0|l(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function l(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return r?-1:L(e).length;t=(""+t).toLowerCase(),o=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return S(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function h(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var l=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){l=!1;break}if(l)return i}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[n+a]=s}return a}function y(e,t,n,r){return k(L(t,e.length-n),e,n,r)}function g(e,t,n,r){return k(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return g(e,t,n,r)}function I(e,t,n,r){return k(B(t),e,n,r)}function E(e,t,n,r){return k(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?wr(e):wr(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],f=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l<=n)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=w));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return s(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(F(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(F(a,Uint8Array)&&(a=i.from(a)),!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):m.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(a,s),u=this.slice(r,o),f=e.slice(t,n),l=0;l<c;++l)if(u[l]!==f[l]){a=u[l],s=f[l];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return h(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return h(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return y(this,e,t,n);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function S(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function T(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=G[e[i]];return o}function C(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,4),Nr(e,t,n,r,23,4),n+4}function x(e,t,n,r,o){return t=+t,n>>>=0,o||P(e,0,n,8),Nr(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),Sr(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),Sr(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),Sr(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),Sr(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||M(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);M(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=o-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:i.from(e,r),c=s.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var D=/[^+/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return Or(function(e){if((e=(e=e.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function k(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()})),Cr=(Tr.Buffer,Tr.SlowBuffer,Tr.INSPECT_MAX_BYTES,Tr.kMaxLength,_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(Tr.Buffer.isBuffer(e))return e;if(ArrayBuffer.isView(e))return Tr.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return Tr.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}})));hr(Cr),Cr.ensureBuffer;var Rr=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.parseUUID=function(e){if("string"!=typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+mr(e));if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}}));hr(Rr),Rr.parseUUID;var Mr=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(fr(this,e),!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=Tr.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=Tr.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=Tr.Buffer.from(t):this.buffer=Cr.ensureBuffer(t),this.position=this.buffer.byteLength)}return pr(e,[{key:"put",value:function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=Tr.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=Tr.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(Cr.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)}},{key:"read",value:function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)}},{key:"value",value:function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return this.buffer.toString("base64")}},{key:"toString",value:function(e){return this.buffer.toString(e)}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}}],[{key:"fromExtendedJSON",value:function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=Tr.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Tr.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=Tr.Buffer.from(Rr.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return new e(r,o)}}]),e}();t.Binary=n,n.BSON_BINARY_SUBTYPE_DEFAULT=0,n.BUFFER_SIZE=256,n.SUBTYPE_DEFAULT=0,n.SUBTYPE_FUNCTION=1,n.SUBTYPE_BYTE_ARRAY=2,n.SUBTYPE_UUID_OLD=3,n.SUBTYPE_UUID=4,n.SUBTYPE_MD5=5,n.SUBTYPE_USER_DEFINED=128,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));hr(Mr),Mr.Binary;var Pr=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){fr(this,e),this.code=t,this.scope=n}return pr(e,[{key:"toJSON",value:function(){return{code:this.code,scope:this.scope}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));hr(Pr),Pr.Code;var jr={};function xr(e,t){var n={seen:[],stylize:Lr};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Ur(t)?n.showHidden=t:t&&zr(n,t),Hr(n.showHidden)&&(n.showHidden=!1),Hr(n.depth)&&(n.depth=2),Hr(n.colors)&&(n.colors=!1),Hr(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Dr),Br(n,e,n.depth)}function Dr(e,t){var n=xr.styles[t];return n?"["+xr.colors[n][0]+"m"+e+"["+xr.colors[n][1]+"m":e}function Lr(e,t){return e}function Br(e,t,n){if(e.customInspect&&t&&Yr(t.inspect)&&t.inspect!==xr&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return Vr(r)||(r=Br(e,r,n)),r}var o=function(e,t){if(Hr(t))return e.stylize("undefined","undefined");if(Vr(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return function(e){return"number"==typeof e}(t)?e.stylize(""+t,"number"):Ur(t)?e.stylize(""+t,"boolean"):Gr(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Jr(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return kr(t);if(0===i.length){if(Yr(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(qr(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Xr(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Jr(t))return kr(t)}var c,u="",f=!1,l=["{","}"];return function(e){return Array.isArray(e)}(t)&&(f=!0,l=["[","]"]),Yr(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),qr(t)&&(u=" "+RegExp.prototype.toString.call(t)),Xr(t)&&(u=" "+Date.prototype.toUTCString.call(t)),Jr(t)&&(u=" "+kr(t)),0!==i.length||f&&0!=t.length?n<0?qr(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=f?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)$r(t,String(a))?i.push(Fr(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Fr(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return Fr(e,t,n,a,r,f)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,u,l)):l[0]+u+l[1]}function kr(e){return"["+Error.prototype.toString.call(e)+"]"}function Fr(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),$r(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=Gr(n)?Br(e,c.value,null):Br(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),Hr(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function Ur(e){return"boolean"==typeof e}function Gr(e){return null===e}function Vr(e){return"string"==typeof e}function Hr(e){return void 0===e}function qr(e){return Wr(e)&&"[object RegExp]"===Kr(e)}function Wr(e){return"object"===babelHelpers.typeof(e)&&null!==e}function Xr(e){return Wr(e)&&"[object Date]"===Kr(e)}function Jr(e){return Wr(e)&&("[object Error]"===Kr(e)||e instanceof Error)}function Yr(e){return"function"==typeof e}function Kr(e){return Object.prototype.toString.call(e)}function zr(e,t){if(!t||!Wr(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function $r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Object.create,xr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},xr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Qr=function e(t,r){if(Hr(n.g.process))return function(){return e(t,r).apply(this,arguments)};var o=!1;return function(){return o||(console.error(r),o=!0),t.apply(this,arguments)}},Zr=_r((function(e,t){function n(e){for(var t=Tr.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")},t.randomBytes=n,"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=function(e){return window.crypto.getRandomValues(Tr.Buffer.alloc(e))};else{try{t.randomBytes=jr.randomBytes}catch(e){}null==t.randomBytes&&(t.randomBytes=n)}function r(){return void 0!==dr&&void 0!==dr.Buffer}function o(e){return"object"===mr(e)&&null!==e}t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.haveBuffer=r,t.isBuffer=function(e){return r()&&Tr.Buffer.isBuffer(e)},t.isDate=function(e){return o(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=o,t.deprecate=function(e,t){if("undefined"==typeof window||"undefined"==typeof self)return Qr(e,t);var n=!1;return function(){n||(console.warn(t),n=!0);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply.apply(e,[this].concat(o))}}}));hr(Zr),Zr.deprecate,Zr.isObjectLike,Zr.isDate,Zr.isBuffer,Zr.haveBuffer,Zr.isBigUInt64Array,Zr.isBigInt64Array,Zr.isUint8Array,Zr.randomBytes,Zr.normalizedFunctionString;var eo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return Zr.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var n=function(){function e(t,n,r,o){fr(this,e);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return pr(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=Object.assign(t,this.fields))}},{key:"namespace",get:function(){return this.collection},set:function(e){this.collection=e}}],[{key:"fromExtendedJSON",value:function(t){var n=Object.assign({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)}}]),e}();t.DBRef=n,Object.defineProperty(n.prototype,"_bsontype",{value:"DBRef"})}));hr(eo),eo.DBRef,eo.isDBRefLike;var to=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}var r=4294967296,o=0x10000000000000000,i=o/2,a={},s={},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;fr(this,e),this.comp=e.prototype.compare,this.div=e.prototype.divide,this.eq=e.prototype.equals,this.gt=e.prototype.greaterThan,this.gte=e.prototype.greaterThanOrEqual,this.ge=e.prototype.greaterThanOrEqual,this.lt=e.prototype.lessThan,this.lte=e.prototype.lessThanOrEqual,this.mod=e.prototype.modulo,this.rem=e.prototype.modulo,this.mul=e.prototype.multiply,this.neg=e.prototype.negate,this.neq=e.prototype.notEquals,this.ne=e.prototype.notEquals,this.shl=e.prototype.shiftLeft,this.shr=e.prototype.shiftRight,this.shr_u=e.prototype.shiftRightUnsigned,this.shru=e.prototype.shiftRightUnsigned,this.sub=e.prototype.subtract,this.eqz=e.prototype.isZero,this.le=e.prototype.lessThanOrEqual,this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return pr(e,[{key:"add",value:function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=t.high>>>16,s=65535&t.high,c=t.low>>>16,u=0,f=0,l=0,p=0;return l+=(p+=i+(65535&t.low))>>>16,p&=65535,f+=(l+=o+c)>>>16,l&=65535,u+=(f+=r+s)>>>16,f&=65535,u+=n+a,u&=65535,e.fromBits(l<<16|p,u<<16|f,this.unsigned)}},{key:"and",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)}},{key:"compare",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1}},{key:"divide",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;a=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(o=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(o)),a=o.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=e.ZERO}for(i=this;i.gte(t);){o=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(o)/Math.LN2),c=s<=48?1:Math.pow(2,s-48),u=e.fromNumber(o),f=u.mul(t);f.isNegative()||f.gt(i);)o-=c,f=(u=e.fromNumber(o,this.unsigned)).mul(t);u.isZero()&&(u=e.ONE),a=a.add(u),i=i.sub(f)}return a}},{key:"equals",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low}},{key:"getHighBits",value:function(){return this.high}},{key:"getHighBitsUnsigned",value:function(){return this.high>>>0}},{key:"getLowBits",value:function(){return this.low}},{key:"getLowBitsUnsigned",value:function(){return this.low>>>0}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1}},{key:"greaterThan",value:function(e){return this.comp(e)>0}},{key:"greaterThanOrEqual",value:function(e){return this.comp(e)>=0}},{key:"isEven",value:function(){return 0==(1&this.low)}},{key:"isNegative",value:function(){return!this.unsigned&&this.high<0}},{key:"isOdd",value:function(){return 1==(1&this.low)}},{key:"isPositive",value:function(){return this.unsigned||this.high>=0}},{key:"isZero",value:function(){return 0===this.high&&0===this.low}},{key:"lessThan",value:function(e){return this.comp(e)<0}},{key:"lessThanOrEqual",value:function(e){return this.comp(e)<=0}},{key:"modulo",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))}},{key:"multiply",value:function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,a=this.low>>>16,s=65535&this.low,c=t.high>>>16,u=65535&t.high,f=t.low>>>16,l=65535&t.low,p=0,m=0,d=0,h=0;return d+=(h+=s*l)>>>16,h&=65535,m+=(d+=a*l)>>>16,d&=65535,m+=(d+=s*f)>>>16,d&=65535,p+=(m+=i*l)>>>16,m&=65535,p+=(m+=a*f)>>>16,m&=65535,p+=(m+=s*u)>>>16,m&=65535,p+=o*l+i*f+a*u+s*c,p&=65535,e.fromBits(d<<16|h,p<<16|m,this.unsigned)}},{key:"negate",value:function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)}},{key:"not",value:function(){return e.fromBits(~this.low,~this.high,this.unsigned)}},{key:"notEquals",value:function(e){return!this.equals(e)}},{key:"or",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)}},{key:"shiftLeft",value:function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)}},{key:"shiftRight",value:function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)}},{key:"shiftRightUnsigned",value:function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)}},{key:"subtract",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())}},{key:"toInt",value:function(){return this.unsigned?this.low>>>0:this.low}},{key:"toNumber",value:function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)}},{key:"toBigInt",value:function(){return BigInt(this.toString())}},{key:"toBytes",value:function(e){return e?this.toBytesLE():this.toBytesBE()}},{key:"toBytesLE",value:function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}},{key:"toBytesBE",value:function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}},{key:"toSigned",value:function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this}},{key:"toString",value:function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),a=this,s="";;){var c=a.div(i),u=(a.sub(c.mul(i)).toInt()>>>0).toString(t);if((a=c).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}}},{key:"toUnsigned",value:function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)}},{key:"xor",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}}],[{key:"fromBits",value:function(t,n,r){return new e(t,n,r)}},{key:"fromInt",value:function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=s[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(s[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=a[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(a[t]=r),r)}},{key:"fromNumber",value:function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=o)return e.MAX_UNSIGNED_VALUE}else{if(t<=-i)return e.MIN_VALUE;if(t+1>=i)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%r|0,t/r|0,n)}},{key:"fromBigInt",value:function(t,n){return e.fromString(t.toString(),n)}},{key:"fromString",value:function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),a=e.ZERO,s=0;s<t.length;s+=8){var c=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+c),r);if(c<8){var f=e.fromNumber(Math.pow(r,c));a=a.mul(f).add(e.fromNumber(u))}else a=(a=a.mul(i)).add(e.fromNumber(u))}return a.unsigned=n,a}},{key:"fromBytes",value:function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)}},{key:"fromBytesLE",value:function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)}},{key:"fromBytesBE",value:function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)}},{key:"isLong",value:function(e){return Zr.isObjectLike(e)&&!0===e.__isLong__}},{key:"fromValue",value:function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}},{key:"fromExtendedJSON",value:function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r}}]),e}();t.Long=c,c.TWO_PWR_24=c.fromInt(1<<24),c.MAX_UNSIGNED_VALUE=c.fromBits(-1,-1,!0),c.ZERO=c.fromInt(0),c.UZERO=c.fromInt(0,!0),c.ONE=c.fromInt(1),c.UONE=c.fromInt(1,!0),c.NEG_ONE=c.fromInt(-1),c.MAX_VALUE=c.fromBits(-1,2147483647,!1),c.MIN_VALUE=c.fromBits(0,-2147483648,!1),Object.defineProperty(c.prototype,"__isLong__",{value:!0}),Object.defineProperty(c.prototype,"_bsontype",{value:"Long"})}));hr(to),to.Long;var no=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,o=/^(\+|-)?NaN$/i,i=6111,a=-6176,s=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=/^([-+])?(\d+)?$/;function l(e){return!isNaN(parseInt(e,10))}function p(e){var t=to.Long.fromNumber(1e9),n=to.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new to.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function m(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var d=function(){function e(t){fr(this,e),this.bytes=t}return pr(e,[{key:"toString",value:function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var o,i,a,s=0,c=!1,u={parts:[0,0,0,0]},f=[];s=0;var l=this.bytes,m=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,d=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,h=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24,_=l[s++]|l[s++]<<8|l[s++]<<16|l[s++]<<24;s=0,(new to.Long(m,d),new to.Long(h,_)).lessThan(to.Long.ZERO)&&f.push("-");var v=_>>26&31;if(v>>3==3){if(30===v)return f.join("")+"Infinity";if(31===v)return"NaN";e=_>>15&16383,o=8+(_>>14&1)}else o=_>>14&7,e=_>>17&16383;var y=e-6176;if(u.parts[0]=(16383&_)+((15&o)<<14),u.parts[1]=h,u.parts[2]=d,u.parts[3]=m,0===u.parts[0]&&0===u.parts[1]&&0===u.parts[2]&&0===u.parts[3])c=!0;else for(a=3;a>=0;a--){var g=0,b=p(u);if(u=b.quotient,g=b.rem.low)for(i=8;i>=0;i--)n[9*a+i]=g%10,g=Math.floor(g/10)}if(c)t=1,n[s]=0;else for(t=36;!n[s];)t-=1,s+=1;var I=t-1+y;if(I>=34||I<=-7||y>0){if(t>34)return f.push("".concat(0)),y>0?f.push("E+"+y):y<0&&f.push("E"+y),f.join("");f.push("".concat(n[s++])),(t-=1)&&f.push(".");for(var E=0;E<t;E++)f.push("".concat(n[s++]));f.push("E"),I>0?f.push("+"+I):f.push("".concat(I))}else if(y>=0)for(var A=0;A<t;A++)f.push("".concat(n[s++]));else{var O=t+y;if(O>0)for(var w=0;w<O;w++)f.push("".concat(n[s++]));else f.push("0");for(f.push(".");O++<0;)f.push("0");for(var S=0;S<t-Math.max(O-1,0);S++)f.push("".concat(n[s++]))}return f.join("")}},{key:"toJSON",value:function(){return{$numberDecimal:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$numberDecimal:this.toString()}}}],[{key:"fromString",value:function(t){var p,d=!1,h=!1,_=!1,v=0,y=0,g=0,b=0,I=0,E=[0],A=0,O=0,w=0,S=0,N=0,T=0,C=new to.Long(0,0),R=new to.Long(0,0),M=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var P=t.match(n),j=t.match(r),x=t.match(o);if(!P&&!j&&!x||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(P){var D=P[2],L=P[4],B=P[5],k=P[6];L&&void 0===k&&m(t,"missing exponent power"),L&&void 0===D&&m(t,"missing exponent base"),void 0===L&&(B||k)&&m(t,"missing e before exponent")}if("+"!==t[M]&&"-"!==t[M]||(d="-"===t[M++]),!l(t[M])&&"."!==t[M]){if("i"===t[M]||"I"===t[M])return new e(Tr.Buffer.from(d?c:u));if("N"===t[M])return new e(Tr.Buffer.from(s))}for(;l(t[M])||"."===t[M];)"."!==t[M]?(A<34&&("0"!==t[M]||_)&&(_||(I=y),_=!0,E[O++]=parseInt(t[M],10),A+=1),_&&(g+=1),h&&(b+=1),y+=1,M+=1):(h&&m(t,"contains multiple periods"),h=!0,M+=1);if(h&&!y)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[M]||"E"===t[M]){var F=t.substr(++M).match(f);if(!F||!F[2])return new e(Tr.Buffer.from(s));N=parseInt(F[0],10),M+=F[0].length}if(t[M])return new e(Tr.Buffer.from(s));if(w=0,A){if(S=A-1,1!==(v=g))for(;"0"===t[I+v-1];)v-=1}else w=0,S=0,E[0]=0,g=1,A=1,v=0;for(N<=b&&b-N>16384?N=a:N-=b;N>i;){if((S+=1)-w>34){if(E.join("").match(/^0+$/)){N=i;break}m(t,"overflow")}N-=1}for(;N<a||A<g;){if(0===S&&v<A){N=a,v=0;break}if(A<g?g-=1:S-=1,N<i)N+=1;else{if(E.join("").match(/^0+$/)){N=i;break}m(t,"overflow")}}if(S-w+1<v){var U=y;h&&(I+=1,U+=1),d&&(I+=1,U+=1);var G=parseInt(t[I+S+1],10),V=0;if(G>=5&&(V=1,5===G))for(V=E[S]%2==1?1:0,T=I+S+2;T<U;T++)if(parseInt(t[T],10)){V=1;break}if(V)for(var H=S;H>=0;H--)if(++E[H]>9&&(E[H]=0,0===H)){if(!(N<i))return new e(Tr.Buffer.from(d?c:u));N+=1,E[H]=1}}if(C=to.Long.fromNumber(0),R=to.Long.fromNumber(0),0===v)C=to.Long.fromNumber(0),R=to.Long.fromNumber(0);else if(S-w<17){var q=w;for(R=to.Long.fromNumber(E[q++]),C=new to.Long(0,0);q<=S;q++)R=(R=R.multiply(to.Long.fromNumber(10))).add(to.Long.fromNumber(E[q]))}else{var W=w;for(C=to.Long.fromNumber(E[W++]);W<=S-17;W++)C=(C=C.multiply(to.Long.fromNumber(10))).add(to.Long.fromNumber(E[W]));for(R=to.Long.fromNumber(E[W++]);W<=S;W++)R=(R=R.multiply(to.Long.fromNumber(10))).add(to.Long.fromNumber(E[W]))}var X,J,Y,K,z=function(e,t){if(!e&&!t)return{high:to.Long.fromNumber(0),low:to.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new to.Long(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new to.Long(t.getLowBits(),0),a=n.multiply(o),s=n.multiply(i),c=r.multiply(o),u=r.multiply(i);return a=a.add(s.shiftRightUnsigned(32)),s=new to.Long(s.getLowBits(),0).add(c).add(u.shiftRightUnsigned(32)),{high:a=a.add(s.shiftRightUnsigned(32)),low:u=s.shiftLeft(32).add(new to.Long(u.getLowBits(),0))}}(C,to.Long.fromString("100000000000000000"));z.low=z.low.add(R),J=R,((Y=(X=z.low).high>>>0)<(K=J.high>>>0)||Y===K&&X.low>>>0<J.low>>>0)&&(z.high=z.high.add(to.Long.fromNumber(1))),p=N+6176;var $={low:to.Long.fromNumber(0),high:to.Long.fromNumber(0)};z.high.shiftRightUnsigned(49).and(to.Long.fromNumber(1)).equals(to.Long.fromNumber(1))?($.high=$.high.or(to.Long.fromNumber(3).shiftLeft(61)),$.high=$.high.or(to.Long.fromNumber(p).and(to.Long.fromNumber(16383).shiftLeft(47))),$.high=$.high.or(z.high.and(to.Long.fromNumber(0x7fffffffffff)))):($.high=$.high.or(to.Long.fromNumber(16383&p).shiftLeft(49)),$.high=$.high.or(z.high.and(to.Long.fromNumber(562949953421311)))),$.low=z.low,d&&($.high=$.high.or(to.Long.fromString("9223372036854775808")));var Q=Tr.Buffer.alloc(16);return M=0,Q[M++]=255&$.low.low,Q[M++]=$.low.low>>8&255,Q[M++]=$.low.low>>16&255,Q[M++]=$.low.low>>24&255,Q[M++]=255&$.low.high,Q[M++]=$.low.high>>8&255,Q[M++]=$.low.high>>16&255,Q[M++]=$.low.high>>24&255,Q[M++]=255&$.high.low,Q[M++]=$.high.low>>8&255,Q[M++]=$.high.low>>16&255,Q[M++]=$.high.low>>24&255,Q[M++]=255&$.high.high,Q[M++]=$.high.high>>8&255,Q[M++]=$.high.high>>16&255,Q[M++]=$.high.high>>24&255,new e(Q)}},{key:"fromExtendedJSON",value:function(t){return e.fromString(t.$numberDecimal)}}]),e}();t.Decimal128=d,Object.defineProperty(d.prototype,"_bsontype",{value:"Decimal128"})}));hr(no),no.Decimal128;var ro=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){fr(this,e),t instanceof Number&&(t=t.valueOf()),this.value=+t}return pr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t}}],[{key:"fromExtendedJSON",value:function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)}}]),e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));hr(ro),ro.Double;var oo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){fr(this,e),t instanceof Number&&(t=t.valueOf()),this.value=+t}return pr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));hr(oo),oo.Int32;var io=_r((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e},o=r("object"===("undefined"==typeof globalThis?"undefined":mr(globalThis))&&globalThis)||r("object"===("undefined"==typeof window?"undefined":mr(window))&&window)||r("object"===("undefined"==typeof self?"undefined":mr(self))&&self)||r("object"===mr(dr)&&dr)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=n=o.Map:t.Map=n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];fr(this,e),this._keys=[],this._values={};for(var n=0;n<t.length;n++)if(null!=t[n]){var r=t[n],o=r[0],i=r[1];this._keys.push(o),this._values[o]={v:i,i:this._keys.length-1}}}return pr(e,[{key:"clear",value:function(){this._keys=[],this._values={}}},{key:"delete",value:function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)}},{key:"entries",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}}},{key:"get",value:function(e){return this._values[e]?this._values[e].v:void 0}},{key:"has",value:function(e){return null!=this._values[e]}},{key:"keys",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}}},{key:"set",value:function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)}},{key:"values",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}}},{key:"size",get:function(){return this._keys.length}}]),e}()}));hr(io),io.Map;var ao=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){fr(this,e)}return pr(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));hr(ao),ao.MaxKey;var so=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){fr(this,e)}return pr(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));hr(so),so.MinKey;var co=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=Zr.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),o=[],i=0;i<256;i++)o[i]=(i<=15?"0":"")+i.toString(16);for(var a=[],s=0;s<10;)a[48+s]=s++;for(;s<16;)a[55+s]=a[87+s]=s++;var c=Symbol("id"),u=function(){function e(t){if(fr(this,e),t instanceof e&&(this[c]=t.id,this.__id=t.__id),"object"===mr(t)&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[c]=Tr.Buffer.from(t.toHexString(),"hex"):this[c]="string"==typeof t.id?Tr.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[c]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[c]=Cr.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=Tr.Buffer.from(t);12===n.byteLength&&(this[c]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[c]=Tr.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return pr(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t}},{key:"toString",value:function(e){return e?this.id.toString(e):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Tr.Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?Tr.Buffer.from(t).equals(this.id):"object"===mr(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}},{key:"id",get:function(){return this[c]},set:function(t){this[c]=t,e.cacheHexString&&(this.__id=t.toString("hex"))}},{key:"generationTime",get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),o=Tr.Buffer.alloc(12);return o.writeUInt32BE(t,0),o[4]=n[0],o[5]=n[1],o[6]=n[2],o[7]=n[3],o[8]=n[4],o[11]=255&r,o[10]=r>>8&255,o[9]=r>>16&255,o}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Tr.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Tr.Buffer.from(t,"hex"))}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||t instanceof Tr.Buffer&&12===t.length||"object"===mr(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex")))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();t.ObjectId=u,u.index=~~(16777215*Math.random()),Object.defineProperty(u.prototype,"generate",{value:Zr.deprecate((function(e){return u.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(u.prototype,"getInc",{value:Zr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"get_inc",{value:Zr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u,"get_inc",{value:Zr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")});var f=Symbol.for("nodejs.util.inspect.custom");Object.defineProperty(u.prototype,f,u.prototype.toString),Object.defineProperty(u.prototype,"inspect",u.prototype.toString),Object.defineProperty(u.prototype,"_bsontype",{value:"ObjectID"})}));hr(co),co.ObjectId;var uo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));hr(uo),uo.BSON_BINARY_SUBTYPE_USER_DEFINED,uo.BSON_BINARY_SUBTYPE_MD5,uo.BSON_BINARY_SUBTYPE_UUID_NEW,uo.BSON_BINARY_SUBTYPE_UUID,uo.BSON_BINARY_SUBTYPE_BYTE_ARRAY,uo.BSON_BINARY_SUBTYPE_FUNCTION,uo.BSON_BINARY_SUBTYPE_DEFAULT,uo.BSON_DATA_MAX_KEY,uo.BSON_DATA_MIN_KEY,uo.BSON_DATA_DECIMAL128,uo.BSON_DATA_LONG,uo.BSON_DATA_TIMESTAMP,uo.BSON_DATA_INT,uo.BSON_DATA_CODE_W_SCOPE,uo.BSON_DATA_SYMBOL,uo.BSON_DATA_CODE,uo.BSON_DATA_DBPOINTER,uo.BSON_DATA_REGEXP,uo.BSON_DATA_NULL,uo.BSON_DATA_DATE,uo.BSON_DATA_BOOLEAN,uo.BSON_DATA_OID,uo.BSON_DATA_UNDEFINED,uo.BSON_DATA_BINARY,uo.BSON_DATA_ARRAY,uo.BSON_DATA_OBJECT,uo.BSON_DATA_STRING,uo.BSON_DATA_NUMBER,uo.JS_INT_MIN,uo.JS_INT_MAX,uo.BSON_INT64_MIN,uo.BSON_INT64_MAX,uo.BSON_INT32_MIN,uo.BSON_INT32_MAX;var fo=_r((function(e,t){function n(e,t,n){var o=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=r(i.toString(),e[i],t,!0,n);else for(var a in e.toBSON&&(e=e.toBSON()),e)o+=r(a,e[a],t,!1,n);return o}function r(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(t&&t.toBSON&&(t=t.toBSON()),mr(t)){case"string":return 1+Tr.Buffer.byteLength(e,"utf8")+1+4+Tr.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=uo.JS_INT_MIN&&t<=uo.JS_INT_MAX&&t>=uo.BSON_INT32_MIN&&t<=uo.BSON_INT32_MAX?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return o||!i?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||Zr.isDate(t))return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Tr.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,i):(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+Tr.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===Mr.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+Tr.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var a=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(a.$db=t.db),(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+n(a,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.pattern,"utf8")+1+Tr.Buffer.byteLength(t.options,"utf8")+1:(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Tr.Buffer.byteLength(Zr.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,i);if(r)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+Tr.Buffer.byteLength(Zr.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));hr(fo),fo.calculateObjectSize;var lo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var n=function(){function e(t,n){fr(this,e),this.pattern=t,this.options=null!=n?n:"",this.options.split("").sort().join("");for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return pr(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))}}]),e}();t.BSONRegExp=n,Object.defineProperty(n.prototype,"_bsontype",{value:"BSONRegExp"})}));hr(lo),lo.BSONRegExp;var po=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){fr(this,e),this.value=t}return pr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));hr(po),po.BSONSymbol;var mo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=to.Long;var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ur(t);if(n){var o=ur(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return sr(this,e)});function o(e,t){var n;return fr(this,o),n=to.Long.isLong(e)?r.call(this,e.low,e.high,!0):r.call(this,e,t,!0),Object.defineProperty(cr(n),"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),sr(n)}return pr(o,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new o(to.Long.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new o(to.Long.fromNumber(e,!0))}},{key:"fromBits",value:function(e,t){return new o(e,t)}},{key:"fromString",value:function(e,t){return new o(to.Long.fromString(e,!0,t))}},{key:"fromExtendedJSON",value:function(e){return new o(e.$timestamp.i,e.$timestamp.t)}}]),o}(t.LongWithoutOverridesClass);t.Timestamp=n,n.MAX_VALUE=to.Long.MAX_UNSIGNED_VALUE}));hr(mo),mo.Timestamp,mo.LongWithoutOverridesClass;var ho=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0,t.validateUtf8=function(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if(128!=(192&i))return!1;r-=1}else if(128&i)if(192==(224&i))r=1;else if(224==(240&i))r=2;else{if(240!=(248&i))return!1;r=3}}return!r}}));hr(ho),ho.validateUtf8;var _o=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=to.Long.fromNumber(uo.JS_INT_MAX),r=to.Long.fromNumber(uo.JS_INT_MIN),o={};function i(e,t,s){var c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null!=s.evalFunctions&&s.evalFunctions,f=null!=s.cacheFunctions&&s.cacheFunctions,l=null==s.fieldsAsRaw?null:s.fieldsAsRaw,p=null!=s.raw&&s.raw,m="boolean"==typeof s.bsonRegExp&&s.bsonRegExp,d=null!=s.promoteBuffers&&s.promoteBuffers,h=null==s.promoteLongs||s.promoteLongs,_=null==s.promoteValues||s.promoteValues,v=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(y<5||y>e.length)throw new Error("corrupt bson message");for(var g=c?[]:{},b=0,I=!1;!I;){var E=e[t++];if(0===E)break;for(var A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var O=c?b++:e.toString("utf8",t,A);if(t=A+1,E===uo.BSON_DATA_STRING){var w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(w<=0||w>e.length-t||0!==e[t+w-1])throw new Error("bad string length in bson");if(!ho.validateUtf8(e,t,t+w-1))throw new Error("Invalid UTF-8 string in BSON document");var S=e.toString("utf8",t,t+w-1);g[O]=S,t+=w}else if(E===uo.BSON_DATA_OID){var N=Tr.Buffer.alloc(12);e.copy(N,0,t,t+12),g[O]=new co.ObjectId(N),t+=12}else if(E===uo.BSON_DATA_INT&&!1===_)g[O]=new oo.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(E===uo.BSON_DATA_INT)g[O]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(E===uo.BSON_DATA_NUMBER&&!1===_)g[O]=new ro.Double(e.readDoubleLE(t)),t+=8;else if(E===uo.BSON_DATA_NUMBER)g[O]=e.readDoubleLE(t),t+=8;else if(E===uo.BSON_DATA_DATE){var T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,C=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[O]=new Date(new to.Long(T,C).toNumber())}else if(E===uo.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");g[O]=1===e[t++]}else if(E===uo.BSON_DATA_OBJECT){var R=t,M=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(M<=0||M>e.length-t)throw new Error("bad embedded document length in bson");g[O]=p?e.slice(t,t+M):i(e,R,s,!1),t+=M}else if(E===uo.BSON_DATA_ARRAY){var P=t,j=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,x=s,D=t+j;if(l&&l[O]){for(var L in x={},s)x[L]=s[L];x.raw=!0}if(g[O]=i(e,P,x,!0),0!==e[(t+=j)-1])throw new Error("invalid array terminator byte");if(t!==D)throw new Error("corrupted array bson")}else if(E===uo.BSON_DATA_UNDEFINED)g[O]=void 0;else if(E===uo.BSON_DATA_NULL)g[O]=null;else if(E===uo.BSON_DATA_LONG){var B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=new to.Long(B,k);g[O]=h&&!0===_&&F.lessThanOrEqual(n)&&F.greaterThanOrEqual(r)?F.toNumber():F}else if(E===uo.BSON_DATA_DECIMAL128){var U=Tr.Buffer.alloc(16);e.copy(U,0,t,t+16),t+=16;var G=new no.Decimal128(U);"toObject"in G&&"function"==typeof G.toObject?g[O]=G.toObject():g[O]=G}else if(E===uo.BSON_DATA_BINARY){var V=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,H=V,q=e[t++];if(V<0)throw new Error("Negative binary type element size found");if(V>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(q===Mr.Binary.SUBTYPE_BYTE_ARRAY){if((V=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(V>H-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(V<H-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}g[O]=d&&_?e.slice(t,t+V):new Mr.Binary(e.slice(t,t+V),q)}else{var W=Tr.Buffer.alloc(V);if(q===Mr.Binary.SUBTYPE_BYTE_ARRAY){if((V=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(V>H-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(V<H-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(A=0;A<V;A++)W[A]=e[t+A];g[O]=d&&_?W:new Mr.Binary(W,q)}t+=V}else if(E===uo.BSON_DATA_REGEXP&&!1===m){for(A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var X=e.toString("utf8",t,A);for(A=t=A+1;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var J=e.toString("utf8",t,A);t=A+1;var Y=new Array(J.length);for(A=0;A<J.length;A++)switch(J[A]){case"m":Y[A]="m";break;case"s":Y[A]="g";break;case"i":Y[A]="i"}g[O]=new RegExp(X,Y.join(""))}else if(E===uo.BSON_DATA_REGEXP&&!0===m){for(A=t;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,A);for(A=t=A+1;0!==e[A]&&A<e.length;)A++;if(A>=e.length)throw new Error("Bad BSON Document: illegal CString");var z=e.toString("utf8",t,A);t=A+1,g[O]=new lo.BSONRegExp(K,z)}else if(E===uo.BSON_DATA_SYMBOL){var $=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if($<=0||$>e.length-t||0!==e[t+$-1])throw new Error("bad string length in bson");var Q=e.toString("utf8",t,t+$-1);g[O]=_?Q:new po.BSONSymbol(Q),t+=$}else if(E===uo.BSON_DATA_TIMESTAMP){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;g[O]=new mo.Timestamp(Z,ee)}else if(E===uo.BSON_DATA_MIN_KEY)g[O]=new so.MinKey;else if(E===uo.BSON_DATA_MAX_KEY)g[O]=new ao.MaxKey;else if(E===uo.BSON_DATA_CODE){var te=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(te<=0||te>e.length-t||0!==e[t+te-1])throw new Error("bad string length in bson");var ne=e.toString("utf8",t,t+te-1);g[O]=u?f?a(ne,o,g):a(ne):new Pr.Code(ne),t+=te}else if(E===uo.BSON_DATA_CODE_W_SCOPE){var re=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(re<13)throw new Error("code_w_scope total size shorter minimum expected length");var oe=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(oe<=0||oe>e.length-t||0!==e[t+oe-1])throw new Error("bad string length in bson");var ie=e.toString("utf8",t,t+oe-1),ae=t+=oe,se=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ce=i(e,ae,s,!1);if(t+=se,re<8+se+oe)throw new Error("code_w_scope total size is too short, truncating scope");if(re>8+se+oe)throw new Error("code_w_scope total size is too long, clips outer document");u?(g[O]=f?a(ie,o,g):a(ie),g[O].scope=ce):g[O]=new Pr.Code(ie,ce)}else{if(E!==uo.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+E.toString(16)+' for fieldname "'+O+'"');var ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ue<=0||ue>e.length-t||0!==e[t+ue-1])throw new Error("bad string length in bson");if(!ho.validateUtf8(e,t,t+ue-1))throw new Error("Invalid UTF-8 string in BSON document");var fe=e.toString("utf8",t,t+ue-1);t+=ue;var le=Tr.Buffer.alloc(12);e.copy(le,0,t,t+12);var pe=new co.ObjectId(le);t+=12,g[O]=new eo.DBRef(fe,pe)}}if(y!==t-v){if(c)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var me=Object.keys(g).filter((function(e){return e.startsWith("$")})),de=!0;if(me.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(de=!1)})),!de)return g;if(eo.isDBRefLike(g)){var he=Object.assign({},g);return delete he.$ref,delete he.$id,delete he.$db,new eo.DBRef(g.$ref,g.$id,g.$db,he)}return g}function a(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is ".concat(o));if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(o));if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(o));if(o+r>e.byteLength)throw new Error("(bson size ".concat(o," + options.index ").concat(r," must be <= buffer length ").concat(e.byteLength,")"));if(0!==e[r+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return i(e,r,t,n)}}));hr(_o),_o.deserialize;var vo=_r((function(e,t){function n(e){return Zr.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var r=2147483647,o=-2147483648,i=0x8000000000000000,a=-0x8000000000000000,s={$oid:co.ObjectId,$binary:Mr.Binary,$uuid:Mr.Binary,$symbol:po.BSONSymbol,$numberInt:oo.Int32,$numberDecimal:no.Decimal128,$numberDouble:ro.Double,$numberLong:to.Long,$minKey:so.MinKey,$maxKey:ao.MaxKey,$regex:lo.BSONRegExp,$regularExpression:lo.BSONRegExp,$timestamp:mo.Timestamp};function c(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function u(e,t){if(Array.isArray(e))return function(e,t){return e.map((function(e){return u(e,t)}))}(e,t);if(void 0===e)return null;if(e instanceof Date){var s=e.getTime(),l=s>-1&&s<2534023188e5;return t.legacy?t.relaxed&&l?{$date:e.getTime()}:{$date:c(e)}:t.relaxed&&l?{$date:c(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var p=e>=a&&e<=i;if(e>=o&&e<=r)return{$numberInt:e.toString()};if(p)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var m=e.flags;if(void 0===m){var d=e.toString().match(/[gimuy]*$/);d&&(m=d[0])}return new lo.BSONRegExp(e.source,m).toExtendedJSON(t)}return null!=e&&"object"===mr(e)?function(e,t){if(null==e||"object"!==mr(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var o={};for(var i in e)o[i]=u(e[i],t);return o}if(n(e)){var a=e;if("function"!=typeof a.toExtendedJSON){var s=f[e._bsontype];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);a=s(a)}return"Code"===r&&a.scope?a=new Pr.Code(a.code,u(a.scope,t)):"DBRef"===r&&a.oid&&(a=new eo.DBRef(a.collection,u(a.oid,t),a.db,a.fields)),a.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+mr(r))}(e,t):e}var f={Binary:function(e){return new Mr.Binary(e.value(),e.sub_type)},Code:function(e){return new Pr.Code(e.code,e.scope)},DBRef:function(e){return new eo.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new no.Decimal128(e.bytes)},Double:function(e){return new ro.Double(e.value)},Int32:function(e){return new oo.Int32(e.value)},Long:function(e){return to.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new ao.MaxKey},MinKey:function(){return new so.MinKey},ObjectID:function(e){return new co.ObjectId(e)},ObjectId:function(e){return new co.ObjectId(e)},BSONRegExp:function(e){return new lo.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new po.BSONSymbol(e.value)},Timestamp:function(e){return mo.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=Object.assign({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof t){if(n.relaxed||n.legacy)return t;if(Math.floor(t)===t){if(t>=o&&t<=r)return new oo.Int32(t);if(t>=a&&t<=i)return to.Long.fromNumber(t)}return new ro.Double(t)}if(null==t||"object"!==mr(t))return t;if(t.$undefined)return null;for(var c=Object.keys(t).filter((function(e){return e.startsWith("$")&&null!=t[e]})),u=0;u<c.length;u++){var f=s[c[u]];if(f)return f.fromExtendedJSON(t,n)}if(null!=t.$date){var l=t.$date,p=new Date;return n.legacy?"number"==typeof l?p.setTime(l):"string"==typeof l&&p.setTime(Date.parse(l)):"string"==typeof l?p.setTime(Date.parse(l)):to.Long.isLong(l)?p.setTime(l.toNumber()):"number"==typeof l&&n.relaxed&&p.setTime(l),p}if(null!=t.$code){var m=Object.assign({},t);return t.$scope&&(m.$scope=e(t.$scope)),Pr.Code.fromExtendedJSON(t)}if(null!=t.$ref||null!=t.$dbPointer){var d=t.$ref?t:t.$dbPointer;if(d instanceof eo.DBRef)return d;var h=Object.keys(d).filter((function(e){return e.startsWith("$")})),_=!0;if(h.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(_=!1)})),_)return eo.DBRef.fromExtendedJSON(d)}return t}(t,n)}))}function n(e,t,n,r){null!=n&&"object"===mr(n)&&(r=n,n=0),null==t||"object"!==mr(t)||Array.isArray(t)||(r=t,t=void 0,n=0);var o=u(e,r=Object.assign({},{relaxed:!0,legacy:!1},r));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(t.EJSON||(t.EJSON={}))}));hr(vo),vo.EJSON,vo.isBSONType;var yo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,n,r,o){var i,a,s="big"===n,c=8*o-r-1,u=(1<<c)-1,f=u>>1,l=-7,p=s?0:o-1,m=s?1:-1,d=e[t+p];for(p+=m,i=d&(1<<-l)-1,d>>=-l,l+=c;l>0;i=256*i+e[t+p],p+=m,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+p],p+=m,l-=8);if(0===i)i=1-f;else{if(i===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=f}return(d?-1:1)*a*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var a,s,c,u="big"===r,f=8*i-o-1,l=(1<<f)-1,p=l>>1,m=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=u?i-1:0,h=u?-1:1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+p>=1?m/c:m*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*c-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0)),isNaN(t)&&(s=0);o>=8;)e[n+d]=255&s,d+=h,s/=256,o-=8;for(a=a<<o|s,isNaN(t)&&(a+=8),f+=o;f>0;)e[n+d]=255&a,d+=h,a/=256,f-=8;e[n+d-h]|=128*_}}));hr(yo),yo.writeIEEE754,yo.readIEEE754;var go=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function i(e,t,n,r,o){e[r++]=uo.BSON_DATA_STRING;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");e[(r=r+i+1)-1]=0;var a=e.write(n,r+4,void 0,"utf8");return e[r+3]=a+1>>24&255,e[r+2]=a+1>>16&255,e[r+1]=a+1>>8&255,e[r]=a+1&255,r=r+4+a,e[r++]=0,r}function a(e,t,n,r,o){return Number.isInteger(n)&&n>=uo.BSON_INT32_MIN&&n<=uo.BSON_INT32_MAX?(e[r++]=uo.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=uo.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,yo.writeIEEE754(e,n,r,"little",52,8),r+=8),r}function s(e,t,n,r,o){return e[r++]=uo.BSON_DATA_NULL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function c(e,t,n,r,o){return e[r++]=uo.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function u(e,t,n,r,o){e[r++]=uo.BSON_DATA_DATE,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=to.Long.fromNumber(n.getTime()),a=i.getLowBits(),s=i.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function f(e,t,r,o,i){if(e[o++]=uo.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return o+=e.write(r.source,o,void 0,"utf8"),e[o++]=0,r.ignoreCase&&(e[o++]=105),r.global&&(e[o++]=115),r.multiline&&(e[o++]=109),e[o++]=0,o}function l(e,t,r,o,i){if(e[o++]=uo.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return o+=e.write(r.pattern,o,void 0,"utf8"),e[o++]=0,o+=e.write(r.options.split("").sort().join(""),o,void 0,"utf8"),e[o++]=0,o}function p(e,t,n,r,o){return null===n?e[r++]=uo.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=uo.BSON_DATA_MIN_KEY:e[r++]=uo.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function m(e,t,n,r,o){if(e[r++]=uo.BSON_DATA_OID,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function d(e,t,n,r,o){e[r++]=uo.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=uo.BSON_BINARY_SUBTYPE_DEFAULT,e.set(Cr.ensureBuffer(n),r),r+i}function h(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],f=0;f<u.length;f++)if(u[f]===n)throw new Error("cyclic dependency detected");u.push(n),e[r++]=Array.isArray(n)?uo.BSON_DATA_ARRAY:uo.BSON_DATA_OBJECT;var l=c?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=l,e[r++]=0;var p=w(e,n,o,r,i+1,a,s,u);return u.pop(),p}function _(e,t,n,r,o){return e[r++]=uo.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function v(e,t,n,r,o){e[r++]="Long"===n._bsontype?uo.BSON_DATA_LONG:uo.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.getLowBits(),a=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function y(e,t,n,r,o){return n=n.valueOf(),e[r++]=uo.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function g(e,t,n,r,o){return e[r++]=uo.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,yo.writeIEEE754(e,n.value,r,"little",52,8),r+8}function b(e,t,n,r){var o=arguments.length>6?arguments[6]:void 0;e[r++]=uo.BSON_DATA_CODE;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=i,e[r++]=0;var a=Zr.normalizedFunctionString(n),s=e.write(a,r+4,void 0,"utf8")+1;return e[r]=255&s,e[r+1]=s>>8&255,e[r+2]=s>>16&255,e[r+3]=s>>24&255,r=r+4+s-1,e[r++]=0,r}function I(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(n.scope&&"object"===mr(n.scope)){e[r++]=uo.BSON_DATA_CODE_W_SCOPE;var u=c?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=u,e[r++]=0;var f=r,l="string"==typeof n.code?n.code:n.code.toString();r+=4;var p=e.write(l,r+4,void 0,"utf8")+1;e[r]=255&p,e[r+1]=p>>8&255,e[r+2]=p>>16&255,e[r+3]=p>>24&255,e[r+4+p-1]=0,r=r+p+4;var m=w(e,n.scope,o,r,i+1,a,s);r=m-1;var d=m-f;e[f++]=255&d,e[f++]=d>>8&255,e[f++]=d>>16&255,e[f++]=d>>24&255,e[r++]=0}else{e[r++]=uo.BSON_DATA_CODE;var h=c?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=h,e[r++]=0;var _=n.code.toString(),v=e.write(_,r+4,void 0,"utf8")+1;e[r]=255&v,e[r+1]=v>>8&255,e[r+2]=v>>16&255,e[r+3]=v>>24&255,r=r+4+v-1,e[r++]=0}return r}function E(e,t,n,r,o){e[r++]=uo.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.value(!0),a=n.position;return n.sub_type===Mr.Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===Mr.Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),e.set(i,r),r+n.position}function A(e,t,n,r,o){e[r++]=uo.BSON_DATA_SYMBOL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function O(e,t,n,r,o,i,a){e[r++]=uo.BSON_DATA_OBJECT,r+=a?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var s=r,c={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(c.$db=n.db);var u=w(e,c=Object.assign(c,n.fields),!1,r,o+1,i),f=u-s;return e[s++]=255&f,e[s++]=f>>8&255,e[s++]=f>>16&255,e[s++]=f>>24&255,u}function w(e,t){var w=arguments.length>2&&void 0!==arguments[2]&&arguments[2],S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,N=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,T=arguments.length>5&&void 0!==arguments[5]&&arguments[5],C=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],R=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];S=S||0,(R=R||[]).push(t);var M=S+4;if(Array.isArray(t))for(var P=0;P<t.length;P++){var j=""+P,x=t[P];if(x&&x.toBSON){if("function"!=typeof x.toBSON)throw new TypeError("toBSON is not a function");x=x.toBSON()}if("string"==typeof x)M=i(e,j,x,M,!0);else if("number"==typeof x)M=a(e,j,x,M,!0);else{if("bigint"==typeof x)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof x)M=c(e,j,x,M,!0);else if(x instanceof Date||Zr.isDate(x))M=u(e,j,x,M,!0);else if(void 0===x)M=s(e,j,0,M,!0);else if(null===x)M=s(e,j,0,M,!0);else if("ObjectId"===x._bsontype||"ObjectID"===x._bsontype)M=m(e,j,x,M,!0);else if(Tr.Buffer.isBuffer(x)||Zr.isUint8Array(x))M=d(e,j,x,M,!0);else if(x instanceof RegExp||o(x))M=f(e,j,x,M,!0);else if("object"===mr(x)&&null==x._bsontype)M=h(e,j,x,M,w,N,T,C,!0,R);else if("object"===mr(x)&&vo.isBSONType(x)&&"Decimal128"===x._bsontype)M=_(e,j,x,M,!0);else if("Long"===x._bsontype||"Timestamp"===x._bsontype)M=v(e,j,x,M,!0);else if("Double"===x._bsontype)M=g(e,j,x,M,!0);else if("function"==typeof x&&T)M=b(e,j,x,M,w,N,!0);else if("Code"===x._bsontype)M=I(e,j,x,M,w,N,T,C,!0);else if("Binary"===x._bsontype)M=E(e,j,x,M,!0);else if("Symbol"===x._bsontype)M=A(e,j,x,M,!0);else if("DBRef"===x._bsontype)M=O(e,j,x,M,N,T,!0);else if("BSONRegExp"===x._bsontype)M=l(e,j,x,M,!0);else if("Int32"===x._bsontype)M=y(e,j,x,M,!0);else if("MinKey"===x._bsontype||"MaxKey"===x._bsontype)M=p(e,j,x,M,!0);else if(void 0!==x._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+x._bsontype)}}else if(t instanceof io.Map)for(var D=t.entries(),L=!1;!L;){var B=D.next();if(!(L=!!B.done)){var k=B.value[0],F=B.value[1],U=mr(F);if("string"==typeof k&&!r.has(k)){if(null!=k.match(n))throw Error("key "+k+" must not contain null bytes");if(w){if("$"===k[0])throw Error("key "+k+" must not start with '$'");if(~k.indexOf("."))throw Error("key "+k+" must not contain '.'")}}if("string"===U)M=i(e,k,F,M);else if("number"===U)M=a(e,k,F,M);else{if("bigint"===U||Zr.isBigInt64Array(F)||Zr.isBigUInt64Array(F))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===U)M=c(e,k,F,M);else if(F instanceof Date||Zr.isDate(F))M=u(e,k,F,M);else if(null===F||void 0===F&&!1===C)M=s(e,k,0,M);else if("ObjectId"===F._bsontype||"ObjectID"===F._bsontype)M=m(e,k,F,M);else if(Tr.Buffer.isBuffer(F)||Zr.isUint8Array(F))M=d(e,k,F,M);else if(F instanceof RegExp||o(F))M=f(e,k,F,M);else if("object"===U&&null==F._bsontype)M=h(e,k,F,M,w,N,T,C,!1,R);else if("object"===U&&"Decimal128"===F._bsontype)M=_(e,k,F,M);else if("Long"===F._bsontype||"Timestamp"===F._bsontype)M=v(e,k,F,M);else if("Double"===F._bsontype)M=g(e,k,F,M);else if("Code"===F._bsontype)M=I(e,k,F,M,w,N,T,C);else if("function"==typeof F&&T)M=b(e,k,F,M,w,N,T);else if("Binary"===F._bsontype)M=E(e,k,F,M);else if("Symbol"===F._bsontype)M=A(e,k,F,M);else if("DBRef"===F._bsontype)M=O(e,k,F,M,N,T);else if("BSONRegExp"===F._bsontype)M=l(e,k,F,M);else if("Int32"===F._bsontype)M=y(e,k,F,M);else if("MinKey"===F._bsontype||"MaxKey"===F._bsontype)M=p(e,k,F,M);else if(void 0!==F._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+F._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==mr(t))throw new TypeError("toBSON function did not return an object")}for(var G in t){var V=t[G];if(V&&V.toBSON){if("function"!=typeof V.toBSON)throw new TypeError("toBSON is not a function");V=V.toBSON()}var H=mr(V);if("string"==typeof G&&!r.has(G)){if(null!=G.match(n))throw Error("key "+G+" must not contain null bytes");if(w){if("$"===G[0])throw Error("key "+G+" must not start with '$'");if(~G.indexOf("."))throw Error("key "+G+" must not contain '.'")}}if("string"===H)M=i(e,G,V,M);else if("number"===H)M=a(e,G,V,M);else{if("bigint"===H)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===H)M=c(e,G,V,M);else if(V instanceof Date||Zr.isDate(V))M=u(e,G,V,M);else if(void 0===V)!1===C&&(M=s(e,G,0,M));else if(null===V)M=s(e,G,0,M);else if("ObjectId"===V._bsontype||"ObjectID"===V._bsontype)M=m(e,G,V,M);else if(Tr.Buffer.isBuffer(V)||Zr.isUint8Array(V))M=d(e,G,V,M);else if(V instanceof RegExp||o(V))M=f(e,G,V,M);else if("object"===H&&null==V._bsontype)M=h(e,G,V,M,w,N,T,C,!1,R);else if("object"===H&&"Decimal128"===V._bsontype)M=_(e,G,V,M);else if("Long"===V._bsontype||"Timestamp"===V._bsontype)M=v(e,G,V,M);else if("Double"===V._bsontype)M=g(e,G,V,M);else if("Code"===V._bsontype)M=I(e,G,V,M,w,N,T,C);else if("function"==typeof V&&T)M=b(e,G,V,M,w,N,T);else if("Binary"===V._bsontype)M=E(e,G,V,M);else if("Symbol"===V._bsontype)M=A(e,G,V,M);else if("DBRef"===V._bsontype)M=O(e,G,V,M,N,T);else if("BSONRegExp"===V._bsontype)M=l(e,G,V,M);else if("Int32"===V._bsontype)M=y(e,G,V,M);else if("MinKey"===V._bsontype||"MaxKey"===V._bsontype)M=p(e,G,V,M);else if(void 0!==V._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+V._bsontype)}}}R.pop(),e[M++]=0;var q=M-S;return e[S++]=255&q,e[S++]=q>>8&255,e[S++]=q>>16&255,e[S++]=q>>24&255,M}t.serializeInto=w}));hr(go),go.serializeInto;var bo=_r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return Mr.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return Pr.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return eo.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return no.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return ro.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return oo.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return to.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return io.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return ao.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return so.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return co.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return co.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return lo.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return po.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return mo.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return uo.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return uo.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return uo.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return uo.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return uo.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return uo.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return uo.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return uo.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return uo.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return uo.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return uo.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return uo.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return uo.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return uo.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return uo.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return uo.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return uo.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return uo.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return uo.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return uo.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return uo.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return uo.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return uo.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return uo.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return uo.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return uo.BSON_INT64_MIN}}),Object.defineProperty(t,"JS_INT_MAX",{enumerable:!0,get:function(){return uo.JS_INT_MAX}}),Object.defineProperty(t,"JS_INT_MIN",{enumerable:!0,get:function(){return uo.JS_INT_MIN}}),Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return vo.EJSON}});var n=mo;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return n.LongWithoutOverridesClass}});var r=17825792,o=Tr.Buffer.alloc(r);t.setInternalBufferSize=function(e){o.length<e&&(o=Tr.Buffer.alloc(e))},t.serialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"==typeof t.checkKeys&&t.checkKeys,i="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,a="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,s="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:r;o.length<s&&(o=Tr.Buffer.alloc(s));var c=go.serializeInto(o,e,n,0,0,i,a,[]),u=Tr.Buffer.alloc(c);return o.copy(u,0,0,u.length),u},t.serializeWithBufferAndIndex=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="boolean"==typeof n.checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,a="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,s="number"==typeof n.index?n.index:0,c=go.serializeInto(o,e,r,0,0,i,a);return o.copy(t,s,0,c),s+c-1},t.deserialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _o.deserialize(Cr.ensureBuffer(e),t)},t.calculateObjectSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return fo.calculateObjectSize(e,n,r)},t.deserializeStream=function(e,t,n,r,o,i){for(var a=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},i),s=Cr.ensureBuffer(e),c=t,u=0;u<n;u++){var f=s[c]|s[c+1]<<8|s[c+2]<<16|s[c+3]<<24;a.index=c,r[o+u]=_o.deserialize(s,a),c+=f}return c}})),Io=(hr(bo),bo.deserializeStream,bo.calculateObjectSize,bo.deserialize,bo.serializeWithBufferAndIndex,bo.serialize,bo.setInternalBufferSize,bo.ObjectID,bo.Decimal128,bo.BSONRegExp,bo.MaxKey,bo.MinKey,bo.Int32,bo.Double,bo.Timestamp,bo.Long,bo.ObjectId,bo.Binary,bo.DBRef,bo.BSONSymbol,bo.Map,bo.Code,bo.LongWithoutOverridesClass,bo.EJSON);function Eo(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}bo.JS_INT_MIN,bo.JS_INT_MAX,bo.BSON_INT64_MIN,bo.BSON_INT64_MAX,bo.BSON_INT32_MIN,bo.BSON_INT32_MAX,bo.BSON_DATA_UNDEFINED,bo.BSON_DATA_TIMESTAMP,bo.BSON_DATA_SYMBOL,bo.BSON_DATA_STRING,bo.BSON_DATA_REGEXP,bo.BSON_DATA_OID,bo.BSON_DATA_OBJECT,bo.BSON_DATA_NUMBER,bo.BSON_DATA_NULL,bo.BSON_DATA_MIN_KEY,bo.BSON_DATA_MAX_KEY,bo.BSON_DATA_LONG,bo.BSON_DATA_INT,bo.BSON_DATA_DECIMAL128,bo.BSON_DATA_DBPOINTER,bo.BSON_DATA_DATE,bo.BSON_DATA_CODE_W_SCOPE,bo.BSON_DATA_CODE,bo.BSON_DATA_BOOLEAN,bo.BSON_DATA_BINARY,bo.BSON_DATA_ARRAY,bo.BSON_BINARY_SUBTYPE_UUID_NEW,bo.BSON_BINARY_SUBTYPE_UUID,bo.BSON_BINARY_SUBTYPE_USER_DEFINED,bo.BSON_BINARY_SUBTYPE_MD5,bo.BSON_BINARY_SUBTYPE_FUNCTION,bo.BSON_BINARY_SUBTYPE_DEFAULT,bo.BSON_BINARY_SUBTYPE_BYTE_ARRAY;var Ao=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stages=[],t&&n&&(this._db=t,this._request=new Qo.reqClass(this._db.config),this._collectionName=n)}var t,n,r,o;return t=e,(n=[{key:"end",value:(r=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._collectionName&&this._db){e.next=2;break}throw new Error("Aggregation pipeline cannot send request");case 2:return e.next=4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages});case 4:if(!((t=e.sent)&&t.data&&t.data.list)){e.next=7;break}return e.abrupt("return",{requestId:t.requestId,data:JSON.parse(t.data.list).map(Io.parse)});case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){Eo(i,n,o,a,s,"next",e)}function s(e){Eo(i,n,o,a,s,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"unwrap",value:function(){return this._stages}},{key:"done",value:function(){return this._stages.map((function(e){var t=e.stageKey,n=e.stageValue;return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,JSON.parse(n))}))}},{key:"_pipe",value:function(e,t){return this._stages.push({stageKey:"$".concat(e),stageValue:JSON.stringify(t)}),this}},{key:"addFields",value:function(e){return this._pipe("addFields",e)}},{key:"bucket",value:function(e){return this._pipe("bucket",e)}},{key:"bucketAuto",value:function(e){return this._pipe("bucketAuto",e)}},{key:"count",value:function(e){return this._pipe("count",e)}},{key:"geoNear",value:function(e){return this._pipe("geoNear",e)}},{key:"group",value:function(e){return this._pipe("group",e)}},{key:"limit",value:function(e){return this._pipe("limit",e)}},{key:"match",value:function(e){return this._pipe("match",nr.encode(e))}},{key:"project",value:function(e){return this._pipe("project",e)}},{key:"lookup",value:function(e){return this._pipe("lookup",e)}},{key:"replaceRoot",value:function(e){return this._pipe("replaceRoot",e)}},{key:"sample",value:function(e){return this._pipe("sample",e)}},{key:"skip",value:function(e){return this._pipe("skip",e)}},{key:"sort",value:function(e){return this._pipe("sort",e)}},{key:"sortByCount",value:function(e){return this._pipe("sortByCount",e)}},{key:"unwind",value:function(e){return this._pipe("unwind",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function So(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function No(e){return(No=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=No(n);if(r){var o=No(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return So(this,e)});function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e,t)}return(t=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new $n(this._db,this._coll,e)}},{key:"add",value:function(e,t){return new $n(this._db,this._coll,void 0).create(e,t)}},{key:"aggregate",value:function(){return new Ao(this._db,this._coll)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}(ir);function Co(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ro={eq:function(e){return new Ct(It.EQ,[e])},neq:function(e){return new Ct(It.NEQ,[e])},lt:function(e){return new Ct(It.LT,[e])},lte:function(e){return new Ct(It.LTE,[e])},gt:function(e){return new Ct(It.GT,[e])},gte:function(e){return new Ct(It.GTE,[e])},in:function(e){return new Ct(It.IN,e)},nin:function(e){return new Ct(It.NIN,e)},all:function(e){return new Ct(It.ALL,e)},elemMatch:function(e){return new Ct(It.ELEM_MATCH,[e])},exists:function(e){return new Ct(It.EXISTS,[e])},size:function(e){return new Ct(It.SIZE,[e])},mod:function(e){return new Ct(It.MOD,[e])},geoNear:function(e){return new Ct(It.GEO_NEAR,[e])},geoWithin:function(e){return new Ct(It.GEO_WITHIN,[e])},geoIntersects:function(e){return new Ct(It.GEO_INTERSECTS,[e])},and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xe(arguments[0])?arguments[0]:Array.from(arguments);return new Et(yt.AND,r)},nor:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xe(arguments[0])?arguments[0]:Array.from(arguments);return new Et(yt.NOR,r)},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xe(arguments[0])?arguments[0]:Array.from(arguments);return new Et(yt.OR,r)},not:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xe(arguments[0])?arguments[0]:Array.from(arguments);return new Et(yt.NOT,r)},set:function(e){return new gt(ht.SET,[e])},remove:function(){return new gt(ht.REMOVE,[])},inc:function(e){return new gt(ht.INC,[e])},mul:function(e){return new gt(ht.MUL,[e])},push:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(Pe(n[0])&&n[0].hasOwnProperty("each")){var o=n[0];e={$each:o.each,$position:o.position,$sort:o.sort,$slice:o.slice}}else e=xe(n[0])?n[0]:Array.from(n);return new gt(ht.PUSH,e)},pull:function(e){return new gt(ht.PULL,e)},pullAll:function(e){return new gt(ht.PULL_ALL,e)},pop:function(){return new gt(ht.POP,[])},shift:function(){return new gt(ht.SHIFT,[])},unshift:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=xe(arguments[0])?arguments[0]:Array.from(arguments);return new gt(ht.UNSHIFT,r)},addToSet:function(e){return new gt(ht.ADD_TO_SET,e)},rename:function(e){return new gt(ht.RENAME,[e])},bit:function(e){return new gt(ht.BIT,[e])},max:function(e){return new gt(ht.MAX,[e])},min:function(e){return new gt(ht.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return"string"===Me(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Ao},abs:function(e){return new Mo("abs",e)},add:function(e){return new Mo("add",e)},ceil:function(e){return new Mo("ceil",e)},divide:function(e){return new Mo("divide",e)},exp:function(e){return new Mo("exp",e)},floor:function(e){return new Mo("floor",e)},ln:function(e){return new Mo("ln",e)},log:function(e){return new Mo("log",e)},log10:function(e){return new Mo("log10",e)},mod:function(e){return new Mo("mod",e)},multiply:function(e){return new Mo("multiply",e)},pow:function(e){return new Mo("pow",e)},sqrt:function(e){return new Mo("sqrt",e)},subtract:function(e){return new Mo("subtract",e)},trunc:function(e){return new Mo("trunc",e)},arrayElemAt:function(e){return new Mo("arrayElemAt",e)},arrayToObject:function(e){return new Mo("arrayToObject",e)},concatArrays:function(e){return new Mo("concatArrays",e)},filter:function(e){return new Mo("filter",e)},in:function(e){return new Mo("in",e)},indexOfArray:function(e){return new Mo("indexOfArray",e)},isArray:function(e){return new Mo("isArray",e)},map:function(e){return new Mo("map",e)},range:function(e){return new Mo("range",e)},reduce:function(e){return new Mo("reduce",e)},reverseArray:function(e){return new Mo("reverseArray",e)},size:function(e){return new Mo("size",e)},slice:function(e){return new Mo("slice",e)},zip:function(e){return new Mo("zip",e)},and:function(e){return new Mo("and",e)},not:function(e){return new Mo("not",e)},or:function(e){return new Mo("or",e)},cmp:function(e){return new Mo("cmp",e)},eq:function(e){return new Mo("eq",e)},gt:function(e){return new Mo("gt",e)},gte:function(e){return new Mo("gte",e)},lt:function(e){return new Mo("lt",e)},lte:function(e){return new Mo("lte",e)},neq:function(e){return new Mo("ne",e)},cond:function(e){return new Mo("cond",e)},ifNull:function(e){return new Mo("ifNull",e)},switch:function(e){return new Mo("switch",e)},dateFromParts:function(e){return new Mo("dateFromParts",e)},dateFromString:function(e){return new Mo("dateFromString",e)},dayOfMonth:function(e){return new Mo("dayOfMonth",e)},dayOfWeek:function(e){return new Mo("dayOfWeek",e)},dayOfYear:function(e){return new Mo("dayOfYear",e)},isoDayOfWeek:function(e){return new Mo("isoDayOfWeek",e)},isoWeek:function(e){return new Mo("isoWeek",e)},isoWeekYear:function(e){return new Mo("isoWeekYear",e)},millisecond:function(e){return new Mo("millisecond",e)},minute:function(e){return new Mo("minute",e)},month:function(e){return new Mo("month",e)},second:function(e){return new Mo("second",e)},hour:function(e){return new Mo("hour",e)},week:function(e){return new Mo("week",e)},year:function(e){return new Mo("year",e)},literal:function(e){return new Mo("literal",e)},mergeObjects:function(e){return new Mo("mergeObjects",e)},objectToArray:function(e){return new Mo("objectToArray",e)},allElementsTrue:function(e){return new Mo("allElementsTrue",e)},anyElementTrue:function(e){return new Mo("anyElementTrue",e)},setDifference:function(e){return new Mo("setDifference",e)},setEquals:function(e){return new Mo("setEquals",e)},setIntersection:function(e){return new Mo("setIntersection",e)},setIsSubset:function(e){return new Mo("setIsSubset",e)},setUnion:function(e){return new Mo("setUnion",e)},concat:function(e){return new Mo("concat",e)},dateToString:function(e){return new Mo("dateToString",e)},indexOfBytes:function(e){return new Mo("indexOfBytes",e)},indexOfCP:function(e){return new Mo("indexOfCP",e)},split:function(e){return new Mo("split",e)},strLenBytes:function(e){return new Mo("strLenBytes",e)},strLenCP:function(e){return new Mo("strLenCP",e)},strcasecmp:function(e){return new Mo("strcasecmp",e)},substr:function(e){return new Mo("substr",e)},substrBytes:function(e){return new Mo("substrBytes",e)},substrCP:function(e){return new Mo("substrCP",e)},toLower:function(e){return new Mo("toLower",e)},toUpper:function(e){return new Mo("toUpper",e)},meta:function(e){return new Mo("meta",e)},addToSet:function(e){return new Mo("addToSet",e)},avg:function(e){return new Mo("avg",e)},first:function(e){return new Mo("first",e)},last:function(e){return new Mo("last",e)},max:function(e){return new Mo("max",e)},min:function(e){return new Mo("min",e)},push:function(e){return new Mo("push",e)},stdDevPop:function(e){return new Mo("stdDevPop",e)},stdDevSamp:function(e){return new Mo("stdDevSamp",e)},sum:function(e){return new Mo("sum",e)},let:function(e){return new Mo("let",e)}},project:{slice:function(e){return new Po("slice",e)},elemMatch:function(e){return new Po("elemMatch",e)}}},Mo=function e(t,n){Co(this,e),this["$"+t]=n},Po=function e(t,n){Co(this,e),this["$"+t]=n};var jo=function(){function e(t){var n=t.regexp,r=t.options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new TypeError("regexp must be a string");this.$regex=n,this.$options=r}var t;return(t=[{key:"parse",value:function(){return{$regex:this.$regex,$options:this.$options}}},{key:"_internalType",get:function(){return Re}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function xo(e){return new jo(e)}var Do="DATABASE_TRANSACTION_CONFLICT";function Lo(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Bo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lo(i,r,o,a,s,"next",e)}function s(e){Lo(i,r,o,a,s,"throw",e)}a(void 0)}))}}var ko="database.updateDocInTransaction",Fo=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this.id=r,this._transaction=t,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}var t,n,r,o,i,a;return t=e,(n=[{key:"create",value:(a=Bo(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,data:Io.stringify(Ft(t),{relaxed:!1})},this.id&&(n._id=this.id),e.next=4,this._request.send("database.insertDocInTransaction",n);case 4:if(!(r=e.sent).code){e.next=7;break}throw r;case 7:if(o=Io.parse(r.inserted),1!=(i=Io.parse(r.ok))||1!=o){e.next=13;break}return e.abrupt("return",Object.assign(Object.assign({},r),{ok:i,inserted:o}));case 13:throw new Error("insert document failed");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"get",value:function(){var e=Bo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},e.next=3,this._request.send("database.getInTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return e.abrupt("return",{data:"null"!==n.data?pt.formatField(Io.parse(n.data)):Io.parse(n.data),requestId:n.requestId});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"set",value:(i=Bo(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Io.stringify(Ft(t),{relaxed:!1}),upsert:!0},e.next=3,this._request.send(ko,n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return e.abrupt("return",Object.assign(Object.assign({},r),{updated:Io.parse(r.updated),upserted:r.upserted?JSON.parse(r.upserted):null}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"update",value:(o=Bo(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Io.stringify(Yt.encode(t),{relaxed:!1})},e.next=3,this._request.send(ko,n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return e.abrupt("return",Object.assign(Object.assign({},r),{updated:Io.parse(r.updated)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"delete",value:(r=Bo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},e.next=3,this._request.send("database.deleteDocInTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return e.abrupt("return",Object.assign(Object.assign({},n),{deleted:Io.parse(n.deleted)}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){return(Go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vo(e,t){return!t||"object"!==Uo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ho(e){return(Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qo=function(e){!function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Go(e,t)}(i,(function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this._transaction=t}));var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ho(n);if(r){var o=Ho(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Vo(this,e)});function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e,t)}return(t=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new Fo(this._transaction,this._coll,e)}},{key:"add",value:function(e){var t;return void 0!==e._id&&(t=e._id),new Fo(this._transaction,this._coll,t).create(e)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}();function Wo(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Xo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Wo(i,r,o,a,s,"next",e)}function s(e){Wo(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Jo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._db=t,this._request=new Qo.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}var t,n,r,o,i;return t=e,(n=[{key:"init",value:(i=Xo(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("database.startTransaction");case 2:if(!(t=e.sent).code){e.next=5;break}throw t;case 5:this.inited=!0,this._id=t.transactionId;case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new qo(this,e)}},{key:"getTransactionId",value:function(){return this._id}},{key:"getRequestMethod",value:function(){return this._request}},{key:"commit",value:(o=Xo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={transactionId:this._id},e.next=3,this._request.send("database.commitTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return this.commited=!0,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"rollback",value:(r=Xo(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={transactionId:this._id},e.next=3,this._request.send("database.abortTransaction",n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return this.aborted=!0,this.abortReason=t,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Yo(){return Ko.apply(this,arguments)}function Ko(){return(Ko=Xo(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Jo(this),e.next=3,t.init();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function zo(e){return $o.apply(this,arguments)}function $o(){return($o=Xo(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:3,e.prev=1,r=new Jo(this),e.next=5,r.init();case 5:return e.next=7,t(r);case 7:if(o=e.sent,!0!==r.aborted){e.next=10;break}throw r.abortReason;case 10:return e.next=12,r.commit();case 12:return e.abrupt("return",o);case 15:if(e.prev=15,e.t0=e.catch(1),!1!==r.inited){e.next=19;break}throw e.t0;case 19:if(i=function(){var e=Xo(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.aborted||r.commited){e.next=9;break}return e.prev=1,e.next=4,r.rollback();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:throw t;case 9:if(!0!==r.aborted){e.next=11;break}throw r.abortReason;case 11:throw t;case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),!(n<=0)){e.next=23;break}return e.next=23,i(e.t0);case 23:if(!e.t0||e.t0.code!==Do){e.next=27;break}return e.next=26,zo.bind(this)(t,--n);case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,i(e.t0);case 29:case"end":return e.stop()}}),e,this,[[1,15]])})))).apply(this,arguments)}var Qo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.Geo=r,this.serverDate=ut,this.command=Ro,this.RegExp=xo,this.startTransaction=Yo,this.runTransaction=zo,this.logicCommand=Et,this.updateCommand=gt,this.queryCommand=Ct}var t;return(t=[{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new To(this,e)}},{key:"createCollection",value:function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Zo(e){if((null==e?void 0:e.code)&&e.message)throw new Error("[".concat(e.code,"] ").concat(e.message));return e}function ei(e){return function(t){if(t.success||t.fail||t.complete){var n=t.success,r=t.fail,o=t.complete;return e.apply(this,arguments).then((function(e){var t;try{null==n||n(e)}catch(e){t=e}if(null==o||o(e),t)throw t}),(function(e){var t;try{null==r||r(e)}catch(e){t=e}if(null==o||o(e),t)throw t}))}return e.apply(this,arguments).then(Zo)}}function ti(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.success||t.fail||t.complete){var n=t.success,r=t.fail,o=t.complete;return e.apply(this).then((function(e){var t;try{(null==e?void 0:e.code)&&e.message?null==r||r(e):null==n||n(e)}catch(e){t=e}if(null==o||o(e),t)throw t}),(function(e){var t;try{null==r||r(e)}catch(e){t=e}if(null==o||o(e),t)throw t}))}return e.apply(this).then(Zo)}}function ni(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.success||n.fail||n.complete){var r=n.success,o=n.fail,i=n.complete;return e.call(this,n.data).then((function(e){var n;try{(null==e?void 0:e.code)&&e.message?(null==o||o(e),null==i||i(e)):(null==r||r(t?t(e):e),null==i||i(t?t(e):e))}catch(e){n=e}if(n)throw n}),(function(e){var t;try{null==o||o(e),null==i||i(e)}catch(e){t=e}if(t)throw t}))}return e.call(this,n.data).then(Zo).then((function(e){return t?t(e):e}))}}function ri(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function oi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ri(i,r,o,a,s,"next",e)}function s(e){ri(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ii(this,"client",void 0),ii(this,"readyState",void 0),ii(this,"url",void 0),this.url=t}var t,n,r,o;return t=e,(n=[{key:"connect",value:(o=oi(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.client=qq.connectSocket({url:this.url,header:{"content-type":"application/json"},tcpNoDelay:!0,success:function(){console.log("[@cloudbase/qq-sdk] websocket connect success")},fail:function(){console.log("[@cloudbase/qq-sdk] websocket connect fail")}}),this.readyState=0;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"close",value:function(e,t){this.readyState=2,this.client.close({code:e,reason:t})}},{key:"send",value:(r=oi(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.client.send({data:t,success:function(t){e(t)},fail:function(e){r(e)}})})));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"onopen",set:function(e){var t=this;this.client.onOpen((function(n){t.readyState=1,e(n)}))}},{key:"onclose",set:function(e){var t=this;this.client.onClose((function(n){t.readyState=3,e(n)}))}},{key:"onerror",set:function(e){this.client.onError(e)}},{key:"onmessage",set:function(e){this.client.onMessage(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function si(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function ci(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){si(i,r,o,a,s,"next",e)}function s(e){si(i,r,o,a,s,"throw",e)}a(void 0)}))}}function ui(e,t){return fi.apply(this,arguments)}function fi(){return(fi=ci(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var o={url:n.url,header:n.headers,data:n.body,method:t,success:function(t){(null==t?void 0:t.code)?r(t):e(t)},fail:function(e){r(e)}};qq.request(o)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e){return pi.apply(this,arguments)}function pi(){return(pi=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui("GET",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mi(e){return di.apply(this,arguments)}function di(){return(di=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui("POST",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e){return _i.apply(this,arguments)}function _i(){return(_i=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui("PUT",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vi(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){vi(i,r,o,a,s,"next",e)}function s(e){vi(i,r,o,a,s,"throw",e)}a(void 0)}))}}function gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gi(Object(n),!0).forEach((function(t){Ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ei=o,Ai=!1;function Oi(e){var t;Ai||(t=e,Object.assign(M,t),Ai=!0)}var wi=ei((function(e){return z.apply(this,arguments)})),Si=ei(V),Ni=ei((function(e){return G.apply(this,arguments)})),Ti=ei((function(e){return q.apply(this,arguments)})),Ci=function(e){var t,n=e.cloudPath,r=e.filePath,o=e.header,i=e.config,a=e.success,s=e.fail,c=e.complete,u=new U;u.preTask=B(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={env:P(i,F)},r=new R(t),e.next=5,r.send("storage.getUploadMetadata",{path:n});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));var f=u.preTask().then((function(e){if(!u.aborted){var i=e.data,a=i.url,s=i.authorization,c=i.token,f=i.fileId,l=i.cosFileId,p=e.requestId;t=p;var m,d=new Promise((function(e,t){var i;u.realTask=(i={url:a,filePath:r,name:"file",formData:{key:n,signature:s,"x-cos-meta-fileid":l,success_action_status:"201","x-cos-security-token":c},header:o,success:function(n){201===n.statusCode?e({requestId:p,fileID:f,statusCode:200,errMsg:"uploadFile:ok"}):t({errCode:"-503001",errMsg:"uploadFile:fail STORAGE_REQUEST_FAIL"})},fail:function(e){var n={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):""};t(n)}},qq.uploadFile(i))}));return u.aborted&&(null===(m=u.realTask)||void 0===m||m.abort()),u.onProgressUpdateArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.onProgressUpdate(e)})),u.offProgressUpdateArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.offProgressUpdate(e)})),u.onHeadersReceivedArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.onHeadersReceived(e)})),u.offHeadersReceivedArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.offHeadersReceived(e)})),u.initedCallback=!0,d}})).then((function(e){if(!(a||s||c))return e;null==a||a(e),null==c||c()})).catch((function(e){if(e.requestID=t,!(a||s||c))throw e;null==s||s(e),null==c||c()}));return a||s||c?u:f},Ri=function(e){var t,n=this,r=e.fileID,o=e.config,i=e.success,a=e.fail,s=e.complete,c=new U;c.preTask=B(regeneratorRuntime.mark((function e(){var i,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.call(n,{fileList:[{fileID:r,maxAge:600}],config:o});case 2:if(i=e.sent,"SUCCESS"===(a=i.fileList[0]).code){e.next=6;break}throw new Error(a.code);case 6:return s=a.download_url,t=i.requestId,e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})));var u=c.preTask().then((function(e){var t,n=new Promise((function(t,n){c.realTask=qq.downloadFile({url:e,success:function(e){200===e.statusCode&&t(e)},fail:function(e){var t={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):"fail"};n(t)}})}));return c.aborted&&(null===(t=c.realTask)||void 0===t||t.abort()),c.onProgressUpdateArr.map((function(e){var t;return null===(t=c.realTask)||void 0===t?void 0:t.onProgressUpdate(e)})),c.offProgressUpdateArr.map((function(e){var t;return null===(t=c.realTask)||void 0===t?void 0:t.offProgressUpdate(e)})),c.onHeadersReceivedArr.map((function(e){var t;return null===(t=c.realTask)||void 0===t?void 0:t.onHeadersReceived(e)})),c.offHeadersReceivedArr.map((function(e){var t;return null===(t=c.realTask)||void 0===t?void 0:t.offHeadersReceived(e)})),c.initedCallback=!0,n})).then((function(e){if(!(i||a||s))return e;null==i||i(e),null==s||s()})).catch((function(e){if(e.requestID=t,!(i||a||s))throw e;null==a||a(e),null==s||s()}));return i||a||s?c:u};function Mi(e){return void 0!==(null==e?void 0:e.updated)?{stats:e}:e}var Pi={};function ji(e){Pi[e.name]=e}function xi(e,t,n){return Di.apply(this,arguments)}function Di(){return(Di=yi(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pi[t]){e.next=3;break}throw Error("扩展".concat(t," 必须先注册"));case 3:return e.next=5,r.invoke(n,this);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Li(e){var t=P(e,"database");return Qo.reqClass=R,Qo.wsClass=ai,Qo.runtime="QQ-MINI",new Qo({env:t})}ir.prototype.get=ti(ir.prototype.get),ir.prototype.count=ti(ir.prototype.count),ir.prototype.update=ni(ir.prototype.update,Mi),To.prototype.add=ni(To.prototype.add,(function(e){return(null==e?void 0:e.id)&&(e._id=e.id,delete e.id),e})),To.prototype.update=ni(To.prototype.update,Mi),$n.prototype.get=ni($n.prototype.get,(function(e){return void 0!==(null==e?void 0:e.data)?bi(bi({},e),{},{data:e.data[0]}):e})),$n.prototype.update=ni($n.prototype.update,Mi),$n.prototype.set=ni($n.prototype.set),$n.prototype.remove=ti($n.prototype.remove),xi.bind(i);var Bi=i}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n(588),n(902)}().default},function(e,t,n){var r=n(0),o=n(2);r.normalAPIMutations({openUrl:{toNativeEventName:"openUrl",paramHandlers:function(e){var t,n=e[0]||{},r=n.url,o=void 0===r?"":r;return o?0!==o.indexOf("http")&&(t="url param should start with http"):t="url param is required",t?(n.fail&&n.fail({errMsg:"openUrl:fail ".concat(t)}),{isFail:!0}):n},invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}}},invokeNativePlugin:{toNativeEventName:"invokeNativePlugin"},onNativePluginEvent:{noNativeAPI:!0,handler:function(e,t){o.addEventListener("custom_event_".concat(e),t)}},offNativePluginEvent:{noNativeAPI:!0,handler:function(e,t){o.removeEventListener("custom_event_".concat(e),t)}}})},function(e,t,n){var r=n(1),o=n(0),i=n(2),a=n(3),s=n(7),c=__ttObjdec__;o.normalAPIMutations({shareAppMessage:{toNativeEventName:"shareAppMessageDirectly",paramHandlers:function(e,t){if(t&&e[0]){var n=e[0].shareAppType;if("qqFastShare"==n){if(!e[0].entryDataHash)throw new Error("shareAppMessage fail: entryDataHash error");e[0].shareTarget=2}else"qqFastShareList"==n?(e[0].shareTarget=6,c.privateApi&&c.privateApi.shareAppMessageToFriendList&&c.privateApi.shareAppMessageToFriendList(e[0])):"qq"==n?e[0].shareTarget=0:"qzone"==n?e[0].shareTarget=1:"wechatFriends"==n?e[0].shareTarget=3:"wechatMoment"==n&&(e[0].shareTarget=4)}return e[0]},invokeBefore:function(e,t,n,r){try{if("qqFastShareList"==JSON.parse(t).shareAppType)return!0}catch(e){}},invokeAfter:function(e,t,n,r){if(!n)return s._reportAPICall({apiname:"shareAppMessage"}),e}},shareAppMessageToFriendList:{toNativeEventName:"shareAppMessageDirectlyToFriendList",private:1,paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,n,r){if(!n)return(null==e?void 0:e.errMsg)&&(e.errMsg=e.errMsg.replace("shareAppMessageDirectlyToFriendList","shareAppMessage")),e}},shareAppPictureMessage:{toNativeEventName:"shareAppPictureMessageDirectly",invokeAfter:function(e,t,n,r){if(!n)return s._reportAPICall({apiname:"shareAppPictureMessage"}),e}},updateShareMenu:{toNativeEventName:"updateShareMenuShareTicket"},hideShareMenu:{toNativeEventName:"hideShareMenu"},getShareInfo:{toNativeEventName:"getShareInfo"},showShareMenu:{toNativeEventName:"showShareMenu",invokeAfter:function(e,t,n,r){if(!n)return s._reportAPICall({apiname:"showShareMenu"}),e}},isColorSignExistSync:{toNativeEventName:"isColorSignExistSync",invokeAfter:function(e,t,n,o){if(n)return"object"!==r(e)?(console.warn("isColorSignExistSync unkonw client error"),!1):!(!e.errMsg||-1==e.errMsg.indexOf(":ok"))}},addColorSign:{toNativeEventName:"addColorSignDirectly",invokeAfter:function(e){return s._reportAPICall({apiname:"addColorSign"}),e}},addRecentColorSign:{toNativeEventName:"addRecentColorSign",canIUse:{"1.20.0":{success:[],object:["query"]}},invokeAfter:function(e,t,n,r){return s._reportAPICall({apiname:"addRecentColorSign"}),e}},addGroupApp:{toNativeEventName:"addGroupApp",paramHandlers:function(e,t){if(t&&e[0]&&!e[0].entryDataHash)throw new Error("addGroupApp fail: entryDataHash error");return e[0]},invokeAfter:function(e,t,n,r){return s._reportAPICall({apiname:"addGroupApp"}),e}},getGroupAppStatus:{toNativeEventName:"getGroupAppStatus",paramHandlers:function(e,t){if(t&&e[0]&&!e[0].entryDataHash)throw new Error("getGroupAppStatus fail: parameter error: entryDataHash should be String");return e[0]},invokeAfter:function(e,t,n,r){return s._reportAPICall({apiname:"getGroupAppStatus"}),e}},setMessageToFriendQuery:{toNativeEventName:"setMessageToFriendQuery",paramHandlers:function(e,t){if(o.parameterMustBe(e[0],"Object")&&o.parameterMustBe(e[0].shareMessageToFriendScene,"Number")){if(e[0].shareMessageToFriendScene<=50&&e[0].shareMessageToFriendScene>=0)return e[0];throw new Error("setMessageToFriendQuery:fail parameter error: shareMessageToFriendScene should be between 0 and 50")}throw new Error("setMessageToFriendQuery:fail parameter error: parameter should be Object and shareMessageToFriendScene should be Number;")}},addToFavorites:{canIUse:{"1.19.0":{success:[],object:["title","imageUrl","query"]}},toNativeEventName:"addToFavorites",invokeAfter:function(e,t,n,r){return s._reportAPICall({apiname:"addToFavorites"}),e}}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["title","imageUrl","query","imageUrlId"]}},bindAPIName:"onShareAppMessage",offAPIName:"offShareAppMessage",staticCallback:function(e,t,n){if(void 0===n){console.warn("qq.onShareAppMessage not found");var r={};r.shareTarget=t.shareTarget,r.fromShareButton=t.fromShareButton,r.chatDataHash=t.chatDataHash,r.shareActionName=t.shareActionName,i.invokeHandler("shareAppMessage",r)}s._reportAPICall({apiname:"onShareAppMessage",param:t.fromShareButton?"button":"menu",param2:t.shareTarget})},onBeforeBind:function(){qq.offShareAppMessage(),a.isAndroid&&i.invokeHandler("onShareAppMessage",{})},triggerEventBefore:function(e,t,n){var o=n();if(s._reportAPICall({apiname:"userOnShareAppMessage"}),void 0===o&&(o={}),"object"!==r(o))throw new TypeError("onShareAppMessage callback should return an object");return o.shareTarget=t.shareTarget,o.fromShareButton=t.fromShareButton,o.chatDataHash=t.chatDataHash,o.shareActionName=t.shareActionName,o.shareType&&"picture"===o.shareType?i.invokeHandler("shareAppPictureMessage",o):i.invokeHandler("shareAppMessage",o),!0},toNativeEventName:"onShareAppMessage"}),o.bindAPIMutations({bindAPIName:"onShareMessageToFriend",onBeforeBind:function(){a.isAndroid&&i.invokeHandler("onShareMessageToFriend",{})},triggerEventBefore:function(e,t){return!1},toNativeEventName:"onShareMessageToFriend"}),o.bindAPIMutations({canIUse:{"1.19.0":{callback:["title","imageUrl","query"]}},bindAPIName:"onAddToFavorites",onBeforeBind:function(){a.isAndroid&&i.invokeHandler("onAddToFavorites",{})},staticCallback:function(e,t,n){void 0===n&&(console.warn("qq.onAddToFavorites not found"),i.invokeHandler("addToFavorites",{})),s._reportAPICall({apiname:"onAddToFavorites",param:t.fromShareButton?"button":"menu"})},triggerEventBefore:function(e,t,n){var o="function"==typeof n?n():{};if(s._reportAPICall({apiname:"onAddToFavorites"}),"object"!==r(o))throw new TypeError("onAddToFavorites callback should return an object");return i.invokeHandler("addToFavorites",o),!0},toNativeEventName:"onAddToFavorites"})},function(e,t,n){var r=n(6),o=r.normalAPIFactory([{_getUpdateManager:{toNativeEventName:"getUpdateManager"},_updateApp:{toNativeEventName:"updateApp"}}]),i=void 0,a=void 0,s=[],c=[],u=[],f={applyUpdate:function(){"success"===a?o._updateApp():console.error("update is not ready")},onCheckForUpdate:function(e){s.push(e),void 0!==i&&setTimeout((function(){"function"==typeof e&&e({hasUpdate:i})}),0)},onUpdateReady:function(e){c.push(e),void 0!==a&&"success"===a&&setTimeout((function(){"function"==typeof e&&e()}),0)},onUpdateFailed:function(e){u.push(e),void 0!==a&&"failed"===a&&setTimeout((function(){"function"==typeof e&&e()}),0)}};r.bindEventAPIFactory([{bindAPIName:"_onUpdateDownloadResult",toNativeEventName:"onUpdateDownloadResult",staticCallback:function(e,t,n){"success"===(a=t.updateResult)?c.forEach((function(e){"function"==typeof e&&e()})):"failed"===a&&u.forEach((function(e){"function"==typeof e&&e()}))}}]),r.bindEventAPIFactory([{bindAPIName:"_onUpdateCheckResult",toNativeEventName:"onUpdateCheckResult",staticCallback:function(e,t,n){i=t.hasUpdate,s.forEach((function(e){"function"==typeof e&&e({hasUpdate:i})}))}}]),window.wx.getUpdateManager=function(){return o._getUpdateManager(),f}},function(e,t,n){var r=n(1);n(0).normalAPIMutations({getRecorderManager:{canIUse:{"1.0.0":{}},toNativeEventName:"getRecorderManager",createObj:{singleton:!0,normalAPI:[{start:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){var n=function(e,t){if(t=t||"","object"!==r(e[0]))throw new Error("".concat(t,":fail parameter error: parameter should be Object instead of String;"));return e[0]}(e,"start");return n.operationType="start",null==n.duration&&(n.duration=6e4),null==n.sampleRate&&(n.sampleRate=8e3),null==n.numberOfChannels&&(n.numberOfChannels=2),null==n.encodeBitRate&&(n.encodeBitRate=48e3),null==n.format&&(n.format="aac"),null==n.audioSource&&(n.audioSource="auto"),n}},stop:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="stop",e}},pause:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="pause",e}},resume:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="resume",e}}}],bindEventAPI:[{bindAPIName:"onStart",removePreviousListeners:!0,triggerEventBefore:function(e,t){return"start"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onStop",triggerEventBefore:function(e,t){return"stop"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onPause",triggerEventBefore:function(e,t){return"pause"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onResume",triggerEventBefore:function(e,t){return"resume"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return"error"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onInterruptionBegin",triggerEventBefore:function(e,t){return"interruptionBegin"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onInterruptionEnd",triggerEventBefore:function(e,t){return"interruptionEnd"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onFrameRecorded",triggerEventBefore:function(e,t){return"frameRecorded"!=t.state},toNativeEventName:"onRecorderStateChange"}]}}})},function(e,t,n){var r=n(0);r.normalAPIMutations({updateKeyboard:{toNativeEventName:"updateKeyboard"},showKeyboard:{toNativeEventName:"showKeyboard"},hideKeyboard:{toNativeEventName:"hideKeyboard"}}),r.bindAPIMutations({bindAPIName:"onKeyboardInput",toNativeEventName:"onKeyboardInput",offAPIName:"offKeyboardInput"}),r.bindAPIMutations({bindAPIName:"onKeyboardConfirm",toNativeEventName:"onKeyboardConfirm",offAPIName:"offKeyboardConfirm"}),r.bindAPIMutations({bindAPIName:"onKeyboardComplete",toNativeEventName:"onKeyboardComplete",offAPIName:"offKeyboardComplete"})},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}},function(e,t,n){var r=n(0),o=n(2),i=n(3);function a(e,t){return new Promise((function(n,r){t.success=n,t.fail=r,o.invokeHandler(e,t)}))}function s(e,t,n){var r=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",o=u(n),i=u(t);if(i!==o)return"".concat(r," should be ").concat(o," instead of ").concat(i,";");var a="";switch(o){case"Object":Object.keys(n).forEach((function(o){a+=e(t[o],n[o],"".concat(r,".").concat(o))}));break;case"Array":if(t.length<n.length)return"".concat(r," should have at least ").concat(n.length," item;");for(var s=0;s<n.length;++s)a+=e(t[s],n[s],"".concat(r,"[").concat(s,"]"))}return a}(t,n);return""!==r&&f(e,t,{errMsg:"parameter error: ".concat(r)},!1),!r}r.normalAPIMutations("requestMidasPayment"),r.normalAPIMutations("queryStarCurrency"),r.normalAPIMutations("consumeStarCurrency");var c=Object.prototype.toString;function u(e){return c.call(e).slice(8,-1)}function f(e,t,n,r){n.errMsg||(n.errMsg="".concat(e,r?":ok":":fail")),r?t.success&&t.success(n):t.fail&&t.fail(n),t.complete&&t.complete(n)}e.exports={requestMidasPayment:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};s("requestMidasPayment",e,{prepayId:"",starCurrency:0})&&(i.isIOS?f("requestMidasPayment",e,{errMsg:"iOS not supported"},!1):a("queryStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency}).then((function(t){return 0!==t.resultCode?Promise.reject({code:t.resultCode}):Number(t.rechargeNum)>0?a("rechargeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!0,remark:"",aid:"",numberVisible:!0,discountId:"",other:""}).then((function(e){return 0===e.resultCode?{code:e.resultCode}:Promise.reject({code:e.resultCode})})):a("showModal",{title:"提示",content:"需要消耗星币".concat(e.starCurrency)}).then((function(e){return e.confirm?Promise.resolve():Promise.reject({code:-2,message:"用户主动取消支付"})}))})).then((function(){return a("consumeStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency})})).then((function(t){f("requestMidasPayment",{success:e.success,fail:e.fail,complete:e.complete},{},!0)})).catch((function(t){console.error(t);var n=t;t.code&&(n="quit with error code".concat(t.code)),f("requestMidasPayment",e,{errMsg:n},!1)})))}}},function(e,t){!function(e){var t=void 0;function n(){return new Date(Date.now()).format("yyyy-MM-dd hh:mm:ss")}Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,"".concat(this.getFullYear()).substr(4-RegExp.$1.length))),t)new RegExp("(".concat(n,")")).test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:"00".concat(t[n]).substr("".concat(t[n]).length)));return e},e.getLogManager=function(r){return t||(t=function(r){var o=[],i=e.getFileSystemManager();function a(e){var t;t="".concat(o.join("\n"),"\n"),i.appendFile({filePath:"wxfile://usr/miniprogramLog",data:t}),o=[],0}function s(e){o.push(e),e.length+1,a()}function c(e){return e&&e instanceof Function&&"function"==typeof e&&e.constructor==Function}function u(e){return e&&e instanceof Object}function f(e){if(!u(e))return!1;var t=e.constructor;function n(e,t){try{return e===t}catch(e){return!1}}return n(t,EvalError)||n(t,RangeError)||n(t,ReferenceError)||n(t,SyntaxError)||n(t,TypeError)||n(t,URIError)||n(t,Error)}function l(e,t){var n="";return e.name&&(n+="".concat(e.name,": ")),e.message&&(n+=e.message),e.sourceURL&&(n+=", 在文件".concat(e.sourceURL,"(行").concat(e.line,",列").concat(e.column,")")),e.stack&&t&&(n+=", 堆栈：".concat(e.stack)),n}function p(e,t,n,r){for(var o="",i=0;i<e.length;i++){var a=e[i];if(a&&(o+=" "),c(a))o+="【 Function 】";else if(u(a)){if(f(a))var s=l(a,t);else try{(s=JSON.stringify(a)).length>100&&(s="".concat(s.substr(0,95),"【...】"))}catch(e){s="【 Object 】"}o+=s}else{(s="".concat(a)).length>1e3?o+="".concat(s.substr(0,995),"【...】"):o+=s}}return r&&(void 0===r.logIndex&&(r.logIndex=0),o="(".concat(r.logIndex,") ").concat(o),r.logIndex++),n&&(o=n+o),o}return e.onShow((function(){t.log("{onShow}")})),e.onHide((function(){t.log("{onHide}"),a()})),{debug:function(){var e=p(arguments,!0,"".concat(n()," [debug]"));s(e)},info:function(){var e=p(arguments,!1,"".concat(n()," [info]"));s(e)},log:function(){var e=p(arguments,!1,"".concat(n()," [log]"));s(e)},warn:function(){var e=p(arguments,!1,"".concat(n()," [warn]"));s(e)}}}(!!r&&r.level)).log("{LogManagerStarted}"),t}}(wx||(wx={}))},function(e,t,n){n(0).normalAPIMutations({getTextLineHeight:{canIUse:{"1.0.0":{success:[],object:["fontStyle","fontWeight","fontSize","fontFamily","text"]}},toNativeEventName:"getTextLineHeight",invokeAfter:function(e,t,n,r){return(null==e?void 0:e.lineHeight)?parseInt(e.lineHeight,10):0}},loadFont:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"loadFont",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("loadFont:fail parameter error: parameter.path should be String instead of Undefined;");return{path:e[0]}},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.familyName)?e.familyName.toString():null}}})},function(e,t,n){var r=n(1);n(0).normalAPIMutations({saveFile:{toNativeEventName:"saveFile",paramHandlers:function(e,t){if("object"!==r(e[0])||!e[0].tempFilePath)throw new Error("saveFile:fail parameter error: parameter.tempFilePath should be String instead of Undefined;");return e[0]}},removeSavedFile:{toNativeEventName:"removeSavedFile",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].filePath)throw new Error("removeSavedFile: fail parameter error: parameter.filePath should be String instead of Undefined;");return e[0]}},getSavedFileList:{toNativeEventName:"getSavedFileList",paramHandlers:function(e,t){return e[0]}},getSavedFileInfo:{toNativeEventName:"getSavedFileInfo",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].filePath)throw new Error("getSavedFileInfo: fail parameter error: parameter.filePath should be String instead of Undefined;");return e[0]}},getFileInfo:{toNativeEventName:"getFileInfo",paramHandlers:function(e,t){if("object"!==r(e[0])||"string"!=typeof e[0].filePath)throw new Error("getFileInfo: fail parameter error: parameter.filePath should be String instead of Undefined;");if(null==e[0].digestAlgorithm&&(e[0].digestAlgorithm="md5"),"string"!=typeof e[0].digestAlgorithm||"md5"!==e[0].digestAlgorithm&&"sha1"!==e[0].digestAlgorithm)throw new Error("getFileInfo: fail parameter error: parameter.digestAlgorithm should be md5 or sha1;");return e[0]},invokeAfter:function(e,t,n,r){if(!n){var o={};return o.size=e.size,e.fileSize&&(o.size=e.fileSize),o.digest=e.digest,o.errMsg=e.errMsg,o}}}})},function(e,t,n){var r=n(17);n(0).normalAPIMutations({startDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["packagename","appid","version","md5"]}},toNativeEventName:"startDownloadAppTask",createObj:{createObjectBefore:function(e,t,n,r){e.appid=t.appid,r.appid=t.appid}},subscribeEventListener:{subscribeEventName:"onAppDownloadStateChange",callback:function(e,t,n){var o=r(e,1)[0];return void 0===o||n.appid===t.appid&&void("onDownloadAppSucceed"===t.state?void 0!==o.onDownloadAppSucceed&&o.onDownloadAppSucceed(t):"onDownloadAppFailed"===t.state?void 0!==o.onDownloadAppFailed&&o.onDownloadAppFailed(t):"onDownloadAppProgress"===t.state&&void 0!==o.onDownloadAppProgress&&o.onDownloadAppProgress(t))}}},cancelDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"cancelDownloadAppTask"},queryDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"queryDownloadAppTask"},queryAppInfo:{canIUse:{"1.0.0":{success:[],object:["packagename"]}},toNativeEventName:"queryAppInfo"},installApp:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"installApp"},startApp:{canIUse:{"1.0.0":{success:[],object:["packagename","path"]}},toNativeEventName:"startApp"},isMicroAppInstalled:{canIUse:{"1.16.0":{success:[],object:[]}},toNativeEventName:"isMicroAppInstalled"}})},function(e,t,n){var r=n(1),o=n(0);function i(e){var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}function a(e,t){if(t=t||"","object"!==r(e[0]))throw new Error("".concat(t,":fail parameter error: parameter should be Object instead of ").concat(i(e[0]),";"));return e[0]}o.normalAPIMutations({setStatusBarStyle:{canIUse:{"1.0.0":{}},toNativeEventName:"setStatusBarStyle",paramHandlers:function(e,t){var n=a(e,"setStatusBarStyle"),r=i(n.style);if("String"!=r)throw new Error("setStatusBarStyle:fail parameter error: parameter.style should be String instead of ".concat(r,";"));return n}}}),o.normalAPIMutations({setMenuStyle:{canIUse:{"1.0.0":{}},toNativeEventName:"setMenuStyle",paramHandlers:function(e,t){var n=a(e,"setMenuStyle"),r=i(n.style);if("String"!=r)throw new Error("setMenuStyle:fail parameter error: parameter.style should be String instead of ".concat(r,";"));return n}}})},function(e,t,n){var r=n(0),o=n(2);function i(e,t,n){return!(t.udpTaskId===n.udpTaskId&&e===n.event)}r.normalAPIMutations({createUDPSocket:{canIUse:{"1.0.0":{object:[],success:[]}},toNativeEventName:"createUDPTask",createObj:{createObjectAfter:function(e,t,n,r){if(void 0===n.udpTaskId)throw new Error("createUDPSocket:fail udpTaskId is empty");return e.udpTaskId=n.udpTaskId,r},normalAPI:[{bind:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return{operation:"bind",udpTaskId:t.udpTaskId}},invokeAfter:function(e,t,n,r){if(void 0===e.port)throw new Error(e.errMsg);return r.boundPort=e.port,e.port}}},{close:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return{operation:"close",udpTaskId:t.udpTaskId}},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.errMsg)&&-1!==e.errMsg.indexOf(":fail")&&o.subscribeHandler("onUDPTaskEventCallback",{event:"error",udpTaskId:r.udpTaskId,errMsg:"".concat(e.errMsg)}),e}}},{send:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return void 0!==e[0]&&(e=e[0]),e.operation="send",e.udpTaskId=t.udpTaskId,e},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.errMsg)&&-1!==e.errMsg.indexOf(":fail")&&o.subscribeHandler("onUDPTaskEventCallback",{event:"error",udpTaskId:r.udpTaskId,errMsg:"".concat(e.errMsg)}),e}}}],bindEventAPI:[{bindAPIName:"onOpen",offAPIName:"offOpen",paramHandlers:function(e,t){return e.result},triggerEventBefore:function(e,t){return i("open",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onClose",offAPIName:"offClose",triggerEventBefore:function(e,t){return i("close",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onError",offAPIName:"offError",triggerEventBefore:function(e,t){return i("error",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onListening",offAPIName:"offListening",triggerEventBefore:function(e,t){return i("listening",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onMessage",offAPIName:"offMessage",triggerEventBefore:function(e,t){return i("message",e,t)},toNativeEventName:"onUDPTaskEventCallback"}]}}})},function(e,t,n){n(29)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=void 0;function n(){var e=new Date(Date.now());return"".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDay()," ").concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}wx.getLogManager=function(r){return t||(t=function(r){var o=[],i=0,a=1,s=wx.getFileSystemManager();function c(e){return e?"wxfile://usr/miniprogramLog/log"+e:"wxfile://usr/miniprogramLog/log"+a}function u(){try{return s.accessSync(c()),!0}catch(e){return!1}}for(;a<=5&&u();a++);function f(e){var t;t=o.join("\n"),a<=5||(s.unlinkSync(c(1)),s.renameSync(c(2),c(1)),s.renameSync(c(3),c(2)),s.renameSync(c(4),c(3)),s.renameSync(c(5),c(4)),a=5),e&&(o=[],i=0),s.writeFile({filePath:c(),data:t}),e&&a++}function l(e){o.push(e),(i+=e.length+1)<1048576||f(!0)}wx.onShow((function(){t.log("{onShow}")})),wx.onHide((function(){t.log("{onHide}"),f(!1)}));var p={debug:function(){var t=e.strFromLogArgs(arguments,!0,"".concat(n()," [debug] "));l(t)},info:function(){var t=e.strFromLogArgs(arguments,!1,"".concat(n()," [info] "));l(t)},log:function(){var t=e.strFromLogArgs(arguments,!1,"".concat(n()," [log] "));l(t)},warn:function(){var t=e.strFromLogArgs(arguments,!1,"".concat(n()," [warn] "));l(t)}};return p.log("{LogManagerStarted}"),p}(!!r&&r.level)),t}}(n.__ttObjdec__)},function(e,t){var n=__TT__GLOBAL__,r=n.wx;n.__ttObjdec__;!function(e){var t=console.error;r.createUDPSocket=function(){return n=new e.Triton.UDPSocket,r=[],o={send:function(e){var r={address:e.address,port:e.port};r.message=JSON.stringify(WeixinNativeBuffer.pack({data:e.message})),e.message instanceof ArrayBuffer&&(void 0!==e.offset&&(r.offset=e.offset),void 0!==e.length&&(r.length=e.length));var o=n.send(r);o&&t("udp send failed: ",o)},bind:function(){return n.bind()},close:function(){return n.close()},onMessage:function(e){r.push(e)},offMessage:function(e){if(e){for(var t=0;t<r.length;t++)if(r[t]==e)return void r.splice(t,1)}else r.splice(0,r.length)},onError:function(e){n.onError(e)},offError:function(e){n.offError(e)},onListening:function(e){n.onListening(e)},offListening:function(e){n.offListening(e)},onClose:function(e){n.onClose(e)},offClose:function(e){n.offClose(e)}},n.onInnerMessage((function(e){var t=e.message,n=e.remoteInfo;n&&(t=WeixinNativeBuffer.unpack(t).data);for(var o=0;o<r.length;o++){var i=r[o];i(n?{message:t,remoteInfo:n}:{message:WeixinNativeBuffer.unpack(t.message).data,remoteInfo:t.remoteInfo})}})),o;var n,r,o}}(n.__ttObjdec__)},function(e,t,n){n(0).addCanIUseConfig("setPreferredFramesPerSecond",{"1.0.0":{}})},function(e,t,n){var r=n(17),o=n(0),i=n(7);o.normalAPIMutations({subscribeAppMsg:{canIUse:{"1.7.0":{success:[],object:[]}},toNativeEventName:"subscribeAppMsg",paramHandlers:function(e,t){var n=r(e,1);t.originParams=n[0];var o=e[0]&&e[0].tmplIds,a="subscribeAppMsg";return Array.isArray(o)&&(a="subscribeOnceAppMsg",t.toNativeEventName=a,t.__APIName__=a,t.tempParams={toNativeEventName:a}),i._reportAPICall({apiname:a}),e[0]},invokeBefore:function(e,t,n,r){var o=r.originParams||{},i=o.tmplIds,a=o.fail,s=o.complete,c=null;if(void 0!==i&&(Array.isArray(i)?i.length>3&&(c={errMsg:"subscribeAppMsg:fail tmplIds个数超过限制，最多三个"}):c={errMsg:"subscribeAppMsg:fail tmplIds参数类型错误"}),c)return"function"==typeof a&&a(c),"function"==typeof s&&s(c),!0},invokeAfter:function(e,t,n,r){return(null==e?void 0:e.errMsg)&&(e.errMsg=e.errMsg.replace("subscribeOnceAppMsg","subscribeAppMsg")),e}},requestSubscribeSystemMessage:{canIUse:{"1.8.0":{success:["MSG_TYPE"],object:["msgTypeList"]}},toNativeEventName:"requestSubscribeSystemMessage",paramHandlers:function(e,t){var n=r(e,1);return t.originParams=n[0],i._reportAPICall({apiname:"requestSubscribeSystemMessage"}),e[0]},invokeBefore:function(e,t,n,r){var o=r.originParams||{},i=o.msgTypeList,a=o.fail,s=o.complete,c=null;if(Array.isArray(i)?0===i.length?c={errCode:10001,errMsg:"requestSubscribeSystemMessage:fail parameter error: msgTypeList should have at least 1 item"}:i.length>3?c={errCode:10001,errMsg:"requestSubscribeSystemMessage:fail parameter error: msgTypeList should not have more than 3 item"}:i.findIndex((function(e){return"string"!=typeof e}))>=0&&(c={errCode:10004,errMsg:"requestSubscribeSystemMessage:fail parameter error: each element of the array msgTypeList should be string"}):c={errCode:10001,errMsg:"requestSubscribeSystemMessage:fail parameter error: msgTypeList should be Array"},c)return"function"==typeof a&&a(c),"function"==typeof s&&s(c),!0}}})},function(e,t,n){(function(e){var t=n(0),r=n(6),o=n(7),i=!1,a=setInterval((function(){if(e.qq&&e.qq.onTouchStart){clearInterval(a);e.qq.onTouchStart((function t(){i=!0,e.qq.offTouchStart(t)}))}}),50),s=r.normalAPIFactory([{enterContact:{canIUse:{"1.7.0":{success:["path","query"],object:["sessionFrom","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg"]}},toNativeEventName:"enterContact",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){var n,r=e[0],o=r.sessionFrom,i=r.showMessageCard,a=r.sendMessageTitle,s=r.sendMessagePath,c=r.sendMessageImg,u=Object.prototype.toString;function f(e){return u.call(e).slice(8,-1)}if(o&&"String"!==f(o)?n="paramter sessionFrom should be string":a&&"String"!==f(a)?n="paramter sendMessageTitle should be string":s&&"String"!==f(s)?n="paramter sendMessagePath should be string":c&&"String"!==f(c)?n="paramter sendMessageImg should be string":i&&"Boolean"!==f(i)&&(n="paramter showMessageCard should be boolean"),n){var l="openCustomerServiceConversation:fail ".concat(n),p=e[0],m=p.fail,d=p.complete;null==m||m(l),null==d||d(l),e[0].isFail=!0}return e[0]}}}]);t.normalAPIMutations({openCustomerServiceConversation:{canIUse:{"1.7.0":{success:["path","query"],object:["sessionFrom","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg"]}},toNativeEventName:"showModal",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},invokeAfter:function(e,t,n,r){if(!n)if(e.confirm)s.enterContact(t.oriParams);else{var o="openCustomerServiceConversation:fail cancel",i=t.oriParams,a=i.fail,c=i.complete;null==a||a({errMsg:o}),null==c||c({errMsg:o})}},paramHandlers:function(e,t){if(!i){var n="openCustomerServiceConversation:fail require user interaction",r=e[0],a=r.fail,s=r.complete;return null==a||a(n),null==s||s(n),e[0].isFail=!0,{isFail:!0}}return o._reportAPICall({apiname:"openCustomerServiceConversation"}),{oriParams:e[0],title:"即将进入客服会话",confirmText:"确认",cancelText:"取消",showCancel:!0}}}})}).call(this,n(5))},function(e,t,n){var r,o="devtools"===__wxConfig.platform,i=n(6),a=i.normalAPIFactory([{operateInterstitialAd:{canIUse:{"1.11.0":{success:[],object:["id","type","adUnitId","compId"]}},toNativeEventName:"operateInterstitialAd",paramHandlers:function(e,t){return e[0]}}}]);function s(e){var t=this;if(!e||"string"!=typeof e)throw new Error("paramter adUnitId should be string");this.id=0,this.adUnitId=e,this.compId=1,this.isDestroy=!1,this.onLoadCache=[],this.onCloseCache=[function(){t.isDestroy||t.load()}],this.onErrorCache=[],setTimeout((function(){t.load().catch((function(){}))})),o&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。")}s.prototype.load=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"load:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"load",success:function(){var e;t(),null===(e=r)||void 0===e||e.onLoadCache.forEach((function(e){e()}))},fail:function(e){var t;if(!e)throw new Error("InterstitialAd.load: res is null");var o={errMsg:e.errMsg,errCode:e.errCode};n(o),null===(t=r)||void 0===t||t.onErrorCache.forEach((function(e){e(o)}))}})}))},s.prototype.show=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"show:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"show",success:function(){t()},fail:function(e){var t;if(!e)throw new Error("InterstitialAd.show: res is null");var o={errMsg:e.errMsg,errCode:e.errCode};n(o),null===(t=r)||void 0===t||t.onErrorCache.forEach((function(e){e(o)}))}})}))},s.prototype.destroy=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"destroy:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"destroy",success:function(){e.isDestroy=!0,r=void 0,t()},fail:function(e){var t;if(!e)throw new Error("InterstitialAd.destroy: res is null");var o={errMsg:e.errMsg,errCode:e.errCode};n(o),null===(t=r)||void 0===t||t.onErrorCache.forEach((function(e){e(o)}))}})}))},s.prototype.onClose=function(e){"function"==typeof e&&this.onCloseCache.push(e)},s.prototype.offClose=function(e){this.onCloseCache=this.onCloseCache.filter((function(t){return t!==e}))},s.prototype.onLoad=function(e){"function"==typeof e&&this.onLoadCache.push(e)},s.prototype.offLoad=function(e){this.onLoadCache=this.onLoadCache.filter((function(t){return t!==e}))},s.prototype.onError=function(e){"function"==typeof e&&this.onErrorCache.push(e)},s.prototype.offError=function(e){this.onErrorCache=this.onErrorCache.filter((function(t){return t!==e}))},wx.createInterstitialAd=function(e){var t=e.adUnitId;return o&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。"),r||(r=new s(t)),r},i.bindEventAPIFactory([{bindAPIName:"_onInterstitialAdClose",offAPIName:"_offInterstitialAdClose",toNativeEventName:"onInterstitialAdClose",staticCallback:function(){var e;null===(e=r)||void 0===e||e.onCloseCache.forEach((function(e){e()}))}}])},function(e,t,n){var r=n(0),o=n(7),i=Object.prototype.toString;r.normalAPIMutations({setBackgroundFetchToken:{canIUse:{"1.14.0":{success:[],object:["token"]}},toNativeEventName:"setBackgroundFetchToken",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){o._reportAPICall({apiname:"setBackgroundFetchToken"});var n,r,a=e[0].token;return"String"!==(r=a,i.call(r).slice(8,-1))?n="paramter token should be string":a||(n="paramter token should not be empty"),n&&(e[0].fail&&e[0].fail("setBackgroundFetchToken:fail ".concat(n)),e[0].isFail=!0),e[0]}},getBackgroundFetchData:{canIUse:{"1.14.0":{success:["fetchedData","timeStamp"],object:["fetchType"]}},toNativeEventName:"getBackgroundFetchData",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){return o._reportAPICall({apiname:"getBackgroundFetchData"}),e[0]}},getBackgroundFetchToken:{canIUse:{"1.14.0":{success:["token"],object:[]}},toNativeEventName:"getBackgroundFetchToken",paramHandlers:function(e,t){return o._reportAPICall({apiname:"getBackgroundFetchToken"}),e[0]}}}),r.bindAPIMutations({canIUse:{"1.14.0":{}},bindAPIName:"_onBackgroundFetchData",toNativeEventName:"onBackgroundFetchData"}),wx.onBackgroundFetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wx._onBackgroundFetchData((function(t){t.errMsg=t.errMsg||"onBackgroundFetchData:ok",0===t.errMsg.indexOf("onBackgroundFetchData:ok")?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}))}},function(e,t,n){var r=n(0),o=function(e,t,n){if(n.state==e&&t.compId===n.compId){var r="".concat(n.compId,"_").concat(n.state),o=t.blockAdPromiseCallBackMap.get(r);return o&&(o(n),t.blockAdPromiseCallBackMap.delete(r)),!1}return!0};function i(e,t){var n="".concat(t.compId,"_").concat(e.type);if(!t.blockAdPromiseCallBackMap.has(n))return new Promise((function(e,r){t.blockAdPromiseCallBackMap.set(n,(function(t){"ok"==t.status?e(t):r(t)}))}))}var a=1;r.normalAPIMutations({createBlockAd:{toNativeEventName:"createBlockAd",canIUse:{"1.15.0":{object:["size","orientation",{style:["left","top"]}]}},paramHandlers:function(e,t){var n=e[0];return(null==n?void 0:n.style)&&(t.adUnitId=n.adUnitId,t.orientation=n.orientation,t.size=n.size,t.left=n.style.left||0,t.top=n.style.top||0,t.compId=n.compId=a++),e[0]},createObj:{createObjectBefore:function(e,t,n,r){e.blockAdPromiseCallBackMap=new Map},normalAPI:[{show:{toNativeEventName:"operateBlockAd",paramHandlers:function(e,t){return{type:"show",compId:t.compId}},invokeAfter:function(e,t,n,r){if(n)return i(t,r)}},hide:{toNativeEventName:"operateBlockAd",paramHandlers:function(e,t){return{type:"hide",compId:t.compId}},invokeAfter:function(e,t,n,r){if(n)return i(t,r)}},destroy:{toNativeEventName:"operateBlockAd",paramHandlers:function(e,t){return{type:"destroy",compId:t.compId}},invokeAfter:function(e,t,n,r){if(n)return i(t,r)}}}],bindEventAPI:[{bindAPIName:"onResize",triggerEventBefore:function(e,t){return e.realWidth=t.width,e.realHeight=t.height,o("resize",e,t)},offAPIName:"offResize",toNativeEventName:"onBlockAdStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},offAPIName:"offError",toNativeEventName:"onBlockAdStateChange"},{bindAPIName:"onLoad",triggerEventBefore:function(e,t){return e.realWidth=t.realWidth,e.realHeight=t.realHeight,o("load",e,t)},offAPIName:"offLoad",toNativeEventName:"onBlockAdStateChange"}],propertys:[{name:"adUnitId",writable:!0,get:function(e,t,n){return t.adUnitId},set:function(e,t,n){return t.adUnitId=e,e}},{name:"orientation",writable:!0,get:function(e,t,n){return t.orientation},set:function(e,t,n){return t.orientation=e,e}},{name:"size",writable:!0,get:function(e,t,n){return t.size},set:function(e,t,n){return t.size=e,e}},{name:"style",propertys:[{name:"left",writable:!0,get:function(e,t,n){return t.left},set:function(e,t,n){return t.left=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBlockAdSize",params:{adUnitId:t.adUnitId,left:e,compId:t.compId}}}},{name:"top",writable:!0,get:function(e,t,n){return t.top},set:function(e,t,n){return t.top=e,e},setInvoke:function(e,t,n){return e<0&&(e=0),{eventName:"updateBlockAdSize",params:{adUnitId:t.adUnitId,top:e,compId:t.compId}}}}]}]},subscribeEventListener:{subscribeEventName:"onBlockAdShowDone",callback:function(e,t,n){var r="".concat(t.compId,"_show"),o=n.blockAdPromiseCallBackMap.get(r);o&&(delete t.compId,o(t),n.blockAdPromiseCallBackMap.delete(r))}}}})},function(e,t,n){var r=n(0);n(3);r.normalAPIMutations({shareInvite:{canIUse:{"1.15.0":{}},toNativeEventName:"shareInvite",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,n,r){if(!n)return e}}})},function(e,t,n){(function(e){var t=n(1),r=n(4),o=e.__ttObjdec__.privateApi,i=1;function a(){return i++}var s=new Map;function c(e,n,r){return t(e)===n?e:r}var u=["left","top","width","height","backgroundColor","borderColor","borderWidth","borderRadius","color","textAlign","fontSize","lineHeight"];function f(e){return{toNativeEventName:"operateCustomButton",paramHandlers:function(t,n){var r=n.nativeParams;return{buttonType:r.buttonType,operateType:e,compId:r.compId}},invokeAfter:function(t,n,r,o){r&&"destroy"===e&&s.delete(n.compId)}}}function l(e){return{eventName:"operateCustomButton",params:{buttonType:e.buttonType,operateType:"update",compId:e.compId,type:e.type,text:e.text,image:e.image,style:e.style}}}function p(e){var t=[{type:["text","image"]},"text","image",{style:["left","top","width","height","backgroundColor","borderColor","borderWidth","borderRadius","color",{textAlign:["left","center","right"]},"fontSize","lineHeight"]}];switch(e){case"userInfo":t.push("withCredentials",{lang:["en","zh_CN","zh_TW"]});break;case"addFriend":t.push("openid")}return{canIUse:{"1.0.0":{object:t}},toNativeEventName:"operateCustomButton",paramHandlers:function(t,n){var r=t[0],o=a();n.compId=o;var i=r.style||{};i.left=c(i.left,"number",0),i.top=c(i.top,"number",0),i.width=c(i.width,"number",0),i.height=c(i.height,"number",0),i.borderRadius=c(i.borderRadius,"number",0),i.borderWidth=c(i.borderWidth,"number",0),i.backgroundColor=c(i.backgroundColor,"string",""),i.borderColor=c(i.borderColor,"string",""),i.fontSize=c(i.fontSize,"number",0),i.color=c(i.color,"string",""),i.lineHeight=c(i.lineHeight,"number",0),i.textAlign=c(i.textAlign,"string","");var u={buttonType:e,operateType:"create",compId:o,type:r.type,text:r.text,image:r.image,style:i,openid:r.openid};switch(s.set(o,u),e){case"userInfo":u.withCredentials=r.withCredentials,u.lang=r.lang;break;case"addFriend":u.openid=r.openid}return n.nativeParams=u,u},createObj:{propertys:[{name:"image",get:function(e,t,n){return t.nativeParams.image||""},set:function(e,t,n){t.nativeParams.image=e},setInvoke:function(e,t,n){if("image"===t.nativeParams.type)return l(t.nativeParams)}},{name:"text",get:function(e,t,n){return t.nativeParams.text||""},set:function(e,t,n){t.nativeParams.text=e||""},setInvoke:function(e,t,n){if("text"===t.nativeParams.type)return l(t.nativeParams)}},{name:"style",propertys:u.map((function(e){return{name:e,get:function(t,n,r){return n.nativeParams.style[e]},set:function(t,n,r){n.nativeParams.style[e]=t},setInvoke:function(e,t,n){return l(t.nativeParams)}}}))}],normalAPI:[{hide:f("hide"),show:f("show"),destroy:f("destroy")}],bindEventAPI:[{bindAPIName:"onTap",offAPIName:"offTap",toNativeEventName:"onCustomButtonTap",triggerEventBefore:function(){return!0},staticCallback:function(e,t,n){var r=s.get(t.compId);t._getInfoPromise||(t._getInfoPromise=new Promise((function(e){try{switch(r.buttonType){case"userInfo":o.webapi_getuserinfo({withCredentials:r.withCredentials,lang:r.lang,from_component:!0,complete:function(t){t.errMsg&&(t.errMsg=t.errMsg.replace("operateWXData:","getUserInfo:")),e(t)}});break;case"setting":wx.openSetting({complete:function(t){e(t)}});break;case"addFriend":o.addFriend({openid:r.openid,from_component:!0,complete:function(t){e(t)}});break;case"feedback":var t=__qqConfig.accountInfo.appId;o.feedback({url:"https://tucao.qq.com/qq_miniprogram/tucao?appid=".concat(t,"&openid={openid}&clientVersion={clientVersion}&OS={platform}&osVersion={osVersion}&netType={netType}&_wv=2097154&avatar={avatar}&nickname={nickname}"),complete:function(t){e(t)}});break;default:e()}}catch(e){console.error(e)}}))),t._getInfoPromise.then((function(r){"function"==typeof n&&r&&t&&t.compId===e.compId&&n(r)}))}}]}}}r.normalAPIMutations({createUserInfoButton:p("userInfo"),createAddFriendButton:p("addFriend"),createOpenSettingButton:p("setting"),createFeedbackButton:p("feedback")})}).call(this,n(5))},function(e,t,n){var r=n(0),o=n(7);r.normalAPIMutations({getCMShowInfo:{canIUse:{"1.20.0":{success:[],object:["openid","engineType","engineVersion","avatarType"]}},toNativeEventName:"getCMShowInfo",paramHandlers:function(e,t){var n="getCMShowInfo",i=e[0]||{},a=i.openid,s=i.engineType,c=i.engineVersion;return r.parameterMustString(a,n,"openid"),r.parameterMustString(s,n,"engineType"),r.parameterMustString(c,n,"engineVersion"),o._reportAPICall({apiname:n}),e[0]}}})},function(e,t,n){var r=n(17),o=n(0),i=n(6),a=i.normalAPIFactory([{onRaffleShareSucNotice:{toNativeEventName:"onRaffleShareSucNotice"}}]),s=i.bindEventAPIFactory([{bindAPIName:"onMinigameRaffleStateChange",toNativeEventName:"onMinigameRaffleStateChange"}]);o.normalAPIMutations({createRaffleManager:{canIUse:{"1.22.0":{}},createObj:{singleton:!0,normalAPI:[{raffle:{toNativeEventName:"minigameRaffle",paramHandlers:function(e){var t=r(e,1)[0];if("boolean"!=typeof t.isSuccess)throw new Error("参数isSuccess必须是布尔值");return t}}}],bindEventAPI:[{bindAPIName:"onClose",triggerEventBefore:function(e,t){return"error"===t.state},offAPIName:"offClose",toNativeEventName:"onMinigameRaffleStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return"error"!==t.state},offAPIName:"offError",toNativeEventName:"onMinigameRaffleStateChange"}]}}}),s.onMinigameRaffleStateChange((function(e){"share"===e.state&&a.onRaffleShareSucNotice()}))},function(e,t,n){(function(t){var r=t.__ttObjdec__,o=0,i=n(8).WeixinNativeBuffer;function a(e){if(o>1)throw new Error("超过最大worker数：".concat(1));if(null==e)throw new Error("worker入口:undefined");if(this._worker=new r.Triton.Worker(e),null==this._worker)throw new Error("创建worker内部错误：".concat(e));o++}a.prototype.postMessage=function(e){try{e=i.pack(e);var t=JSON.stringify(e);this._worker.postMessage(t)}catch(e){console.error("worker->postMessage 出现异常： ".concat(e))}},a.prototype.onMessage=function(e){this._worker.onMessage((function(t){var n=JSON.parse(t),r=i.unpack(n);e(r)}))},a.prototype.terminate=function(){o>0&&(o--,this._worker.terminate())},e.exports={createWorker:function(e){return new a(e)}}}).call(this,n(5))},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__,r=__TT__GLOBAL__,o=n.__ttObjdec__,i=new o.Triton.ApiExtend;!function(e,t){var n=console.error;e.wx.createCanvas=function(){var e=new t.Canvas;e.currentContext={},e.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var e=arguments[0];if(this.currentContext[e])return this.currentContext[e];if(Object.keys(this.currentContext).length>0)return null;if("2d"==e){var r=this.__nativeObj.getContext(e);return this.currentContext[e]=new t.CanvasContext2D(this.__nativeObj,r),this.currentContext[e].canvas=this,this.currentContext[e]}if("webgl"==e){var o=void 0;if(arguments.length>2){var i=arguments[1],a=1==i.antialias,s=1==i.preserveDrawingBuffer,c=0;if(a)"number"==typeof i.antialiasSamples?i.antialiasSamples<=0?(a=!1,n("invalid WebGL context option: antialias")):c=i.antialiasSamples>4?4:i.antialiasSamples:(a=!1,n("invalid WebGL context option: antialias"));else if(a instanceof Object||"string"==typeof a)throw"invalid WebGL context option: antialias";o={antialias:a,antialiasSamples:c,preserveDrawingBuffer:s}}r=void 0;return(r=o?this.__nativeObj.getContext(e,o):this.__nativeObj.getContext(e)).isScreen=this.isScreen(),this.currentContext[e]=t.CanvasContextWebGL(r),this.currentContext[e].canvas=this,this.currentContext[e]}}else;},e.toDataURL=function(){return this.isScreen()?"":this.__nativeObj?(t.CommandQueue.Instance.flushCmd("toDataURL"),"data:image/png;base64,".concat(this.__nativeObj.toDataURL())):""};var r=[];return e.__nativeObj.onTempFilePathComplete((function(e){if(r.length>0)for(var t in r)e.success&&null!=r[t].success?r[t].success(e):null!=r[t].fail&&r[t].fail(e),null!=r[t].complete&&r[t].complete(e)})),e.toTempFilePath=function(){if(this.__nativeObj){if(t.CommandQueue.Instance.flushCmd("toTempFilePath"),arguments.length>0){var e=arguments[0];return r.push(e),this.__nativeObj.toTempFilePath({x:e.x,y:e.y,width:e.width,height:e.height,destWidth:e.destWidth,destHeight:e.destHeight,fileType:e.fileType,quality:e.quality})}return this.__nativeObj.toTempFilePath()}return""},e.toTempFilePathSync=function(){return this.__nativeObj?(t.CommandQueue.Instance.flushCmd("toTempFilePathSync"),arguments.length>0?this.__nativeObj.toTempFilePathSync(arguments[0]):this.__nativeObj.toTempFilePathSync()):""},e.isScreen=function(){return this.__nativeObj.isScreen()},e}}(n,n.__ttObjdec__),function(e,t){e.wx.loadFont=function(){return"string"==typeof arguments[0]&&0!=arguments[0].indexOf("wxfile://")&&0!=arguments[0].indexOf("GameRes://")&&(arguments[0]="GameRes://".concat(arguments[0])),i.loadFont(arguments[0])},e.wx.getTextLineHeight=function(){if(null!=arguments[0].fontFamily){null==arguments[0].fontStyle&&(arguments[0].fontStyle="normal"),null==arguments[0].fontWeight&&(arguments[0].fontWeight="normal"),null==arguments[0].fontSize&&(arguments[0].fontSize=16);var e=i.getTextLineHeight(arguments[0]);return e?arguments[0].success&&arguments[0].success(e):arguments[0].fail&&arguments[0].fail(),arguments[0].complete&&arguments[0].complete(),e}arguments[0].fail&&arguments[0].fail("fontFamily not found")},e.wx.saveAppToDesktop=function(e){t.util.saveAppToDesktop({success:function(t){e.success&&e.success({errMsg:t})},fail:function(t){e.fail&&e.fail({errMsg:t})},complete:function(t){e.complete&&e.complete({errMsg:t})}})}}(n,n.__ttObjdec__),function(e,t){function n(e,t){for(var n=e[t],r=[],o=0;o<n;){var i={identifier:e[++t],screenX:e[++t],clientX:e[t],pageX:e[t],screenY:e[++t],clientY:e[t],pageY:e[t]};r.push(i),o++}return r}function r(e){return{touches:n(e,1),changedTouches:n(e,1+3*e[1]+1),timeStamp:e[0]}}var o=new t.Triton.TouchEventHandler;t.touchArray=new Float64Array(195),t.touchCallBackMap=new Map,o.setTouchArray(t.touchArray),e.wx.onTouchStart=function(e){var n=function(n){e(r(t.touchArray))};t.touchCallBackMap.set(e,n),o.onTouchStart(n)},e.wx.offTouchStart=function(e){o.offTouchStart(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchMove=function(e){var n=function(n){e(r(t.touchArray))};t.touchCallBackMap.set(e,n),o.onTouchMove(n)},e.wx.offTouchMove=function(e){o.offTouchMove(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchEnd=function(e){var n=function(n){e(r(t.touchArray))};t.touchCallBackMap.set(e,n),o.onTouchEnd(n)},e.wx.offTouchEnd=function(e){o.offTouchEnd(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchCancel=function(e){var n=function(n){e(r(t.touchArray))};t.touchCallBackMap.set(e,n),o.onTouchCancel(n)},e.wx.offTouchCancel=function(e){o.offTouchCancel(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)}}(n,n.__ttObjdec__),function(e){wx.createImage=function(){return new e.WebImage}}(n.__ttObjdec__),function(e,t){var n;Object.defineProperty(r,"sharedCanvas",{value:"hello",writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(r,"sharedCanvas",{get:function(){var e;return n||((e=new t.Canvas("sharedInMain")).currentContext={},e.getContext=function(){},e.toDataURL=function(){},e.toTempFilePath=function(){},e.toTempFilePathSync=function(){},e.isScreen=function(){return this.__nativeObj.isScreen()},n=e),n}})}(0,n.__ttObjdec__),function(e,t){e.wx.showKeyboard=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),void 0===n&&(n={defaultValue:"",maxLength:-1,multiple:!1,confirmHold:!0,confirmType:"done"}),void 0===n.maxLength&&(n.maxLength=-1),void 0===n.confirmHold&&(n.confirmHold=!0);var r=e.EventedInput.showKeyboard(n);setTimeout((function(){n&&(1===r?n.success&&"function"==typeof n.success&&n.success():n.fail&&"function"==typeof n.fail&&n.fail(),n.complete&&"function"==typeof n.complete&&n.complete())}),0)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardInput=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardInput(n)},e.wx.offKeyboardInput=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardInput(n)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardConfirm=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardConfirm(n)},e.wx.offKeyboardConfirm=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardConfirm(n)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardComplete=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardComplete(n)},e.wx.offKeyboardComplete=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardComplete(n)}}(n,n.__ttObjdec__),function(e,t){e.wx.hideKeyboard=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.hideKeyboard(n),setTimeout((function(){n&&(n.success&&"function"==typeof n.success&&n.success(),n.complete&&"function"==typeof n.complete&&n.complete())}),0)}}(n,n.__ttObjdec__),function(e,t){e.wx.updateKeyboard=function(n){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput);var r=e.EventedInput.updateKeyboard(n);(n.success||n.fail||n.complete)&&setTimeout((function(){r&&n.success&&n.success({errMsg:"updateKeyboard:ok"}),!r&&n.fail&&n.fail({errMsg:"updateKeyboard:fail"}),n.complete&&setTimeout((function(){n.complete({errMsg:r?"updateKeyboard:ok":"updateKeyboard:fail"})}),0)}),0)}}(n,n.__ttObjdec__),function(e,t){e.wx.onWindowResize=function(e){var n=new t.Triton.WindowResize;return n.onWindowResize((function(t){e(t)})),n};var n=t._notifcationCenter;e.wx.offWindowResize=function(e){n.removeObserver("WindowResize",e)}}(n,n.__ttObjdec__),function(e,t){e.wx.setStatusBarStyle=function(e){var n=new t.Triton.SetStatusBarStyle;return n.onsuccess((function(){t.callBackExceptionCatch(e.success)})),n.onfail((function(){t.callBackExceptionCatch(e.fail)})),n.oncomplete((function(){t.callBackExceptionCatch(e.complete)})),n.setStatusBarStyle(e),n}}(n,n.__ttObjdec__),function(e,t){e.wx.setMenuStyle=function(e){var n=new t.Triton.SetMenuStyle;return n.onsuccess((function(){t.callBackExceptionCatch(e.success)})),n.onfail((function(){t.callBackExceptionCatch(e.fail)})),n.oncomplete((function(){t.callBackExceptionCatch(e.complete)})),n.setMenuStyle(e),n}}(n,n.__ttObjdec__),function(e,t){e.wx.getPerformance=function(e){var n={now:function(){return t.util.timestamp()}};return n}}(n,n.__ttObjdec__),n.__ttObjdec__,n.wx.createInnerAudioContext=function(){return new o.Triton.Audio},n.__ttObjdec__,n.wx.postMessage=function(e){wx.getOpenDataContext().postMessage(e)}},function(e,t){__TT__GLOBAL__;var n,r,o=__TT__GLOBAL__;__TT__GLOBAL__;n=o.__ttObjdec__,r=!1,wx.__tt___changeGameState__=function(e){r=!e},n.runloopPauseCallbacks=n.runloopPauseCallbacks||[],n.util.setRunloopCallback((function(e,t){if(r){if(n.runloopPauseCallbacks.preIsRun)for(var i=0;i<n.runloopPauseCallbacks.length;i++)(0,n.runloopPauseCallbacks[i])();n.runloopPauseCallbacks.preIsRun=!1}else{o.q9zq.frameStart();var a=q9zq.mainStart("主域一帧",{});try{n.timerCallback&&n.timerCallback(e,t),n.CommandQueue.Instance.flushCmd("endFrame")}catch(e){throw q9zq.mainEnd("主域一帧",{s:a}),e}q9zq.mainEnd("主域一帧",{s:a}),n.runloopPauseCallbacks.preIsRun=!0}}))},function(e,t,n){var r,o,i=__TT__GLOBAL__;r=i.__ttObjdec__,o=n(15),i.__tt__allModules=o.allModules,i.define=o.define,requirePlugin=o.requirePlugin,i.__tt__set__startRequire__foldName=function(e,t,n){var a="";t&&(a+="".concat(t,"/")),a+=e,i.require=o.getRequire(a,!0),i.__tt__preloadjs=o.getPreload(a),i.require.__tt__preloadjs=i.__tt__preloadjs,i.__tt__set__startRequire__foldName=function(){},setTimeout((function(){(null==n?void 0:n.APIJSTool)&&r.loadAPIJsTool(),(null==n?void 0:n.printAllException)&&(r.__tt__shouldPrintAll__exception=1),(null==n?void 0:n.printJSLogToNative)&&(r.___tt__shouldPrintJSLog___=!0),(null==n?void 0:n.enableJSTimeMonitor)&&setTimeout((function(){r.enableTimeMonitor=!0}),0),r.util.recordLaunchStart(),i.require(e),r.util.recordLaunchEnd()}),0)}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__,n.__ttObjdec__;!function(e){var t=[];wx.loadSubpackage=function(n){var r=void 0,o={onProgressUpdate:function(e){r=e}},i=new e.Triton.SubPackage;return i.onCompletion=function(t){setTimeout((function(){var r={errcode:t.errcode};t.isSuccess?(e.util.loadLib(t.root,"subpakage: ".concat(t.root)),n.success&&n.success(t)):n.fail&&n.fail(r),n.complete&&n.complete(r)}),0)},i.onProgress=function(e){setTimeout((function(){r&&r({progress:e.totalBytesWritten/e.totalBytesExpectedToWrite,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite})}),0)},t.push(o),t.push(i),e.subpackList=t,i.loadSubpackage({name:n.name}),o}}(n.__ttObjdec__)},function(e,t,n){var r,o,i=n(1),a=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;r=a.__ttObjdec__,o={create:function(e){var t={};return t.url=e.url,t.data=e.data||"",t.header=e.header||{},t.dataType=e.dataType||e.responseType||"json",t.success=e.success||function(){},t.fail=e.fail||function(){},t.complete=e.complete||function(){},t.method=e.method||"get",t.object=e,t.request=function(){function e(e){if("object"===i(e)){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return t.join("&")}return e}var t=new TT.HttpUtil(this.url),n="get";switch(this.method){case"POST":n="post",t.setHttpPostData(this.data),t.setBodyCompatible(!1)}for(var o in t.setHttpMethod(n),this.header)"content-type"===o.toLowerCase()?("application/x-www-form-urlencoded"==this.header[o]&&t.setHttpPostData(e(this.data)),t.setHttpHeader("Content-Type",this.header[o])):t.setHttpHeader(o,this.header[o]);var a=this;t.sendRequest((function(e,t,n){if(200!=e)a.fail({errMsg:" ",statusCode:e,header:{}});else{var o=void 0;if(o="arraybuffer"!=a.dataType?n.readAsString(!0):r.BufferToArrayBuffer(n),"json"==a.dataType)try{o=JSON.parse(o)}catch(e){o=o}a.success&&a.success({data:o,statusCode:e,header:t}),a.complete&&a.complete({data:o,statusCode:e,header:t})}a=null}))},t}},r.HttpFactory=o},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__,n.__ttObjdec__;!function(e){var t=function(){function t(){this._fileSystemManager=new e.Triton.FileSystemManager,this._fileSystemManager.onCallback=function(e,t){console.log(e),console.log(t)}}return t.prototype.access=function(e){console.log("---FileSystemManager---access"),setTimeout((function(){!0===TT.FileUtil.isFileExist(e.path)?(console.log("---adapter---wx.access success"),e.success&&e.success()):(console.log("---adapter---wx.access fail"),e.fail&&e.fail()),e.complete&&e.complete()}),30)},t.prototype.accessSync=function(e){},t.prototype.appendFile=function(e){e.filePath,e.data},t.prototype.appendFileSync=function(e,t,n){},t.prototype.saveFile=function(e){},t.prototype.getSaveFileList=function(e){},t.prototype.removeSavedFile=function(e){},t.prototype.getFileInfo=function(e){},t.prototype.mkdir=function(e){},t.prototype.readFile=function(e){setTimeout((function(){if(e){var t=e.encoding;if("string"==typeof e.filePath){var n=e.filePath;if(TT.FileUtil.isFileExist(n)){var r,o=TT.FileUtil.readFile(n);if(!t||"utf-8"!==t&&"utf8"!==t&&"ascii"!==t&&"latin1"!==t)try{r=function(e){for(var t=new ArrayBuffer(e.bufferLength()),n=new Uint8Array(t),r=0;r<e.bufferLength();)n[r++]=e.readUint8Buffer();return t}(o)}catch(e){r=o.readAsString()}else r=o.readAsString();var i={data:r};console.log("readFile, success, filePath=".concat(n)),e.success&&e.success(i)}else{console.log("readFile failed, invalid filePath, filePath=".concat(e.filePath));i={errMsg:"invalid filePath"};e.fail&&e.fail(i)}e.complete&&e.complete()}else console.log("readFile failed, no object")}}),1)},t.prototype.readFileSync=function(e,t){console.log("readFileSync:".concat(JSON.stringify(arguments)));var n=new XMLHttpRequest;return n.overrideMimeType("application/json"),n.open("GET",e,!1),n.send(null),200===n.status?n.responseText:(console.log(n.statusText),n.statusText)},t.prototype.readdir=function(e){},t.prototype.rename=function(e){},t.prototype.rmdir=function(e){},t.prototype.stat=function(e){},t.prototype.unlink=function(e){},t.prototype.unzip=function(e){},t.prototype.writeFile=function(e){},t}();e.FileSystemManager=t}(n.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t,r=console.log,o=console.error;function i(e,t,n){var o;(o=e[t])||(o=function(){r("函数",t,"未实现")}),e[t]=function(){var t=arguments;return n(e,o,t)}}!function(){function t(t,n,i,a){if(e.isOldAPI||a)a&&o("函数wx.".concat(n,"实现有问题，请").concat(a,"先解决问题"));else{if(t[n])return void o("函数wx.".concat(n,"已经定义了，不能重新定义为其他实现"));r("函数wx.".concat(n,"尚未定义了，临时进行代码hoke"))}t[n]=i}t(wx,"getBatteryInfoSync",(function(){})),t(wx,"checkIsUserAdvisedToRest",(function(){})),t(wx,"createGameClubButton",(function(){}))}(),i(wx,"getFileSystemManager",(function(e,t,n){var r=t.apply(e,n);return i(r,"mkdir",(function(e,t,n){var r=n[0];return i(n[0],"fail",(function(e,t,n){return"mkdir:fail file not exist"!=n[0].errMsg?t.apply(e,n):r.success?r.success({errMsg:"mkdir:ok"}):void 0})),t.apply(e,n)})),r})),t=1,i(wx,"saveFile",(function(e,n,r){var o=r[0].tempFilePath,i=r[0].filePath;if(!i){for(var a=o.split("/"),s=void 0,c=a.length-1;c>=0;c--)if(a[c].length>0){s=a[c];break}s=s?"".concat(t++,"_").concat(s):"".concat(t++,"_").concat(Math.floor(1e5*Math.random())),i="wxfile://usr/".concat(s)}wx.getFileSystemManager().saveFile({tempFilePath:o,filePath:i,success:function(e){r[0].success&&r[0].success(e)},fail:function(e){r[0].fail&&r[0].fail(e)},complete:function(e){r[0].complete&&r[0].complete(e)}})})),n.__global=n}(__ttObjdec__)},function(e,t,n){(function(e){var t=n(1),r=void 0,o=e.__ttObjdec__;o.loadAPIJsTool=function(){try{r(!0)}catch(e){console.error("分析工具加载失败: ",e)}o.loadAPIJsTool=function(){}},r=function(e){r=function(){},n(171);var o=wx.getStorageSync,i=GameGlobal,a=(i.__all__normal__APIFun,console.log),s=console.error,c=function(){s.apply(void 0,arguments)},u=!0,f=!0,l=!0;function p(e){try{for(var t=Object.getOwnPropertyNames(e),n=0;n<t.length;n++){var r=t[n];if("__tt__realObj__"==r)return p(e[r])}return e}catch(t){return e}}function m(e){var t=[],n={},r="__tt__getAllProperty__",o=e;do{var i=Object.getOwnPropertyNames(o);o=o.__proto__;for(var a=0;i&&a<i.length;++a){var s=i[a];n[r+s]||(n[r+s]=!0,t.push(s))}}while(o&&o instanceof Object&&o!=e);return t}"yes"==o("是否实时打印所有调用的API接口")?u=!0:"no"==o("是否实时打印所有调用的API接口")&&(u=!1),"yes"==o("是否监控简易的接口（不监控接口调用的参数）")?f=!0:"no"==o("是否监控简易的接口（不监控接口调用的参数）")&&(f=!1),"yes"==o("是否打印接口的参数和返回值")?l=!0:"no"==o("是否打印接口的参数和返回值")&&(l=!1),i.__tt__print__JSAPIInfo=function(){__tt__print__longestCallStacks(),__tt__print__haveGetQuerys(),__tt__print__UncompleteCall()};var d=!1;function h(e){this.flag=e,this.removed=!1,this.longestCallStacks=[],this.addFromPath=function(e){if(!this.removed){for(var t=0;t<this.longestCallStacks.length;t++){var n=this.longestCallStacks[t];if(!(n.length>e.length)){for(var r=0;r<n.length&&n[r]==e[r];r++);if(!(r<n.length))return void(this.longestCallStacks[t]=e)}}this.longestCallStacks.push(e)}},this.descriptionForLongestCallStacks=function(){this.longestCallStacks.sort();for(var e="",t=0;t<this.longestCallStacks.length;t++){var n=this.longestCallStacks[t].join("->");e+="".concat(n,"\n")}return e},this.dicForLongestCallStacks=function(){for(var e={},t=0;t<this.longestCallStacks.length;t++){e[this.longestCallStacks[t].join("->")]=!0}return e},this.descriptionFroAllFunName=function(){for(var e={},t=[],n=0;n<this.longestCallStacks.length;n++)for(var r=this.longestCallStacks[n],o=0;o<r.length;o++){var i=r[o];null==e[i]&&(e[i]=!0,t.push(i))}var a="";for(n=0;n<t.length;n++)a+="".concat(t[n],"\n");return a}}h.callStackRecordDic={},h.callStackRecordFlagKeys=[],h.addRecord=function(e){if(!h.callStackRecordDic[e])return h.callStackRecordFlagKeys.push(e),h.callStackRecordDic[e]=new h(e);c('标示为"'.concat(e,'"已被监控，请使用其他标示'))},h.removeRecord=function(e){if(h.callStackRecordDic[e]){h.callStackRecordDic[e].removed=!0,delete h.callStackRecordDic[e];for(var t=0;t<h.callStackRecordFlagKeys.length;t++){if(h.callStackRecordFlagKeys[t]==e){h.callStackRecordFlagKeys.splice(t,1);break}}}},i.__tt__call__stack__start__record=function(e){return h.addRecord(e)},i.__tt__call__stack__end__record=function(e){if(e){var t='标示为"'.concat(e.flag,'"的过程 调用过的长路径： \n').concat(e.descriptionForLongestCallStacks());h.removeRecord(e.flag),a(t)}};var _=h.addRecord("__tt__whole__call__stack__24323_saaf_erw");i.__tt__print__longestCallStacks=function(){var e="当前游戏调用过的长路径： \n".concat(_.descriptionForLongestCallStacks());a(e)},i.__tt__print__longestCallStacks_toDic=function(){var e=_.dicForLongestCallStacks();a(JSON.stringify(e))},i.__tt__print__haveGetQuerys=function(){var e="当前游戏用过的属性: \n".concat(_.descriptionFroAllFunName());a(e)};var v={},y=0;function g(e){if(d){var t=e.join("->");return!v[t]&&(function(e){for(var t=0;t<h.callStackRecordFlagKeys.length;t++){var n=h.callStackRecordFlagKeys[t];h.callStackRecordDic[n].addFromPath(e)}}(e),u&&a("(".concat(++y,")调用路径：").concat(t)),v[t]=!0,!0)}}function b(e){var t=[];e.length>50&&a("test error a.length: ",e.length);for(var n=0;n<e.length;n++){if(t.length>200){a("路径太长，代码出错了！".concat(t));for(var r=0;r<t.length;r++)a(t[r]);return sleep(1e7),t}t.push(e[n])}return e.length!=t.length&&a("拷贝后路径不对"),t}var I={};function E(e){var t="__tt__my__test__hah";if(null==I["".concat(t,".__tag__exist__zz__fafda__")]){var n=m({__tt__from__path__:!0});I["".concat(t,".__tag__exist__zz__fafda__")]=!0;for(var r=0;r<n.length;r++){var o=n[r];I[t+o]=!0}var i=m((function(){}));for(r=0;r<i.length;r++)o=i[r],I[t+o]=!0;var a=[];for(r=0;r<a.length;r++)I[t+a[r]]=!0}return I[t+e]}function A(e){var t=void 0;if(!t){var n={};t={};for(var r=Object.getOwnPropertyNames(n),o=0;o<r.length;o++)n[r[o]]&&(t["__tt__sp__pro__".concat(r[o])]=!0)}return t["__tt__sp__pro__".concat(e)]}function O(e){return e&&e instanceof Object&&"object"===t(e)&&!isNaN(e.length)&&e.constructor==Array}function w(e){return e&&e instanceof Function&&"function"==typeof e&&e.constructor==Function}function S(e){return e&&e instanceof Object&&!O(e)&&!w(e)}function N(e){return e&&"string"==typeof e&&e.constructor==String}function T(e){return"number"==typeof e&&e.constructor==Number}function C(e,t){if(t>3)return"(...)";for(var n=Object.getOwnPropertyNames(e),r="(",o=0;o<n.length&&o<5;o++){var i=e[n[o]];i!=e&&("("!=r&&(r+=","),r+="".concat(n[o],":"),w(i)?r+="fun":O(i)?r+="array(".concat(R(i),")"):S(i)?r+="obj(".concat(C(i,++t),")"):N(i)?r+="str":T(i)?r+="num":r+=null==i?"void":null==i?"null":"other")}return n.length>5&&(r+="..."),r+=")"}function R(e){return function e(t){for(var n="(",r=0;r<t.length&&r<5;r++){r>0&&(n+=",");var o=t[r];if(w(o))n+="fun";else if(O(o))n+="array(".concat(e(o),")");else if(S(o)){Object.getOwnPropertyNames(o);n+="obj(".concat(C(o,0),")")}else N(o)?n+="str":T(o)?n+="num":n+=null==o?"void":null==o?"null":"other"}return n+=")"}(e)}function M(e,t,n){return function(e,t){if(e.__tt__newCloneFun__)return e.__tt__newCloneFun__;var n=function(){var n=e.apply(this,arguments),r=b(arguments);return t(n,r),n};n.__tt__realObj__=e;for(var r=m(e),o=0;o<r.length;o++)!function(){var t=r[o];if("__tt__realObj__"!=t){try{Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,readable:!0})}catch(e){}try{Object.defineProperty(n,t,{get:function(){var n=e[t];return n instanceof Function?function(){return n.apply(e,arguments)}:n},set:function(n){e[t]=n}})}catch(e){}}}();return e.__tt__newCloneFun__=n,n}(e,(function(e,r){var o=b(t),i=r.length>0?",argNames:".concat(R(r)):"";f&&(i=""),w(e)?o.push("call(retFun".concat(i,")")):S(e)?(isGetContext&&1==r.length?o.push("call(retObj,arg:".concat(r[0],")")):o.push("call(retObj".concat(i,")")),o.length>100&&a("strange: ".concat(o))):O(e)?e.length>5?o.push("call(retArray,length: > 5".concat(i,")")):o.push("call(retArray,length:".concat(e.length).concat(i,")")):N(e)?o.push("call(retString".concat(i,")")):T(e)?o.push("call(retNum".concat(i,")")):null==e?o.push("call(retVoid".concat(i,")")):null==e?o.push("call(retNull".concat(i,")")):o.push("call(retOther".concat(i,")"));g(o);"onError"==n&&c("onError 回调 \n path: ".concat(t,"\n arg: ").concat(i))}))}function P(e,t,n){var r=e.length>0?"{args:".concat(R(e),"}"):"";if(f&&(r=""),t.push("argCallBack".concat(r)),F(e))return e;var o=[];if(k(e,t),O(e)){for(var i=0;i<e.length;i++)!function(r){var o=b(t),i="";i+=r>5?"ele[>5]":"ele[".concat(r,"]");var a=e[r];O(a)?(i+="(array)",o.push(i),e[r]=P(a,o)):w(a)?(i+="(fun)",o.push(i),e[r]=M(a,o,n)):S(a)&&(i+="(obj)",o.push(i),e[r]=P(a,o))}(i);return e}var s=m(e);for(i=0;i<s.length;i++){var c=s[i];w(e[c])&&!E(c)&&(G(e,c)||o.push(c))}return o.length>0&&a("needDeal:\n".concat(JSON.stringify(o))),e}function j(e){return e.length>1&&"argCallBack"==e[e.length-2]}i.__tt__all__param={},i.__tt__all__Ret={};var x={wholeIndex:0,allCallbacks:[],printUnCompleteCall:function(){for(var e=!0,t=0;t<this.allCallbacks.length;t++){var n=this.allCallbacks[t];n.removed||(a("回调（".concat(n.path,')未完成回调，当前状态为"').concat(n.state,'"')),e=!1)}e&&a("当前没有未完成回调")},addCallback:function(e,t){var n=e.success,r=e.fail,o=e.complete,i={path:t,index:this.wholeIndex++,state:"等待调用结果",retainCount:(o?1:0)+(n||r?1:0),oldSuccess:n,oldFail:r,oldComplete:o,removed:!1,lastStateStr:0};return this.allCallbacks.push(i),n&&(e.success=this.getSuccessCallback(i,e,t)),r&&(e.fail=this.getFailCallback(i,e,t)),o&&(e.complete=this.getCompleteCallback(i,e,t)),function(){"等待调用结果"!=i.state&&c("存在同步回调:(".concat(t,"): \narg:").concat(JSON.stringify(e)))}},removeRecord:function(e){e.removed=!0;for(var t=0;t<this.allCallbacks.length;t++){if(this.allCallbacks[t].index==e.index)return void this.allCallbacks.splice(t,1)}},getSuccessCallback:function(e,t,n){var r=this;return function(){if("success"!=e.lastStateStr)if(e.removed||"等待调用结果"!=e.state)c("error state(".concat(e.state,") in success \n path: ").concat(n,"\n arg: ").concat(JSON.stringify(t)));else{var o=void 0;try{e.oldSuccess.apply(this,arguments)}catch(e){o=e}if(e.lastStateStr="success",e.retainCount--,e.oldComplete?e.state="已完成Success回调，等待complete回调":(e.state="Success回调完成",r.removeRecord(e)),o)throw o}else c("error 重复回调 in success \n path: ".concat(n,"\n arg: ").concat(JSON.stringify(t)))}},getFailCallback:function(e,t,n){var r=this;return function(){if("fail"!=e.lastStateStr)if(e.removed||"等待调用结果"!=e.state)c("error state(".concat(e.state,") in fail \n path: ").concat(n,"\n arg: ").concat(JSON.stringify(t)));else{var o=void 0;try{e.oldFail.apply(this,arguments)}catch(e){o=e}e.lastStateStr="fail",e.retainCount--,e.oldComplete?e.state="已完成fail回调，等待complete回调":(e.state="Fail回调完成",r.removeRecord(e));var i=arguments;try{i=JSON.stringify(b(arguments))}catch(e){}if(c("fail回调 (".concat(n,"):\nfailInfo: ").concat(i,"\ncallArg: ").concat(JSON.stringify(t))),o)throw o}else c("error 重复回调 in fail \n path: ".concat(n,"\n arg: ").concat(JSON.stringify(t)))}},getCompleteCallback:function(e,t,n){var r=this;return function(){if("complete"!=e.lastStateStr)if(e.retainCount>1)c("error 未回调success或fail直接回调complete \n path: ".concat(n,"\n arg: ").concat(JSON.stringify(t)));else if(e.retainCount<1)c("error state(".concat(e.state,") in complete(未知异常) \n path: ").concat(n,"\n arg: ").concat(JSON.stringify(t)));else if(e.removed)c("error state(".concat(e.state,") in complete(未知异常被删除) \n path: ").concat(n,"\n arg: ").concat(JSON.stringify(t)));else{var o=void 0;try{e.oldComplete.apply(this,arguments)}catch(e){o=e}if(e.lastStateStr="complete",e.retainCount--,e.state="complete回调完成",r.removeRecord(e),o)throw o}else c("error 重复回调 in complete \n path: ".concat(n,"\n arg: ").concat(JSON.stringify(t)))}}};function D(e,t,n){if(!(n.length>1&&"argCallBack"==n[n.length-2])&&0!=e.length){var r=e[0];if(S(r)&&(w(r.success)||w(r.fail)||w(r.complete)))return x.addCallback(r,t)}}function L(e,t,n,r,o){return function(e,t){var s=e,u=r;return function(){var e=b(t),r=b(arguments),d=l&&!i.__tt__black_fun_printArg[o]&&t.length>1&&!i.__tt__black_fun_printArg[t[1]],h="**********begin**********\n",_=t.join("->");if(d){var v=r?JSON.stringify(r):"void";h+="".concat(_,"\n调用参数：").concat(v)}var y=r.length>0?",argNames:".concat(R(r)):"";f&&(y=""),r=P(r,b(e),o);try{var I=D(r,_,e),C=s.apply(p(this),r);I&&I()}catch(n){if(c(n,"exception happend: ".concat(t.join("->"))),d)if(j(e))if(a("回调".concat(h)),"void"!=v)(i.__tt__all__param[_]=i.__tt__all__param[_]||{})["args: ".concat(v)]={args:r};throw n}if(d){h+="\n-----------------\n调用返回值：";var M="";if(C)try{M=JSON.stringify(C)}catch(e){M="无法解析"}else M="void";if(h+=M,h+="\n*********end***********",j(e)){if(a("回调".concat(h)),"void"!=v)(i.__tt__all__param[_]=i.__tt__all__param[_]||{})["args: ".concat(v)]={args:r,res:C}}else if(a(h),"void"!=M&&"{}"!=M){var x=i.__tt__all__Ret[_]=i.__tt__all__Ret[_]||{};x["args: ".concat(v)]={args:r,res:C}}}w(C)?(e.push("call(retFun".concat(y,")")),C=L(C,e,A(o))):S(C)?(u?1==r.length?e.push("call(retObj,arg:".concat(r[0],")")):e.push("call(retObj,first_arg:".concat(r[0],", ").concat(y,")")):e.push("call(retObj".concat(y,")")),e.length>100&&a("strange: ".concat(e)),C=B(C,e)):O(C)?(C.length>5?e.push("call(retArray,length: > 5".concat(y,")")):e.push("call(retArray,length:".concat(C.length).concat(y,")")),C=B(C,e)):N(C)?e.push("call(retString".concat(y,")")):T(C)?e.push("call(retNum".concat(y,")")):null==C?e.push("call(retVoid".concat(y,")")):null==C?e.push("call(retNull".concat(y,")")):e.push("call(retOther".concat(y,")"));var k=g(e);if(n&&(n=k&&n),n){a("*********begin______\n");for(var F="",U=m(C),G=0;G<U.length;G++){var V=U[G];E(V)||(F+="".concat(V,"\n"))}a(F),a("*********end______\n")}return C}}(e,t)}function B(e,t,n){if(F(e))return e;var r=[];if(k(e,t),O(e)){for(var o=0;o<e.length;o++)!function(n){var r=b(t),o="";o+=n>5?"ele[>5]":"ele[".concat(n,"]");var i=e[n];O(i)?(o+="(array)",r.push(o),e[n]=B(i,r)):w(i)?(o+="(fun)",r.push(o),e[n]=L(i,r)):S(i)?(o+="(obj)",r.push(o),e[n]=B(i,r)):G(e,n)}(o);return e}var i=n||m(e);for(o=0;o<i.length;o++){var a=i[o];E(a)||G(e,a)||r.push(a)}return e}function k(e,t){t.length>0&&(e.__tt__from__path__=t.join("->"))}function F(e){return!(null==e.__tt__from__path__)}function U(e){return e.length>1&&__tt__spercial__APIFuns[e[1]]}i.__tt__print__UncompleteCall=function(){x.printUnCompleteCall()},i.addMyObserver=function(e,t){var n=t;if(O(e)){if(!T(t))return!0;n=t>5?"ele[>5]":"ele[".concat(t,"]")}else{if(!S(e))return!0;if(/^[0-9]+.?[0-9]*$/.test(t))return!0}return"__tt__hoked__keys"==t||function(){var r=function(e,t){if(e instanceof Object){var n=e;do{var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r.get||r.set?{__tt__ins:n,__tt__get:r.get,__tt__set:r.set}:{__tt__ins:n,__tt__value:e[t]};n=n.__proto__}while(n&&n instanceof Object&&n!=e)}}(e,t);if(!r)return!0;if(r.__tt__ins,r.__tt__get&&r.__tt__get.__is__tt__Hoked)return!0;var o,i=(o=e).__tt__from__path__?o.__tt__from__path__.split("->"):["unknown(obj)"],a=function(){var e=b(i),o=r.__tt__value;r.__tt__get&&(o=r.__tt__get.apply(p(this),arguments));return w(o)?(U(e)||__tt__isFunInNormalAPIFun(t))&&(e.push(n),o=L(o,e,A(t),"getContext"===t,t)):S(o)?(e.push("".concat(n,"(obj)")),o=B(o,e),g(e)):(e.push("".concat(n,"(num)")),g(e)),o};a.__is__tt__Hoked=!0;var s=function(e){if(r.__tt__set){var t=b(i);t.push("".concat(n,"(setValue)")),r.__tt__set.apply(p(this),arguments),g(t)}else r.__tt__value=e};s.__is__tt__Hoked=!0;try{Object.defineProperty(r.__tt__ins,t,{configurable:!0,enumerable:!0,writable:!0,readable:!0})}catch(e){return wx.testMyUndeals=wx.testMyUndeals||[],wx.testMyUndeals.push({name:"__tt_pre__".concat(t)}),wx.testMyUndealDic=wx.testMyUndealDic||{},wx.testMyUndealDic["__tt_pre__".concat(t)]=!0,!1}return Object.defineProperty(r.__tt__ins,t,{get:a,set:s}),!0}()};var G=i.addMyObserver;wx=B(wx,["wx(obj)"]),i.__tt__from__path__="global";for(var V=0;V<i.__tt__test__global__funs__.length;++V){var H=i.__tt__test__global__funs__[V];G(i,H)}d=!0}}).call(this,n(5))},function(e,t){!function(){var e=GameGlobal,t=["getContext","toDataURL","toTempFilePath","toTempFilePathSync","isDirectory","isFile","destroy","hide","offTap","onTap","show","now","debug","error","group","groupEnd","info","log","warn","postMessage","terminate","onProgressUpdate","destroy","offCanplay","offEnded","offError","offPause","offPlay","offSeeked","offSeeking","offStop","offTimeUpdate","offWaiting","onCanplay","onEnded","onError","onPause","onPlay","onSeeked","onSeeking","onStop","onTimeUpdate","onWaiting","pause","play","seek","stop","destroy","exitFullScreen","offEnded","offError","offPause","offPlay","offTimeUpdate","offWaiting","onEnded","onError","onPause","onPlay","onTimeUpdate","onWaiting","pause","play","requestFullScreen","seek","stop","abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate","abort","offHeadersReceived","onHeadersReceived","abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate","onError","onFrameRecorded","onInterruptionBegin","onInterruptionEnd","onPause","onResume","onStart","onStop","pause","resume","start","stop","access","accessSync","copyFile","copyFileSync","getFileInfo","getSavedFileList","mkdir","mkdirSync","readdir","readdirSync","readFile","readFileSync","removeSavedFile","rename","renameSync","rmdir","rmdirSync","saveFile","saveFileSync","stat","statSync","unlink","unlinkSync","unzip","writeFile","writeFileSync","postMessage","destroy","hide","offTap","onTap","show","close","onClose","onError","onOpen","send","load","offClose","offError","offLoad","onClose","onError","onLoad","show","createCanvas","getTextLineHeight","loadFont","setPreferredFramesPerSecond","createImage","createBannerAd","createRewardedVideoAd","offAudioInterruptionBegin","offAudioInterruptionEnd","offError","onAudioInterruptionBegin","onAudioInterruptionEnd","onError","exitMiniProgram","getLaunchOptionsSync","offHide","offShow","onHide","onShow","offTouchCancel","offTouchEnd","offTouchMove","offTouchStart","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","setEnableDebug","onAccelerometerChange","startAccelerometer","stopAccelerometer","getBatteryInfo","getBatteryInfoSync","getClipboardData","setClipboardData","onCompassChange","startCompass","stopCompass","onGyroscopeChange","startGyroscope","stopGyroscope","onDeviceMotionChange","startDeviceMotionListening","stopDeviceMotionListening","getNetworkType","onNetworkStatusChange","offDeviceOrientationChange","onDeviceOrientationChange","onMemoryWarning","getScreenBrightness","setKeepScreenOn","setScreenBrightness","vibrateLong","vibrateShort","getFileSystemManager","getLocation","createInnerAudioContext","getAvailableAudioSources","setInnerAudioOption","chooseImage","previewImage","saveImageToPhotosAlbum","getRecorderManager","createVideo","requestMidasPayment","downloadFile","request","uploadFile","closeSocket","connectSocket","onSocketClose","onSocketError","onSocketMessage","onSocketOpen","sendSocketMessage","checkIsUserAdvisedToRest","authorize","getOpenDataContext","onMessage","openCustomerServiceConversation","getFriendCloudStorage","getGroupCloudStorage","getSharedCanvas","getUserCloudStorage","removeUserCloudStorage","setUserCloudStorage","createFeedbackButton","createGameClubButton","checkSession","login","navigateToMiniProgram","createOpenSettingButton","getSetting","openSetting","createUserInfoButton","getUserInfo","getGroupInfo","openGroupNotice","openGroupRemind","getWeRunData","getPerformance","triggerGC","getShareInfo","hideShareMenu","offShareAppMessage","onShareAppMessage","shareAppMessage","showShareMenu","updateShareMenu","clearStorage","clearStorageSync","getStorage","getStorageInfo","getStorageInfoSync","getStorageSync","removeStorage","removeStorageSync","setStorage","setStorageSync","loadSubpackage","getSystemInfo","getSystemInfoSync","hideLoading","hideToast","showActionSheet","showLoading","showModal","showToast","hideKeyboard","offKeyboardComplete","offKeyboardConfirm","offKeyboardInput","onKeyboardComplete","onKeyboardConfirm","onKeyboardInput","showKeyboard","updateKeyboard","getMenuButtonBoundingClientRect","setMenuStyle","setStatusBarStyle","offWindowResize","onWindowResize","getUpdateManager","createWorker","destroy","hide","offError","offLoad","offResize","onError","onLoad","onResize","show","destroy","hide","offTap","onTap","show","applyUpdate","onCheckForUpdate","onUpdateFailed","onUpdateReady","destroy","hide","offTap","onTap","show","cancelAnimationFrame","requestAnimationFrame","midasCancelPay","midasGetBalance","midasPay","midasPresent","getAccessToken","removeUserStorage","setUserStorage","checkSessionKey","code2Session","createWXAQRCode","getWXACode","getWXACodeUnlimit","imgSecCheck","msgSecCheck","createActivityId","setUpdatableMsg","clearInterval","clearTimeout","setInterval","setTimeout","success","fail","complete","__tt__testArray"];e.__all__normal__APIFun=t;for(var n={},r=0;r<t.length;r++)n["__tt__normal__APIFun".concat(t[r])]=!0;e.__tt__isFunInNormalAPIFun=function(e){return n["__tt__normal__APIFun".concat(e)]},e.__tt__black_fun_printArg={cancelAnimationFrame:!0,requestAnimationFrame:!0,clearInterval:!0,clearTimeout:!0,setInterval:!0,setTimeout:!0,createCanvas:!0},e.__tt__test__global__funs__=["cancelAnimationFrame","requestAnimationFrame","midasCancelPay","midasGetBalance","midasPay","midasPresent","getAccessToken","removeUserStorage","setUserStorage","checkSessionKey","code2Session","createWXAQRCode","getWXACode","getWXACodeUnlimit","imgSecCheck","msgSecCheck","createActivityId","setUpdatableMsg","clearInterval","clearTimeout","setInterval","setTimeout"],e.__tt__canvas2d__apis__=["arc","arcTo","beginPath","bezierCurveTo","canvas","clearRect","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillStyle","fillText","filter","font","getImageData","getLineDash","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","isPointInPath","isPointInStroke","lineCap","lineDashOffset","lineJoin","lineTo","lineWidth","lineWidth","measureText","miterLimit","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeRect","strokeStyle","strokeText","textAlign","textBaseline","transform","translate"],e.__tt__spercial__APIFuns={createCanvas:!0,createImage:!0}}()},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=g(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var f=c(e,t,n);if("normal"===f.type){if(r=n.done?"completed":"suspendedYield",f.arg===u)continue;return{value:f.arg,done:n.done}}"throw"===f.type&&(r="completed",n.method="throw",n.arg=f.arg)}}}(e,n,a),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function f(){}function l(){}function p(){}var m={};m[o]=function(){return this};var d=Object.getPrototypeOf,h=d&&d(d(A([])));h&&h!==t&&n.call(h,o)&&(m=h);var _=p.prototype=f.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var r;this._invoke=function(o,i){function a(){return new t((function(r,a){!function r(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return l.prototype=_.constructor=p,p.constructor=l,p[a]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[i]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new y(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(_),_[a]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__,n.__ttObjdec__;!function(e){e.imageDownloadDir="__tt_imageDownload__",e.imageUtil=new e.Triton.ImageUtil,qq.onTTJSFinish&&qq.onTTJSFinish((function(){e.imageUtil.setImageDownloadDir(e.imageDownloadDir,(function(t,n){t&&(e.imageDownloadDir=n)}))}));wx.getFileSystemManager;var t=wx.downloadFile;function n(){this.__nativeObj=new e.Triton.Image,this.__loaded=!1,this.__ttLocalPath=void 0,this.__ttLocalDir=void 0,this.__tmpSrc=void 0,this.__event={},this.__nativeObj.onload=function(e){var t=this.__target;t?(t.dispatchEvent({type:"load",target:t}),this.__target=void 0):console.error("target is not exist when onload callback")},this.__nativeObj.onerror=function(e){var t=this.__target;t?(t.dispatchEvent({type:"error",errMsg:e}),t.__ttLocalPath=void 0,this.__target=void 0):console.error("target is not exist when onerror callback")},Object.getOwnPropertyNames(this.__nativeObj).forEach((function(e){var t=e;"src"!=t&&"onload"!=t&&"onerror"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})}),this)}Object.defineProperty(n.prototype,"src",{get:function(){return this.__ttLocalPath},set:function(t){if(t.includes(":image"))this.__nativeObj.__target=this,this.__ttLocalPath=t,this.__nativeObj.src=t;else if(t&&t.length>0){var n=e.getImgPath(t);n!==this.__ttLocalPath?(this.__ttLocalPath=n,this.__ttLocalDir=e.extractDir(n),this.__tmpSrc=t,this.__nativeObj.__target=this,this.handleImgUrl()):this.dispatchEvent({type:"load",target:this})}}}),Object.defineProperty(n.prototype,"onload",{get:function(){return this.__event.load},set:function(e){if(e){this.addEventListener("load",e,{once:!0});this.__loaded&&e({once:!0})}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onerror",{get:function(){return this.__event.error},set:function(e){this.addEventListener("error",e,{once:!0})},enumerable:!0,configurable:!0}),n.prototype.handleImgUrl=function(){var t=this.__tmpSrc,n=this.__ttLocalPath,r=this;"string"==typeof t?e.isRemoteUrl(t)?e.imageUtil.accessImage(n,(function(e){e?(r.__nativeObj.src=n,r=null):(r.loadImg(),r=null)})):n&&n.length>0?this.__nativeObj.src=n:this.dispatchEvent({type:"error",errMsg:"src length is 0"}):this.dispatchEvent({type:"error",errMsg:"src only support string"})},n.prototype.loadImg=function(){var n=this,r=n.__tmpSrc,o=n.__ttLocalPath;n.__ttLocalDir;t({url:r,success:function(t){e.imageUtil.copyImage(t.tempFilePath,o,(function(e){e?(n.__nativeObj.src=o,n=null):n.dispatchEvent({type:"error",errMsg:"copy image error"})}))},fail:function(e){n.dispatchEvent({type:"error",errMsg:(null==e?void 0:e.errMsg)?e.errMsg:"download file error"}),n=null}})},n.prototype.addEventListener=function(e,t,n){this.__event[e]||(this.__event[e]=[]),this.__event[e].push(t),(null==n?void 0:n.capture)&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),null==n||n.once,(null==n?void 0:n.passive)&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")},n.prototype.removeEventListener=function(e,t){this.__event[e]||(this.__event[e]=[]);var n=this.__event[e].indexOf(t);this.__event[e].splice(n,1)},n.prototype.dispatchEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.__event[e.type];if(void 0!==t)for(var n=0;n<t.length;n++)t[n]&&t[n].apply(this,[e])},e.WebImage=n}(n.__ttObjdec__)},function(e,t,n){var r,o,i=__TT__GLOBAL__;r=i.__ttObjdec__,o=function(){function e(){r.Triton.Script.log(103,0,"init render command queue"),this.__nativeObj=new r.Triton.RenderCmdQueue,this.enableCommandQueue=this.__nativeObj.enableCmdQueue;var e=this.__nativeObj.cmdBuffer;this.cmdUint32Buffer=new Uint32Array(e),this.cmdFloat32Buffer=new Float32Array(e),this.cmdUint8Buffer=new Uint8Array(e),this.curCmd=new Uint32Array(this.__nativeObj.flushParams),this.overflowParams=new Uint32Array(this.__nativeObj.overflowParams);var t=n(36),o=0,i=t.CommandConstant.canvas2d;for(var a in i)i[a].cmd_id=o,this.__nativeObj.prepareCommand("canvas2d",i[a].name,i[a].cmd_id),o+=1;o=0;var s=t.CommandConstant.webgl;for(var c in s)s[c].cmd_id=o,this.__nativeObj.prepareCommand("webgl",s[c].name,s[c].cmd_id),o+=1}return e.prototype.flushCmd=function(e){return this.__nativeObj.flushCmd(e)},e.prototype._getWriteDataPos=function(e){return this.overflowParams[0]=e,this.__nativeObj.getWriteDataPos(),this.overflowParams[1]},e.prototype.writeInt32=function(e){var t=this._getWriteDataPos(4)>>>2;this.cmdUint32Buffer[t]=e},e.prototype.writeFloat32=function(e){var t=this._getWriteDataPos(4)>>>2;this.cmdFloat32Buffer[t]=e},e.prototype.writeString=function(e){this.__nativeObj.writeString(e)},e.prototype.writeArray=function(e){this.__nativeObj.writeArray(e)},e.prototype.writeTypedArray=function(e){var t;if(e&&(null===(t=e=e.buffer)||void 0===t?void 0:t.byteLength)){this.writeInt32(e.byteLength);var n=this._getWriteDataPos(e.byteLength),r=new Uint8Array(e);this.cmdUint8Buffer.set(r,n)}else this.writeInt32(0)},e.prototype.writeCanvas=function(e){this.__nativeObj.writeCanvas(e)},e.prototype.writeImage=function(e){this.__nativeObj.writeImage(e)},e.prototype.writeImageData=function(e){this.__nativeObj.writeImageData(e)},e.prototype.writeRenderCmd=function(e,t,n){this.curCmd[0]=t.cmd_id,this.curCmd[1]=n,this.curCmd[2]=e.nativeConsumer[0],this.curCmd[3]=e.nativeConsumer[1],this.__nativeObj.writeRenderCmd()},e.prototype.commit=function(){return this.__nativeObj.writeCommitData()},e.Instance=new e,e}(),r.RenderCmdQueue=o},function(e,t,n){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){var t=n(18),r=(n(21),n(22)),o=n(36).CommandConstant.webgl,i=n(176),a=function n(r){this.__nativeObj=r,this.commandInstance=e.RenderCmdQueue.Instance,n.prototype.bindVertexArrayOES=function(e){this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindVertexArrayOES,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit()},n.prototype.createVertexArrayOES=function(){this.commandInstance.writeRenderCmd(this.__nativeObj,o.createVertexArrayOES,0);var e=this.commandInstance.commit();return t.wrap(e)},n.prototype.deleteVertexArrayOES=function(e){this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteVertexArrayOES,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit()},n.prototype.isVertexArrayOES=function(e){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.isVertexArrayOES,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit()}},s=function n(r){this.__nativeObj=r,this.commandInstance=e.RenderCmdQueue.Instance,n.prototype.drawArraysInstancedANGLE=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawArraysInstanced,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("drawArraysInstancedANGLE js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.drawElementsInstancedANGLE=function(e,n,r,i,a){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawElementsInstanced,5),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.commit()):console.error("drawElementsInstancedANGLE js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttribDivisorANGLE=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttribDivisor,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("vertexAttribDivisorANGLE js param type error! arguments= ".concat(JSON.stringify(arguments)))}};e.WebGLRenderingContext=function n(c){c.nativeConsumer=new Uint32Array(c._nativeConsumer),this.__nativeObj=c,r.attachWebGlConstant(n),this.commandInstance=e.RenderCmdQueue.Instance,this.__supportedExtensions=f(this);var u=new i(this);function f(e){return e.__supportedExtensions||(e.commandInstance.writeRenderCmd(e.__nativeObj,o.getSupportedExtensions,0),e.__supportedExtensions=e.commandInstance.commit()),e.__supportedExtensions}this.__extensions=u.getExtensions(),n.prototype.activeTexture=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.activeTexture,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.activeTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.attachShader=function(e,n){var r=t.unwrap(e),i=t.unwrap(n);t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.attachShader,2),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.attachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.bindAttribLocation=function(e,n,r){if(null!=e){var i=t.unwrap(e);this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindAttribLocation,3),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(n),this.commandInstance.writeString(r),this.commandInstance.commit()}},n.prototype.bindBuffer=function(e,n){if(t.isNumber(e)){var r=0;n&&(r=t.unwrap(n)),this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindBuffer,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(r),this.commandInstance.commit()}else console.error("gl.bindBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.bindFramebuffer=function(e,n){var r=t.unwrap(n);this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindFramebuffer,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(r),this.commandInstance.commit()},n.prototype.bindRenderbuffer=function(e,n){var r=t.unwrap(n);this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindRenderbuffer,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(r),this.commandInstance.commit()},n.prototype.bindTexture=function(e,n){if(t.isNumber(e)){var r=0;n&&(r=t.unwrap(n)),this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindTexture,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(r),this.commandInstance.commit()}else console.error("gl.bindTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.bindVertexArray=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.bindVertexArray,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.bindVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.blendColor=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.blendColor,4),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.commit()):console.error("gl.blendColor js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.blendEquation=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.blendEquation,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.blendEquation js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.blendEquationSeparate=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.blendEquationSeparate,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.blendEquationSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.blendFunc=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.blendFunc,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.blendFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.blendFuncSeparate=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.blendFuncSeparate,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.blendFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.bufferData=function(e,n,r){if(n=t.getBufferData(n),t.isNumber(e)&&t.isNumber(r)&&null!=n){var i=t.isNumber(n);this.commandInstance.writeRenderCmd(this.__nativeObj,o.bufferData,4),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(r),i?this.commandInstance.writeInt32(n):this.commandInstance.writeArray(n),this.commandInstance.commit()}else console.error("gl.bufferData js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.bufferSubData=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&null!=r?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.bufferSubData,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeArray(r),this.commandInstance.commit()):console.error("gl.bufferSubData js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.checkFramebufferStatus=function(e){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.checkFramebufferStatus,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()},n.prototype.clear=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.clear,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.clear js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.clearColor=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.clearColor,4),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.commit()):console.error("gl.clearColor js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.clearDepth=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.clearDepth,1),this.commandInstance.writeFloat32(e),this.commandInstance.commit()):console.error("gl.clearDepth js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.clearStencil=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.clearStencil,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.clearStencil js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.colorMask=function(e,n,r,i){t.isNumberOrBool(e)&&t.isNumberOrBool(n)&&t.isNumberOrBool(r)&&t.isNumberOrBool(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.colorMask,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.colorMask js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.compileShader=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.compileShader,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.compileShader js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.compressedTexImage2D=function(e,t,n,r,i,a,s){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.compressedTexImage2D,7),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.writeArray(s),this.commandInstance.commit()},n.prototype.compressedTexSubImage2D=function(e,t,n,r,i,a,s,c){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.compressedTexSubImage2D,8),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.writeInt32(s),this.commandInstance.writeArray(c),this.commandInstance.commit()},n.prototype.copyTexImage2D=function(e,n,r,i,a,s,c,u){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)&&t.isNumber(s)&&t.isNumber(c)&&t.isNumber(u)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.copyTexImage2D,8),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.writeInt32(s),this.commandInstance.writeInt32(c),this.commandInstance.writeInt32(u),this.commandInstance.commit()):console.error("gl.copyTexImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.copyTexSubImage2D=function(e,n,r,i,a,s,c,u){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)&&t.isNumber(s)&&t.isNumber(c)&&t.isNumber(u)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.copyTexSubImage2D,8),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.writeInt32(s),this.commandInstance.writeInt32(c),this.commandInstance.writeInt32(u),this.commandInstance.commit()):console.error("gl.copyTexSubImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.createBuffer=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createBuffer,0),t.wrap(this.commandInstance.commit())},n.prototype.createFramebuffer=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createFramebuffer,0),t.wrap(this.commandInstance.commit())},n.prototype.createProgram=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createProgram,0),t.wrap(this.commandInstance.commit())},n.prototype.createRenderbuffer=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createRenderbuffer,0),t.wrap(this.commandInstance.commit())},n.prototype.createShader=function(e){return e==this.VERTEX_SHADER||e==this.FRAGMENT_SHADER?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.createShader,1),this.commandInstance.writeInt32(e),t.wrap(this.commandInstance.commit())):(console.log("gl.createShader(type) param error! type: Either gl.VERTEX_SHADER or gl.FRAGMENT_SHADER!"),null)},n.prototype.createTexture=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createTexture,0),t.wrap(this.commandInstance.commit())},n.prototype.createVertexArray=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.createVertexArray,0),this.commandInstance.commit()},n.prototype.cullFace=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.cullFace,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.cullFace js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteBuffer=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteBuffer,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteFramebuffer=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteFramebuffer,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteFramebuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteProgram=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteProgram,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteRenderbuffer=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteRenderbuffer,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteShader=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteShader,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteShader js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteTexture=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteTexture,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.deleteTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.deleteVertexArray=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.deleteVertexArray,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.eleteVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.depthFunc=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.depthFunc,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.depthFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.depthMask=function(e){t.isNumberOrBool(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.depthMask,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.depthMask js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.depthRange=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.depthRange,2),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(n),this.commandInstance.commit()):console.error("gl.depthRange js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.detachShader=function(e,n){var r=t.unwrap(e),i=t.unwrap(n);t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.detachShader,2),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.detachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.disable=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.disable,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.disable js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.disableVertexAttribArray=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.disableVertexAttribArray,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.disableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.drawArrays=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawArrays,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.commit()):console.error("gl.drawArrays js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.drawArraysInstanced=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawArraysInstanced,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.drawArraysInstanced js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.drawElements=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawElements,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.drawElements js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.drawElementsInstanced=function(e,n,r,i,a){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.drawElementsInstanced,5),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.commit()):console.error("gl.drawElementsInstance js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.enable=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.enable,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.enable js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.enableVertexAttribArray=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.enableVertexAttribArray,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.enableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.finish=function(){this.commandInstance.writeRenderCmd(this.__nativeObj,o.finish,0),this.commandInstance.commit()},n.prototype.flush=function(){this.commandInstance.writeRenderCmd(this.__nativeObj,o.flush,0),this.commandInstance.commit()},n.prototype.framebufferRenderbuffer=function(e,n,r,i){var a=t.unwrap(i);t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(a)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.framebufferRenderbuffer,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(a),this.commandInstance.commit()):console.error("gl.framebufferRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.framebufferTexture2D=function(e,n,r,i,a){var s=t.unwrap(i);t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(s)&&t.isNumber(a)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.framebufferTexture2D,5),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(s),this.commandInstance.writeInt32(a),this.commandInstance.commit()):console.error("gl.framebufferTexture2D js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.frontFace=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.frontFace,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.frontFace js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.generateMipmap=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.generateMipmap,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.generateMipmap js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.getExtension=function(e){return"OES_vertex_array_object"===e?(this.__vaoExt||(this.__vaoExt=new a(this.__nativeObj)),this.__vaoExt):"ANGLE_instanced_arrays"===e?(this.__irExt||(this.__irExt=new s(this.__nativeObj)),this.__irExt):this.__extensions[e]},n.prototype.getSupportedExtensions=function(){return f(this)},n.prototype.getActiveAttrib=function(e,n){if(null!=e)return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getActiveAttrib,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeInt32(n),this.commandInstance.commit()},n.prototype.getActiveUniform=function(e,n){if(null!=e)return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getActiveUniform,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeInt32(n),this.commandInstance.commit()},n.prototype.getAttachedShaders=function(e){if(null!=e){this.commandInstance.writeRenderCmd(this.__nativeObj,o.getAttachedShaders,1),this.commandInstance.writeInt32(t.unwrap(e));var n=this.commandInstance.commit();if(n instanceof Array){for(var r=[],i=n.length,a=0;a<i;a++){var s=t.wrap(n[a]);r.push(s)}return r}return n}},n.prototype.getAttribLocation=function(e,n){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getAttribLocation,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeString(n),this.commandInstance.commit()},n.prototype.getBufferParameter=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getBufferParameter,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.getContextAttributes=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getContextAttributes,0),this.commandInstance.commit()},n.prototype.getError=function(){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getError,0),this.commandInstance.commit()},n.prototype.getFramebufferAttachmentParameter=function(e,n,r){this.commandInstance.writeRenderCmd(this.__nativeObj,o.getFramebufferAttachmentParameter,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r);var i=this.commandInstance.commit();return r==this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME&&t.isNumber(i)?this.createBuffer():i},n.prototype.getParameter=function(e){this.commandInstance.writeRenderCmd(this.__nativeObj,o.getParameter,1),this.commandInstance.writeInt32(e);var n=this.commandInstance.commit();switch(e){case this.ARRAY_BUFFER_BINDING:case this.CURRENT_PROGRAM:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.FRAMEBUFFER_BINDING:case this.RENDERBUFFER_BINDING:case this.VERTEX_ARRAY_BINDING:return t.wrap(n);default:return n}},n.prototype.getProgramInfoLog=function(e){return null==e?null:(this.commandInstance.writeRenderCmd(this.__nativeObj,o.getProgramInfoLog,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.getProgramParameter=function(e,n){if(null!=e)return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getProgramParameter,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeInt32(n),this.commandInstance.commit()},n.prototype.getRenderbufferParameter=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getRenderbufferParameter,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.getShaderInfoLog=function(e){return null==e?null:(this.commandInstance.writeRenderCmd(this.__nativeObj,o.getShaderInfoLog,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.getShaderParameter=function(e,n){if(null!=e)return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getShaderParameter,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeInt32(n),this.commandInstance.commit()},n.prototype.getShaderPrecisionFormat=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getShaderPrecisionFormat,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.getShaderSource=function(e){return null==e?null:(this.commandInstance.writeRenderCmd(this.__nativeObj,o.getShaderSource,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.getTexParameter=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getTexParameter,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.getUniform=function(e,n){var r=t.unwrap(n);if(null!=e&&-1!=r)return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getUniform,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeInt32(r),this.commandInstance.commit();console.error("gl.getUniform js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.getUniformLocation=function(e,n){return null==e?(console.error("gl.getUniformLocation js param type error! arguments= ".concat(JSON.stringify(arguments))),-1):(this.commandInstance.writeRenderCmd(this.__nativeObj,o.getUniformLocation,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeString(n),t.wrap(this.commandInstance.commit()))},n.prototype.getVertexAttrib=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getVertexAttrib,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.getVertexAttribOffset=function(e,t){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.getVertexAttribOffset,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.commit()},n.prototype.hint=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.hint,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.hint js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.isBuffer=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isBuffer,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isEnabled=function(e){return this.commandInstance.writeRenderCmd(this.__nativeObj,o.isEnabled,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()},n.prototype.isFramebuffer=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isFramebuffer,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isProgram=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isProgram,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isRenderbuffer=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isRenderbuffer,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isShader=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isShader,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isTexture=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isTexture,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.isVertexArray=function(e){return null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.isVertexArray,1),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.commit())},n.prototype.lineWidth=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.lineWidth,1),this.commandInstance.writeFloat32(e),this.commandInstance.commit()):console.error("gl.lineWidth js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.linkProgram=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.linkProgram,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.linkProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.pixelStorei=function(e,n){t.isNumber(e)&&t.isNumberOrBool(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.pixelStorei,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.pixelStoreiOpt js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.polygonOffset=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.polygonOffset,2),this.commandInstance.writeFloat32(e),this.commandInstance.writeFloat32(n),this.commandInstance.commit()):console.error("gl.polygonOffset js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.readPixels=function(e,t,n,r,i,a,s){this.commandInstance.writeRenderCmd(this.__nativeObj,o.readPixels,6),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.commit().data},n.prototype.renderbufferStorage=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.renderbufferStorage,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.renderbufferStorage js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.sampleCoverage=function(e,n){t.isNumber(e)&&t.isNumberOrBool(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.sampleCoverage,2),this.commandInstance.writeFloat32(e),this.commandInstance.writeInt32(n?1:0),this.commandInstance.commit()):console.error("gl.sampleCoverage js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.scissor=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.scissor,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.scissor js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.shaderSource=function(e,n){null!=e&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.shaderSource,2),this.commandInstance.writeInt32(t.unwrap(e)),this.commandInstance.writeString(n),this.commandInstance.commit())},n.prototype.stencilFunc=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilFunc,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.commit()):console.error("gl.stencilFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.stencilFuncSeparate=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilFuncSeparate,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.stencilFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.stencilMask=function(e){t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilMask,1),this.commandInstance.writeInt32(e),this.commandInstance.commit()):console.error("gl.stencilMask js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.stencilMaskSeparate=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilMaskSeparate,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.stencilMaskSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.stencilOp=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilOp,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.commit()):console.error("gl.stencil js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.stencilOpSeparate=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.stencilOpSeparate,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.stencilOpSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.texImage2D=function(e,t,n){switch(arguments.length){case 6:var r=arguments[3],i=arguments[4],a=arguments[5];if(null==a)return void console.error("texImage2D param error.  arg[5] is undefined!");if(this.commandInstance.writeRenderCmd(this.__nativeObj,o.texImage2D,6),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),Object.prototype.hasOwnProperty.call(a,"__nativeObj"))if(null!=a.type&&"canvas"==a.type){var s=a.currentContext["2d"]?a.currentContext["2d"]:a.currentContext.webgl;null==s?(console.error("texImage2D param error. canvas has no context"),this.commandInstance.writeInt32(0)):this.commandInstance.writeCanvas(s.__nativeObj)}else this.commandInstance.writeImage(a.__nativeObj);else a.width>0&&a.height>0?this.commandInstance.writeImageData(a):(console.error("texImage2D param error. source has no width or height"),this.commandInstance.writeInt32(0));this.commandInstance.commit();break;case 9:var c=arguments[3],u=arguments[4],f=arguments[5],l=arguments[6],p=arguments[7],m=arguments[8];this.commandInstance.writeRenderCmd(this.__nativeObj,o.texImage2D,9),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(c),this.commandInstance.writeInt32(u),this.commandInstance.writeInt32(f),this.commandInstance.writeInt32(l),this.commandInstance.writeInt32(p),this.commandInstance.writeArray(m),this.commandInstance.commit()}},n.prototype.texParameterf=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.texParameterf,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeFloat32(r),this.commandInstance.commit()):console.error("gl.texParameterf js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.texParameteri=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.texParameteri,3),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.commit()):console.error("gl.texParameteri js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.texSubImage2D=function(e,t,n,r){switch(arguments.length){case 7:var i=arguments[4],a=arguments[5],s=arguments[6];if(void 0===s)return void console.error("texSubImage2D param error.  arg[6] is undefined!");if(this.commandInstance.writeRenderCmd(this.__nativeObj,o.texSubImage2D,7),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),Object.prototype.hasOwnProperty.call(s,"__nativeObj"))if(null!=s.type&&"canvas"==s.type){var c=s.currentContext["2d"]?s.currentContext["2d"]:s.currentContext.webgl;null==c?(console.error("texSubImage2D param error. canvas has no context"),this.commandInstance.writeInt32(0)):this.commandInstance.writeCanvas(c.__nativeObj)}else this.commandInstance.writeImage(s.__nativeObj);else s.width>0&&s.height>0?this.commandInstance.writeImageData(s):this.commandInstance.writeInt32(0);this.commandInstance.commit();break;case 9:var u=arguments[4],f=arguments[5],l=arguments[6],p=arguments[7],m=arguments[8];this.commandInstance.writeRenderCmd(this.__nativeObj,o.texSubImage2D,9),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(t),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(u),this.commandInstance.writeInt32(f),this.commandInstance.writeInt32(l),this.commandInstance.writeInt32(p),this.commandInstance.writeArray(m),this.commandInstance.commit()}},n.prototype.uniform1f=function(e,n){var r=t.unwrap(e);t.isNumber(r)&&t.isNumber(n)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform1f,2),this.commandInstance.writeInt32(r),this.commandInstance.writeFloat32(n),this.commandInstance.commit())},n.prototype.uniform2f=function(e,n,r){var i=t.unwrap(e);t.isNumber(i)&&t.isNumber(n)&&t.isNumber(r)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform2f,3),this.commandInstance.writeInt32(i),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.commit())},n.prototype.uniform3f=function(e,n,r,i){var a=t.unwrap(e);t.isNumber(a)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform3f,4),this.commandInstance.writeInt32(a),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.commit())},n.prototype.uniform4f=function(e,n,r,i,a){var s=t.unwrap(e);t.isNumber(s)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform4f,5),this.commandInstance.writeInt32(s),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.writeFloat32(a),this.commandInstance.commit())},n.prototype.uniform1i=function(e,n){var r=t.unwrap(e);t.isNumber(r)&&t.isNumberOrBool(n)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform1i,2),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(n),this.commandInstance.commit())},n.prototype.uniform2i=function(e,n,r){var i=t.unwrap(e);t.isNumber(i)&&t.isNumber(n)&&t.isNumber(r)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform2i,3),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.commit())},n.prototype.uniform3i=function(e,n,r,i){var a=t.unwrap(e);t.isNumber(a)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform3i,4),this.commandInstance.writeInt32(a),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit())},n.prototype.uniform4i=function(e,n,r,i,a){var s=t.unwrap(e);t.isNumber(s)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)&&(this.commandInstance.writeRenderCmd(this.__nativeObj,o.uniform4i,5),this.commandInstance.writeInt32(s),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.writeInt32(a),this.commandInstance.commit())},n.prototype.uniformvOptFunc=function(e,n,r,o,i,a){if(null!=n&&0!=n.length){var s=t.unwrap(e),c=null;if(c=a?t.getInt32Array(n):t.getFloat32Array(n),t.isNumber(s)&&c)this.commandInstance.writeRenderCmd(r,o,2),this.commandInstance.writeInt32(s),this.commandInstance.writeArray(c),this.commandInstance.commit();else{var u=a?"i":"f";console.error("gl.uniform".concat(i).concat(u,"v js param type error! arguments= ").concat(JSON.stringify(arguments)))}}},n.prototype.uniform1fv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform1fv,1,!1)},n.prototype.uniform2fv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform2fv,2,!1)},n.prototype.uniform3fv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform3fv,3,!1)},n.prototype.uniform4fv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform4fv,4,!1)},n.prototype.uniform1iv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform1iv,1,!0)},n.prototype.uniform2iv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform2iv,2,!0)},n.prototype.uniform3iv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform3iv,3,!0)},n.prototype.uniform4iv=function(e,t){this.uniformvOptFunc(e,t,this.__nativeObj,o.uniform4iv,4,!0)},n.prototype.uniformMatrixfvOptFunc=function(e,n,r,o,i,a){if(null!=r&&0!=r.length){var s=t.unwrap(e),c=t.getFloat32Array(r);t.isNumber(s)&&c?(this.commandInstance.writeRenderCmd(o,i,3),this.commandInstance.writeInt32(s),this.commandInstance.writeInt32(n),this.commandInstance.writeArray(c),this.commandInstance.commit()):console.error("gl.uniformMatrix".concat(a,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}},n.prototype.uniformMatrix2fv=function(e,t,n){this.uniformMatrixfvOptFunc(e,t,n,this.__nativeObj,o.uniformMatrix2fv,2)},n.prototype.uniformMatrix3fv=function(e,t,n){this.uniformMatrixfvOptFunc(e,t,n,this.__nativeObj,o.uniformMatrix3fv,3)},n.prototype.uniformMatrix4fv=function(e,t,n){this.uniformMatrixfvOptFunc(e,t,n,this.__nativeObj,o.uniformMatrix4fv,4)},n.prototype.useProgram=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.useProgram,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.useProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.validateProgram=function(e){var n=t.unwrap(e);t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.validateProgram,1),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.validateProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttrib1f=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttrib1f,2),this.commandInstance.writeInt32(e),this.commandInstance.writeFloat32(n),this.commandInstance.commit()):console.error("gl.vertexAttrib1f js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttrib2f=function(e,n,r){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttrib2f,3),this.commandInstance.writeInt32(e),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.commit()):console.error("gl.vertexAttrib2f js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttrib3f=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttrib3f,4),this.commandInstance.writeInt32(e),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.commit()):console.error("gl.vertexAttrib3f js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttrib4f=function(e,n,r,i,a){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(i)&&t.isNumber(a)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttrib4f,5),this.commandInstance.writeInt32(e),this.commandInstance.writeFloat32(n),this.commandInstance.writeFloat32(r),this.commandInstance.writeFloat32(i),this.commandInstance.writeFloat32(a),this.commandInstance.commit()):console.error("gl.vertexAttrib4f js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttribfvOptFunc=function(e,n,r,o,i){if(null!=n&&0!=n.length){var a=t.getFloat32Array(n);t.isNumber(e)&&a?(this.commandInstance.writeRenderCmd(r,o,2),this.commandInstance.writeInt32(e),this.commandInstance.writeArray(a),this.commandInstance.commit()):console.error("gl.vertexAttrib".concat(i,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}},n.prototype.vertexAttrib1fv=function(e,t){this.vertexAttribfvOptFunc(e,t,this.__nativeObj,o.vertexAttrib1fv,1)},n.prototype.vertexAttrib2fv=function(e,t){this.vertexAttribfvOptFunc(e,t,this.__nativeObj,o.vertexAttrib2fv,2)},n.prototype.vertexAttrib3fv=function(e,t){this.vertexAttribfvOptFunc(e,t,this.__nativeObj,o.vertexAttrib3fv,3)},n.prototype.vertexAttrib4fv=function(e,t){this.vertexAttribfvOptFunc(e,t,this.__nativeObj,o.vertexAttrib4fv,4)},n.prototype.vertexAttribDivisor=function(e,n){t.isNumber(e)&&t.isNumber(n)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttribDivisor,2),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.commit()):console.error("gl.vertexAttribDivisor js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.vertexAttribPointer=function(e,n,r,i,a,s){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumberOrBool(i)&&t.isNumber(a)&&t.isNumber(s)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.vertexAttribPointer,6),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i?1:0),this.commandInstance.writeInt32(a),this.commandInstance.writeInt32(s),this.commandInstance.commit()):console.error("gl.vertexAttribPointer js param type error! arguments= ".concat(JSON.stringify(arguments)))},n.prototype.viewport=function(e,n,r,i){t.isNumber(e)&&t.isNumber(n)&&t.isNumber(r)&&t.isNumber(e)?(this.commandInstance.writeRenderCmd(this.__nativeObj,o.viewport,4),this.commandInstance.writeInt32(e),this.commandInstance.writeInt32(n),this.commandInstance.writeInt32(r),this.commandInstance.writeInt32(i),this.commandInstance.commit()):console.error("gl.viewport js param type error! arguments= ".concat(JSON.stringify(arguments)))}}}(r.__ttObjdec__)},function(e,t,n){var r=n(37),o=n(38),i=function(){"use strict";function e(t){r(this,e),this.__extensionArray=t.__supportedExtensions,this.__extensionsValueMap={EXT_texture_filter_anisotropic:{TEXTURE_MAX_ANISOTROPY_EXT:t.TEXTURE_MAX_ANISOTROPY_EXT,MAX_TEXTURE_MAX_ANISOTROPY_EXT:t.MAX_TEXTURE_MAX_ANISOTROPY_EXT},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:t.HALF_FLOAT},OES_texture_half_float_linear:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:t.FRAGMENT_SHADER_DERIVATIVE_HINT},OES_vertex_array_object:{},OES_element_index_uint:{},WEBGL_compressed_texture_pvrtc:{COMPRESSED_RGB_PVRTC_4BPPV1_IMG:t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG},WEBGL_compressed_texture_atc:{COMPRESSED_RGB_ATC_WEBGL:t.COMPRESSED_RGB_ATC_WEBGL,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},WEBGL_compressed_texture_etc1:{COMPRESSED_RGB_ETC1_WEBGL:t.COMPRESSED_RGB_ETC1_WEBGL},WEBGL_compressed_texture_s3tc:{COMPRESSED_RGB_S3TC_DXT1_EXT:t.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1_EXT:t.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3_EXT:t.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5_EXT:t.COMPRESSED_RGBA_S3TC_DXT5_EXT}}}return o(e,[{key:"getExtensions",value:function(){var e=this,t={};return this.__extensionArray.forEach((function(n){t[n]=e.__extensionsValueMap[n]})),t}}]),e}();e.exports=i},function(e,t,n){var r,o,i=n(48),a=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;r=a.__ttObjdec__,o=function(){function e(e){this.__nativeObj=new r.Triton.CommandQueue,this.maxSize=e,this.enableCommandQueue=this.__nativeObj.enableCommandQueue,this.onlyNumberArgs=!1}var t,n,o=new Uint32Array(1024),a=0,s=new Float32Array(8192),c=new Uint32Array(1),u=[];e.prototype.setCaller=function(){var e=arguments[0];e!=t&&(this.flushCmd(),t=e)},e.prototype.setCallerClassName=function(){var e=arguments[0];n!=e&&(this.flushCmd(),n=e,this.__nativeObj.setCallerClassName(e))};var f=-1,l=[],p=-1;e.prototype.pushCommand=function(){var e=5,r=arguments[0],i=arguments[1],m=arguments[2],d=arguments[3],h=arguments[4];if(this.enableCommandQueue){if(null==i)return;if(c[0]>=this.maxSize&&this.flushCmd(),a+h>8e3&&this.flushCmd(),d>0){var _=!1;if(r==t&&m==n&&i==p&&h==f&&d<=h){_=!0;for(var v=0;v<d;v++)if(arguments[v+e]!=l[v]){_=!1;break}}if(_&&c[0]>0){for(v=0;v<h-d;v++)s[a++]=arguments[e+v+d];return void(o[c[0]-1]+=1e3*(h-d))}}for(this.setCaller(r),this.setCallerClassName(m),o[c[0]++]=i+1e3*h,l=[],v=0;v<h;v++)this.onlyNumberArgs||"number"==typeof arguments[v+e]?s[a++]=arguments[v+e]:"string"==typeof arguments[v+e]?s[a++]=this.cacheStr(arguments[v+e]):"boolean"==typeof arguments[v+e]?s[a++]=arguments[v+e]?1:0:null!=arguments[v+e]?(u.push(arguments[v+e]),s[a++]=u.length-1):console.error("CommandQueue pushCommand param error!"),l.push(arguments[v+e]);f=h,p=i}};var m=new Map,d=0;return e.prototype.cacheStr=function(e){if(this.enableCommandQueue){var t=m.get(e);return null!=t?t:(m.set(e,d),this.__nativeObj.setStr(e,d),d++)}},e.prototype.flushCmd=function(){if(this.enableCommandQueue){if(c[0]>0)if(u.length>0){var e=[o,s,c,t];e.push.apply(e,i(u)),this.__nativeObj.exeCmdQueue.apply(this.__nativeObj,e)}else this.__nativeObj.exeCmdQueue(o,s,c,t);c[0]=0,a=0,f=-1,l=[],p=-1,caller=null,callerClassName=-1,u=[],m.size>=7168&&(m.clear(),d=0,this.__nativeObj.clearStr())}},e.Instance=new e(1024),e}(),r.CommandQueue=o},function(e,t,n){__TT__GLOBAL__;var r,o,i=__TT__GLOBAL__;__TT__GLOBAL__;r=i.__ttObjdec__,o=function(){function e(){this.__nativeObj=new r.Triton.CommandQueueV2,this.enableCommandQueue=this.__nativeObj.enableCommandQueue}if(e.prototype.pushCommand=function(){if(!(arguments.length<2)){var e=arguments[0],t=arguments[1];if(null!=t)return arguments[0]=e._nativeConsumer,this.__nativeObj.pushCommand.apply(this.__nativeObj,arguments)}},e.prototype.flushCmd=function(e){if(this.enableCommandQueue)return this.__nativeObj.flushCommand(e)},e.Instance=new e,null==i.initCommandQueue){var t=n(39),o=0,a=t.CommandConstant.canvas2d;for(var s in a)a[s].cmd_id=o,e.Instance.__nativeObj.prepareCommand("canvas2d",a[s].name,a[s].cmd_id),o++;o=0;var c=t.CommandConstant.webgl;for(var s in c)c[s].cmd_id=o,e.Instance.__nativeObj.prepareCommand("webgl",c[s].name,c[s].cmd_id),o++;i.initCommandQueue=!0}return e}(),r.CommandQueueV2=o},function(e,t,n){var r=n(1),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;!function(e){function t(o,i){this.__nativeObj=i,this.__canvas=o,this._fontName="",Object.getOwnPropertyNames(this.__nativeObj).forEach((function(e){var t=e;"font"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})}),this);var a=n(23);function s(){var t=arguments.length,n="";if(t>=1&&arguments[0]instanceof e.WebImage)n=arguments[0].__nativeObj;else if(t>=1&&arguments[0]instanceof e.Canvas){var o=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:o=arguments[0].currentContext.webgl;n=o.__nativeObj}else console.log("canvas 2d drawImage arguments[0] type error!");for(var i=1;i<t;i++)if("number"!=typeof arguments[i])return void console.log("canvas 2d drawImage arguments type error! ".concat(i," ").concat(r(arguments[i])));if(9==t)this.__nativeObj.drawImage(n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==t)this.__nativeObj.drawImage(n,arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=t)return;this.__nativeObj.drawImage(n,arguments[1],arguments[2])}}function c(){this.__nativeObj.fill()}function u(){this.__nativeObj.stroke()}function f(){this.__nativeObj.rect(arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.__nativeObj.fillRect(arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.__nativeObj.strokeRect(arguments[0],arguments[1],arguments[2],arguments[3])}function m(){this.__nativeObj.clearRect(arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.__nativeObj.beginPath()}function h(){this.__nativeObj.closePath()}function _(){this.__nativeObj.moveTo(arguments[0],arguments[1])}function v(){this.__nativeObj.lineTo(arguments[0],arguments[1])}function y(){this.__nativeObj.arcTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.__nativeObj.quadraticCurveTo(arguments[0],arguments[1],arguments[2],arguments[3])}function I(){this.__nativeObj.bezierCurveTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function E(){this._fontName="",this.__nativeObj.save()}function A(){this._fontName="",this.__nativeObj.restore()}function O(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"===r(t)?Object.prototype.toString.call(t):JSON.stringify(t));var n=arguments[1],o=arguments[2];if(3==e)this.__nativeObj.fillText(t,n,o);else if(4==e){var i=arguments[2];this.__nativeObj.fillText(t,n,o,i)}}}function w(){var e=arguments.length;if(e>=3){var t=arguments[1],n=arguments[2];if(3==e)this.__nativeObj.strokeText(arguments[0],t,n);else if(4==e){var r=arguments[2];this.__nativeObj.strokeText(arguments[0],t,n,r)}}}function S(){var e=arguments.length;0==e?this.__nativeObj.clip():2==e&&this.__nativeObj.clip(arguments[0],arguments[1])}function N(){return!1}function T(){var e=arguments.length;return 2==e?this.__nativeObj.createImageData(arguments[0],arguments[1]):1==e?this.__nativeObj.createImageData(arguments[0]):void 0}function C(){var e=arguments.length;if(4==e){var t=this.__nativeObj.getImageData(arguments[0],arguments[1],arguments[2],arguments[3]);return{data:t.data,width:t.width,height:t.height}}}function R(){var e=arguments.length;if(e>=3){var t=arguments[0],n=t.width,r=t.height;3==e?this.__nativeObj.putImageData(t.data,n,r,arguments[1],arguments[2]):7==e&&this.__nativeObj.putImageData(t.data,n,r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function M(){2==arguments.length&&this.__nativeObj.scale(arguments[0],arguments[1])}function P(){1==arguments.length&&this.__nativeObj.rotate(arguments[0])}function j(){2==arguments.length&&this.__nativeObj.translate(arguments[0],arguments[1])}function x(){this.__nativeObj.transform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function D(){this.__nativeObj.setTransform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function L(){this.__nativeObj.resetTransform()}function B(){var e=this.__nativeObj.measureText(arguments[0]);return null!=e&&(e.type="TextMetrics"),e}function k(){var t=e.Triton.Director.screenScale,n=this.__nativeObj.getImageData(0,0,this.size.width/t,this.size.height/t),r=e.Triton.Misc.encodeBase64FromBuffer(n);return r&&(r="data:image/png;base64,".concat(r)),r}function F(e,t){return this.__nativeObj.createPattern(e,t)}function U(e,t,n,r){return this.__nativeObj.createLinearGradient(e,t,n,r)}function G(e,t,n,r,o,i){return this.__nativeObj.createRadialGradient(e,t,n,r,o,i)}Object.defineProperty(t.prototype,"font",{get:function(){return this.__nativeObj.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.__nativeObj.font=a.createFontObj(e),this._fontName=e):console.error("context.font set: param format error! param is null or not a string! param =".concat(e))},enumerable:!0,configurable:!0}),function(){if(e.CanvasContext2DInit)return;e.CanvasContext2DInit=!0,t.prototype.drawImage=s,t.prototype.fill=c,t.prototype.stroke=u,t.prototype.rect=f,t.prototype.fillRect=l,t.prototype.strokeRect=p,t.prototype.clearRect=m,t.prototype.beginPath=d,t.prototype.closePath=h,t.prototype.moveTo=_,t.prototype.lineTo=v,t.prototype.arcTo=y,t.prototype.arc=g,t.prototype.quadraticCurveTo=b,t.prototype.bezierCurveTo=I,t.prototype.save=E,t.prototype.restore=A,t.prototype.fillText=O,t.prototype.strokeText=w,t.prototype.clip=S,t.prototype.isPointInPath=N,t.prototype.createImageData=T,t.prototype.getImageData=C,t.prototype.putImageData=R,t.prototype.scale=M,t.prototype.rotate=P,t.prototype.translate=j,t.prototype.transform=x,t.prototype.setTransform=D,t.prototype.resetTransform=L,t.prototype.measureText=B,t.prototype.toDataURL=k,t.prototype.createPattern=F,t.prototype.createLinearGradient=U,t.prototype.createRadialGradient=G}()}n(180),n(182),e.CanvasContext2D=function(n,r){if(r)return e.CommandQueueV2.Instance.enableCommandQueue?new e.Canvas2DCmdV2Context(new t(n,r)):e.CommandQueue.Instance.enableCommandQueue?new e.Canvas2DCmdContext(new t(n,r)):new t(n,r)}}(o.__ttObjdec__)},function(e,t,n){var r,o=n(1),i=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;(r=i.__ttObjdec__).Canvas2DCmdContext=function e(t){this.__nativeObj=t.__nativeObj,this.__canvas=t.__canvas,this._fontName="";var i=n(181).Canvas2DCmdConstant,a=n(23);function s(){var e=arguments.length,t="",n=!0;if(e>=1&&arguments[0]instanceof r.WebImage)n=!0,t=arguments[0].__nativeObj;else if(e>=1&&arguments[0]instanceof r.Canvas){var a=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:a=arguments[0].currentContext.webgl;t=a.__nativeObj}else console.log("canvas 2d drawImage arguments[0] type error!");for(var s=1;s<e;s++)if("number"!=typeof arguments[s])return void console.log("canvas 2d drawImage arguments type error! ".concat(s," ").concat(o(arguments[s])));if(9==e)n?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE_ARRAY,0,5,9,this.commandInstance.cacheStr(t),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==e)n?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(t,arguments[1],arguments[2],arguments[3],arguments[4])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE,0,0,5,this.commandInstance.cacheStr(t),arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=e)return;n?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(t,arguments[1],arguments[2])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE,0,0,3,this.commandInstance.cacheStr(t),arguments[1],arguments[2])}}function c(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL,0,0,0)}function u(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE,0,0,0)}function f(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function m(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLEAR_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_BEGIN_PATH,0,0,0)}function h(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLOSE_PATH,0,0,0)}function _(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_MOVE_TO,0,0,2,arguments[0],arguments[1])}function v(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_LINE_TO,0,0,2,arguments[0],arguments[1])}function y(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC_TO,0,0,5,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC,0,0,5,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_QUADRATIC_CURVE_TO,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function I(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_BEZIER_CURVE_TO,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function E(){this._fontName="",this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SAVE,0,0,0)}function A(){this._fontName="",this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_RESTORE,0,0,0)}function O(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"===o(t)?Object.prototype.toString.call(t):JSON.stringify(t));var n=arguments[1],r=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_TEXT,0,0,3,this.commandInstance.cacheStr(t),n,r);else if(4==e){var a=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_TEXT,0,0,4,this.commandInstance.cacheStr(t),n,r,a)}}}function w(){var e=arguments.length;if(e>=3){var t=arguments[1],n=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_TEXT,0,0,3,this.commandInstance.cacheStr(arguments[0]),t,n);else if(4==e){var r=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_TEXT,0,0,4,this.commandInstance.cacheStr(arguments[0]),t,n,r)}}}function S(){var e=arguments.length;0==e?this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLIP,0,0,0):2==e&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLIP,0,0,2,arguments[0],arguments[1])}function N(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SCALE,0,0,2,arguments[0],arguments[1])}function T(){1==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ROTATE,0,0,1,arguments[0])}function C(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_TRANSLATE,0,0,2,arguments[0],arguments[1])}function R(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_TRANSFORM,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function M(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SET_TRANSFORM,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function P(e){return function(){return this.commandInstance.flushCmd(),e.apply(this,arguments)}}this.commandInstance=r.CommandQueue.Instance,Object.getOwnPropertyNames(this.__nativeObj).forEach((function(e){var t=e;"font"!=t&&Object.defineProperty(this,t,{get:function(){return this.commandInstance.flushCmd(),this.__nativeObj[t]},set:function(e){this.commandInstance.flushCmd(),this.__nativeObj[t]=e}})}),this),Object.defineProperty(e.prototype,"font",{get:function(){return this.commandInstance.flushCmd(),this.__nativeObj.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.commandInstance.flushCmd(),this.__nativeObj.font=a.createFontObj(e),this._fontName=e):console.error("context.font set: param format error! param is null or not a string! param =".concat(e))},enumerable:!0,configurable:!0}),function(t){r.Canvas2DCmdContextInit||(r.Canvas2DCmdContextInit=!0,e.prototype.drawImage=s,e.prototype.fill=c,e.prototype.stroke=u,e.prototype.rect=f,e.prototype.fillRect=l,e.prototype.strokeRect=p,e.prototype.clearRect=m,e.prototype.beginPath=d,e.prototype.closePath=h,e.prototype.moveTo=_,e.prototype.lineTo=v,e.prototype.arcTo=y,e.prototype.arc=g,e.prototype.quadraticCurveTo=b,e.prototype.bezierCurveTo=I,e.prototype.save=E,e.prototype.restore=A,e.prototype.fillText=O,e.prototype.strokeText=w,e.prototype.clip=S,e.prototype.createImageData=P(t.createImageData),e.prototype.getImageData=P(t.getImageData),e.prototype.putImageData=P(t.putImageData),e.prototype.scale=N,e.prototype.rotate=T,e.prototype.translate=C,e.prototype.transform=R,e.prototype.setTransform=M,e.prototype.resetTransform=P(t.resetTransform),e.prototype.measureText=P(t.measureText),e.prototype.toDataURL=P(t.toDataURL),e.prototype.createPattern=P(t.createPattern),e.prototype.createLinearGradient=P(t.createLinearGradient),e.prototype.createRadialGradient=P(t.createRadialGradient))}(t)}},function(e,t){t.Canvas2DCmdConstant={CMD_2D_DRAW_IMAGE:0,CMD_2D_FILL:1,CMD_2D_STROKE:2,CMD_2D_RECT:3,CMD_2D_FILL_RECT:4,CMD_2D_STROKE_RECT:5,CMD_2D_CLEAR_RECT:6,CMD_2D_BEGIN_PATH:7,CMD_2D_CLOSE_PATH:8,CMD_2D_MOVE_TO:9,CMD_2D_LINE_TO:10,CMD_2D_ARC_TO:11,CMD_2D_ARC:12,CMD_2D_QUADRATIC_CURVE_TO:13,CMD_2D_BEZIER_CURVE_TO:14,CMD_2D_SAVE:15,CMD_2D_RESTORE:16,CMD_2D_FILL_TEXT:17,CMD_2D_STROKE_TEXT:18,CMD_2D_CLIP:19,CMD_2D_CREATE_IMAGE_DATA:20,CMD_2D_GET_IMAGE_DATA:21,CMD_2D_PUT_IMAGE_DATA:22,CMD_2D_SCALE:23,CMD_2D_ROTATE:24,CMD_2D_TRANSLATE:25,CMD_2D_TRANSFORM:26,CMD_2D_SET_TRANSFORM:27,CMD_2D_DRAW_IMAGE_ARRAY:28,CMD_2D_RESET_TRANSFORM:29,CMD_2D_MEASURE_TEXT:30,CMD_2D_CREATE_PATTERN:31,CMD_2D_CREATE_LINEAR_GRADIENT:32,CMD_2D_CREATE_RADIAL_GRADIENT:33,CMD_2D_PRO_GLOBAL_ALPHA:100,CMD_2D_PRO_GLOBAL_COMPOSITE_OPERATION:101,CMD_2D_PRO_FILL_COLOR:102,CMD_2D_PRO_FILL_STYLE:103,CMD_2D_PRO_STROKE_COLOR:104,CMD_2D_PRO_STROKE_STYLE:105,CMD_2D_PRO_LINE_WIDTH:106,CMD_2D_PRO_LINE_CAP:107,CMD_2D_PRO_LINE_JOIN:108,CMD_2D_PRO_MITER_LIMIT:109,CMD_2D_PRO_FONT:110,CMD_2D_PRO_TEXT_ALIGN:111,CMD_2D_PRO_TEXT_BASELINE:112,CMD_2D_PRO_IMAGE_SMOOTHING_ENABLED:113,PRO_SET:1,PRO_GET:2}},function(e,t,n){var r,o=n(1),i=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;(r=i.__ttObjdec__).Canvas2DCmdV2Context=function e(t){this.__nativeObj=t.__nativeObj,this.__canvas=t.__canvas,this._fontName="",this._curState=new function(){this.globalAlpha=void 0,this.globalCompositeOperation=void 0,this.fillColor=void 0,this.fillStyle=void 0,this.strokeColor=void 0,this.strokeStyle=void 0,this.lineWidth=void 0,this.lineCap=void 0,this.lineJoin=void 0,this.miterLimit=void 0,this.font=void 0,this.textAlign=void 0,this.textBaseline=void 0,this.imageSmoothingEnabled=void 0,this.transform=void 0},this._savedState=new Array;var i=n(23);this.commandInstance=r.CommandQueueV2.Instance;var a=n(39).CommandConstant.canvas2d;function s(){var e=arguments.length,t="";if(e>=1&&arguments[0]instanceof r.WebImage)t=arguments[0].__nativeObj;else if(e>=1&&arguments[0]instanceof r.Canvas){var n=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:n=arguments[0].currentContext.webgl;t=n.__nativeObj}else console.error("canvas 2d drawImage arguments[0] type error!");for(var i=1;i<e;i++)if("number"!=typeof arguments[i])return void console.error("canvas 2d drawImage arguments type error! ".concat(i," ").concat(o(arguments[i])));if(9==e)this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,t,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==e)this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,t,arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=e)return;this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,t,arguments[1],arguments[2])}}function c(){this.commandInstance.pushCommand(this.__nativeObj,a.fill.cmd_id)}function u(){this.commandInstance.pushCommand(this.__nativeObj,a.stroke.cmd_id)}function f(){this.commandInstance.pushCommand(this.__nativeObj,a.rect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.commandInstance.pushCommand(this.__nativeObj,a.fillRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.commandInstance.pushCommand(this.__nativeObj,a.strokeRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function m(){this.commandInstance.pushCommand(this.__nativeObj,a.clearRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.commandInstance.pushCommand(this.__nativeObj,a.beginPath.cmd_id)}function h(){this.commandInstance.pushCommand(this.__nativeObj,a.closePath.cmd_id)}function _(){this.commandInstance.pushCommand(this.__nativeObj,a.moveTo.cmd_id,arguments[0],arguments[1])}function v(){this.commandInstance.pushCommand(this.__nativeObj,a.lineTo.cmd_id,arguments[0],arguments[1])}function y(){this.commandInstance.pushCommand(this.__nativeObj,a.arcTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.commandInstance.pushCommand(this.__nativeObj,a.arc.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.commandInstance.pushCommand(this.__nativeObj,a.arc.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.commandInstance.pushCommand(this.__nativeObj,a.quadraticCurveTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function I(){this.commandInstance.pushCommand(this.__nativeObj,a.bezierCurveTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function E(){this._fontName="",this._savedState.push(this._curState),this.commandInstance.pushCommand(this.__nativeObj,a.save.cmd_id)}function A(){this._fontName="",this._curState=this._savedState.pop(),this.commandInstance.pushCommand(this.__nativeObj,a.restore.cmd_id)}function O(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"===o(t)?Object.prototype.toString.call(t):JSON.stringify(t));var n=arguments[1],r=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,a.fillText.cmd_id,t,n,r);else if(4==e){var i=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,a.fillText.cmd_id,t,n,r,i)}}}function w(){var e=arguments.length;if(e>=3){var t=arguments[1],n=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,a.strokeText.cmd_id,arguments[0],t,n);else if(4==e){var r=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,a.strokeText.cmd_id,arguments[0],t,n,r)}}}function S(){var e=arguments.length;0==e?this.commandInstance.pushCommand(this.__nativeObj,a.clip.cmd_id):2==e&&this.commandInstance.pushCommand(this.__nativeObj,a.clip.cmd_id,arguments[0],arguments[1])}function N(){var e=arguments.length;return 2==e?this.commandInstance.pushCommand(this.__nativeObj,a.createImageData.cmd_id,arguments[0],arguments[1]):1==e?this.commandInstance.pushCommand(this.__nativeObj,a.createImageData.cmd_id,arguments[0]):void 0}function T(){var e=arguments.length;if(4==e)return this.commandInstance.pushCommand(this.__nativeObj,a.getImageData.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function C(){var e=arguments.length;if(e>=3){var t=arguments[0],n=t.width,r=t.height;3==e?this.commandInstance.pushCommand(this.__nativeObj,a.putImageData.cmd_id,t.data,n,r,arguments[1],arguments[2]):7==e&&this.commandInstance.pushCommand(this.__nativeObj,a.putImageData.cmd_id,t.data,n,r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function R(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.scale.cmd_id,arguments[0],arguments[1])}function M(){1==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.rotate.cmd_id,arguments[0])}function P(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.translate.cmd_id,arguments[0],arguments[1])}function j(){this.commandInstance.pushCommand(this.__nativeObj,a.transform.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function x(){this.commandInstance.pushCommand(this.__nativeObj,a.setTransform.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function D(){this.commandInstance.pushCommand(this.__nativeObj,a.resetTransform.cmd_id)}function L(){var e=this.commandInstance.pushCommand(this.__nativeObj,a.measureText.cmd_id,arguments[0]);return null!=e&&(e.type="TextMetrics"),e}function B(){var e=r.Triton.Director.screenScale,t=this.getImageData(0,0,this.size.width/e,this.size.height/e),n=r.Triton.Misc.encodeBase64FromBuffer(t);return n&&(n="data:image/png;base64,".concat(n)),n}function k(e,t){return this.commandInstance.pushCommand(this.__nativeObj,a.createPattern.cmd_id,e,t)}function F(e,t,n,r){return this.commandInstance.pushCommand(this.__nativeObj,a.createLinearGradient.cmd_id,e,t,n,r)}function U(e,t,n,r,o,i){return this.commandInstance.pushCommand(this.__nativeObj,a.createRadialGradient.cmd_id,e,t,n,r,o,i)}Object.defineProperty(e.prototype,"globalAlpha",{get:function(){return null==this._curState.globalAlpha&&(this._curState.globalAlpha=this.commandInstance.pushCommand(this.__nativeObj,a.globalAlpha.cmd_id,2)),this._curState.globalAlpha},set:function(e){this._curState.globalAlpha=e,this.commandInstance.pushCommand(this.__nativeObj,a.globalAlpha.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"globalCompositeOperation",{get:function(){return null==this._curState.globalCompositeOperation&&(this._curState.globalCompositeOperation=this.commandInstance.pushCommand(this.__nativeObj,a.globalCompositeOperation.cmd_id,2)),this._curState.globalCompositeOperation},set:function(e){this._curState.globalCompositeOperation=e,this.commandInstance.pushCommand(this.__nativeObj,a.globalCompositeOperation.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillColor",{get:function(){return null==this._curState.fillColor&&(this._curState.fillColor=this.commandInstance.pushCommand(this.__nativeObj,a.fillColor.cmd_id,2)),this._curState.fillColor},set:function(e){this._curState.fillColor=e,this.commandInstance.pushCommand(this.__nativeObj,a.fillColor.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillStyle",{get:function(){return null==this._curState.fillStyle&&(this._curState.fillStyle=this.commandInstance.pushCommand(this.__nativeObj,a.fillStyle.cmd_id,2)),this._curState.fillStyle},set:function(e){this._curState.fillStyle=e,this.commandInstance.pushCommand(this.__nativeObj,a.fillStyle.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return null==this._curState.strokeColor&&(this._curState.strokeColor=this.commandInstance.pushCommand(this.__nativeObj,a.strokeColor.cmd_id,2)),this._curState.strokeColor},set:function(e){this._curState.strokeColor=e,this.commandInstance.pushCommand(this.__nativeObj,a.strokeColor.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeStyle",{get:function(){return null==this._curState.strokeStyle&&(this._curState.strokeStyle=this.commandInstance.pushCommand(this.__nativeObj,a.strokeStyle.cmd_id,2)),this._curState.strokeStyle},set:function(e){this._curState.strokeStyle=e,this.commandInstance.pushCommand(this.__nativeObj,a.strokeStyle.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return null==this._curState.lineWidth&&(this._curState.lineWidth=this.commandInstance.pushCommand(this.__nativeObj,a.lineWidth.cmd_id,2)),this._curState.lineWidth},set:function(e){this._curState.lineWidth=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineWidth.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineCap",{get:function(){return null==this._curState.lineCap&&(this._curState.lineCap=this.commandInstance.pushCommand(this.__nativeObj,a.lineCap.cmd_id,2)),this._curState.lineCap},set:function(e){this._curState.lineCap=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineCap.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return null==this._curState.lineJoin&&(this._curState.lineJoin=this.commandInstance.pushCommand(this.__nativeObj,a.lineJoin.cmd_id,2)),this._curState.lineJoin},set:function(e){this._curState.lineJoin=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineJoin.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return null==this._curState.miterLimit&&(this._curState.miterLimit=this.commandInstance.pushCommand(this.__nativeObj,a.miterLimit.cmd_id,2)),this._curState.miterLimit},set:function(e){this._curState.miterLimit=e,this.commandInstance.pushCommand(this.__nativeObj,a.miterLimit.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"font",{get:function(){return null==this._curState.font&&(this._curState.font=this.commandInstance.pushCommand(this.__nativeObj,a.font.cmd_id,2)),this._curState.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.commandInstance.pushCommand(this.__nativeObj,a.font.cmd_id,1,i.createFontObj(e)),this._curState.font=e):console.error("context.font set: param format error! param is null or not a string! param =".concat(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textAlign",{get:function(){return null==this._curState.textAlign&&(this._curState.textAlign=this.commandInstance.pushCommand(this.__nativeObj,a.textAlign.cmd_id,2)),this._curState.textAlign},set:function(e){this._curState.textAlign=e,this.commandInstance.pushCommand(this.__nativeObj,a.textAlign.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return null==this._curState.textBaseline&&(this._curState.textBaseline=this.commandInstance.pushCommand(this.__nativeObj,a.textBaseline.cmd_id,2)),this._curState.textBaseline},set:function(e){this._curState.textBaseline=e,this.commandInstance.pushCommand(this.__nativeObj,a.textBaseline.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageSmoothingEnabled",{get:function(){return null==this._curState.imageSmoothingEnabled&&(this._curState.imageSmoothingEnabled=this.commandInstance.pushCommand(this.__nativeObj,a.imageSmoothingEnabled.cmd_id,2)),this._curState.imageSmoothingEnabled},set:function(e){this._curState.imageSmoothingEnabled=e,this.commandInstance.pushCommand(this.__nativeObj,a.imageSmoothingEnabled.cmd_id,1,e)},enumerable:!0,configurable:!0}),function(t){r.Canvas2DCmdV2ContextInit||(r.Canvas2DCmdV2ContextInit=!0,e.prototype.drawImage=s,e.prototype.fill=c,e.prototype.stroke=u,e.prototype.rect=f,e.prototype.fillRect=l,e.prototype.strokeRect=p,e.prototype.clearRect=m,e.prototype.beginPath=d,e.prototype.closePath=h,e.prototype.moveTo=_,e.prototype.lineTo=v,e.prototype.arcTo=y,e.prototype.arc=g,e.prototype.quadraticCurveTo=b,e.prototype.bezierCurveTo=I,e.prototype.save=E,e.prototype.restore=A,e.prototype.fillText=O,e.prototype.strokeText=w,e.prototype.clip=S,e.prototype.createImageData=N,e.prototype.getImageData=T,e.prototype.putImageData=C,e.prototype.scale=R,e.prototype.rotate=M,e.prototype.translate=P,e.prototype.transform=j,e.prototype.setTransform=x,e.prototype.resetTransform=D,e.prototype.measureText=L,e.prototype.toDataURL=B,e.prototype.createPattern=k,e.prototype.createLinearGradient=F,e.prototype.createRadialGradient=U)}()}},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){function t(e,n){this.__extensionArray=n.getSupportedExtensions(),this.__extensionsValueMap={EXT_texture_filter_anisotropic:{TEXTURE_MAX_ANISOTROPY_EXT:e.TEXTURE_MAX_ANISOTROPY_EXT,MAX_TEXTURE_MAX_ANISOTROPY_EXT:e.MAX_TEXTURE_MAX_ANISOTROPY_EXT},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:e.HALF_FLOAT},OES_texture_half_float_linear:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:e.FRAGMENT_SHADER_DERIVATIVE_HINT},OES_vertex_array_object:{},OES_element_index_uint:{},WEBGL_compressed_texture_pvrtc:{COMPRESSED_RGB_PVRTC_4BPPV1_IMG:e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG},WEBGL_compressed_texture_atc:{COMPRESSED_RGB_ATC_WEBGL:e.COMPRESSED_RGB_ATC_WEBGL,COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL:e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL,COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL:e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL},WEBGL_compressed_texture_etc1:{COMPRESSED_RGB_ETC1_WEBGL:e.COMPRESSED_RGB_ETC1_WEBGL},WEBGL_compressed_texture_s3tc:{COMPRESSED_RGB_S3TC_DXT1_EXT:e.COMPRESSED_RGB_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT1_EXT:e.COMPRESSED_RGBA_S3TC_DXT1_EXT,COMPRESSED_RGBA_S3TC_DXT3_EXT:e.COMPRESSED_RGBA_S3TC_DXT3_EXT,COMPRESSED_RGBA_S3TC_DXT5_EXT:e.COMPRESSED_RGBA_S3TC_DXT5_EXT}},t.prototype.getExtensions=function(){var e=this,t={};return this.__extensionArray.forEach((function(n){t[n]=e.__extensionsValueMap[n]})),t}}e.WebGLExtension=function(e,n){return new t(e,n)}}(n.__ttObjdec__)},function(e,t,n){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){function t(r){var o=n(18),i=n(21),a=n(22);function s(){t.prototype.activeTexture=c,t.prototype.attachShader=u,t.prototype.bindAttribLocation=f,t.prototype.bindBuffer=p,t.prototype.bindFramebuffer=m,t.prototype.bindRenderbuffer=d,t.prototype.bindTexture=h,t.prototype.blendColor=_,t.prototype.blendEquation=v,t.prototype.blendEquationSeparate=y,t.prototype.blendFunc=g,t.prototype.blendFuncSeparate=b,t.prototype.bufferData=I,t.prototype.bufferSubData=E,t.prototype.checkFramebufferStatus=A,t.prototype.clear=O,t.prototype.clearColor=w,t.prototype.clearDepth=S,t.prototype.clearStencil=N,t.prototype.colorMask=T,t.prototype.compileShader=C,t.prototype.compressedTexImage2D=R,t.prototype.compressedTexSubImage2D=M,t.prototype.copyTexImage2D=P,t.prototype.copyTexSubImage2D=j,t.prototype.createBuffer=D,t.prototype.createFramebuffer=L,t.prototype.createProgram=B,t.prototype.createRenderbuffer=k,t.prototype.createShader=F,t.prototype.createTexture=U,t.prototype.cullFace=G,t.prototype.deleteBuffer=H,t.prototype.deleteFramebuffer=q,t.prototype.deleteProgram=W,t.prototype.deleteRenderbuffer=X,t.prototype.deleteShader=J,t.prototype.deleteTexture=Y,t.prototype.depthFunc=K,t.prototype.depthMask=z,t.prototype.depthRange=$,t.prototype.detachShader=Q,t.prototype.disable=Z,t.prototype.disableVertexAttribArray=ee,t.prototype.drawArrays=te,t.prototype.drawArraysInstanced=ne,t.prototype.drawElements=re,t.prototype.drawElementsInstanced=oe,t.prototype.enable=ie,t.prototype.enableVertexAttribArray=ae,t.prototype.finish=se,t.prototype.flush=ce,t.prototype.framebufferRenderbuffer=ue,t.prototype.framebufferTexture2D=fe,t.prototype.frontFace=le,t.prototype.generateMipmap=pe,t.prototype.getActiveAttrib=Nt,t.prototype.getActiveUniform=Tt,t.prototype.getAttachedShaders=Ct,t.prototype.getAttribLocation=me,t.prototype.getBufferParameter=Rt,t.prototype.getError=de,t.prototype.getExtension=kt,t.prototype.getContextAttributes=Ft,t.prototype.getSupportedExtensions=Ut,t.prototype.getFramebufferAttachmentParameter=Mt,t.prototype.getParameter=Vt,t.prototype.getProgramInfoLog=_e,t.prototype.getProgramParameter=Pt,t.prototype.getRenderbufferParameter=jt,t.prototype.getShaderInfoLog=ve,t.prototype.getShaderParameter=xt,t.prototype.getShaderPrecisionFormat=he,t.prototype.getShaderSource=ye,t.prototype.getTexParameter=Dt,t.prototype.getUniform=Bt,t.prototype.getUniformLocation=ge,t.prototype.getVertexAttrib=Lt,t.prototype.getVertexAttribOffset=be,t.prototype.readPixels=xe,t.prototype.hint=Ie,t.prototype.isBuffer=Ae,t.prototype.isEnabled=Oe,t.prototype.isFramebuffer=we,t.prototype.isProgram=Se,t.prototype.isRenderbuffer=Ne,t.prototype.isShader=Te,t.prototype.isTexture=Ce,t.prototype.lineWidth=Re,t.prototype.linkProgram=Me,t.prototype.pixelStorei=Pe,t.prototype.polygonOffset=je,t.prototype.renderbufferStorage=De,t.prototype.sampleCoverage=Le,t.prototype.scissor=Be,t.prototype.shaderSource=ke,t.prototype.stencilFunc=Fe,t.prototype.stencilFuncSeparate=Ue,t.prototype.stencilMask=Ge,t.prototype.stencilMaskSeparate=Ve,t.prototype.stencilOp=He,t.prototype.stencilOpSeparate=qe,t.prototype.texImage2D=We,t.prototype.texParameterf=Xe,t.prototype.texParameteri=Je,t.prototype.texSubImage2D=Ye,t.prototype.uniform1f=Ke,t.prototype.uniform1fv=rt,t.prototype.uniform1i=Ze,t.prototype.uniform1iv=st,t.prototype.uniform2f=ze,t.prototype.uniform2fv=ot,t.prototype.uniform2i=et,t.prototype.uniform2iv=ct,t.prototype.uniform3f=$e,t.prototype.uniform3fv=it,t.prototype.uniform3i=tt,t.prototype.uniform3iv=ut,t.prototype.uniform4f=Qe,t.prototype.uniform4fv=at,t.prototype.uniform4i=nt,t.prototype.uniform4iv=ft,t.prototype.uniformMatrix2fv=lt,t.prototype.uniformMatrix3fv=pt,t.prototype.uniformMatrix4fv=mt,t.prototype.useProgram=dt,t.prototype.validateProgram=ht,t.prototype.vertexAttrib1f=_t,t.prototype.vertexAttrib1fv=bt,t.prototype.vertexAttrib2f=vt,t.prototype.vertexAttrib2fv=It,t.prototype.vertexAttrib3f=yt,t.prototype.vertexAttrib3fv=Et,t.prototype.vertexAttrib4f=gt,t.prototype.vertexAttrib4fv=At,t.prototype.vertexAttribDivisor=Ot,t.prototype.vertexAttribPointer=wt,t.prototype.viewport=St,t.prototype.isContextLost=Gt}function c(e){null!=e&&this.__nativeObj.activeTexture(e)}function u(e,t){null!=t&&null!=e&&this.__nativeObj.attachShader(o.unwrap(e),o.unwrap(t))}function f(e,t,n){null!=e&&this.__nativeObj.bindAttribLocation(o.unwrap(e),t,n)}function l(e){this.__nativeObj.bindVertexArray(o.unwrap(e))}function p(e,t){null==t&&(t=0),this.__nativeObj.bindBuffer(e,o.unwrap(t))}function m(e,t){var n=o.unwrap(t);this.__nativeObj.bindFramebuffer(e,n)}function d(e,t){var n=o.unwrap(t);this.__nativeObj.bindRenderbuffer(e,n)}function h(e,t){null!=t&&this.__nativeObj.bindTexture(e,o.unwrap(t))}function _(e,t,n,r){this.__nativeObj.blendColor(e,t,n,r)}function v(e){this.__nativeObj.blendEquation(e)}function y(e,t){this.__nativeObj.blendEquationSeparate(e,t)}function g(e,t){this.__nativeObj.blendFunc(e,t)}function b(e,t,n,r){this.__nativeObj.blendFuncSeparate(e,t,n,r)}function I(e,t,n){t=o.getBufferData(t),this.__nativeObj.bufferData(e,t,n)}function E(e,t,n){this.__nativeObj.bufferSubData(e,t,n)}function A(e){return this.__nativeObj.checkFramebufferStatus(e)}function O(e){this.__nativeObj.clear(e)}function w(e,t,n,r){this.__nativeObj.clearColor(e,t,n,r)}function S(e){this.__nativeObj.clearDepth(e)}function N(e){this.__nativeObj.clearStencil(e)}function T(e,t,n,r){this.__nativeObj.colorMask(e,t,n,r)}function C(e){null!=e&&this.__nativeObj.compileShader(o.unwrap(e))}function R(e,t,n,r,o,i,a){this.__nativeObj.compressedTexImage2D(e,t,n,r,o,i,a)}function M(e,t,n,r,o,i,a,s){this.__nativeObj.compressedTexSubImage2D(e,t,n,r,o,i,a,s)}function P(e,t,n,r,o,i,a,s){this.__nativeObj.copyTexImage2D(e,t,n,r,o,i,a,s)}function j(e,t,n,r,o,i,a,s){this.__nativeObj.copyTexSubImage2D(e,t,n,r,o,i,a,s)}function x(){return o.wrap(this.__nativeObj.createVertexArray())}function D(){return o.wrap(this.__nativeObj.createBuffer())}function L(){return o.wrap(this.__nativeObj.createFramebuffer())}function B(){return o.wrap(this.__nativeObj.createProgram())}function k(){return o.wrap(this.__nativeObj.createRenderbuffer())}function F(e){return e==this.VERTEX_SHADER||e==this.FRAGMENT_SHADER?o.wrap(this.__nativeObj.createShader(e)):(console.log("gl.createShader(type) param error! type: Either gl.VERTEX_SHADER or gl.FRAGMENT_SHADER!"),null)}function U(){return o.wrap(this.__nativeObj.createTexture())}function G(e){this.__nativeObj.cullFace(e)}function V(e){this.__nativeObj.deleteVertexArray(o.unwrap(e))}function H(e){null!=e&&this.__nativeObj.deleteBuffer(o.unwrap(e))}function q(e){null!=e&&this.__nativeObj.deleteFramebuffer(o.unwrap(e))}function W(e){null!=e&&this.__nativeObj.deleteProgram(o.unwrap(e))}function X(e){null!=e&&this.__nativeObj.deleteRenderbuffer(o.unwrap(e))}function J(e){null!=e&&this.__nativeObj.deleteShader(o.unwrap(e))}function Y(e){null!=e&&this.__nativeObj.deleteTexture(o.unwrap(e))}function K(e){this.__nativeObj.depthFunc(e)}function z(e){this.__nativeObj.depthMask(e)}function $(e,t){this.__nativeObj.depthRange(e,t)}function Q(e,t){null!=e&&null!=t&&this.__nativeObj.detachShader(o.unwrap(e),o.unwrap(t))}function Z(e){this.__nativeObj.disable(e)}function ee(e){this.__nativeObj.disableVertexAttribArray(e)}function te(e,t,n){this.__nativeObj.drawArrays(e,t,n)}function ne(e,t,n,r){this.__nativeObj.drawArraysInstanced(e,t,n,r)}function re(e,t,n,r){this.__nativeObj.drawElements(e,t,n,r)}function oe(e,t,n,r,o){this.__nativeObj.drawElementsInstanced(e,t,n,r,o)}function ie(e){this.__nativeObj.enable(e)}function ae(e){this.__nativeObj.enableVertexAttribArray(e)}function se(){this.__nativeObj.finish()}function ce(){this.__nativeObj.flush()}function ue(e,t,n,r){null!=r&&this.__nativeObj.framebufferRenderbuffer(e,t,n,o.unwrap(r))}function fe(e,t,n,r,i){null!=r&&this.__nativeObj.framebufferTexture2D(e,t,n,o.unwrap(r),i)}function le(e){this.__nativeObj.frontFace(e)}function pe(e){this.__nativeObj.generateMipmap(e)}function me(e,t){return this.__nativeObj.getAttribLocation(o.unwrap(e),t)}function de(){return this.__nativeObj.getError()}function he(e,t){return this.__nativeObj.getShaderPrecisionFormat(e,t)}function _e(e){return null==e?null:this.__nativeObj.getProgramInfoLog(o.unwrap(e))}function ve(e){return null==e?null:this.__nativeObj.getShaderInfoLog(o.unwrap(e))}function ye(e){return null==e?null:this.__nativeObj.getShaderSource(o.unwrap(e))}function ge(e,t){return null==e?-1:o.wrap(this.__nativeObj.getUniformLocation(o.unwrap(e),t))}function be(e,t){return this.__nativeObj.getVertexAttribOffset(e,t)}function Ie(e,t){this.__nativeObj.hint(e,t)}function Ee(e){return this.__nativeObj.isVertexArray(o.unwrap(e))}function Ae(e){return null!=e&&this.__nativeObj.isBuffer(o.unwrap(e))}function Oe(e){return this.__nativeObj.isEnabled(e)}function we(e){return null!=e&&this.__nativeObj.isFramebuffer(o.unwrap(e))}function Se(e){return null!=e&&this.__nativeObj.isProgram(o.unwrap(e))}function Ne(e){return null!=e&&this.__nativeObj.isRenderbuffer(o.unwrap(e))}function Te(e){return null!=e&&this.__nativeObj.isShader(o.unwrap(e))}function Ce(e){return null!=e&&this.__nativeObj.isTexture(o.unwrap(e))}function Re(e){this.__nativeObj.lineWidth(e)}function Me(e){null!=e&&this.__nativeObj.linkProgram(o.unwrap(e))}function Pe(e,t){this.__nativeObj.pixelStorei(e,t)}function je(e,t){this.__nativeObj.polygonOffset(e,t)}function xe(e,t,n,r,o,i,a){this.__nativeObj.readPixels(e,t,n,r,o,i,a)}function De(e,t,n,r){this.__nativeObj.renderbufferStorage(e,t,n,r)}function Le(e,t){this.__nativeObj.sampleCoverage(e,t)}function Be(e,t,n,r){this.__nativeObj.scissor(e,t,n,r)}function ke(e,t){null!=e&&this.__nativeObj.shaderSource(o.unwrap(e),t)}function Fe(e,t,n){this.__nativeObj.stencilFunc(e,t,n)}function Ue(e,t,n,r){this.__nativeObj.stencilFuncSeparate(e,t,n,r)}function Ge(e){this.__nativeObj.stencilMask(e)}function Ve(e,t){this.__nativeObj.stencilMaskSeparate(e,t)}function He(e,t,n){this.__nativeObj.stencilOp(e,t,n)}function qe(e,t,n,r){this.__nativeObj.stencilOpSeparate(e,t,n,r)}function We(t,n,r){switch(arguments.length){case 6:var o=arguments[3],i=arguments[4],a=arguments[5];if(null==a)return void console.error("texImage2D param error.  arg[5] is undefined!");if(Object.prototype.hasOwnProperty.call(a,"__nativeObj"))if(a instanceof e.Canvas){var s=a.currentContext["2d"]?a.currentContext["2d"]:s=a.currentContext.webgl;if(null==s)return void console.error("texImage2D param error. canvas has no context");this.__nativeObj.texImage2D(t,n,r,o,i,s.__nativeObj)}else this.__nativeObj.texImage2D(t,n,r,o,i,a.__nativeObj);else(a.width>0&&a.height>0||Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0)&&this.__nativeObj.texImage2D(t,n,r,o,i,a);break;case 9:var c=arguments[3],u=arguments[4],f=arguments[5],l=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texImage2D(t,n,r,c,u,f,o,i,l)}}function Xe(e,t,n){this.__nativeObj.texParameterf(e,t,n)}function Je(e,t,n){this.__nativeObj.texParameteri(e,t,n)}function Ye(e,t,n,r){switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6];Object.prototype.hasOwnProperty.call(a,"__nativeObj")?null!=a.type&&"canvas"==a.type?this.__nativeObj.texSubImage2D(e,t,n,r,o,i,a.currentContext["2d"].__nativeObj):this.__nativeObj.texSubImage2D(e,t,n,r,o,i,a.__nativeObj):(a.width>0&&a.height>0||Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0)&&this.__nativeObj.texSubImage2D(e,t,n,r,o,i,a);break;case 9:var s=arguments[4],c=arguments[5],u=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texSubImage2D(e,t,n,r,s,c,o,i,u)}}function Ke(e,t){this.__nativeObj.uniform1f(o.unwrap(e),t)}function ze(e,t,n){this.__nativeObj.uniform2f(o.unwrap(e),t,n)}function $e(e,t,n,r){this.__nativeObj.uniform3f(o.unwrap(e),t,n,r)}function Qe(e,t,n,r,i){this.__nativeObj.uniform4f(o.unwrap(e),t,n,r,i)}function Ze(e,t){var n=o.unwrap(e);o.isNumber(n)&&o.isNumberOrBool(t)&&this.__nativeObj.uniform1i(n,t)}function et(e,t,n){this.__nativeObj.uniform2i(o.unwrap(e),t,n)}function tt(e,t,n,r){this.__nativeObj.uniform3i(o.unwrap(e),t,n,r)}function nt(e,t,n,r,i){this.__nativeObj.uniform4i(o.unwrap(e),t,n,r,i)}function rt(e,t){this.__nativeObj.uniform1fv(o.unwrap(e),o.getFloat32Array(t))}function ot(e,t){this.__nativeObj.uniform2fv(o.unwrap(e),o.getFloat32Array(t))}function it(e,t){this.__nativeObj.uniform3fv(o.unwrap(e),o.getFloat32Array(t))}function at(e,t){this.__nativeObj.uniform4fv(o.unwrap(e),o.getFloat32Array(t))}function st(e,t){this.__nativeObj.uniform1iv(o.unwrap(e),o.getInt32Array(t))}function ct(e,t){this.__nativeObj.uniform2iv(o.unwrap(e),o.getInt32Array(t))}function ut(e,t){this.__nativeObj.uniform3iv(o.unwrap(e),o.getInt32Array(t))}function ft(e,t){this.__nativeObj.uniform4iv(o.unwrap(e),o.getInt32Array(t))}function lt(e,t,n){this.__nativeObj.uniformMatrix2fv(o.unwrap(e),t,o.getFloat32Array(n))}function pt(e,t,n){this.__nativeObj.uniformMatrix3fv(o.unwrap(e),t,o.getFloat32Array(n))}function mt(e,t,n){this.__nativeObj.uniformMatrix4fv(o.unwrap(e),t,o.getFloat32Array(n))}function dt(e){null!=e&&this.__nativeObj.useProgram(o.unwrap(e))}function ht(e){null!=e&&this.__nativeObj.validateProgram(o.unwrap(e))}function _t(e,t){this.__nativeObj.vertexAttrib1f(e,t)}function vt(e,t,n){this.__nativeObj.vertexAttrib2f(e,t,n)}function yt(e,t,n,r){this.__nativeObj.vertexAttrib3f(e,t,n,r)}function gt(e,t,n,r,o){this.__nativeObj.vertexAttrib4f(e,t,n,r,o)}function bt(e,t){this.__nativeObj.vertexAttrib1fv(e,o.getFloat32Array(t))}function It(e,t){this.__nativeObj.vertexAttrib2fv(e,o.getFloat32Array(t))}function Et(e,t){this.__nativeObj.vertexAttrib3fv(e,o.getFloat32Array(t))}function At(e,t){this.__nativeObj.vertexAttrib4fv(e,o.getFloat32Array(t))}function Ot(e,t){this.__nativeObj.vertexAttribDivisor(e,t)}function wt(e,t,n,r,o,i,a){if(void 0===a){var s={index:e,size:t,type:n,normalized:r,stride:o,offset:i};void 0===this.__nativeObj.recordVertexAttribPointer&&(this.__nativeObj.recordVertexAttribPointer=[]);for(var c=!1,u=0;u<this.__nativeObj.recordVertexAttribPointer.length;u++){if(this.__nativeObj.recordVertexAttribPointer[u].index==s.index){c=!0,this.__nativeObj.recordVertexAttribPointer[u]=s;break}}0==c&&this.__nativeObj.recordVertexAttribPointer.push(s)}this.__nativeObj.vertexAttribPointer(e,t,n,r,o,i)}function St(e,t,n,r){this.__nativeObj.viewport(e,t,n,r)}function Nt(e,t){if(null!=e)return this.__nativeObj.getActiveAttrib(o.unwrap(e),t)}function Tt(e,t){if(null!=e)return this.__nativeObj.getActiveUniform(o.unwrap(e),t)}function Ct(e){if(null!=e){var t=this.__nativeObj.getAttachedShaders(o.unwrap(e));if(t instanceof Array){for(var n=new Array,r=t.length,i=0;i<r;i++){var a=o.wrap(t[i]);n.push(a)}return n}return t}}function Rt(e,t){return this.__nativeObj.getBufferParameter(e,t)}function Mt(e,t,n){var r=this.__nativeObj.getFramebufferAttachmentParameter(e,t,n);return n==this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME&&o.isNumber(r)?o.wrap(this.__nativeObj.createBuffer()):this.__nativeObj.getFramebufferAttachmentParameter(e,t,n)}function Pt(e,t){if(null!=e)return this.__nativeObj.getProgramParameter(o.unwrap(e),t)}function jt(e,t){return this.__nativeObj.getRenderbufferParameter(e,t)}function xt(e,t){if(null!=e)return this.__nativeObj.getShaderParameter(o.unwrap(e),t)}function Dt(e,t){return this.__nativeObj.getTexParameter(e,t)}function Lt(e,t){return this.__nativeObj.getVertexAttrib(e,t)}function Bt(e,t){if(null!=e)return this.__nativeObj.getUniform(o.unwrap(e),t)}function kt(e){console.log("get extension ",e);var t=this.__extensions[e];if(t){if("OES_vertex_array_object"==e){var n=this.__nativeObj.getExtension(e);return this.createOESVertexArrayObject(this.__nativeObj,n)}return t}if(this.__nativeObj.isSupportES3()){if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new i.ANGLEInstancedArrays(this)),this.__irExt;if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new i.VertexArrayObject(this)),this.__vaoExt}return null}function Ft(){return this.__nativeObj.getContextAttributes()}function Ut(){return this.__nativeObj.getSupportedExtensions()}function Gt(){return!1}function Vt(e){switch(e){case this.ACTIVE_TEXTURE:case this.ALPHA_BITS:case this.ARRAY_BUFFER_BINDING:case this.BLUE_BITS:case this.CULL_FACE_MODE:case this.CURRENT_PROGRAM:case this.DEPTH_BITS:case this.DEPTH_FUNC:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.FRAMEBUFFER_BINDING:case this.FRONT_FACE:case this.GENERATE_MIPMAP_HINT:case this.GREEN_BITS:case this.IMPLEMENTATION_COLOR_READ_FORMAT:case this.IMPLEMENTATION_COLOR_READ_TYPE:case this.MAX_COMBINED_TEXTURE_IMAGE_UNITS:case this.MAX_CUBE_MAP_TEXTURE_SIZE:case this.MAX_FRAGMENT_UNIFORM_VECTORS:case this.MAX_RENDERBUFFER_SIZE:case this.MAX_TEXTURE_IMAGE_UNITS:case this.MAX_TEXTURE_SIZE:case this.MAX_VARYING_VECTORS:case this.MAX_VERTEX_ATTRIBS:case this.MAX_VERTEX_TEXTURE_IMAGE_UNITS:case this.MAX_VERTEX_UNIFORM_VECTORS:case this.NUM_COMPRESSED_TEXTURE_FORMATS:case this.NUM_SHADER_BINARY_FORMATS:case this.PACK_ALIGNMENT:case this.RED_BITS:case this.RENDERBUFFER_BINDING:case this.SAMPLE_BUFFERS:case this.SAMPLES:case this.STENCIL_BACK_FAIL:case this.STENCIL_BACK_FUNC:case this.STENCIL_BACK_PASS_DEPTH_FAIL:case this.STENCIL_BACK_PASS_DEPTH_PASS:case this.STENCIL_BACK_REF:case this.STENCIL_BACK_VALUE_MASK:case this.STENCIL_BACK_WRITEMASK:case this.STENCIL_BITS:case this.STENCIL_CLEAR_VALUE:case this.STENCIL_FAIL:case this.STENCIL_FUNC:case this.STENCIL_PASS_DEPTH_FAIL:case this.STENCIL_PASS_DEPTH_PASS:case this.STENCIL_REF:case this.STENCIL_VALUE_MASK:case this.STENCIL_WRITEMASK:case this.SUBPIXEL_BITS:case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:case this.UNPACK_ALIGNMENT:case this.BLEND_DST_ALPHA:case this.BLEND_DST_RGB:case this.BLEND_EQUATION_ALPHA:case this.BLEND_EQUATION_RGB:case this.BLEND_SRC_ALPHA:case this.BLEND_SRC_RGB:case this.VERTEX_ARRAY_BINDING:return e==this.CURRENT_PROGRAM||e==this.FRAMEBUFFER_BINDING||e==this.RENDERBUFFER_BINDING||e==this.ARRAY_BUFFER_BINDING||e==this.VERTEX_ARRAY_BINDING||e==this.ELEMENT_ARRAY_BUFFER_BINDING||e==this.TEXTURE_BINDING_CUBE_MAP||e==this.TEXTURE_BINDING_CUBE_MAP?o.wrap(this.__nativeObj.getParameterInt(e,1)):this.__nativeObj.getParameterInt(e,1);case this.ALIASED_LINE_WIDTH_RANGE:case this.ALIASED_POINT_SIZE_RANGE:case this.DEPTH_RANGE:case this.MAX_VIEWPORT_DIMS:return this.__nativeObj.getParameterFloat(e,2);case this.BLEND:case this.CULL_FACE:case this.DEPTH_TEST:case this.DEPTH_WRITEMASK:case this.DITHER:case this.POLYGON_OFFSET_FILL:case this.SAMPLE_ALPHA_TO_COVERAGE:case this.SAMPLE_COVERAGE:case this.SAMPLE_COVERAGE_INVERT:case this.SCISSOR_TEST:case this.STENCIL_TEST:return this.__nativeObj.getParameterBool(e,1);case this.BLEND_COLOR:case this.COLOR_CLEAR_VALUE:return this.__nativeObj.getParameterFloat(e,4);case this.SCISSOR_BOX:case this.VIEWPORT:return this.__nativeObj.getParameterInt(e,4);case this.COLOR_WRITEMASK:return this.__nativeObj.getParameterBool(e,4);case this.POLYGON_OFFSET_FACTOR:case this.POLYGON_OFFSET_UNITS:case this.SAMPLE_COVERAGE_VALUE:case this.MAX_TEXTURE_MAX_ANISOTROPY_EXT:return this.__nativeObj.getParameterFloat(e,1);case this.SHADER_BINARY_FORMATS:var t=this.__nativeObj.getParameterInt(this.NUM_SHADER_BINARY_FORMATS,1);return this.__nativeObj.getParameterInt(e,t);case this.COMPRESSED_TEXTURE_FORMATS:t=this.__nativeObj.getParameterInt(this.NUM_COMPRESSED_TEXTURE_FORMATS,1);return this.__nativeObj.getParameterInt(e,t);case this.VENDOR:case this.RENDERER:case this.VERSION:return this.__nativeObj.getParameterString(e)}}this.__nativeObj=r,a.attachWebGlConstant(t),this.__extensions=e.WebGLExtension(this,r).getExtensions(),s(),this.__nativeObj.isSupportES3()&&(t.prototype.bindVertexArray=l,t.prototype.createVertexArray=x,t.prototype.deleteVertexArray=V,t.prototype.isVertexArray=Ee),this.createOESVertexArrayObject=function(e,t){return new i.OESVertexArrayObject(t)}}n(185),n(186),e.attachWebGLPlus=function(t){if(e.webglPlusFlag&&null!=r.webglPlus){n(51),e.extendWebGLPlusToWebGLContext(t),e.webglPlus=webglPlus,console.log("laya webglPlus enable!");try{webglPlus=void 0}catch(e){}}else console.log("laya webglPlus disable!")},e.CanvasContextWebGL=function(n){var r;return n?(e.CommandQueueV2.Instance.enableCommandQueue?r=e.CanvasWebGLCmdQueueV2Context(new t(n)):e.CommandQueue.Instance.enableCommandQueue?r=e.CanvasWebGLCmdQueueContext(new t(n)):(r=new t(n),e.attachWebGLPlus(t)),r):null},e.enableWebglPlus=function(){scriptEngineContextType==CONTEXT_TYPE_MAIN&&(console.error("laya webglPlus enable!"),e.webglPlusFlag=!0)}}(r.__ttObjdec__)},function(e,t,n){!function(e){function t(r){var o,i=n(18),a=n(21),s=n(25).WebGLCmdConstant;function c(e){return function(){return this.commandInstance.flushCmd(),e.apply(this,arguments)}}function u(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ACTIVE_TEXTURE,1,0,1,e):console.error("gl.activeTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function f(e,t){var n=i.unwrap(e),r=i.unwrap(t);i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ATTACH_SHADER,1,0,2,n,r):console.error("gl.attachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function l(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_VERTEX_ARRAY,1,0,1,t):console.error("gl.bindVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function p(e,t){if(i.isNumber(e)){var n=0;t&&(n=i.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_BUFFER,1,0,2,e,n)}else console.error("gl.bindBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function m(e,t){if(i.isNumber(e)){var n=0;t&&(n=i.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_TEXTURE,1,0,2,e,n)}else console.error("gl.bindTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function d(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_COLOR,1,0,4,e,t,n,r):console.error("gl.blendColor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function h(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_EQUATION,1,0,1,e):console.error("gl.blendEquation js param type error! arguments= ".concat(JSON.stringify(arguments)))}function _(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_EQUATION_SEPARATE,1,0,2,e,t):console.error("gl.blendEquationSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function v(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_FUNC,1,0,2,e,t):console.error("gl.blendFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function y(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_FUNC_SEPARATE,1,0,4,e,t,n,r):console.error("gl.blendFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function g(e,t,n){if(t=i.getBufferData(t),i.isNumber(e)&&i.isNumber(n)&&null!=t){var r=i.isNumber(t);this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BUFFER_DATA,1,0,4,r,e,n,t),this.commandInstance.flushCmd()}else console.error("gl.bufferData js param type error! arguments= ".concat(JSON.stringify(arguments)))}function b(e,t,n){i.isNumber(e)&&i.isNumber(t)&&null!=n?(this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BUFFER_SUB_DATA,1,0,3,e,t,n),this.commandInstance.flushCmd()):console.error("gl.bufferSubData js param type error! arguments= ".concat(JSON.stringify(arguments)))}function I(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR,1,0,1,e):console.error("gl.clear js param type error! arguments= ".concat(JSON.stringify(arguments)))}function E(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_COLOR,1,0,4,e,t,n,r):console.error("gl.clearColor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function A(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_DEPTH,1,0,1,e):console.error("gl.clearDepth js param type error! arguments= ".concat(JSON.stringify(arguments)))}function O(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_STENCIL,1,0,1,e):console.error("gl.clearStencil js param type error! arguments= ".concat(JSON.stringify(arguments)))}function w(e,t,n,r){i.isNumberOrBool(e)&&i.isNumberOrBool(t)&&i.isNumberOrBool(n)&&i.isNumberOrBool(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COLOR_MASK,1,0,4,e,t,n,r):console.error("gl.colorMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function S(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COMPILE_SHADER,1,0,1,t):console.error("gl.compileShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function N(e,t,n,r,o,a,c,u){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)&&i.isNumber(a)&&i.isNumber(c)&&i.isNumber(u)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COPY_TEX_IMAGE_2D,1,0,8,e,t,n,r,o,a,c,u):console.error("gl.copyTexImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function T(e,t,n,r,o,a,c,u){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)&&i.isNumber(a)&&i.isNumber(c)&&i.isNumber(u)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COPY_TEX_SUB_IMAGE_2D,1,0,8,e,t,n,r,o,a,c,u):console.error("gl.copyTexSubImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function C(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CULL_FACE,1,0,1,e):console.error("gl.cullFace js param type error! arguments= ".concat(JSON.stringify(arguments)))}function R(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_VERTEX_ARRAY,1,0,1,t):console.error("gl.eleteVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function M(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_BUFFER,1,0,1,t):console.error("gl.deleteBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function P(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_FRAME_BUFFER,1,0,1,t):console.error("gl.deleteFramebuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function j(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_PROGRAM,1,0,1,t):console.error("gl.deleteProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function x(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_RENDER_BUFFER,1,0,1,t):console.error("gl.deleteRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function D(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_SHADER,1,0,1,t):console.error("gl.deleteShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function L(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_TEXTURE,1,0,1,t):console.error("gl.deleteTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function B(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_FUNC,1,0,1,e):console.error("gl.depthFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function k(e){i.isNumberOrBool(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_MASK,1,0,1,e?1:0):console.error("gl.depthMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function F(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_RANGE,1,0,2,e,t):console.error("gl.depthRange js param type error! arguments= ".concat(JSON.stringify(arguments)))}function U(e,t){var n=i.unwrap(e),r=i.unwrap(t);i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DETACH_SHADER,1,0,2,n,r):console.error("gl.detachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function G(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DISABLE,1,0,1,e):console.error("gl.disable js param type error! arguments= ".concat(JSON.stringify(arguments)))}function V(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY,1,0,1,e):console.error("gl.disableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function H(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ARRAYS,1,0,3,e,t,n):console.error("gl.drawArrays js param type error! arguments= ".concat(JSON.stringify(arguments)))}function q(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ARRAYS_INSTANCE,1,0,4,e,t,n,r):console.error("gl.drawArraysInstanced js param type error! arguments= ".concat(JSON.stringify(arguments)))}function W(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ELEMENTS,1,0,4,e,t,n,r):console.error("gl.drawElements js param type error! arguments= ".concat(JSON.stringify(arguments)))}function X(e,t,n,r,o){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ELEMENTS_INSTANCE,1,0,5,e,t,n,r,o):console.error("gl.drawElementsInstance js param type error! arguments= ".concat(JSON.stringify(arguments)))}function J(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ENABLE,1,0,1,e):console.error("gl.enable js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Y(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY,1,0,1,e):console.error("gl.enableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function K(){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FINISH,1,0,0)}function z(){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FLUSH,1,0,0)}function $(e,t,n,r){var o=i.unwrap(r);i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER,1,0,4,e,t,n,o):console.error("gl.framebufferRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Q(e,t,n,r,o){var a=i.unwrap(r);i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(a)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRAME_BUFFER_TEXTURE_2D,1,0,5,e,t,n,a,o):console.error("gl.framebufferTexture2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Z(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRONT_FACE,1,0,1,e):console.error("gl.frontFace js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ee(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_GENERATE_MIPMAP,1,0,1,e):console.error("gl.generateMipmap js param type error! arguments= ".concat(JSON.stringify(arguments)))}function te(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_HINT,1,0,2,e,t):console.error("gl.hint js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ne(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_LINE_WIDTH,1,0,1,e):console.error("gl.lineWidth js param type error! arguments= ".concat(JSON.stringify(arguments)))}function re(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_LINK_PROGRAM,1,0,1,t):console.error("gl.linkProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function oe(e,t){i.isNumber(e)&&i.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_PIXEL_STOREI,1,0,2,e,t):console.error("gl.pixelStoreiOpt js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ie(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_POLYGON_OFFSET,1,0,2,e,t):console.error("gl.polygonOffset js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ae(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_RENDER_BUFFER_STORAGE,1,0,4,e,t,n,r):console.error("gl.renderbufferStorage js param type error! arguments= ".concat(JSON.stringify(arguments)))}function se(e,t){i.isNumber(e)&&i.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_SAMPLE_COVERAGE,1,0,2,e,t?1:0):console.error("gl.sampleCoverage js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ce(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_SCISSOR,1,0,4,e,t,n,r):console.error("gl.scissor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ue(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_FUNC,1,0,3,e,t,n):console.error("gl.stencilFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function fe(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_FUNC_SEPARATE,1,0,4,e,t,n,r):console.error("gl.stencilFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function le(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_MASK,1,0,1,e):console.error("gl.stencilMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function pe(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_MASK_SEPARATE,1,0,2,e,t):console.error("gl.stencilMaskSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function me(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_OP,1,0,3,e,t,n):console.error("gl.stencil js param type error! arguments= ".concat(JSON.stringify(arguments)))}function de(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_OP_SEPARATE,1,0,4,e,t,n,r):console.error("gl.stencilOpSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function he(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_TEX_PARAMETER_F,1,0,3,e,t,n)}function _e(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_TEX_PARAMETER_I,1,0,3,e,t,n)}function ve(e,t){var n=i.unwrap(e);i.isNumber(n)&&i.isNumber(t)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_1F,1,0,2,n,t)}function ye(e,t,n){var r=i.unwrap(e);i.isNumber(r)&&i.isNumber(t)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_2F,1,0,3,r,t,n)}function ge(e,t,n,r){var o=i.unwrap(e);i.isNumber(o)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_3F,1,0,4,o,t,n,r)}function be(e,t,n,r,o){var a=i.unwrap(e);i.isNumber(a)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_4F,1,0,5,a,t,n,r,o)}function Ie(e,t){var n=i.unwrap(e);i.isNumber(n)&&i.isNumberOrBool(t)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_1I,1,0,2,n,t)}function Ee(e,t,n){var r=i.unwrap(e);i.isNumber(r)&&i.isNumber(t)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_2I,1,0,3,r,t,n)}function Ae(e,t,n,r){var o=i.unwrap(e);i.isNumber(o)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_3I,1,0,4,o,t,n,r)}function Oe(e,t,n,r,o){var a=i.unwrap(e);i.isNumber(a)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_4I,1,0,5,a,t,n,r,o)}function we(t,n,r,o,a,s){if(null!=n&&0!=n.length){var c=i.unwrap(t),u=null;if(u=s?i.getInt32Array(n):i.getFloat32Array(n),i.isNumber(c)&&u){var f=[r,o,1,0,2,c,u.slice()];e.CommandQueue.Instance.pushCommand.apply(e.CommandQueue.Instance,f)}else{var l=s?"i":"f";console.error("gl.uniform".concat(a).concat(l,"v js param type error! arguments= ").concat(JSON.stringify(arguments)))}}else e.CommandQueue.Instance.flushCmd()}function Se(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_1FV,1,!1)}function Ne(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_2FV,2,!1)}function Te(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_3FV,3,!1)}function Ce(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_4FV,4,!1)}function Re(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_1IV,1,!0)}function Me(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_2IV,2,!0)}function Pe(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_3IV,3,!0)}function je(e,t){we(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_4IV,4,!0)}function xe(t,n,r,o,a,s){if(null!=r&&0!=r.length){var c=i.unwrap(t),u=i.getFloat32Array(r);if(i.isNumber(c)&&u){var f=[o,a,1,0,3,c,n,u.slice()];e.CommandQueue.Instance.pushCommand.apply(e.CommandQueue.Instance,f)}else console.error("gl.uniformMatrix".concat(s,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}else e.CommandQueue.Instance.flushCmd()}function De(e,t,n){xe(e,t,n,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_2FV,2)}function Le(e,t,n){xe(e,t,n,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_3FV,3)}function Be(e,t,n){xe(e,t,n,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_4FV,4)}function ke(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_USE_PROGRAM,1,0,1,t):console.error("gl.useProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Fe(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VALIDATE_PROGRAM,1,0,1,t):console.error("gl.validateProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ue(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_1F,1,0,2,e,t):console.error("gl.vertexAttrib1f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ge(e,t,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_2F,1,0,3,e,t,n):console.error("gl.vertexAttrib2f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ve(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_3F,1,0,4,e,t,n,r):console.error("gl.vertexAttrib3f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function He(e,t,n,r,o){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(r)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_4F,1,0,5,e,t,n,r,o):console.error("gl.vertexAttrib4f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function qe(t,n,r,o,a){if(null!=n&&0!=n.length){var s=i.getFloat32Array(n);if(i.isNumber(t)&&s){var c=[r,o,1,0,2,t,s.slice()];e.CommandQueue.Instance.pushCommand.apply(e.CommandQueue.Instance,c)}else console.error("gl.vertexAttrib".concat(a,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}else e.CommandQueue.Instance.flushCmd()}function We(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_1FV,1)}function Xe(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_2FV,2)}function Je(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_3FV,3)}function Ye(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_4FV,4)}function Ke(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_DIVISOR,1,0,2,e,t):console.error("gl.vertexAttribDivisor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ze(e,t,n,r,o,a){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumberOrBool(r)&&i.isNumber(o)&&i.isNumber(a)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_POINTER,1,0,6,e,t,n,r?1:0,o,a):console.error("gl.vertexAttribPointer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function $e(e,t,n,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(n)&&i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VIEW_PORT,1,0,4,e,t,n,r):console.error("gl.viewport js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Qe(t,n){this.__nativeObj=t,this.__nativeExtensionObj=n,this.commandInstance=e.CommandQueue.Instance,Qe.prototype.bindVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_VERTEX_ARRAY_OES,1,0,1,e)},Qe.prototype.createVertexArrayOES=function(){return this.commandInstance.flushCmd(),this.__nativeExtensionObj.createVertexArrayOES()},Qe.prototype.deleteVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_VERTEX_ARRAY_OES,1,0,1,e)},Qe.prototype.isVertexArrayOES=function(e){return this.commandInstance.flushCmd(),this.__nativeExtensionObj.isVertexArrayOES(e)}}n(22).attachWebGlConstant(t),this.commandInstance=e.CommandQueue.Instance,this.__nativeObj=r.__nativeObj,this.__extensions=e.WebGLExtension(this,r.__nativeObj).getExtensions(),o=r,t.prototype.activeTexture=u,t.prototype.attachShader=f,t.prototype.bindAttribLocation=c(o.bindAttribLocation),t.prototype.bindBuffer=p,t.prototype.bindFramebuffer=c(o.bindFramebuffer),t.prototype.bindRenderbuffer=c(o.bindRenderbuffer),t.prototype.bindTexture=m,t.prototype.blendColor=d,t.prototype.blendEquation=h,t.prototype.blendEquationSeparate=_,t.prototype.blendFunc=v,t.prototype.blendFuncSeparate=y,t.prototype.bufferData=g,t.prototype.bufferSubData=b,t.prototype.checkFramebufferStatus=c(o.checkFramebufferStatus),t.prototype.clear=I,t.prototype.clearColor=E,t.prototype.clearDepth=A,t.prototype.clearStencil=O,t.prototype.colorMask=w,t.prototype.compileShader=S,t.prototype.compressedTexImage2D=c(o.compressedTexImage2D),t.prototype.compressedTexSubImage2D=c(o.compressedTexSubImage2D),t.prototype.copyTexImage2D=N,t.prototype.copyTexSubImage2D=T,t.prototype.createBuffer=c(o.createBuffer),t.prototype.createFramebuffer=c(o.createFramebuffer),t.prototype.createProgram=c(o.createProgram),t.prototype.createRenderbuffer=c(o.createRenderbuffer),t.prototype.createShader=c(o.createShader),t.prototype.createTexture=c(o.createTexture),t.prototype.cullFace=C,t.prototype.deleteBuffer=M,t.prototype.deleteFramebuffer=P,t.prototype.deleteProgram=j,t.prototype.deleteRenderbuffer=x,t.prototype.deleteShader=D,t.prototype.deleteTexture=L,t.prototype.depthFunc=B,t.prototype.depthMask=k,t.prototype.depthRange=F,t.prototype.detachShader=U,t.prototype.disable=G,t.prototype.disableVertexAttribArray=V,t.prototype.drawArrays=H,t.prototype.drawElements=W,t.prototype.enable=J,t.prototype.enableVertexAttribArray=Y,t.prototype.finish=K,t.prototype.flush=z,t.prototype.framebufferRenderbuffer=$,t.prototype.framebufferTexture2D=Q,t.prototype.frontFace=Z,t.prototype.generateMipmap=ee,t.prototype.getExtension=c(o.getExtension),t.prototype.getContextAttributes=c(o.getContextAttributes),t.prototype.getSupportedExtensions=c(o.getSupportedExtensions),t.prototype.getActiveAttrib=c(o.getActiveAttrib),t.prototype.getActiveUniform=c(o.getActiveUniform),t.prototype.getAttachedShaders=c(o.getAttachedShaders),t.prototype.getAttribLocation=c(o.getAttribLocation),t.prototype.getBufferParameter=c(o.getBufferParameter),t.prototype.getError=c(o.getError),t.prototype.getFramebufferAttachmentParameter=c(o.getFramebufferAttachmentParameter),t.prototype.getParameter=c(o.getParameter),t.prototype.getProgramInfoLog=c(o.getProgramInfoLog),t.prototype.getProgramParameter=c(o.getProgramParameter),t.prototype.getRenderbufferParameter=c(o.getRenderbufferParameter),t.prototype.getShaderInfoLog=c(o.getShaderInfoLog),t.prototype.getShaderParameter=c(o.getShaderParameter),t.prototype.getShaderPrecisionFormat=c(o.getShaderPrecisionFormat),t.prototype.getShaderSource=c(o.getShaderSource),t.prototype.getTexParameter=c(o.getTexParameter),t.prototype.getUniform=c(o.getUniform),t.prototype.getUniformLocation=c(o.getUniformLocation),t.prototype.getVertexAttrib=c(o.getVertexAttrib),t.prototype.getVertexAttribOffset=c(o.getVertexAttribOffset),t.prototype.readPixels=c(o.readPixels),t.prototype.hint=te,t.prototype.isBuffer=c(o.isBuffer),t.prototype.isEnabled=c(o.isEnabled),t.prototype.isFramebuffer=c(o.isFramebuffer),t.prototype.isProgram=c(o.isProgram),t.prototype.isRenderbuffer=c(o.isRenderbuffer),t.prototype.isShader=c(o.isShader),t.prototype.isTexture=c(o.isTexture),t.prototype.lineWidth=ne,t.prototype.linkProgram=re,t.prototype.pixelStorei=oe,t.prototype.polygonOffset=ie,t.prototype.renderbufferStorage=ae,t.prototype.sampleCoverage=se,t.prototype.scissor=ce,t.prototype.shaderSource=c(o.shaderSource),t.prototype.stencilFunc=ue,t.prototype.stencilFuncSeparate=fe,t.prototype.stencilMask=le,t.prototype.stencilMaskSeparate=pe,t.prototype.stencilOp=me,t.prototype.stencilOpSeparate=de,t.prototype.texImage2D=c(o.texImage2D),t.prototype.texParameterf=he,t.prototype.texParameteri=_e,t.prototype.texSubImage2D=c(o.texSubImage2D),t.prototype.uniform1f=ve,t.prototype.uniform1fv=Se,t.prototype.uniform1i=Ie,t.prototype.uniform1iv=Re,t.prototype.uniform2f=ye,t.prototype.uniform2fv=Ne,t.prototype.uniform2i=Ee,t.prototype.uniform2iv=Me,t.prototype.uniform3f=ge,t.prototype.uniform3fv=Te,t.prototype.uniform3i=Ae,t.prototype.uniform3iv=Pe,t.prototype.uniform4f=be,t.prototype.uniform4fv=Ce,t.prototype.uniform4i=Oe,t.prototype.uniform4iv=je,t.prototype.uniformMatrix2fv=De,t.prototype.uniformMatrix3fv=Le,t.prototype.uniformMatrix4fv=Be,t.prototype.useProgram=ke,t.prototype.validateProgram=Fe,t.prototype.vertexAttrib1f=Ue,t.prototype.vertexAttrib1fv=We,t.prototype.vertexAttrib2f=Ge,t.prototype.vertexAttrib2fv=Xe,t.prototype.vertexAttrib3f=Ve,t.prototype.vertexAttrib3fv=Je,t.prototype.vertexAttrib4f=He,t.prototype.vertexAttrib4fv=Ye,t.prototype.vertexAttribDivisor=Ke,t.prototype.vertexAttribPointer=ze,t.prototype.viewport=$e,t.prototype.isContextLost=c(o.isContextLost),this.__nativeObj.isSupportES3()&&function(e){t.prototype.bindVertexArray=l,t.prototype.createVertexArray=c(e.createVertexArray),t.prototype.deleteVertexArray=R,t.prototype.drawArraysInstanced=q,t.prototype.drawElementsInstanced=X,t.prototype.isVertexArray=c(e.isVertexArray)}(r),e.attachWebGLPlus(t),this.createOESVertexArrayObject=function(e,t){return new a.OESVertexArrayObject(new Qe(e,t))}}e.CanvasWebGLCmdQueueContext=function(e){return new t(e)}}(__TT__GLOBAL__.__ttObjdec__)},function(e,t,n){!function(e){function t(e){return function(){return e.apply(this,arguments)}}function r(o){var i,a=n(18),s=n(21),c=n(22),u=n(39).CommandConstant.webgl;function f(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.activeTexture.cmd_id,e):console.error("gl.activeTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function l(e,t){var n=a.unwrap(e),r=a.unwrap(t);a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.attachShader.cmd_id,n,r):console.error("gl.attachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function p(e,t,n){if(null!=e){var r=a.unwrap(e);this.commandInstance.pushCommand(this.__nativeObj,u.bindAttribLocation.cmd_id,r,t,n)}}function m(e,t){if(a.isNumber(e)){var n=0;t&&(n=a.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,u.bindBuffer.cmd_id,e,n)}else console.error("gl.bindBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function d(e,t){var n=a.unwrap(t);this.commandInstance.pushCommand(this.__nativeObj,u.bindFramebuffer.cmd_id,e,n)}function h(e,t){var n=a.unwrap(t);this.commandInstance.pushCommand(this.__nativeObj,u.bindRenderbuffer.cmd_id,e,n)}function _(e,t){if(a.isNumber(e)){var n=0;t&&(n=a.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,u.bindTexture.cmd_id,e,n)}else console.error("gl.bindTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function v(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.bindVertexArray.cmd_id,t):console.error("gl.bindVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function y(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.blendColor.cmd_id,e,t,n,r):console.error("gl.blendColor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function g(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.blendEquation.cmd_id,e):console.error("gl.blendEquation js param type error! arguments= ".concat(JSON.stringify(arguments)))}function b(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.blendEquationSeparate.cmd_id,e,t):console.error("gl.blendEquationSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function I(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.blendFunc.cmd_id,e,t):console.error("gl.blendFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function E(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.blendFuncSeparate.cmd_id,e,t,n,r):console.error("gl.blendFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function A(e,t,n){if(t=a.getBufferData(t),a.isNumber(e)&&a.isNumber(n)&&null!=t){var r=a.isNumber(t);this.commandInstance.pushCommand(this.__nativeObj,u.bufferData.cmd_id,r,e,n,t)}else console.error("gl.bufferData js param type error! arguments= ".concat(JSON.stringify(arguments)))}function O(e,t,n){a.isNumber(e)&&a.isNumber(t)&&null!=n?this.commandInstance.pushCommand(this.__nativeObj,u.bufferSubData.cmd_id,e,t,n):console.error("gl.bufferSubData js param type error! arguments= ".concat(JSON.stringify(arguments)))}function w(e){return this.commandInstance.pushCommand(this.__nativeObj,u.checkFramebufferStatus.cmd_id,e)}function S(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.clear.cmd_id,e):console.error("gl.clear js param type error! arguments= ".concat(JSON.stringify(arguments)))}function N(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.clearColor.cmd_id,e,t,n,r):console.error("gl.clearColor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function T(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.clearDepth.cmd_id,e):console.error("gl.clearDepth js param type error! arguments= ".concat(JSON.stringify(arguments)))}function C(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.clearStencil.cmd_id,e):console.error("gl.clearStencil js param type error! arguments= ".concat(JSON.stringify(arguments)))}function R(e,t,n,r){a.isNumberOrBool(e)&&a.isNumberOrBool(t)&&a.isNumberOrBool(n)&&a.isNumberOrBool(r)?this.commandInstance.pushCommand(this.__nativeObj,u.colorMask.cmd_id,e,t,n,r):console.error("gl.colorMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function M(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.compileShader.cmd_id,t):console.error("gl.compileShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function P(e,t,n,r,o,i,a){return this.commandInstance.pushCommand(this.__nativeObj,u.compressedTexImage2D.cmd_id,e,t,n,r,o,i,a)}function j(e,t,n,r,o,i,a,s){return this.commandInstance.pushCommand(this.__nativeObj,u.compressedTexSubImage2D.cmd_id,e,t,n,r,o,i,a,s)}function x(e,t,n,r,o,i,s,c){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)&&a.isNumber(i)&&a.isNumber(s)&&a.isNumber(c)?this.commandInstance.pushCommand(this.__nativeObj,u.copyTexImage2D.cmd_id,e,t,n,r,o,i,s,c):console.error("gl.copyTexImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function D(e,t,n,r,o,i,s,c){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)&&a.isNumber(i)&&a.isNumber(s)&&a.isNumber(c)?this.commandInstance.pushCommand(this.__nativeObj,u.copyTexSubImage2D.cmd_id,e,t,n,r,o,i,s,c):console.error("gl.copyTexSubImage2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function L(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createBuffer.cmd_id))}function B(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createFramebuffer.cmd_id))}function k(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createProgram.cmd_id))}function F(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createRenderbuffer.cmd_id))}function U(e){return e==this.VERTEX_SHADER||e==this.FRAGMENT_SHADER?a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createShader.cmd_id,e)):(console.log("gl.createShader(type) param error! type: Either gl.VERTEX_SHADER or gl.FRAGMENT_SHADER!"),null)}function G(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.createTexture.cmd_id))}function V(){return this.commandInstance.pushCommand(this.__nativeObj,u.createVertexArray.cmd_id)}function H(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.cullFace.cmd_id,e):console.error("gl.cullFace js param type error! arguments= ".concat(JSON.stringify(arguments)))}function q(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteBuffer.cmd_id,t):console.error("gl.deleteBuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function W(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteFramebuffer.cmd_id,t):console.error("gl.deleteFramebuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function X(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteProgram.cmd_id,t):console.error("gl.deleteProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function J(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteRenderbuffer.cmd_id,t):console.error("gl.deleteRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Y(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteShader.cmd_id,t):console.error("gl.deleteShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function K(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteTexture.cmd_id,t):console.error("gl.deleteTexture js param type error! arguments= ".concat(JSON.stringify(arguments)))}function z(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.deleteVertexArray.cmd_id,t):console.error("gl.eleteVertexArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function $(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.depthFunc.cmd_id,e):console.error("gl.depthFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Q(e){a.isNumberOrBool(e)?this.commandInstance.pushCommand(this.__nativeObj,u.depthMask.cmd_id,e):console.error("gl.depthMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Z(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.depthRange.cmd_id,e,t):console.error("gl.depthRange js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ee(e,t){var n=a.unwrap(e),r=a.unwrap(t);a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.detachShader.cmd_id,n,r):console.error("gl.detachShader js param type error! arguments= ".concat(JSON.stringify(arguments)))}function te(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.disable.cmd_id,e):console.error("gl.disable js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ne(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.disableVertexAttribArray.cmd_id,e):console.error("gl.disableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function re(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,u.drawArrays.cmd_id,e,t,n):console.error("gl.drawArrays js param type error! arguments= ".concat(JSON.stringify(arguments)))}function oe(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.drawArraysInstanced.cmd_id,e,t,n,r):console.error("gl.drawArraysInstanced js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ie(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.drawElements.cmd_id,e,t,n,r):console.error("gl.drawElements js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ae(e,t,n,r,o){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,u.drawElementsInstanced.cmd_id,e,t,n,r,o):console.error("gl.drawElementsInstance js param type error! arguments= ".concat(JSON.stringify(arguments)))}function se(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.enable.cmd_id,e):console.error("gl.enable js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ce(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.enableVertexAttribArray.cmd_id,e):console.error("gl.enableVertexAttribArray js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ue(){this.commandInstance.pushCommand(this.__nativeObj,u.finish.cmd_id)}function fe(){this.commandInstance.pushCommand(this.__nativeObj,u.flush.cmd_id)}function le(e,t,n,r){var o=a.unwrap(r);a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,u.framebufferRenderbuffer.cmd_id,e,t,n,o):console.error("gl.framebufferRenderbuffer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function pe(e,t,n,r,o){var i=a.unwrap(r);a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(i)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,u.framebufferTexture2D.cmd_id,e,t,n,i,o):console.error("gl.framebufferTexture2D js param type error! arguments= ".concat(JSON.stringify(arguments)))}function me(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.frontFace.cmd_id,e):console.error("gl.frontFace js param type error! arguments= ".concat(JSON.stringify(arguments)))}function de(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.generateMipmap.cmd_id,e):console.error("gl.generateMipmap js param type error! arguments= ".concat(JSON.stringify(arguments)))}function he(e){if("OES_vertex_array_object"==e)return this.createOESVertexArrayObject(this.__nativeObj);var t=this.__extensions[e];if(t)return t;if(this.__nativeObj.isSupportES3()){if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new s.ANGLEInstancedArrays(this)),this.__irExt;if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new s.VertexArrayObject(this)),this.__vaoExt}return null}function _e(){return this.commandInstance.pushCommand(this.__nativeObj,u.getSupportedExtensions.cmd_id)}function ve(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,u.getActiveAttrib.cmd_id,a.unwrap(e),t)}function ye(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,u.getActiveUniform.cmd_id,a.unwrap(e),t)}function ge(e){if(null!=e){var t=this.commandInstance.pushCommand(this.__nativeObj,u.getAttachedShaders.cmd_id,a.unwrap(e));if(t instanceof Array){for(var n=new Array,r=t.length,o=0;o<r;o++){var i=a.wrap(t[o]);n.push(i)}return n}return t}}function be(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getAttribLocation.cmd_id,a.unwrap(e),t)}function Ie(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getBufferParameter.cmd_id,e,t)}function Ee(){return this.commandInstance.pushCommand(this.__nativeObj,u.getError.cmd_id)}function Ae(e,t,n){var r=this.commandInstance.pushCommand(this.__nativeObj,u.getFramebufferAttachmentParameter.cmd_id,e,t,n);return n==this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.CREATE_BUFFER.cmd_id):this.commandInstance.pushCommand(this.__nativeObj,u.getFramebufferAttachmentParameter.cmd_id,e,t,n)}function Oe(e){switch(e){case this.ARRAY_BUFFER_BINDING:case this.CURRENT_PROGRAM:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.FRAMEBUFFER_BINDING:case this.RENDERBUFFER_BINDING:case this.VERTEX_ARRAY_BINDING:return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.getParameter.cmd_id,e));default:return this.commandInstance.pushCommand(this.__nativeObj,u.getParameter.cmd_id,e)}}function we(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,u.getProgramInfoLog.cmd_id,a.unwrap(e))}function Se(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,u.getProgramParameter.cmd_id,a.unwrap(e),t)}function Ne(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getRenderbufferParameter.cmd_id,e,t)}function Te(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,u.getShaderInfoLog.cmd_id,a.unwrap(e))}function Ce(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,u.getShaderParameter.cmd_id,a.unwrap(e),t)}function Re(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getShaderPrecisionFormat.cmd_id,e,t)}function Me(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,u.getShaderSource.cmd_id,a.unwrap(e))}function Pe(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getTexParameter.cmd_id,e,t)}function je(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,u.getUniform.cmd_id,a.unwrap(e),t)}function xe(e,t){return null==e?-1:a.wrap(this.commandInstance.pushCommand(this.__nativeObj,u.getUniformLocation.cmd_id,a.unwrap(e),t))}function De(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getVertexAttrib.cmd_id,e,t)}function Le(e,t){return this.commandInstance.pushCommand(this.__nativeObj,u.getVertexAttribOffset.cmd_id,e,t)}function Be(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.hint.cmd_id,e,t):console.error("gl.hint js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ke(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isBuffer.cmd_id,a.unwrap(e))}function Fe(e){return this.commandInstance.pushCommand(this.__nativeObj,u.isEnabled.cmd_id,e)}function Ue(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isFramebuffer.cmd_id,a.unwrap(e))}function Ge(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isProgram.cmd_id,a.unwrap(e))}function Ve(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isRenderbuffer.cmd_id,a.unwrap(e))}function He(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isShader.cmd_id,a.unwrap(e))}function qe(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isTexture.cmd_id,a.unwrap(e))}function We(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.isVertexArray.cmd_id,a.unwrap(e))}function Xe(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.lineWidth.cmd_id,e):console.error("gl.lineWidth js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Je(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.linkProgram.cmd_id,t):console.error("gl.linkProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ye(e,t){a.isNumber(e)&&a.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,u.pixelStorei.cmd_id,e,t):console.error("gl.pixelStoreiOpt js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ke(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.polygonOffset.cmd_id,e,t):console.error("gl.polygonOffset js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ze(e,t,n,r,o,i,a){return this.commandInstance.pushCommand(this.__nativeObj,u.readPixels.cmd_id,e,t,n,r,o,i,a)}function $e(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.renderbufferStorage.cmd_id,e,t,n,r):console.error("gl.renderbufferStorage js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Qe(e,t){a.isNumber(e)&&a.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,u.sampleCoverage.cmd_id,e,t?1:0):console.error("gl.sampleCoverage js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Ze(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.scissor.cmd_id,e,t,n,r):console.error("gl.scissor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function et(e,t){null!=e&&this.commandInstance.pushCommand(this.__nativeObj,u.shaderSource.cmd_id,a.unwrap(e),t)}function tt(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilFunc.cmd_id,e,t,n):console.error("gl.stencilFunc js param type error! arguments= ".concat(JSON.stringify(arguments)))}function nt(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilFuncSeparate.cmd_id,e,t,n,r):console.error("gl.stencilFuncSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function rt(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilMask.cmd_id,e):console.error("gl.stencilMask js param type error! arguments= ".concat(JSON.stringify(arguments)))}function ot(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilMaskSeparate.cmd_id,e,t):console.error("gl.stencilMaskSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function it(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilOp.cmd_id,e,t,n):console.error("gl.stencil js param type error! arguments= ".concat(JSON.stringify(arguments)))}function at(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.stencilOpSeparate.cmd_id,e,t,n,r):console.error("gl.stencilOpSeparate js param type error! arguments= ".concat(JSON.stringify(arguments)))}function st(t,n,r){switch(arguments.length){case 6:var o=arguments[3],i=arguments[4],a=arguments[5];if(null==a)return void console.error("texImage2D param error.  arg[5] is undefined!");if(Object.prototype.hasOwnProperty.call(a,"__nativeObj"))if(a instanceof e.Canvas){var s=a.currentContext["2d"]?a.currentContext["2d"]:s=a.currentContext.webgl;if(null==s)return void console.error("texImage2D param error. canvas has no context");this.commandInstance.pushCommand(this.__nativeObj,u.texImage2D.cmd_id,t,n,r,o,i,s.__nativeObj)}else this.commandInstance.pushCommand(this.__nativeObj,u.texImage2D.cmd_id,t,n,r,o,i,a.__nativeObj);else(a.width>0&&a.height>0||Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0)&&this.commandInstance.pushCommand(this.__nativeObj,u.texImage2D.cmd_id,t,n,r,o,i,a);break;case 9:var c=arguments[3],f=arguments[4],l=arguments[5],p=(o=arguments[6],i=arguments[7],arguments[8]);this.commandInstance.pushCommand(this.__nativeObj,u.texImage2D.cmd_id,t,n,r,c,f,l,o,i,p)}}function ct(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,u.texParameterf.cmd_id,e,t,n)}function ut(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,u.texParameteri.cmd_id,e,t,n)}function ft(e,t,n,r){switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6];Object.prototype.hasOwnProperty.call(a,"__nativeObj")?null!=a.type&&"canvas"==a.type?this.commandInstance.pushCommand(this.__nativeObj,u.texSubImage2D.cmd_id,e,t,n,r,o,i,a.currentContext["2d"].__nativeObj):this.commandInstance.pushCommand(this.__nativeObj,u.texSubImage2D.cmd_id,e,t,n,r,o,i,a.__nativeObj):(a.width>0&&a.height>0||Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0)&&this.commandInstance.pushCommand(this.__nativeObj,u.texSubImage2D.cmd_id,e,t,n,r,o,i,a);break;case 9:var s=arguments[4],c=arguments[5],f=(o=arguments[6],i=arguments[7],arguments[8]);this.commandInstance.pushCommand(this.__nativeObj,u.texSubImage2D.cmd_id,e,t,n,r,s,c,o,i,f)}}function lt(e,t){var n=a.unwrap(e);a.isNumber(n)&&a.isNumber(t)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform1f.cmd_id,n,t)}function pt(e,t,n){var r=a.unwrap(e);a.isNumber(r)&&a.isNumber(t)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform2f.cmd_id,r,t,n)}function mt(e,t,n,r){var o=a.unwrap(e);a.isNumber(o)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform3f.cmd_id,o,t,n,r)}function dt(e,t,n,r,o){var i=a.unwrap(e);a.isNumber(i)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform4f.cmd_id,i,t,n,r,o)}function ht(e,t){var n=a.unwrap(e);a.isNumber(n)&&a.isNumberOrBool(t)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform1i.cmd_id,n,t)}function _t(e,t,n){var r=a.unwrap(e);a.isNumber(r)&&a.isNumber(t)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform2i.cmd_id,r,t,n)}function vt(e,t,n,r){var o=a.unwrap(e);a.isNumber(o)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform3i.cmd_id,o,t,n,r)}function yt(e,t,n,r,o){var i=a.unwrap(e);a.isNumber(i)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,u.uniform4i.cmd_id,i,t,n,r,o)}function gt(t,n,r,o,i,s){if(null!=n&&0!=n.length){var c=a.unwrap(t),u=null;if(u=s?a.getInt32Array(n):a.getFloat32Array(n),a.isNumber(c)&&u){var f=[r,o,c,u];e.CommandQueueV2.Instance.pushCommand.apply(e.CommandQueueV2.Instance,f)}else{var l=s?"i":"f";console.error("gl.uniform".concat(i).concat(l,"v js param type error! arguments= ").concat(JSON.stringify(arguments)))}}}function bt(e,t){gt(e,t,this.__nativeObj,u.uniform1fv.cmd_id,1,!1)}function It(e,t){gt(e,t,this.__nativeObj,u.uniform2fv.cmd_id,2,!1)}function Et(e,t){gt(e,t,this.__nativeObj,u.uniform3fv.cmd_id,3,!1)}function At(e,t){gt(e,t,this.__nativeObj,u.uniform4fv.cmd_id,4,!1)}function Ot(e,t){gt(e,t,this.__nativeObj,u.uniform1iv.cmd_id,1,!0)}function wt(e,t){gt(e,t,this.__nativeObj,u.uniform2iv.cmd_id,2,!0)}function St(e,t){gt(e,t,this.__nativeObj,u.uniform3iv.cmd_id,3,!0)}function Nt(e,t){gt(e,t,this.__nativeObj,u.uniform4iv.cmd_id,4,!0)}function Tt(t,n,r,o,i,s){if(null!=r&&0!=r.length){var c=a.unwrap(t),u=a.getFloat32Array(r);if(a.isNumber(c)&&u){var f=[o,i,c,n,u];e.CommandQueueV2.Instance.pushCommand.apply(e.CommandQueueV2.Instance,f)}else console.error("gl.uniformMatrix".concat(s,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}}function Ct(e,t,n){Tt(e,t,n,this.__nativeObj,u.uniformMatrix2fv.cmd_id,2)}function Rt(e,t,n){Tt(e,t,n,this.__nativeObj,u.uniformMatrix3fv.cmd_id,3)}function Mt(e,t,n){Tt(e,t,n,this.__nativeObj,u.uniformMatrix4fv.cmd_id,4)}function Pt(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.useProgram.cmd_id,t):console.error("gl.useProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function jt(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.validateProgram.cmd_id,t):console.error("gl.validateProgram js param type error! arguments= ".concat(JSON.stringify(arguments)))}function xt(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttrib1f.cmd_id,e,t):console.error("gl.vertexAttrib1f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Dt(e,t,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttrib2f.cmd_id,e,t,n):console.error("gl.vertexAttrib2f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Lt(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttrib3f.cmd_id,e,t,n,r):console.error("gl.vertexAttrib3f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Bt(e,t,n,r,o){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(r)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttrib4f.cmd_id,e,t,n,r,o):console.error("gl.vertexAttrib4f js param type error! arguments= ".concat(JSON.stringify(arguments)))}function kt(t,n,r,o,i){if(null!=n&&0!=n.length){var s=a.getFloat32Array(n);if(a.isNumber(t)&&s){var c=[r,o,t,s];this.commandInstance.pushCommand.apply(e.CommandQueue.Instance,c)}else console.error("gl.vertexAttrib".concat(i,"fv js param type error! arguments= ").concat(JSON.stringify(arguments)))}}function Ft(e,t){kt(e,t,this.__nativeObj,u.vertexAttrib1fv.cmd_id,1)}function Ut(e,t){kt(e,t,this.__nativeObj,u.vertexAttrib2fv.cmd_id,2)}function Gt(e,t){kt(e,t,this.__nativeObj,u.vertexAttrib3fv.cmd_id,3)}function Vt(e,t){kt(e,t,this.__nativeObj,u.vertexAttrib4fv.cmd_id,4)}function Ht(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttribDivisor.cmd_id,e,t):console.error("gl.vertexAttribDivisor js param type error! arguments= ".concat(JSON.stringify(arguments)))}function qt(e,t,n,r,o,i){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumberOrBool(r)&&a.isNumber(o)&&a.isNumber(i)?this.commandInstance.pushCommand(this.__nativeObj,u.vertexAttribPointer.cmd_id,e,t,n,r?1:0,o,i):console.error("gl.vertexAttribPointer js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Wt(e,t,n,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(n)&&a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,u.viewport.cmd_id,e,t,n,r):console.error("gl.viewport js param type error! arguments= ".concat(JSON.stringify(arguments)))}function Xt(t){this.__nativeObj=t,this.commandInstance=e.CommandQueueV2.Instance,Xt.prototype.bindVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,u.bindVertexArrayOES.cmd_id,e)},Xt.prototype.createVertexArrayOES=function(){return this.commandInstance.pushCommand(this.__nativeObj,u.createVertexArrayOES.cmd_id)},Xt.prototype.deleteVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,u.deleteVertexArrayOES.cmd_id,e)},Xt.prototype.isVertexArrayOES=function(e){return this.commandInstance.pushCommand(this.__nativeObj,u.isVertexArrayOES.cmd_id,e)}}c.attachWebGlConstant(r),this.__extensions=e.WebGLExtension(this,o.__nativeObj).getExtensions(),this.commandInstance=e.CommandQueueV2.Instance,this.__nativeObj=o.__nativeObj,i=o,r.prototype.activeTexture=f,r.prototype.attachShader=l,r.prototype.bindAttribLocation=p,r.prototype.bindBuffer=m,r.prototype.bindFramebuffer=d,r.prototype.bindRenderbuffer=h,r.prototype.bindTexture=_,r.prototype.blendColor=y,r.prototype.blendEquation=g,r.prototype.blendEquationSeparate=b,r.prototype.blendFunc=I,r.prototype.blendFuncSeparate=E,r.prototype.bufferData=A,r.prototype.bufferSubData=O,r.prototype.checkFramebufferStatus=w,r.prototype.clear=S,r.prototype.clearColor=N,r.prototype.clearDepth=T,r.prototype.clearStencil=C,r.prototype.colorMask=R,r.prototype.compileShader=M,r.prototype.compressedTexImage2D=P,r.prototype.compressedTexSubImage2D=j,r.prototype.copyTexImage2D=x,r.prototype.copyTexSubImage2D=D,r.prototype.createBuffer=L,r.prototype.createFramebuffer=B,r.prototype.createProgram=k,r.prototype.createRenderbuffer=F,r.prototype.createShader=U,r.prototype.createTexture=G,r.prototype.cullFace=H,r.prototype.deleteBuffer=q,r.prototype.deleteFramebuffer=W,r.prototype.deleteProgram=X,r.prototype.deleteRenderbuffer=J,r.prototype.deleteShader=Y,r.prototype.deleteTexture=K,r.prototype.depthFunc=$,r.prototype.depthMask=Q,r.prototype.depthRange=Z,r.prototype.detachShader=ee,r.prototype.disable=te,r.prototype.disableVertexAttribArray=ne,r.prototype.drawArrays=re,r.prototype.drawElements=ie,r.prototype.enable=se,r.prototype.enableVertexAttribArray=ce,r.prototype.finish=ue,r.prototype.flush=fe,r.prototype.framebufferRenderbuffer=le,r.prototype.framebufferTexture2D=pe,r.prototype.frontFace=me,r.prototype.generateMipmap=de,r.prototype.getExtension=he,r.prototype.getContextAttributes=t(i.getContextAttributes),r.prototype.getSupportedExtensions=_e,r.prototype.getActiveAttrib=ve,r.prototype.getActiveUniform=ye,r.prototype.getAttachedShaders=ge,r.prototype.getAttribLocation=be,r.prototype.getBufferParameter=Ie,r.prototype.getError=Ee,r.prototype.getFramebufferAttachmentParameter=Ae,r.prototype.getParameter=Oe,r.prototype.getProgramInfoLog=we,r.prototype.getProgramParameter=Se,r.prototype.getRenderbufferParameter=Ne,r.prototype.getShaderInfoLog=Te,r.prototype.getShaderParameter=Ce,r.prototype.getShaderPrecisionFormat=Re,r.prototype.getShaderSource=Me,r.prototype.getTexParameter=Pe,r.prototype.getUniform=je,r.prototype.getUniformLocation=xe,r.prototype.getVertexAttrib=De,r.prototype.getVertexAttribOffset=Le,r.prototype.hint=Be,r.prototype.isBuffer=ke,r.prototype.isEnabled=Fe,r.prototype.isFramebuffer=Ue,r.prototype.isProgram=Ge,r.prototype.isRenderbuffer=Ve,r.prototype.isShader=He,r.prototype.isTexture=qe,r.prototype.lineWidth=Xe,r.prototype.linkProgram=Je,r.prototype.pixelStorei=Ye,r.prototype.polygonOffset=Ke,r.prototype.readPixels=ze,r.prototype.renderbufferStorage=$e,r.prototype.sampleCoverage=Qe,r.prototype.scissor=Ze,r.prototype.shaderSource=et,r.prototype.stencilFunc=tt,r.prototype.stencilFuncSeparate=nt,r.prototype.stencilMask=rt,r.prototype.stencilMaskSeparate=ot,r.prototype.stencilOp=it,r.prototype.stencilOpSeparate=at,r.prototype.texImage2D=st,r.prototype.texParameterf=ct,r.prototype.texParameteri=ut,r.prototype.texSubImage2D=ft,r.prototype.uniform1f=lt,r.prototype.uniform1fv=bt,r.prototype.uniform1i=ht,r.prototype.uniform1iv=Ot,r.prototype.uniform2f=pt,r.prototype.uniform2fv=It,r.prototype.uniform2i=_t,r.prototype.uniform2iv=wt,r.prototype.uniform3f=mt,r.prototype.uniform3fv=Et,r.prototype.uniform3i=vt,r.prototype.uniform3iv=St,r.prototype.uniform4f=dt,r.prototype.uniform4fv=At,r.prototype.uniform4i=yt,r.prototype.uniform4iv=Nt,r.prototype.uniformMatrix2fv=Ct,r.prototype.uniformMatrix3fv=Rt,r.prototype.uniformMatrix4fv=Mt,r.prototype.useProgram=Pt,r.prototype.validateProgram=jt,r.prototype.vertexAttrib1f=xt,r.prototype.vertexAttrib1fv=Ft,r.prototype.vertexAttrib2f=Dt,r.prototype.vertexAttrib2fv=Ut,r.prototype.vertexAttrib3f=Lt,r.prototype.vertexAttrib3fv=Gt,r.prototype.vertexAttrib4f=Bt,r.prototype.vertexAttrib4fv=Vt,r.prototype.vertexAttribDivisor=Ht,r.prototype.vertexAttribPointer=qt,r.prototype.viewport=Wt,r.prototype.isContextLost=t(i.isContextLost),this.__nativeObj.isSupportES3()&&(r.prototype.bindVertexArray=v,r.prototype.createVertexArray=V,r.prototype.deleteVertexArray=z,r.prototype.drawArraysInstanced=oe,r.prototype.drawElementsInstanced=ae,r.prototype.isVertexArray=We),this.createOESVertexArrayObject=function(e){return new s.OESVertexArrayObject(new Xt(e))}}e.CanvasWebGLCmdQueueV2Context=function(e){return new r(e)}}(__TT__GLOBAL__.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=new Set;function n(){this.__nativeObj=new e.Triton.Image,this.__loaded=!1,this.__event={},this.__onload=null,this.__onerror=null,this.__src="",Object.defineProperty(this,"width",{get:function(){return this.__nativeObj.width}}),Object.defineProperty(this,"height",{get:function(){return this.__nativeObj.height}})}Object.defineProperty(n.prototype,"src",{get:function(){return this.__src},set:function(n){if(n&&""!==n&&n!==this.__src)if(t.add(this),this.__src=n,function(e){return/^https?:\/\//.test(e)}(n)){var r=this;(0,e.privateApi.downloadWithCache)({url:n,success:function(e){r.__nativeObj.src=e.tempFilePath},fail:function(e){r.dispatchEvent({type:"error",errMsg:e.errMsg,target:r})}})}else this.__nativeObj.src=n}}),Object.defineProperty(n.prototype,"onload",{get:function(){return this.__onload},set:function(e){this.__onload&&this.removeEventListener("load",this.__onload),this.__onload=e,this.addEventListener("load",e,{once:!0});this.__loaded&&e({once:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"onerror",{get:function(){return this.__onerror},set:function(e){this.__onerror&&this.removeEventListener("error",this.__onerror),this.__onerror=e,this.addEventListener("error",e,{once:!0})},enumerable:!0,configurable:!0}),n.prototype.addEventListener=function(e,t,n){if(t){this.__event[e]||(this.__event[e]=[]),this.__event[e].push(t);var r=this;"load"==e&&null==this.__nativeObj.onload&&(this.__nativeObj.onload=function(){r.dispatchEvent({type:"load",target:r})}),"error"==e&&null==this.__nativeObj.onerror&&(this.__nativeObj.onerror=function(e){r.dispatchEvent({type:"error",errMsg:e,target:r})}),(null==n?void 0:n.capture)&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),null==n||n.once,(null==n?void 0:n.passive)&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")}},n.prototype.removeEventListener=function(e,t){if(t){this.__event[e]||(this.__event[e]=[]);var n=this.__event[e].indexOf(t);this.__event[e].splice(n,1),this.__event.load&&0==this.__event.load.length&&(this.__nativeObj.onload=null),this.__event.error&&0==this.__event.error.length&&(this.__nativeObj.onerror=null)}},n.prototype.dispatchEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.__event[e.type];if(void 0!==n)for(var r=0;r<n.length;r++)n[r]&&n[r].apply(this,[e]);t.delete(this)},e.WebImage=n}(n.__ttObjdec__)},function(e,t,n){__TT__GLOBAL__;var r=__TT__GLOBAL__,o=__TT__GLOBAL__,i=(__TT__GLOBAL__,r.__ttObjdec__,o.newCmdBufferQueue);!function(e){var t=e._notifcationCenter;wx.createCanvas=function(){return new e.Canvas(new e.Triton.Canvas)},wx.createImage=function(){return new e.WebImage},wx.requestAnimationFrame=o.requestAnimationFrame,wx.cancelAnimationFrame=o.cancelAnimationFrame;var r=e.Triton.TouchEvent,a={0:"touchStart",1:"touchEnd",2:"touchMove",3:"touchCancel"};wx.onTouchStart=function(e){t.addObserver("touchStart",e)},wx.offTouchStart=function(e){t.removeObserver("touchStart",e)},wx.onTouchMove=function(e){t.addObserver("touchMove",e)},wx.offTouchMove=function(e){t.removeObserver("touchMove",e)},wx.onTouchEnd=function(e){t.addObserver("touchEnd",e)},wx.offTouchEnd=function(e){t.removeObserver("touchEnd",e)},wx.onTouchCancel=function(e){t.addObserver("touchCancel",e)},wx.offTouchCancel=function(e){t.removeObserver("touchCancel",e)},r.setTouchEventCallback((function(e){t.postEvent(a[e.action],e)})),e._getSharedCanvas=function(){if(!s){var t=new e.Canvas(e.Triton.wx.getSharedCanvas());t.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var t=arguments[0];if(this.currentContext[t])return this.currentContext[t];if("2d"==t){var r=this.__nativeObj.getContext(t);if(i){var o=n(63);this.currentContext[t]=new o(r)}else this.currentContext[t]=new e.CanvasContext2D(this.__nativeObj,r);return this.currentContext[t].canvas=this,this.currentContext[t]}}else;},t.toDataURL=function(){},t.toTempFilePath=function(){},t.toTempFilePathSync=function(){},t.isScreen=function(){return!1},t.isShared=!0,(s=t).getContext("2d")}return s};var s=null;Object.defineProperty(o,"sharedCanvas",{get:function(){return e._getSharedCanvas()},set:function(e){}});var c=function(){if(0<arguments.length&&"return this"===arguments[arguments.length-1])return function(){return{}}};c.prototype=o.Function.prototype,o.Function.prototype.constructor=c,o.Function=c,e.iniJsLib=function(){var t=__wxConfig||{};t.gameJson&&!0===t.gameJson.enableWebglPlus&&"function"==typeof e.enableWebglPlus&&e.enableWebglPlus(),!0===t.enableFrameProfile&&"function"==typeof e.initFrameProfile&&e.initFrameProfile()}}(o.__ttObjdec__)},function(e,t){__TT__GLOBAL__,__TT__GLOBAL__;!function(e){wx.postMessage=function(e){wx.getOpenDataContext().postMessage(e)},wx.setPreferredFramesPerSecond=function(t){return e.Triton.wx.setPreferredFramesPerSecond(t)},wx.createWorker=e.createWorker,wx.onWindowResize=function(){console.log("---adapter---wx.onWindowResize todo???")},wx.offWindowResize=function(){console.log("---adapter---wx.offWindowResize todo???")};var t={now:function(){return(new Date).getTime()}};wx.getPerformance=function(){return t},wx.triggerGC=function(){console.log("---adapter---wx.triggerGC"),forceGC()},wx.createFeedbackButton=function(t){return console.log("调用了空实现的接口, wx.createFeedbackButton"),new e.CustomButton(e.CustomButtonType.FEEDBACK,t)},wx.createGameClubButton=function(t){return console.log("调用了空实现的接口, wx.createGameClubButton"),new e.CustomButton(e.CustomButtonType.GAME_CLUB,t)}}(__TT__GLOBAL__.__ttObjdec__)},function(e,t,n){(function(e,t){var r=n(38),o=n(17),i=n(37),a=n(195),s=n(196),c=n(64),u=n(198);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}n(0).normalAPIMutations({downloadWithCache:{canIUse:{"1.16.0":{success:["tempFilePath","statusCode"],object:["url"]}},private:1,toNativeEventName:"downloadWithCache"}});var p=function(e){"use strict";a(n,e);var t=l(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(u(Uint8Array)),m=function(e){"use strict";a(n,e);var t=l(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(e.__ttObjdec__.Triton.Serializer),d=function(e){"use strict";a(n,e);var t=l(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(e.__ttObjdec__.Triton.Deserializer);m.prototype._getDataCloneError=Error,d.prototype.readRawBytes=function(e){var t=this._readRawBytes(e);return new p(this.buffer.buffer,this.buffer.byteOffset+t,e)};var h,_=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,DataView],v=new Map,y=(new ArrayBuffer,function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}(_.entries()));try{for(y.s();!(h=y.n()).done;){var g=o(h.value,2),b=g[0],I=g[1];v.set(I,b)}}catch(e){y.e(e)}finally{y.f()}var E=_.push(p)-1,A=function(e){"use strict";a(o,e);var n=l(o);function o(){var e;return i(this,o),(e=n.call(this))._setTreatArrayBufferViewsAsHostObjects(!0),e}return r(o,[{key:"_writeHostObject",value:function(e){var n=0;if(e.constructor===t)n=E;else{var r=e.constructor;if(void 0===(n=v.get(r)))throw new this._getDataCloneError("Unserializable host object")}this.writeUint32(n),this.writeUint32(e.byteLength),this.writeRawBytes(new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}}]),o}(m),O=function(e){"use strict";a(o,e);var n=l(o);function o(){return i(this,o),n.apply(this,arguments)}return r(o,[{key:"_readHostObject",value:function(){var e=this.readUint32(),n=_[e],r=this.readUint32(),o=this._readRawBytes(r),i=n.BYTES_PER_ELEMENT||1,a=this.buffer.byteOffset+o;if(a%i==0)return new n(this.buffer.buffer,a,r/i);var s=t.allocUnsafe(r);return this.copy(this.buffer,s,0,o,o+r),new n(s.buffer,s.byteOffset,r/i)}}]),o}(d),w=window.wx||{};w.v8=w.v8||{},w.v8.serialize=function(e){var t=new A;return t.writeHeader(),t.writeValue(e),t.releaseBuffer()},w.v8.deserialize=function(e){var t=new O(e);return t.readHeader(),t.readValue()},w.v8.cachedDataVersionTag=e.__ttObjdec__.Triton.cachedDataVersionTag}).call(this,n(5),n(191).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(192),o=n(193),i=n(194);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=p(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|m(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|m(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|m(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function h(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,n);case"utf8":case"utf-8":return S(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return w(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function _(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var l=!0,p=0;p<c;p++)if(u(e,i+p)!==u(t,p)){l=!1;break}if(l)return i}return-1}function g(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function I(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return I(e,t,n,r)}function A(e,t,n,r){return V(G(t),e,n,r)}function O(e,t,n,r){return V(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function w(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function S(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],f=null,l=u>239?4:u>223?3:u>191?2:1;if(o+l<=n)switch(l){case 1:u<128&&(f=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(f=c)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)_(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)_(this,t,t+3),_(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)_(this,t,t+7),_(this,t+1,t+6),_(this,t+2,t+5),_(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):h.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),f=e.slice(t,n),l=0;l<s;++l)if(u[l]!==f[l]){i=u[l],a=f[l];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return I(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function C(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function R(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function x(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function D(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,i){return i||D(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||D(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):x(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):x(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):x(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:U(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(5))},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),f=0,l=s>0?a-4:a;for(n=0;n<l;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[f++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(f(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,f=-7,l=n?o-1:0,p=n?-1:1,m=e[t+l];for(l+=p,i=m&(1<<-f)-1,m>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,r),i-=u}return(m?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,f=(1<<u)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:i-1,d=r?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(a++,c/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*c-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[n+m]=255&s,m+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+m]=255&a,m+=d,a/=256,u-=8);e[n+m-d]|=128*h}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(43);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(1),o=n(197);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var r=n(64),o=n(43),i=n(199),a=n(200);function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!i(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o(t,e)},s(t)}e.exports=s},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},function(e,t,n){var r=n(43),o=n(201);function i(t,n,a){return o()?e.exports=i=Reflect.construct:e.exports=i=function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&r(i,n.prototype),i},i.apply(null,arguments)}e.exports=i},function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},,,function(e,t,n){"use strict";n.r(t),n.d(t,"requestMidasPayment",(function(){return j})),n.d(t,"requestFriendPayment",(function(){return D}));var r=n(12),o=n.n(r),i=n(1),a=n.n(i),s=n(16),c=n.n(s),u=n(2);function f(e,t){return new Promise((function(n,r){t.success=n,t.fail=function(t){r({prarm:t,apiName:e})},u.invokeHandler(e,t)}))}function l(e,t,n){var r=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",o=m(n),i=m(t);if(i!==o)return"".concat(r," should be ").concat(o," instead of ").concat(i,";");var a="";switch(o){case"Object":Object.keys(n).forEach((function(o){a+=e(t[o],n[o],"".concat(r,".").concat(o))}));break;case"Array":if(t.length<n.length)return"".concat(r," should have at least ").concat(n.length," item;");for(var s=0;s<n.length;++s)a+=e(t[s],n[s],"".concat(r,"[").concat(s,"]"))}return a}(t,n);return""!==r&&d(e,t,{errMsg:"parameter error: ".concat(r),errCode:1e3},!1),!r}var p=Object.prototype.toString;function m(e){return p.call(e).slice(8,-1)}function d(e,t,n,r){n.errMsg||(n.errMsg="".concat(e,r?":ok":":fail")),void 0===n.errCode&&(n.errCode=r?0:-1),r?t.success&&t.success(n):t.fail&&t.fail(n),t.complete&&t.complete(n)}var h=n(3),_="requestMidasPayment";function v(e){return y.apply(this,arguments)}function y(){return(y=c()(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isIOS){e.next=2;break}return e.abrupt("return",d(_,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 2:if(t.offerId&&"string"==typeof t.offerId){e.next=4;break}return e.abrupt("return",d(_,t,{errCode:1e3,errMsg:"parameter error: offerId error"},!1));case 4:if(t.setEnv=t.env,"number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=8;break}return e.abrupt("return",d(_,t,{errCode:1e3,errMsg:"parameter error: env should be number `0` or `1`"},!1));case 8:return e.next=10,g(t);case 10:if(0==(n=e.sent).resultCode){e.next=13;break}return e.abrupt("return",d(_,t,{errCode:n.resultCode,midasCode:n.resultCode,errMsg:n.resultMsg},!1));case 13:d(_,t,{errCode:0},!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return f(_,{offerId:e.offerId,zoneId:e.zoneId,acctType:"common",saveValue:e.buyQuantity||e.saveValue,isCanChange:!1,currencyType:"CNY",platform:"android",remark:"",aid:"{appid}",numberVisible:!0,other:"",setEnv:e.env||e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})}))}var b=n(3);function I(e,t){return E.apply(this,arguments)}function E(){return(E=c()(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.isIOS){e.next=2;break}return e.abrupt("return",d(n,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 2:if("number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=5;break}return e.abrupt("return",d(n,t,{errCode:1e3,errMsg:"parameter error: env should be number `0` or `1`"},!1));case 5:if(!t.offerId||t.prepayId||t.starCurrency){e.next=11;break}return e.next=8,O(t);case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,A(t,n);case 13:r=e.sent;case 14:if(0==r.resultCode){e.next=16;break}return e.abrupt("return",d(n,t,{errCode:r.resultCode,midasCode:r.resultCode,errMsg:r.resultMsg},!1));case 16:d(n,t,{errCode:0},!0);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t){var n={prepayId:null==e?void 0:e.prepayId,setEnv:null==e?void 0:e.setEnv},r="requestMidasPaymentByH5";return"requestFriendPayment"===t?(n.title=e.title,n.imageUrl=e.imageUrl,r="requestFriendPayment"):(n.offerId="1450023163",n.starCurrency=null==e?void 0:e.starCurrency),f(r,n).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})}))}function O(e){return f("requestMidasCoinPaymentByH5",{offerId:e.offerId,zoneId:e.zoneId,acctType:"common",saveValue:e.buyQuantity||e.saveValue,isCanChange:!1,currencyType:"CNY",platform:"android",remark:"",aid:"{appid}",numberVisible:!0,other:"",setEnv:e.env||e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})}))}var w=n(7),S=n.n(w),N=n(3),T=1,C=2,R=3;function M(e){return 8===e?C:R}function P(){return new Promise((function(e){qq.getSystemInfo({success:function(t){e(function(e,t){var n,r,o,i;for(e=String(e).split("."),t=String(t).split("."),n=0,i=Math.max(e.length,t.length);n<i;n++){if(r=isFinite(e[n])&&Number(e[n])||0,o=isFinite(t[n])&&Number(t[n])||0,r<o)return-1;if(r>o)return 1}return 0}(t.version,"8.1.0")>=0)}})}))}function j(e){return x.apply(this,arguments)}function x(){return(x=c()(o.a.mark((function e(t){var n,r,i,a,s,c,u,f,p,m,h,_;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="requestMidasPayment",!N.isIOS){e.next=3;break}return e.abrupt("return",d(n,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 3:return e.next=5,L();case 5:if(0!=e.sent.resultCode){e.next=9;break}return I(t,n),e.abrupt("return");case 9:if(!t.offerId||t.prepayId||t.starCurrency){e.next=12;break}return v(t),e.abrupt("return");case 12:if(l(n,t,{prepayId:"",starCurrency:0})){e.next=14;break}return e.abrupt("return");case 14:if("number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=17;break}return e.abrupt("return",d(n,t,{errCode:1e3,errMsg:"parameter error: setEnv should be number `0` or `1`"},!1));case 17:if(!(t.starCurrency<=0)){e.next=19;break}return e.abrupt("return",d(n,t,{errCode:1e3,errMsg:"parameter error: starCurrency should bigger than 0"},!1));case 19:return r=T,e.next=22,B(t);case 22:if(0==(i=e.sent).resultCode){e.next=26;break}return a="query star currency fail. (code:".concat(i.resultCode,")"),e.abrupt("return",d(n,t,{errCode:-1,errMsg:a},!1));case 26:if(s=i.remainder,c=i.rechargeNum,!(Number(i.rechargeNum)>0)){e.next=47;break}if(!P()){e.next=39;break}return e.next=33,G({prepayId:t.prepayId,starCurrency:t.starCurrency,balanceAmount:s,topupAmount:c,setEnv:t.setEnv},i);case 33:if(0==(u=e.sent).resultCode){e.next=38;break}return f=u.resultMsg,p=u.resultCode,e.abrupt("return",d(n,t,{errCode:p,errMsg:f},!1));case 38:return e.abrupt("return",d(n,t,{errCode:0},!0));case 39:return e.next=41,F(t,i);case 41:if(0==(m=e.sent).resultCode){e.next=44;break}return e.abrupt("return",d(n,t,{errCode:-3,midasCode:m.resultCode,errMsg:m.resultMsg},!1));case 44:r=M(m.payChannel),e.next=52;break;case 47:return e.next=49,k(t);case 49:if(0===e.sent.errCode){e.next=52;break}return e.abrupt("return",d(n,t,{errCode:-2,errMsg:"user cancel pay"},!1));case 52:return e.next=54,U({prepayId:t.prepayId,starCurrency:t.starCurrency,payChannel:r,balanceAmount:s,topupAmount:c,setEnv:t.setEnv});case 54:if(0==(h=e.sent).resultCode){e.next=58;break}return _="consume fail. (code:".concat(h.resultCode,")"),e.abrupt("return",d(n,t,{errCode:-4,errMsg:_},!1));case 58:d(n,t,{errCode:0},!0);case 59:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){var t="requestFriendPayment";if(N.isIOS)return d(t,e,{errCode:-1,errMsg:"iOS not supported"},!1);l(t,e,{prepayId:""})&&(I(e,t),S.a._reportAPICall({apiname:"requestFriendPayment",param:"click",param2:void 0!==("undefined"==typeof __qqConfig?"undefined":a()(__qqConfig))&&__qqConfig.accountInfo?__qqConfig.accountInfo.appId:""}))}function L(){return f("checkH5PayStatus",{}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-1,resultMsg:e.prarm&&e.prarm.resultMsg})}))}function B(e){return f("queryStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency,setEnv:e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-1,resultMsg:e.prarm&&e.prarm.resultMsg})}))}function k(e){return f("showModal",{title:"提示",content:"需要消耗星币".concat(e.starCurrency)}).then((function(e){return e.confirm?Promise.resolve({errCode:0,errMsg:"ok"}):Promise.resolve({errCode:-2,errMsg:"user cancel pay"})}))}function F(e,t){return f("rechargeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!1,remark:"",aid:"{appid}-".concat(e.prepayId),numberVisible:!0,discountId:"",other:"",setEnv:e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})}))}function U(e){return f("consumeStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency,balanceAmount:e.balanceAmount,topupAmount:e.topupAmount,payChannel:e.payChannel,setEnv:e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-4,resultMsg:e.prarm&&e.prarm.resultMsg})}))}function G(e,t){return f("rechargeAndConsumeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!1,remark:"",aid:"{appid}-".concat(e.prepayId),numberVisible:!0,discountId:"",other:"",prepayId:e.prepayId,balanceAmount:e.balanceAmount,topupAmount:e.topupAmount,starCurrency:e.starCurrency,setEnv:e.setEnv}).catch((function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})}))}}]);