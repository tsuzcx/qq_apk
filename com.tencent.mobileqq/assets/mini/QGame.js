/*! /** 2020.3.31 10:28:6  * / */!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=73)}([function(e,t,r){function n(e){var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}e.exports=r(2),e.exports.parameterMustBe=function(e,t){return n(e)===t},e.exports.getTypeStr=n,e.exports.parameterMustString=function(e,t){if(t=t||"","string"!=typeof e)throw new Error(t+":fail parameter error: parameter should be String instead of "+n(e)+";");return e},e.exports.parameterMustNumber=function(e,t){if(t=t||"","Number"!=typeof e)throw new Error(t+":fail parameter error: parameter should be Number instead of "+n(e)+";");return e}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(t){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?e.exports=n=function(e){return r(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},n(t)}e.exports=n},function(e,t){function r(e,t){__canIUseConfig[e]=t}function n(e){return __bindAPIMap[e]}function o(e){return __normalAPIMap[e]}window.__normalAPIMap=window.__normalAPIMap||{},window.__bindAPIMap=window.__bindAPIMap||{},window.__canIUseConfig=window.__canIUseConfig||{},e.exports={normalAPIMutations:function(e){var t=[];"string"==typeof e?t=[e]:Array.isArray(e)?t=e:t.push(e),t.forEach(function(e){"string"==typeof e?__normalAPIMap[e]={toNativeEventName:e}:Object.keys(e).forEach(function(t){"string"==typeof e[t]?__normalAPIMap[t]={toNativeEventName:e[t]}:(__normalAPIMap[t]=e[t],e[t].canIUse&&r(t,e[t].canIUse))})})},bindAPIMutations:function(e){var t=[];Array.isArray(e)?t=e:t.push(e),t.forEach(function(e){e.bindAPIName&&(__bindAPIMap[e.bindAPIName]=e,e.canIUse&&(r(e.bindAPIName,e.canIUse),e.offAPIName&&(e.offAPICanIUse?r(e.offAPIName,e.offAPICanIUse):r(e.offAPIName,{"1.0.0":{}}))))})},getNormalAPIConfigs:function(){return Object.keys(__normalAPIMap).map(function(e){return{[e]:o(e)}})},getBindAPIConfigs:function(){return Object.keys(__bindAPIMap).map(function(e){return n(e)})},getNormalAPIConfigByName:o,getBindAPIConfigByName:n,getCanIUseConfig:function(){return __canIUseConfig},addCanIUseConfig:r,checkParam:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"parameter",o="",i=Object.prototype.toString.call(t).slice(8,-1),a=Object.prototype.toString.call(r).slice(8,-1);if(i!==a)return o="".concat(n," should be ").concat(a,", not ").concat(i,";");switch(a){case"Object":Object.keys(r).filter(function(e){return t.hasOwnProperty(e)}).forEach(function(i){o="".concat(o).concat(e(t[i],r[i],"".concat(n,".").concat(i)))});break;case"Array":for(var s=Math.min(t.length,r.length),u=0;u<s;++u)o="".concat(o).concat(e(t[u],r[u],"".concat(n,"[").concat(u,"]")))}return o}}},function(e,t){var r="undefined"!=typeof __wxConfig?__wxConfig.platform:"undefined";e.exports.isIOS="ios"===r,e.exports.isAndroid="android"===r,e.exports.isDevtool="devtools"===r},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(t){var n=r(1),o="undefined"!=typeof window&&window.WeixinJSBridge||r(6),i=r(11);function a(e,t,r,i){var a={};e.createObjectBefore&&e.createObjectBefore(i,t,r,a);var s=e.bindEventAPI,f=e.normalAPI,l=e.propertys;return a=Object.assign(function e(t,r,i){if(!t)return{};i=i||{},r=r||{};for(var a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)i[s]=void 0;else if("object"===n(s)){var u=s.name;if(u){var c=s.value;"function"==typeof c&&(c=c());var f=s.writable;void 0===f&&(f=!0),s.propertys&&(c={},e(s.propertys,r,c)),function(e,t){!1===t.writable?Object.defineProperty(e,t.name,{value:t.value,writable:!1}):(t.context=t.context||{},t.context.dataCache=t.context.dataCache||{},t.context.dataCache[t.name]=t.value,Object.defineProperty(e,t.name,{get:function(){if(t.getInvoke){var r=t.getInvoke(t.context.dataCache[t.name],t.context,e);if(r)return o.invokeHandler(r.eventName,r.params,{isInvoke:!0,invokeBefore:r.invokeBefore,invokeAfter:r.invokeAfter,context:t.context})}return t.get?t.get(t.context.dataCache[t.name],t.context,e):t.context.dataCache[t.name]},set:function(r){if(t.set?t.context.dataCache[t.name]=t.set(r,t.context,e):t.context.dataCache[t.name]=r,t.setInvoke){var n=t.setInvoke(t.context.dataCache[t.name],t.context,e);n&&o.invokeHandler(n.eventName,n.params,{isInvoke:!0,invokeBefore:n.invokeBefore,invokeAfter:n.invokeAfter,context:t.context})}}}))}(i,{name:u,value:c,writable:f,get:s.get,set:s.set,setInvoke:s.setInvoke,getInvoke:s.getInvoke,context:r})}}}return i}(l,i),u(f,i),c(s,i),a),e.createObjectAfter&&(a=e.createObjectAfter(i,t,r,a)||a),a}function s(e,r){var s=function(){var t=e.createObj;if(t&&t.singleton&&t._signletonObjCache)return t._signletonObjCache;var s,u=arguments,c={},f=e.context||{};if(f.__APIName__=r,"string"==typeof e?f.toNativeEventName=e:"object"===n(e)&&(f.toNativeEventName=e.eventName||e.toNativeEventName,s=e.paramHandlers),"function"==typeof s)try{c=s(u,f)}catch(e){if(console.error(e.message),i.isSyncConfigByWXName[r])throw e;return u[0]&&"object"==n(u[0])&&u[0].fail&&"function"==typeof u[0].fail&&u[0].fail({errMsg:e.message}),void(u[0]&&"object"==n(u[0])&&u[0].complete&&"function"==typeof u[0].complete&&u[0].complete({errMsg:e.message}))}else 1===u.length&&"object"===n(u[0])&&(c=u[0]);e.invokeType=e.invokeType||"invoke";var l,p={invokeBefore:e.invokeBefore,invokeAfter:e.invokeAfter,context:f},_=f.toNativeEventName;if("publish"===e.invokeType?(p.isPublish=!0,p.contextIDs=e.contextIDs):"invoke"===e.invokeType&&(p.isInvoke=!0),f.tempParams&&(f.tempParams.toNativeEventName&&(_=f.tempParams.toNativeEventName),f.tempParams.invokeObj&&Object.assign(p,f.tempParams.invokeObj),delete f.tempParams),l=e.noNativeAPI&&"function"==typeof e.handler?e.handler.apply(f,u):o.invokeHandler(_,c,p),e.subscribeEventListener&&e.subscribeEventListener.subscribeEventName){var d=e.subscribeEventListener;o.addEventListener(d.subscribeEventName,function e(t){d.callback&&d.callback(u,t,f)&&o.removeEventListener(d.subscribeEventName,e,f)},d.contextIDs,{triggerEventBefore:d.triggerEventBefore,context:f,paramHandlers:d.paramHandlers})}if(t){var h=a(t,c,l,f);return t.singleton&&(t._signletonObjCache=h),h}return l};if(1!=e.private)return s;t.__ttObjdec__.privateApi&&(t.__ttObjdec__.privateApi[r]=s)}function u(e,t){var r={},o=e;if(o)for(var i=0;i<o.length;i++){var a=o[i];if("string"==typeof a)r[a]=s(a,a);else if("object"===n(a))for(var u in a)"string"==typeof a[u]?r[u]=s(a[u],u):"object"===n(a[u])&&(r[u]=s(Object.assign({},{context:t},a[u]),u))}return r}function c(e,t){var r={},n=e;if(n){t=t||{};for(var i=0;i<n.length;i++){var a=n[i];a.bindAPIName&&a.toNativeEventName&&function(e){var n=e.triggerEventBefore,i=e.paramHandlers;r[e.bindAPIName]=function(){o.addEventListener(e.toNativeEventName,arguments[0],e.contextIDs,{triggerEventBefore:n,context:t,paramHandlers:i})},e.staticCallback&&o.addStaticEventListener(e.toNativeEventName,e.staticCallback,t),e.offAPIName&&(r[e.offAPIName]=function(){o.removeEventListener(e.toNativeEventName,arguments[0],t)})}(a)}}return r}e.exports={normalAPIFactory:u,bindEventAPIFactory:c}}).call(this,r(4))},function(e,t,r){(function(t){var n,o=r(1),i=r(9).WeixinNativeBuffer,a=r(11),s=1,u={},c={},f={},l=void 0;function p(){return n?n(s++):s++}function _(e,t){if(!t||0===t.length)return!0;if(1===t.length&&0===t[0])return!0;if(!e||0===e.length)return!1;for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(e[r]===t[n])return!0;return!1}function d(e,t){e&&(""===e.errMsg||!e.errMsg||e.errMsg.indexOf(":ok")>-1)&&(e.errMsg=t+":ok")}function h(e,t,r){if(e){r=r||{};var n=t;if("object"===o(t))try{var s=i.pack(t);null==s&&(s={}),t=JSON.stringify(s)}catch(e){console.error("函数打包序列化异常：",e)}if("undefined"!=typeof WeixinJSCore||"undefined"!=typeof QQJSCore||"undefined"!=typeof webkit){if(r.isInvoke||!r.isInvoke&&!r.isPublish){var c=Date.now(),f=p();if(function(e,t,n){u[f]=function(o){if(r.context&&!a.isSyncConfigByWXName[r.context.__APIName__])try{"string"==typeof o&&d(o=i.unpack(JSON.parse(o)),e)}catch(e){console.error("异步回调解包异常：",e)}else try{d(o=JSON.parse(o),e)}catch(e){}if(r.invokeAfter&&(o=r.invokeAfter(o,t,!1,r.context)),o)if("function"==typeof n)n(o);else{var s;!o.errMsg||""===o.errMsg||o.errMsg&&o.errMsg.indexOf(":ok")>-1?(t&&t.success&&t.success(o),s="ok"):o.errMsg&&o.errMsg.indexOf(":cancel")>-1?(t&&t.cancel&&t.cancel(o),s="cancel"):(t&&t.fail&&t.fail(o),s="fail"),t&&t.complete&&t.complete(o);var u=Date.now();if("api_report"===e)return;h("api_report",{api:e,ret:s,errMsg:o.errMsg,callStartTime:c,callEndTime:u,type:"game"})}}}(e,n,r.callback),r.invokeBefore&&(m=r.invokeBefore(e,t,f,r.context)))return m;if((l.QQJSCore||l.WeixinJSCore||{}).invokeHandler?m=(l.QQJSCore||l.WeixinJSCore).invokeHandler(e,t,f):"undefined"!=typeof webkit&&webkit.messageHandlers&&webkit.messageHandlers.publishHandler&&webkit.messageHandlers.publishHandler.postMessage&&(m=webkit.messageHandlers.invokeHandler.postMessage({eventName:e,param:t,_callbackId:f})),r.context&&a.isSyncConfigByWXName[r.context.__APIName__])try{"string"==typeof m&&d(m=i.unpack(JSON.parse(m)),e)}catch(e){console.error("同步接口返回解包异常：",e)}else if("string"==typeof m)try{d(m=JSON.parse(m),e)}catch(e){}return r.invokeAfter&&(m=r.invokeAfter(m,n,!0,r.context)),m}if(r.isPublish){f=p();if(r.invokeBefore&&(m=r.invokeBefore(e,t,f,r.context)))return m;var _="";r.contextIDs&&Array.isArray(r.contextIDs)&&(_="["+r.contextIDs.join(",")+"]");var m=(l.QQJSCore||l.WeixinJSCore).publishHandler(e,t,_);try{"string"==typeof m&&(m=JSON.parse(m))}catch(e){console.log("接口返回反序列化异常：",e)}return r.invokeAfter&&(m=r.invokeAfter(m,n,!0,r.context)),m}}}}function m(e){c[e]=[]}function y(e,t,r){var n=e._params;r&&r.callback(n.context||r.context||{},t,e.callback),n&&n.triggerEventBefore&&n.triggerEventBefore(n.context||{},t,e.callback)||(n&&n.paramHandlers&&(t=n.paramHandlers(t,n.context)),e.callback&&e.callback(t))}void 0!==t&&t.window?l=t.window:"undefined"!=typeof __TT__GLOBAL__&&__TT__GLOBAL__.window&&(l=__TT__GLOBAL__.window),e.exports={invokeHandler:h,publishHandler:function(e,t,r){h(e,t,{contextIDs:r,isPublish:!0})},invokeCallbackHandler:function(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var r=i.unpack(t);"function"==typeof u[e]&&(u[e](r),delete u[e])},addEventListener:function(e,t,r,n){Array.isArray(c[e])?c[e].push({callback:t,contextIDs:r,_params:n}):c[e]=[{callback:t,contextIDs:r,_params:n}]},removeEventListener:function(e,t,r){if(Array.isArray(c[e]))for(var n=c[e],o=n.length-1;o>-1;o--)t?n[o].callback===t&&n.splice(o,1):r?r&&n[o]._params&&n[o]._params.context&&n[o]._params.context===r&&n.splice(o,1):m(e)},removeAllEventListener:m,subscribeHandler:function(e,t,r){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var n=i.unpack(t);if(Array.isArray(c[e])&&c[e].length>0)for(var o=0;o<c[e].length;o++)"number"==typeof r?r=[r]:"string"==typeof r&&(r=[+r]),Array.isArray(r)?_(c[e][o].contextIDs,r)&&y(c[e][o],n,f[e]):y(c[e][o],n,f[e]);else f[e]&&f[e].callback(f[e].context,n,void 0)},addGetCallbackIdHook:function(e){"function"==typeof e&&(n=e)},addStaticEventListener:function(e,t,r){e&&t&&(f[e]={callback:t,context:r})}}}).call(this,r(4))},,,function(e,t){var r="undefined"!=typeof __TT__GLOBAL__?__TT__GLOBAL__:"undefined"!=typeof window?window:self,n=function(e){var t=e.WeixinNativeBuffer,r=e.getNativeBufferId,n=e.setNativeBuffer,o=(e.getNativeBuffer,e.__wxConfig||{}),i=!1,a=e.WeixinNativeBuffer,s=(e.getNativeBufferId,e.setNativeBuffer,e.getNativeBuffer);e.__wxConfig;i="android"===o.platform||"ios"===o.platform&&null!=t&&o.nativeBufferEnabled;var u=function(e){var o={};return i?o.id=function(e){var o=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof r&&"function"==typeof n&&(i=r(),n(i,e)),e.__proto__=o,i}(e):o.base64=p(e),o},c=function(e){if(e)if(i&&null!=e.id){if(i)return a.get(e.id);if("function"==typeof s)return s(e.id)}else if(e.base64)return _(e.base64)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=l||function(e){for(var t,r,n=String(e),o="",i=0,a=f;n.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(r=n.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|r}return o},p=function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,o=0;o<n;o++)t+=String.fromCharCode(r[o]);return l(t)},_=function(e){for(var t=function(e){var t=String(e).replace(/=+$/,""),r="";if(t.length%4==1)throw new Error('"atob" failed');for(var n,o,i=0,a=0;o=t.charAt(a++);~o&&(n=i%4?64*n+o:o,i++%4)?r+=String.fromCharCode(255&n>>(-2*i&6)):0)o=f.indexOf(o);return r}(e),r=t.length,n=new Uint8Array(r),o=0;o<r;o++)n[o]=t.charCodeAt(o);return n.buffer},d=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:u,get:c,useCompatibleMode:function(e){t&&t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var r in e){var n=e[r];void 0!==n&&"ArrayBuffer"===d(n)&&void 0!==n.byteLength&&((i=u(n)).key=r,t.push(i))}if(0<t.length){for(var o=0;o<t.length;o++){var i;delete e[(i=t[o]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var r=0;r<t.length;r++){var n=t[r];if(null!=n){var o=c(n);void 0!==o&&"ArrayBuffer"===d(o)&&(e[n.key]=o)}}return e}}}(r);r.WeixinNativeBuffer=n,n=null,e.exports={WeixinNativeBuffer:r.WeixinNativeBuffer}},function(e,t,r){r(0);var n=r(5).normalAPIFactory([{_reportDataToDC:{toNativeEventName:"reportDataToDC"}}]);n._reportDataToDC04239=function(e){var t={tableName:"dc04239"};t.args=e,n._reportDataToDC(t)},n._reportDataToDC04682=function(e){var t={tableName:"dc04682"};t.args=e,n._reportDataToDC(t)},n._reportAPICallToDC04239=function(e){e&&n._reportDataToDC04239({actiontype:"inner-app",sub_actiontype:"from_api",reserves_action:e})},n._reportAPICall=function(e,t){var r=(t||{}).rate||1;Math.random()>r||(e.timestamp=Date.now(),e.actiontype="api-call",e.sub_actiontype=e.apiname,e.reserves_action=e.param,e.reserve2=e.param2,e.reserve3="game",delete e.apiname,delete e.param,delete e.param2,n._reportDataToDC04239(e))},e.exports=n},function(e,t){e.exports={isSyncConfigByWXName:{getSystemInfoSync:!0,getLaunchOptionsSync:!0,setStorageSync:!0,removeStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,clearStorageSync:!0,accessSync:!0,appendFileSync:!0,copyFileSync:!0,mkdirSync:!0,readdirSync:!0,readFileSync:!0,renameSync:!0,rmdirSync:!0,saveFileSync:!0,statSync:!0,unlinkSync:!0,writeFileSync:!0,getAccountInfoSync:!0,getBatteryInfoSync:!0,getExtConfigSync:!0,bindUDPSocket:!0},isSyncConfig:{getBatteryInfoSync:!0,getSystemInfoSync:!0,getLaunchOptionsSync:!0,toTempFilePathSync:!0,accessSync:!0,fs_copyFileSync:!0,fs_appendFileSync:!0,mkdirSync:!0,readdirSync:!0,readFileSync:!0,fs_renameSync:!0,rmdirSync:!0,saveFileSync:!0,statSync:!0,unlinkSync:!0,writeFileSync:!0,setStorageSync:!0,getStorageSync:!0,getStorageInfoSync:!0,removeStorageSync:!0,createDownloadTask:!0,createRequestTask:!0,createAudioInstance:!0,getMenuButtonBoundingClientRect:!0,createLoadSubPackageTask:!0,getAudioState:!0,createUploadTask:!0,bindUDPSocket:!0},ex:{getBatteryInfo:!0},touch:{touchstart:"TouchStart",touchmove:"TouchMove",touchcancel:"TouchCancel",touchend:"TouchEnd"},touchList:["touchstart","touchmove","touchcancel","touchend"],canvasLimit:["height","width","offsetHeight","offsetWidth","offsetLeft","offsetTop"]}},function(e,t,r){e.exports=r(149)},,,function(e,t,r){(function(t){var n=r(3),o=console.error,i={},a=!1,s=void 0!==t&&t.__ttObjdec__||{},u=!1;function c(e,t){if(!i[e]){if(n.isDevtool)return o("can't find module : "+e),a=!1,!1;a=t;try{var r=s.util.loadJS(e,s.__tt__shouldPrintAll__exception?1:0)}catch(t){return a=!1,o("文件"+e+"加载异常(可能是es6的问题)\n",t),!1}return a=!1,0===r||(r<2e5?o("文件"+e+"加载失败(获取路径失败，错误码为"+r+")"):r<3e5?o("文件"+e+"加载失败(获取路径成功，加载js文件失败，错误码为"+r+")"):r<4e5&&o("文件"+e+"加载失败(js库参数错误，错误码为"+r+")"),!1)}return!0}function f(e,t){if(c(e,t)){var r=i[e];if(1===r.status){var n=r.factory,a={exports:{}},s=void 0;try{n&&(s=n(l(e),a,a.exports))}catch(t){return o("文件"+e+"执行出现异常\n",t),void(r.status=3)}r.exports=a.exports||s,r.status=2}return r.exports}}function l(e,t){var r,n=(r=e.match(/(.*)\/([^\/]+)?$/))&&r[1]?r[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var r=[],o=(n+"/"+e).split("/"),i=0,a=o.length;i<a;++i){var s=o[i];if(""!=s&&"."!=s)if(".."==s){if(0==r.length)throw new Error("can't find module : "+e);r.pop()}else i+1<a&&".."==o[i+1]?i++:r.push(s)}try{var u=r.join("/");return/\.js$/.test(u)||(u+=".js"),f(u,t)}catch(e){throw e}}}var p=l("",!0);e.exports={define:function(e,t){if(!i[e]||i[e].__coverEnable__){var r={exports:{},factory:t,status:1};r.__coverEnable__=a,i[e]=r}},require:p,allModules:i,getPreload:function(e){var t,r=(t=e.match(/(.*)\/([^\/]+)?$/))&&t[1]?t[1]:"./";return function(e){if("string"!=typeof e)throw new Error("require args must be a string");for(var t=[],n=(r+"/"+e).split("/"),o=0,i=n.length;o<i;++o){var a=n[o];if(""!=a&&"."!=a)if(".."==a){if(0==t.length)throw new Error("can't find module : "+e);t.pop()}else o+1<i&&".."==n[o+1]?o++:t.push(a)}try{var s=t.join("/");/\.js$/.test(s)||(s+=".js"),c(s)}catch(e){throw e}}},getRequire:l,requirePlugin:function(e){if("string"!=typeof e)throw new Error("requirePlugin args must be a string.");if(!__wxConfig||!__wxConfig.plugins)throw new Error("This application has not registered any plugins yet.");var t=e.match(/([^\/]*)\/?(.*)/);if(!t||t.length<2)throw new Error('Plugin "'+e+'" has not registered.');var r=t[1],o=t[2],i=__wxConfig.plugins[r];if(!i)throw new Error('Plugin "'+e+'" has not registered.');"dev"!==i.version&&n.isIOS&&r.length>0&&function(e){if(!u){if(void 0===l("qqNative/plugin",!0)(e+"/plugin.js"))throw new Error('Plugin "'+e+'" inject fail.');console.log('Plugin "'+e+'" inject success.'),u=!0}}(r);var a="__plugin__/".concat(i.provider);o?a+="/".concat(o):/\.js$/.test(a)||(a+=".js"),f(a)}}}).call(this,r(4))},function(e,t){function r(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise(function(o,i){var a=e.apply(t,n);function s(e){r(a,o,i,s,u,"next",e)}function u(e){r(a,o,i,s,u,"throw",e)}s(void 0)})}}},,,function(e,t){var r=0;function n(e){return"number"==typeof e}t.wrap=function(e){var t=new Object;return t.__objID=e,t.id=e,t},t.unwrap=function(e){return null==e?r:n(e)?e:null==e.__objID?(console.log("JS ERROR: unwrap jsObj failed because of undefine ID"),r):e.__objID},t.isNumber=n,t.isNumberOrBool=function(e){return"number"==typeof e||"boolean"==typeof e},t.getBufferData=function(e){return(n(e)||"string"==typeof e)&&(e=Number(e)),e instanceof Array&&1==e.length&&(e=Number(e[0])),e},t.getFloat32Array=function(e){return new Float32Array(e)},t.getInt32Array=function(e){return new Int32Array(e)}},function(e,t){var r={GL_COMMAND_ACTIVE_TEXTURE:0,GL_COMMAND_ATTACH_SHADER:1,GL_COMMAND_BIND_ATTRIB_LOCATION:2,GL_COMMAND_BIND_BUFFER:3,GL_COMMAND_BIND_FRAME_BUFFER:4,GL_COMMAND_BIND_RENDER_BUFFER:5,GL_COMMAND_BIND_TEXTURE:6,GL_COMMAND_BLEND_COLOR:7,GL_COMMAND_BLEND_EQUATION:8,GL_COMMAND_BLEND_EQUATION_SEPARATE:9,GL_COMMAND_BLEND_FUNC:10,GL_COMMAND_BLEND_FUNC_SEPARATE:11,GL_COMMAND_BUFFER_DATA:12,GL_COMMAND_BUFFER_SUB_DATA:13,GL_COMMAND_CHECK_FRAME_BUFFER_STATUS:14,GL_COMMAND_CLEAR:15,GL_COMMAND_CLEAR_COLOR:16,GL_COMMAND_CLEAR_DEPTH:17,GL_COMMAND_CLEAR_STENCIL:18,GL_COMMAND_COLOR_MASK:19,GL_COMMAND_COMMIT:20,GL_COMMAND_COMPILE_SHADER:21,GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:22,GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:23,GL_COMMAND_COPY_TEX_IMAGE_2D:24,GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:25,GL_COMMAND_CREATE_BUFFER:26,GL_COMMAND_CREATE_FRAME_BUFFER:27,GL_COMMAND_CREATE_PROGRAM:28,GL_COMMAND_CREATE_RENDER_BUFFER:29,GL_COMMAND_CREATE_SHADER:30,GL_COMMAND_CREATE_TEXTURE:31,GL_COMMAND_CULL_FACE:32,GL_COMMAND_DELETE_BUFFER:33,GL_COMMAND_DELETE_FRAME_BUFFER:34,GL_COMMAND_DELETE_PROGRAM:35,GL_COMMAND_DELETE_RENDER_BUFFER:36,GL_COMMAND_DELETE_SHADER:37,GL_COMMAND_DELETE_TEXTURE:38,GL_COMMAND_DEPTH_FUNC:39,GL_COMMAND_DEPTH_MASK:40,GL_COMMAND_DEPTH_RANGE:41,GL_COMMAND_DETACH_SHADER:42,GL_COMMAND_DISABLE:43,GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:44,GL_COMMAND_DRAW_ARRAYS:45,GL_COMMAND_DRAW_ELEMENTS:46,GL_COMMAND_ENABLE:47,GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:48,GL_COMMAND_FINISH:49,GL_COMMAND_FLUSH:50,GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:51,GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:52,GL_COMMAND_FRONT_FACE:53,GL_COMMAND_GENERATE_MIPMAP:54,GL_COMMAND_GET_EXTENSION:55,GL_COMMAND_GET_CONTEXT_ATTRIBUTES:56,GL_COMMAND_GET_SUPPORTED_EXTENSIONS:57,GL_COMMAND_GET_ACTIVE_ATTRIB:58,GL_COMMAND_GET_ACTIVE_UNIFORM:59,GL_COMMAND_GET_ATTACHED_SHADERS:60,GL_COMMAND_GET_ATTRIB_LOCATION:61,GL_COMMAND_GET_BUFFER_PARAMETER:62,GL_COMMAND_GET_ERROR:63,GL_COMMAND_GET_FRAME_BUFFER_ATTACHMENT_PARAMETER:64,GL_COMMAND_GET_PARAMETER:65,GL_COMMAND_GET_PROGRAM_INFO_LOG:66,GL_COMMAND_GET_PROGRAM_PARAMENTER:67,GL_COMMAND_GET_RENDER_BUFFER_PARAMETER:68,GL_COMMAND_GET_SHADER_INFO_LOG:69,GL_COMMAND_GET_SHADER_PARAMETER:70,GL_COMMAND_GET_SHADER_PRECISION_FORMAT:71,GL_COMMAND_GET_SHADER_SOURCE:72,GL_COMMAND_GET_TEX_PARAMETER:73,GL_COMMAND_GET_UNIFORM:74,GL_COMMAND_GET_UNIFORM_LOCATION:75,GL_COMMAND_GET_VERTEX_ATTRIB:76,GL_COMMAND_GET_VERTEX_ATTRIB_OFFSET:77,GL_COMMAND_READPIXELS:78,GL_COMMAND_HINT:79,GL_COMMAND_IS_BUFFER:80,GL_COMMAND_IS_ENABLED:81,GL_COMMAND_IS_FRAME_BUFFER:82,GL_COMMAND_IS_PROGRAM:83,GL_COMMAND_IS_RENDER_BUFFER:84,GL_COMMAND_IS_SHADER:85,GL_COMMAND_IS_TEXTURE:86,GL_COMMAND_IS_VERTEX_ARRAY:87,GL_COMMAND_LINE_WIDTH:88,GL_COMMAND_LINK_PROGRAM:89,GL_COMMAND_PIXEL_STOREI:90,GL_COMMAND_POLYGON_OFFSET:91,GL_COMMAND_RENDER_BUFFER_STORAGE:92,GL_COMMAND_SAMPLE_COVERAGE:93,GL_COMMAND_SCISSOR:94,GL_COMMAND_SHADER_SOURCE:95,GL_COMMAND_STENCIL_FUNC:96,GL_COMMAND_STENCIL_FUNC_SEPARATE:97,GL_COMMAND_STENCIL_MASK:98,GL_COMMAND_STENCIL_MASK_SEPARATE:99,GL_COMMAND_STENCIL_OP:100,GL_COMMAND_STENCIL_OP_SEPARATE:101,GL_COMMAND_TEX_IMAGE_2D:102,GL_COMMAND_TEX_PARAMETER_F:103,GL_COMMAND_TEX_PARAMETER_I:104,GL_COMMAND_TEX_SUB_IMAGE_2D:105,GL_COMMAND_UNIFORM_1F:106,GL_COMMAND_UNIFORM_1FV:107,GL_COMMAND_UNIFORM_1I:108,GL_COMMAND_UNIFORM_1IV:109,GL_COMMAND_UNIFORM_2F:110,GL_COMMAND_UNIFORM_2FV:111,GL_COMMAND_UNIFORM_2I:112,GL_COMMAND_UNIFORM_2IV:113,GL_COMMAND_UNIFORM_3F:114,GL_COMMAND_UNIFORM_3FV:115,GL_COMMAND_UNIFORM_3I:116,GL_COMMAND_UNIFORM_3IV:117,GL_COMMAND_UNIFORM_4F:118,GL_COMMAND_UNIFORM_4FV:119,GL_COMMAND_UNIFORM_4I:120,GL_COMMAND_UNIFORM_4IV:121,GL_COMMAND_UNIFORM_MATRIX_2FV:122,GL_COMMAND_UNIFORM_MATRIX_3FV:123,GL_COMMAND_UNIFORM_MATRIX_4FV:124,GL_COMMAND_USE_PROGRAM:125,GL_COMMAND_VALIDATE_PROGRAM:126,GL_COMMAND_VERTEX_ATTRIB_1F:127,GL_COMMAND_VERTEX_ATTRIB_1FV:128,GL_COMMAND_VERTEX_ATTRIB_2F:129,GL_COMMAND_VERTEX_ATTRIB_2FV:130,GL_COMMAND_VERTEX_ATTRIB_3F:131,GL_COMMAND_VERTEX_ATTRIB_3FV:132,GL_COMMAND_VERTEX_ATTRIB_4F:133,GL_COMMAND_VERTEX_ATTRIB_4FV:134,GL_COMMAND_VERTEX_ATTRIB_POINTER:135,GL_COMMAND_VIEW_PORT:136,GL_COMMAND_CREATE_VERTEX_ARRAY:200,GL_COMMAND_BIND_VERTEX_ARRAY:201,GL_COMMAND_DELETE_VERTEX_ARRAY:202,GL_COMMAND_DRAW_ARRAYS_INSTANCE:203,GL_COMMAND_DRAW_ELEMENTS_INSTANCE:204,GL_COMMAND_VERTEX_ATTRIB_DIVISOR:205,GL_COMMAND_BIND_VERTEX_ARRAY_OES:300,GL_COMMAND_CREATE_VERTEX_ARRAY_OES:301,GL_COMMAND_DELETE_VERTEX_ARRAY_OES:302,GL_COMMAND_IS_VERTEX_ARRAY_OES:303};t.WebGLCmdConstant=r,t.attachWebGLCmdConstant=function(e){for(var t in r)"function"!=typeof r[t]&&null!==r[t]&&(e[t]=r[t])},t.CmdParamType={GMD_PARAM_TYPE_QUEUE_H:1,GMD_PARAM_TYPE_COMMAND_H:2,GMD_PARAM_TYPE_ARGS:3},t.FlushType={FLUSH_TYPE_END_FRAME:1,FLUSH_TYPE_OVER_BUFFER:2,FLUSH_TYPE_SYNC:3,FLUSH_TYPE_CALLER_CHANGE:4}},,,,function(e,t,r){r(2).normalAPIMutations({loadSubpackage:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"createLoadSubPackageTask",paramHandlers:function(e,t){var r=(e[0]||{}).name||"";if("undefined"!=typeof __wxConfig&&__wxConfig.subpackages&&__wxConfig.subpackages.length>0)for(var n=0;n<__wxConfig.subpackages.length;n++)if(__wxConfig.subpackages[n].name===r){var o=__wxConfig.subpackages[n].root;o.startsWith("/")||(o="/"+o),o.endsWith(".js")||o.endsWith("/")||(o+="/"),e[0].moduleName=o,delete e[0].name}return e[0]},invokeAfter:function(e,t,r,n){if(e&&e.errMsg.indexOf("ok")>-1)return e;t&&t.fail&&t.fail(),t&&t.complete&&t.complete()},subscribeEventListener:{subscribeEventName:"onLoadSubPackageTaskStateChange",callback:function(e,t,r){t&&+t.taskId==+r.loadTaskId&&("success"===t.state&&(e[0]&&e[0].success&&e[0].success(),e[0]&&e[0].complete&&e[0].complete()),"fail"===t.state&&(e[0]&&e[0].fail&&e[0].fail(),e[0]&&e[0].complete&&e[0].complete()))}},createObj:{createObjectBefore:function(e,t,r,n){e.loadTaskId=(r||{}).loadTaskId,null==e.loadTaskId&&console.error("createLoadSubPackageTask loadTaskId = undefined !!!")},bindEventAPI:[{bindAPIName:"onProgressUpdate",toNativeEventName:"onLoadSubPackageTaskStateChange",triggerEventBefore:function(e,t,r){return!t||+t.taskId!=+e.loadTaskId||"progressUpdate"!==t.state}}]}}})},,function(e,t,r){var n=r(0),o=r(5),i=r(9).WeixinNativeBuffer,a=(r(6),function(e,t,r){return r.state!=e||t.audioId!=r.audioId});function s(e){this._audioId=e,this._value=1,this._channelId=-1}function u(){this.bufferId=-1,this.sourceId=-1}n.normalAPIMutations({createInnerAudioContext:{canIUse:{"1.0.0":{}},toNativeEventName:"createAudioInstance",subscribeEventListener:{subscribeEventName:"onAudioStateChange",callback:function(e,t,r){}},createObj:{createObjectBefore:function(e,t,r,n){r&&r.audioId?e.audioId=parseInt(r.audioId):e.audioId=parseInt(r)},normalAPI:[{play:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"play",audioId:t.audioId}}}},{pause:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"pause",audioId:t.audioId}}}},{stop:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"stop",audioId:t.audioId}}}},{seek:{toNativeEventName:"operateAudio",paramHandlers:function(e,t){return{operationType:"seek",audioId:t.audioId,currentTime:1e3*Math.max(e[0]||0)}}}},{destroy:{toNativeEventName:"destroyAudioInstance",paramHandlers:function(e,t){return{audioId:t.audioId}}}}],bindEventAPI:[{bindAPIName:"onCanplay",offAPIName:"offCanplay",triggerEventBefore:function(e,t){return a("canplay",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onEnded",offAPIName:"offEnded",triggerEventBefore:function(e,t){return a("ended",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onError",offAPIName:"offError",triggerEventBefore:function(e,t){return a("error",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onPause",offAPIName:"offPause",triggerEventBefore:function(e,t){return a("pause",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onPlay",offAPIName:"offPlay",triggerEventBefore:function(e,t){return a("play",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onSeeked",offAPIName:"offSeeked",triggerEventBefore:function(e,t){return a("seeked",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onSeeking",offAPIName:"offSeeking",triggerEventBefore:function(e,t){return a("seeking",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onStop",offAPIName:"offStop",triggerEventBefore:function(e,t){return a("stop",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onTimeUpdate",offAPIName:"offTimeUpdate",triggerEventBefore:function(e,t){return a("timeUpdate",e,t)},toNativeEventName:"onAudioStateChange"},{bindAPIName:"onWaiting",offAPIName:"offWaiting",triggerEventBefore:function(e,t){return a("waiting",e,t)},toNativeEventName:"onAudioStateChange"}],propertys:[{name:"src",value:"",set:function(e,t,r){return t.srcIsChange=!1,e!==t.dataCache.src&&(t.srcIsChange=!0),e},setInvoke:function(e,t){if(t.srcIsChange)return{eventName:"setAudioState",params:{audioId:t.audioId,src:e}}}},{name:"autoplay",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,autoplay:Boolean(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,r,n,o){return n?e instanceof Object?e.autoplay:t.__autoplay:(t.__autoplay=e.autoplay,e.autoplay)}}}},{name:"startTime",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,startTime:1e3*e}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,t,r,n){return e.startTime/1e3}}}},{name:"loop",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,loop:Boolean(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,r,n,o){return n?e instanceof Object?e.loop:t.__loop:(t.__loop=e.loop,e.loop)}}}},{name:"paused",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,r,n,o){return n?e instanceof Object?e.paused:t.__paused:(t.__paused=e.paused,e.paused)}}}},{name:"volume",setInvoke:function(e,t){return{eventName:"setAudioState",params:{audioId:t.audioId,volume:Number(e)}}},getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeAfter:function(e,r,n,o){return n?e instanceof Object?e.volume:t.__volume:(t.__volume=e.volume,e.volume)}}}},{name:"duration",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){return e.duration/1e3}}}},{name:"currentTime",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){return e.currentTime/1e3}}}},{name:"buffered",getInvoke:function(e,t){return{eventName:"getAudioState",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){return e.buffered/1e3}}}}]}}}),wx.createWebAudioContext=function(){return c.createWebAudioContext()},s.prototype={get value(){return this._value},set value(e){return this._value=e,c.setWebAudioCurrentGain(this._audioId,this._channelId,e)}},u.prototype.getChannelData=function(e){return c.getChannelData(this.bufferId,e,this.sourceId)},u.prototype.copyToChannel=function(e,t,r){var n=c.copyToChannel(this.bufferId,this.sourceId,e,t,r);this.bufferId=n};var c=o.normalAPIFactory([{start:{toNativeEventName:"sourceStart",paramHandlers:function(e,t){return{audioId:e&&e[0]&&e[0].audioId,channelId:e&&e[0]&&e[0].channelId,when:e&&e[1],offset:e&&e[2],duration:e&&e[3]}}},stop:{toNativeEventName:"sourceStop",paramHandlers:function(e,t){return{audioId:e&&e[0]&&e[0].audioId,channelId:e&&e[0]&&e[0].channelId,when:e&&e[1]}}},connect:{toNativeEventName:"webAudioConnectAudioNode",paramHandlers:function(e,t){var r=e&&e[0],n=e&&e[1];if(r){2==r.audioNodeType&&(r.channelId=r.sourceId);var o=n;for(r.next=o;o;)o.channelId=r.channelId,o&&3==o.audioNodeType&&(o.gain._channelId=r.channelId),o=o.next}return{channelId:r&&r.channelId,audioId:r&&r.audioId,audioNodeType:n&&n.audioNodeType,oriAudioNodeType:r&&r.audioNodeType}}},getChannelData:{toNativeEventName:"getWebAudioBufferChannelData",paramHandlers:function(e,t){return{bufferId:e&&e[0],channelId:e&&e[1],sourceId:e&&e[2]}},invokeAfter:function(e,t,r,n){return e.__nativeBuffers__&&(e=i.unpack(e)),function(e){var t,r=new Uint8Array(e),n=r.length,o=new Float32Array(r.length);for(t=0;t<n;t++)o[t]=(r[t]-128)/128;return o}(e.data)}},copyToChannel:{toNativeEventName:"audioBufferCopyToChannel",paramHandlers:function(e,t){var r=function(e){var t,r=e.length,n=new Uint8Array(e.length);for(t=0;t<r;t++)n[t]=Math.floor(128*e[t]+128);return n}(e&&e[2]);return{bufferId:e&&e[0],sourceId:e&&e[1],data:r&&r.buffer,channelId:e&&e[3],startInChannel:e&&e[4]}},invokeAfter:function(e,t,r,n){return e.bufferId}},setWebAudioCurrentGain:{toNativeEventName:"setWebAudioCurrentGain",paramHandlers:function(e,t){return{audioId:e&&e[0],channelId:e&&e[1],data:e&&e[2]}}},createBufferSource:{toNativeEventName:"createWebAudioBufferSource",paramHandlers:function(e,t){return t.audioId=e&&e[0],{audioId:e&&e[0]}},createObj:{createObjectAfter:function(e,t,r,n){return n.audioId=e.audioId,n.audioNodeType=2,n.numberOfInputs=0,n.numberOfOutputs=1,n.sourceId=r&&r.channelId,n.channelId=r&&r.channelId,n.connect=function(e){return c.connect(n,e)},n.start=function(e,t,r){return c.start(n,e,t,r)},n.stop=function(e){return c.stop(n,e&&e[0])},n.disconnect=function(e){n.channelId=-1,void 0!==e&&(e.channelId=-1,e.gain&&(e.gain._channelId=-1))},e.sourceId=r&&r.channelId,n},bindEventAPI:[{bindAPIName:"onended",offAPIName:"offended",toNativeEventName:"onWebAudioSourceEnded",triggerEventBefore:function(e,t,r){return(t&&t.audioId)!=(e&&e.audioId)||(!((t&&t.channelId)==(e&&e.sourceId))||void 0)}}],propertys:[{name:"buffer",setInvoke:function(e,t,r){return{eventName:"setWebAudioSourceBuffer",params:{bufferId:e.bufferId,channelId:r.channelId,decodeId:e.decodeId}}}},{name:"loop",setInvoke:function(e,t,r){return{eventName:"setWebAudioBufferSourceLoop",params:{loop:e,channelId:r.channelId,audioId:t.audioId},invokeBefore:function(t,r,n,o){if(!e)return!0},invokeAfter:function(e,t,r,n){}}}}]}},createWebAudioContext:{canIUse:{"1.0.0":{}},toNativeEventName:"createWebAudioContext",createObj:{createObjectBefore:function(e,t,r,n){r&&r.audioId?e.audioId=parseInt(r.audioId):e.audioId=parseInt(r),n.createBufferSource=function(){return c.createBufferSource(e.audioId)}},createObjectAfter:function(e,t,r,n){e.webaudiocontext=1,e.promiseCallBackMap=new Map,e.onendedCallBackList=new Map},normalAPI:[{createGain:{toNativeEventName:"createWebAudioGain",createObj:{createObjectAfter:function(e,t,r,n){n.audioNodeType=3,n.audioId=e.audioId,n.connect=function(e){return c.connect(n,e)},n.disconnect=function(e){n.channelId=-1,e&&(e.channelId=-1),n.gain&&(n.gain._channelId=-1)},n.gain=new s(n.audioId)}}},suspend:{toNativeEventName:"operateWebAudioContext",paramHandlers:function(e,t){return{operationType:"suspend",audioId:t.audioId}}},resume:{toNativeEventName:"operateWebAudioContext",paramHandlers:function(e,t){return{operationType:"resume",audioId:t.audioId}}},decodeAudioData:{toNativeEventName:"decodeWebAudioData",paramHandlers:function(e,t){return{audioId:t.audioId,data:e[0]}},invokeAfter:function(e,t,r,n){if(t&&t[1]&&t[1]instanceof Function)return e;if(t&&void 0===t[1]){e&&e.decodeId;return function(e,t){return new f(function(r,n){t.promiseCallBackMap.set(e.decodeId,function(e){"ok"==e.status?r(e):n(e)})})}(e,n)}return e},subscribeEventListener:{subscribeEventName:"onDecodeWebAudioDataDone",callback:function(e,t,r){r=r||{};var n=new u;if(n.decodeId=t&&t.decodeId,n.status=t&&t.status,e&&e[1]&&e[1]instanceof Function)e[1](n);else if(e&&void 0===e[1]){var o=t&&t.decodeId,i=r.promiseCallBackMap.get(o);i&&(i(n),r.promiseCallBackMap.delete(o))}}}},createBuffer:{toNativeEventName:"createWebAudioContextBuffer",paramHandlers:function(e,t){return{audioId:t.audioId,numOfChannels:e&&e[0],length:e&&e[1],sampleRate:e&&e[2]}},createObj:{createObjectAfter:function(e,t,r,n){return e.AudioBufferContext=1,(n=new u).bufferId=r&&r.bufferId,e.bufferId=r&&r.bufferId,n.numOfChannels=t&&t.numOfChannels,n.length=t&&t.length,n.sampleRate=t&&t.sampleRate,n.duration=n.length/n.sampleRate,n}}},createPanner:{toNativeEventName:"createWebAudioPanner",paramHandlers:function(e,t){return{audioId:t.audioId}},createObj:{createObjectBefore:function(e,t,r,n){},createObjectAfter:function(e,t,r,n){n.numberOfInputs=0,n.numberOfOutputs=1},normalAPI:[{setPosition:{toNativeEventName:"pannerSetPosition",paramHandlers:function(e,t){return{x:e&&e[0],y:e&&e[1],z:e&&e[2]}}},setOrientation:{toNativeEventName:"pannerSetOrientation",paramHandlers:function(e,t){return{x:e&&e[0],y:e&&e[1],z:e&&e[2]}}},setVelocity:{toNativeEventName:"pannerSetVelocity",paramHandlers:function(e,t){return e[0].channelId=t.channelId,{x:e&&e[0],y:e&&e[1],z:e&&e[2]}}}}],propertys:[{name:"coneInnerAngle",setInvoke:function(e,t,r){return{eventName:"operateWebAudioPannerNode",params:{action:"setConeInnerAngle",channelId:t.channelId,data:e},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){}}},getInvoke:function(e,t,r){return{eventName:"operateWebAudioPannerNode",params:{action:"getConeInnerAngle",channelId:t.channelId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){if(r)return e}}}},{name:"coneOuterAngle",setInvoke:function(e,t,r){return{eventName:"setWebAudioBufferconeOuterAngle",params:{loop:e,channelId:t.channelId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){}}}},{name:"coneOuterGain",setInvoke:function(e,t,r){return{eventName:"setWebAudioBufferSourceLoop",params:{loop:e,channelId:t.channelId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){}}}}]}},createScriptProcessor:{toNativeEventName:"createWebAudioScriptProcessor",paramHandlers:function(e,t){return{bufferSize:e&&e[0],inputChannelNum:e&&e[1],outputChannelNum:e&&e[2],audioId:t.audioId}},createObj:{createObjectAfter:function(e,t,r,n){n.audioNodeType=5,n.audioId=e.audioId,n.connect=function(e){return c.connect(n,e)},n.disconnect=function(e){n.channelId=-1,e&&(e.channelId=-1,e.gain&&(e.gain._channelId=-1))}},bindEventAPI:[{bindAPIName:"onaudioprocess",offAPIName:"offaudioprocess",triggerEventBefore:function(e,t,r){var n={},o=new u,i=new u;return o.bufferId=t.bufferId,o.sourceId=-2,i.bufferId=t.bufferId,i.sourceId=-2,n.inputBuffer=o,n.outputBuffer=i,n.playbackTime=t.playbackTime,r(n),!0},toNativeEventName:"onWebAudioScriptProcessorAudioProcess"}]}},setQueueBuffer:{toNativeEventName:"audioProcessingEventSetQueueBuffer",paramHandlers:function(e,t){return{bufferId:e[0]&&e[0].bufferId,channelId:e[0]&&e[0].channelId}}},close:{toNativeEventName:"closeWebAudioContext",paramHandlers:function(e,t){return{audioId:t.audioId}}}}],propertys:[{name:"currentTime",getInvoke:function(e,t,r){return{eventName:"getWebAudioCurrentTime",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){},invokeAfter:function(e,t,r,n){if(r)return e}}}},{name:"destination",getInvoke:function(e,t,r){return{eventName:"getWebAudioDestination",createObj:{createObjectAfter:function(e,t,n,o){return o.audioNodeType=4,o.maxChannelCount=2,o.audioId=r.audioId,o}}}}},{name:"listener",getInvoke:function(e,t){return{eventName:"getWebAudioListener",params:{audioId:t.audioId},invokeAfter:function(e,t,r,n){return e.startTime/1e3}}}},{name:"sampleRate",getInvoke:function(e,t){return{eventName:"getWebAudioSampleRate",params:{audioId:t.audioId},invokeBefore:function(e,t,r,n){return 44100}}}},{name:"state",getInvoke:function(e,t){return{eventName:"getWebAudioState",params:{audioId:t.audioId}}}}]}}}]),f=Promise},function(e,t,r){var n=r(1),o=r(0),i=r(28),a=r(3),s=r(10),u=void 0;o.normalAPIMutations({getSystemInfo:{canIUse:{"1.0.0":{success:["brand","model","pixelRatio","screenWidth","screenHeight","windowWidth","windowHeight","statusBarHeight","language","version","system","platform","fontSizeSetting","SDKVersion","benchmarkLevel"]}},toNativeEventName:"getSystemInfo",paramHandlers:function(e,t){return t.originParams=e[0],e[0]},invokeBefore:function(e,t,r,n){var o=n.originParams;return u?(u.errMsg&&(u.errMsg="getSystemInfo:ok"),setTimeout(function(){o&&o.success&&o.success(u),o&&o.complete&&o.complete(u)},0),!0):void 0},invokeAfter:function(e,t,r,n){return r?null:(e.devicePixelRatio=e.pixelRatio,e.benchmarkLevel=e.benchmarkLevel||1,e.SDKVersion=i.version,i.build?e.SDKBuild=i.build:e.SDKBuild="99999",u=e,e)}}}),o.normalAPIMutations({getSystemInfoSync:{canIUse:{"1.0.0":{return:["brand","model","pixelRatio","screenWidth","screenHeight","windowWidth","windowHeight","statusBarHeight","language","version","system","platform","fontSizeSetting","SDKVersion","benchmarkLevel"]}},toNativeEventName:"getSystemInfoSync",invokeBefore:function(e,t,r,n){return u?(u.errMsg&&(u.errMsg="getSystemInfoSync:ok"),u):void 0},invokeAfter:function(e,t,r,n){return r?(e.devicePixelRatio=e.pixelRatio,e.benchmarkLevel=e.benchmarkLevel||1,e.SDKVersion=i.version,i.build?e.SDKBuild=i.build:e.SDKBuild="99999",u=e,e):null}}}),o.normalAPIMutations({getLaunchOptionsSync:{canIUse:{"1.0.0":{}},toNativeEventName:"getLaunchOptionsSync",invokeAfter:function(e,t,r,o){if(r){if("string"==typeof e.query)if(""==e.query)e.query=new Object;else try{e.query=JSON.parse(e.query)}catch(e){console.warn("getLaunchOptionsSync 解析query出现异常",e)}return"object"===n(e.extendData)&&null!=e.extendData.ad_scene_2019&&(e.scene=e.extendData.ad_scene_2019),e}}}}),o.normalAPIMutations({exitMiniProgram:{toNativeEventName:"exitMiniProgram"}}),o.normalAPIMutations({hideHomeButton:{canIUse:{"1.14.0":{}},toNativeEventName:"hideHomeButton"}}),o.normalAPIMutations({recordOffLineResourceState:{toNativeEventName:"recordOffLineResourceState"}}),o.normalAPIMutations({reportAnalytics:{toNativeEventName:"reportRealtimeAction",paramHandlers:function(e,t){var r="{}",n={business:"mmbizwxaanalytics",eventID:e[0],data:e[1]||{},uid:Date.now().toString(16)+Math.random().toString(16).substr(2),type:1};try{r=JSON.stringify(n)}catch(e){console.error("reportAnalytics error: JSON.stringify(value) fail")}return{actionData:r}}}}),(a.isIOS||a.isDevtool)&&o.normalAPIMutations({reportMonitor:{toNativeEventName:"reportRealtimeAction",paramHandlers:function(e,t){"number"!=typeof e[1]&&console.error("reportMonitor: 'value' argument must be a Number.");var r="{}",n={business:"mmbizwxamonitor",name:e[0],value:e[1],timeStamp:Date.now()};try{r=JSON.stringify(n)}catch(e){}return{actionData:r}}}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["scene","query","shareTicket","referrerInfo"]}},bindAPIName:"onShow",offAPIName:"offShow",toNativeEventName:"onAppEnterForeground",triggerEventBefore:function(e,t,r){if(""==t.query)return t.query=new Object,!1;if("object"===n(t.query))return!1;try{t.query=JSON.parse(t.query)}catch(e){console.warn("onShow 解析query出现异常",e)}return!1}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onHide",offAPIName:"offHide",toNativeEventName:"onAppEnterBackground"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["message","stack"]}},bindAPIName:"onError",offAPIName:"offError",toNativeEventName:"onError"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},private:1,bindAPIName:"onTTJSFinish",toNativeEventName:"onTTJSFinish"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAudioInterruptionEnd",offAPIName:"offAudioInterruptionEnd",toNativeEventName:"onAudioInterruptionEnd"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAudioInterruptionBegin",offAPIName:"offAudioInterruptionBegin",toNativeEventName:"onAudioInterruptionBegin"}),a.isAndroid&&(o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onPause",offAPIName:"offPause",toNativeEventName:"onPause"}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onAppStop",offAPIName:"offAppStop",toNativeEventName:"onAppStop"})),o.normalAPIMutations({saveAppToDesktop:{canIUse:{"1.7.1":{}},toNativeEventName:"saveAppToDesktop",paramHandlers:function(e,t){return s._reportAPICall({apiname:"saveAppToDesktop"}),t.originParams=e[0],e[0]},invokeBefore:function(){return!!a.isDevtool&&(console.warn("开发者工具 不支持saveAppToDesktop接口，请到手机调试"),!0)},invokeAfter:function(e,t,r,n){return e}}}),o.normalAPIMutations({getEnvVersion:{noNativeAPI:!0,handler:function(){return(__qqConfig||__wxConfig||{}).envVersion}}}),o.normalAPIMutations({showMiniAIOEntrance:{canIUse:{"1.11.0":{}},toNativeEventName:"showMiniAIOEntrance",paramHandlers:function(e,t){var r,n=e[0]||{},o=n.x,i=n.y;return o&&"number"!=typeof o&&(r="参数 x 类型不正确"),i&&"number"!=typeof i&&(r="参数 y 类型不正确"),r?(n.fail&&n.fail({errMsg:"showMiniAIOEntrance:fail ".concat(r)}),{isFail:!0}):n}},invokeAfter:function(e,t,r,n){}}),o.normalAPIMutations({hideMiniAIOEntrance:{toNativeEventName:"hideMiniAIOEntrance"},invokeAfter:function(e,t,r,n){}})},function(e,t,r){e.exports=r(29)},function(e,t,r){e.exports&&(e.exports={updateTime:"2020.3.31 10:26:4",version:"1.14.0",build:"00225"})},function(module,exports,__webpack_require__){var _typeof=__webpack_require__(1);function __cons(t,a){return eval("new t("+a.map(function(e,t){return"a["+t+"]"}).join(",")+")")}Object.getPrototypeOf||(Object.getPrototypeOf=function(e){if(e!==Object(e))throw TypeError("Object.getPrototypeOf called on non-object");return e.__proto__||e.constructor.prototype||Object.prototype}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),"function"!=typeof Object.create&&(Object.create=function(e,t){if("object"!==_typeof(e))throw TypeError();function r(){}r.prototype=e;var n=new r;if(e&&(n.constructor=r),void 0!==t){if(t!==Object(t))throw TypeError();Object.defineProperties(n,t)}return n}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var e=Object.defineProperty;Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t}}}(),"function"!=typeof Object.defineProperties&&(Object.defineProperties=function(e,t){if(e!==Object(e))throw TypeError("Object.defineProperties called on non-object");var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.defineProperty(e,r,t[r]);return e}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw TypeError("Bind must be called on a function");var t=Array.prototype.slice.call(arguments,1),r=this,n=function(){},o=function(){return r.apply(this instanceof n?this:e,t.concat(Array.prototype.slice.call(arguments)))};return this.prototype&&(n.prototype=this.prototype),o.prototype=new n,o}),Array.isArray=Array.isArray||function(e){return Boolean(e&&"[object Array]"===Object.prototype.toString.call(Object(e)))},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),isNaN(n)?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=r)return-1;for(var o=n>=0?n:Math.max(r-Math.abs(n),0);o<r;o++)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if(0===r)return-1;var n=r;arguments.length>1&&((n=Number(arguments[1]))!=n?n=0:0!==n&&n!==1/0&&n!==-1/0&&(n=(n>0||-1)*Math.floor(Math.abs(n))));for(var o=n>=0?Math.min(n,r-1):r-Math.abs(n);o>=0;o--)if(o in t&&t[o]===e)return o;return-1}),Array.prototype.every||(Array.prototype.every=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)if(n in t&&!e.call(o,t[n],n,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)if(n in t&&e.call(o,t[n],n,t))return!0;return!1}),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=arguments[1];for(n=0;n<r;n++)n in t&&e.call(o,t[n],n,t)}),Array.prototype.map||(Array.prototype.map=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n=[];n.length=r;var o,i=arguments[1];for(o=0;o<r;o++)o in t&&(n[o]=e.call(i,t[o],o,t));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();var n,o=[],i=arguments[1];for(n=0;n<r;n++)if(n in t){var a=t[n];e.call(i,a,n,t)&&o.push(a)}return o}),Array.prototype.reduce||(Array.prototype.reduce=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,o=0;if(arguments.length>=2)n=arguments[1];else for(;;){if(o in t){n=t[o++];break}if(++o>=r)throw TypeError()}for(;o<r;)o in t&&(n=e.call(void 0,n,t[o],o,t)),o++;return n}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){if(null==this)throw TypeError();var t=Object(this),r=t.length>>>0;if("function"!=typeof e)throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var n,o=r-1;if(arguments.length>=2)n=arguments[1];else for(;;){if(o in this){n=this[o--];break}if(--o<0)throw TypeError()}for(;o>=0;)o in t&&(n=e.call(void 0,n,t[o],o,t)),o--;return n}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s+/,"").replace(/\s+$/,"")}),Date.now||(Date.now=function(){return Number(new Date)}),Date.prototype.toISOString||(Date.prototype.toISOString=function(){function e(e){return("00"+e).slice(-2)}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"}),function(e){"use strict";var t=!1,r=void 0;function n(t){return t===e?r:t}function o(e,t){for(var r=Object.getOwnPropertyDescriptor(e,t),n=Object.getPrototypeOf(e);!r&&n;)r=Object.getOwnPropertyDescriptor(n,t),n=Object.getPrototypeOf(n);return r}var i,a;i=e.Promise,a=e.setImmediate;function s(r,n,o,i){var a;n in r&&!i&&!t||("function"==typeof o?(console.assert("symbol"===_typeof(a=n)||"Symbol"in e&&a instanceof e.Symbol||!("name"in o)||o.name===n||o.name===n+"_",'Expected function name "'+n.toString()+'", was "'+o.name+'"'),Object.defineProperty(r,n,{value:o,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(r,n,{value:o,configurable:!1,enumerable:!1,writable:!1}))}function u(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!1,enumerable:!1,writable:!0})}var c=e.isNaN,f=e.parseInt,l=e.parseFloat,p=Math.E,_=Math.LOG10E,d=Math.LOG2E,h=Math.abs,m=Math.ceil,y=Math.exp,v=Math.floor,g=Math.log,b=Math.max,E=Math.min,A=Math.pow,O=Math.random,I=Math.sqrt,T=String.prototype.match,S=String.prototype.replace,N=String.prototype.search,w=String.prototype.split;function C(){var e=te(null);function t(t){var r="function"==typeof t.valueOf&&t.valueOf(e);return r===t?null:r}return{clear:function(){e=te(null)},remove:function(e){var r=t(e);return!(!r||!Y(r,"value"))&&(delete r.value,!0)},get:function(e,r){var n=t(e);return n&&Y(n,"value")?n.value:r},has:function(e){var r=t(e);return Boolean(r&&Y(r,"value"))},set:function(r,n){(t(r)||function(t){var r=t.valueOf,n=te(null);return Object.defineProperty(t,"valueOf",{value:function(e){return function(o){return o===e?n:r.apply(t,arguments)}}(e),configurable:!0,writeable:!0,enumerable:!1}),n}(r)).value=n}}}var R,M=Object.create(null);!function(){var o=Object.create(null),i={};R=function(e){return i[e]};var a=[];function c(e){if(!(this instanceof c))return new c(e,o);if(this instanceof c&&arguments[1]!==o)throw TypeError();var t=e===r?r:String(e);return u(this,"[[SymbolData]]",Array(128+1).join("x").replace(/x/g,function(){return O()<.5?"‌":"‍"})),u(this,"[[Description]]",t),i[this]=this,this}"Symbol"in e&&!t||(e.Symbol=c),s(c,"for",function(e){for(var t=String(e),r=0;r<a.length;++r){var n=a[r];if(X(n["[[key]]"],t))return n["[[symbol]]"]}var o=c(e);return a.push({"[[key]]":t,"[[symbol]]":o}),o}),s(e.Symbol,"iterator",e.Symbol("Symbol.iterator")),s(c,"keyFor",function(e){if(!(e instanceof c))throw TypeError();for(var t=0;t<a.length;++t){var n=a[t];if(X(n["[[symbol]]"],e))return n["[[key]]"]}return r}),s(e.Symbol,"match",e.Symbol("Symbol.match")),s(e.Symbol,"replace",e.Symbol("Symbol.replace")),s(e.Symbol,"search",e.Symbol("Symbol.search")),s(e.Symbol,"split",e.Symbol("Symbol.split")),s(e.Symbol,"toStringTag",e.Symbol("Symbol.toStringTag")),Object.defineProperty(c.prototype,"toString",{value:function(){var e=n(this),t=e["[[Description]]"];return"Symbol("+(t===r?"":t)+e["[[SymbolData]]"]+")"},configurable:!0,writeable:!0,enumerable:!1}),Object.defineProperty(c.prototype,"valueOf",{value:function(){throw TypeError()},configurable:!0,writeable:!0,enumerable:!1})}(),console.assert("symbol"===_typeof(e.Symbol())||R(String(e.Symbol("x")))!==r);var P={};function j(t){switch(_typeof(t)){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";default:return null===t?"null":t instanceof e.Symbol?"symbol":"object"}}var D=e.Symbol.iterator,x=e.Symbol.match,L=e.Symbol.replace,B=e.Symbol.search,k=e.Symbol.split,F=e.Symbol.toStringTag;function U(e){return e=Number(e),c(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*v(h(e))}function G(e){return e>>>0}function V(e){if(null===e||e===r)throw TypeError();return Object(e)}function H(e){var t=U(e);return t<=0?0:t===1/0?9007199254740991:E(t,9007199254740991)}function q(e){return"function"==typeof e}function W(e){return!!/Constructor/.test(Object.prototype.toString.call(e))||(!!/Function/.test(Object.prototype.toString.call(e))||"function"==typeof e)}function X(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||(0===e&&0===t?1/e==1/t:e===t);case"boolean":case"string":case"object":default:return e===t}}function $(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||e===t;case"boolean":case"string":case"object":default:return e===t}}function z(e,t){var n=function(e,t){return V(e)[t]}(e,t);if(n===r||null===n)return r;if(!q(n))throw TypeError();return n}function J(e,t){for(;e;){if(Object.prototype.hasOwnProperty.call(e,t))return!0;if("object"!==j(e))return!1;var r=Object.getPrototypeOf(e);if(r===e)return!1;e=r}return!1}function Y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function K(e,t){arguments.length<2&&(t=z(e,D));var r=t.call(e);if("object"!==j(r))throw TypeError();return r}function Q(e){return console.assert("object"===j(e)),e.value}function Z(e,t){var r=function(e,t){if(arguments.length<2)var r=e.next();else r=e.next(t);if("object"!==j(r))throw TypeError();return r}(e,t),n=r.done;return!0!==Boolean(n)&&r}function ee(e,t){console.assert("boolean"===j(t));var r={};return r.value=e,r.done=t,r}function te(e,t){return Object.create(e,t)}s(Object,"assign",function(e,t){var n=V(e);if(arguments.length<2)return n;for(var o,i=1;i<arguments.length;){var a=arguments[i++];if(a===r||null===a)var s=[];else{var u=V(a);o=u,s=Object.getOwnPropertyNames(o)}for(var c=0;c<s.length;++c){var f=s[c],l=Object.getOwnPropertyDescriptor(u,f);if(l!==r&&l.enumerable){var p=u[f];n[f]=p}}}return n}),function(){var t="symbol"===_typeof(e.Symbol()),r=Object.getOwnPropertyNames,n=Object.keys,o="object"===("undefined"==typeof window?"undefined":_typeof(window))?r(window):[];function i(e){return!R(e)}s(Object,"getOwnPropertyNames",function(e){if("[object Window]"===Object.prototype.toString.call(e))try{return r(e).filter(i)}catch(e){return o.slice()}return r(e).filter(i)},!t),s(Object,"getOwnPropertySymbols",function(e){return r(e).filter(R).map(R)},!t),s(Object,"keys",function(e){return n(e).filter(i)},!t)}(),s(Object,"is",function(e,t){return X(e,t)}),s(Object,"setPrototypeOf",function(e,t){if("object"!==j(e))throw TypeError();if("object"!==j(t)&&"null"!==j(t))throw TypeError();return e.__proto__=t,e});var re=Object.prototype.toString;s(Object.prototype,"toString",function(){var e=n(this);return e===Object(e)&&F in e?"[object "+e[F]+"]":re.apply(e,arguments)}),s(e.Symbol.prototype,e.Symbol.toStringTag,"Symbol"),s(Number,"EPSILON",function(){var e,t;for(e=1;1+e!==1;e/=2)t=e;return t}()),s(Number,"isFinite",function(e){return"number"===j(e)&&(e==e&&e!==1/0&&e!==-1/0)}),s(Number,"isInteger",function(e){return"number"===j(e)&&(e==e&&e!==1/0&&e!==-1/0&&U(e)===e)}),s(Number,"isNaN",function(e){return"number"===j(e)&&e!=e}),s(Number,"isSafeInteger",function(e){if("number"!==j(e))return!1;if(e!=e||e===1/0||e===-1/0)return!1;var t=U(e);return t===e&&h(t)<=9007199254740991}),s(Number,"MAX_SAFE_INTEGER",9007199254740991),s(Number,"MIN_SAFE_INTEGER",-9007199254740991),s(Number,"parseFloat",l),s(Number,"parseInt",f),s(Math,F,"Math"),s(Math,"acosh",function(e){return e=Number(e),g(e+I(e*e-1))}),s(Math,"asinh",function(e){if(X(e=Number(e),-0))return e;var t=I(e*e+1);return g(t===-e?0:e+t)}),s(Math,"atanh",function(e){return 0===(e=Number(e))?e:g((1+e)/(1-e))/2}),s(Math,"cbrt",function(e){if(e=Number(e),c(e/e))return e;var t=A(h(e),1/3),r=e/t/t;return t+t*(r-t)/(2*t+r)}),s(Math,"clz32",function(e){function t(e){return 240&e?128&e?0:64&e?1:32&e?2:3:8&e?4:4&e?5:2&e?6:1&e?7:8}return 4278190080&(e=G(e))?t(e>>24):16711680&e?t(e>>16)+8:65280&e?t(e>>8)+16:t(e)+24}),s(Math,"cosh",function(e){return e=Number(e),(A(p,e)+A(p,-e))/2}),s(Math,"expm1",function(e){return X(e=Number(e),-0)?-0:h(e)<1e-5?e+.5*e*e:y(e)-1}),s(Math,"fround",function(e){return c(e)?NaN:1/e==1/0||1/e==-1/0||e===1/0||e===-1/0?e:new Float32Array([e])[0]}),s(Math,"hypot",function(){for(var e=[],t=0,r=!1,n=0;n<arguments.length;++n){var o=h(Number(arguments[n]));if(o===1/0)return o;o!=o&&(r=!0),o>t&&(t=o),e[n]=o}if(r)return NaN;if(0===t)return 0;var i=0;for(n=0;n<e.length;++n){var a=e[n]/t;i+=a*a}return t*I(i)}),s(Math,"imul",function(e,t){var r=G(e),n=G(t),o=65535&r,i=65535&n;return o*i+((r>>>16&65535)*i+o*(n>>>16&65535)<<16>>>0)|0},"imul"in Math&&0===Math.imul(1,2147483648)),s(Math,"log1p",function(e){return(e=Number(e))<-1?NaN:X(e,-0)?-0:h(e)>1e-4?g(1+e):(-.5*e+1)*e}),s(Math,"log10",function(e){return e=Number(e),g(e)*_}),s(Math,"log2",function(e){return e=Number(e),g(e)*d}),s(Math,"sign",function(e){return(e=Number(e))<0?-1:e>0?1:e}),s(Math,"sinh",function(e){return X(e=Number(e),-0)?e:(A(p,e)-A(p,-e))/2}),s(Math,"tanh",function(e){e=Number(e);var t=A(p,2*e)-1,r=A(p,2*e)+1;return X(e,-0)?e:t===r?1:t/r}),s(Math,"trunc",function(e){return e=Number(e),c(e)?NaN:e<0?m(e):v(e)});var ne,oe,ie=(ne={},oe=Symbol(),ne[Symbol.match]=function(){return oe},"".match(ne)===oe);function ae(){}s(String,"fromCodePoint",function(){for(var e=arguments,t=e.length,r=[],n=0;n<t;){var o=e[n],i=Number(o);if(!X(i,U(i))||i<0||i>1114111)throw RangeError("Invalid code point "+i);i<65536?r.push(String.fromCharCode(i)):(i-=65536,r.push(String.fromCharCode(55296+(i>>10))),r.push(String.fromCharCode(i%1024+56320))),n+=1}return r.join("")}),s(String,"raw",function(e){var t=[].slice.call(arguments,1),r=Object(e).raw,n=Object(r),o=H(n.length);if(o<=0)return"";for(var i=[],a=0;;){var s=n[a],u=String(s);if(i.push(u),a+1===o)return i.join("");s=t[a];var c=String(s);i.push(c),a+=1}}),s(String.prototype,"codePointAt",function(e){var t=n(this),o=String(t),i=U(e),a=o.length;if(i<0||i>=a)return r;var s=o.charCodeAt(i);if(s<55296||s>56319||i+1===a)return s;var u=o.charCodeAt(i+1);return u<56320||u>57343?s:1024*(s-55296)+(u-56320)+65536}),s(String.prototype,"endsWith",function(e){var t=arguments[1],o=n(this),i=String(o),a=String(e),s=i.length,u=t===r?s:U(t),c=E(b(u,0),s),f=a.length,l=c-f;return!(l<0)&&i.substring(l,l+f)===a}),s(String.prototype,"includes",function(e){var t=arguments[1],r=n(this),o=String(r),i=String(e),a=U(t),s=o.length,u=E(b(a,0),s);return-1!==o.indexOf(i,u)}),s(String.prototype,"match",function(e){var t=n(this),r=String(t);if(J(e,x))var o=e;else o=new RegExp(e);return o[x](r)},!ie),s(String.prototype,"repeat",function(e){var t=n(this),r=String(t),o=U(e);if(o<0)throw RangeError();if(o===1/0)throw RangeError();return new Array(o+1).join(r)}),s(String.prototype,"replace",function(e,t){var r=n(this);return J(e,L)?e[L](r,t):S.call(r,e,t)},!ie),s(String.prototype,"search",function(e){var t=n(this),r=String(t);if(J(e,B))var o=e;else o=new RegExp(e);return o[B](r)},!ie),s(String.prototype,"split",function(e,t){var r=n(this);return J(e,k)?e[k](r,t):w.call(r,e,t)},!ie),s(String.prototype,"startsWith",function(e){var t=arguments[1],r=n(this),o=String(r),i=String(e),a=U(t),s=o.length,u=E(b(a,0),s),c=i.length;return!(c+u>s)&&o.substring(u,u+c)===i}),s(String.prototype,D,function(){return e="value",t=String(this),u(r=new ae,"[[IteratedString]]",t),u(r,"[[StringIteratorNextIndex]]",0),u(r,"[[StringIterationKind]]",e),r;var e,t,r});var se=Object.create(P);ae.prototype=se,s(se,"next",function(){var e=V(this),t=String(e["[[IteratedString]]"]),n=e["[[StringIteratorNextIndex]]"];if(n>=t.length)return u(e,"[[StringIteratorNextIndex]]",1/0),ee(r,!0);var o=t.codePointAt(n);return u(e,"[[StringIteratorNextIndex]]",n+(o>65535?2:1)),ee(String.fromCodePoint(o),!1)}),s(se,F,"String Iterator"),"flags"in RegExp.prototype||Object.defineProperty(RegExp.prototype,"flags",{get:function(){var e=String(this);return e.substring(e.lastIndexOf("/")+1)}}),s(RegExp.prototype,x,function(e){var t=n(this);return T.call(e,t)}),s(RegExp.prototype,L,function(e,t){var r=n(this);return S.call(e,r,t)}),s(RegExp.prototype,B,function(e){var t=n(this);return N.call(e,t)}),s(RegExp.prototype,k,function(e,t){var r=n(this);return w.call(e,r,t)}),s(Array,"from",function(e){var t=arguments[1],o=arguments[2],i=n(this);if(t===r)var a=!1;else{if(!q(t))throw TypeError();var s=o;a=!0}var u=z(e,D);if(u!==r){if(W(i))var c=new i;else c=new Array(0);for(var f=K(e,u),l=0;;){var p=Z(f);if(!1===p)return c.length=l,c;var _=Q(p);if(a)var d=t.call(s,_);else d=_;c[l]=d,l+=1}}var h=V(e),m=H(h.length);for(c=W(i)?new i(m):new Array(m),l=0;l<m;){var y=h[l];d=a?t.call(s,y,l):y,c[l]=d,l+=1}return c.length=m,c}),s(Array,"of",function(){var e,t=arguments,r=G(t.length),o=n(this);e=W(o)?V(e=new o(r)):new Array(r);for(var i=0;i<r;)e[i]=t[i],i+=1;return e.length=r,e}),s(Array.prototype,"copyWithin",function(e,t){var n=arguments[2],o=V(this),i=H(o.length);i=b(i,0);var a,s=U(e);a=s<0?b(i+s,0):E(s,i);var u,c,f,l=U(t);u=l<0?b(i+l,0):E(l,i),f=(c=n===r?i:U(n))<0?b(i+c,0):E(c,i);var p,_=E(f-u,i-a);for(u<a&&a<u+_?(p=-1,u=u+_-1,a=a+_-1):p=1;_>0;){var d=String(u),h=String(a);if(J(o,d)){var m=o[d];o[h]=m}else delete o[h];u+=p,a+=p,_-=1}return o});var ue="entries"in Array.prototype&&"next"in[].entries();function ce(){}function fe(e,t){var r=V(e),n=new ce;return u(n,"[[IteratedObject]]",r),u(n,"[[ArrayIteratorNextIndex]]",0),u(n,"[[ArrayIterationKind]]",t),n}s(Array.prototype,"entries",function(){return fe(this,"key+value")},!ue),s(Array.prototype,"fill",function(e){var t=arguments[1],n=arguments[2],o=V(this),i=H(o.length);i=b(i,0);var a,s,u,c=U(t);for(a=c<0?b(i+c,0):E(c,i),u=(s=n===r?i:U(n))<0?b(i+s,0):E(s,i);a<u;){o[String(a)]=e,a+=1}return o}),s(Array.prototype,"find",function(e){var t=V(this),n=U(t.length);if(!q(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:r,i=0;i<n;){var a=String(i);if(J(t,a)){var s=t[a],u=e.call(o,s,i,t);if(Boolean(u))return s}++i}return r}),s(Array.prototype,"findIndex",function(e){var t=V(this),n=H(t.length);if(!q(e))throw TypeError();for(var o=arguments.length>1?arguments[1]:r,i=0;i<n;){var a=String(i);if(J(t,a)){var s=t[a],u=e.call(o,s,i,t);if(Boolean(u))return i}++i}return-1}),s(Array.prototype,"keys",function(){return fe(this,"key")},!ue),s(Array.prototype,"values",function(){return fe(this,"value")},!ue),s(Array.prototype,D,Array.prototype.values);var le=Object.create(P);ce.prototype=le,s(le,"next",function(){var e=n(this);if("object"!==j(e))throw TypeError();var t,o,i=e["[[IteratedObject]]"],a=e["[[ArrayIteratorNextIndex]]"],s=e["[[ArrayIterationKind]]"],c=G(i.length);if(-1!==s.indexOf("sparse"))for(var f=!1;!f&&a<c;)(f=J(i,t=String(a)))||(a+=1);if(a>=c)return u(e,"[[ArrayIteratorNextIndex]]",1/0),ee(r,!0);if(t=a,u(e,"[[ArrayIteratorNextIndex]]",a+1),-1!==s.indexOf("value")&&(o=i[t]),-1!==s.indexOf("key+value"))return ee([t,o],!1);if(-1!==s.indexOf("key"))return ee(t,!1);if("value"===s)return ee(o,!1);throw Error("Internal error")}),s(le,F,"Array Iterator"),["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(t){if(t in e){var o=e[t];s(o,"from",function(e){var t=arguments[1],o=arguments[2],i=n(this);if(!W(i))throw TypeError();if(t===r)var a=!1;else{if(q(t))throw TypeError();var s=o;a=!0}var u=z(e,D);if(u!==r){for(var c=K(e,u),f=[],l=!0;!1!==l;)if(!1!==(l=Z(c))){var p=Q(l);f.push(p)}for(var _=f.length,d=new i(_),h=0;h<_;){var m=f.shift();if(a)var y=t.call(s,m);else y=m;d[h]=y,++h}return console.assert(0===f.length),d}var v=V(e);for(d=new i(_=H(v.length)),h=0;h<_;)m=v[h],y=a?t.call(s,m,h):m,d[h]=y,++h;return d}),s(o,"of",function(){for(var e=arguments,t=e.length,r=new(n(this))(t),o=0;o<t;)r[o]=e[o],++o;return r}),s(o.prototype,"copyWithin",Array.prototype.copyWithin),s(o.prototype,"entries",Array.prototype.entries),s(o.prototype,"every",Array.prototype.every),s(o.prototype,"fill",function(e){var t=arguments[1],n=arguments[2],o=V(this),i=H(o.length);i=b(i,0);var a,s,u,c=U(t);for(a=c<0?b(i+c,0):E(c,i),u=(s=n===r?i:U(n))<0?b(i+s,0):E(s,i);a<u;){o[String(a)]=e,a+=1}return o}),s(o.prototype,"filter",function(e){var t=arguments[1],r=V(this),n=H(r.length);if(!q(e))throw TypeError();for(var o=t,i=r.constructor,a=[],s=0,u=0;s<n;){var c=r[s];e.call(o,c,s,r)&&(a.push(c),++u),++s}for(var f=new i(u),l=0,p=0;p<a.length;++p){var _=a[p];f[l]=_,++l}return f}),s(o.prototype,"find",Array.prototype.find),s(o.prototype,"findIndex",Array.prototype.findIndex),s(o.prototype,"forEach",Array.prototype.forEach),s(o.prototype,"indexOf",Array.prototype.indexOf),s(o.prototype,"join",Array.prototype.join),s(o.prototype,"keys",Array.prototype.keys),s(o.prototype,"lastIndexOf",Array.prototype.lastIndexOf),s(o.prototype,"map",function(e){var t=arguments[1],n=V(this),o=H(n.length);if(!q(e))throw TypeError();var i=t,a=r,s=n.constructor;W(s)&&(a=new s(o)),a===r&&(a=new Array(o));for(var u=0;u<o;){if(J(n,u)){var c=n[u],f=e.call(i,c,u,n);a[u]=f}++u}return a}),s(o.prototype,"reduce",Array.prototype.reduce),s(o.prototype,"reduceRight",Array.prototype.reduceRight),s(o.prototype,"reverse",Array.prototype.reverse),s(o.prototype,"slice",function(e,t){var n=V(this),o=H(n.length),i=U(e),a=i<0?b(o+i,0):E(i,o),s=t===r?o:U(t),u=s<0?b(o+s,0):E(s,o),c=u-a,f=n.constructor;if(!W(f))throw TypeError();for(var l=new f(c),p=0;a<u;){var _=n[a];l[p]=_,++a,++p}return l}),s(o.prototype,"some",Array.prototype.some),s(o.prototype,"sort",function(){var e=arguments[0];return Array.prototype.sort.call(this,function(t,n){return console.assert("number"===j(t)&&"number"===j(n)),t!=t&&n!=n?0:t!=t?1:n!=n?-1:e!==r?e(t,n):t<n?-1:t>n?1:0})}),s(o.prototype,"values",Array.prototype.values),s(o.prototype,D,o.prototype.values),s(o.prototype,F,t)}}),function(){function o(){var e=n(this),t=arguments[0];if("object"!==j(e))throw TypeError();if("[[MapData]]"in e)throw TypeError();if(t!==r){var o=e.set;if(!q(o))throw TypeError();var i=K(V(t))}if(u(e,"[[MapData]]",{keys:[],values:[]}),i===r)return e;for(;;){var a=Z(i);if(!1===a)return e;var s=Q(a);if("object"!==j(s))throw TypeError();var c=s[0],f=s[1];o.call(e,c,f)}return e}function i(e,t){var r;if(t==t)return e.keys.indexOf(t);for(r=0;r<e.keys.length;r+=1)if($(e.keys[r],t))return r;return-1}"Map"in e&&!t&&!function(){try{return new e.Map([]),!1}catch(e){return!0}}()&&!function(){try{return!(new e.Map).entries().next}catch(e){return!0}}()&&1===new e.Map([["a",1]]).size||(e.Map=o);function a(){}function c(e,t){if("object"!==j(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===r)throw TypeError();var n=new a;return u(n,"[[Map]]",e),u(n,"[[MapNextIndex]]",0),u(n,"[[MapIterationKind]]",t),n}o.prototype={},s(o.prototype,"clear",function(){var e=n(this);if("object"!==j(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===r)throw TypeError();var t=e["[[MapData]]"];return t.keys.length=0,t.values.length=0,r}),s(o.prototype,"delete",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===r)throw TypeError();var o=t["[[MapData]]"],a=i(o,e);return!(a<0)&&(o.keys[a]=M,o.values[a]=M,!0)}),s(o.prototype,"entries",function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"key+value")}),s(o.prototype,"forEach",function(e){var t=arguments[1],o=n(this);if("object"!==j(o))throw TypeError();if(!("[[MapData]]"in o))throw TypeError();if(o["[[MapData]]"]===r)throw TypeError();var i=o["[[MapData]]"];if(!q(e))throw TypeError("First argument to forEach is not callable.");for(var a=0;a<i.keys.length;++a)i.keys[a]!==M&&e.call(t,i.values[a],i.keys[a],o);return r}),s(o.prototype,"get",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===r)throw TypeError();var o=t["[[MapData]]"],a=i(o,e);return a>=0?o.values[a]:r}),s(o.prototype,"has",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[MapData]]"in t))throw TypeError();if(t["[[MapData]]"]===r)throw TypeError();return i(t["[[MapData]]"],e)>=0}),s(o.prototype,"keys",function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"key")}),s(o.prototype,"set",function(e,t){var o=n(this);if("object"!==j(o))throw TypeError();if(!("[[MapData]]"in o))throw TypeError();if(o["[[MapData]]"]===r)throw TypeError();var a=o["[[MapData]]"],s=i(a,e);return s<0&&(s=a.keys.length),X(e,-0)&&(e=0),a.keys[s]=e,a.values[s]=t,o}),Object.defineProperty(o.prototype,"size",{get:function(){var e=n(this);if("object"!==j(e))throw TypeError();if(!("[[MapData]]"in e))throw TypeError();if(e["[[MapData]]"]===r)throw TypeError();for(var t=e["[[MapData]]"],o=0,i=0;i<t.keys.length;++i)t.keys[i]!==M&&(o+=1);return o}}),s(o.prototype,"values",function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"value")}),s(o.prototype,D,function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"key+value")}),s(e.Map.prototype,F,"Map");var f=Object.create(P);a.prototype=f,s(f,"next",function(){var e=n(this);if("object"!==j(e))throw TypeError();for(var t=e["[[Map]]"],o=e["[[MapNextIndex]]"],i=e["[[MapIterationKind]]"],a=t["[[MapData]]"];o<a.keys.length;){var s={key:a.keys[o],value:a.values[o]};if(u(e,"[[MapNextIndex]]",o=o+=1),s.key!==M)return ee("key"===i?s.key:"value"===i?s.value:[s.key,s.value],!1)}return ee(r,!0)}),s(f,F,"Map Iterator")}(),function(){function o(){var e=n(this),t=arguments[0];if("object"!==j(e))throw TypeError();if("[[SetData]]"in e)throw TypeError();if(t!==r){var o=e.add;if(!q(o))throw TypeError();var i=K(V(t))}if(u(e,"[[SetData]]",[]),i===r)return e;for(;;){var a=Z(i);if(!1===a)return e;var s=Q(a);o.call(e,s)}return e}function i(e,t){var r;if(t==t)return e.indexOf(t);for(r=0;r<e.length;r+=1)if($(e[r],t))return r;return-1}"Set"in e&&!t&&!function(){try{return!(new e.Set).entries().next}catch(e){return!0}}()&&1===new e.Set([1]).size||(e.Set=o);function a(){}function c(e,t){if("object"!==j(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===r)throw TypeError();var n=new a;return u(n,"[[IteratedSet]]",e),u(n,"[[SetNextIndex]]",0),u(n,"[[SetIterationKind]]",t),n}o.prototype={},s(o.prototype,"add",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===r)throw TypeError();X(e,-0)&&(e=0);var o=i(t["[[SetData]]"],e);return o<0&&(o=t["[[SetData]]"].length),t["[[SetData]]"][o]=e,t}),s(o.prototype,"clear",function(){var e=n(this);if("object"!==j(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===r)throw TypeError();return e["[[SetData]]"].length=0,r}),s(o.prototype,"delete",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===r)throw TypeError();var o=t["[[SetData]]"],a=i(o,e);return!(a<0)&&(o[a]=M,!0)}),s(o.prototype,"entries",function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"key+value")}),s(o.prototype,"forEach",function(e){var t=arguments[1],o=n(this);if("object"!==j(o))throw TypeError();if(!("[[SetData]]"in o))throw TypeError();if(o["[[SetData]]"]===r)throw TypeError();var i=o["[[SetData]]"];if(!q(e))throw TypeError("First argument to forEach is not callable.");for(var a=0;a<i.length;++a)i[a]!==M&&e.call(t,i[a],i[a],o)}),s(o.prototype,"has",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(!("[[SetData]]"in t))throw TypeError();if(t["[[SetData]]"]===r)throw TypeError();return-1!==i(t["[[SetData]]"],e)}),Object.defineProperty(o.prototype,"size",{get:function(){var e=n(this);if("object"!==j(e))throw TypeError();if(!("[[SetData]]"in e))throw TypeError();if(e["[[SetData]]"]===r)throw TypeError();for(var t=e["[[SetData]]"],o=0,i=0;i<t.length;++i)t[i]!==M&&(o+=1);return o}}),s(o.prototype,"values",function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e,"value")}),o.prototype.keys=o.prototype.values,s(o.prototype,D,function(){var e=n(this);if("object"!==j(e))throw TypeError();return c(e)}),s(e.Set.prototype,F,"Set");var f=Object.create(P);a.prototype=f,s(f,"next",function(){var e=n(this);if("object"!==j(e))throw TypeError();for(var t=e["[[IteratedSet]]"],o=e["[[SetNextIndex]]"],i=e["[[SetIterationKind]]"],a=t["[[SetData]]"];o<a.length;){var s=a[o];if(u(e,"[[SetNextIndex]]",o=o+=1),s!==M)return ee("key+value"===i?[s,s]:s,!1)}return ee(r,!0)}),s(f,F,"Set Iterator")}(),function(){function o(){var e=n(this),t=arguments[0];if("object"!==j(e))throw TypeError();if("[[WeakMapData]]"in e)throw TypeError();if(t!==r){var o=e.set;if(!q(o))throw TypeError();var i=K(V(t))}if(u(e,"[[WeakMapData]]",new C),i===r)return e;for(;;){var a=Z(i);if(!1===a)return e;var s=Q(a);if("object"!==j(s))throw TypeError();var c=s[0],f=s[1];o.call(e,c,f)}return e}"WeakMap"in e&&!t||(e.WeakMap=o);var i,a;o.prototype={},s(o.prototype,"delete",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(t["[[WeakMapData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return t["[[WeakMapData]]"].remove(e)}),s(o.prototype,"get",function(e,t){var o=n(this);if("object"!==j(o))throw TypeError();if(o["[[WeakMapData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return o["[[WeakMapData]]"].get(e,t)}),s(o.prototype,"has",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(t["[[WeakMapData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return t["[[WeakMapData]]"].has(e)}),s(o.prototype,"set",function(e,t){var o=n(this);if("object"!==j(o))throw TypeError();if(o["[[WeakMapData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return o["[[WeakMapData]]"].set(e,t),o}),s(e.WeakMap.prototype,F,"WeakMap"),i=new e.WeakMap,a=e.WeakMap.prototype.set,s(e.WeakMap.prototype,"set",function(){return a.apply(this,arguments),this},i.set({},0)!==i)}(),function(){function o(){var e=n(this),t=arguments[0];if("object"!==j(e))throw TypeError();if("[[WeakSetData]]"in e)throw TypeError();if(t!==r){var o=e.add;if(!q(o))throw TypeError();var i=K(V(t))}if(u(e,"[[WeakSetData]]",new C),i===r)return e;for(;;){var a=Z(i);if(!1===a)return e;var s=Q(a);o.call(e,s)}return e}"WeakSet"in e&&!t||(e.WeakSet=o);var i,a;o.prototype={},s(o.prototype,"add",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(t["[[WeakSetData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].set(e,!0),t}),s(o.prototype,"delete",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(t["[[WeakSetData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].remove(e)}),s(o.prototype,"has",function(e){var t=n(this);if("object"!==j(t))throw TypeError();if(t["[[WeakSetData]]"]===r)throw TypeError();if("object"!==j(e))throw TypeError("Expected object");return t["[[WeakSetData]]"].has(e)}),s(e.WeakSet.prototype,F,"WeakSet"),i=new e.WeakSet,a=e.WeakSet.prototype.add,s(e.WeakSet.prototype,"add",function(){return a.apply(this,arguments),this},i.add({})!==i)}(),"ArrayBuffer"in e&&(s(ArrayBuffer,"isView",function(e){return"object"===j(e)&&"buffer"in e&&e.buffer instanceof ArrayBuffer}),s(ArrayBuffer.prototype,F,"ArrayBuffer")),"DataView"in e&&s(DataView.prototype,F,"DataView"),s(JSON,F,"JSON"),s(P,D,function(){return this}),s(Promise.prototype,F,"Promise"),"Reflect"in e&&!t||(e.Reflect={}),s(Reflect,"apply",function(e,t,r){if(!q(e))throw TypeError();return Function.prototype.apply.call(e,t,r)}),s(Reflect,"construct",function(e,t){return __cons(e,t)}),s(Reflect,"defineProperty",function(e,t,r){try{return Object.defineProperty(e,t,r),!0}catch(e){return!1}}),s(Reflect,"deleteProperty",function(e,t){try{return delete e[t],!Y(e,t)}catch(e){return!1}}),s(Reflect,"enumerate",function(e){return function(e){var t=[];if(Object(e)!==e)return t;for(var r=new Set;null!==e;)Object.getOwnPropertyNames(e).forEach(function(n){if(!r.has(n)){var o=Object.getOwnPropertyDescriptor(e,n);o&&(r.add(n),o.enumerable&&t.push(n))}}),e=Object.getPrototypeOf(e);return t[D]()}(e=V(e))}),s(Reflect,"get",function(e,t,n){e=V(e),t=String(t),n=n===r?e:V(n);var i=o(e,t);return i&&"get"in i?Function.prototype.call.call(i.get,n):e[t]}),s(Reflect,"getOwnPropertyDescriptor",Object.getOwnPropertyDescriptor),s(Reflect,"getPrototypeOf",Object.getPrototypeOf),s(Reflect,"has",function(e,t){return String(t)in V(e)}),s(Reflect,"isExtensible",Object.isExtensible),s(Reflect,"ownKeys",function(e){var t=V(e);return Object.getOwnPropertyNames(t)}),s(Reflect,"preventExtensions",function(e){try{return Object.preventExtensions(e),!0}catch(e){return!1}}),s(Reflect,"set",function(e,t,n,i){e=V(e),t=String(t),i=i===r?e:V(i);var a=o(e,t);try{return a&&"set"in a?Function.prototype.call.call(a.set,i,n):e[t]=n,!0}catch(e){return!1}}),s(Reflect,"setPrototypeOf",function(e,t){try{return e.__proto__=t,Reflect.getPrototypeOf(e)===t}catch(e){return!1}})}(self),function(e){"use strict";var t=void 0;var r,n,o,i,a,s=e.isNaN,u=Math.abs,c=Math.floor,f=(Math.max,Math.min);function l(e){return e=Number(e),s(e)?0:0===e||e===1/0||e===-1/0?e:(e<0?-1:1)*c(u(e))}function p(e,t){if(_typeof(e)!==_typeof(t))return!1;switch(_typeof(e)){case"undefined":return!0;case"number":return e!=e&&t!=t||e===t;case"boolean":case"string":case"object":default:return e===t}}r=Array.prototype,o=function(e){var r=arguments[1],n=function(e){if(null===e||e===t)throw TypeError();return Object(e)}(this),o=function(e){var t=l(e);return t<=0?0:f(t,9007199254740991)}(n.length);if(0===o)return!1;var i=l(r);if(i>=0)var a=i;else(a=o+i)<0&&(a=0);for(;a<o;){n[a];if(p(n[a],e))return!0;a+=1}return!1},(n="includes")in r&&!i||("function"==typeof o?(console.assert("symbol"===_typeof(a=n)||"Symbol"in e&&a instanceof e.Symbol||!("name"in o)||o.name===n||o.name===n+"_",'Expected function name "'+n.toString()+'", was "'+o.name+'"'),Object.defineProperty(r,n,{value:o,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(r,n,{value:o,configurable:!1,enumerable:!1,writable:!1}))}(this),function(e){"use strict";var t=void 0;function r(t,r,n,o){var i;r in t&&!o||("function"==typeof n?(console.assert("symbol"===_typeof(i=r)||"Symbol"in e&&i instanceof e.Symbol||!("name"in n)||n.name===r||n.name===r+"_",'Expected function name "'+r.toString()+'", was "'+n.name+'"'),Object.defineProperty(t,r,{value:n,configurable:!0,enumerable:!1,writable:!0})):Object.defineProperty(t,r,{value:n,configurable:!1,enumerable:!1,writable:!1}))}var n=e.isNaN,o=Math.abs,i=Math.floor,a=Math.min;function s(e){if(null===e||e===t)throw TypeError();return Object(e)}function u(e){var t,r=(t=e,t=Number(t),n(t)?0:0===t||t===1/0||t===-1/0?t:(t<0?-1:1)*i(o(t)));return r<=0?0:a(r,9007199254740991)}function c(e,t){var r=Object.keys(e),n=[];return r.forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);if(o&&o.enumerable)if("key"===t)n.push(r);else{var i=e[r];"value"===t?n.push(i):n.push([r,i])}}),n}r(Object,"entries",function(e){return c(s(e),"key+value")}),r(Object,"getOwnPropertyDescriptors",function(e){for(var t,r,n,o=s(e),i=Object.getOwnPropertyNames(o),a={},u=0;u<i.length;++u){var c=i[u],f=Object.getOwnPropertyDescriptor(o,c);t=a,r=c,n=f,Object.defineProperty(t,r,{value:n,writable:!0,enumerable:!0,configurable:!0})}return a}),r(Object,"values",function(e){return c(s(e),"value")}),r(String.prototype,"padEnd",function(e){var r=arguments[1],n=String(this),o=n.length;if(r===t)var i="";else i=String(r);""===i&&(i=" ");var a=u(e);if(a<=o)return n;for(var s=a-o,c="";c.length<s;)c+=i;return n+c.substring(0,s)}),r(String.prototype,"padStart",function(e){var r=arguments[1],n=String(this),o=n.length;if(r===t)var i="";else i=String(r);""===i&&(i=" ");var a=u(e);if(a<=o)return n;for(var s=a-o,c="";c.length<s;)c+=i;return c.substring(0,s)+n})}(this),function(e){"use strict";"window"in e&&"document"in e&&("head"in document||(document.head=document.getElementsByTagName("head")[0]),["abbr","article","aside","audio","bdi","canvas","data","datalist","details","dialog","figcaption","figure","footer","header","hgroup","main","mark","meter","nav","output","picture","progress","section","summary","template","time","video"].forEach(function(e){document.createElement(e)}),!("dataset"in document.createElement("span"))&&"Element"in e&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,"dataset",{get:function(){for(var e=Object.create(null),t=0;t<this.attributes.length;++t){var r=this.attributes[t];r.specified&&"data-"===r.name.substring(0,5)&&function(t,r){var n=r.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});e[n]=t.getAttribute("data-"+r),Object.defineProperty(e,n,{get:function(){return t.getAttribute("data-"+r)},set:function(e){t.setAttribute("data-"+r,e)}})}(this,r.name.substring(5))}return e}}),function(){if(!("atob"in e&&"btoa"in e)){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.atob=function(e){var r=0,n=[],o=0,i=0;if((e=(e=String(e)).replace(/\s/g,"")).length%4==0&&(e=e.replace(/=+$/,"")),e.length%4==1)throw Error("InvalidCharacterError");if(/[^+\/0-9A-Za-z]/.test(e))throw Error("InvalidCharacterError");for(;r<e.length;)o=o<<6|t.indexOf(e.charAt(r)),24===(i+=6)&&(n.push(String.fromCharCode(o>>16&255)),n.push(String.fromCharCode(o>>8&255)),n.push(String.fromCharCode(255&o)),i=0,o=0),r+=1;return 12===i?(o>>=4,n.push(String.fromCharCode(255&o))):18===i&&(o>>=2,n.push(String.fromCharCode(o>>8&255)),n.push(String.fromCharCode(255&o))),n.join("")},e.btoa=function(e){e=String(e);var r,n,o,i,a,s,u,c=0,f=[];if(/[^\x00-\xFF]/.test(e))throw Error("InvalidCharacterError");for(;c<e.length;)i=(r=e.charCodeAt(c++))>>2,a=(3&r)<<4|(n=e.charCodeAt(c++))>>4,s=(15&n)<<2|(o=e.charCodeAt(c++))>>6,u=63&o,c===e.length+2?(s=64,u=64):c===e.length+1&&(u=64),f.push(t.charAt(i),t.charAt(a),t.charAt(s),t.charAt(u));return f.join("")}}}(),function(){if(!("requestAnimationFrame"in e)){var t=60,r=Object.create(null),n=0,o=-1;e.requestAnimationFrame=function(a,s){var u=++n;return r[u]={callback:a,element:s},-1===o&&(o=e.setTimeout(i,1e3/t)),u},e.cancelAnimationFrame=function(t){delete r[t],0===Object.keys(r).length&&(e.clearTimeout(o),o=-1)}}function i(){var e=r;r=Object.create(null),o=-1,Object.keys(e).forEach(function(t){var r,n=e[t];(!n.element||(r=n.element).offsetWidth>0&&r.offsetHeight>0)&&n.callback(Date.now())})}}())}(self),function(e){"use strict";if("window"in e&&"document"in e){document.querySelectorAll||(document.querySelectorAll=function(e){var t,r=document.createElement("style"),n=[];for(document.documentElement.firstChild.appendChild(r),document._qsa=[],r.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",window.scrollBy(0,0),r.parentNode.removeChild(r);document._qsa.length;)(t=document._qsa.shift()).style.removeAttribute("x-qsa"),n.push(t);return document._qsa=null,n}),document.querySelector||(document.querySelector=function(e){var t=document.querySelectorAll(e);return t.length?t[0]:null}),document.getElementsByClassName||(document.getElementsByClassName=function(e){return e=String(e).replace(/^|\s+/g,"."),document.querySelectorAll(e)}),e.Node=e.Node||function(){throw TypeError("Illegal constructor")},[["ELEMENT_NODE",1],["ATTRIBUTE_NODE",2],["TEXT_NODE",3],["CDATA_SECTION_NODE",4],["ENTITY_REFERENCE_NODE",5],["ENTITY_NODE",6],["PROCESSING_INSTRUCTION_NODE",7],["COMMENT_NODE",8],["DOCUMENT_NODE",9],["DOCUMENT_TYPE_NODE",10],["DOCUMENT_FRAGMENT_NODE",11],["NOTATION_NODE",12]].forEach(function(t){t[0]in e.Node||(e.Node[t[0]]=t[1])}),e.DOMException=e.DOMException||function(){throw TypeError("Illegal constructor")},[["INDEX_SIZE_ERR",1],["DOMSTRING_SIZE_ERR",2],["HIERARCHY_REQUEST_ERR",3],["WRONG_DOCUMENT_ERR",4],["INVALID_CHARACTER_ERR",5],["NO_DATA_ALLOWED_ERR",6],["NO_MODIFICATION_ALLOWED_ERR",7],["NOT_FOUND_ERR",8],["NOT_SUPPORTED_ERR",9],["INUSE_ATTRIBUTE_ERR",10],["INVALID_STATE_ERR",11],["SYNTAX_ERR",12],["INVALID_MODIFICATION_ERR",13],["NAMESPACE_ERR",14],["INVALID_ACCESS_ERR",15]].forEach(function(t){t[0]in e.DOMException||(e.DOMException[t[0]]=t[1])}),function(){function t(e,t,r){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var n=this,o=function(e){e._timeStamp=Date.now(),e._currentTarget=n,t.call(this,e),e._currentTarget=null};this["_"+e+t]=o,this.attachEvent("on"+e,o)}}function r(e,t,r){if("function"==typeof t){"DOMContentLoaded"===e&&(e="load");var n=this["_"+e+t];n&&(this.detachEvent("on"+e,n),this["_"+e+t]=null)}}"Element"in e&&!Element.prototype.addEventListener&&Object.defineProperty&&(Event.CAPTURING_PHASE=1,Event.AT_TARGET=2,Event.BUBBLING_PHASE=3,Object.defineProperties(Event.prototype,{CAPTURING_PHASE:{get:function(){return 1}},AT_TARGET:{get:function(){return 2}},BUBBLING_PHASE:{get:function(){return 3}},target:{get:function(){return this.srcElement}},currentTarget:{get:function(){return this._currentTarget}},eventPhase:{get:function(){return this.srcElement===this.currentTarget?Event.AT_TARGET:Event.BUBBLING_PHASE}},bubbles:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mousemove":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"resize":case"scroll":case"select":case"change":case"submit":case"reset":return!0}return!1}},cancelable:{get:function(){switch(this.type){case"click":case"dblclick":case"mousedown":case"mouseup":case"mouseover":case"mouseout":case"mousewheel":case"keydown":case"keypress":case"keyup":case"submit":return!0}return!1}},timeStamp:{get:function(){return this._timeStamp}},stopPropagation:{value:function(){this.cancelBubble=!0}},preventDefault:{value:function(){this.returnValue=!1}},defaultPrevented:{get:function(){return!1===this.returnValue}}}),[Window,HTMLDocument,Element].forEach(function(e){e.prototype.addEventListener=t,e.prototype.removeEventListener=r}))}(),function(){function t(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}"CustomEvent"in e&&"function"==typeof e.CustomEvent||(t.prototype=e.Event.prototype,e.CustomEvent=t)}(),window.addEvent=function(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent&&(e["e"+t+r]=r,e[t+r]=function(){var n=window.event;n.currentTarget=e,n.preventDefault=function(){n.returnValue=!1},n.stopPropagation=function(){n.cancelBubble=!0},n.target=n.srcElement,n.timeStamp=Date.now(),e["e"+t+r].call(this,n)},e.attachEvent("on"+t,e[t+r]))},window.removeEvent=function(e,t,r){e.removeEventListener?e.removeEventListener(t,r,!1):e.detachEvent&&(e.detachEvent("on"+t,e[t+r]),e[t+r]=null,e["e"+t+r]=null)},function(){function t(e,t){function r(e){return e.length?e.split(/\s+/g):[]}function n(e,t){var n=r(t),o=n.indexOf(e);return-1!==o&&n.splice(o,1),n.join(" ")}if(Object.defineProperties(this,{length:{get:function(){return r(e[t]).length}},item:{value:function(n){var o=r(e[t]);return 0<=n&&n<o.length?o[n]:null}},contains:{value:function(n){if(0===(n=String(n)).length)throw SyntaxError();if(/\s/.test(n))throw Error("InvalidCharacterError");return-1!==r(e[t]).indexOf(n)}},add:{value:function(){var n=Array.prototype.slice.call(arguments).map(String);if(n.some(function(e){return 0===e.length}))throw SyntaxError();if(n.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var o=e[t],i=r(o);if(0===(n=n.filter(function(e){return-1===i.indexOf(e)})).length)return;0===o.length||/\s$/.test(o)||(o+=" "),o+=n.join(" "),e[t]=o}finally{var a=r(e[t]).length;this.length!==a&&(this.length=a)}}},remove:{value:function(){var o=Array.prototype.slice.call(arguments).map(String);if(o.some(function(e){return 0===e.length}))throw SyntaxError();if(o.some(function(e){return/\s/.test(e)}))throw Error("InvalidCharacterError");try{var i=e[t];o.forEach(function(e){i=n(e,i)}),e[t]=i}finally{var a=r(e[t]).length;this.length!==a&&(this.length=a)}}},toggle:{value:function(o){var i=arguments[1];try{if(0===(o=String(o)).length)throw SyntaxError();if(/\s/.test(o))throw Error("InvalidCharacterError");var a=r(e[t]).indexOf(o);if(-1!==a&&(!i||void 0===i))return e[t]=n(o,e[t]),!1;if(-1!==a&&i)return!0;var s=e[t];return 0===s.length||/\s$/.test(s)||(s+=" "),s+=o,e[t]=s,!0}finally{var u=r(e[t]).length;this.length!==u&&(this.length=u)}}},toString:{value:function(){return e[t]}}}),"length"in this)for(var o=0;o<100;++o)Object.defineProperty(this,String(o),{get:function(e){return function(){return this.item(e)}}(o)});else this.length=r(e[t]).length}function r(t,r){"Element"in e&&Element.prototype&&Object.defineProperty&&Object.defineProperty(Element.prototype,t,{get:r})}"classList"in document.createElement("span")?window.getClassList=function(e){return e.classList}:(window.getClassList=function(e){return new t(e,"className")},r("classList",function(){return new t(this,"className")})),"relList"in document.createElement("link")?window.getRelList=function(e){return e.relList}:(window.getRelList=function(e){return new t(e,"rel")},r("relList",function(){return new t(this,"rel")})),function(){if("DOMTokenList"in e){var t=document.createElement("span");"classList"in t&&(t.classList.toggle("x",!1),t.classList.contains("x")&&(e.DOMTokenList.prototype.toggle=function(e){var t=arguments[1];if(void 0===t){var r=!this.contains(e);return this[r?"add":"remove"](e),r}return this[(t=!!t)?"add":"remove"](e),t}))}}(),"previousElementSibling"in document.documentElement||r("previousElementSibling",function(){for(var e=this.previousSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.previousSibling;return e}),"nextElementSibling"in document.documentElement||r("nextElementSibling",function(){for(var e=this.nextSibling;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;return e})}(),"Element"in e&&!Element.prototype.matches&&(Element.prototype.msMatchesSelector?Element.prototype.matches=Element.prototype.msMatchesSelector:Element.prototype.oMatchesSelector?Element.prototype.matches=Element.prototype.oMatchesSelector:Element.prototype.mozMatchesSelector?Element.prototype.matches=Element.prototype.mozMatchesSelector:Element.prototype.webkitMatchesSelector?Element.prototype.matches=Element.prototype.webkitMatchesSelector:document.querySelectorAll&&(Element.prototype.matches=function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),r=t.length;--r>=0&&t.item(r)!==this;);return r>-1})),window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,r=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=r.length;--t>=0&&r.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n});var t={prepend:function(){var e=[].slice.call(arguments);e=o(e),this.insertBefore(e,this.firstChild)},append:function(){var e=[].slice.call(arguments);e=o(e),this.appendChild(e)}};n(e.Document||e.HTMLDocument,t),n(e.DocumentFragment,t),n(e.Element,t);var r={before:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.previousSibling;-1!==e.indexOf(r);)r=r.previousSibling;var n=o(e);t.insertBefore(n,r?r.nextSibling:t.firstChild)}},after:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.nextSibling;-1!==e.indexOf(r);)r=r.nextSibling;var n=o(e);t.insertBefore(n,r)}},replaceWith:function(){var e=[].slice.call(arguments),t=this.parentNode;if(t){for(var r=this.nextSibling;-1!==e.indexOf(r);)r=r.nextSibling;var n=o(e);this.parentNode===t?t.replaceChild(n,this):t.insertBefore(n,r)}},remove:function(){this.parentNode&&this.parentNode.removeChild(this)}};n(e.DocumentType,r),n(e.Element,r),n(e.CharacterData,r)}function n(e,t){e&&Object.keys(t).forEach(function(r){if(!(r in e||r in e.prototype))try{Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}catch(n){e[r]=t[r]}})}function o(e){var t=null;return 1===(e=e.map(function(e){return e instanceof Node?e:document.createTextNode(e)})).length?t=e[0]:(t=document.createDocumentFragment(),e.forEach(function(e){t.appendChild(e)})),t}}(self),function(e){"use strict";"window"in e&&"document"in e&&(e.XMLHttpRequest=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("This browser does not support XMLHttpRequest.")},[["UNSENT",0],["OPENED",1],["HEADERS_RECEIVED",2],["LOADING",3],["DONE",4]].forEach(function(t){t[0]in e.XMLHttpRequest||(e.XMLHttpRequest[t[0]]=t[1])}),function(){if(!("FormData"in e)){r.prototype={append:function(t,r){if("Blob"in e&&r instanceof e.Blob)throw TypeError("Blob not supported");t=String(t),this._data.push([t,r])},toString:function(){return this._data.map(function(e){return encodeURIComponent(e[0])+"="+encodeURIComponent(e[1])}).join("&")}},e.FormData=r;var t=e.XMLHttpRequest.prototype.send;e.XMLHttpRequest.prototype.send=function(e){return e instanceof r&&(this.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),arguments[0]=e.toString()),t.apply(this,arguments)}}function r(e){if(this._data=[],e)for(var t=0;t<e.elements.length;++t){var r=e.elements[t];""!==r.name&&this.append(r.name,r.value)}}}())}(self),function(e){"use strict";"window"in e&&"document"in e&&"TextRectangle"in e&&!("width"in e.TextRectangle.prototype)&&Object.defineProperties(e.TextRectangle.prototype,{width:{get:function(){return this.right-this.left}},height:{get:function(){return this.bottom-this.top}}})}(self),function(e){"use strict";function t(t){return!!t&&("Symbol"in e&&"iterator"in e.Symbol&&"function"==typeof t[Symbol.iterator]||!!Array.isArray(t))}function r(e){return"from"in Array?Array.from(e):Array.prototype.slice.call(e)}!function(){var n,o=e.URL;try{if(o){if("searchParams"in(n=new e.URL("http://example.com")))return;"href"in n||(n=void 0)}}catch(e){}function i(e){var t="",r=!0;return e.forEach(function(e){var n=encodeURIComponent(e.name),o=encodeURIComponent(e.value);r||(t+="&"),t+=n+"="+o,r=!1}),t.replace(/%20/g,"+")}function a(e,t){var r=e.split("&");t&&-1===r[0].indexOf("=")&&(r[0]="="+r[0]);var n=[];r.forEach(function(e){if(0!==e.length){var t=e.indexOf("=");if(-1!==t)var r=e.substring(0,t),o=e.substring(t+1);else r=e,o="";r=r.replace(/\+/g," "),o=o.replace(/\+/g," "),n.push({name:r,value:o})}});var o=[];return n.forEach(function(e){o.push({name:decodeURIComponent(e.name),value:decodeURIComponent(e.value)})}),o}function s(e){var n=this;this._list=[],null==e||(e instanceof s?this._list=a(String(e)):"object"===_typeof(e)&&t(e)?r(e).forEach(function(e){if(!t(e))throw TypeError();var o=r(e);if(2!==o.length)throw TypeError();n._list.push({name:String(o[0]),value:String(o[1])})}):"object"===_typeof(e)&&e?Object.keys(e).forEach(function(t){n._list.push({name:String(t),value:String(e[t])})}):("?"===(e=String(e)).substring(0,1)&&(e=e.substring(1)),this._list=a(e))),this._url_object=null,this._setList=function(e){o||(n._list=e)};var o=!1;this._update_steps=function(){o||(o=!0,n._url_object&&("about:"===n._url_object.protocol&&-1!==n._url_object.pathname.indexOf("?")&&(n._url_object.pathname=n._url_object.pathname.split("?")[0]),n._url_object.search=i(n._list),o=!1))}}function u(e,t){var r=0;this.next=function(){if(r>=e.length)return{done:!0,value:void 0};var n=e[r++];return{done:!1,value:"key"===t?n.name:"value"===t?n.value:[n.name,n.value]}}}function c(t,r){if(!(this instanceof e.URL))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.");r&&(t=function(){if(n)return new o(t,r).href;var e;try{var i;if("[object OperaMini]"===Object.prototype.toString.call(window.operamini)?((e=document.createElement("iframe")).style.display="none",document.documentElement.appendChild(e),i=e.contentWindow.document):document.implementation&&document.implementation.createHTMLDocument?i=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?((i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null)).documentElement.appendChild(i.createElement("head")),i.documentElement.appendChild(i.createElement("body"))):window.ActiveXObject&&((i=new window.ActiveXObject("htmlfile")).write("<head></head><body></body>"),i.close()),!i)throw Error("base not supported");var a=i.createElement("base");a.href=r,i.getElementsByTagName("head")[0].appendChild(a);var s=i.createElement("a");return s.href=t,s.href}finally{e&&e.parentNode.removeChild(e)}}());var i=function(e){if(n)return new o(e);var t=document.createElement("a");return t.href=e,t}(t||""),u=function(){if(!("defineProperties"in Object))return!1;try{var e={};return Object.defineProperties(e,{prop:{get:function(){return!0}}}),e.prop}catch(e){return!1}}()?this:document.createElement("a"),c=new s(i.search?i.search.substring(1):null);function f(){var e=i.href.replace(/#$|\?$|\?(?=#)/g,"");i.href!==e&&(i.href=e)}function l(){c._setList(i.search?a(i.search.substring(1)):[]),c._update_steps()}return c._url_object=u,Object.defineProperties(u,{href:{get:function(){return i.href},set:function(e){i.href=e,f(),l()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin"in i?i.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return i.protocol},set:function(e){i.protocol=e},enumerable:!0,configurable:!0},username:{get:function(){return i.username},set:function(e){i.username=e},enumerable:!0,configurable:!0},password:{get:function(){return i.password},set:function(e){i.password=e},enumerable:!0,configurable:!0},host:{get:function(){var e={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[i.protocol];return e?i.host.replace(e,""):i.host},set:function(e){i.host=e},enumerable:!0,configurable:!0},hostname:{get:function(){return i.hostname},set:function(e){i.hostname=e},enumerable:!0,configurable:!0},port:{get:function(){return i.port},set:function(e){i.port=e},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==i.pathname.charAt(0)?"/"+i.pathname:i.pathname},set:function(e){i.pathname=e},enumerable:!0,configurable:!0},search:{get:function(){return i.search},set:function(e){i.search!==e&&(i.search=e,f(),l())},enumerable:!0,configurable:!0},searchParams:{get:function(){return c},enumerable:!0,configurable:!0},hash:{get:function(){return i.hash},set:function(e){i.hash=e,f()},enumerable:!0,configurable:!0},toString:{value:function(){return i.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return i.valueOf()},enumerable:!1,configurable:!0}}),u}if(Object.defineProperties(s.prototype,{append:{value:function(e,t){this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},delete:{value:function(e){for(var t=0;t<this._list.length;)this._list[t].name===e?this._list.splice(t,1):++t;this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return this._list[t].value;return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(e){for(var t=[],r=0;r<this._list.length;++r)this._list[r].name===e&&t.push(this._list[r].value);return t},writable:!0,enumerable:!0,configurable:!0},has:{value:function(e){for(var t=0;t<this._list.length;++t)if(this._list[t].name===e)return!0;return!1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(e,t){for(var r=!1,n=0;n<this._list.length;)this._list[n].name===e?r?this._list.splice(n,1):(this._list[n].value=t,r=!0,++n):++n;r||this._list.push({name:e,value:t}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){return new u(this._list,"key+value")},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){return new u(this._list,"key")},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){return new u(this._list,"value")},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(e){var t=arguments.length>1?arguments[1]:void 0;this._list.forEach(function(r,n){e.call(t,r.value,r.name)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return i(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol"in e&&"iterator"in e.Symbol&&(Object.defineProperty(s.prototype,e.Symbol.iterator,{value:s.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,e.Symbol.iterator,{value:function(){return this},writable:!0,enumerable:!0,configurable:!0})),o)for(var f in o)o.hasOwnProperty(f)&&"function"==typeof o[f]&&(c[f]=o[f]);e.URL=c,e.URLSearchParams=s}(),function(){if("1"!==new e.URLSearchParams([["a",1]]).get("a")||"1"!==new e.URLSearchParams({a:1}).get("a")){var n=e.URLSearchParams;e.URLSearchParams=function(e){if(e&&"object"===_typeof(e)&&t(e)){var o=new n;return r(e).forEach(function(e){if(!t(e))throw TypeError();var n=r(e);if(2!==n.length)throw TypeError();o.append(n[0],n[1])}),o}return e&&"object"===_typeof(e)?(o=new n,Object.keys(e).forEach(function(t){o.set(t,e[t])}),o):new n(e)}}}()}(self),function(e){"use strict";function t(e){if((e=String(e)).match(/[^\x00-\xFF]/))throw TypeError("Not a valid ByteString");return e}function r(e){return(e=String(e)).replace(/([\u0000-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF])/g,function(e){return/^[\uD800-\uDFFF]$/.test(e)?"�":e})}function n(e){return String(e).replace(/[a-z]/g,function(e){return e.toUpperCase()})}function o(e){return/^[!#$%&'*+\-.09A-Z^_`a-z|~]+$/.test(e)}function i(e){return{"accept-charset":!0,"accept-encoding":!0,"access-control-request-headers":!0,"access-control-request-method":!0,connection:!0,"content-length":!0,cookie:!0,cookie2:!0,date:!0,dnt:!0,expect:!0,host:!0,"keep-alive":!0,origin:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,via:!0}[e=String(e).toLowerCase()]||"proxy-"===e.substring(0,6)||"sec-"===e.substring(0,4)}function a(e){return{"set-cookie":!0,"set-cookie2":!0}[e=String(e).toLowerCase()]}function s(e,t){return"accept"===(e=String(e).toLowerCase())||"accept-language"===e||"content-language"===e||"content-type"===e&&-1!==["application/x-www-form-encoded","multipart/form-data","text/plain"].indexOf(t)}function u(e){this._guard="none",this._headerList=[],e&&c(this,e)}function c(e,t){t instanceof u?t._headerList.forEach(function(t){e.append(t[0],t[1])}):Array.isArray(t)?t.forEach(function(t){if(!Array.isArray(t)||2!==t.length)throw TypeError();e.append(t[0],t[1])}):(t=Object(t),Object.keys(t).forEach(function(r){e.append(r,t[r])}))}function f(e){this._headers=e,this._index=0}function l(e){this._stream=e,this.bodyUsed=!1}function p(e,o){if(arguments.length<1)throw TypeError("Not enough arguments");if(l.call(this,null),this.method="GET",this.url="",this.headers=new u,this.headers._guard="request",this.referrer=null,this.mode=null,this.credentials="omit",e instanceof p){if(e.bodyUsed)throw TypeError();e.bodyUsed=!0,this.method=e.method,this.url=e.url,this.headers=new u(e.headers),this.headers._guard=e.headers._guard,this.credentials=e.credentials,this._stream=e._stream}else e=r(e),this.url=String(new URL(e,self.location));if("method"in(o=Object(o))){var i=t(o.method);if("CONNECT"===(a=n(a=i))||"TRACE"===a||"TRACK"===a)throw TypeError();this.method=function(e){var t=n(e);return"DELETE"===t||"GET"===t||"HEAD"===t||"OPTIONS"===t||"POST"===t||"PUT"===t?t:e}(i)}var a;"headers"in o&&(this.headers=new u,c(this.headers,o.headers)),"body"in o&&(this._stream=o.body),"credentials"in o&&-1!==["omit","same-origin","include"].indexOf(o.credentials)&&(this.credentials=o.credentials)}function _(e,t){if(arguments.length<1&&(e=""),this.headers=new u,this.headers._guard="response",e instanceof XMLHttpRequest&&"_url"in e){var n=e;return this.type="basic",this.url=r(n._url),this.status=n.status,this.ok=200<=this.status&&this.status<=299,this.statusText=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).filter(function(e){return e.length}).forEach(function(e){var t=e.indexOf(":");this.headers.append(e.substring(0,t),e.substring(t+2))},this),void l.call(this,n.responseText)}l.call(this,e),t=Object(t)||{},this.url="";var o="status"in t?65535&t.status:200;if(o<200||o>599)throw RangeError();this.status=o,this.ok=200<=this.status&&this.status<=299;var i="statusText"in t?String(t.statusText):"OK";if(/[^\x00-\xFF]/.test(i))throw TypeError();this.statusText=i,"headers"in t&&c(this.headers,t),this.type="basic"}u.prototype={append:function(e,r){if(!o(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();"request"===this._guard&&i(e)||("request-no-CORS"!==this._guard||s(e,r))&&("response"===this._guard&&a(e)||(e=e.toLowerCase(),this._headerList.push([e,r])))},delete:function(e){if(!o(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!i(e))&&("request-no-CORS"!==this._guard||s(e,"invalid"))&&("response"!==this._guard||!a(e))){e=e.toLowerCase();for(var r=0;r<this._headerList.length;)this._headerList[r][0]===e?this._headerList.splice(r,1):++r}},get:function(e){if(!o(e=t(e)))throw TypeError();e=e.toLowerCase();for(var r=0;r<this._headerList.length;++r)if(this._headerList[r][0]===e)return this._headerList[r][1];return null},getAll:function(e){if(!o(e=t(e)))throw TypeError();e=e.toLowerCase();for(var r=[],n=0;n<this._headerList.length;++n)this._headerList[n][0]===e&&r.push(this._headerList[n][1]);return r},has:function(e){if(!o(e=t(e)))throw TypeError();e=e.toLowerCase();for(var r=0;r<this._headerList.length;++r)if(this._headerList[r][0]===e)return!0;return!1},set:function(e,r){if(!o(e=t(e)))throw TypeError();if("immutable"===this._guard)throw TypeError();if(("request"!==this._guard||!i(e))&&("request-no-CORS"!==this._guard||s(e,r))&&("response"!==this._guard||!a(e))){e=e.toLowerCase();for(var n=0;n<this._headerList.length;++n)if(this._headerList[n][0]===e){for(this._headerList[n++][1]=r;n<this._headerList.length;)this._headerList[n][0]===e?this._headerList.splice(n,1):++n;return}this._headerList.push([e,r])}}},u.prototype[Symbol.iterator]=function(){return new f(this)},f.prototype={},f.prototype.next=function(){return this._index>=this._headers._headerList.length?{value:void 0,done:!0}:{value:this._headers._headerList[this._index++],done:!1}},f.prototype[Symbol.iterator]=function(){return this},l.prototype={arrayBuffer:function(){if(this.bodyUsed)return Promise.reject(TypeError());if(this.bodyUsed=!0,this._stream instanceof ArrayBuffer)return Promise.resolve(this._stream);var e=this._stream;return new Promise(function(t,r){var n=unescape(encodeURIComponent(e)).split("").map(function(e){return e.charCodeAt(0)});t(new Uint8Array(n).buffer)})},blob:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof Blob?Promise.resolve(this._stream):Promise.resolve(new Blob([this._stream])))},formData:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,this._stream instanceof FormData?Promise.resolve(this._stream):Promise.reject(Error("Not yet implemented")))},json:function(){if(this.bodyUsed)return Promise.reject(TypeError());this.bodyUsed=!0;var e=this;return new Promise(function(t,r){t(JSON.parse(e._stream))})},text:function(){return this.bodyUsed?Promise.reject(TypeError()):(this.bodyUsed=!0,Promise.resolve(String(this._stream)))}},p.prototype=l.prototype,_.prototype=l.prototype,_.redirect=function(){throw Error("Not supported")},"fetch"in e||(e.Headers=u,e.Request=p,e.Response=_,e.fetch=function(e,t){return new Promise(function(r,n){var o=new p(e,t),i=new XMLHttpRequest;i._url=o.url;try{i.open(o.method,o.url,!0)}catch(e){throw TypeError(e.message)}for(var a=o.headers[Symbol.iterator](),s=a.next();!s.done;s=a.next())i.setRequestHeader(s.value[0],s.value[1]);"include"===o.credentials&&(i.withCredentials=!0),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&(0===i.status?n(new TypeError("Network error")):r(new _(i)))},i.send(o._stream)})})}(self)},function(e,t){t.CommandConstant={canvas2d:{drawImage:{name:"drawImage"},fill:{name:"fill"},stroke:{name:"stroke"},rect:{name:"rect"},fillRect:{name:"fillRect"},strokeRect:{name:"strokeRect"},clearRect:{name:"clearRect"},beginPath:{name:"beginPath"},closePath:{name:"closePath"},moveTo:{name:"moveTo"},lineTo:{name:"lineTo"},arcTo:{name:"arcTo"},arc:{name:"arc"},quadraticCurveTo:{name:"quadraticCurveTo"},bezierCurveTo:{name:"bezierCurveTo"},save:{name:"save"},restore:{name:"restore"},fillText:{name:"fillText"},strokeText:{name:"strokeText"},clip:{name:"clip"},createImageData:{name:"createImageData"},getImageData:{name:"getImageData"},putImageData:{name:"putImageData"},scale:{name:"scale"},rotate:{name:"rotate"},translate:{name:"translate"},transform:{name:"transform"},setTransform:{name:"setTransform"},resetTransform:{name:"resetTransform"},measureText:{name:"measureText"},createPattern:{name:"createPattern"},createLinearGradient:{name:"createLinearGradient"},createRadialGradient:{name:"createRadialGradient"},globalAlpha:{name:"globalAlpha"},globalCompositeOperation:{name:"globalCompositeOperation"},fillColor:{name:"fillColor"},fillStyle:{name:"fillStyle"},strokeColor:{name:"strokeColor"},strokeStyle:{name:"strokeStyle"},lineWidth:{name:"lineWidth"},lineCap:{name:"lineCap"},lineJoin:{name:"lineJoin"},miterLimit:{name:"miterLimit"},font:{name:"font"},textAlign:{name:"textAlign"},textBaseline:{name:"textBaseline"},imageSmoothingEnabled:{name:"imageSmoothingEnabled"}},webgl:{activeTexture:{name:"activeTexture"},attachShader:{name:"attachShader"},bindAttribLocation:{name:"bindAttribLocation"},bindBuffer:{name:"bindBuffer"},bindFramebuffer:{name:"bindFramebuffer"},bindRenderbuffer:{name:"bindRenderbuffer"},bindTexture:{name:"bindTexture"},blendColor:{name:"blendColor"},blendEquation:{name:"blendEquation"},blendEquationSeparate:{name:"blendEquationSeparate"},blendFunc:{name:"blendFunc"},blendFuncSeparate:{name:"blendFuncSeparate"},bufferData:{name:"bufferData"},bufferSubData:{name:"bufferSubData"},checkFramebufferStatus:{name:"checkFramebufferStatus"},clear:{name:"clear"},clearColor:{name:"clearColor"},clearDepth:{name:"clearDepth"},clearStencil:{name:"clearStencil"},colorMask:{name:"colorMask"},compileShader:{name:"compileShader"},compressedTexImage2D:{name:"compressedTexImage2D"},compressedTexSubImage2D:{name:"compressedTexSubImage2D"},copyTexImage2D:{name:"copyTexImage2D"},copyTexSubImage2D:{name:"copyTexSubImage2D"},createBuffer:{name:"createBuffer"},createFramebuffer:{name:"createFramebuffer"},createProgram:{name:"createProgram"},createRenderbuffer:{name:"createRenderbuffer"},createShader:{name:"createShader"},createTexture:{name:"createTexture"},cullFace:{name:"cullFace"},deleteBuffer:{name:"deleteBuffer"},deleteFramebuffer:{name:"deleteFramebuffer"},deleteProgram:{name:"deleteProgram"},deleteRenderbuffer:{name:"deleteRenderbuffer"},deleteShader:{name:"deleteShader"},deleteTexture:{name:"deleteTexture"},depthFunc:{name:"depthFunc"},depthMask:{name:"depthMask"},depthRange:{name:"depthRange"},detachShader:{name:"detachShader"},disable:{name:"disable"},disableVertexAttribArray:{name:"disableVertexAttribArray"},drawArrays:{name:"drawArrays"},drawElements:{name:"drawElements"},enable:{name:"enable"},enableVertexAttribArray:{name:"enableVertexAttribArray"},finish:{name:"finish"},flush:{name:"flush"},framebufferRenderbuffer:{name:"framebufferRenderbuffer"},framebufferTexture2D:{name:"framebufferTexture2D"},frontFace:{name:"frontFace"},generateMipmap:{name:"generateMipmap"},getExtension:{name:"getExtension"},getSupportedExtensions:{name:"getSupportedExtensions"},getActiveAttrib:{name:"getActiveAttrib"},getActiveUniform:{name:"getActiveUniform"},getAttachedShaders:{name:"getAttachedShaders"},getAttribLocation:{name:"getAttribLocation"},getBufferParameter:{name:"getBufferParameter"},getError:{name:"getError"},getFramebufferAttachmentParameter:{name:"getFramebufferAttachmentParameter"},getParameter:{name:"getParameter"},getProgramInfoLog:{name:"getProgramInfoLog"},getProgramParameter:{name:"getProgramParameter"},getRenderbufferParameter:{name:"getRenderbufferParameter"},getShaderInfoLog:{name:"getShaderInfoLog"},getShaderParameter:{name:"getShaderParameter"},getShaderPrecisionFormat:{name:"getShaderPrecisionFormat"},getShaderSource:{name:"getShaderSource"},getTexParameter:{name:"getTexParameter"},getUniform:{name:"getUniform"},getUniformLocation:{name:"getUniformLocation"},getVertexAttrib:{name:"getVertexAttrib"},getVertexAttribOffset:{name:"getVertexAttribOffset"},readPixels:{name:"readPixels"},hint:{name:"hint"},isBuffer:{name:"isBuffer"},isEnabled:{name:"isEnabled"},isFramebuffer:{name:"isFramebuffer"},isProgram:{name:"isProgram"},isRenderbuffer:{name:"isRenderbuffer"},isShader:{name:"isShader"},isTexture:{name:"isTexture"},isVertexArray:{name:"isVertexArray"},lineWidth:{name:"lineWidth"},linkProgram:{name:"linkProgram"},pixelStorei:{name:"pixelStorei"},polygonOffset:{name:"polygonOffset"},renderbufferStorage:{name:"renderbufferStorage"},sampleCoverage:{name:"sampleCoverage"},scissor:{name:"scissor"},shaderSource:{name:"shaderSource"},stencilFunc:{name:"stencilFunc"},stencilFuncSeparate:{name:"stencilFuncSeparate"},stencilMask:{name:"stencilMask"},stencilMaskSeparate:{name:"stencilMaskSeparate"},stencilOp:{name:"stencilOp"},stencilOpSeparate:{name:"stencilOpSeparate"},texImage2D:{name:"texImage2D"},texParameterf:{name:"texParameterf"},texParameteri:{name:"texParameteri"},texSubImage2D:{name:"texSubImage2D"},uniform1f:{name:"uniform1f"},uniform1fv:{name:"uniform1fv"},uniform1i:{name:"uniform1i"},uniform1iv:{name:"uniform1iv"},uniform2f:{name:"uniform2f"},uniform2fv:{name:"uniform2fv"},uniform2i:{name:"uniform2i"},uniform2iv:{name:"uniform2iv"},uniform3f:{name:"uniform3f"},uniform3fv:{name:"uniform3fv"},uniform3i:{name:"uniform3i"},uniform3iv:{name:"uniform3iv"},uniform4f:{name:"uniform4f"},uniform4fv:{name:"uniform4fv"},uniform4i:{name:"uniform4i"},uniform4iv:{name:"uniform4iv"},uniformMatrix2fv:{name:"uniformMatrix2fv"},uniformMatrix3fv:{name:"uniformMatrix3fv"},uniformMatrix4fv:{name:"uniformMatrix4fv"},useProgram:{name:"useProgram"},validateProgram:{name:"validateProgram"},vertexAttrib1f:{name:"vertexAttrib1f"},vertexAttrib1fv:{name:"vertexAttrib1fv"},vertexAttrib2f:{name:"vertexAttrib2f"},vertexAttrib2fv:{name:"vertexAttrib2fv"},vertexAttrib3f:{name:"vertexAttrib3f"},vertexAttrib3fv:{name:"vertexAttrib3fv"},vertexAttrib4f:{name:"vertexAttrib4f"},vertexAttrib4fv:{name:"vertexAttrib4fv"},vertexAttribPointer:{name:"vertexAttribPointer"},viewport:{name:"viewport"},createVertexArray:{name:"createVertexArray"},bindVertexArray:{name:"bindVertexArray"},deleteVertexArray:{name:"deleteVertexArray"},drawArraysInstanced:{name:"drawArraysInstanced"},drawElementsInstanced:{name:"drawElementsInstanced"},vertexAttribDivisor:{name:"vertexAttribDivisor"},bindVertexArrayOES:{name:"bindVertexArrayOES"},createVertexArrayOES:{name:"createVertexArrayOES"},deleteVertexArrayOES:{name:"deleteVertexArrayOES"},isVertexArrayOES:{name:"isVertexArrayOES"}}}},function(e,t){t.createFontObj=function(e){var t=new Object,r=e.split(" "),n=!1,o=!1,i=!1;(!r||r.length<2)&&console.error("context.font set: param format error! not a standard format, error param ="+e);for(var a=0;a<r.length;a++){var s=0;if("string"==typeof r[a])if(-1==r[a].indexOf("normal")&&-1==r[a].indexOf("italic")&&-1==r[a].indexOf("oblique")||n)if(-1==r[a].indexOf("normal")&&-1==r[a].indexOf("bold")||o){if((-1!=(s=r[a].indexOf("px"))||-1!=(s=r[a].indexOf("em")))&&!i){var u=r[a].substr(0,s).replace(/[^0-9.]/gi,"");t.font_size=parseFloat(u),i=!0}}else t.font_weight=r[a],o=!0;else t.font_style=r[a],n=!0;else console.error("context.font set: param string type error! error sub-param = "+r[a])}return t.font_family=r[r.length-1],t},t.isBase64Image=function(e){return/^data:image\/(png|gif|jpeg|jpg);base64,.*$/.test(e)}},function(e,t,r){t.ANGLEInstancedArrays=function e(t){this.gl=t,this.originFunc={drawArraysInstanced:t.drawArraysInstanced,drawElementsInstanced:t.drawElementsInstanced,vertexAttribDivisor:t.vertexAttribDivisor},e.prototype.drawArraysInstancedANGLE=function(e,t,r,n){return this.originFunc.drawArraysInstanced.call(this.gl,e,t,r,n)},e.prototype.drawElementsInstancedANGLE=function(e,t,r,n,o){return this.originFunc.drawElementsInstanced.call(this.gl,e,t,r,n,o)},e.prototype.vertexAttribDivisorANGLE=function(e,t){return this.originFunc.vertexAttribDivisor.call(this.gl,e,t)},e.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=t.VERTEX_ATTRIB_ARRAY_DIVISOR},t.VertexArrayObject=function e(t){this.gl=t,this.originFunc={bindVertexArray:t.bindVertexArray,createVertexArray:t.createVertexArray,deleteVertexArray:t.deleteVertexArray,isVertexArray:t.isVertexArray},e.prototype.bindVertexArrayOES=function(e){return this.originFunc.bindVertexArray.call(this.gl,e)},e.prototype.createVertexArrayOES=function(){return this.originFunc.createVertexArray.call(this.gl)},e.prototype.deleteVertexArrayOES=function(e){return this.originFunc.deleteVertexArray.call(this.gl,e)},e.prototype.isVertexArrayOES=function(e){return this.originFunc.isVertexArray.call(this.gl,e)},e.prototype.VERTEX_ARRAY_BINDING_OES=t.VERTEX_ARRAY_BINDING},t.OESVertexArrayObject=function e(t){this.__nativeExtensionObj=t;var n=r(19);e.prototype.bindVertexArrayOES=function(e){null!=e&&n.isNumber(e._id)?this.__nativeExtensionObj.bindVertexArrayOES(e._id):this.__nativeExtensionObj.bindVertexArrayOES(0)},e.prototype.createVertexArrayOES=function(){return this.__nativeExtensionObj.createVertexArrayOES()},e.prototype.deleteVertexArrayOES=function(e){null!=e&&n.isNumber(e._id)&&this.__nativeExtensionObj.deleteVertexArrayOES(e._id)},e.prototype.isVertexArrayOES=function(e){return!(null==e||!n.isNumber(e._id))&&this.__nativeExtensionObj.isVertexArrayOES(e._id)}}},function(e,t){t.attachWebGlConstant=function(e){e.prototype.DEPTH_BUFFER_BIT=256,e.prototype.STENCIL_BUFFER_BIT=1024,e.prototype.COLOR_BUFFER_BIT=16384,e.prototype.POINTS=0,e.prototype.LINES=1,e.prototype.LINE_LOOP=2,e.prototype.LINE_STRIP=3,e.prototype.TRIANGLES=4,e.prototype.TRIANGLE_STRIP=5,e.prototype.TRIANGLE_FAN=6,e.prototype.ZERO=0,e.prototype.ONE=1,e.prototype.SRC_COLOR=768,e.prototype.ONE_MINUS_SRC_COLOR=769,e.prototype.SRC_ALPHA=770,e.prototype.ONE_MINUS_SRC_ALPHA=771,e.prototype.DST_ALPHA=772,e.prototype.ONE_MINUS_DST_ALPHA=773,e.prototype.DST_COLOR=774,e.prototype.ONE_MINUS_DST_COLOR=775,e.prototype.SRC_ALPHA_SATURATE=776,e.prototype.FUNC_ADD=32774,e.prototype.BLEND_EQUATION=32777,e.prototype.BLEND_EQUATION_RGB=32777,e.prototype.BLEND_EQUATION_ALPHA=34877,e.prototype.FUNC_SUBTRACT=32778,e.prototype.FUNC_REVERSE_SUBTRACT=32779,e.prototype.BLEND_DST_RGB=32968,e.prototype.BLEND_SRC_RGB=32969,e.prototype.BLEND_DST_ALPHA=32970,e.prototype.BLEND_SRC_ALPHA=32971,e.prototype.CONSTANT_COLOR=32769,e.prototype.ONE_MINUS_CONSTANT_COLOR=32770,e.prototype.CONSTANT_ALPHA=32771,e.prototype.ONE_MINUS_CONSTANT_ALPHA=32772,e.prototype.BLEND_COLOR=32773,e.prototype.ARRAY_BUFFER=34962,e.prototype.ELEMENT_ARRAY_BUFFER=34963,e.prototype.ARRAY_BUFFER_BINDING=34964,e.prototype.ELEMENT_ARRAY_BUFFER_BINDING=34965,e.prototype.STREAM_DRAW=35040,e.prototype.STATIC_DRAW=35044,e.prototype.DYNAMIC_DRAW=35048,e.prototype.BUFFER_SIZE=34660,e.prototype.BUFFER_USAGE=34661,e.prototype.CURRENT_VERTEX_ATTRIB=34342,e.prototype.FRONT=1028,e.prototype.BACK=1029,e.prototype.FRONT_AND_BACK=1032,e.prototype.CULL_FACE=2884,e.prototype.BLEND=3042,e.prototype.DITHER=3024,e.prototype.STENCIL_TEST=2960,e.prototype.DEPTH_TEST=2929,e.prototype.SCISSOR_TEST=3089,e.prototype.POLYGON_OFFSET_FILL=32823,e.prototype.SAMPLE_ALPHA_TO_COVERAGE=32926,e.prototype.SAMPLE_COVERAGE=32928,e.prototype.NO_ERROR=0,e.prototype.INVALID_ENUM=1280,e.prototype.INVALID_VALUE=1281,e.prototype.INVALID_OPERATION=1282,e.prototype.OUT_OF_MEMORY=1285,e.prototype.CW=2304,e.prototype.CCW=2305,e.prototype.LINE_WIDTH=2849,e.prototype.ALIASED_POINT_SIZE_RANGE=33901,e.prototype.ALIASED_LINE_WIDTH_RANGE=33902,e.prototype.CULL_FACE_MODE=2885,e.prototype.FRONT_FACE=2886,e.prototype.DEPTH_RANGE=2928,e.prototype.DEPTH_WRITEMASK=2930,e.prototype.DEPTH_CLEAR_VALUE=2931,e.prototype.DEPTH_FUNC=2932,e.prototype.STENCIL_CLEAR_VALUE=2961,e.prototype.STENCIL_FUNC=2962,e.prototype.STENCIL_FAIL=2964,e.prototype.STENCIL_PASS_DEPTH_FAIL=2965,e.prototype.STENCIL_PASS_DEPTH_PASS=2966,e.prototype.STENCIL_REF=2967,e.prototype.STENCIL_VALUE_MASK=2963,e.prototype.STENCIL_WRITEMASK=2968,e.prototype.STENCIL_BACK_FUNC=34816,e.prototype.STENCIL_BACK_FAIL=34817,e.prototype.STENCIL_BACK_PASS_DEPTH_FAIL=34818,e.prototype.STENCIL_BACK_PASS_DEPTH_PASS=34819,e.prototype.STENCIL_BACK_REF=36003,e.prototype.STENCIL_BACK_VALUE_MASK=36004,e.prototype.STENCIL_BACK_WRITEMASK=36005,e.prototype.VIEWPORT=2978,e.prototype.SCISSOR_BOX=3088,e.prototype.COLOR_CLEAR_VALUE=3106,e.prototype.COLOR_WRITEMASK=3107,e.prototype.UNPACK_ALIGNMENT=3317,e.prototype.PACK_ALIGNMENT=3333,e.prototype.MAX_TEXTURE_SIZE=3379,e.prototype.MAX_VIEWPORT_DIMS=3386,e.prototype.SUBPIXEL_BITS=3408,e.prototype.RED_BITS=3410,e.prototype.GREEN_BITS=3411,e.prototype.BLUE_BITS=3412,e.prototype.ALPHA_BITS=3413,e.prototype.DEPTH_BITS=3414,e.prototype.STENCIL_BITS=3415,e.prototype.POLYGON_OFFSET_UNITS=10752,e.prototype.POLYGON_OFFSET_FACTOR=32824,e.prototype.TEXTURE_BINDING_2D=32873,e.prototype.SAMPLE_BUFFERS=32936,e.prototype.SAMPLES=32937,e.prototype.SAMPLE_COVERAGE_VALUE=32938,e.prototype.SAMPLE_COVERAGE_INVERT=32939,e.prototype.COMPRESSED_TEXTURE_FORMATS=34467,e.prototype.DONT_CARE=4352,e.prototype.FASTEST=4353,e.prototype.NICEST=4354,e.prototype.GENERATE_MIPMAP_HINT=33170,e.prototype.BYTE=5120,e.prototype.UNSIGNED_BYTE=5121,e.prototype.SHORT=5122,e.prototype.UNSIGNED_SHORT=5123,e.prototype.INT=5124,e.prototype.UNSIGNED_INT=5125,e.prototype.FLOAT=5126,e.prototype.DEPTH_COMPONENT=6402,e.prototype.ALPHA=6406,e.prototype.RGB=6407,e.prototype.RGBA=6408,e.prototype.LUMINANCE=6409,e.prototype.LUMINANCE_ALPHA=6410,e.prototype.UNSIGNED_SHORT_4_4_4_4=32819,e.prototype.UNSIGNED_SHORT_5_5_5_1=32820,e.prototype.UNSIGNED_SHORT_5_6_5=33635,e.prototype.FRAGMENT_SHADER=35632,e.prototype.VERTEX_SHADER=35633,e.prototype.MAX_VERTEX_ATTRIBS=34921,e.prototype.MAX_VERTEX_UNIFORM_VECTORS=36347,e.prototype.MAX_VARYING_VECTORS=36348,e.prototype.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,e.prototype.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,e.prototype.MAX_TEXTURE_IMAGE_UNITS=34930,e.prototype.MAX_FRAGMENT_UNIFORM_VECTORS=36349,e.prototype.SHADER_TYPE=35663,e.prototype.DELETE_STATUS=35712,e.prototype.LINK_STATUS=35714,e.prototype.VALIDATE_STATUS=35715,e.prototype.ATTACHED_SHADERS=35717,e.prototype.ACTIVE_UNIFORMS=35718,e.prototype.ACTIVE_ATTRIBUTES=35721,e.prototype.SHADING_LANGUAGE_VERSION=35724,e.prototype.CURRENT_PROGRAM=35725,e.prototype.NEVER=512,e.prototype.LESS=513,e.prototype.EQUAL=514,e.prototype.LEQUAL=515,e.prototype.GREATER=516,e.prototype.NOTEQUAL=517,e.prototype.GEQUAL=518,e.prototype.ALWAYS=519,e.prototype.KEEP=7680,e.prototype.REPLACE=7681,e.prototype.INCR=7682,e.prototype.DECR=7683,e.prototype.INVERT=5386,e.prototype.INCR_WRAP=34055,e.prototype.DECR_WRAP=34056,e.prototype.VENDOR=7936,e.prototype.RENDERER=7937,e.prototype.VERSION=7938,e.prototype.NEAREST=9728,e.prototype.LINEAR=9729,e.prototype.NEAREST_MIPMAP_NEAREST=9984,e.prototype.LINEAR_MIPMAP_NEAREST=9985,e.prototype.NEAREST_MIPMAP_LINEAR=9986,e.prototype.LINEAR_MIPMAP_LINEAR=9987,e.prototype.TEXTURE_MAG_FILTER=10240,e.prototype.TEXTURE_MIN_FILTER=10241,e.prototype.TEXTURE_WRAP_S=10242,e.prototype.TEXTURE_WRAP_T=10243,e.prototype.TEXTURE_2D=3553,e.prototype.TEXTURE=5890,e.prototype.TEXTURE_CUBE_MAP=34067,e.prototype.TEXTURE_BINDING_CUBE_MAP=34068,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_X=34069,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,e.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,e.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,e.prototype.MAX_CUBE_MAP_TEXTURE_SIZE=34076,e.prototype.TEXTURE0=33984,e.prototype.TEXTURE1=33985,e.prototype.TEXTURE2=33986,e.prototype.TEXTURE3=33987,e.prototype.TEXTURE4=33988,e.prototype.TEXTURE5=33989,e.prototype.TEXTURE6=33990,e.prototype.TEXTURE7=33991,e.prototype.TEXTURE8=33992,e.prototype.TEXTURE9=33993,e.prototype.TEXTURE10=33994,e.prototype.TEXTURE11=33995,e.prototype.TEXTURE12=33996,e.prototype.TEXTURE13=33997,e.prototype.TEXTURE14=33998,e.prototype.TEXTURE15=33999,e.prototype.TEXTURE16=34e3,e.prototype.TEXTURE17=34001,e.prototype.TEXTURE18=34002,e.prototype.TEXTURE19=34003,e.prototype.TEXTURE20=34004,e.prototype.TEXTURE21=34005,e.prototype.TEXTURE22=34006,e.prototype.TEXTURE23=34007,e.prototype.TEXTURE24=34008,e.prototype.TEXTURE25=34009,e.prototype.TEXTURE26=34010,e.prototype.TEXTURE27=34011,e.prototype.TEXTURE28=34012,e.prototype.TEXTURE29=34013,e.prototype.TEXTURE30=34014,e.prototype.TEXTURE31=34015,e.prototype.ACTIVE_TEXTURE=34016,e.prototype.REPEAT=10497,e.prototype.CLAMP_TO_EDGE=33071,e.prototype.MIRRORED_REPEAT=33648,e.prototype.FLOAT_VEC2=35664,e.prototype.FLOAT_VEC3=35665,e.prototype.FLOAT_VEC4=35666,e.prototype.INT_VEC2=35667,e.prototype.INT_VEC3=35668,e.prototype.INT_VEC4=35669,e.prototype.BOOL=35670,e.prototype.BOOL_VEC2=35671,e.prototype.BOOL_VEC3=35672,e.prototype.BOOL_VEC4=35673,e.prototype.FLOAT_MAT2=35674,e.prototype.FLOAT_MAT3=35675,e.prototype.FLOAT_MAT4=35676,e.prototype.SAMPLER_2D=35678,e.prototype.SAMPLER_CUBE=35680,e.prototype.VERTEX_ATTRIB_ARRAY_ENABLED=34338,e.prototype.VERTEX_ATTRIB_ARRAY_SIZE=34339,e.prototype.VERTEX_ATTRIB_ARRAY_STRIDE=34340,e.prototype.VERTEX_ATTRIB_ARRAY_TYPE=34341,e.prototype.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,e.prototype.VERTEX_ATTRIB_ARRAY_POINTER=34373,e.prototype.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,e.prototype.IMPLEMENTATION_COLOR_READ_TYPE=35738,e.prototype.IMPLEMENTATION_COLOR_READ_FORMAT=35739,e.prototype.COMPILE_STATUS=35713,e.prototype.LOW_FLOAT=36336,e.prototype.MEDIUM_FLOAT=36337,e.prototype.HIGH_FLOAT=36338,e.prototype.LOW_INT=36339,e.prototype.MEDIUM_INT=36340,e.prototype.HIGH_INT=36341,e.prototype.FRAMEBUFFER=36160,e.prototype.RENDERBUFFER=36161,e.prototype.RGBA4=32854,e.prototype.RGB5_A1=32855,e.prototype.RGB565=36194,e.prototype.DEPTH_COMPONENT16=33189,e.prototype.STENCIL_INDEX8=36168,e.prototype.DEPTH_STENCIL=34041,e.prototype.RENDERBUFFER_WIDTH=36162,e.prototype.RENDERBUFFER_HEIGHT=36163,e.prototype.RENDERBUFFER_INTERNAL_FORMAT=36164,e.prototype.RENDERBUFFER_RED_SIZE=36176,e.prototype.RENDERBUFFER_GREEN_SIZE=36177,e.prototype.RENDERBUFFER_BLUE_SIZE=36178,e.prototype.RENDERBUFFER_ALPHA_SIZE=36179,e.prototype.RENDERBUFFER_DEPTH_SIZE=36180,e.prototype.RENDERBUFFER_STENCIL_SIZE=36181,e.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,e.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,e.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,e.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,e.prototype.COLOR_ATTACHMENT0=36064,e.prototype.DEPTH_ATTACHMENT=36096,e.prototype.STENCIL_ATTACHMENT=36128,e.prototype.DEPTH_STENCIL_ATTACHMENT=33306,e.prototype.NONE=0,e.prototype.FRAMEBUFFER_COMPLETE=36053,e.prototype.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,e.prototype.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,e.prototype.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,e.prototype.FRAMEBUFFER_UNSUPPORTED=36061,e.prototype.FRAMEBUFFER_BINDING=36006,e.prototype.RENDERBUFFER_BINDING=36007,e.prototype.MAX_RENDERBUFFER_SIZE=34024,e.prototype.INVALID_FRAMEBUFFER_OPERATION=1286,e.prototype.VERTEX_ARRAY_BINDING=34229,e.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,e.prototype.UNPACK_FLIP_Y_WEBGL=37440,e.prototype.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,e.prototype.CONTEXT_LOST_WEBGL=37442,e.prototype.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,e.prototype.BROWSER_DEFAULT_WEBGL=37444,e.prototype.SHADER_BINARY_FORMATS=36344,e.prototype.NUM_SHADER_BINARY_FORMATS=36345,e.prototype.NUM_COMPRESSED_TEXTURE_FORMATS=34466,e.prototype.TRUE=!0,e.prototype.FALSE=!1}},function(e,t){__TT__GLOBAL__;var r,n,o,i=__TT__GLOBAL__;__TT__GLOBAL__;r=i.__ttObjdec__,n=[],o=function(){var e={};return e._worker=new r.Triton.Worker,e.runScript=function(t){e._worker.runScript(t)},e.postMessage=function(t){t=WeixinNativeBuffer.pack(t);var r=JSON.stringify(t);e._worker.postMessage(r)},e.onMessage=function(e){n.push(e)},e.terminate=function(){e._worker.terminate()},e._worker.onMessage(function(e){var t=WeixinNativeBuffer.unpack(e);n.forEach(function(e){e(t)})}),e},r.worker=o()},function(e,t,r){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){n.setTimeout=function(t,r){return r=r||0,e.Triton.MessageQueue.setTimeout(t,r)},n.clearTimeout=function(t){e.Triton.MessageQueue.removeTimeout(t)},n.setInterval=function(t,r){r=r||0;var n={};return n.id=e.Triton.MessageQueue.setTimeout(function o(){n.id=e.Triton.MessageQueue.setTimeout(o,r),t()},r),n},n.clearInterval=function(t){t&&"number"==typeof t.id&&e.Triton.MessageQueue.removeTimeout(t.id)};var t=0,r=new Map,o=new Map;n.requestAnimationFrame=function(e){if("function"==typeof e){var n=t++;return r.set(n,e),n}},n.cancelAnimationFrame=function(e){r.delete(e)},e.Triton.__processAnimateFrame__=function(e){var t=r;r=o;var n=!0,i=!1,a=void 0;try{for(var s,u=t.values()[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){(0,s.value)(e)}}catch(e){i=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}t.clear(),o=t}}(n.__ttObjdec__),function(e){var t=r(20).FlushType,o=!1;function i(){return scriptEngineContextType&&(scriptEngineContextType==CONTEXT_TYPE_MAIN||scriptEngineContextType==CONTEXT_TYPE_OPENDATA)}wx.__tt___changeGameState__=function(e){o=!e},i()&&e.Triton.Director.init(),e.Triton.__onVSync__=function(r){o?i()&&n.q9zq.saveToFile():(i()&&n.q9zq.frameStart(),e.Triton.__processAnimateFrame__(r),i()&&(null!=e.lastMergeCanvas&&(e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=null),e.CommandQueueV2.Instance.flushCmd(t.FLUSH_TYPE_END_FRAME),e.CommandQueue.Instance.flushCmd()))}}(n.__ttObjdec__),function(e){function t(){return Date.now()}var r=t(),o=function(){return t()-r};n.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return e.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(e){n.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout(function(){n.timePerformanceResult("",e)},0))},FrameProfileEnd:function(e){if(n.timePerformanceResult){this.FrameProfileRunning=!1;var t=this.getDataStr();setTimeout(function(){n.timePerformanceResult(t,e)},0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=o(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(o()-this.frameStartTime>16?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t=this.fpIndex+"_"+this.funIndex+"_"+e;return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:o(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var r=o(),n=this.tempFrameRec[this.lastRecIndex];n.callIndex==t.s&&r-n.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:o(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var r=[],n=[],o=0;o<t.list.length;o++){if("start"==(l=t.list[o]).type)r.push(l),n.push(l);else for(;;){var i=r.pop();if(!i){l.disable=!0,__err("打点数据出现非预期的异常情况(只有end，没有start)");break}if(i.callIndex==l.callIndex){l.searchInfo="searchInfo: "+i.key+"_"+(l&&l.time-i.time),n.push(l);break}i.disable=!0,n.push({key:i.key,type:"end",time:l&&l.time,callIndex:i.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: "+i.key+"_"+(l&&l.time-i.time)+"_exception"})}}for(var a=n[n.length-1]&&n[n.length-1].time,s=r.length-1;s>=0;s--){var u=r[s];u.disable=!0,n.push({key:u.key,type:"end",time:a,callIndex:u.callIndex,addedPoint:!0})}for(var c=[],f=0;f<t.list.length;f++){var l;(l=t.list[f]).disable||c.push(l)}t.list=n}}var p=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,p}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),r=t.getSeconds()+":"+t.getHours()+":"+t.getMinutes();this.moniterFileTime=r,this.moniterFileIndex=0}var n="wxfile://usr/js_time_monitor_"+ ++this.moniterFileIndex+"_"+this.moniterFileTime+".json";wx.getFileSystemManager().writeFile({filePath:n,data:e,success:function(){console.log("save moniter success: "+n)}})}}}}(n.__ttObjdec__)},function(e,t){var r=__TT__GLOBAL__;!function(e){var t={};function n(r){t[r]||e.Triton.Script.loadJS(r)}function o(e){var t=e.match(/(.*)\/([^\/]+)?$/);return t&&t[1]?t[1]:"./"}function i(e,t){if("string"!=typeof t)throw new Error("require args must be a string");for(var r=[],n=(e+"/"+t).split("/"),o=0,i=n.length;o<i;++o){var a=n[o];if(""!==a&&"."!==a)if(".."===a){if(0===r.length)throw new Error("can't find module : "+t);r.pop()}else o+1<i&&".."===n[o+1]?o++:r.push(a)}var s=r.join("/");return/\.js$/.test(s)||(s+=".js"),s}function a(e,t){if(1===e.status){var r,n=e.factory,o={exports:{}};n&&(r=n(t,o,o.exports)),e.exports=o.exports||r,e.status=2}}function s(e){var r=o(e);return function(e){return function(e){n(e);var r=t[e];return a(r,s(e)),r.exports}(i(r,e))}}var u,c={},f={};function l(e){var t=f[e];if(void 0===t)throw new Error("can't find plugin "+e);return"__plugin__/"+t}r.__tt__allModules=t,r.define=function(e,r){t[e]||(t[e]={exports:{},factory:r,status:1})},r.definePlugin=function(e,t,r){f[e]=t,r(function(e,t){c[e]||(c[e]={exports:{},factory:t,status:1})})},r.require=s(""),r.requirePlugin=function(t){var r=t.match(/([^\/]+)(\/(.*))?/);if(r){var n=r[1],s=r[3];!function(t){f[t]||e.Triton.Script.loadPlugin(t)}(n);var u=function e(t,r){return function(n){var s;if(void 0!==n){if(!(s=i(o(r),n)).startsWith(l(t)+"/"))throw new Error("invalid plugin file "+t+"/"+n)}else{if(r!==l(t))throw new Error("require args must be a string");s=l(t)+".js"}var u=c[s];if(void 0===u)throw n?new Error("can't find plugin file "+t+" "+n):new Error("can't find plugin "+t);return a(u,e(t,s)),u.exports}}(n,l(n));u(void 0===s?void 0:f[n]+"/"+s)}},r.__tt__preloadjs=(u=o(""),function(e){n(i(u,e))})}(r.__ttObjdec__)},,,,,function(e,t,r){var n=r(84),o=r(43),i=r(85);e.exports=function(e){return n(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t,r){var n=__TT__GLOBAL__,o=(n.__ttObjdec__,r(3));!function(e){null==wx.webglPlus&&(wx.webglPlus={}),o.isIOS&&(_conchFloatArrayKeyframe=void 0,_conchKeyframeNode=void 0,_conchKeyframeNodeList=void 0,_ArrayBufferRef=void 0);var t,r,n,i,a=501,s=502,u=503,c=504,f=505;!function(e){e[e.INTERIOR_UNIFORM1F=0]="INTERIOR_UNIFORM1F",e[e.INTERIOR_UNIFORM1FV=1]="INTERIOR_UNIFORM1FV",e[e.INTERIOR_UNIFORM1I=2]="INTERIOR_UNIFORM1I",e[e.INTERIOR_UNIFORM1IV=3]="INTERIOR_UNIFORM1IV",e[e.INTERIOR_UNIFORM2F=4]="INTERIOR_UNIFORM2F",e[e.INTERIOR_UNIFORM2FV=5]="INTERIOR_UNIFORM2FV",e[e.INTERIOR_UNIFORM2I=6]="INTERIOR_UNIFORM2I",e[e.INTERIOR_UNIFORM2IV=7]="INTERIOR_UNIFORM2IV",e[e.INTERIOR_UNIFORM3F=8]="INTERIOR_UNIFORM3F",e[e.INTERIOR_UNIFORM3FV=9]="INTERIOR_UNIFORM3FV",e[e.INTERIOR_UNIFORM3I=10]="INTERIOR_UNIFORM3I",e[e.INTERIOR_UNIFORM3IV=11]="INTERIOR_UNIFORM3IV",e[e.INTERIOR_UNIFORM4F=12]="INTERIOR_UNIFORM4F",e[e.INTERIOR_UNIFORM4FV=13]="INTERIOR_UNIFORM4FV",e[e.INTERIOR_UNIFORM4I=14]="INTERIOR_UNIFORM4I",e[e.INTERIOR_UNIFORM4IV=15]="INTERIOR_UNIFORM4IV",e[e.INTERIOR_UNIFORMMATRIX2FV=16]="INTERIOR_UNIFORMMATRIX2FV",e[e.INTERIOR_UNIFORMMATRIX3FV=17]="INTERIOR_UNIFORMMATRIX3FV",e[e.INTERIOR_UNIFORMMATRIX4FV=18]="INTERIOR_UNIFORMMATRIX4FV",e[e.INTERIOR_UNIFORMSAMPLER_2D=19]="INTERIOR_UNIFORMSAMPLER_2D",e[e.INTERIOR_UNIFORMSAMPLER_CUBE=20]="INTERIOR_UNIFORMSAMPLER_CUBE"}(t||(t={})),function(e){e[e.ARRAY_BUFFER_REF_REFERENCE=0]="ARRAY_BUFFER_REF_REFERENCE",e[e.ARRAY_BUFFER_REF_COPY=1]="ARRAY_BUFFER_REF_COPY"}(r||(r={})),function(e){e[e.UPLOAD_SHADER_UNIFORM_TYPE_ID=0]="UPLOAD_SHADER_UNIFORM_TYPE_ID",e[e.UPLOAD_SHADER_UNIFORM_TYPE_DATA=1]="UPLOAD_SHADER_UNIFORM_TYPE_DATA"}(n||(n={})),function(e){e[e.ARRAY_BUFFER_TYPE_DATA=0]="ARRAY_BUFFER_TYPE_DATA",e[e.ARRAY_BUFFER_TYPE_CMD=1]="ARRAY_BUFFER_TYPE_CMD"}(i||(i={}));var l=function(){function t(){o.isAndroid?this._nativeObj=new _conchFloatArrayKeyframe:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createFloatArrayKeyframe())}return Object.defineProperty(t.prototype,"time",{get:function(){return this._nativeObj.getTime()},set:function(e){this._nativeObj.setTime(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this._nativeObj.setData(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inTangent",{get:function(){return this._inTangent},set:function(e){this._inTangent=e,this._nativeObj.setInTangent(this._inTangent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outTangent",{get:function(){return this._outTangent},set:function(e){this._outTangent=e,this._nativeObj.setOutTangent(this._outTangent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this._nativeObj.setValue(this._value)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){var e=new t;return this.cloneTo(e),e},t.prototype.cloneTo=function(e){e.inTangent=this._inTangent.slice(),e.outTangent=this._outTangent.slice(),e.value=this._value.slice(),e.data=this._data.slice()},t}();if(wx.webglPlus.conchFloatArrayKeyframe=l,o.isIOS)var p=function(){function t(){this._nativeObj=e.webglPlusUtil.createFloatKeyframe()}t.prototype.clone=function(){var e=new t,r=this._nativeObj.clone();return e._nativeObj=r,e},t.prototype.cloneTo=function(e){this._nativeObj.cloneTo(e._nativeObj)},Object.defineProperty(t.prototype,"time",{get:function(){return this._nativeObj.time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inTangent",{get:function(){return this._nativeObj.inTangent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outTangent",{get:function(){return this._nativeObj.outTangent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._nativeObj.value},enumerable:!0,configurable:!0})}();wx.webglPlus.conchFloatKeyframe=p;var _=function(){function t(){this._keyFrameArray=[],this._type=0,this._setKeyframeByIndex=function(e,t){this._keyFrameArray[e]=t,t instanceof l?this._nativeObj._setKeyframeByIndex1(e,t._nativeObj):o.isIOS?this._nativeObj._setKeyframeByIndex0(e,t._nativeObj):this._nativeObj._setKeyframeByIndex0(e,t)},o.isAndroid?this._nativeObj=new _conchKeyframeNode:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createKeyframeNode())}return Object.defineProperty(t.prototype,"data",{get:function(){return 0==this._type?this._nativeObj.getFloatData():this._data},set:function(e){this._data=e,this._nativeObj.setFloat32ArrayData(this._data.elements)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indexInList",{get:function(){return this._nativeObj._indexInList},set:function(e){this._nativeObj._indexInList=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,this._nativeObj.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._nativeObj.fullPath},set:function(e){this._nativeObj.fullPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyOwner",{get:function(){return this._nativeObj.propertyOwner},set:function(e){this._nativeObj.propertyOwner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ownerPathCount",{get:function(){return this._nativeObj.ownerPathCount},set:function(e){this._nativeObj.ownerPathCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyCount",{get:function(){return this._nativeObj.propertyCount},set:function(e){this._nativeObj.propertyCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyFramesCount",{get:function(){return this._keyFrameArray.length},set:function(e){this._keyFrameArray.length=e,this._nativeObj.keyFramesCount=e},enumerable:!0,configurable:!0}),t.prototype.getOwnerPathCount=function(){return this._nativeObj.getOwnerPathCount()},t.prototype._setOwnerPathCount=function(e){this._nativeObj._setOwnerPathCount(e)},t.prototype.getPropertyCount=function(){return this._nativeObj.getPropertyCount()},t.prototype._setPropertyCount=function(e){this._nativeObj._setPropertyCount(e)},t.prototype.getKeyFramesCount=function(){return this._keyFrameArray.length},t.prototype._setKeyframeCount=function(e){this._keyFrameArray.length=e,this._nativeObj._setKeyframeCount(e)},t.prototype.getOwnerPathByIndex=function(e){return this._nativeObj.getOwnerPathByIndex(e)},t.prototype._setOwnerPathByIndex=function(e,t){this._nativeObj._setOwnerPathByIndex(e,t)},t.prototype.getPropertyByIndex=function(e){return this._nativeObj.getPropertyByIndex(e)},t.prototype._setPropertyByIndex=function(e,t){this._nativeObj._setPropertyByIndex(e,t)},t.prototype.getKeyframeByIndex=function(e){return this._nativeObj.getKeyframeByIndex(e)},t.prototype._joinOwnerPath=function(e){return this._nativeObj._joinOwnerPath(e)},t.prototype._joinProperty=function(e){return this._nativeObj._joinProperty(e)},t}();wx.webglPlus.conchKeyframeNode=_;var d=function(){function t(){this._nodes=[],o.isAndroid?this._nativeObj=new _conchKeyframeNodeList:o.isIOS&&(this._nativeObj=e.webglPlusUtil.createKeyframeNodeList())}return Object.defineProperty(t.prototype,"count",{get:function(){return this._nodes.length},set:function(e){this._nodes.length=e,this._nativeObj.setCount(e)},enumerable:!0,configurable:!0}),t.prototype.getNodeByIndex=function(e){return this._nodes[e]},t.prototype.setNodeByIndex=function(e,t){this._nodes[e]=t,this._nativeObj.setNodeByIndex(e,t._nativeObj)},t}();wx.webglPlus.conchKeyframeNodeList=d;var h=function(){function r(e,t,r,n){this._adjustSize=0,this._byteLen=0,this._isSyncToRenderThread=!1,this._isSyncToRenderThread=n,this._layagl=e,this._byteLen=t,this._adjustSize=r,this._init(n)}return r.prototype._init=function(e){this._buffer=new ArrayBuffer(this._byteLen),this._idata=new Int32Array(this._buffer),this._fdata=new Float32Array(this._buffer),this._byteArray=new Uint8Array(this._buffer),this._layagl.createArrayBufferRef(this._buffer,i.ARRAY_BUFFER_TYPE_CMD,e),this._idata[0]=1},r.prototype.getAlignLength=function(e){return e.byteLength+3&4294967292},r.prototype.getPtrID=function(){return this._buffer._ptrID},r.prototype.clearEncoding=function(){this._idata[0]=1},r.prototype.getCount=function(){return this._idata[0]},r.prototype._need=function(t){if(!(this._byteLen-(this._idata[0]<<2)>=t)){this._byteLen+=t>this._adjustSize?t:this._adjustSize;var r=this._idata,n=this._buffer.conchRef,i=this._buffer._ptrID;this._buffer=new ArrayBuffer(this._byteLen),this._idata=new Int32Array(this._buffer),this._fdata=new Float32Array(this._buffer),this._byteArray=new Uint8Array(this._buffer),this._buffer.conchRef=n,this._buffer._ptrID=i,r&&this._idata.set(r,0),o.isAndroid?e.webglPlus.updateArrayBufferRef(this._buffer._ptrID,n.isSyncToRender(),this._buffer):o.isIOS&&this._layagl.__nativeObj.updateArrayBufferRef(this._buffer._ptrID,n.isSyncToRender(),this._buffer)}},r.prototype.addShaderUniform=function(e){var n=0,o=e.isArray;switch(e.type){case r.INT:n=o?t.INTERIOR_UNIFORM1IV:t.INTERIOR_UNIFORM1I;break;case r.FLOAT:n=o?t.INTERIOR_UNIFORM1FV:t.INTERIOR_UNIFORM1F;break;case r.FLOAT_VEC2:n=o?t.INTERIOR_UNIFORM2FV:t.INTERIOR_UNIFORM2F;break;case r.FLOAT_VEC3:n=o?t.INTERIOR_UNIFORM3FV:t.INTERIOR_UNIFORM3F;break;case r.FLOAT_VEC4:n=o?t.INTERIOR_UNIFORM4FV:t.INTERIOR_UNIFORM4F;break;case r.SAMPLER_2D:n=t.INTERIOR_UNIFORMSAMPLER_2D;break;case r.SAMPLER_CUBE:n=t.INTERIOR_UNIFORMSAMPLER_CUBE;break;case r.FLOAT_MAT4:n=t.INTERIOR_UNIFORMMATRIX4FV;break;case r.BOOL:n=t.INTERIOR_UNIFORM1I;break;case r.FLOAT_MAT2:n=t.INTERIOR_UNIFORMMATRIX2FV;break;case r.FLOAT_MAT3:n=t.INTERIOR_UNIFORMMATRIX3FV;break;default:throw new Error("compile shader err!")}this._layagl.syncBufferToRenderThread(this._buffer),this.add_iiiiiii(24,3,n,e.location.id,e.type,e.dataOffset,e.textureID)},r.prototype.add_iiiiiii=function(e,t,r,n,o,i,a){this._need(28);var s=this._idata,u=s[0];s[u++]=e,s[u++]=t,s[u++]=r,s[u++]=n,s[u++]=o,s[u++]=i,s[u++]=a,s[0]=u},r}();h.INT=5124,h.FLOAT=5126,h.FLOAT_VEC2=35664,h.FLOAT_VEC3=35665,h.FLOAT_VEC4=35666,h.INT_VEC2=35667,h.INT_VEC3=35668,h.INT_VEC4=35669,h.BOOL=35670,h.BOOL_VEC2=35671,h.BOOL_VEC3=35672,h.BOOL_VEC4=35673,h.FLOAT_MAT2=35674,h.FLOAT_MAT3=35675,h.FLOAT_MAT4=35676,h.SAMPLER_2D=35678,h.SAMPLER_CUBE=35680,e.extendWebGLPlusToWebGLContext=function(t){var l=e.CommandQueue.Instance;t.prototype.getAlignLength=h.prototype.getAlignLength,t.prototype.createArrayBufferRef=function(t,n,i){if(o.isAndroid)var a=e.webglPlus.createArrayBufferRef(t,n,i,r.ARRAY_BUFFER_REF_REFERENCE);else{if(!o.isIOS)return;a=this.__nativeObj.createArrayBufferRef(t,n,i,r.ARRAY_BUFFER_REF_REFERENCE)}return t.conchRef=a,t._ptrID=a.id,a},t.prototype.createArrayBufferRefs=function(t,n,i,a){t._refArray||(t._refArray=[],t._refNum=1,t._refArray.length=1,t.getRefNum=function(){return this._refNum},t.clearRefNum=function(){this._refNum=1},t.getRefSize=function(){return this._refArray.length},t.getPtrID=function(e){return e=e||0,this._refArray[e].ptrID});var s=null;if(a==r.ARRAY_BUFFER_REF_REFERENCE){var u=t._refArray;u[0]||(o.isAndroid?s=e.webglPlus.createArrayBufferRef(t,n,i,a):o.isIOS&&(s=this.__nativeObj.createArrayBufferRef(t,n,i,a)),u[0]={ref:s,ptrID:s.id})}else{if(t._refNum<t._refArray.length){s=t._refArray[t._refNum].ref;var c=t.getPtrID(t._refNum);o.isAndroid?e.webglPlus.syncArrayBufferDataToRuntime(c,s.isSyncToRender(),t):o.isIOS&&this.__nativeObj.syncArrayBufferDataToRuntime(c,s.isSyncToRender(),t)}else o.isAndroid?s=e.webglPlus.createArrayBufferRef(t,n,i,a):o.isIOS&&(s=this.__nativeObj.createArrayBufferRef(t,n,i,a)),t._refArray.push({ref:s,ptrID:s.id});t._refNum++}return s},t.prototype.updateArrayBufferRef=function(t,r,n){return o.isAndroid?e.webglPlus.updateArrayBufferRef(t,r,n):o.isIOS?this.__nativeObj.updateArrayBufferRef(t,r,n):void 0},t.prototype.updateAnimationNodeWorldMatix=function(t,r,n,i,a){return o.isAndroid?e.webglPlus.updateAnimationNodeWorldMatix(t,r,n,i,a):o.isIOS?this.__nativeObj.updateAnimationNodeWorldMatix(t,r,n,i,a):void 0},t.prototype.computeSubSkinnedData=function(t,r,n,i,a,s){return o.isAndroid?e.webglPlus.computeSubSkinnedData(t,r,n,i,a,s):o.isIOS?this.__nativeObj.computeSubSkinnedData(t,r,n,i,a,s):void 0},t.prototype.evaluateClipDatasRealTime=function(t,r,n,i,a){o.isAndroid?e.webglPlus.evaluateClipDatasRealTime(t,r,n,i,a):o.isIOS&&this.__nativeObj.evaluateClipDatasRealTime(t,r,n,i,null!=a&&a)},t.prototype.culling=function(t,r,n,i,a){return o.isAndroid?e.webglPlus.culling(t,r,n,i,a):o.isIOS?this.__nativeObj.culling(t,r,n,i,a):void 0},t.prototype.createCommandEncoder=function(e,t,r){var n=new h(this,e=e||128,t=t||64,r=r||!1);return r&&this.syncBufferToRenderThread(n),n},t.prototype.syncBufferToRenderThread=function(e,t){void 0===t&&(t=0)},t.prototype.uploadShaderUniforms=function(t,r,i){if(i==n.UPLOAD_SHADER_UNIFORM_TYPE_ID){var u=r._ptrID;this.syncBufferToRenderThread(r),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,a,1,0,2,t._buffer._ptrID,u):this.__nativeObj.uploadShaderUniforms(t._buffer._ptrID,u):o.isIOS&&(l.enableCommandQueue?l.pushCommand(this.__nativeObj,a,1,0,2,!0,t._buffer._ptrID,u):this.__nativeObj.uploadShaderUniforms(t._buffer._ptrID,u))}else{this.getAlignLength(r);var c=new ArrayBuffer(r.byteLength),f=new Uint8Array(c),p=new Uint8Array(r);f.set(p),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,s,1,0,2,t._buffer._ptrID,c):this.__nativeObj.uploadShaderUniformsBuffer(t._buffer._ptrID,c):o.isIOS&&(l.flushCmd(),this.__nativeObj.uploadShaderUniformsBuffer(t._buffer._ptrID,c))}return 0},t.prototype.uniformMatrix2fvEx=function(t,r,n){n._ptrID||this.createArrayBufferRef(n,i.ARRAY_BUFFER_TYPE_DATA,!0);var a=n._ptrID;this.syncBufferToRenderThread(n),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,u,1,0,3,t.id,r,a):this.__nativeObj.uniformMatrix2fvEx(t.id,r,a):o.isIOS&&(l.enableCommandQueue?l.pushCommand(this.__nativeObj,u,1,0,3,!1,t.id,r,a):this.__nativeObj.uniformMatrix2fvEx(t.id,r,a))},t.prototype.uniformMatrix3fvEx=function(t,r,n){n._ptrID||this.createArrayBufferRef(n,i.ARRAY_BUFFER_TYPE_DATA,!0);var a=n._ptrID;this.syncBufferToRenderThread(n),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,c,1,0,3,t.id,r,a):this.__nativeObj.uniformMatrix3fvEx(t.id,r,a):o.isIOS&&(l.enableCommandQueue?l.pushCommand(this.__nativeObj,c,1,0,3,!1,t.id,r,a):this.__nativeObj.uniformMatrix3fvEx(t.id,r,a))},t.prototype.uniformMatrix4fvEx=function(t,r,n){n._ptrID||this.createArrayBufferRef(n,i.ARRAY_BUFFER_TYPE_DATA,!0);var a=n._ptrID;this.syncBufferToRenderThread(n),o.isAndroid?e.CommandQueue.Instance.enableCommandQueue?e.CommandQueue.Instance.pushCommand(this.__nativeObj,f,1,0,3,t.id,r,a):this.__nativeObj.uniformMatrix4fvEx(t.id,r,a):o.isIOS&&(l.enableCommandQueue?l.pushCommand(this.__nativeObj,f,1,0,3,!1,t.id,r,a):this.__nativeObj.uniformMatrix4fvEx(t.id,r,a))}}}(n.__ttObjdec__)},function(e,t,r){var n=r(0),o=r(10),i=r(2);function a(e,t,r){var n=e+":fail "+t;r&&r.fail&&r.fail?r.fail({errMsg:n}):console.error(n)}n.normalAPIMutations({openScheme:{toNativeEventName:"openScheme"}}),wx.openGroupProfile=function(e){o._reportAPICallToDC04239("openGroupProfile"),o._reportAPICall({apiname:"openGroupProfile",param:e&&e.groupId||""}),e&&e.groupId&&function(e){if(__wxConfig&&__wxConfig.gameJson&&__wxConfig.gameJson&&__wxConfig.gameJson.groupIdList)return __wxConfig.gameJson.groupIdList.indexOf(e)>=0;return!1}(e.groupId)?wx.openScheme({api_name:"mqqapi://card/show_pslcard",data:{src_type:"internal",version:"1",card_type:"group",jump_from:"miniapp",uin:e.groupId},success:function(t){e&&e.success&&e.success({errMsg:"openGroupProfile:ok"})},fail:function(t){e&&e.fail&&e.fail({errMsg:"openGroupProfile:fail"})}}):e&&e.fail&&e.fail({errMsg:"openGroupProfile:fail no permission"})},wx.openPublicProfile=function(e){var t="openPublicProfile";if(o._reportAPICallToDC04239("openPublicProfile"),o._reportAPICall({apiname:"openPublicProfile",param:e&&e.publicId||""}),e){var r=i.checkParam(e,{publicId:""},"openPublicProfile");if(r)a(t,r,e);else{var n=function(e){var t=__qqConfig,r=t.gameJson&&t.gameJson.publicIdList,n="";if(!r)return n="请在game.json中配置publicIdList字段";if("[object Array]"!==Object.prototype.toString.call(r))return n="game.json中publicIdList字段需要是数组";if(r.length>1)return n="game.json中配置的publicIdList字段元素个数要小于等于1";var o=[];if(r.forEach(function(e,t){"[object String]"!==Object.prototype.toString.call(e)&&o.push("game.json publicIdList["+t+"] should be string")}),o.length)return n=o.join("\n");if(-1===r.indexOf(e))return n="game.json的publicIdList字段中没有配置此公众号";return n}(e.publicId);if(n)a(t,n,e);else{if("devtools"===__qqConfig.platform)return void a(t,"开发者工具不支持openPublicProfile接口，请在真机进行调试",e);wx.openScheme({api_name:"mqqapi://card/show_pslcard",data:{src_type:"internal",card_type:"public_account",uin:String(e.publicId),version:"1"},success:function(t){e&&e.success&&e.success({errMsg:"openPublicProfile:ok"})},fail:function(t){e&&e.fail&&e.fail({errMsg:"openPublicProfile:fail"})}})}}}else a(t,"参数为空",e)}},function(e,t,r){var n=r(0);n.normalAPIMutations({updateVoIPChatMuteConfig:{canIUse:{"1.4.7":{success:[],object:[{muteConfig:["muteMicrophone","muteEarphone"]}]}},toNativeEventName:"updateVoIPChatMuteConfig",paramHandlers:function(e,t){return e[0]}},joinVoIPChat:{canIUse:{"1.4.7":{success:["openIdList","errCode"],object:["signature","nonceStr","timeStamp","groupId",{muteConfig:["muteMicrophone","muteEarphone"]}]}},toNativeEventName:"joinVoIPChat",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){var r,n=e[0],o=n.signature,i=n.nonceStr,a=n.timeStamp,s=n.groupId,u=Object.prototype.toString;function c(e){return u.call(e).slice(8,-1)}return"String"!==c(o)?r="paramter signature should be string":"String"!==c(i)?r="paramter nonceStr should be string":"Number"!==c(a)||a<0?r="paramter nonceStr should be a positive integer":"String"!==c(s)&&(r="paramter nonceStr should be string"),r&&(e[0].fail&&e[0].fail("joinVoIPChat:fail "+r),e[0].isFail=!0),e[0]}},exitVoIPChat:{canIUse:{"1.4.7":{}},toNativeEventName:"exitVoIPChat"}}),n.bindAPIMutations({canIUse:{"1.4.7":{callback:["errCode"]}},bindAPIName:"onVoIPChatInterrupted",toNativeEventName:"onVoIPChatInterrupted"}),n.bindAPIMutations({canIUse:{"1.4.7":{callback:["openIdList","errCode"]}},bindAPIName:"onVoIPChatMembersChanged",toNativeEventName:"onVoIPChatMembersChanged"}),n.bindAPIMutations({canIUse:{"1.4.7":{callback:["openIdList","errCode"]}},bindAPIName:"onVoIPChatSpeakersChanged",toNativeEventName:"onVoIPChatSpeakersChanged"})},function(e,t,r){r(0);var n=r(10);r(3);wx.reportRegister=function(){var e={actiontype:"game_inner",sub_actiontype:"regist"};n._reportDataToDC04239(e)},wx.reportLogin=function(){var e={actiontype:"game_inner",sub_actiontype:"login"};n._reportDataToDC04239(e)},wx.reportMobileGameAD=function(e){var t=e;n._reportDataToDC04682(t)}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){(function(e){window.__tt__start__loadJSSDK=!0;var t,n=r(3),o=r(74),i=r(75),a=e.__ttObjdec__;if((n.isIOS||n.isAndroid)&&a&&null==a.Triton){a.Triton=Triton;try{Triton=void 0}catch(e){}}function s(){var e=window.wx||{};__ttObjdec__.privateApi={};var t=r(5),o=r(6),i=r(0),a=r(91);window.WeixinJSBridge=o,r(95),r(133),r(45),r(46),r(134),r(135),r(136),r(137);var s=t.normalAPIFactory(i.getNormalAPIConfigs()),u=t.bindEventAPIFactory(i.getBindAPIConfigs());if(e=Object.assign(e,s,u),n.isDevtool||n.isIOS){var c=r(138);e=Object.assign(e,c,a)}for(var f in __ttObjdec__.privateApi)delete e[f];window.wx=e,window.qq=wx}function u(){var e=window.wx||{},t=r(171).requestMidasPayment;e.requestMidasPayment=t}n.isDevtool?(s(),t=r(15),window.define=t.define,window.require=t.require,window.requirePlugin=t.requirePlugin,u()):n.isAndroid?(r(151),r(152),r(153),r(154),r(155),r(159),r(160),r(161),r(35),r(164),r(165),r(166),r(167),r(36),r(37),s(),u(),r(47),e.timePerformanceResult=wx.timePerformanceResult):(!function(){var t,n=e.__ttObjdec__;if(n.util=new n.Triton.GlobalUtil,n.Map=Map,n.isMainService=!0,n.webglPlusUtil=new n.Triton.WebGLPlusUtil,r(78),r(79),r(80),r(81),r(82),t=r(76),Promise=void 0,Promise=t,r(83),r(86),r(87),r(88),r(90),__wxConfig&&__wxConfig.systemVersion){var o=__wxConfig.systemVersion.split(".");o.length>0&&parseInt(o[0])<10&&r(30)}}(),s(),u(),r(150),r(139),r(140),r(141),r(142),r(143),r(47),r(144),r(145),r(146),r(147));try{if(o()){var c=window.wx;window.wx=i.getProxy(c,"game"),window.qq=window.wx}}catch(e){console.error("ProxyApiReport error",e)}window.__tt__success__loadJSSDK=!0}).call(this,r(4))},function(e,t,r){e.exports&&(e.exports=function(e){if("undefined"==typeof Proxy)return!1;if("undefined"==typeof __wxConfig)return!1;var t=__wxConfig,r=t.platform,n=(t.frameworkInfo,t.QUA);return"devtools"!==r&&!!(n&&n.indexOf("RDM")>-1)})},function(e,t,r){function n(e,t,r){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&o(i,r.prototype),i}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ProxyReport=function(){var e,t,r,o,a,s,u,c,f,l,p="https://www.urlshare.cn/qqqzonetest/miniapp/api/base_lib_report",_=1e3,d=new Map,h=1e3,m=5e3,y=[],v="",g="",b="",E={},A={},O={},I=1,T=!1,S=!1,N=3e3,w=function(e){return"timeout_maybe"!=e&&"warn"!=e},C=["report_user_api","report_user_api_logic","__nativeObj","currentContext","createCanvas","addEventListener","dispatchEvent","handleImgUrl","loadImg","constructor","__proto__","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","offTouchStart","offTouchMove","offTouchEnd","offTouchCancel"],R=["createImage","getContext"],M="devtools"===__wxConfig.platform,P=1;function j(){if(T)return P++;for(var e=Math.floor(1e5*Math.random())+"";e.length<5;)e="0"+e;return Date.now()+"_"+e}function D(e){var t=d.get(e)||[];t.st&&clearTimeout(t.st),t.st=a(function(){d.delete(e)},2e3);var r=Date.now(),n=t.length>=10,o=!n||r-t[0]>1e3;return n&&t.shift(),t.push(r),d.set(e,t),o}function x(e){return C.includes(e)}function L(e){for(var t=0,r=e.length,n=5388;t<r;++t)n+=n+e.charAt(t).charCodeAt();return 2147483647&n}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;try{if(!e)return e;var r=i(e);if("string"===r)return function(e){return e?e.length>_?{type:"string",length:e.length,value:"".concat(e.slice(0,_),"...")}:e:String(e)}(e);if("function"===r)return"function";if("object"===i(e)){var n=Array.isArray(e),o=n?[]:{};return t>2?i(e):(Object.keys(e).forEach(function(r){var i=B(e[r],t++);n?o.push(i):o[r]=i}),o)}}catch(e){return c("truncatObjectProperty error",e),"parse error:"+e.message}return e}function k(e){return"object"===i(e)&&(!!Array.isArray(e)||(e instanceof ArrayBuffer||!!ArrayBuffer.isView(e)))}function F(e){return!!e&&"object"===i(e)&&!k(e)}function U(){return l||(l=new Promise(function(e,r){function n(){E=o()||{},__wxConfig.accountInfo&&(g=__wxConfig.accountInfo.appId,console.log("appid",g));var r="".concat(p,"?_wnscgi=1&platform=").concat(E.platform,"&qua=").concat(__wxConfig.QUA);t&&t({url:r,method:"GET",success:function(t){var r=t.data,n=void 0===r?{}:r;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){}v=n.sessionid,n.isTest&&(console.log("is test uin set reportLen 30"),h=20),console.log("get report sessionid:"+JSON.stringify(n)),e()},fail:function(t){c("get report sessionid fail",t),e()}})}v?e():__wxConfig.onReady?__wxConfig.onReady(n):a(n)})),l}var G,V,H=0,q=0,W=!1;function X(n,o){var i=n.api,a=n.apiid,s=void 0===a?j():a,l=n.pid,_=n.contextId,d=n.args,I=void 0===d?{}:d,T=n.res,N=void 0===T?{}:T,w=n.ret,C=void 0===w?"ok":w,R=n.callStartTime,P=void 0===R?Date.now():R,x=n.isView;if("ok"!=C&&D(C)&&!(++q>100)){o&&("error"==o?c("API全链路",C,i,N,I):"warn"==o&&f("API全链路",C,i,N,I)),i="qq."+i,V!==P&&(H=0),V=P;var B=(P=1e3*P+H++)+1;if("view"!==e){var k,F=x?"view":e,X=l||_,$=s+="";if(X&&O[X])for(k=O[X].name,A[s]=X;A[$];)$=A[$];U(),S&&console.log("report_user_api",i,s,$,X,k,I,N,C,F);var z={api:i,apiid:s,traceid:$,pid:X,parentApiName:k,args:I,res:N,ret:C,callStartTime:P,callEndTime:B};y.push(z),y.length>=h&&J(),G||(G=(u||setInterval)(J,m)),W||("function"==typeof r&&r(function(){J()}),W=!0)}else wx.report_user_api(n)}function J(){var e=y;if(!(e.length<=0)){y=[];var r=function(){var r=Date.now(),n={time:Date.now(),QUA:b,appid:g,from:F,sessionid:v,SDKVersion:E.SDKVersion,SDKBuild:E.SDKBuild,model:E.model,platform:E.platform,system:E.system,version:E.version,brand:E.brand,signatrue:L(r+"")};n.list=e,!M&&t({url:p,data:n,method:"POST",success:function(e){},fail:function(e){console.log("report fail",e)}});var o=Date.now();for(var i in O)O[i].time<o-1e4&&(delete O[i],delete A[i])};v?r():U().then(r)}}}var $=[];function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{get:function(r,o,u){try{var f=Reflect.get(r,o,u);if(x(o)||"symbol"===i(o))return f;if("function"!=typeof f){var l="".concat(e?e+".":"").concat(o,".get");return D(l)&&X({api:l,contextId:$[$.length-1],res:B(f)}),f}return function(e,t,r,o){var u=e[t],c="".concat(r?r+".":"").concat(t);"createCanvas"==t&&(c="".concat(r?r+".":"").concat(t,".").concat(I++));return function f(l){var p=!1;l&&"object"===i(l)&&function(e){for(var t in J)if(e.hasOwnProperty(t))return!0;return!1}(l)&&(c="".concat(r?r+".":"").concat(t,".").concat(I++),p=!0);var _,d=Array.prototype.slice.call(arguments);var h=Date.now();var m=j();O[m]={name:c,time:Date.now(),isApi:!0};D(c)&&X({api:c,apiid:m,contextId:$[$.length-1],args:B(d),callStartTime:h});var y={isEnd:!1};try{var v=r.startsWith("createCanvas.getContext");if("function"==typeof l)if(t.startsWith("off"))d[0]=l.__hook_new||l,l.__hook_lookForWaiting&&(s(l.__hook_lookForWaiting),l.__hook_lookForWaiting=void 0);else{if(t.startsWith("on")&&"onError"!==t&&"onSocketError"!=t&&"onUpdateFailed"!=t){var g=B(d);l.__hook_lookForWaiting=a(function(){w("warn")&&X({apiid:j(),api:c+":timeout_maybe",pid:m,args:g,res:B("等待回调超过30秒"),ret:"timeout_maybe"},"warn")},3e4)}l.__hook_new=function(){l.__hook_lookForWaiting&&(s(l.__hook_lookForWaiting),l.__hook_lookForWaiting=void 0);var e=j(),r="".concat(c,":callback");O[e]={name:r,time:Date.now()};for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];try{var f="ok";"onError"!==t&&"onSocketError"!=t&&"onUpdateFailed"!=t||(f="onError"),y.isEnd||X({apiid:e,api:r,pid:m,args:B(a),res:B("异步接口同步回调了"),ret:"apiError"},"warn");var p=v?a:a.map(function(e,t){return e&&"object"===i(e)?new Proxy(e,z("".concat(c,":callback:args[").concat(t,"]"),o+1,m)):e});$.push(e),X({apiid:e,api:r,pid:m,args:B(a),ret:f},"warn");var _=l.apply(null,p);return $.splice($.length-1,1),_}catch(t){throw X({apiid:e,api:r,pid:m,args:B(a),res:B(t),ret:"exception"},"warn"),t}},d[0]=l.__hook_new}else if(F(l)){var b=B(d);p&&void 0===l.fail&&w("warn")&&X({apiid:j(),api:c+":warn",pid:m,args:b,res:B("缺少fail回调"),ret:"warn"},"warn"),d[0]=v||new Proxy(l,Y(function(e,t,r){var n=t;return r.isInCall={},function(){var t=j(),i="function"==typeof n,a="".concat(c,":").concat(e).concat(i?"":":autoadd");O[t]={name:a,time:Date.now()};for(var s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];if(!y.isEnd){var l=[].concat(u);b&&l.push({fromArgs:b}),X({apiid:t,api:a,pid:m,args:B(l),res:B("异步接口同步回调了"),ret:"apiError"},"warn")}var p=function(e,t){if(t.timeoutEnd=!0,"success"==e){if(t.success)return"success回调重复了"+ ++t.success+"次";if(t.success=1,t.fail)return"success在fail之后回调";if(t.complete)return"success在complete之后回调"}else if("fail"==e){if(t.fail)return"fail回调重复了"+ ++t.fail+"次";if(t.fail=1,t.success)return"fail在success之后回调";if(t.complete)return"fail在complete之后回调"}else if("complete"==e){if(t.complete)return"complete回调重复了"+ ++t.complete+"次";if(t.complete=1,!t.success&&!t.fail)return"complete时还没有回调success或fail"}return}(e,r);if(p&&!r.isInCall[e]){var _=[].concat(u);b&&_.push({fromArgs:b}),X({apiid:t,api:a,pid:m,args:B(_),res:B(p),ret:"apiError"},"warn")}try{var d="ok",h=[].concat(u);"fail"===e&&(d="fail",b&&h.push({fromArgs:b}));var v,g=u.map(function(t,r){return F(t)?new Proxy(t,z("".concat(c,":").concat(e,":args[").concat(r,"]"),o+1,m)):t});return X({apiid:t,api:a,pid:m,args:B(h),ret:d},"warn"),i&&($.push(t),r.isInCall[e]=!0,v=n.apply(this,g),r.isInCall[e]=!1,$.splice($.length-1,1)),v}catch(e){throw X({apiid:t,api:a,pid:m,args:B(u),res:B(e),ret:"exception"},"warn"),e}}},p?function(){X({apiid:j(),api:c+":timeouot",pid:m,args:b,res:B("等待回调超过"+N/1e3+"秒"),ret:"timeout"},"warn")}:void 0))}$.push(m),_=this.__proto__===f.prototype?n(u,Array.prototype.slice.call(arguments)):u.apply(e,d),$.splice($.length-1,1),_&&D(c)&&X({api:c+":result",apiid:j(),pid:m,res:B(_),callStartTime:h})}catch(e){throw X({api:c,apiid:j(),pid:m,args:B(d),res:B(e),ret:"exception",callStartTime:h},"warn"),e}F(_)&&-1===R.indexOf(t)&&(!M||"createImage"!==t&&"createCanvas"!==t)&&(_=new Proxy(_,z(c,o+1)));y.isEnd=!0;return _}}(r,o,e,t).bind(r)}catch(t){try{return r[o]}catch(r){c("proxy handle target get error",e,o,t,r)}return}},set:function(t,r,n,o){try{return x(r)||"symbol"===i(r)?Reflect.set(t,r,n,o):(D("".concat(e?e+".":"").concat(r,".set"))&&X({api:"".concat(e?e+".":"").concat(r,".set"),contextId:$[$.length-1],args:B(n)}),Reflect.set(t,r,n,o))}catch(o){try{return t[r]=n,!0}catch(t){c("proxy handle target get error",e,r,receiverError,t)}return!1}}}}var J={success:1,fail:1,cancel:1,complete:1};function Y(e,t){var r={};return t&&a&&a(function(){r.timeoutEnd||t()},N),{get:function(t,n,o){try{if(k(t))return t[n];var i=Reflect.get(t,n,o);return!J.hasOwnProperty(n)||void 0!==i&&"function"!=typeof i?i:e(n,i,r)}catch(e){try{return t[n]}catch(t){c("proxy handle target get error",rootProperty,n,e,t)}return}},set:function(e,t,r,n){return Reflect.set(e,t,r,n)}}}function K(e,t){return function(){var r=Array.prototype.slice.call(arguments),n=r[0];return r[0]=function(){var e=Array.prototype.slice.call(arguments);try{return n.apply(this,e)}catch(e){var r=$[$.length-1];throw X({apiid:j(),api:t+":callback",pid:r,res:B(e),ret:"exception"},"warn"),e}},e.apply(this,r)}}return{getProxy:function(n,i,l){return b=__wxConfig.QUA,e=i,l&&(w=l),t=n.request,r=n.onHide?n.onHide:n.onAppHide,o=n.getSystemInfoSync||function(){},function(){a=setTimeout,s=clearTimeout,setTimeout=K(setTimeout,"setTimeout"),u=setInterval,setInterval=K(setInterval,"setInterval");try{requestAnimationFrame=K(requestAnimationFrame,"requestAnimationFrame")}catch(e){}}(),c||(c=console.error,f=console.warn,console.error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=$[$.length-1],o="ConsoleError",i=j();O[i]={name:o,time:Date.now()},X({apiid:i,api:o,pid:n,args:t,ret:"errorLog"}),c.apply(console,t)}),n.report_user_api_logic=function(e){X(Object.assign(e,{isView:!0}))},new Proxy(n,z("",1))}}}(),e.exports&&(e.exports=ProxyReport)},function(e,t,r){(function(n,o){var i,a,s,u=r(1);
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.6+9869a4bc
 */
s=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,i=void 0,a=void 0,s=function(e,t){h[r]=e,h[r+1]=t,2===(r+=2)&&(a?a(m):E())},c="undefined"!=typeof window?window:void 0,f=c||{},l=f.MutationObserver||f.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),_="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var e=setTimeout;return function(){return e(m,1)}}var h=new Array(1e3);function m(){for(var e=0;e<r;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}r=0}var y,v,g,b,E=void 0;function A(e,t){var r=this,n=new this.constructor(T);void 0===n[I]&&U(n);var o=r._state;if(o){var i=arguments[o-1];s(function(){return k(o,n,i,r._result)})}else L(r,n,e,t);return n}function O(e){if(e&&"object"===u(e)&&e.constructor===this)return e;var t=new this(T);return P(t,e),t}p?E=function(){return n.nextTick(m)}:l?(v=0,g=new l(m),b=document.createTextNode(""),g.observe(b,{characterData:!0}),E=function(){b.data=v=++v%2}):_?((y=new MessageChannel).port1.onmessage=m,E=function(){return y.port2.postMessage(0)}):E=void 0===c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(m)}:d()}catch(e){return d()}}():d();var I=Math.random().toString(36).substring(2);function T(){}var S=void 0,N=1,w=2,C={error:null};function R(e){try{return e.then}catch(e){return C.error=e,C}}function M(t,r,n){r.constructor===t.constructor&&n===A&&r.constructor.resolve===O?function(e,t){t._state===N?D(e,t._result):t._state===w?x(e,t._result):L(t,void 0,function(t){return P(e,t)},function(t){return x(e,t)})}(t,r):n===C?(x(t,C.error),C.error=null):void 0===n?D(t,r):e(n)?function(e,t,r){s(function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,function(r){n||(n=!0,t!==r?P(e,r):D(e,r))},function(t){n||(n=!0,x(e,t))},e._label);!n&&o&&(n=!0,x(e,o))},e)}(t,r,n):D(t,r)}function P(e,t){var r,n;e===t?x(e,new TypeError("You cannot resolve a promise with itself")):(n=u(r=t),null===r||"object"!==n&&"function"!==n?D(e,t):M(e,t,R(t)))}function j(e){e._onerror&&e._onerror(e._result),B(e)}function D(e,t){e._state===S&&(e._result=t,e._state=N,0!==e._subscribers.length&&s(B,e))}function x(e,t){e._state===S&&(e._state=w,e._result=t,s(j,e))}function L(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+N]=r,o[i+w]=n,0===i&&e._state&&s(B,e)}function B(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?k(r,n,o,i):o(i);e._subscribers.length=0}}function k(t,r,n,o){var i=e(n),a=void 0,s=void 0,u=void 0,c=void 0;if(i){if((a=function(e,t){try{return e(t)}catch(e){return C.error=e,C}}(n,o))===C?(c=!0,s=a.error,a.error=null):u=!0,r===a)return void x(r,new TypeError("A promises callback cannot return that same promise."))}else a=o,u=!0;r._state!==S||(i&&u?P(r,a):c?x(r,s):t===N?D(r,a):t===w&&x(r,a))}var F=0;function U(e){e[I]=F++,e._state=void 0,e._result=void 0,e._subscribers=[]}var G=function(){function e(e,r){this._instanceConstructor=e,this.promise=new e(T),this.promise[I]||U(this.promise),t(r)?(this.length=r.length,this._remaining=r.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(r),0===this._remaining&&D(this.promise,this._result))):x(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===O){var o=R(e);if(o===A&&e._state!==S)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===V){var i=new r(T);M(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===S&&(this._remaining--,e===w?x(n,r):this._result[t]=r),0===this._remaining&&D(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;L(e,void 0,function(e){return r._settledAt(N,t,e)},function(e){return r._settledAt(w,t,e)})},e}(),V=function(){function t(e){this[I]=F++,this._result=this._state=void 0,this._subscribers=[],T!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){P(e,t)},function(t){x(e,t)})}catch(t){x(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return V.prototype.then=A,V.all=function(e){return new G(this,e).promise},V.race=function(e){var r=this;return t(e)?new r(function(t,n){for(var o=e.length,i=0;i<o;i++)r.resolve(e[i]).then(t,n)}):new r(function(e,t){return t(new TypeError("You must pass an array to race."))})},V.resolve=O,V.reject=function(e){var t=new this(T);return x(t,e),t},V._setScheduler=function(e){a=e},V._setAsap=function(e){s=e},V._asap=s,V.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=V},V.Promise=V,V},"object"===u(t)&&void 0!==e?e.exports=s():void 0===(a="function"==typeof(i=s)?i.call(t,r,t,e):i)||(e.exports=a)}).call(this,r(77),r(4))},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&_())}function _(){if(!f){var e=s(p);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new d(e,t)),1!==c.length||f||s(_)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){var t=void 0;function n(e){return e&&e instanceof Object}function o(e){if(!n(e))return!1;var t=e.constructor;function r(e,t){try{return e===t}catch(e){return!1}}return r(t,EvalError)||r(t,RangeError)||r(t,ReferenceError)||r(t,SyntaxError)||r(t,TypeError)||r(t,URIError)||r(t,Error)}function i(e,t){var r="";return e.name&&(r+=e.name+": "),e.message&&(r+=e.message),e.sourceURL&&(r+=", 在文件"+e.sourceURL+"(行"+e.line+",列"+e.column+")"),e.stack&&t&&(r+=", 堆栈："+e.stack),r}function a(e,t,r,a){for(var s,u="",c=0;c<e.length;c++){var f=e[c];if((s=f)&&s instanceof Function&&"function"==typeof s&&s.constructor==Function)u+="【 Function 】";else if(n(f)){if(o(f))try{var l=i(f,t)}catch(e){l="【 Error 】"}else try{(l=JSON.stringify(f)).length>100&&(l=l.substr(0,95)+"【...】")}catch(e){l="【 object 】"}u+=l}else try{(l=""+f).length>1e3?u+=l.substr(0,995)+"【...】":u+=l}catch(e){u+="【 Unknown 】"}}return a&&(void 0===a.logIndex&&(a.logIndex=0),u="("+a.logIndex+") "+u,a.logIndex++),r&&(u=r+u),u}e.isOpenDataService&&(t="[开放]"),e.strFromLogArgs=a;var s=void 0;e.nativeLog=function(r,n){if("error"==r||e.___tt__shouldPrintJSLog___){if(void 0===e.nativeLog.logIndex&&(e.nativeLog.logIndex=0),__wxConfig.___tt__appid___&&!s&&(s="[MiniGame][JSLog,appid:"+__wxConfig.___tt__appid___+"]"),s)var o=s;else o="[MiniGame][JSLog]";o="***("+e.nativeLog.logIndex+")*"+o,t&&(o+=t),e.nativeLog.logIndex++,o+=n?"\n     [MiniGame]"+r+": "+a(n,!0):r,"error"==r?e.util.log(1,100,o):e.util.log(1,0,o)}};var u=e.util.getEnableDebug(),c=void 0;function f(e,t){e.__pre__index__=e.__pre__index__||1;var r=[];++e.__pre__index__;for(var n=0;n<t.length;n++)r.push(t[n]);return r.push("<log索引："+e.__pre__index__+">"),r}u&&(c=new e.Triton.VConsoleLog),e.util.onJSSDKFinsh=function(){(u=e.util.getEnableDebug())&&void 0===c&&(c=new e.Triton.VConsoleLog)},r.wx.setGameStartManul=function(t){t?e.util.showGameRunBtn():e.util.hideGameRunBtn()};var l=console.__tt__old__log___=console.log;e.console={},e.console.log=console.log=function(){console.__tt__old__log___||(console.__tt__old__log___=l),console.__tt__old__log___.apply(console,f(console,arguments)),u&&c.log(a(arguments,!1,t,c)),e.nativeLog("log",arguments)};var p=console.__tt__old__info___=console.info;e.console.info=console.info=function(){console.__tt__old__info___||(console.__tt__old__info___=p),console.__tt__old__info___.apply(console,f(console,arguments)),u&&c.info(a(arguments,!1,t,c)),e.nativeLog("info",arguments)};var _=console.__tt__old__warn___=console.warn;e.console.warn=console.warn=function(){console.__tt__old__warn___||(console.__tt__old__warn___=_),console.__tt__old__warn___.apply(console,f(console,arguments)),u&&c.warn(a(arguments,!1,t,c)),e.nativeLog("warn",arguments)};var d=console.__tt__old__error___=console.error;e.console.error=console.error=function(){console.__tt__old__error___||(console.__tt__old__error___=d),console.__tt__old__error___.apply(console,f(console,arguments)),u&&c.error(a(arguments,!0,t,c)),e.nativeLog("error",arguments)};var h=console.__tt__old__debug___=console.debug;e.console.debug=console.debug=function(){console.__tt__old__debug___||(console.__tt__old__debug___=h),console.__tt__old__debug___.apply(console,f(console,arguments)),u&&c.debug(a(arguments,!1,t,c)),e.nativeLog("debug",arguments)};var m={};r.__tt__printCatch__=function(r){if(o(r))var n=i(r,!0);else n=""+r;m[n]||(m[n]=!0,e.nativeLog("exception",n),u&&c.error(a([n],!1,t,c)),console.__tt__old__error___||(console.__tt__old__error___=d),console.__tt__old__error___.apply(console,[r]))}}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e,t){var r=console.warn,n=console.log,o=console.error;t.enableTimeMonitor=!1;var i=16,a=[],s=[],u=Date.now(),c=0;function f(){var e=Date.now()-u;e>1e3&&(u=Date.now(),0!=a.length?(!function(e){var t="("+c+++")[卡顿监控]在过去的"+e+"ms秒内，有"+a.length+"帧执行时长超过"+i+"ms\n";t+="耗时分布(FPS为"+s.length+")：";for(var o=0;o<s.length;o++){var u=s[o];t+=u>i?"("+u+") ":u+" "}r(t);for(var f={slowestFunInfo:void 0,funs:{},funKeys:[]},l=0,p=0;p<a.length;p++)for(var _=a[p],d=0;d<_.funKeys.length;d++){var h=_.funKeys[d],m=_.funs[h];f.funs[h]?(f.funs[h].times+=m.times,f.funs[h].amount+=m.amount):(f.funs[h]={times:m.times,amount:m.amount,funStr:++l+" :-> "+h},f.funKeys.push(h)),m.funStr=f.funs[h].funStr,(!f.slowestFunInfo||f.slowestFunInfo.amount<m.amount)&&(f.slowestFunInfo={times:m.times,amount:m.amount,funStr:m.funStr})}for(var y=void 0,v=void 0,g=0;g<f.funKeys.length;g++){var b=f.funKeys[g];m=f.funs[b],(!y||y.times<m.times)&&(y=m),(!v||v.amount<m.amount)&&(v=m)}n("单帧最耗时："+f.slowestFunInfo.amount+" ms， 函数为：\n"+f.slowestFunInfo.funStr),n("区间最耗时："+v.amount+" ms， 函数为：\n"+v.funStr),n("区间最频繁："+y.times+" 次， 函数为：\n"+y.funStr)}(e),a=[],s=[]):s=[])}function l(){return Date.now()}t.timeMonitor={onFrameStart:function(){return{start:Date.now(),funs:{},funKeys:[],duration:0}},onFrameEnd:function(e){e.duration=Date.now()-e.start,s.push(e.duration),e.duration>i&&a.push(e),f()},onFrameFunctionOver:function(e,t,r){var n,o=((n=t).__tt__funKey__||(n.__tt__funKey__=n+""),n.__tt__funKey__);e.funs[o]||(e.funs[o]={times:0,amount:0},e.funKeys.push(o)),e.funs[o].times+=1,e.funs[o].amount+=r}};var p=l(),_=function(){return l()-p};e.q9zq={fpIndex:0,funIndex:0,haveCartoned:!1,allFrames:[],lastRecIndex:-1,tempFrameRec:[],frameStartTime:10,mainRec:[],FrameProfileRunning:!1,enableFrameProfile:function(){return t.enableTimeMonitor||this.FrameProfileRunning},FrameProfileStart:function(t){e.timePerformanceResult&&(this.FrameProfileRunning=!0,setTimeout(function(){e.timePerformanceResult("",t)},0))},FrameProfileEnd:function(t){if(e.timePerformanceResult){this.FrameProfileRunning=!1;var r=this.getDataStr();setTimeout(function(){e.timePerformanceResult(r,t)},0)}},frameStart:function(){this.preFrameEnd(),this.frameStartTime=_(),this.tempFrameRec=[],this.lastRecIndex=-1,this.fpIndex=(this.fpIndex+1)%1e7,this.funIndex=0,this.mainRec=[]},preFrameEnd:function(){this.enableFrameProfile()&&this.lastRecIndex>=0&&(_()-this.frameStartTime>i?(this.tempFrameRec.length>this.lastRecIndex+1&&this.tempFrameRec.splice(this.lastRecIndex+1,this.tempFrameRec.length-(this.lastRecIndex+1)),this.allFrames.push({time:this.frameStartTime,list:this.tempFrameRec}),this.haveCartoned=!0):(this.FrameProfileRunning||this.haveCartoned)&&this.allFrames.push({time:this.frameStartTime,list:this.mainRec}));this.tempFrameRec=[],this.lastRecIndex=-1},mainStart:function(e){var t=this.a(e);return this.mainRec.push(this.tempFrameRec[this.lastRecIndex]),t},mainEnd:function(e,t){this.b(e,t),this.lastRecIndex>0&&this.mainRec.push(this.tempFrameRec[this.lastRecIndex])},a:function(e){e.a&&(e=e.a),this.funIndex++;var t=this.fpIndex+"_"+this.funIndex+"_"+e;return this.tempFrameRec[++this.lastRecIndex]={key:e,type:"start",time:_(),callIndex:t},t},b:function(e,t){if(e.a&&(e=e.a),t.s&&!(this.lastRecIndex<0)){var r=_(),n=this.tempFrameRec[this.lastRecIndex];n.callIndex==t.s&&r-n.time<.001?this.lastRecIndex--:this.tempFrameRec[++this.lastRecIndex]={key:e,type:"end",time:_(),callIndex:t.s}}},c:function(e,t){this.b(t,{s:e})},getDataStr:function(){if(0!=this.allFrames.length){for(var e=0;e<this.allFrames.length;e++){var t=this.allFrames[e];if(t.list){for(var r=[],n=[],i=0;i<t.list.length;i++){if("start"==(p=t.list[i]).type)r.push(p),n.push(p);else for(;;){var a=r.pop();if(!a){p.disable=!0,o("打点数据出现非预期的异常情况(只有end，没有start)");break}if(a.callIndex==p.callIndex){p.searchInfo="searchInfo: "+a.key+"_"+(p.time-a.time),n.push(p);break}a.disable=!0,n.push({key:a.key,type:"end",time:p.time,callIndex:a.callIndex,addedPoint:!0,"searchInfo:":"searchInfo: "+a.key+"_"+(p.time-a.time)+"_exception"})}}for(var s=n[n.length-1].time,u=r.length-1;u>=0;u--){var c=r[u];c.disable=!0,n.push({key:c.key,type:"end",time:s,callIndex:c.callIndex,addedPoint:!0})}for(var f=[],l=0;l<t.list.length;l++){var p;(p=t.list[l]).disable||f.push(p)}t.list=n}}var _=JSON.stringify(this.allFrames);return this.allFrames=[],this.haveCartoned=!1,_}},saveToFile:function(){var e=this.getDataStr();if(e){if(!this.moniterFileTime){var t=new Date(Date.now()),r=t.getSeconds()+":"+t.getHours()+":"+t.getMinutes();this.moniterFileTime=r,this.moniterFileIndex=0}var n="wxfile://usr/js_time_monitor_"+ ++this.moniterFileIndex+"_"+this.moniterFileTime+".json";wx.getFileSystemManager().writeFile({filePath:n,data:e,success:function(){console.log("save moniter success: "+n)}})}}},t.runloopPauseCallbacks=t.runloopPauseCallbacks||[],t.runloopPauseCallbacks.push(function(){e.q9zq.saveToFile()})}(r,r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r,n,o,i=__TT__GLOBAL__;__TT__GLOBAL__;r=i.__ttObjdec__,n={create:function(){var e={event:"",once:!1,listener:[]};return e}},o=function(){var e={};function t(t){return e[t]||(e[t]=[]),e[t]}function r(e){var r=t(e);return!!(r&&r.length>0)}function o(e,n){if(1==r(e)){for(var o=-1,i=t(e),a=i.length-1;a>=0;a--){if(n==i[a].listener){o=a;break}}return o>-1&&i.splice(o,1),!0}return!1}var i={};return i.addObserver=function(e,r){return function(e,r,o){var i=n.create();i.event=e,i.listener=r,i.once=o,t(e).push(i)}(e,r,!1),this},i.removeObserver=function(e,t){return o(e,t),this},i.postEvent=function(e,n){if(0==r(e))return!1;for(var i=[],a=t(e),s=a.length,u=0;u<s;u++){var c=a[u];c.listener(n),c.once&&i.push(c)}for(u=0;u<i.length;u++){o(e,i[u].listener)}return!0},i},r._notifcationCenter=o()},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e,t){var r=console.error,n=1e3/60,o={};function i(){return o.lastID=1+(o.lastID+2)%1000001}function a(e,t){for(var r=[],n=t;n<e.length;n++)r.push(e[n]);return r}o.timers={},o.intervals={},o._fpsinterval=n,o.lastID=0,o.lastIntervalID=0,o.lastTime=0,o.animationFrameCall={},function(){var e=0,i=0;t.timerCallback=function(a,s){if(e+=n,t.enableTimeMonitor)var u=t.timeMonitor.onFrameStart();function c(e,r,n,o,i){if(!r[n])return!1;var s=q9zq.a(o,{}),c=void 0;if(e)try{var f=r[n].params;if(f||(f=[a]),t.enableTimeMonitor&&u){var l=Date.now();e.apply(void 0,f),t.timeMonitor.onFrameFunctionOver(u,e,Date.now()-l)}else e.apply(void 0,f)}catch(e){c=e}if(i&&delete r[n],q9zq.b(o,{s:s}),c)throw c;return!0}function f(e,t,r,n){for(var o=!1,i=Object.keys(e),s=0;s<i.length;++s){var u=i[s],f=e[u];f&&f.t<t(f)&&(o=c(f.f,e,u,r,n)||o,f.b+=f.t,a>f.b&&(f.b=a))}return o}function l(e){return a+n-e.b}function p(e,t){return f(o.timers,e,t,!0)}function _(e){return p(function(e){return 4},e)}try{_("setTimeout0"),d="setInterval",f(o.intervals,l,d,!1),function(t){if(i+o._fpsinterval<e+1e-4){i=e;for(var r=o.animationFrameCall,n=Object.keys(r),a=0;a<n.length;a++)c(r[n[a]],r,n[a],t,!0)}}("requestAnimateFrame"),function(e){p(l,e)}("setTimeout"),_("setTimeout0")}catch(e){throw t.enableTimeMonitor&&u&&t.timeMonitor.onFrameEnd(u),function(e){if(e&&e.stack&&"string"==typeof e.stack){var t="stack:",n=e.stack.split("\n"),o=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;t=t+"\n"+c.substring(c.lastIndexOf("/")+1)}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}r("Exception:"+e.message+"\n"+t)}else r("Exception:",e)}(e),e}var d;t.enableTimeMonitor&&u&&t.timeMonitor.onFrameEnd(u)}}(),e.setTimeout=function(e,t){void 0===t&&(t=0);var r=void 0;arguments.length>2&&(r=a(arguments,2));var n=i();return o.timers[n]={b:Date.now(),t:t,f:e,params:r},n},e.clearTimeout=function(e){delete o.timers[e]},e.requestAnimationFrame=function(e){var t=i();return o.animationFrameCall[t]=e,t},e.wx.setPreferredFramesPerSecond=function(e){e>59?(o._fpsinterval=1e3/60,e=60):e<1?(o._fpsinterval=1e5,e=1):o._fpsinterval=1e3/e,t.util.reportPreferredFramesPerSecond&&t.util.reportPreferredFramesPerSecond(e)},e.wx.__tt__setUpdateDurationSecond=function(e){e<1e3/60&&(e=1e3/60),o._fpsinterval=e},e.cancelAnimationFrame=function(e){o.animationFrameCall[e]=void 0},e.setInterval=function(e,t){void 0===t&&(t=0);var r=void 0;arguments.length>2&&(r=a(arguments,2));var n=i();return o.intervals[n]={b:Date.now(),t:t,f:e,params:r},n},e.clearInterval=function(e){delete o.intervals[e]}}(r,r.__ttObjdec__)},function(e,t,r){var n=r(1),o=(__TT__GLOBAL__,__TT__GLOBAL__),i=(__TT__GLOBAL__,o.__ttObjdec__);!function(e,t){i.parameterMustStringInObject=function(e,t,r){if(r=r||"","object"!==n(e))throw new Error(r+":fail parameter error: parameter should be Object instead of "+getTypeStr(e)+";");if(param=e[t],"string"!=typeof param)throw new Error(r+":fail parameter error: parameter."+t+" should be String instead of "+getTypeStr(param)+";");return e}}(0,o.__ttObjdec__)},function(e,t,r){var n=r(42),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__,o.__ttObjdec__;!function(e,t){var r=!1,o=(console.error,function(){function e(e){this.__nativeObj=new t.Triton.CommandQueue,this.pendingQueue=[],this.maxSize=e,this.enableCommandQueue=this.__nativeObj.enableCommandQueue,this.enableMergeArgs=!1,this.__nativeObj.setFlushCallerArray(m),this.__nativeObj.setFuncArgs(c),this.__nativeObj.setFuncIndexs(a),t.meastureTextCount1=0,t.meastureTextCount2=0}var o,i=void 0,a=new Uint32Array(1024),s=new ArrayBuffer(4e5),u=0,c=new Float32Array(s),f=[[Float64Array,8],[Float32Array,4],[Uint32Array,4],[Uint16Array,2],[Uint8Array,1],[Int32Array,4],[Int16Array,2],[Int8Array,1],[Uint8ClampedArray,1]];function l(e){return(e+(1&e))/2}ArrayBuffer.prototype.__qqCpyEnable=function(){return this.byteLength<2e4};for(var p=0;p<f.length;p++)!function(e){var t=e[0],r=e[1];t.prototype.__qqCpyEnable=r<=8?function(){return this.length*r<2e4?this.__qqCpyEnable=function(){return!0}:this.__qqCpyEnable=function(){return!1},this.__qqCpyEnable()}:function(){return!1},t.prototype.__qqByteLength=function(){return this.length*r};var n=new t(s);switch(r){case 1:t.prototype.__qqInsertDataPoolWithOffset=function(e){return n.set(this,4*e),l(l(this.length))};break;case 2:t.prototype.__qqInsertDataPoolWithOffset=function(e){return n.set(this,2*e),l(this.length)};break;case 4:t.prototype.__qqInsertDataPoolWithOffset=function(e){return n.set(this,e),this.length}}}(f[p]);var _,d=0,h=[],m=new Uint32Array(1024),y=[];e.prototype.setStateMachine=function(e){_=e},e.prototype.setCaller=function(e,t){e!=i&&(i=e,y.push(e)),t!=o&&(o=t),m[d]=e.__cqCallerId};var v=-1,g=[],b=-1,E={};var A={};var O={};t.runloopPauseCallbacks=t.runloopPauseCallbacks||[],t.runloopPauseCallbacks.push(function(){t.console.error(function(){var e=[],t=0;for(var r in E)if(E.hasOwnProperty(r)){var n=E[r];e.push({funName:r,freq:n}),t+=n}e.sort(function(e,t){return t.freq-e.freq});for(var o=0,i="",a=0;a<e.length;a++){var s=e[a];if(o+=s.freq/t,i+=s.funName+", "+Math.round(1e4*o)/100+"%%, "+s.freq+"\n",o>.99)break}return"指令: \n"+i}()),t.console.error(function(){var e=[],t=0;for(var r in A)if(A.hasOwnProperty(r)){var n=A[r];e.push({funName:r,freq:n}),t+=n}e.sort(function(e,t){return t.freq-e.freq});for(var o=0,i="",a=0;a<e.length;a++){var s=e[a];if(o+=s.freq/t,i+=s.funName+", "+Math.round(1e4*o)/100+"%%, "+s.freq+"\n",o>.99)break}return"flush原因: \n"+i}()),t.console.error(function(){var e=[],t=0;for(var r in O)if(O.hasOwnProperty(r)){var n=O[r];e.push({funName:r,freq:n}),t+=n}e.sort(function(e,t){return t.freq-e.freq});for(var o=0,i="",a=0;a<e.length;a++){var s=e[a],u=s.freq/t;if(o+=u,i+=s.funName+", "+Math.round(1e4*o)/100+"%%, "+Math.round(1e4*u)/100+"%%, "+s.freq+"\n",o>.99)break}return"指令队列长度分布: \n"+i}()),t.console.error("meastureText复用率:"+Math.round(t.meastureTextCount2/t.meastureTextCount1*1e4)/100+"%"),E={},A={},O={}});var I={};e.prototype.pushCommand_F32Array=function(e,t,n,o){if(r)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");d>=this.maxSize&&this.flushCmd("maxSize");var i=o.length;I[t]=e,c.set(o,u),u+=i,m[d]=t,a[d++]=n+1e3*i,u>94e3&&this.flushCmd("tooManyArgs_1")},e.prototype.pushCommand_F32Array_ArrayBuffer=function(e,t,n,o,i){if(r)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");d>=this.maxSize&&this.flushCmd("maxSize");var s=o.length;I[t]=e,c.set(o,u);var f=i.__qqInsertDataPoolWithOffset(u+s);u+=s+f,m[d]=t,a[d++]=n+1e3*(s+f),u>94e3&&this.flushCmd("tooManyArgs_2")},e.prototype.pushCommand=function(e,t,n,s,f,l){if(r)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");if(arguments.length-6!=f&&console.error("pushCommand参数个数与实际不一致"),this.enableCommandQueue){if(null==t)return;if(d>=this.maxSize&&this.flushCmd("maxSize"),u+f>94e3&&this.flushCmd("tooManyArgs"),this.enableMergeArgs&&s>0){var p=!1;if(e==i&&n==o&&t==b&&f==v&&s<=f){p=!0;for(var _=0;_<s;_++)if(arguments[_+6]!=g[_]){p=!1;break}}if(p&&d>0){for(_=0;_<f-s;_++)c[u++]=arguments[6+_+s];return void(a[d-1]+=1e3*(f-s))}}this.setCaller(e,n),a[d++]=t+1e3*f,this.enableMergeArgs&&(g=[]);var m=u;for(_=0;_<f;_++){if(l)c[u++]=arguments[_+6];else if("number"==typeof arguments[_+6])c[u++]=arguments[_+6];else if("string"==typeof arguments[_+6])c[u++]=this.cacheStr(arguments[_+6]);else if("boolean"==typeof arguments[_+6])c[u++]=arguments[_+6]?1:0;else{if(null==arguments[_+6]){console.error(e.commandIndexDict[t]+"函数的第"+_+"个参数为undefined");break}h.push(arguments[_+6]),c[u++]=h.length-1}this.enableMergeArgs&&g.push(arguments[_+6])}u-m<f&&(u=m,d--),v=f,b=t}};var T=new Map,S=0;return e.prototype.cacheStr=function(e){if(this.enableCommandQueue){var t=T.get(e);return null!=t?t:(S++,T.set(e,S),this.__nativeObj.setStr(e,S),S)}},e.prototype.flushCmd=function(e){if(this.enableCommandQueue){if(d>0){if(r)throw new Error("小游戏不支持async\b\b，使用async会导致小游戏异常");r=!0;var t=d;if(h.length>0){var o=[t,e];o.push.apply(o,n(h)),this.__nativeObj.exeCmdQueue.apply(this.__nativeObj,o)}else this.__nativeObj.exeCmdQueue(t,e);r=!1}d=0,u=0,v=-1,g=[],b=-1,h=[],y=[],i=void 0,I={},_&&_.clearTmpPopl()}},e.prototype.toggleCommandQueue=function(e){this.flushCmd("toggleCommandQueue"),this.enableCommandQueue=e,this.__nativeObj.enableCommandQueue=e},e.prototype.startLogCommand=function(){this.__nativeObj.startLogCommand()},e.Instance=new e(1024),e}());t.CommandQueue=o,e.wx.CommandQueue=o}(o,o.__ttObjdec__)},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=e.CommandQueue.Instance;function r(n,o){var i=arguments,a=arguments.length;a>0&&void 0!==i[0]&&i[0],a>1&&void 0!==i[1]&&i[1];function s(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return Object.keys(e).find(function(n){return r(e[n],t)})}this.__nativeObj=o,this.__canvas=n,this._fontName="",this._fontNameStack=[],this._fontMeasureMap=new e.Map,this._shadowColor={r:0,g:0,b:0,a:0},this._shadowOffset={x:0,y:0},this._shadowRadius=0,this._textBaseLine="alphabetic",this._textAlign="start",this._useH5Mode=0,this._a=1,this._b=0,this._c=0,this._d=1,this._tx=0,this._ty=0,this._fillStyle={},this.lastCanvasState=new e.Map,this.lastFont=null,t.enableCommandQueue&&(this.__cqCallerId=this.__nativeObj.__cqCallerId=t.__nativeObj.cacheCaller(this.__nativeObj,0)),this.funcMap={drawImage:0,fill:1,stroke:2,rect:3,fillRect:4,strokeRect:5,clearRect:6,beginPath:7,closePath:8,moveTo:9,lineTo:10,arcTo:11,arc:12,quadraticCurveTo:13,bezierCurveTo:14,save:15,restore:16,fillText:17,strokeText:18,clip:19,scale:20,rotate:21,translate:22,transform:23,setTransform:24,drawTexture:25,drawImageArray:26,putImageData:27,drawImageObj:28,globalAlpha:100,globalCompositeOperation:101,fillColor:102,strokeColor:103,lineWidth:104,lineCap:105,lineJoin:106,miterLimit:107,textAlign:108,textBaseline:109,imageSmoothingEnabled:110,fillStyle:111,strokeStyle:112,font:113},this.__nativeObj.commandIndexDict={0:"drawImage",1:"fill",2:"stroke",3:"rect",4:"fillRect",5:"strokeRect",6:"clearRect",7:"beginPath",8:"closePath",9:"moveTo",10:"lineTo",11:"arcTo",12:"arc",13:"quadraticCurveTo",14:"bezierCurveTo",15:"save",16:"restore",17:"fillText",18:"strokeText",19:"clip",20:"scale",21:"rotate",22:"translate",23:"transform",24:"setTransform",25:"drawTexture",26:"drawImageArray",27:"putImageData",28:"drawImageObj",100:"globalAlpha",101:"globalCompositeOperation",102:"fillColor",103:"strokeColor",104:"lineWidth",105:"lineCap",106:"lineJoin",107:"miterLimit",108:"textAlign",109:"textBaseline",110:"imageSmoothingEnabled",111:"fillStyle",112:"strokeStyle",113:"font"},Object.getOwnPropertyNames(this.__nativeObj).forEach(function(r){var n=r;"contentSize"!=n&&"size"!=n&&"fontPath"!=n&&"font"!=n&&Object.defineProperty(this,n,{get:function(){return n in this.funcMap&&n in this.lastCanvasState?this.lastCanvasState[n]:(this.flushImage(),t.flushCmd("get"+n),this.lastCanvasState[n]=this.__nativeObj[n],this.lastCanvasState[n])},set:function(r){if(this.lastCanvasState[n]!=r)if(this.lastCanvasState[n]=r,t.enableCommandQueue)if(n in this.funcMap){var o=null;"number"==typeof r||e.isNumber(r)?o=parseFloat(r):"string"==typeof r?o=t.cacheStr(r):"boolean"==typeof r&&(o=r?1:0),null!=o?t.pushCommand(this.__nativeObj,this.funcMap[n],0,0,1,!0,o):(t.flushCmd("set_1_"+n),this.__nativeObj[n]=r)}else t.flushCmd("set_2_"+n),this.__nativeObj[n]=r;else this.flushImage(),this.__nativeObj[n]=r}})},this),Object.defineProperty(r.prototype,"globalCompositeOperation",{get:function(){this.flushImage(),t.flushCmd("getglobalCompositeOperation");var e=this.__nativeObj.globalCompositeOperation;return"android"==GameStatusInfo.platform?s(skiaCompositeMode,e):s(cgCompositeMode,e)},set:function(e){var r;r="android"==GameStatusInfo.platform?skiaCompositeMode[e]||3:cgCompositeMode[e]||0,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.globalCompositeOperation,0,0,1,!0,t.cacheStr(r)):(this.flushImage(),this.__nativeObj.globalCompositeOperation=r)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"font",{get:function(){return null!=this.lastFont?this.lastFont:(this.flushImage(),t.flushCmd("getFont_1"),this.lastFont=this.__nativeObj.font,this.lastFont)},set:function(r){this._fontName!==r&&(t.enableCommandQueue?(t.flushCmd("setFont_2"),t.pushCommand(this.__nativeObj,this.funcMap.font,0,0,1,!1,r)):(this.flushImage(),t.flushCmd("setFont_3"),this.__nativeObj.font=r),this._fontName=r,this._fontMeasureMap=new e.Map)},enumerable:!0,configurable:!0})}var n,o=0,i=new Float32Array(512),a=new Float32Array(512),s=new Float32Array(512),u=new Float32Array(512),c=0,f=0,l=0,p=0;r.prototype.flushImage=function(){t.enableCommandQueue||(e.lastMergeCanvas!=this&&(null!=e.lastMergeCanvas&&e.lastMergeCanvas.flushImage(),e.lastMergeCanvas=this),o<=0||(this.__nativeObj.drawImageArray(n,c,f,l,p,i,a,s,u,o),o=0))},e.CanvasContext2D=r,Object.defineProperties(r.prototype,{width:{get:function(){return this.size.width},set:function(e){var t=this.size;t.width=e,this.size=t},configurable:!0},height:{get:function(){return this.size.height},set:function(e){var t=this.size;t.height=e,this.size=t},configurable:!0}}),r.prototype.drawImage=function(){if(this.__nativeObj){var e=arguments.length,r="",_=!0;if(e>=1&&null!=arguments[0].src?null!=(r=arguments[0].src).includes&&r.includes(":image")?r=arguments[0].__nativeObj:"string"==typeof r&&(_=!1):(r=arguments[0]).__nativeObj&&(r=r.__nativeObj),_||"string"!=typeof r&&"number"!=typeof r&&(_=!0),9==e)if(t.enableCommandQueue)if(_)t.flushCmd("drawImage_1"),this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else{var d=t.cacheStr(r);t.pushCommand(this.__nativeObj,this.funcMap.drawImageArray,0,5,9,!0,d,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8])}else 0!=o&&n==r&&c==arguments[1]&&f==arguments[2]&&l==arguments[3]&&p==arguments[4]||(this.flushImage(),n=r,c=arguments[1],f=arguments[2],l=arguments[3],p=arguments[4]),i[o]=arguments[5],a[o]=arguments[6],s[o]=arguments[7],u[o]=arguments[8],o++,this.__nativeObj.drawImageArray(n,c,f,l,p,i,a,s,u,o),o=0;else if(5==e)t.enableCommandQueue?_?(t.flushCmd("drawImage_2"),this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4])):t.pushCommand(this.__nativeObj,this.funcMap.drawImage,0,0,5,!0,t.cacheStr(r),arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4]));else{if(3!=e)return;t.enableCommandQueue?_?(t.flushCmd("drawImage_3"),this.__nativeObj.drawImage(r,arguments[1],arguments[2])):t.pushCommand(this.__nativeObj,this.funcMap.drawImage,0,0,3,!0,t.cacheStr(r),arguments[1],arguments[2]):(this.flushImage(),this.__nativeObj.drawImage(r,arguments[1],arguments[2]))}}return 0},r.prototype.fill=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fill,0,0,0,!0):(this.flushImage(),this.__nativeObj.fill())),0},r.prototype.stroke=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.stroke,0,0,0,!0):(this.flushImage(),this.__nativeObj.stroke())),0},r.prototype.rect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.rect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.rect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},r.prototype.fillRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.fillRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},r.prototype.strokeRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.strokeRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},r.prototype.clearRect=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clearRect,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.clearRect(arguments[0],arguments[1],arguments[2],arguments[3]))),0},r.prototype.beginPath=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.beginPath,0,0,0,!0):(this.flushImage(),this.__nativeObj.beginPath())),0},r.prototype.closePath=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.closePath,0,0,0,!0):(this.flushImage(),this.__nativeObj.closePath())),0},r.prototype.moveTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.moveTo,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.moveTo(arguments[0],arguments[1]))),0},r.prototype.lineTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.lineTo,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.lineTo(arguments[0],arguments[1]))),0},r.prototype.arcTo=function(){return this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arcTo,0,0,5,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.arcTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]))),0},r.prototype.arc=function(){if(this.__nativeObj){var e=arguments.length;5==e?t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arc,0,0,5,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):(this.flushImage(),this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])):6==e&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.arc,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))}return 0},r.prototype.quadraticCurveTo=function(){return this.__nativeObj&&4==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.quadraticCurveTo,0,0,4,!0,arguments[0],arguments[1],arguments[2],arguments[3]):(this.flushImage(),this.__nativeObj.quadraticCurveTo(arguments[0],arguments[1],arguments[2],arguments[3]))),0},r.prototype.bezierCurveTo=function(){return this.__nativeObj&&6==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.bezierCurveTo,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.bezierCurveTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]))),0},r.prototype.save=function(){return this.__nativeObj&&(this.lastCanvasState=new e.Map,this._fontName="",this._fontMeasureMap=new e.Map,this.lastFont=null,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.save,0,0,0,!0):(this.flushImage(),this.__nativeObj.save())),0},r.prototype.restore=function(){return this.__nativeObj&&(this.lastCanvasState=new e.Map,this._fontName="",this._fontMeasureMap=new e.Map,this.lastFont=null,t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.restore,0,0,0,!0):(this.flushImage(),this.__nativeObj.restore())),0},r.prototype.fillText=function(){var e=arguments.length;if(e>=3){var r=arguments[1],n=arguments[2];if(3==e)t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillText,0,0,3,!1,t.cacheStr(arguments[0]),r,n):(this.flushImage(),this.__nativeObj.fillText(arguments[0],r,n));else if(4==e){var o=arguments[2];t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.fillText,0,0,4,!0,t.cacheStr(arguments[0]),r,n,o):(this.flushImage(),this.__nativeObj.fillText(arguments[0],r,n,o))}}return 0},r.prototype.strokeText=function(){var e=arguments.length;if(e>=3){var r=arguments[1],n=arguments[2];if(3==e)t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeText,0,0,3,!0,t.cacheStr(arguments[0]),r,n):(this.flushImage(),this.__nativeObj.strokeText(arguments[0],r,n));else if(4==e){var o=arguments[2];t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.strokeText,0,0,4,!0,t.cacheStr(arguments[0]),r,n,o):(this.flushImage(),this.__nativeObj.strokeText(arguments[0],r,n,o))}}return 0},r.prototype.clip=function(){var e=arguments.length;return this.__nativeObj&&(0==e?t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clip,0,0,0,!0):(this.flushImage(),this.__nativeObj.clip()):2==e&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clip,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.clip(arguments[0],arguments[1])))),0},r.prototype.isPointInPath=function(){return t.flushCmd("isPointInPath"),!1},r.prototype.createImageData=function(){if(this.__nativeObj){var e=arguments.length;if(2==e)return this.__nativeObj.createImageData(arguments[0],arguments[1]);if(1==e)return this.__nativeObj.createImageData(arguments[0])}},r.prototype.getImageData=function(){var e=arguments.length;if(this.__nativeObj&&4==e)return this.flushImage(),t.flushCmd("getImageData"),this.__nativeObj.getImageData(arguments[0],arguments[1],arguments[2],arguments[3])},r.prototype.putImageData=function(){var e=arguments.length;if(this.__nativeObj&&e>=3){var r=arguments[0];3==e?t.enableCommandQueue?(t.flushCmd("putImageData_1"),this.__nativeObj.putImageData(r,arguments[1],arguments[2])):(this.flushImage(),this.__nativeObj.putImageData(r,arguments[1],arguments[2])):7==e&&(t.enableCommandQueue?(t.flushCmd("putImageData_2"),this.__nativeObj.putImageData(r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])):(this.flushImage(),this.__nativeObj.putImageData(r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])))}},r.prototype.scale=function(){this.__nativeObj&&2==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.scale,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.scale(arguments[0],arguments[1])))},r.prototype.rotate=function(){this.__nativeObj&&1==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.rotate,0,0,0,!0,arguments[0]):(this.flushImage(),this.__nativeObj.rotate(arguments[0])))},r.prototype.translate=function(){this.__nativeObj&&2==arguments.length&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.translate,0,0,2,!0,arguments[0],arguments[1]):(this.flushImage(),this.__nativeObj.translate(arguments[0],arguments[1])))},r.prototype.transform=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.transform,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.transform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))},r.prototype.setTransform=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.setTransform,0,0,6,!0,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):(this.flushImage(),this.__nativeObj.setTransform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])))},r.prototype.clear=function(){this.__nativeObj&&(t.enableCommandQueue?t.pushCommand(this.__nativeObj,this.funcMap.clear,0,0,0,!0):(this.flushImage(),this.__nativeObj.clear()))},r.prototype.measureText=function(r){if(this.__nativeObj){e.meastureTextCount1++;var n=0;return this._fontMeasureMap.has(r)?(e.meastureTextCount2++,n=this._fontMeasureMap.get(r)):(this.flushImage(),t.flushCmd("measureText"),textWidth=this.__nativeObj.measureText(r),null!=(n={width:textWidth,height:0})&&(n.type="TextMetrics"),this._fontMeasureMap.set(r,n)),n}return null},r.prototype.toDataURL=function(){if(this.__nativeObj){var e=TT.Director.screenScale;this.flushImage(),t.flushCmd("toDataURL");var r=this.__nativeObj.getImageData(0,0,this.size.width/e,this.size.height/e),n=TT.Misc.encodeBase64FromBuffer(r);return n&&(n="data:image/png;base64,"+n),n}return""},r.prototype.createPattern=function(t,r){if(this.__nativeObj)return this.flushImage(),null==t.__nativeObj?void e.console.error("createPattern第一个参数不合法"):this.__nativeObj.createPattern(t.__nativeObj,r)},r.prototype.createLinearGradient=function(e,t,r,n){if(this.__nativeObj)return this.flushImage(),this.__nativeObj.createLinearGradient(e,t,r,n)},r.prototype.createRadialGradient=function(e,t,r,n,o,i){if(this.__nativeObj)return this.__nativeObj.createRadialGradient(e,t,r,n,o,i)}}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){e.Canvas=function(t){null!=e.canvasConstructor&&null!=e.canvasConstructor||(e.canvasConstructor=new e.Triton.CanvasConstructor),this.__nativeObj="shared"==t?e.canvasConstructor.createSharedCanvas(t):"opendata"==t?e.canvasConstructor.createOpendataCanvas(t):e.canvasConstructor.createMainCanvas(t),Object.getOwnPropertyNames(this.__nativeObj).forEach(function(e){var t=e;Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})},this)}}(r.__ttObjdec__)},function(e,t,r){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;n.__ttObjdec__.isMainService&&(r(89),r(44)),function(e){var t=-1,r=e.CommandQueue.Instance;function n(e){return e}function o(e,t){return void 0===t&&(t=Float32Array),e instanceof Array==1?new t(e):e}e.CanvasContextWebGL=function(t){if(t){var n=new s(t);return r.enableCommandQueue?(o=n,e.nativeLog("Enable Command Queue for WebGL"),o.attachMethodOpt()):function(e){e.attachMethod()}(n),n}var o;return null};var i=!1;function a(){0==i&&(i=!0)}function s(i){var f=!1;function l(e){return null==e?t:null===e.__objID?(null==this.unwrapFailed&&(console.error("ERROR: Pass invalid parameter because of undefine ID"),this.unwrapFailed=!0),t):e.__objID}function p(e){return null==e?0:null===e.__objID?(null==this.unwrapSafeFailed&&(console.error("ERROR: Pass invalid parameter because of undefine ID"),this.unwrapSafeFailed=!0),0):e.__objID}function _(e){if(null!=e){var t={};return t.__nativeObj=e,e.__objID?t.__objID=e.__objID:t.__objID=e,t}return null}function d(e){e&&(e.__objID=null,e.__type=null)}function h(e){if(e&&e.__type)return e.__type;var t=0;switch(e.constructor){case Uint8Array:t=3;break;case Uint16Array:t=5;break;case Uint32Array:t=6;break;case Float32Array:t=7}return e.__type=t,e.__type}function m(e){f||this.__nativeObj.activeTexture(e)}function y(e,t){f||this.__nativeObj.attachShader(p(e),p(t))}function v(e,t,r){f||this.__nativeObj.bindAttribLocation(p(e),t,r)}function g(e){f||e&&"vao"!==e.__type||this.__nativeObj.bindVertexArray(p(e))}function b(e,t){f||this.__nativeObj.bindBuffer(e,p(t))}function E(e,t){f||this.__nativeObj.bindFramebuffer(e,l(t))}function A(e,t){f||this.__nativeObj.bindRenderbuffer(e,l(t))}function O(e,t){f||this.__nativeObj.bindTexture(e,p(t))}function I(e,t,r,n){f||this.__nativeObj.blendColor(e,t,r,n)}function T(e){f||this.__nativeObj.blendEquation(e)}function S(e,t){f||this.__nativeObj.blendEquationSeparate(e,t)}function N(e,t){f||this.__nativeObj.blendFunc(e,t)}function w(e,t,r,n){f||this.__nativeObj.blendFuncSeparate(e,t,r,n)}function C(e,t,r){f||("number"!=typeof t?this.__nativeObj.bufferData(e,n(t),r):this.__nativeObj.bufferData(e,t,r))}function R(e,t,r){f||this.__nativeObj.bufferSubData(e,t,r)}function M(e){if(!f)return this.__nativeObj.checkFramebufferStatus(e)}function P(e){f||this.__nativeObj.clear(e)}function j(e,t,r,n){f||this.__nativeObj.clearColor(e,t,r,n)}function D(e){f||this.__nativeObj.clearDepth(e)}function x(e){f||this.__nativeObj.clearStencil(e)}function L(e,t,r,n){f||this.__nativeObj.colorMask(e,t,r,n)}function B(e){f||this.__nativeObj.compileShader(p(e))}function k(e,t,r,n,o,i,a){f||this.__nativeObj.compressedTexImage2D(e,t,r,n,o,i,a)}function F(e,t,r,n,o,i,a,s){f||this.__nativeObj.compressedTexSubImage2D(e,t,r,n,o,i,a,s)}function U(e,t,r,n,o,i,a,s){f||this.__nativeObj.copyTexImage2D(e,t,r,n,o,i,a,s)}function G(e,t,r,n,o,i,a,s){f||this.__nativeObj.copyTexSubImage2D(e,t,r,n,o,i,a,s)}function V(){if(f)return-1;var e=_(this.__nativeObj.createVertexArray());return e.__type="vao",e}function H(){return f?-1:_(this.__nativeObj.createBuffer())}function q(){return f?-1:_(this.__nativeObj.createFramebuffer())}function W(){return f?-1:_(this.__nativeObj.createProgram())}function X(){return f?-1:_(this.__nativeObj.createRenderbuffer())}function $(e){return f?-1:_(this.__nativeObj.createShader(e))}function z(){if(f)return-1;var e=_(this.__nativeObj.createTexture());return null===e?e:(Object.defineProperty(e,"id",{get:function(){return p(this)}}),e)}function J(e){f||this.__nativeObj.cullFace(e)}function Y(e){f||e&&"vao"===e.__type&&(this.__nativeObj.deleteVertexArray(p(e)),d(e))}function K(e){f||this.__nativeObj.deleteBuffer(p(e))}function Q(e){f||this.__nativeObj.deleteFramebuffer(p(e))}function Z(e){f||this.__nativeObj.deleteProgram(p(e))}function ee(e){f||this.__nativeObj.deleteRenderbuffer(l(e))}function te(e){f||this.__nativeObj.deleteShader(p(e))}function re(e){f||this.__nativeObj.deleteTexture(p(e))}function ne(e){f||this.__nativeObj.depthFunc(e)}function oe(e){f||this.__nativeObj.depthMask(e)}function ie(e,t){f||this.__nativeObj.depthRange(e,t)}function ae(e,t){f||this.__nativeObj.detachShader(p(e),p(t))}function se(e){f||this.__nativeObj.disable(e)}function ue(e){f||this.__nativeObj.disableVertexAttribArray(e)}function ce(e,t,r){f||(this.__nativeObj.drawArrays(e,t,r),r>0&&a())}function fe(e,t,r,n){f||(this.__nativeObj.drawArraysInstanced(e,t,r,n),r>0&&a())}function le(e,t,r,n){f||(this.__nativeObj.drawElements(e,t,r,n),t>0&&a())}function pe(e,t,r,n,o){f||(this.__nativeObj.drawElementsInstanced(e,t,r,n,o),t>0&&a())}function _e(e){f||this.__nativeObj.enable(e)}function de(e){f||this.__nativeObj.enableVertexAttribArray(e)}function he(){f||this.__nativeObj.finish()}function me(){f||this.__nativeObj.flush()}function ye(e,t,r,n){f||this.__nativeObj.framebufferRenderbuffer(e,t,r,l(n))}function ve(e,t,r,n,o){f||this.__nativeObj.framebufferTexture2D(e,t,r,p(n),o)}function ge(e){f||this.__nativeObj.frontFace(e)}function be(e){f||this.__nativeObj.generateMipmap(e)}function Ee(e,t){return f?-1:this.__nativeObj.getAttribLocation(p(e),t)}function Ae(){return f?null:this.__nativeObj.getError()}function Oe(e,t){return f?-1:this.__nativeObj.getShaderPrecisionFormat(e,t)}function Ie(e){return f?null:this.__nativeObj.getProgramInfoLog(p(e))}function Te(e){return f?null:this.__nativeObj.getShaderInfoLog(p(e))}function Se(e){return f?null:this.__nativeObj.getShaderSource(p(e))}function Ne(){return f?null:Object.keys(this.__extensions)}function we(e,t){if(f)return-1;var r=_(this.__nativeObj.getUniformLocation(p(e),t));return null===r?r:(Object.defineProperty(r,"id",{get:function(){return l(this)}}),r)}function Ce(e,t){return f?-1:this.__nativeObj.getVertexAttribOffset(e,t)}function Re(){return f?-1:this.__nativeObj.GPUCapture()}function Me(e,t){f||this.__nativeObj.hint(e,t)}function Pe(e){return!f&&(!(!e||"vao"!==e.__type)&&this.__nativeObj.isVertexArray(p(e)))}function je(e){return!f&&this.__nativeObj.isBuffer(p(e))}function De(){return!f&&this.__nativeObj.isContextLost()}function xe(e){return!f&&this.__nativeObj.isEnabled(e)}function Le(e){return!f&&this.__nativeObj.isFramebuffer(l(e))}function Be(e){return!f&&this.__nativeObj.isProgram(p(e))}function ke(e){return!f&&this.__nativeObj.isRenderbuffer(l(e))}function Fe(e){return!f&&this.__nativeObj.isShader(p(e))}function Ue(e){return!f&&this.__nativeObj.isTexture(p(e))}function Ge(e){f||this.__nativeObj.lineWidth(e)}function Ve(e){f||this.__nativeObj.linkProgram(p(e))}function He(e,t){f||this.__nativeObj.pixelStorei(e,t)}function qe(e,t){f||this.__nativeObj.polygonOffset(e,t)}function We(e,t,r,n,o,i,a){f||this.__nativeObj.readPixels(e,t,r,n,o,i,a)}function Xe(e,t,r,n){f||this.__nativeObj.renderbufferStorage(e,t,r,n)}function $e(e,t){f||this.__nativeObj.sampleCoverage(e,t)}function ze(e,t,r,n){f||this.__nativeObj.scissor(e,t,r,n)}function Je(e,t){f||this.__nativeObj.shaderSource(p(e),t)}function Ye(e,t,r){f||this.__nativeObj.stencilFunc(e,t,r)}function Ke(e,t,r,n){f||this.__nativeObj.stencilFuncSeparate(e,t,r,n)}function Qe(e){f||this.__nativeObj.stencilMask(e)}function Ze(e,t){f||this.__nativeObj.stencilMaskSeparate(e,t)}function et(e,t,r){f||this.__nativeObj.stencilOp(e,t,r)}function tt(e,t,r,n){f||this.__nativeObj.stencilOpSeparate(e,t,r,n)}function rt(e,t,r){if(!f)switch(arguments.length){case 6:var n=arguments[3],o=arguments[4],i=arguments[5],a=this.decodeDrawableSource(i);a&&this.__nativeObj.texImage2D(e,t,r,n,o,a);break;case 9:var s=arguments[3],u=arguments[4],c=arguments[5],l=(n=arguments[6],o=arguments[7],arguments[8]);this.__nativeObj.texImage2D(e,t,r,s,u,c,n,o,l)}}function nt(e,t,r){f||this.__nativeObj.texParameterf(e,t,r)}function ot(e,t,r){f||this.__nativeObj.texParameteri(e,t,r)}function it(e,t,r,n){if(!f)switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6],s=this.decodeDrawableSource(a);s&&this.__nativeObj.texSubImage2D(e,t,r,n,o,i,s);break;case 9:var u=arguments[4],c=arguments[5],l=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texSubImage2D(e,t,r,n,u,c,o,i,l)}}function at(e,t){f||this.__nativeObj.uniform1f(l(e),t)}function st(e,t,r){f||this.__nativeObj.uniform2f(l(e),t,r)}function ut(e,t,r,n){f||this.__nativeObj.uniform3f(l(e),t,r,n)}function ct(e,t,r,n,o){f||this.__nativeObj.uniform4f(l(e),t,r,n,o)}function ft(e,t){f||this.__nativeObj.uniform1i(l(e),t)}function lt(e,t,r){f||this.__nativeObj.uniform2i(l(e),t,r)}function pt(e,t,r,n){f||this.__nativeObj.uniform3i(l(e),t,r,n)}function _t(e,t,r,n,o){f||this.__nativeObj.uniform4i(l(e),t,r,n,o)}function dt(e,t){f||this.__nativeObj.uniform1fv(l(e),n(t instanceof Array==1?new Float32Array(t):t))}function ht(e,t){f||this.__nativeObj.uniform2fv(l(e),n(t instanceof Array==1?new Float32Array(t):t))}function mt(e,t){f||this.__nativeObj.uniform3fv(l(e),n(t instanceof Array==1?new Float32Array(t):t))}function yt(e,t){f||this.__nativeObj.uniform4fv(l(e),n(t instanceof Array==1?new Float32Array(t):t))}function vt(e,t){f||this.__nativeObj.uniform1iv(l(e),n(t instanceof Array==1?new Int32Array(t):t))}function gt(e,t){f||this.__nativeObj.uniform2iv(l(e),n(t instanceof Array==1?new Int32Array(t):t))}function bt(e,t){f||this.__nativeObj.uniform3iv(l(e),n(t instanceof Array==1?new Int32Array(t):t))}function Et(e,t){f||this.__nativeObj.uniform4iv(l(e),n(t instanceof Array==1?new Int32Array(t):t))}function At(e,t,r){f||this.__nativeObj.uniformMatrix2fv(l(e),t,n(r instanceof Array==1?new Float32Array(r):r))}function Ot(e,t,r){f||this.__nativeObj.uniformMatrix3fv(l(e),t,n(r instanceof Array==1?new Float32Array(r):r))}function It(e,t,r){f||this.__nativeObj.uniformMatrix4fv(l(e),t,n(r instanceof Array==1?new Float32Array(r):r))}function Tt(e){f||this.__nativeObj.useProgram(p(e))}function St(e){f||this.__nativeObj.validateProgram(p(e))}function Nt(e,t){f||this.__nativeObj.vertexAttrib1f(e,t)}function wt(e,t,r){f||this.__nativeObj.vertexAttrib2f(e,t,r)}function Ct(e,t,r,n){f||this.__nativeObj.vertexAttrib3f(e,t,r,n)}function Rt(e,t,r,n,o){f||this.__nativeObj.vertexAttrib4f(e,t,r,n,o)}function Mt(e,t){f||this.__nativeObj.vertexAttrib1fv(e,n(t instanceof Array==1?new Float32Array(t):t))}function Pt(e,t){f||this.__nativeObj.vertexAttrib2fv(e,n(t instanceof Array==1?new Float32Array(t):t))}function jt(e,t){f||this.__nativeObj.vertexAttrib3fv(e,n(t instanceof Array==1?new Float32Array(t):t))}function Dt(e,t){f||this.__nativeObj.vertexAttrib4fv(e,n(t instanceof Array==1?new Float32Array(t):t))}function xt(e,t){f||this.__nativeObj.vertexAttribDivisor(e,t)}function Lt(e,t,r,n,o,i,a){if(!f){if(void 0===a){var s={index:e,size:t,type:r,normalized:n,stride:o,offset:i};void 0===this.__nativeObj.recordVertexAttribPointer&&(this.__nativeObj.recordVertexAttribPointer=[]);for(var u=!1,c=0;c<this.__nativeObj.recordVertexAttribPointer.length;c++){if(this.__nativeObj.recordVertexAttribPointer[c].index==s.index){u=!0,this.__nativeObj.recordVertexAttribPointer[c]=s;break}}0==u&&this.__nativeObj.recordVertexAttribPointer.push(s)}this.__nativeObj.vertexAttribPointer(e,t,r,n,o,i)}}function Bt(e,t,r,n){f||this.__nativeObj.viewport(e,t,r,n)}function kt(e,t){if(!f)return this.__nativeObj.getActiveAttrib(p(e),t)}function Ft(e,t){if(!f)return this.__nativeObj.getActiveUniform(p(e),t)}function Ut(e){if(!f)return this.__nativeObj.getAttachedShaders(p(e))}function Gt(e,t){if(!f)return this.__nativeObj.getBufferParameter(e,t)}function Vt(e,t,r){if(!f)return this.__nativeObj.getFramebufferAttachmentParameter(e,t,r)}function Ht(e,t){if(!f)return this.__nativeObj.getProgramParameter(p(e),t)}function qt(e,t){if(!f)return this.__nativeObj.getRenderbufferParameter(e,t)}function Wt(e,t){if(!f)return this.__nativeObj.getShaderParameter(p(e),t)}function Xt(e,t){if(!f)return this.__nativeObj.getTexParameter(e,t)}function $t(e,t){if(!f)return this.__nativeObj.getVertexAttrib(e,t)}function zt(e,t){if(!f)return this.__nativeObj.getUniform(p(e),l(t))}function Jt(e){if(!f){var t=this.__extensions[e];if(t){if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new u(this)),this.__vaoExt;if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new c(this)),this.__irExt;this.__nativeObj.useExtension(e),console.log("USE_EXSTENSION"+e)}return t}}function Yt(e){if(!f)return e==this.CURRENT_PROGRAM||e==this.FRAMEBUFFER_BINDING||e==this.RENDERBUFFER_BINDING||e==this.ARRAY_BUFFER_BINDING||e==this.ELEMENT_ARRAY_BUFFER_BINDING||e==this.TEXTURE_BINDING_2D||e==this.TEXTURE_BINDING_CUBE_MAP||this.VERTEX_ARRAY_BINDING,this.__nativeObj.getParameter(e)}function Kt(){return this.__nativeObj.getContextAttributes()}this.__nativeObj=i,e.isMainService?(this.nativeStm=this.__nativeObj.getStateMachine(),this.stm=new e.stateMachine(this.nativeStm),r.setStateMachine(this.stm)):this.stm={},s.prototype.decodeDrawableSource=function(t){return t instanceof e.Canvas?(t.__nativeObj.__type=1,t.__nativeObj):t instanceof e.WebImage?(t.__nativeObj.__type=2,t.__nativeObj):t instanceof e.Triton.ImageData?(t.__type=3,t):void 0},s.prototype.decodeDrawableSourceOpt=function(t){var r,n={},o=0;return t instanceof e.Canvas?(o=this.stm.type_canvas,r=t.__nativeObj):t instanceof e.WebImage?(o=this.stm.type_image,r=t.__nativeObj):t instanceof e.Triton.ImageData&&(o=this.stm.type_imageData,r=t),o&&r?(n.__type=o,this.stm.indexOf(r,o)<0&&this.stm.add(r,o),n.__objID=r.__objID,n):void 0},s.prototype.attachMethod=function(){s.prototype.activeTexture=m,s.prototype.attachShader=y,s.prototype.bindAttribLocation=v,s.prototype.bindVertexArray=g,s.prototype.bindBuffer=b,s.prototype.bindFramebuffer=E,s.prototype.bindRenderbuffer=A,s.prototype.bindTexture=O,s.prototype.blendColor=I,s.prototype.blendEquation=T,s.prototype.blendEquationSeparate=S,s.prototype.blendFunc=N,s.prototype.blendFuncSeparate=w,s.prototype.bufferData=C,s.prototype.bufferSubData=R,s.prototype.checkFramebufferStatus=M,s.prototype.clear=P,s.prototype.clearColor=j,s.prototype.clearDepth=D,s.prototype.clearStencil=x,s.prototype.colorMask=L,s.prototype.compileShader=B,s.prototype.compressedTexImage2D=k,s.prototype.compressedTexSubImage2D=F,s.prototype.copyTexImage2D=U,s.prototype.copyTexSubImage2D=G,s.prototype.createVertexArray=V,s.prototype.createBuffer=H,s.prototype.createFramebuffer=q,s.prototype.createProgram=W,s.prototype.createRenderbuffer=X,s.prototype.createShader=$,s.prototype.createTexture=z,s.prototype.cullFace=J,s.prototype.deleteVertexArray=Y,s.prototype.deleteBuffer=K,s.prototype.deleteFramebuffer=Q,s.prototype.deleteProgram=Z,s.prototype.deleteRenderbuffer=ee,s.prototype.deleteShader=te,s.prototype.deleteTexture=re,s.prototype.depthFunc=ne,s.prototype.depthMask=oe,s.prototype.depthRange=ie,s.prototype.detachShader=ae,s.prototype.disable=se,s.prototype.disableVertexAttribArray=ue,s.prototype.drawArrays=ce,s.prototype.drawArraysInstanced=fe,s.prototype.drawElements=le,s.prototype.drawElementsInstanced=pe,s.prototype.enable=_e,s.prototype.enableVertexAttribArray=de,s.prototype.finish=he,s.prototype.flush=me,s.prototype.framebufferRenderbuffer=ye,s.prototype.framebufferTexture2D=ve,s.prototype.frontFace=ge,s.prototype.generateMipmap=be,s.prototype.getActiveAttrib=kt,s.prototype.getActiveUniform=Ft,s.prototype.getAttachedShaders=Ut,s.prototype.getAttribLocation=Ee,s.prototype.getBufferParameter=Gt,s.prototype.getError=Ae,s.prototype.getExtension=Jt,s.prototype.getFramebufferAttachmentParameter=Vt,s.prototype.getParameter=Yt,s.prototype.getProgramInfoLog=Ie,s.prototype.getProgramParameter=Ht,s.prototype.getRenderbufferParameter=qt,s.prototype.getShaderInfoLog=Te,s.prototype.getShaderParameter=Wt,s.prototype.getShaderPrecisionFormat=Oe,s.prototype.getShaderSource=Se,s.prototype.getSupportedExtensions=Ne,s.prototype.getTexParameter=Xt,s.prototype.getUniform=zt,s.prototype.getUniformLocation=we,s.prototype.getVertexAttrib=$t,s.prototype.getVertexAttribOffset=Ce,s.prototype.GPUCapture=Re,s.prototype.readPixels=We,s.prototype.hint=Me,s.prototype.isVertexArray=Pe,s.prototype.isBuffer=je,s.prototype.isContextLost=De,s.prototype.isEnabled=xe,s.prototype.isFramebuffer=Le,s.prototype.isProgram=Be,s.prototype.isRenderbuffer=ke,s.prototype.isShader=Fe,s.prototype.isTexture=Ue,s.prototype.lineWidth=Ge,s.prototype.linkProgram=Ve,s.prototype.pixelStorei=He,s.prototype.polygonOffset=qe,s.prototype.renderbufferStorage=Xe,s.prototype.sampleCoverage=$e,s.prototype.scissor=ze,s.prototype.shaderSource=Je,s.prototype.stencilFunc=Ye,s.prototype.stencilFuncSeparate=Ke,s.prototype.stencilMask=Qe,s.prototype.stencilMaskSeparate=Ze,s.prototype.stencilOp=et,s.prototype.stencilOpSeparate=tt,s.prototype.texImage2D=rt,s.prototype.texParameterf=nt,s.prototype.texParameteri=ot,s.prototype.texSubImage2D=it,s.prototype.uniform1f=at,s.prototype.uniform1fv=dt,s.prototype.uniform1i=ft,s.prototype.uniform1iv=vt,s.prototype.uniform2f=st,s.prototype.uniform2fv=ht,s.prototype.uniform2i=lt,s.prototype.uniform2iv=gt,s.prototype.uniform3f=ut,s.prototype.uniform3fv=mt,s.prototype.uniform3i=pt,s.prototype.uniform3iv=bt,s.prototype.uniform4f=ct,s.prototype.uniform4fv=yt,s.prototype.uniform4i=_t,s.prototype.uniform4iv=Et,s.prototype.uniformMatrix2fv=At,s.prototype.uniformMatrix3fv=Ot,s.prototype.uniformMatrix4fv=It,s.prototype.useProgram=Tt,s.prototype.validateProgram=St,s.prototype.vertexAttrib1f=Nt,s.prototype.vertexAttrib1fv=Mt,s.prototype.vertexAttrib2f=wt,s.prototype.vertexAttrib2fv=Pt,s.prototype.vertexAttrib3f=Ct,s.prototype.vertexAttrib3fv=jt,s.prototype.vertexAttrib4f=Rt,s.prototype.vertexAttrib4fv=Dt,s.prototype.vertexAttribDivisor=xt,s.prototype.vertexAttribPointer=Lt,s.prototype.viewport=Bt,s.prototype.getContextAttributes=Kt},s.prototype.attachMethodOpt=function(){s.prototype.gl_checkFramebufferStatus=M,s.prototype.gl_colorMask=L,s.prototype.gl_createVertexArray=V,s.prototype.gl_createBuffer=H,s.prototype.gl_createFramebuffer=q,s.prototype.gl_createProgram=W,s.prototype.gl_createRenderbuffer=X,s.prototype.gl_createShader=$,s.prototype.gl_createTexture=z,s.prototype.gl_getExtension=Jt,s.prototype.gl_getActiveAttrib=kt,s.prototype.gl_getActiveUniform=Ft,s.prototype.gl_getAttachedShaders=Ut,s.prototype.gl_getAttribLocation=Ee,s.prototype.gl_getBufferParameter=Gt,s.prototype.gl_getError=Ae,s.prototype.gl_getFramebufferAttachmentParameter=Vt,s.prototype.gl_getParameter=Yt,s.prototype.gl_getProgramInfoLog=Ie,s.prototype.gl_getProgramParameter=Ht,s.prototype.gl_getRenderbufferParameter=qt,s.prototype.gl_getShaderInfoLog=Te,s.prototype.gl_getShaderParameter=Wt,s.prototype.gl_getShaderPrecisionFormat=Oe,s.prototype.gl_getShaderSource=Se,s.prototype.gl_getSupportedExtensions=Ne,s.prototype.gl_getTexParameter=Xt,s.prototype.gl_getUniform=zt,s.prototype.gl_getUniformLocation=we,s.prototype.gl_getVertexAttrib=$t,s.prototype.gl_getVertexAttribOffset=Ce,s.prototype.gl_GPUCapture=Re,s.prototype.gl_readPixels=We,s.prototype.gl_isVertexArray=Pe,s.prototype.gl_isBuffer=je,s.prototype.gl_isContextLost=De,s.prototype.gl_isEnabled=xe,s.prototype.gl_isFramebuffer=Le,s.prototype.gl_isProgram=Be,s.prototype.gl_isRenderbuffer=ke,s.prototype.gl_isShader=Fe,s.prototype.gl_isTexture=Ue,s.prototype.gl_shaderSource=Je,s.prototype.gl_texImage2D=rt,s.prototype.gl_texSubImage2D=it,s.prototype.gl_getContextAttributes=Kt,s.prototype.gl_compressedTexImage2D=k,s.prototype.gl_compressedTexSubImage2D=F,s.prototype.activeTexture=$o,s.prototype.attachShader=zo,s.prototype.bindAttribLocation=Jo,s.prototype.bindVertexArray=Yo,s.prototype.bindBuffer=Ko,s.prototype.bindFramebuffer=Kn,s.prototype.bindRenderbuffer=Qn,s.prototype.bindTexture=Qo,s.prototype.blendColor=Zo,s.prototype.blendEquation=ei,s.prototype.blendEquationSeparate=ti,s.prototype.blendFunc=ri,s.prototype.blendFuncSeparate=ni,s.prototype.bufferData=Jn,s.prototype.bufferSubData=Yn,s.prototype.checkFramebufferStatus=uo,s.prototype.clear=oi,s.prototype.clearColor=ii,s.prototype.clearDepth=ai,s.prototype.clearStencil=si,s.prototype.colorMask=ui,s.prototype.compileShader=ci,s.prototype.compressedTexImage2D=Zn,s.prototype.compressedTexSubImage2D=eo,s.prototype.copyTexImage2D=fi,s.prototype.copyTexSubImage2D=li,s.prototype.createVertexArray=to,s.prototype.createBuffer=ro,s.prototype.createFramebuffer=no,s.prototype.createProgram=oo,s.prototype.createRenderbuffer=io,s.prototype.createShader=ao,s.prototype.createTexture=so,s.prototype.cullFace=pi,s.prototype.deleteVertexArray=_i,s.prototype.deleteBuffer=di,s.prototype.deleteFramebuffer=hi,s.prototype.deleteProgram=mi,s.prototype.deleteRenderbuffer=yi,s.prototype.deleteShader=vi,s.prototype.deleteTexture=gi,s.prototype.depthFunc=bi,s.prototype.depthMask=Ei,s.prototype.depthRange=Ai,s.prototype.detachShader=Oi,s.prototype.disable=Ii,s.prototype.disableVertexAttribArray=Ti,s.prototype.drawArrays=Si,s.prototype.drawArraysInstanced=Ni,s.prototype.drawElements=wi,s.prototype.drawElementsInstanced=Ci,s.prototype.enable=Ri,s.prototype.enableVertexAttribArray=Mi,s.prototype.finish=Pi,s.prototype.flush=ji,s.prototype.framebufferRenderbuffer=Di,s.prototype.framebufferTexture2D=xi,s.prototype.frontFace=Li,s.prototype.generateMipmap=Bi,s.prototype.getActiveAttrib=co,s.prototype.getActiveUniform=fo,s.prototype.getAttachedShaders=lo,s.prototype.getAttribLocation=po,s.prototype.getBufferParameter=_o,s.prototype.getError=mo,s.prototype.getExtension=yo,s.prototype.getFramebufferAttachmentParameter=vo,s.prototype.getParameter=ho,s.prototype.getProgramInfoLog=bo,s.prototype.getProgramParameter=go,s.prototype.getRenderbufferParameter=Eo,s.prototype.getShaderInfoLog=Io,s.prototype.getShaderParameter=Ao,s.prototype.getShaderPrecisionFormat=Oo,s.prototype.getShaderSource=To,s.prototype.getSupportedExtensions=So,s.prototype.getTexParameter=No,s.prototype.getUniform=wo,s.prototype.getUniformLocation=Co,s.prototype.getVertexAttrib=Ro,s.prototype.getVertexAttribOffset=Mo,s.prototype.GPUCapture=Po,s.prototype.readPixels=Ho,s.prototype.hint=ki,s.prototype.isVertexArray=jo,s.prototype.isBuffer=Do,s.prototype.isContextLost=xo,s.prototype.isEnabled=Lo,s.prototype.isFramebuffer=Bo,s.prototype.isProgram=ko,s.prototype.isRenderbuffer=Fo,s.prototype.isShader=Uo,s.prototype.isTexture=Go,s.prototype.lineWidth=Fi,s.prototype.linkProgram=Ui,s.prototype.pixelStorei=Vo,s.prototype.polygonOffset=Gi,s.prototype.renderbufferStorage=Vi,s.prototype.sampleCoverage=Hi,s.prototype.scissor=qi,s.prototype.shaderSource=Wi,s.prototype.stencilFunc=Xi,s.prototype.stencilFuncSeparate=$i,s.prototype.stencilMask=zi,s.prototype.stencilMaskSeparate=Ji,s.prototype.stencilOp=Yi,s.prototype.stencilOpSeparate=Ki,s.prototype.texImage2D=qo,s.prototype.texParameterf=Qi,s.prototype.texParameteri=Zi,s.prototype.texSubImage2D=Wo,s.prototype.uniform1f=ea,s.prototype.uniform1fv=ua,s.prototype.uniform1i=oa,s.prototype.uniform1iv=pa,s.prototype.uniform2f=ta,s.prototype.uniform2fv=ca,s.prototype.uniform2i=ia,s.prototype.uniform2iv=_a,s.prototype.uniform3f=ra,s.prototype.uniform3fv=fa,s.prototype.uniform3i=aa,s.prototype.uniform3iv=da,s.prototype.uniform4f=na,s.prototype.uniform4fv=la,s.prototype.uniform4i=sa,s.prototype.uniform4iv=ha,s.prototype.uniformMatrix2fv=ma,s.prototype.uniformMatrix3fv=ya,s.prototype.uniformMatrix4fv=va,s.prototype.useProgram=ga,s.prototype.validateProgram=ba,s.prototype.vertexAttrib1f=Ea,s.prototype.vertexAttrib1fv=Ta,s.prototype.vertexAttrib2f=Aa,s.prototype.vertexAttrib2fv=Sa,s.prototype.vertexAttrib3f=Oa,s.prototype.vertexAttrib3fv=Na,s.prototype.vertexAttrib4f=Ia,s.prototype.vertexAttrib4fv=wa,s.prototype.vertexAttribDivisor=Ca,s.prototype.vertexAttribPointer=Ra,s.prototype.viewport=Ma,s.prototype.getContextAttributes=Xo,s.prototype.uniformVecOpt=function(e,t,n,o){this.stm.captureIfNeed(n),e>=Nn&&e<=Cn?r.pushCommand(this.__nativeObj,e,1,0,4,!1,l(t),o,n.length,n.__objID):r.pushCommand(this.__nativeObj,e,1,0,3,!1,l(t),n.length,n.__objID),r.flushCmd("uniformVec_"+e)},s.prototype.vertexAttribVecOpt=function(e,t,n){this.stm.captureIfNeed(n),r.pushCommand(this.__nativeObj,e,1,0,3,!1,t,n.length,n.__objID),r.flushCmd("vertexAttribVec_"+e)}};var Qt=0,Zt=1,er=2,tr=3,rr=4,nr=5,or=6,ir=7,ar=8,sr=9,ur=10,cr=11,fr=12,lr=13,pr=14,_r=15,dr=16,hr=17,mr=18,yr=20,vr=21,gr=22,br=23,Er=24,Ar=25,Or=26,Ir=27,Tr=28,Sr=29,Nr=30,wr=31,Cr=32,Rr=33,Mr=34,Pr=35,jr=36,Dr=37,xr=38,Lr=39,Br=40,kr=41,Fr=42,Ur=43,Gr=44,Vr=45,Hr=46,qr=47,Wr=48,Xr=49,$r=50,zr=51,Jr=52,Yr=53,Kr=54,Qr=55,Zr=56,en=57,tn=58,rn=59,nn=60,on=61,an=62,sn=63,un=64,cn=65,fn=66,ln=67,pn=68,_n=69,dn=70,hn=71,mn=72,yn=73,vn=74,gn=75,bn=76,En=77,An=78,On=79,In=80,Tn=81,Sn=82,Nn=83,wn=84,Cn=85,Rn=86,Mn=87,Pn=88,jn=89,Dn=90,xn=91,Ln=92,Bn=93,kn=94,Fn=95,Un=96,Gn=97,Vn=99,Hn=102,qn=103,Wn=104,Xn=105,$n=106;var zn=function(){function e(){}return e.prototype.cArr={create:1},e.prototype.count=function(e){null==this.cArr[e]?this.cArr[e]=1:this.cArr[e]+=1},e.prototype.result=function(){var e=this.cArr,t=Object.keys(e).map(function(t){return[t,e[t]]});return t.sort(function(e,t){return t[1]-e[1]}),t},new e}();function Jn(e,t,n){if(null==t)return r.flushCmd("bufferData_1"),void console.error("bufferDataOpt data invald");var o=0,i=0;if("number"==typeof t)o=-1*t;else{if(t instanceof ArrayBuffer&&t.__qqCpyEnable()&&(t=new Uint8Array(t)),ArrayBuffer.isView(t)&&t.__qqCpyEnable())return i=1,void r.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,fr,[i,e,t.__qqByteLength(),n],t);this.stm.indexOf(t)<0&&this.stm.add(t,this.stm.type_typedArray),o=t.__objID}r.pushCommand(this.__nativeObj,fr,1,0,4,!0,i,e,o,n),r.flushCmd("bufferData_2")}function Yn(e,t,n){if(!n||!(n instanceof ArrayBuffer||ArrayBuffer.isView(n)))return r.flushCmd("bufferSubData_1"),void console.error("bufferSubDataOpt data invald");var o=0;if(n instanceof ArrayBuffer&&n.__qqCpyEnable()&&(n=new Uint8Array(n)),ArrayBuffer.isView(n)&&n.__qqCpyEnable())return o=1,void r.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,lr,[o,e,t,n.__qqByteLength()],n);this.stm.indexOf(n)<0&&this.stm.add(n,this.stm.type_typedArray),r.pushCommand(this.__nativeObj,lr,1,0,4,!0,o,e,t,n.__objID),r.flushCmd("bufferSubData_2")}function Kn(e,t){r.pushCommand(this.__nativeObj,rr,1,0,2,!1,e,l(t))}function Qn(e,t){r.pushCommand(this.__nativeObj,nr,1,0,2,!1,e,l(t))}function Zn(e,t,n,o,i,a,s){var u=0;s&&this.stm.indexOf(s)<0&&(this.stm.add(s,this.stm.type_typedArray),u=s.__objID);var c=s?h(s):0;t||(t=0),r.pushCommand(this.__nativeObj,vr,1,0,8,!1,e,t,n,o,i,a,u,c),r.flushCmd("compressedTexImage2D")}function eo(e,t,n,o,i,a,s,u){var c=0;u&&this.stm.indexOf(u)<0&&(this.stm.add(u,this.stm.type_typedArray),c=u.__objID);var f=u?h(u):0;t||(t=0),r.pushCommand(this.__nativeObj,gr,1,0,9,!1,e,t,n,o,i,a,s,c,f),r.flushCmd("compressedTexSubImage2D")}function to(){return this.gl_createVertexArray()}function ro(){return this.gl_createBuffer()}function no(){return this.gl_createFramebuffer()}function oo(){return this.gl_createProgram()}function io(){return this.gl_createRenderbuffer()}function ao(e){return this.gl_createShader(e)}function so(){return this.gl_createTexture()}function uo(e){return r.flushCmd("checkFramebufferStatus"),this.gl_checkFramebufferStatus(e)}function co(e,t){return r.flushCmd("getActiveAttrib"),this.gl_getActiveAttrib(e,t)}function fo(e,t){return r.flushCmd("getActiveUniform"),this.gl_getActiveUniform(e,t)}function lo(e){return r.flushCmd("getAttachedShaders"),this.gl_getAttachedShaders(e)}function po(e,t){return r.flushCmd("getAttribLocation"),this.gl_getAttribLocation(e,t)}function _o(e,t){return r.flushCmd("getBufferParameter"),this.gl_getBufferParameter(e,t)}function ho(e){return r.flushCmd("getParameter"),this.gl_getParameter(e)}function mo(){return r.flushCmd("getError"),this.gl_getError()}function yo(e){return r.flushCmd("getExtension"),this.gl_getExtension(e)}function vo(e,t,n){return r.flushCmd("getFramebufferAttachmentParameter"),this.gl_getFramebufferAttachmentParameter(e,t,n)}function go(e,t){return r.flushCmd("getProgramParameter"),this.gl_getProgramParameter(e,t)}function bo(e){return r.flushCmd("getProgramInfoLog"),this.gl_getProgramInfoLog(e)}function Eo(e,t){return r.flushCmd("getRenderbufferParameter"),this.gl_getRenderbufferParameter(e,t)}function Ao(e,t){return r.flushCmd("getShaderParameter"),this.gl_getShaderParameter(e,t)}function Oo(e,t){return r.flushCmd("getShaderPrecisionFormat"),this.gl_getShaderPrecisionFormat(e,t)}function Io(e){return r.flushCmd("getShaderInfoLog"),this.gl_getShaderInfoLog(e)}function To(e){return r.flushCmd("getShaderSource"),this.gl_getShaderSource(e)}function So(){return r.flushCmd("getSupportedExtensions"),this.gl_getSupportedExtensions()}function No(e,t){return r.flushCmd("getTexParameter"),this.gl_getTexParameter(e,t)}function wo(e,t){return r.flushCmd("getUniform"),this.gl_getUniform(e,t)}function Co(e,t){return r.flushCmd("getUniformLocation"),this.gl_getUniformLocation(e,t)}function Ro(e,t){return r.flushCmd("getVertexAttrib"),this.gl_getVertexAttrib(e,t)}function Mo(e,t){return r.flushCmd("getVertexAttribOffset"),this.gl_getVertexAttribOffset(e,t)}function Po(){return r.flushCmd("GPUCapture"),this.gl_GPUCapture()}function jo(e){return r.flushCmd("isVertexArrayOpt"),this.gl_isVertexArray(e)}function Do(e){return r.flushCmd("isBuffer"),this.gl_isBuffer(e)}function xo(){return r.flushCmd("isContextLost"),this.gl_isContextLost()}function Lo(e){return r.flushCmd("isEnabled"),this.gl_isEnabled(e)}function Bo(e){return r.flushCmd("isFramebuffer"),this.gl_isFramebuffer(e)}function ko(e){return r.flushCmd("isProgram"),this.gl_isProgram(e)}function Fo(e){return r.flushCmd("isRenderbuffer"),this.gl_isRenderbuffer(e)}function Uo(e){return r.flushCmd("isShader"),this.gl_isShader(e)}function Go(e){return r.flushCmd("isTexture"),this.gl_isTexture(e)}function Vo(e,t){r.pushCommand(this.__nativeObj,zr,1,0,2,!1,e,t)}function Ho(e,t,n,o,i,a,s){r.flushCmd("readPixels"),this.gl_readPixels(e,t,n,o,i,a,s)}function qo(e,t,n){if(6==arguments.length){var o=arguments[3],i=arguments[4],a=arguments[5],s=this.decodeDrawableSourceOpt(a);s&&(r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,sn,[e,t,n,o,i,s.__objID,s.__type]),s.__type==this.stm.type_canvas&&r.flushCmd("texImage2D_1"))}else if(9==arguments.length){var u=arguments[3],c=arguments[4],f=arguments[5],l=(o=arguments[6],i=arguments[7],0);if(!(a=arguments[8]))return void r.pushCommand(this.__nativeObj,sn,1,0,10,!1,e,t,n,u,c,f,o,i,l,0);a&&this.stm.indexOf(a)<0&&this.stm.add(a,this.stm.type_typedArray),l=a.__objID;var p=a?h(a):0;r.pushCommand(this.__nativeObj,sn,1,0,10,!1,e,t,n,u,c,f,o,i,l,p),r.flushCmd("texImage2D_2")}}function Wo(e,t,n,o){if(7==arguments.length){var i=arguments[4],a=arguments[5],s=arguments[6],u=this.decodeDrawableSourceOpt(s);u&&(r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,fn,[e,t,n,o,i,a,u.__objID,u.__type]),u.__type==this.stm.type_canvas&&r.flushCmd("texSubImage2D_1"))}else if(9==arguments.length){var c,f=arguments[4],l=arguments[5];i=arguments[6],a=arguments[7];(s=arguments[8])&&this.stm.indexOf(s)<0&&this.stm.add(s,this.stm.type_typedArray),c=s.__objID;var p=s?h(s):0;r.pushCommand(this.__nativeObj,fn,1,0,10,!0,e,t,n,o,f,l,i,a,c,p),r.flushCmd("texSubImage2D_2")}}function Xo(){return r.flushCmd("getContextAttributes"),this.gl_getContextAttributes()}function $o(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Qt,[e])}function zo(e,t){r.pushCommand(this.__nativeObj,Zt,1,0,2,!0,p(e),p(t))}function Jo(e,t,n){r.pushCommand(this.__nativeObj,er,1,0,3,!1,p(e),t,n)}function Yo(e){e&&"vao"!==e.__type||r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Hn,[p(e)])}function Ko(e,t){t?r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,tr,[e,p(t)]):r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,tr,[e,0])}function Qo(e,t){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,or,[e,p(t)])}function Zo(e,t,n,o){r.pushCommand(this.__nativeObj,ir,1,0,4,!1,e,t,n,o)}function ei(e){r.pushCommand(this.__nativeObj,ar,1,0,1,!1,e)}function ti(e,t){r.pushCommand(this.__nativeObj,sr,1,0,2,!1,e,t)}function ri(e,t){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,ur,[e,t])}function ni(e,t,n,o){r.pushCommand(this.__nativeObj,cr,1,0,4,!1,e,t,n,o)}function oi(e){r.pushCommand(this.__nativeObj,pr,1,0,1,!1,e)}function ii(e,t,n,o){r.pushCommand(this.__nativeObj,_r,1,0,4,!1,e,t,n,o)}function ai(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,dr,[e])}function si(e){r.pushCommand(this.__nativeObj,hr,1,0,1,!1,e)}function ui(e,t,n,o){r.pushCommand(this.__nativeObj,mr,1,0,4,!1,e,t,n,o)}function ci(e){r.pushCommand(this.__nativeObj,yr,1,0,1,!0,p(e))}function fi(e,t,n,o,i,a,s,u){r.pushCommand(this.__nativeObj,br,1,0,8,!1,e,t,n,o,i,a,s,u)}function li(e,t,n,o,i,a,s,u){r.pushCommand(this.__nativeObj,Er,1,0,8,!1,e,t,n,o,i,a,s,u)}function pi(e){r.pushCommand(this.__nativeObj,Ar,1,0,1,!1,e)}function _i(e){e&&"vao"===e.__type&&(r.pushCommand(this.__nativeObj,qn,1,0,1,!0,p(e)),d(e))}function di(e){r.pushCommand(this.__nativeObj,Or,1,0,1,!0,p(e))}function hi(e){r.pushCommand(this.__nativeObj,Ir,1,0,1,!0,l(e))}function mi(e){r.pushCommand(this.__nativeObj,Tr,1,0,1,!0,p(e))}function yi(e){r.pushCommand(this.__nativeObj,Sr,1,0,1,!0,l(e))}function vi(e){r.pushCommand(this.__nativeObj,Nr,1,0,1,!0,p(e))}function gi(e){r.pushCommand(this.__nativeObj,wr,1,0,1,!0,p(e))}function bi(e){r.pushCommand(this.__nativeObj,Cr,1,0,1,!1,e)}function Ei(e){r.pushCommand(this.__nativeObj,Rr,1,0,1,!0,e?1:0)}function Ai(e,t){r.pushCommand(this.__nativeObj,Mr,1,0,2,!1,e,t)}function Oi(e,t){r.pushCommand(this.__nativeObj,Pr,1,0,2,!0,p(e),p(t))}function Ii(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,jr,[e])}function Ti(e){r.pushCommand(this.__nativeObj,Dr,1,0,1,!1,e)}function Si(e,t,n){r.pushCommand(this.__nativeObj,xr,1,0,3,!1,e,t,n),n>0&&a()}function Ni(e,t,n,o){r.pushCommand(this.__nativeObj,Wn,1,0,4,!0,e,t,n,o),n>0&&a()}function wi(e,t,n,o){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Lr,[e,t,n,o]),t>0&&a()}function Ci(e,t,n,o,i){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Xn,[e,t,n,o,i]),t>0&&a()}function Ri(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Br,[e])}function Mi(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,kr,[e])}function Pi(){r.pushCommand(this.__nativeObj,Fr,1,0,0,!0)}function ji(){r.pushCommand(this.__nativeObj,Ur,1,0,0,!0)}function Di(e,t,n,o){r.pushCommand(this.__nativeObj,Gr,1,0,4,!1,e,t,n,l(o))}function xi(e,t,n,o,i){r.pushCommand(this.__nativeObj,Vr,1,0,5,!1,e,t,n,p(o),i)}function Li(e){r.pushCommand(this.__nativeObj,Hr,1,0,1,!1,e)}function Bi(e){r.pushCommand(this.__nativeObj,qr,1,0,1,!0,e)}function ki(e,t){r.pushCommand(this.__nativeObj,Wr,1,0,2,!1,e,t)}function Fi(e){r.pushCommand(this.__nativeObj,Xr,1,0,1,!1,e)}function Ui(e){r.pushCommand(this.__nativeObj,$r,1,0,1,!0,p(e))}function Gi(e,t){r.pushCommand(this.__nativeObj,Jr,1,0,2,!1,e,t)}function Vi(e,t,n,o){r.pushCommand(this.__nativeObj,Yr,1,0,4,!1,e,t,n,o)}function Hi(e,t){r.pushCommand(this.__nativeObj,Kr,1,0,2,!1,e,t?1:0)}function qi(e,t,n,o){r.pushCommand(this.__nativeObj,Qr,1,0,4,!1,e,t,n,o)}function Wi(e,t){r.pushCommand(this.__nativeObj,Zr,1,0,2,!1,p(e),t)}function Xi(e,t,n){r.pushCommand(this.__nativeObj,en,1,0,3,!1,e,t,n)}function $i(e,t,n,o){r.pushCommand(this.__nativeObj,tn,1,0,4,!1,e,t,n,o)}function zi(e){r.pushCommand(this.__nativeObj,rn,1,0,1,!1,e)}function Ji(e,t){r.pushCommand(this.__nativeObj,nn,1,0,2,!1,e,t)}function Yi(e,t,n){r.pushCommand(this.__nativeObj,on,1,0,3,!1,e,t,n)}function Ki(e,t,n,o){r.pushCommand(this.__nativeObj,an,1,0,4,!1,e,t,n,o)}function Qi(e,t,n){r.pushCommand(this.__nativeObj,un,1,0,3,!1,e,t,n)}function Zi(e,t,n){r.pushCommand(this.__nativeObj,cn,1,0,3,!1,e,t,n)}function ea(e,t){r.pushCommand(this.__nativeObj,ln,1,0,2,!1,l(e),parseFloat(t))}function ta(e,t,n){r.pushCommand(this.__nativeObj,hn,1,0,3,!1,l(e),parseFloat(t),parseFloat(n))}function ra(e,t,n,o){r.pushCommand(this.__nativeObj,gn,1,0,4,!1,l(e),parseFloat(t),parseFloat(n),parseFloat(o))}function na(e,t,n,o,i){r.pushCommand(this.__nativeObj,On,1,0,5,!1,l(e),parseFloat(t),parseFloat(n),parseFloat(o),parseFloat(i))}function oa(e,t){r.pushCommand(this.__nativeObj,_n,1,0,2,!1,l(e),parseInt(t))}function ia(e,t,n){r.pushCommand(this.__nativeObj,yn,1,0,3,!1,l(e),parseInt(t),parseInt(n))}function aa(e,t,n,o){r.pushCommand(this.__nativeObj,En,1,0,4,!1,l(e),parseInt(t),parseInt(n),parseInt(o))}function sa(e,t,n,o,i){r.pushCommand(this.__nativeObj,Tn,1,0,5,!1,l(e),parseInt(t),parseInt(n),parseInt(o),parseInt(i))}function ua(e,t){this.uniformVecOpt(pn,e,o(t))}function ca(e,t){if(ArrayBuffer.isView(t)&&t.__qqCpyEnable())r.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,mn,[l(e),t.length,1],t);else{t=o(t);this.stm.captureIfNeed(t),r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,mn,[l(e),t.length,0,t.__objID]),r.flushCmd("uniform2fvOpt")}}function fa(e,t){this.uniformVecOpt(bn,e,o(t))}function la(e,t){if(ArrayBuffer.isView(t)&&t.__qqCpyEnable())r.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,In,[l(e),t.length,1],t);else{t=o(t);this.stm.captureIfNeed(t),r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,In,[l(e),t.length,0,t.__objID]),r.flushCmd("uniform4fvOpt")}}function pa(e,t){this.uniformVecOpt(dn,e,o(t,Int32Array))}function _a(e,t){this.uniformVecOpt(vn,e,o(t,Int32Array))}function da(e,t){this.uniformVecOpt(An,e,o(t,Int32Array))}function ha(e,t){this.uniformVecOpt(Sn,e,o(t,Int32Array))}function ma(e,t,r){this.uniformVecOpt(Nn,e,o(r),t)}function ya(e,t,r){this.uniformVecOpt(wn,e,o(r),t)}function va(e,t,n){ArrayBuffer.isView(n)&&n.__qqCpyEnable()?r.pushCommand_F32Array_ArrayBuffer(this.__nativeObj,this.__cqCallerId,Vn,[l(e),t,n.length],n):this.uniformVecOpt(Cn,e,o(n),t)}function ga(e){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Rn,[p(e)])}function ba(e){r.pushCommand(this.__nativeObj,Mn,1,0,1,!0,p(e))}function Ea(e,t){r.pushCommand(this.__nativeObj,Pn,1,0,2,!1,e,t)}function Aa(e,t,n){r.pushCommand(this.__nativeObj,jn,1,0,3,!1,e,t,n)}function Oa(e,t,n,o){r.pushCommand(this.__nativeObj,Dn,1,0,4,!1,e,t,n,o)}function Ia(e,t,n,o,i){r.pushCommand(this.__nativeObj,xn,1,0,5,!1,e,t,n,o,i)}function Ta(e,t){this.vertexAttribVecOpt(Ln,e,o(t))}function Sa(e,t){this.vertexAttribVecOpt(Bn,e,o(t))}function Na(e,t){this.vertexAttribVecOpt(kn,e,o(t))}function wa(e,t){this.vertexAttribVecOpt(Fn,e,o(t))}function Ca(e,t){r.pushCommand(this.__nativeObj,$n,1,0,2,!1,e,t)}function Ra(e,t,n,o,i,a){r.pushCommand_F32Array(this.__nativeObj,this.__cqCallerId,Un,[e,t,n,o?1:0,i,a])}function Ma(e,t,n,o){r.pushCommand(this.__nativeObj,Gn,1,0,4,!1,e,t,n,o)}GameGlobal.countFlush=zn,s.prototype.DEPTH_BUFFER_BIT=256,s.prototype.STENCIL_BUFFER_BIT=1024,s.prototype.COLOR_BUFFER_BIT=16384,s.prototype.POINTS=0,s.prototype.LINES=1,s.prototype.LINE_LOOP=2,s.prototype.LINE_STRIP=3,s.prototype.TRIANGLES=4,s.prototype.TRIANGLE_STRIP=5,s.prototype.TRIANGLE_FAN=6,s.prototype.ZERO=0,s.prototype.ONE=1,s.prototype.SRC_COLOR=768,s.prototype.ONE_MINUS_SRC_COLOR=769,s.prototype.SRC_ALPHA=770,s.prototype.ONE_MINUS_SRC_ALPHA=771,s.prototype.DST_ALPHA=772,s.prototype.ONE_MINUS_DST_ALPHA=773,s.prototype.DST_COLOR=774,s.prototype.ONE_MINUS_DST_COLOR=775,s.prototype.SRC_ALPHA_SATURATE=776,s.prototype.FUNC_ADD=32774,s.prototype.BLEND_EQUATION=32777,s.prototype.BLEND_EQUATION_RGB=32777,s.prototype.BLEND_EQUATION_ALPHA=34877,s.prototype.FUNC_SUBTRACT=32778,s.prototype.FUNC_REVERSE_SUBTRACT=32779,s.prototype.BLEND_DST_RGB=32968,s.prototype.BLEND_SRC_RGB=32969,s.prototype.BLEND_DST_ALPHA=32970,s.prototype.BLEND_SRC_ALPHA=32971,s.prototype.CONSTANT_COLOR=32769,s.prototype.ONE_MINUS_CONSTANT_COLOR=32770,s.prototype.CONSTANT_ALPHA=32771,s.prototype.ONE_MINUS_CONSTANT_ALPHA=32772,s.prototype.BLEND_COLOR=32773,s.prototype.ARRAY_BUFFER=34962,s.prototype.ELEMENT_ARRAY_BUFFER=34963,s.prototype.ARRAY_BUFFER_BINDING=34964,s.prototype.ELEMENT_ARRAY_BUFFER_BINDING=34965,s.prototype.STREAM_DRAW=35040,s.prototype.STATIC_DRAW=35044,s.prototype.DYNAMIC_DRAW=35048,s.prototype.BUFFER_SIZE=34660,s.prototype.BUFFER_USAGE=34661,s.prototype.CURRENT_VERTEX_ATTRIB=34342,s.prototype.FRONT=1028,s.prototype.BACK=1029,s.prototype.FRONT_AND_BACK=1032,s.prototype.CULL_FACE=2884,s.prototype.BLEND=3042,s.prototype.DITHER=3024,s.prototype.STENCIL_TEST=2960,s.prototype.DEPTH_TEST=2929,s.prototype.SCISSOR_TEST=3089,s.prototype.POLYGON_OFFSET_FILL=32823,s.prototype.SAMPLE_ALPHA_TO_COVERAGE=32926,s.prototype.SAMPLE_COVERAGE=32928,s.prototype.NO_ERROR=0,s.prototype.INVALID_ENUM=1280,s.prototype.INVALID_VALUE=1281,s.prototype.INVALID_OPERATION=1282,s.prototype.OUT_OF_MEMORY=1285,s.prototype.CW=2304,s.prototype.CCW=2305,s.prototype.LINE_WIDTH=2849,s.prototype.ALIASED_POINT_SIZE_RANGE=33901,s.prototype.ALIASED_LINE_WIDTH_RANGE=33902,s.prototype.CULL_FACE_MODE=2885,s.prototype.FRONT_FACE=2886,s.prototype.DEPTH_RANGE=2928,s.prototype.DEPTH_WRITEMASK=2930,s.prototype.DEPTH_CLEAR_VALUE=2931,s.prototype.DEPTH_FUNC=2932,s.prototype.STENCIL_CLEAR_VALUE=2961,s.prototype.STENCIL_FUNC=2962,s.prototype.STENCIL_FAIL=2964,s.prototype.STENCIL_PASS_DEPTH_FAIL=2965,s.prototype.STENCIL_PASS_DEPTH_PASS=2966,s.prototype.STENCIL_REF=2967,s.prototype.STENCIL_VALUE_MASK=2963,s.prototype.STENCIL_WRITEMASK=2968,s.prototype.STENCIL_BACK_FUNC=34816,s.prototype.STENCIL_BACK_FAIL=34817,s.prototype.STENCIL_BACK_PASS_DEPTH_FAIL=34818,s.prototype.STENCIL_BACK_PASS_DEPTH_PASS=34819,s.prototype.STENCIL_BACK_REF=36003,s.prototype.STENCIL_BACK_VALUE_MASK=36004,s.prototype.STENCIL_BACK_WRITEMASK=36005,s.prototype.VIEWPORT=2978,s.prototype.SCISSOR_BOX=3088,s.prototype.COLOR_CLEAR_VALUE=3106,s.prototype.COLOR_WRITEMASK=3107,s.prototype.UNPACK_ALIGNMENT=3317,s.prototype.PACK_ALIGNMENT=3333,s.prototype.MAX_TEXTURE_SIZE=3379,s.prototype.MAX_VIEWPORT_DIMS=3386,s.prototype.SUBPIXEL_BITS=3408,s.prototype.RED_BITS=3410,s.prototype.GREEN_BITS=3411,s.prototype.BLUE_BITS=3412,s.prototype.ALPHA_BITS=3413,s.prototype.DEPTH_BITS=3414,s.prototype.STENCIL_BITS=3415,s.prototype.POLYGON_OFFSET_UNITS=10752,s.prototype.POLYGON_OFFSET_FACTOR=32824,s.prototype.TEXTURE_BINDING_2D=32873,s.prototype.SAMPLE_BUFFERS=32936,s.prototype.SAMPLES=32937,s.prototype.SAMPLE_COVERAGE_VALUE=32938,s.prototype.SAMPLE_COVERAGE_INVERT=32939,s.prototype.COMPRESSED_TEXTURE_FORMATS=34467,s.prototype.DONT_CARE=4352,s.prototype.FASTEST=4353,s.prototype.NICEST=4354,s.prototype.GENERATE_MIPMAP_HINT=33170,s.prototype.BYTE=5120,s.prototype.UNSIGNED_BYTE=5121,s.prototype.SHORT=5122,s.prototype.UNSIGNED_SHORT=5123,s.prototype.INT=5124,s.prototype.UNSIGNED_INT=5125,s.prototype.FLOAT=5126,s.prototype.DEPTH_COMPONENT=6402,s.prototype.ALPHA=6406,s.prototype.RGB=6407,s.prototype.RGBA=6408,s.prototype.LUMINANCE=6409,s.prototype.LUMINANCE_ALPHA=6410,s.prototype.UNSIGNED_SHORT_4_4_4_4=32819,s.prototype.UNSIGNED_SHORT_5_5_5_1=32820,s.prototype.UNSIGNED_SHORT_5_6_5=33635,s.prototype.FRAGMENT_SHADER=35632,s.prototype.VERTEX_SHADER=35633,s.prototype.MAX_VERTEX_ATTRIBS=34921,s.prototype.MAX_VERTEX_UNIFORM_VECTORS=36347,s.prototype.MAX_VARYING_VECTORS=36348,s.prototype.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661,s.prototype.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660,s.prototype.MAX_TEXTURE_IMAGE_UNITS=34930,s.prototype.MAX_FRAGMENT_UNIFORM_VECTORS=36349,s.prototype.SHADER_TYPE=35663,s.prototype.DELETE_STATUS=35712,s.prototype.LINK_STATUS=35714,s.prototype.VALIDATE_STATUS=35715,s.prototype.ATTACHED_SHADERS=35717,s.prototype.ACTIVE_UNIFORMS=35718,s.prototype.ACTIVE_ATTRIBUTES=35721,s.prototype.SHADING_LANGUAGE_VERSION=35724,s.prototype.CURRENT_PROGRAM=35725,s.prototype.NEVER=512,s.prototype.LESS=513,s.prototype.EQUAL=514,s.prototype.LEQUAL=515,s.prototype.GREATER=516,s.prototype.NOTEQUAL=517,s.prototype.GEQUAL=518,s.prototype.ALWAYS=519,s.prototype.KEEP=7680,s.prototype.REPLACE=7681,s.prototype.INCR=7682,s.prototype.DECR=7683,s.prototype.INVERT=5386,s.prototype.INCR_WRAP=34055,s.prototype.DECR_WRAP=34056,s.prototype.VENDOR=7936,s.prototype.RENDERER=7937,s.prototype.VERSION=7938,s.prototype.NEAREST=9728,s.prototype.LINEAR=9729,s.prototype.NEAREST_MIPMAP_NEAREST=9984,s.prototype.LINEAR_MIPMAP_NEAREST=9985,s.prototype.NEAREST_MIPMAP_LINEAR=9986,s.prototype.LINEAR_MIPMAP_LINEAR=9987,s.prototype.TEXTURE_MAG_FILTER=10240,s.prototype.TEXTURE_MIN_FILTER=10241,s.prototype.TEXTURE_WRAP_S=10242,s.prototype.TEXTURE_WRAP_T=10243,s.prototype.TEXTURE_2D=3553,s.prototype.TEXTURE=5890,s.prototype.TEXTURE_CUBE_MAP=34067,s.prototype.TEXTURE_BINDING_CUBE_MAP=34068,s.prototype.TEXTURE_CUBE_MAP_POSITIVE_X=34069,s.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X=34070,s.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y=34071,s.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072,s.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z=34073,s.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074,s.prototype.MAX_CUBE_MAP_TEXTURE_SIZE=34076,s.prototype.TEXTURE0=33984,s.prototype.TEXTURE1=33985,s.prototype.TEXTURE2=33986,s.prototype.TEXTURE3=33987,s.prototype.TEXTURE4=33988,s.prototype.TEXTURE5=33989,s.prototype.TEXTURE6=33990,s.prototype.TEXTURE7=33991,s.prototype.TEXTURE8=33992,s.prototype.TEXTURE9=33993,s.prototype.TEXTURE10=33994,s.prototype.TEXTURE11=33995,s.prototype.TEXTURE12=33996,s.prototype.TEXTURE13=33997,s.prototype.TEXTURE14=33998,s.prototype.TEXTURE15=33999,s.prototype.TEXTURE16=34e3,s.prototype.TEXTURE17=34001,s.prototype.TEXTURE18=34002,s.prototype.TEXTURE19=34003,s.prototype.TEXTURE20=34004,s.prototype.TEXTURE21=34005,s.prototype.TEXTURE22=34006,s.prototype.TEXTURE23=34007,s.prototype.TEXTURE24=34008,s.prototype.TEXTURE25=34009,s.prototype.TEXTURE26=34010,s.prototype.TEXTURE27=34011,s.prototype.TEXTURE28=34012,s.prototype.TEXTURE29=34013,s.prototype.TEXTURE30=34014,s.prototype.TEXTURE31=34015,s.prototype.ACTIVE_TEXTURE=34016,s.prototype.REPEAT=10497,s.prototype.CLAMP_TO_EDGE=33071,s.prototype.MIRRORED_REPEAT=33648,s.prototype.FLOAT_VEC2=35664,s.prototype.FLOAT_VEC3=35665,s.prototype.FLOAT_VEC4=35666,s.prototype.INT_VEC2=35667,s.prototype.INT_VEC3=35668,s.prototype.INT_VEC4=35669,s.prototype.BOOL=35670,s.prototype.BOOL_VEC2=35671,s.prototype.BOOL_VEC3=35672,s.prototype.BOOL_VEC4=35673,s.prototype.FLOAT_MAT2=35674,s.prototype.FLOAT_MAT3=35675,s.prototype.FLOAT_MAT4=35676,s.prototype.SAMPLER_2D=35678,s.prototype.SAMPLER_CUBE=35680,s.prototype.VERTEX_ATTRIB_ARRAY_ENABLED=34338,s.prototype.VERTEX_ATTRIB_ARRAY_SIZE=34339,s.prototype.VERTEX_ATTRIB_ARRAY_STRIDE=34340,s.prototype.VERTEX_ATTRIB_ARRAY_TYPE=34341,s.prototype.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922,s.prototype.VERTEX_ATTRIB_ARRAY_POINTER=34373,s.prototype.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975,s.prototype.IMPLEMENTATION_COLOR_READ_TYPE=35738,s.prototype.IMPLEMENTATION_COLOR_READ_FORMAT=35739,s.prototype.COMPILE_STATUS=35713,s.prototype.LOW_FLOAT=36336,s.prototype.MEDIUM_FLOAT=36337,s.prototype.HIGH_FLOAT=36338,s.prototype.LOW_INT=36339,s.prototype.MEDIUM_INT=36340,s.prototype.HIGH_INT=36341,s.prototype.FRAMEBUFFER=36160,s.prototype.RENDERBUFFER=36161,s.prototype.RGBA4=32854,s.prototype.RGB5_A1=32855,s.prototype.RGB565=36194,s.prototype.DEPTH_COMPONENT16=33189,s.prototype.STENCIL_INDEX8=36168,s.prototype.DEPTH_STENCIL=34041,s.prototype.RENDERBUFFER_WIDTH=36162,s.prototype.RENDERBUFFER_HEIGHT=36163,s.prototype.RENDERBUFFER_INTERNAL_FORMAT=36164,s.prototype.RENDERBUFFER_RED_SIZE=36176,s.prototype.RENDERBUFFER_GREEN_SIZE=36177,s.prototype.RENDERBUFFER_BLUE_SIZE=36178,s.prototype.RENDERBUFFER_ALPHA_SIZE=36179,s.prototype.RENDERBUFFER_DEPTH_SIZE=36180,s.prototype.RENDERBUFFER_STENCIL_SIZE=36181,s.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048,s.prototype.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049,s.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050,s.prototype.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051,s.prototype.COLOR_ATTACHMENT0=36064,s.prototype.DEPTH_ATTACHMENT=36096,s.prototype.STENCIL_ATTACHMENT=36128,s.prototype.DEPTH_STENCIL_ATTACHMENT=33306,s.prototype.NONE=0,s.prototype.FRAMEBUFFER_COMPLETE=36053,s.prototype.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054,s.prototype.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055,s.prototype.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057,s.prototype.FRAMEBUFFER_UNSUPPORTED=36061,s.prototype.FRAMEBUFFER_BINDING=36006,s.prototype.RENDERBUFFER_BINDING=36007,s.prototype.MAX_RENDERBUFFER_SIZE=34024,s.prototype.INVALID_FRAMEBUFFER_OPERATION=1286,s.prototype.VERTEX_ARRAY_BINDING=34229,s.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR=35070,s.prototype.HALF_FLOAT=5131,s.prototype.FRAGMENT_SHADER_DERIVATIVE_HINT=35723,s.prototype.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840,s.prototype.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841,s.prototype.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842,s.prototype.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843,s.prototype.TEXTURE_MAX_ANISOTROPY_EXT=34046,s.prototype.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047,s.prototype.UNPACK_FLIP_Y_WEBGL=37440,s.prototype.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441,s.prototype.CONTEXT_LOST_WEBGL=37442,s.prototype.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443,s.prototype.BROWSER_DEFAULT_WEBGL=37444,s.prototype.SHADER_BINARY_FORMATS=36344,s.prototype.NUM_SHADER_BINARY_FORMATS=36345,s.prototype.NUM_COMPRESSED_TEXTURE_FORMATS=34466,this.__extensions={EXT_texture_filter_anisotropic:{TEXTURE_MAX_ANISOTROPY_EXT:this.TEXTURE_MAX_ANISOTROPY_EXT,MAX_TEXTURE_MAX_ANISOTROPY_EXT:this.MAX_TEXTURE_MAX_ANISOTROPY_EXT},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:this.HALF_FLOAT},OES_texture_half_float_linear:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:this.FRAGMENT_SHADER_DERIVATIVE_HINT},OES_vertex_array_object:{},ANGLE_instanced_arrays:{},OES_element_index_uint:{},WEBGL_compressed_texture_pvrtc:{COMPRESSED_RGB_PVRTC_4BPPV1_IMG:this.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:this.COMPRESSED_RGB_PVRTC_2BPPV1_IMG,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:this.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:this.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}},s.prototype.__defineGetter__("drawingBufferWidth",function(){if(!f)return r.flushCmd("getdrawingBufferWidth"),this.__nativeObj.drawingBufferWidth}),s.prototype.__defineGetter__("drawingBufferHeight",function(){if(!f)return r.flushCmd("getdrawingBufferHeight"),this.__nativeObj.drawingBufferHeight}),this.__nativeObj.commandIndexDict={GL_COMMAND_ACTIVE_TEXTURE:"activeTexture",GL_COMMAND_ATTACH_SHADER:"attachShader",GL_COMMAND_BIND_ATTRIB_LOCATION:"bindAttribLocation",GL_COMMAND_BIND_BUFFER:"bindBuffer",GL_COMMAND_BIND_VERTEX_ARRAY:"bindVertexArray",GL_COMMAND_BIND_FRAME_BUFFER:"bindFrameBuffer",GL_COMMAND_BIND_RENDER_BUFFER:"bindRenderBuffer",GL_COMMAND_BIND_TEXTURE:"bindTexture",GL_COMMAND_BLEND_COLOR:"blendColor",GL_COMMAND_BLEND_EQUATION:"blendEquation",GL_COMMAND_BLEND_EQUATION_SEPARATE:"blendEquationSeparate",GL_COMMAND_BLEND_FUNC:"blendFunc",GL_COMMAND_BLEND_FUNC_SEPARATE:"blendFuncSeparate",GL_COMMAND_BUFFER_DATA:"bufferData",GL_COMMAND_BUFFER_SUB_DATA:"bufferSubData",GL_COMMAND_CLEAR:"clear",GL_COMMAND_CLEAR_COLOR:"clearColor",GL_COMMAND_CLEAR_DEPTH:"clearDepth",GL_COMMAND_CLEAR_STENCIL:"clearStencil",GL_COMMAND_COLOR_MASK:"colorMask",GL_COMMAND_COMMIT:"commit",GL_COMMAND_COMPILE_SHADER:"compileShader",GL_COMMAND_COMPRESSED_TEX_IMAGE_2D:"compressedTexImage2d",GL_COMMAND_COMPRESSED_TEX_SUB_IMAGE_2D:"compressedTexSubImage2d",GL_COMMAND_COPY_TEX_IMAGE_2D:"copyTexImage2d",GL_COMMAND_COPY_TEX_SUB_IMAGE_2D:"copyTexSubImage2d",GL_COMMAND_CULL_FACE:"cullFace",GL_COMMAND_DELETE_VERTEX_ARRAY:"deleteVertexArray",GL_COMMAND_DELETE_BUFFER:"deleteBuffer",GL_COMMAND_DELETE_FRAME_BUFFER:"deleteFrameBuffer",GL_COMMAND_DELETE_PROGRAM:"deleteProgram",GL_COMMAND_DELETE_RENDER_BUFFER:"deleteRenderBuffer",GL_COMMAND_DELETE_SHADER:"deleteShader",GL_COMMAND_DELETE_TEXTURE:"deleteTexture",GL_COMMAND_DEPTH_FUNC:"depthFunc",GL_COMMAND_DEPTH_MASK:"depthMask",GL_COMMAND_DEPTH_RANGE:"depthRange",GL_COMMAND_DETACH_SHADER:"detachShader",GL_COMMAND_DISABLE:"disable",GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY:"disableVertexAttribArray",GL_COMMAND_DRAW_ARRAYS:"drawArrays",GL_COMMAND_DRAW_ELEMENTS:"drawElements",GL_COMMAND_ENABLE:"enable",GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY:"enableVertexAttribArray",GL_COMMAND_FINISH:"finish",GL_COMMAND_FLUSH:"flush",GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER:"frameBufferRenderBuffer",GL_COMMAND_FRAME_BUFFER_TEXTURE_2D:"frameBufferTexture2d",GL_COMMAND_FRONT_FACE:"frontFace",GL_COMMAND_GENERATE_MIPMAP:"generateMipmap",GL_COMMAND_HINT:"hint",GL_COMMAND_LINE_WIDTH:"lineWidth",GL_COMMAND_LINK_PROGRAM:"linkProgram",GL_COMMAND_PIXEL_STOREI:"pixelStorei",GL_COMMAND_POLYGON_OFFSET:"polygonOffset",GL_COMMAND_RENDER_BUFFER_STORAGE:"renderBufferStorage",GL_COMMAND_SAMPLE_COVERAGE:"sampleCoverage",GL_COMMAND_SCISSOR:"scissor",GL_COMMAND_SHADER_SOURCE:"shaderSource",GL_COMMAND_STENCIL_FUNC:"stencilFunc",GL_COMMAND_STENCIL_FUNC_SEPARATE:"stencilFuncSeparate",GL_COMMAND_STENCIL_MASK:"stencilMask",GL_COMMAND_STENCIL_MASK_SEPARATE:"stencilMaskSeparate",GL_COMMAND_STENCIL_OP:"stencilOp",GL_COMMAND_STENCIL_OP_SEPARATE:"stencilOpSeparate",GL_COMMAND_TEX_IMAGE_2D:"texImage2d",GL_COMMAND_TEX_PARAMETER_F:"texParameterF",GL_COMMAND_TEX_PARAMETER_I:"texParameterI",GL_COMMAND_TEX_SUB_IMAGE_2D:"texSubImage2d",GL_COMMAND_UNIFORM_1F:"uniform1f",GL_COMMAND_UNIFORM_1FV:"uniform1fv",GL_COMMAND_UNIFORM_1I:"uniform1i",GL_COMMAND_UNIFORM_1IV:"uniform1iv",GL_COMMAND_UNIFORM_2F:"uniform2f",GL_COMMAND_UNIFORM_2FV:"uniform2fv",GL_COMMAND_UNIFORM_2I:"uniform2i",GL_COMMAND_UNIFORM_2IV:"uniform2iv",GL_COMMAND_UNIFORM_3F:"uniform3f",GL_COMMAND_UNIFORM_3FV:"uniform3fv",GL_COMMAND_UNIFORM_3I:"uniform3i",GL_COMMAND_UNIFORM_3IV:"uniform3iv",GL_COMMAND_UNIFORM_4F:"uniform4f",GL_COMMAND_UNIFORM_4FV:"uniform4fv",GL_COMMAND_UNIFORM_4I:"uniform4i",GL_COMMAND_UNIFORM_4IV:"uniform4iv",GL_COMMAND_UNIFORM_MATRIX_2FV:"uniformMatrix2fv",GL_COMMAND_UNIFORM_MATRIX_3FV:"uniformMatrix3fv",GL_COMMAND_UNIFORM_MATRIX_4FV:"uniformMatrix4fv",GL_COMMAND_UNIFORM_MATRIX_4FV_ARRAYBUFFER:"uniformMatrix4fv",GL_COMMAND_USE_PROGRAM:"useProgram",GL_COMMAND_VALIDATE_PROGRAM:"validateProgram",GL_COMMAND_VERTEX_ATTRIB_1F:"vertexAttrib1f",GL_COMMAND_VERTEX_ATTRIB_2F:"vertexAttrib2f",GL_COMMAND_VERTEX_ATTRIB_3F:"vertexAttrib3f",GL_COMMAND_VERTEX_ATTRIB_4F:"vertexAttrib4f",GL_COMMAND_VERTEX_ATTRIB_1FV:"vertexAttrib1fv",GL_COMMAND_VERTEX_ATTRIB_2FV:"vertexAttrib2fv",GL_COMMAND_VERTEX_ATTRIB_3FV:"vertexAttrib3fv",GL_COMMAND_VERTEX_ATTRIB_4FV:"vertexAttrib4fv",GL_COMMAND_VERTEX_ATTRIB_POINTER:"vertexAttribPointer",GL_COMMAND_VIEW_PORT:"viewPort"},r.enableCommandQueue&&(this.__cqCallerId=this.__nativeObj.__cqCallerId=r.__nativeObj.cacheCaller(this.__nativeObj,1))}function u(e){this.gl=e,this.originFunc={bindVertexArray:e.bindVertexArray,createVertexArray:e.createVertexArray,deleteVertexArray:e.deleteVertexArray,isVertexArray:e.isVertexArray}}function c(e){this.gl=e,this.originFunc={drawArraysInstanced:e.drawArraysInstanced,drawElementsInstanced:e.drawElementsInstanced,vertexAttribDivisor:e.vertexAttribDivisor}}e.isMainService&&(e.webglPlusUtil.enableWebGLPlus?e.extendWebGLPlusToWebGLContext(s):wx.webglPlus=void 0),u.prototype.bindVertexArrayOES=function(e){return this.originFunc.bindVertexArray.call(this.gl,e)},u.prototype.createVertexArrayOES=function(){return this.originFunc.createVertexArray.call(this.gl)},u.prototype.deleteVertexArrayOES=function(e){return this.originFunc.deleteVertexArray.call(this.gl,e)},u.prototype.isVertexArrayOES=function(e){return this.originFunc.isVertexArray.call(this.gl,e)},u.prototype.VERTEX_ARRAY_BINDING_OES=s.prototype.VERTEX_ARRAY_BINDING,c.prototype.drawArraysInstancedANGLE=function(e,t,r,n){return this.originFunc.drawArraysInstanced.call(this.gl,e,t,r,n)},c.prototype.drawElementsInstancedANGLE=function(e,t,r,n,o){return this.originFunc.drawElementsInstanced.call(this.gl,e,t,r,n,o)},c.prototype.vertexAttribDivisorANGLE=function(e,t){return this.originFunc.vertexAttribDivisor.call(this.gl,e,t)},c.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=s.prototype.VERTEX_ATTRIB_ARRAY_DIVISOR}(n.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){r.__ttObjdec__.stateMachine=function e(t){this.__nativeObj=t,e.prototype.type_undefined=0,e.prototype.type_typedArray=1,e.prototype.type_image=2,e.prototype.type_buffer=3,e.prototype.type_shader=4,e.prototype.type_canvas=5,e.prototype.type_context=6,e.prototype.type_imageData=7,this.index_TypedArray=0,this.index_Image=0,this.index_Buffer=0,this.index_Shader=0,this.index_Canvas=0,this.index_Context=0,this.index_ImageData=0,this.indexs=[void 0,this.index_TypedArray,this.index_Image,this.index_Buffer,this.index_Shader,this.index_Canvas,this.index_Context,this.index_ImageData],this.reusefulIndexs_TypedArray=[],this.reusefulIndexs_Image=[],this.reusefulIndexs_Buffer=[],this.reusefulIndexs_Shader=[],this.reusefulIndexs_Canvas=[],this.reusefulIndexs_Context=[],this.reusefulIndexs_ImageData=[],this.reusefulIndexs=[void 0,this.reusefulIndexs_TypedArray,this.reusefulIndexs_Image,this.reusefulIndexs_Buffer,this.reusefulIndexs_Shader,this.reusefulIndexs_Canvas,this.reusefulIndexs_Context,this.reusefulIndexs_ImageData],this.pool_typedArray=[],this.pool_image=[],this.pool_buffer=[],this.pool_shader=[],this.pool_canvas=[],this.pool_context=[],this.pool_imageData=[],this.pools=[void 0,this.pool_typedArray,this.pool_image,this.pool_buffer,this.pool_shader,this.pool_canvas,this.pool_context,this.pool_imageData],this.tmpPool=[],e.prototype.clearTmpPopl=function(){this.tmpPool=[]},e.prototype.usefulIDFor=function(e,t){if(void 0===e.__objID){var r,n=this.reusefulIndexs[t];0!=n.length?r=n.pop():(this.clearPoolIfNeed(t),this.indexs[t]+=1,r=this.indexs[t]),e.__objID=r}return e.__objID},e.prototype.clearPoolIfNeed=function(e){this.indexs[e]===Number.MAX_VALUE&&(this.pools[e].splice(0),this.indexs[e]=0)},e.prototype.retrieveUsefulIDFor=function(e){var t=object.__objID;this.reusefulIndexs[type].push(t)},e.prototype.add=function(e,t){if(t<this.type_undefined||t>this.type_imageData)console.error("ERROR: Undefined STM type!");else{var r=this.usefulIDFor(e,t);this.pools[t].push(r),this.tmpPool.push(e),this.__nativeObj.addObject(r,e,t)}},e.prototype.remove=function(e,t){if((t<this.type_undefined||t>this.type_imageData)&&console.error("ERROR: Undefined STM type!"),void 0!==e.__objID){var r=e.__objID;this.retrieveUsefulIDFor(r);var n=this.pools[t],o=n.indexOf(r);n.splice(o,1),this.__nativeObj.removeObject(r,t)}else console.error("retrieveUsefulID failed, undefined objID!")},e.prototype.removeAllTypedArrayIfNeed=function(){var e=this.pool_typedArray;if(e.length>12500){for(var t=0;t<e.length;t++)this.__nativeObj.removeObject(e[t],this.type_typedArray);e.splice(0,e.length)}},e.prototype.indexOf=function(e,t){if(void 0===e.__objID)return-1;void 0===t&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(t=this.type_typedArray);var r=e.__objID;return this.pools[t].indexOf(r)},e.prototype.captureIfNeed=function(e,t){void 0===t&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(t=this.type_typedArray),this.indexOf(e,t)<0&&this.add(e,t)}}}()},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){e.isRemoteUrl=function(e){return/^https?:\/\//.test(e)},e.wrapLocalUrl=function(e){return/^GameRes:\/\//.test(e)?e:"GameRes://"+e.replace(/^\.*\//,"")},e.wrapSandBoxPath=function(e){return/^wxfile:\/\//.test(e)?e:"wxfile://"+e.replace(/^\.*\//,"")},e.extractFileNameFromUrl=function(e){var t=e.lastIndexOf("/");return-1==t&&(t=e.lastIndexOf("\\")),e.substr(t+1)},e.extractFilePathFromUrl=function(e){var t=0;t=e.startsWith("https")?e.substr(8).indexOf("/")+9:e.startsWith("http")?e.substr(7).indexOf("/")+8:e.indexOf("/")+1;var r=e.lastIndexOf("/");return e.substring(t,r)+"/"},e.getImgPath=function(t){var r;if(e.isRemoteUrl(t)){var n=e.extractFilePathFromUrl(t)+e.extractFileNameFromUrl(t);n.replace("/","#"),n.replace("\\","#"),r=e.wrapSandBoxPath("usr/"+e.imageDownloadDir+"/"+n)}else r=0==t.indexOf("GameRes://")?t:(t.indexOf("wxfile://"),t);return r},e.extractDir=function(e){var t;return 0==e.indexOf("wxfile://")&&(t=e.substr(0,e.lastIndexOf("/"))),t},e.getAudioPath=function(t){var r;if(e.isRemoteUrl(t)){var n=e.extractFileNameFromUrl(t);r=e.wrapSandBoxPath("download/audio/"+n)}else r=e.wrapLocalUrl(t);return r},e.isNumber=function(e){return!(!/^\d+(\.\d+)?$/.test(e)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(e))},e.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)}:null},e.colourNameToHex=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]},e.colorToRgba=function(e){"#"===e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in t)e==r&&(e=t[r]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(\.*\d*))\)$/,example:["rgba(123, 234, 45,12)","rgba(255,234,245,12)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})(\w{2})$/,example:["#00ff0000","33669900"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseFloat(e[4])]}}],o=0;o<n.length;o++){var i=n[o].re,a=n[o].process,s=i.exec(e);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.a<=1&&(this.a*=255),this.ok=!0)}return this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toFloatColor=function(){return{r:(this.r+0)/255,g:(this.g+0)/255,b:(this.b+0)/255,a:(this.a+0)/255}},this.toFloatColor()},e.BufferToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.bufferLength()),r=new Uint8Array(t),n=0;n<e.bufferLength();)r[n++]=e.readUint8Buffer();return t};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<t.length;n++)r[t.charCodeAt(n)]=n;e.Base64ToArraybuffer=function(e){var t,n,o,i,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var f=new ArrayBuffer(s),l=new Uint8Array(f);for(t=0;t<u;t+=4)n=r[e.charCodeAt(t)],o=r[e.charCodeAt(t+1)],i=r[e.charCodeAt(t+2)],a=r[e.charCodeAt(t+3)],l[c++]=n<<2|o>>4,l[c++]=(15&o)<<4|i>>2,l[c++]=(3&i)<<6|63&a;return f}}(r.__ttObjdec__)},function(e,t,r){var n=r(1),o=r(92),i=r(0);e.exports={canIUse:function(e){if("string"!=typeof e)return!1;e=e.split(".");var t=i.getCanIUseConfig(),r=o(e),a=r[0],s=r[1],u=r[2],c=r[3],f=r.slice(4);return!(f&&f.length>0||!a||!t[a]||s&&!(Object.keys(t[a]).filter(function(e){return!!t[a][e][s]&&(!u||t[a][e][s].filter(function(e){return"string"==typeof e&&e===u&&!c||!("object"!==n(e)||!e[u])&&(!c||(Array.isArray(e[u])||(e[u]=[e[u]]),e[u].indexOf(c)>-1))}).length>0)}).length>0))}}},function(e,t,r){var n=r(93),o=r(43),i=r(94);e.exports=function(e){return n(e)||o(e)||i()}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,r){var n=r(3);r(27),r(96),r(97),r(98),r(99),r(100),r(101),r(102),r(103),r(104),r(105),r(106),r(107),r(108),r(109),r(110),r(111),r(45),r(112),r(46),r(113),r(114),r(116),r(117),r(118),n.isAndroid?(r(26),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(127),r(128),r(129)):(r(130),r(131),r(132))},function(e,t,r){var n=r(0);n.normalAPIMutations({showLoading:{toNativeEventName:"showLoading",paramHandlers:function(e,t){if(!n.parameterMustBe(e[0],"Object")||n.parameterMustBe(e[0].title,"Undefined")||n.parameterMustBe(e[0].title,"String"))return e[0]||{};var r="showLoading:fail parameter error: parameter.title should be String instead of "+n.getTypeStr(e[0].title)+";";console.error(r),n.parameterMustBe(e[0].fail,"Function")&&e[0].fail(r),n.parameterMustBe(e[0].complete,"Function")&&e[0].complete(r)},invokeBefore:function(e,t,r,n){if(void 0===t)return!0}}}),n.normalAPIMutations({showActionSheet:{toNativeEventName:"showActionSheet",paramHandlers:function(e,t){if(!n.parameterMustBe(e[0],"Object")&&(e[0]={}),n.parameterMustBe(e[0].itemList,"Undefined")&&(e[0].itemList=[]),!n.parameterMustBe(e[0].itemList,"Array")){var r="showActionSheet:fail parameter error: parameter.itemList should be Array instead of "+n.getTypeStr(e[0].itemList)+";";return console.error(r),n.parameterMustBe(e[0].fail,"Function")&&e[0].fail(r),void(n.parameterMustBe(e[0].complete,"Function")&&e[0].complete(r))}if(e[0].itemList.length<=0||e[0].itemList.length>6){r="";return r=e[0].itemList.length>6?"showActionSheet:fail parameter error: parameter.itemList should not have more than 6 item;":"showActionSheet:fail parameter error: parameter.itemList should have at least 1 item;",console.error(r),n.parameterMustBe(e[0].fail,"Function")&&e[0].fail(r),void(n.parameterMustBe(e[0].complete,"Function")&&e[0].complete(r))}if(!n.parameterMustBe(e[0].itemList[0],"String")){r="showActionSheet:fail parameter error: parameter.itemList[0] should be String instead of "+n.getTypeStr(e[0].itemList[0])+";";return console.error(r),n.parameterMustBe(e[0].fail,"Function")&&e[0].fail(r),void(n.parameterMustBe(e[0].complete,"Function")&&e[0].complete(r))}for(var o=0;o<e[0].itemList.length;o++)if(!n.parameterMustBe(e[0].itemList[o],"String"))try{e[0].itemList[o]=JSON.stringify(e[0].itemList[o])}catch(e){}return e[0]},invokeBefore:function(e,t,r,n){if(void 0===t)return!0}}}),n.normalAPIMutations("hideToast"),n.normalAPIMutations("hideLoading"),n.normalAPIMutations({showToast:{canIUse:{"1.0.0":{}},toNativeEventName:"showToast",paramHandlers:function(e,t){var r=e[0];return void 0===r.icon&&(r.icon="success"),void 0===r.duration&&(r.duration=1500),void 0===r.mask&&(r.mask=!1),r}}}),n.normalAPIMutations({showModal:{canIUse:{"1.0.0":{}},toNativeEventName:"showModal",paramHandlers:function(e,t){var r=e[0];return void 0===r.showCancel&&(r.showCancel=!0),void 0===r.cancelText&&(r.cancelText="取消"),void 0===r.cancelColor&&(r.cancelColor="#000000"),void 0===r.confirmText&&(r.confirmText="确定"),void 0===r.confirmColor&&(r.confirmColor="#576B95"),r}}}),n.addCanIUseConfig("showToast",{"1.0.0":{object:["title",{icon:["success","loading","none"]},"image","duration","mask"],success:[]}}),n.addCanIUseConfig("showLoading",{"1.0.0":{success:[],object:["title","mask"]}}),n.addCanIUseConfig("showModal",{"1.0.0":{success:["confirm","cancel"],object:["title","content","showCancel","cancelText","cancelColor","confirmText","confirmColor"]}}),n.addCanIUseConfig("showActionSheet",{"1.0.0":{success:["tapIndex"],object:["itemList","itemColor"]}}),n.addCanIUseConfig("showActionSheet",{"1.0.0":{success:["tapIndex"],object:["itemList","itemColor"]}}),n.addCanIUseConfig("hideToast",{"1.0.0":{success:[]}}),n.addCanIUseConfig("hideLoading",{"1.0.0":{success:[]}})},function(e,t,r){var n=r(0),o=r(3);n.normalAPIMutations([{setEnableDebug:{canIUse:{"1.3.0":{success:[],object:["enableDebug"]}},toNativeEventName:"setEnableDebug"}}]),o.isAndroid&&n.normalAPIMutations({timePerformanceResult:{toNativeEventName:"timePerformanceResult",paramHandlers:function(e){return{id:e[1],result:e[0]}}}})},function(e,t,r){var n=r(1),o=r(0);function i(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if("object"!==n(e))return e;var r=[];for(var o in e)if(e.hasOwnProperty(o))if(t)try{r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]))}catch(t){r.push(o+"="+e[o])}else r.push(o+"="+e[o]);return r.join("&")}function a(e,t){try{if("string"==typeof e&&"object"===n(t)&&null!==t&&0<Object.keys(t).length){var r=e.split("?");return r[0]+"?"+i(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){for(var r in t)e[r]=t[r];return e},{})}((r[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&0<t.length){var r=t.split("="),n=r[0],o=r[1];e[n]=o}return e},{}),Object.keys(t).reduce(function(e,r){return"object"===n(t[r])?e[encodeURIComponent(r)]=encodeURIComponent(JSON.stringify(t[r])):e[encodeURIComponent(r)]=encodeURIComponent(t[r]),e},{})))}}catch(e){console.warn("parseGetUrl:"+e)}return e}var s=["tcb-api.tencentcloudapi.com","www.urlshare.cn","q.qq.com"];function u(e,t){var r,o=c(e.header);"Undefined"!==o&&"Object"!==o&&console.warn("wx.request: header must be an object"),e.header=e.header||{},e.header=(r=e.header,Object.keys(r).reduce(function(e,t){return"string"==typeof r[t]?e[t]=r[t]:"number"==typeof r[t]?e[t]=r[t]+"":e[t]=Object.prototype.toString.apply(r[t]),e},{})),e.header=Object.keys(e.header).reduce(function(t,r){return"content-type"===r.toLowerCase()?t[r.toLowerCase()]=e.header[r]:t[r]=e.header[r],t},{});var u="text";e.responseType&&(u=e.responseType.toLowerCase());var f="GET";"string"==typeof e.method&&(f=e.method.toUpperCase()),e.dataType=e.dataType||"json";var l,p=e.header;if(p["content-type"]=p["content-type"]||"application/json",void 0===e.data)l="";else try{l="string"!=typeof e.data&&"ArrayBuffer"!==c(e.data)?"POST"===f&&-1<p["content-type"].indexOf("application/x-www-form-urlencoded")?i(e.data,1):-1<p["content-type"].indexOf("application/json")?JSON.stringify(e.data):"object"===n(e.data)?JSON.stringify(e.data):e.data.toString():e.data}catch(e){console.warn("processRequestParams: "+e)}"GET"==f&&(e.url=a(e.url,e.data));var _=e.url.match(/^https?:\/\/([^\/\?]*)[\/\?]?/i),d=_?_[1]:"";"GET"===f&&d&&-1!==s.indexOf(d)&&-1!==e.url.indexOf("_wnscgi=1")&&(e.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/"+e.url.replace(/^https?:\/\//i,""),t.tempParams={toNativeEventName:"wnsCgiRequest",invokeObj:{invokeAfter:null}});try{return Object.assign({},e,{header:p,method:f,responseType:u,data:l})}catch(e){console.warn("error parse wx.reqeust :"+e.message)}}function c(e){return Object.prototype.toString.call(e).slice(8,-1)}o.normalAPIMutations({request:{canIUse:{"1.0.0":{object:["url","data","header",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]},"dataType",{responseType:["text","arraybuffer"]}],success:["data","statusCode","header"]}},toNativeEventName:"createRequestTask",paramHandlers:function(e,t){return u(e[0],t)},invokeAfter:function(e,t,r,n){if(r&&null!=e&&null!=e.errMsg){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("request illegal host:"+t.url);var o=t;null!=o.fail&&setTimeout(function(){o.fail(e)},0)}},subscribeEventListener:{subscribeEventName:"onRequestTaskStateChange",callback:function(e,t,r){var n=e[0];if(null==n)return!1;if(r.requestTaskId!=t.requestTaskId)return!1;if(t.data&&e[0]&&"json"===e[0].dataType)try{"string"==typeof t.data&&(t.data=JSON.parse(t.data))}catch(e){}if(t.header)try{"string"==typeof t.header&&(t.header=JSON.parse(t.header))}catch(e){console.warn("onRequestTaskStateChange 解析header出现异常",e)}return"success"==t.state?(null!=n.success&&n.success(t),null!=n.complete&&n.complete(t),!0):"fail"==t.state&&(null!=n.fail&&n.fail(t),null!=n.complete&&n.complete(t),!0)}},createObj:{createObjectBefore:function(e,t,r,n){if(null!=r){if("string"==typeof r)try{r=JSON.parse(r)}catch(e){console.warn("request 解析parentInvokeResult出现异常",e)}var o=r.requestTaskId;null==o&&console.warn("requestTaskId is undefined!!!!!!"),e.requestTaskId=o,n.requestTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateRequestTask",paramHandlers:function(e,t){return{requestTaskId:t.requestTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){if(null==e)return!1;if(e.requestTaskId!=t.requestTaskId)return!0;var r=t.state;return null==r||"headersReceived"!=r||e.requestTaskId!==t.requestTaskId},toNativeEventName:"onRequestTaskStateChange"}]}}}),o.normalAPIMutations({uploadFile:{canIUse:{"1.0.0":{object:["url","filePath","name","header","formData"],success:["data","statusCode"]}},toNativeEventName:"createUploadTask",invokeAfter:function(e,t,r,n){if(r&&null!=e&&null!=e.errMsg){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("uploadFile illegal host:"+t.url);var o=t;null!=o.fail&&setTimeout(function(){o.fail(e)},0)}},subscribeEventListener:{subscribeEventName:"onUploadTaskStateChange",callback:function(e,t,r){var n=e[0];return null==n||r.uploadTaskId==t.uploadTaskId&&void("success"==t.state?(null!=n.success&&n.success(t),null!=n.complete&&n.complete()):"fail"==t.state&&(null!=n.fail&&n.fail(t),null!=n.complete&&n.complete()))}},createObj:{invokeAfter:function(e,t,r,n){if(r)return e},createObjectBefore:function(e,t,r,n){if(null!=r){if("string"==typeof r)try{r=JSON.parse(r)}catch(e){console.warn("uploadFile 解析parentInvokeResult出现异常",e)}var o=r.uploadTaskId;null==o&&console.warn("uploadTaskId is undefined!!!!!!"),e.uploadTaskId=o,n.uploadTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateUploadTask",paramHandlers:function(e,t){return{uploadTaskId:t.uploadTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){var r=t.state;return null==r||"headersReceived"!=r||e.uploadTaskId!==t.uploadTaskId},paramHandlers:function(e){return e.header},toNativeEventName:"onUploadTaskStateChange"},{bindAPIName:"onProgressUpdate",offAPIName:"offProgressUpdate",triggerEventBefore:function(e,t){if(null==e)return!0;var r=t.state;return null==r||"progressUpdate"!=r||e.uploadTaskId!==t.uploadTaskId},toNativeEventName:"onUploadTaskStateChange"}]}}})},function(e,t,r){var n=r(1),o=r(0),i=r(5),a=(r(3),i.normalAPIFactory([{statSync:{toNativeEventName:"statSync",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,r,n){return void 0!==e.mode?new s(e):new s(e.stats)}}}]));function s(e){this.mode=e.mode,this.size=e.size,this.lastAccessedTime=e.lastAccessedTime,this.lastModifiedTime=e.lastModifiedTime}function u(e,t,r,o){if(r){if("object"!==n(e))throw new Error("unkonw error");if(e.errMsg&&-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg)}}function c(e){if(!e)return e;var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}function f(e,t,r){if(r=r||"","object"!==n(e))throw new Error(r+":fail parameter error: parameter should be Object instead of "+c(e)+";");if(param=e[t],"string"!=typeof param)throw new Error(r+":fail parameter error: parameter."+t+" should be String instead of "+c(param)+";");return e}function l(e,t){if(t=t||"","string"!=typeof e)throw new Error(t+":fail parameter error: parameter should be String instead of "+c(e)+";");return e}s.prototype.isDirectory=function(){return 16384==(61440&this.mode)},s.prototype.isFile=function(){return 32768==(61440&this.mode)},o.normalAPIMutations({getFileSystemManager:{canIUse:{"1.0.0":{}},createObj:{createObjectBefore:function(e,t,r){e.fileManagerId=r},normalAPI:[{access:{toNativeEventName:"access",paramHandlers:function(e,t){return f(e[0],"path","access")}},accessSync:{toNativeEventName:"accessSync",paramHandlers:function(e,t){return e[0]=l(e[0],"accessSync"),{path:e[0]}},invokeAfter:u},mkdir:{toNativeEventName:"mkdir",paramHandlers:function(e,t){return f(e[0],"dirPath","mkdir")}},mkdirSync:{toNativeEventName:"mkdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"mkdirSync"),{dirPath:e[0],recursive:e[1]}},invokeAfter:u},readdir:{toNativeEventName:"readdir",paramHandlers:function(e,t){return f(e[0],"dirPath","readdir")}},readdirSync:{toNativeEventName:"readdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"readdirSync"),{dirPath:e[0]}},invokeAfter:function(e,t,r,n){if(r){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.files}return e}},writeFile:{toNativeEventName:"writeFile",paramHandlers:function(e,t){return!e[0]||"utf-8"!=e[0].encoding&&e[0].encoding||(e[0].encoding="utf8"),f(e[0],"filePath","writeFile")}},writeFileSync:{toNativeEventName:"writeFileSync",paramHandlers:function(e,t){return"utf-8"!=e[2]&&e[2]||(e[2]="utf8"),e[0]=l(e[0],"writeFileSync"),{filePath:e[0],data:e[1],encoding:e[2]}},invokeAfter:u},rename:{toNativeEventName:"fs_rename",paramHandlers:function(e,t){return e[0]=f(e[0],"oldPath","rename"),f(e[0],"newPath","rename")}},renameSync:{toNativeEventName:"fs_renameSync",paramHandlers:function(e,t){return e[0]=l(e[0],"renameSync"),e[1]=l(e[1],"renameSync"),{oldPath:e[0],newPath:e[1]}},invokeAfter:u},rmdir:{toNativeEventName:"rmdir",paramHandlers:function(e,t){return f(e[0],"dirPath","rmdir")}},rmdirSync:{toNativeEventName:"rmdirSync",paramHandlers:function(e,t){return e[0]=l(e[0],"rmdirSync"),{dirPath:e[0],recursive:e[1]}},invokeAfter:u},copyFile:{toNativeEventName:"fs_copyFile",paramHandlers:function(e,t){return e[0]=f(e[0],"srcPath","copyFile"),f(e[0],"destPath","copyFile")}},copyFileSync:{toNativeEventName:"fs_copyFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"copyFileSync"),e[1]=l(e[1],"copyFileSync"),{srcPath:e[0],destPath:e[1]}},invokeAfter:u},appendFile:{toNativeEventName:"fs_appendFile",paramHandlers:function(e,t){return f(e[0],"filePath","appendFile")}},appendFileSync:{toNativeEventName:"fs_appendFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"appendFileSync"),{filePath:e[0],data:e[1],encoding:e[2]}},invokeAfter:u},getSavedFileList:{toNativeEventName:"getSavedFileList",paramHandlers:function(e,t){return e[0]}},readFile:{toNativeEventName:"readFile",paramHandlers:function(e,t){return e[0]&&"utf-8"==e[0].encoding&&(e[0].encoding="utf8"),f(e[0],"filePath","readFile")}},readFileSync:{toNativeEventName:"readFileSync",paramHandlers:function(e,t){return"utf-8"==e[1]&&(e[1]="utf8"),e[0]=l(e[0],"readFileSync"),{filePath:e[0],encoding:e[1]}},invokeAfter:function(e,t,r,n){if(r){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.__nativeBuffers__?e.__nativeBuffers__:e.data?e.data:void 0}}},saveFile:{toNativeEventName:"saveFile",paramHandlers:function(e,t){return f(e[0],"tempFilePath","saveFile")}},saveFileSync:{toNativeEventName:"saveFileSync",paramHandlers:function(e,t){return e[0]=l(e[0],"saveFileSync"),e.length>=2&&(e[1]=l(e[1],"saveFileSync")),{tempFilePath:e[0],filePath:e[1]}},invokeAfter:function(e,t,r,n){if(r){if(-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg);return e.savedFilePath}}},stat:{toNativeEventName:"stat",paramHandlers:function(e,t){return f(e[0],"path","stat")},invokeAfter:function(e,t,r,n){if(!r){if(e.errMsg.indexOf(":fail")>-1)return{errMsg:e.errMsg};if(e.stats||void 0===e.mode)if(e.stats&&void 0!==e.stats.mode)e.stats=new s(e.stats);else{var o=[],i=e.stats||e;if(!i[""]){var u=a.statSync({path:t.path,recursive:!1});o.push({path:"/",stats:u})}Object.keys(i).forEach(function(e){if("errMsg"!==e){var t=i[e];o.push({path:e,stats:new s(t)}),delete i[e]}}),e.stats=o}else e.stats=new s(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;return e}}},statSync:{toNativeEventName:"statSync",paramHandlers:function(e,t){return e[0]=l(e[0],"statSync"),{path:e[0],recursive:e[1]}},invokeAfter:function(e,t,r,n){if(r){if(e.errMsg.indexOf(":fail")>-1)throw new Error(e.errMsg);if(e.stats||void 0===e.mode)if(e.stats&&void 0!==e.stats.mode)e.stats=new s(e.stats);else{var o=[],i=e.stats||e;if(console.error("oriStats",i),!i[""]){var u=a.statSync({path:t.path,recursive:!1});o.push({path:"/",stats:u})}Object.keys(i).forEach(function(e){if("errMsg"!==e){var t=i[e];o.push({path:e,stats:new s(t)}),delete i[e]}}),e.stats=o}else e.stats=new s(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;return e.stats}}},unlink:{toNativeEventName:"unlink",paramHandlers:function(e,t){return f(e[0],"filePath","unlink")}},unlinkSync:{toNativeEventName:"unlinkSync",paramHandlers:function(e,t){return e[0]=l(e[0],"unlinkSync"),{filePath:e[0]}},invokeAfter:u},removeSavedFile:{toNativeEventName:"removeSavedFile",paramHandlers:function(e,t){return f(e[0],"filePath","removeSavedFile")}},unzip:{toNativeEventName:"unzip",paramHandlers:function(e,t){return e[0]=f(e[0],"zipFilePath","unzip"),f(e[0],"targetPath","unzip")}},getFileInfo:{toNativeEventName:"getFileInfo",paramHandlers:function(e,t){return f(e[0],"filePath","getFileInfo")},invokeAfter:function(e,t,r,n){if(!r){var o=new Object;return o.size=e.size,e.fileSize&&(o.size=e.fileSize),o.digest=e.digest,o.errMsg=e.errMsg,o}}}}]}},getFileInfo:{canIUse:{"1.8.0":{success:["size","digest"],object:["filePath","digestAlgorithm"]}},toNativeEventName:"getFileInfo",invokeAfter:function(e,t,r,n){if(!r&&null!=e&&null!=e.errMsg){if(!(e.errMsg.indexOf(":ok")<0))return e;var o=t;null!=o.fail&&setTimeout(function(){o.fail(e)},0)}}}}),o.normalAPIMutations({getFileInfo:{canIUse:{"1.8.0":{}},toNativeEventName:"getFileInfo",paramHandlers:function(e,t){return e[0]=f(e[0],"filePath","getFileInfo"),t.originParams=e[0],e[0]},invokeBefore:function(e,t,r,n){var o=(t=JSON.parse(t)).digestAlgorithm;if(void 0!==o&&-1===["md5","sha1"].indexOf(o)){console.error("illegal param digestAlgorithm : "+o);var i=n.originParams;return i&&i.fail&&i.fail("illegal param digestAlgorithm"),!0}},invokeAfter:function(e,t,r,n){return e}}})},function(e,t,r){var n=r(0),o=r(3);n.normalAPIMutations({getNetworkType:{canIUse:{"1.0.0":{success:[{networkType:["wifi","2g","3g","4g","unknown","none"]}]}},toNativeEventName:"getNetworkType"},getBatteryInfo:{canIUse:{"1.0.0":{success:["level","isCharging"]}},toNativeEventName:"getBatteryInfo"},setClipboardData:{canIUse:{"1.0.0":{success:[],object:["data"]}},toNativeEventName:"setClipboardData"},getClipboardData:{canIUse:{"1.0.0":{success:["data"]}},toNativeEventName:"getClipboardData"},setScreenBrightness:{canIUse:{"1.0.0":{success:[],object:["value"]}},toNativeEventName:"setScreenBrightness"},setKeepScreenOn:{canIUse:{"1.0.0":{success:[],object:["keepScreenOn"]}},toNativeEventName:"setKeepScreenOn"},getScreenBrightness:{canIUse:{"1.0.0":{success:["value"]}},toNativeEventName:"getScreenBrightness"},stopAccelerometer:{canIUse:{"1.0.0":{success:["value"]}},toNativeEventName:"enableAccelerometer",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startAccelerometer:{canIUse:{"1.0.0":{success:["value"],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableAccelerometer",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopCompass:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableCompass",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startCompass:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableCompass",paramHandlers:function(e,t){return{enable:!0,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopDeviceMotionListening:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableDeviceMotionChangeListening",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startDeviceMotionListening:{canIUse:{"1.0.0":{success:[],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableDeviceMotionChangeListening",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},stopGyroscope:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"enableGyroscope",paramHandlers:function(e,t){return{enable:!1,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},startGyroscope:{canIUse:{"1.0.0":{success:[],object:[{interval:["game","ui","normal"]}]}},toNativeEventName:"enableGyroscope",paramHandlers:function(e,t){return{enable:!0,interval:e[0].interval,success:e[0].success,fail:e[0].fail,complete:e[0].complete}}},vibrateShort:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"vibrateShort"},vibrateLong:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"vibrateLong"}}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["isConnected",{networkType:["wifi","2g","3g","4g","unknown","none"]}]}},bindAPIName:"onNetworkStatusChange",toNativeEventName:"onNetworkStatusChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:[{value:["portrait","landscape","landscapeReverse"]}]}},bindAPIName:"onDeviceOrientationChange",toNativeEventName:"onDeviceOrientationChange",offAPIName:"offDeviceOrientationChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["x","y","z"]}},bindAPIName:"onAccelerometerChange",toNativeEventName:"onAccelerometerChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["direction","accuracy"]}},bindAPIName:"onCompassChange",toNativeEventName:"onCompassChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["alpha","beta","gamma"]}},bindAPIName:"onDeviceMotionChange",toNativeEventName:"onDeviceMotionChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["x","y","z"]}},bindAPIName:"onGyroscopeChange",toNativeEventName:"onGyroscopeChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:[{level:["5","10","15"]}]}},bindAPIName:"onMemoryWarning",toNativeEventName:"onMemoryWarning"}),n.normalAPIMutations({getMenuButtonBoundingClientRect:{canIUse:{"1.0.0":{return:["width","height","top","right","bottom","left"]}},toNativeEventName:"getMenuButtonBoundingClientRect"}}),o.isAndroid&&(n.normalAPIMutations({getBatteryInfoSync:{toNativeEventName:"getBatteryInfoSync"}}),n.bindAPIMutations({canIUse:{"1.11.0":{callback:[]}},bindAPIName:"onUserCaptureScreen",toNativeEventName:"onUserCaptureScreen"}))},function(e,t,r){r(0).normalAPIMutations({triggerGC:{toNativeEventName:"triggerGC"}})},function(e,t,r){var n=r(0),o=function(e,t,r){return r.state!=e||t.socketTaskId!=r.socketTaskId},i=new Array;n.normalAPIMutations({connectSocket:{canIUse:{"1.0.0":{object:["url","header","protocols","tcpNoDelay"],success:[]}},toNativeEventName:"createSocketTask",createObj:{createObjectBefore:function(e,t,r,n){i.length>5&&null!=t.fail&&t.fail({errMsg:"最多可以同时存在 5 个 WebSocket 连接"}),""===r.errMsg||r.errMsg&&r.errMsg.indexOf("createSocketTask:ok")>-1?(null==r.socketTaskId&&console.warn("socketTaskId is undefined!!!!!!"),n.socketTaskId=parseInt(r.socketTaskId),e.socketTaskId=parseInt(r.socketTaskId)):console.error(r.errMsg+";  url: "+t.url)},createObjectAfter:function(e,t,r,n){(""===r.errMsg||r.errMsg&&r.errMsg.indexOf("createSocketTask:ok")>-1)&&i.push(n)},normalAPI:[{close:{toNativeEventName:"operateSocketTask",paramHandlers:function(e,t){return null!=e[0]&&(e=e[0]),null==e.code&&(e.code=1e3),null==e.reason&&(e.reason=""),e.operationType="close",e.socketTaskId=t.socketTaskId,e},invokeAfter:function(e,t,r,n){return function(e,t){for(var r=-1,n=0;n<e.length;n++)if(e[n].socketTaskId===t){r=n;break}r>-1&&e.splice(r,1)}(i,n.socketTaskId),e}}},{send:{toNativeEventName:"operateSocketTask",paramHandlers:function(e,t){return null==e[0].data&&(e[0].data=""),e[0].operationType="send",e[0].socketTaskId=t.socketTaskId,e[0]}}}],bindEventAPI:[{bindAPIName:"onOpen",triggerEventBefore:function(e,t){return o("open",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onClose",triggerEventBefore:function(e,t){return o("close",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},toNativeEventName:"onSocketTaskStateChange"},{bindAPIName:"onMessage",triggerEventBefore:function(e,t){return o("message",e,t)},toNativeEventName:"onSocketTaskStateChange"}]}}}),n.normalAPIMutations({closeSocket:{canIUse:{"1.0.0":{object:["code","reason"],success:[]}},paramHandlers:function(e){null!=i[0]&&i[0].close(e[0])}}}),n.normalAPIMutations({sendSocketMessage:{canIUse:{"1.0.0":{object:["data"],success:[]}},paramHandlers:function(e){null!=i[0]&&i[0].send(e[0])}}}),n.bindAPIMutations({bindAPIName:"onSocketOpen",canIUse:{"1.0.0":{callback:["header"]}},triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"open"!=t.state)},toNativeEventName:"onSocketTaskStateChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onSocketError",triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"error"!=t.state)},toNativeEventName:"onSocketTaskStateChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:[]}},bindAPIName:"onSocketClose",triggerEventBefore:function(e,t){return"close"!=t.state},toNativeEventName:"onSocketTaskStateChange"}),n.bindAPIMutations({canIUse:{"1.0.0":{callback:["data"]}},bindAPIName:"onSocketMessage",triggerEventBefore:function(e,t){return null==i[0]||(i[0].socketTaskId!=t.socketTaskId||"message"!=t.state)},toNativeEventName:"onSocketTaskStateChange"})},function(e,t,r){r(0).normalAPIMutations({downloadFile:{canIUse:{"1.0.0":{success:["tempFilePath","statusCode"],object:["url","header","filePath"]}},toNativeEventName:"createDownloadTask",invokeAfter:function(e,t,r,n){if(r&&null!=e&&null!=e.errMsg){if(!(e.errMsg.indexOf(":ok")<0))return e;-1!=e.errMsg.indexOf("url not in domain list")&&console.error("downloadFile illegal host:"+t.url);var o=t;null!=o.fail&&setTimeout(function(){o.fail(e)},0)}},subscribeEventListener:{subscribeEventName:"onDownloadTaskStateChange",callback:function(e,t,r){var n=e[0];return null==n||r.downloadTaskId==t.downloadTaskId&&void("success"==t.state?(null!=n.success&&n.success(t),null!=n.complete&&n.complete()):"fail"==t.state&&(null!=n.fail&&n.fail(t),null!=n.complete&&n.complete()))}},createObj:{createObjectBefore:function(e,t,r,n){if(null!=r){if("string"==typeof r){try{r=JSON.parse(r)}catch(e){console.warn("downloadFile 解析parentInvokeResult出现异常",e)}return result}var o=r.downloadTaskId;null==o&&console.warn("downloadTaskId is undefined!!!!!!"),e.downloadTaskId=o,n.downloadTaskId=o}},normalAPI:[{abort:{toNativeEventName:"operateDownloadTask",paramHandlers:function(e,t){return{downloadTaskId:t.downloadTaskId,operationType:"abort"}}}}],bindEventAPI:[{bindAPIName:"onHeadersReceived",offAPIName:"offHeadersReceived",triggerEventBefore:function(e,t){if(null==e)return!0;var r=t.state;return null==r||"headersReceived"!=r||e.downloadTaskId!==t.downloadTaskId},toNativeEventName:"onDownloadTaskStateChange"},{bindAPIName:"onProgressUpdate",offAPIName:"offProgressUpdate",triggerEventBefore:function(e,t){if(null==e)return!0;var r=t.state;return null==r||"progressUpdate"!=r||e.downloadTaskId!==t.downloadTaskId},toNativeEventName:"onDownloadTaskStateChange"}]}}})},function(e,t,r){var n=r(1),o=r(0),i=r(3);function a(e){return"Object"==e.dataType||"Array"==e.dataType?e.data=JSON.parse(e.data):"Boolean"==e.dataType?e.data=Boolean(e.data):"Number"==e.dataType?e.data=Number(e.data):"Date"==e.dataType?e.data=new Date(e.data):"Null"==e.dataType&&(e.data=null),delete e.dataType,e}o.normalAPIMutations({setStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"setStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("setStorageSync:fail parameter error: parameter should be String instead of Undefined;");if(e.length>1){var r={key:e[0],data:e[1]};return i.isAndroid&&(r.dataType=o.getTypeStr(e[1])),r}return e[0]},invokeAfter:function(e,t,r,o){if(r){if("object"!==n(e))throw new Error("unkonw error");if(e.errMsg&&-1===e.errMsg.indexOf(":ok"))throw new Error(e.errMsg)}}}}),o.normalAPIMutations({setStorage:{canIUse:{"1.0.0":{object:["key","data"],success:[]}},toNativeEventName:"setStorage",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].key)throw new Error("setStorage:fail parameter error: parameter.key should be String instead of Undefined;");return i.isAndroid&&(e[0].dataType=o.getTypeStr(e[0].data)),e[0]}}}),o.normalAPIMutations({removeStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"removeStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("removeStorageSync:fail parameter error: parameter should be String instead of Undefined;");return{key:e[0]}}}}),o.normalAPIMutations({removeStorage:{canIUse:{"1.0.0":{object:["key"],success:[]}},toNativeEventName:"removeStorage",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].key)throw new Error("removeStorage:fail parameter error: parameter.key should be String instead of Undefined;");return e[0]}}}),o.normalAPIMutations({getStorageSync:{canIUse:{"1.0.0":{}},toNativeEventName:"getStorageSync",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("getStorageSync:fail parameter error: parameter should be String instead of Undefined;");return{key:e[0]}},invokeAfter:function(e,t,r,n){if(r){if("getStorageSync:ok"==e.errMsg)if(i.isAndroid)try{e=a(e).data}catch(e){console.error("getStorageSync convertStorageData4Android error:"+JSON.stringify(e))}else e=e.data;else e=void 0;return void 0===e&&(e=""),e}}}}),o.normalAPIMutations({getStorageInfoSync:{canIUse:{"1.0.0":{return:["keys","currentSize","limitSize"]}},toNativeEventName:"getStorageInfoSync",invokeAfter:function(e,t,r,n){if(r)return e}}}),o.normalAPIMutations({getStorage:{canIUse:{"1.0.0":{object:["key"],success:["data"]}},toNativeEventName:"getStorage",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].key)throw new Error("getStorage:fail parameter error: parameter.key should be String instead of Undefined;");return e[0]},invokeAfter:function(e,t,r,n){if(e&&"getStorage:ok"==e.errMsg&&i.isAndroid)try{e=a(e)}catch(e){console.error("getStorage convertStorageData4Android error:"+JSON.stringify(e))}return e}}}),o.normalAPIMutations("getStorageInfo"),o.normalAPIMutations("clearStorageSync"),o.normalAPIMutations("clearStorage"),o.addCanIUseConfig("getStorageInfo",{"1.0.0":{success:["keys","currentSize","limitSize"]}}),o.addCanIUseConfig("clearStorageSync",{"1.0.0":{}}),o.addCanIUseConfig("clearStorage",{"1.0.0":{success:[]}})},function(e,t,r){var n=r(1),o=r(0);o.normalAPIMutations({openSetting:{canIUse:{"1.0.0":{success:["authSetting"]}},toNativeEventName:"openSetting",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,r,o){if(!r){if(e&&"object"===n(e)&&"string"==typeof e.errMsg)if("openSetting:ok"===e.errMsg&&t&&"object"===n(t)){if(t.success&&"function"==typeof t.success){var i=new Object;for(var a in e.authSetting){var s=!1;1==e.authSetting[a].state&&(s=!0),i[e.authSetting[a].scope]=s}e.authSetting=i,t.success(e)}}else if(0==e.errMsg.indexOf("openSetting:fail")&&t&&"object"===n(t)){var u=e.errMsg.slice("openSetting:fail".length);t.fail&&"function"==typeof t.fail&&t.fail(u)}t&&"object"===n(t)&&t.complete&&"function"==typeof t.complete&&t.complete(e)}}}}),o.normalAPIMutations({getSetting:{canIUse:{"1.0.0":{success:["authSetting"]}},toNativeEventName:"getSetting",paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,r,n){if(!r){var o=new Object;for(var i in e.authSetting){var a=!1;1==e.authSetting[i].state&&(a=!0),o[e.authSetting[i].scope]=a}return e.authSetting=o,e}}}})},function(e,t,r){r(0).normalAPIMutations({chooseImage:{canIUse:{"1.0.0":{success:["tempFilePaths",{tempFiles:["path","size"]}],object:["count",{sizeType:["original","compressed"]},{sourceType:["album","camera"]}]}},toNativeEventName:"chooseImage",paramHandlers:function(e,t){return null==e[0].sourceType&&(e[0].sourceType=["album","camera"]),null==e[0].sizeType&&(e[0].sizeType=["original","compressed"]),e[0]}},previewImage:{canIUse:{"1.0.0":{success:[],object:["urls","current"]}},toNativeEventName:"previewImage",paramHandlers:function(e,t){return e[0]}},saveImageToPhotosAlbum:{canIUse:{"1.0.0":{success:[],object:["filePath"]}},toNativeEventName:"saveImageToPhotosAlbum",paramHandlers:function(e,t){return e[0]}}})},function(e,t,r){var n=r(0),o=1e4;var i=function(e,t,r){if(r.state==e&&t.videoPlayerId==r.videoPlayerId){var n=t.videoPromiseCallBackMap.get(r.state);return n&&(n(r),t.videoPromiseCallBackMap.delete(r.state)),!1}return!0},a="undefined"==typeof Promise?r(30).Promise:Promise;function s(e,t){if(t.isDestroy)console.error("fail: video is destroyed");else if(!t.videoPromiseCallBackMap.has(e.type))return new a(function(r,n){t.videoPromiseCallBackMap.set(e.type,function(e){r(e)})})}n.normalAPIMutations({createVideo:{canIUse:{"1.0.0":{object:["x","y","width","height","src","poster","initialTime","playbackRate","live",{objectFit:["fill","contain","cover"]},"controls","autoplay","loop","muted","enableProgressGesture","showCenterPlayBtn"]}},toNativeEventName:"insertVideoPlayer",paramHandlers:function(e,t){return e[0].videoPlayerId=++o,1!=e[0].muted&&(e[0].muted=!1),e[0]},createObj:{createObjectBefore:function(e,t,r,n){(e=Object.assign(e,t)).videoPromiseCallBackMap=new Map},createObjectAfter:function(e,t,r,n){t.src&&(n.src=t.src)},normalAPI:[{play:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"play",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}},{pause:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"pause",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}},{stop:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"stop",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}},{seek:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"seek",videoPlayerId:t.videoPlayerId,time:e[0]||0,data:[e[0]||0]}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}},{destroy:{toNativeEventName:"removeVideoPlayer",paramHandlers:function(e,t){return{type:"destroy",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r){var o=s(t,n);return n.isDestroy=!0,o}}}},{requestFullScreen:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"requestFullScreen",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}},{exitFullScreen:{toNativeEventName:"operateVideoPlayer",paramHandlers:function(e,t){return{type:"exitFullScreen",videoPlayerId:t.videoPlayerId}},invokeAfter:function(e,t,r,n){if(r)return s(t,n)}}}],bindEventAPI:[{bindAPIName:"onPlay",triggerEventBefore:function(e,t){return i("play",e,t)},offAPIName:"offPlay",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onPause",triggerEventBefore:function(e,t){return i("pause",e,t)},offAPIName:"offPause",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onEnded",triggerEventBefore:function(e,t){return i("ended",e,t)},offAPIName:"offEnded",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onWaiting",triggerEventBefore:function(e,t){return i("waiting",e,t)},offAPIName:"offWaiting",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onTimeUpdate",triggerEventBefore:function(e,t){return i("timeUpdate",e,t)},offAPIName:"offTimeUpdate",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return i("error",e,t)},offAPIName:"offError",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onRequestFullScreen",triggerEventBefore:function(e,t){return i("requestFullScreen",e,t)},offAPIName:"onRequestFullScreen",toNativeEventName:"onVideoStateChange"},{bindAPIName:"onExitFullScreen",triggerEventBefore:function(e,t){return i("exitFullScreen",e,t)},offAPIName:"offExitFullScreen",toNativeEventName:"onVideoStateChange"}],propertys:[{name:"x",get:function(e,t){return null==e&&null!=t.x?t.x:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,x:e}}}},{name:"y",get:function(e,t){return null==e&&null!=t.y?t.y:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,y:e}}}},{name:"width",get:function(e,t){return null==e&&null!=t.width?t.width:e},setInvoke:function(e,t){return e<0&&(e=300),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,width:e}}}},{name:"height",get:function(e,t){return null==e&&null!=t.height?t.height:e},setInvoke:function(e,t){return e<0&&(e=150),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,height:e}}}},{name:"src",get:function(e,t){return null==e&&null!=t.src?t.src:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,src:e}}}},{name:"initialTime",get:function(e,t){return null==e&&null!=t.initialTime?t.initialTime:e},setInvoke:function(e,t){return e<0&&(e=0),{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,initialTime:e}}}},{name:"playbackRate",get:function(e,t){return null==e&&null!=t.playbackRate?t.playbackRate:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,playbackRate:e}}}},{name:"live",get:function(e,t){return null==e&&null!=t.live?t.live:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,live:Boolean(e)}}}},{name:"objectFit",get:function(e,t){return null==e&&null!=t.objectFit?t.objectFit:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,objectFit:e}}}},{name:"controls",get:function(e,t){return null==e&&null!=t.controls?t.controls:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,controls:Boolean(e)}}}},{name:"loop",get:function(e,t){return null==e&&null!=t.loop?t.loop:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,loop:Boolean(e)}}}},{name:"muted",get:function(e,t){return null==e&&null!=t.muted?t.muted:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,muted:Boolean(e)}}}},{name:"enableProgressGesture",get:function(e,t){return null==e&&null!=t.enableProgressGesture?t.enableProgressGesture:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,enableProgressGesture:Boolean(e)}}}},{name:"showCenterPlayBtn",get:function(e,t){return null==e&&null!=t.showCenterPlayBtn?t.showCenterPlayBtn:e},setInvoke:function(e,t){return{eventName:"updateVideoPlayer",params:{videoPlayerId:t.videoPlayerId,showCenterPlayBtn:Boolean(e)}}}}]}}})},function(e,t,r){__TT__GLOBAL__,__TT__GLOBAL__;var n=__TT__GLOBAL__,o=r(0);function i(e,t,r){try{t=JSON.parse(t)}catch(e){}return!(t[r]instanceof Array)&&(console.error(e+"的"+r+"参数不是Array"),!0)}o.normalAPIMutations([{getOpenDataContext:{canIUse:{"1.0.0":{}},toNativeEventName:"getOpenDataContext",createObj:{normalAPI:[{postMessage:{toNativeEventName:"onMessage",contextIDs:[2],invokeType:"publish"}}],propertys:[{name:"canvas",get:function(e,t){return n.sharedCanvas}}]}}},{removeUserCloudStorage:{canIUse:{"1.0.0":{success:[],object:["keyList"]}},toNativeEventName:"removeUserCloudStorage",invokeBefore:function(e,t,r,n){return i(e,t,"keyList")}}},{setUserCloudStorage:{canIUse:{"1.0.0":{success:[],object:["KVDataList"]}},toNativeEventName:"setUserCloudStorage",invokeBefore:function(e,t,r,n){return i(e,t,"KVDataList")}}},{getUserInteractiveStorage:{canIUse:{"1.0.0":{success:["encryptedData","iv"],object:["keyList"]}},toNativeEventName:"getUserInteractiveStorage",invokeBefore:function(e,t,r,n){return i(e,t,"keyList")}}}]),o.bindAPIMutations({bindAPIName:"onMessage",toNativeEventName:"onMessage",contextIDs:[1]}),o.bindAPIMutations({bindAPIName:"onInteractiveStorageModified",triggerEventBefore:function(e,t){return!1},toNativeEventName:"onInteractiveStorageModified"})},function(e,t,r){r(0).normalAPIMutations({getLocation:{canIUse:{"1.0.0":{success:["latitude","longitude","speed","accuracy","altitude","verticalAccuracy","horizontalAccuracy"],object:["type","altitude"]}},toNativeEventName:"getLocation"}})},function(e,t,r){var n=r(0),o=r(3),i=r(10),a=r(5).normalAPIFactory([{openGroupNotice:{canIUse:{"1.5.1":{success:[],object:["entryDataHash"]}},toNativeEventName:"invokeGroupJSApi",paramHandlers:function(e){var t=e[0]||{};return t.url="https://web.qun.qq.com/mannounce/edit.html?&_wv=1031#gc={{gid}}&role=2",i._reportAPICall({apiname:"openGroupNotice"}),t},invokeAfter:function(e,t,r,n){if(!r)return e.errMsg&&(e.errMsg=e.errMsg.replace("invokeGroupJSApi","openGroupNotice")),e}}},{openGroupRemind:{canIUse:{"1.5.1":{success:[],object:["entryDataHash"]}},toNativeEventName:"invokeGroupJSApi",paramHandlers:function(e){var t=e[0]||{};return t.url="https://qun.qq.com/qqweb/m/qun/calendar/create.html?_wv=1031&role=1&gc={{gid}}&role=1",i._reportAPICall({apiname:"openGroupRemind"}),t},invokeAfter:function(e,t,r,n){if(!r)return e.errMsg&&(e.errMsg=e.errMsg.replace("invokeGroupJSApi","openGroupNotice")),e}}}]),s=__ttObjdec__;n.normalAPIMutations([{login:{canIUse:{"1.0.0":{success:["code"],object:["timeout"]}},toNativeEventName:"login"}},{checkSession:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"refreshSession"}},{authorize:{canIUse:{"1.0.0":{success:[],object:["scope"]}},toNativeEventName:"authorize",paramHandlers:function(e){return"string"==typeof e[0].scope&&(e[0].scope=[e[0].scope]),e[0]}}},{getUserInfo:{toNativeEventName:"getNativeUserInfo",invokeAfter:function(e,t,r,n){if(!r)return-1==e.errMsg.indexOf("ok")?(console.error("请使用createUserInfoButton"),{errMsg:"getUserInfo:fail NO Data!"}):void wx.authorize({scope:"scope.userInfo",success:function(e){s.privateApi&&s.privateApi.webapi_getuserinfo&&s.privateApi.webapi_getuserinfo(t)},fail:function(e){s.privateApi&&s.privateApi.webapi_getuserinfo&&s.privateApi.webapi_getuserinfo(t)}})}}},{getGroupInfo:{canIUse:{"1.5.1":{success:["isGroupManager"],object:["entryDataHash"]}},toNativeEventName:"getGroupInfo",paramHandlers:function(e){var t=(e[0]||{}).entryDataHash;return(void 0===t?"":t)?(i._reportAPICall({apiname:"getGroupInfo"}),e[0]):(e[0].fail&&e[0].fail({errMsg:"getGroupInfo:fail param entryDataHash should not be empty"}),{isFail:!0})},invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},invokeAfter:function(e,t,r,n){if(!r)return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData","getGroupInfo")),window.__isGroupManager=!1,e.errMsg.indexOf("ok")>-1&&(window.__isGroupManager=e.isGroupManager),e}}},{webapi_getuserinfo:{canIUse:{"1.0.0":{success:["userInfo","rawData","signature","encryptedData","iv"],object:["withCredentials","lang"]}},private:1,toNativeEventName:"operateWXData",paramHandlers:function(e){return e[0]&&(e[0].data={api_name:"webapi_getuserinfo",with_credentials:e[0].withCredentials||e[0].with_credentials,lang:e[0].lang,from_component:e[0].from_component}),e[0]},invokeAfter:function(e,t,r,n){if(!r){if(e.errMsg.indexOf("ok")>-1){if(o.isAndroid)return(a=new Object).errMsg="getUserInfo:ok",a.userInfo=e.userInfo,a.rawData=e.rawData,a.encryptedData=e.encryptedData,a.iv=e.iv,a.signature=e.signature,a;var i,a=new Object,s=new Object;if(o.isDevtool)i=e.data;else{if("string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(e){return console.log("userinfo callback data error"),{errMsg:"getUserInfo:fail Data Error!"}}try{i=JSON.parse(e.data.data)}catch(e){return console.log("userinfo callback data.data error"),{errMsg:"getUserInfo:fail Data Error!"}}}return s.nickName=i.nickName,s.avatarUrl=i.avatarUrl,s.gender=i.gender,s.country=i.country,s.province=i.province,s.city=i.city,s.language=i.language,a.errMsg="getUserInfo:ok",a.userInfo=s,a.rawData=e.data.data,a.encryptedData=e.data.encryptedData,a.iv=e.data.iv,a.signature=e.data.signature,a}return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")),e}}}},{getQQRunData:{toNativeEventName:"getNativeWeRunData",invokeAfter:function(e,t,r){r||wx.authorize({scope:"scope.qqrun",success:function(e){t.fromApi="getQQRunData",s.privateApi&&s.privateApi.webapi_getwerunstep_history&&s.privateApi.webapi_getwerunstep_history(t),i._reportAPICall({apiname:"getQQRunData"})},fail:function(e){return console.log("getQQRunData Fail, ".concat(e.errMsg)),{errMsg:"getQQRunData Fail, ".concat(e.errMsg)}}})}}},{getWeRunData:{toNativeEventName:"getNativeWeRunData",invokeAfter:function(e,t,r){r||wx.authorize({scope:"scope.qqrun",success:function(e){t.fromApi="getWeRunData",s.privateApi&&s.privateApi.webapi_getwerunstep_history&&s.privateApi.webapi_getwerunstep_history(t),i._reportAPICall({apiname:"getQQRunData"})},fail:function(e){return console.log("getWeRunData Fail, ".concat(e.errMsg)),{errMsg:"getWeRunData Fail, ".concat(e.errMsg)}}})}}},{webapi_getwerunstep_history:{canIUse:{"1.0.0":{success:["encryptedData","iv"],object:[]}},toNativeEventName:"operateWXData",private:1,paramHandlers:function(e){return e[0]&&(e[0].data={api_name:"webapi_getwerunstep_history"}),e[0]},invokeAfter:function(e,t,r,n){if(!r){if(e.errMsg.indexOf("ok")>-1){var o=new Object;return o.errMsg="".concat(t.fromApi,":ok"),o.encryptedData=e.data.encryptedData,o.iv=e.data.iv,o}return e.errMsg&&(e.errMsg=e.errMsg.replace("operateWXData",t.fromApi)),e}}}},{getUserInfoExtra:{canIUse:{"1.2.0":{success:["errMsg","encryptedData","iv"]}},toNativeEventName:"getUserInfoExtra"}},{addFriend:{canIUse:{"2.0.0":{success:["errMsg"]}},private:1,toNativeEventName:"addFriend",invokeAfter:function(e,t,r,n){if(!r)return i._reportAPICall({apiname:"addFriend"}),e}}},{feedback:{canIUse:{"1.2.0":{success:["errMsg"]}},private:1,toNativeEventName:"private_openUrl",invokeAfter:function(e,t,r,n){if(r){if(e.errMsg.indexOf("ok")>-1){var o=new Object;return o.errMsg="feedback:ok",o}return e.errMsg&&(e.errMsg=e.errMsg.replace("private_openUrl","feedback")),e}}}},{openActivity:{canIUse:{"1.9.0":{success:["errMsg"]}},toNativeEventName:"private_openUrl",paramHandlers:function(e){var t,r=e[0]||{},n=r.url,o=void 0===n?"":n;return o?0!==o.indexOf("http")?t="url param should start with http":/^https:\/\/\w*\.*qzone\.qq\.com/.test(o)||(t="url param is not in domain whitelist"):t="url param is required",t?(r.fail&&r.fail({errMsg:"openActivity:fail ".concat(t)}),{isFail:!0}):r},invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},invokeAfter:function(e,t,r,n){if(!r)return e.errMsg&&(e.errMsg=e.errMsg.replace("private_openUrl","openActivity")),e}}}]),wx.openGroupNotice=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}wx.getGroupInfo({entryDataHash:e.entryDataHash,success:function(r){if(!r.isGroupManager)return errMsg="openGroupNotice:fail only group manager can open group notice",void t({errMsg:errMsg});a.openGroupNotice(e)},fail:function(e){e.errMsg&&(e.errMsg=e.errMsg.replace("getGroupInfo","openGroupNotice")),t(e)}})},wx.openGroupRemind=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(t){e.fail&&e.fail(t),e.complete&&e.complete(t)}wx.getGroupInfo({entryDataHash:e.entryDataHash,success:function(r){if(!r.isGroupManager)return errMsg="openGroupRemind:fail only group manager can open group notice",void t({errMsg:errMsg});a.openGroupRemind(e)},fail:function(e){e.errMsg&&(e.errMsg=e.errMsg.replace("getGroupInfo","openGroupRemind")),t(e)}})}},function(e,t,r){var n=r(0),o=r(5).normalAPIFactory([{_navigateToMiniProgram:{toNativeEventName:"navigateToMiniProgram",paramHandlers:function(e,t){return e[0]}}},{_checkAppIdInNavigationAppIdList:{toNativeEventName:"navigateToMiniProgramConfig",paramHandlers:function(e,t){return e[0]}}}]);function i(e,t){data={errMsg:"navigateToMiniProgram:fail "+t},console.error(t),e&&e.fail&&e.fail(data),e&&e.complete&&e.complete(data)}function a(e){var t=e;o._navigateToMiniProgram(t)}n.normalAPIMutations({navigateToMiniProgram:{toNativeEventName:"operateWXData",paramHandlers:function(e,t){return t.originParams=e[0],{data:{api_name:"webapi_getnavigatewxaappinfo"},reqData:{target_appid:e[0].appId}}},invokeAfter:function(e,t,r,n){if(!r){try{var s=JSON.parse(e.respData.data)}catch(e){console.warn("navigateToMiniProgram 解析respData出现异常",e)}if(0!=s.action_code){if(!s.skip_local_check)if(!function(e){var t=e.appId;return o._checkAppIdInNavigationAppIdList({appId:t}).inList}(n.originParams)){u='appId "'+n.originParams.appId+'" is not in navigateToMiniProgramAppIdList';return void i(n.originParams,u)}1!=s.action_code?2==s.action_code&&wx.showModal({title:"",content:s.wording,confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000",success:function(e){if(!e.cancel&&e.confirm)a(n.originParams);else{i(n.originParams,"cancel")}}}):a(n.originParams)}else{var u=s.reason;i(n.originParams,u)}}}}})},function(e,t,r){var n=r(1),o=r(0);o.normalAPIMutations({getAvailableAudioSources:{toNativeEventName:"getAvailableAudioSources"}}),o.normalAPIMutations({setInnerAudioOption:{toNativeEventName:"setInnerAudioOptionQGame",invokeAfter:function(e,t,r,o){if(!r){if(e&&"object"===n(e)&&"string"==typeof e.errMsg)if("setInnerAudioOptionQGame:ok"===e.errMsg&&t&&"object"===n(t))t.success&&"function"==typeof t.success&&t.success();else if(0==e.errMsg.indexOf("setInnerAudioOptionQGame:fail")&&t&&"object"===n(t)){var i=e.errMsg.slice("setInnerAudioOptionQGame:fail".length);t.fail&&"function"==typeof t.fail&&t.fail(i)}t&&"object"===n(t)&&t.complete&&"function"==typeof t.complete&&t.complete()}}}})},function(e,t,r){var n,o="devtools"===__wxConfig.platform,i=r(5),a=i.normalAPIFactory([{operateAppBox:{canIUse:{"1.7.0":{success:[],object:["type","id","adUnitId","compId"]}},toNativeEventName:"operateAppBox",paramHandlers:function(e,t){return e[0]}}}]);function s(e){if(!e||"string"!=typeof e)throw new Error("paramter adUnitId should be string");this.id=0,this.adUnitId=e,this.compId=1,this.isLoad=!1,this.isDestroy=!1,this.onLoadCache=[]}s.prototype.load=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"load:fail 广告盒子实例已销毁"}):a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"load",success:function(){e.isLoad=!0,t()},fail:function(e){r({errMsg:e.errMsg,errCode:e.errCode})}})})},s.prototype.show=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"show:fail 广告盒子实例已销毁"}):e.isLoad?a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"show",success:function(e){t()},fail:function(e){r({errMsg:e.errMsg,errCode:e.errCode})}}):r({errMsg:"show:fail 请先调用广告盒子load方法"})})},s.prototype.destroy=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"destroy:fail 广告盒子实例已销毁"}):a.operateAppBox({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"destroy",success:function(){e.isDestroy=!0,n=void 0,t()},fail:function(e){r({errMsg:e.errMsg,errCode:e.errCode})}})})},s.prototype.onClose=function(e){"function"==typeof e&&this.onLoadCache.push(e)},s.prototype.offClose=function(e){this.onLoadCache=this.onLoadCache.filter(function(t){return t!==e})},s.prototype.onError=function(){console.warn("onError方法已废弃")},s.prototype.offError=function(){console.warn("offError方法已废弃")},s.prototype.onLoad=function(){console.warn("onLoad方法已废弃")},s.prototype.offLoad=function(){console.warn("offLoad方法已废弃")},wx.createAppBox=function(e){var t=e.adUnitId;return o&&console.warn("开发者工具上qq.createAppBox接口为测试数据，请在真机上验证最终效果。"),n||(n=new s(t)),n},i.bindEventAPIFactory([{bindAPIName:"_onAppBoxClose",offAPIName:"_offAppBoxClose",toNativeEventName:"onAppBoxClose",staticCallback:function(){n&&n.onLoadCache.forEach(function(e){e()})}}])},function(e,t,r){var n=r(0),o=r(115),i=r(10);n.normalAPIMutations({getCloudTicket:{canIUse:{"1.8.0":{success:[],object:["envId"]}},toNativeEventName:"getCloudTicket",paramHandlers:function(e,t){return i._reportAPICall({apiname:"getCloudTicket"}),e[0]}}}),(window.wx||{}).cloud=o},function(module,exports){function _typeof3(e){return(_typeof3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==_typeof3(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=13)}([function(e,t,r){"use strict";(function(e){
/*!
     * The buffer module from node.js, for the browser.
     *
     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
     * @license  MIT
     */
var n=r(20),o=r(21),i=r(22);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(t,r),o=(e=s(e,n)).write(t,r);return o!==n&&(e=e.slice(0,o)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|_(t.length);return 0===(e=s(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):p(e,t);if("Buffer"===t.type&&i(t.data))return p(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=s(e,t<0?0:0|_(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function p(e,t){var r=t.length<0?0:0|_(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function _(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,o){var i,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var f=-1;for(i=r;i<s;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(r+u>s&&(r=s-u),i=r;i>=0;i--){for(var l=!0,p=0;p<u;p++)if(c(e,i+p)!==c(t,p)){l=!1;break}if(l)return i}return-1}function v(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function g(e,t,r,n){return V(U(t,e.length-r),e,r,n)}function b(e,t,r,n){return V(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return b(e,t,r,n)}function A(e,t,r,n){return V(G(t),e,r,n)}function O(e,t,r,n){return V(function(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function I(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=l}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=S));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return N(this,t,r);case"latin1":case"binary":return w(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(n,o),f=e.slice(t,r),l=0;l<s;++l)if(c[l]!==f[l]){i=c[l],a=f[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function N(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function w(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=F(e[i]);return o}function R(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function M(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,r,n,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function x(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,i){return i||x(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,i){return i||x(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||M(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||P(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);P(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);P(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):j(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):j(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;o>=0;--o)e[o+t]=this[o+r];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=u.isBuffer(e)?e:U(new u(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var k=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(k,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r(3))},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return bson_54});var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var commonjsGlobal="undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var map=createCommonjsModule(function(e){if(void 0!==commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var r=e[t],n=r[0],o=r[1];this._keys.push(n),this._values[n]={v:o,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?[r,e._values[r].v]:void 0,done:void 0===r}}}},t.prototype.forEach=function(e,t){t=t||this;for(var r=0;r<this._keys.length;r++){var n=this._keys[r];e.call(t,this._values[n].v,n,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?r:void 0,done:void 0===r}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var r=e._keys[t++];return{value:void 0!==r?e._values[r].v:void 0,done:void 0===r}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(e,t){var r=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(e.$numberLong);return t&&t.relaxed?r.toNumber():r},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var Double=function(){function e(t){_classCallCheck(this,e),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseFloat(t.$numberDouble):new e(parseFloat(t.$numberDouble))}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$1(e,t,r){return t&&_defineProperties$1(e.prototype,t),r&&_defineProperties$1(e,r),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Timestamp=function(e){function t(e,r){var n;return _classCallCheck$1(this,t),n=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,r)),_possibleConstructorReturn(n)}return _inherits(t,long_1),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e))}},{key:"fromBits",value:function(e,r){return new t(e,r)}},{key:"fromString",value:function(e,r){return new t(long_1.fromString(e,r))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}();Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),r=0;r<e;++r)t[r]=Math.floor(256*Math.random());return t}var randomBytes=insecureRandomBytes;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),r=Math.floor(t),n=Math.floor(t%1*1e9);return e&&(r-=e[0],(n-=e[1])<0&&(r--,n+=1e9)),[r,n]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(inspect(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,i=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<o;a=n[++r])isNull(a)||!isObject(a)?i+=" "+a:i+=" "+inspect(a);return i}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var r=!1;return function(){return r||(console.error(t),r=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){return isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),debugs[e]||(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)?debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:debugs[e]=function(){}),debugs[e]}function inspect(e,t){var r={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),isBoolean(t)?r.showHidden=t:t&&_extend(r,t),isUndefined(r.showHidden)&&(r.showHidden=!1),isUndefined(r.depth)&&(r.depth=2),isUndefined(r.colors)&&(r.colors=!1),isUndefined(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=stylizeWithColor),formatValue(r,e,r.depth)}function stylizeWithColor(e,t){var r=inspect.styles[t];return r?"["+inspect.colors[r][0]+"m"+e+"["+inspect.colors[r][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function formatValue(e,t,r){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return isString(n)||(n=formatValue(e,n,r)),n}var o=formatPrimitive(e,t);if(o)return o;var i=Object.keys(t),a=arrayToHash(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),isError(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return formatError(t);if(0===i.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var u,c="",f=!1,l=["{","}"];return isArray(t)&&(f=!0,l=["[","]"]),isFunction(t)&&(c=" [Function"+(t.name?": "+t.name:"")+"]"),isRegExp(t)&&(c=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(c=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(c=" "+formatError(t)),0!==i.length||f&&0!=t.length?r<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),u=f?formatArray(e,t,r,a,i):i.map(function(n){return formatProperty(e,t,r,a,n,f)}),e.seen.pop(),reduceToSingleString(u,c,l)):l[0]+c+l[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,r,n,o){for(var i=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?i.push(formatProperty(e,t,r,n,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(formatProperty(e,t,r,n,o,!0))}),i}function formatProperty(e,t,r,n,o,i){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(n,o)||(a="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=isNull(r)?formatValue(e,u.value,null):formatValue(e,u.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,r){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===_typeof$1(e)||void 0===e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$2(e,t,r){return t&&_defineProperties$2(e.prototype,t),r&&_defineProperties$2(e,r),e}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var r=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(r,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var r=e.isValid(t);if(!r&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(r&&"string"==typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(r&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var r=0;r<this.id.length;r++){var n=hexTable[this.id.charCodeAt(r)];if("string"!=typeof n)throw makeObjectIdError(this.id,r);t+=n}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),n=Buffer$1.alloc(12);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,n[4]=PROCESS_UNIQUE[0],n[5]=PROCESS_UNIQUE[1],n[6]=PROCESS_UNIQUE[2],n[7]=PROCESS_UNIQUE[3],n[8]=PROCESS_UNIQUE[4],n[11]=255&r,n[10]=r>>8&255,n[9]=r>>16&255,n}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var r=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,new e(r)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));for(var r=new _Buffer(12),n=0,o=0;o<24;)r[n++]=decodeLookup[t.charCodeAt(o++)]<<4|decodeLookup[t.charCodeAt(o++)];return new e(r)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$3(e,t,r){return t&&_defineProperties$3(e.prototype,t),r&&_defineProperties$3(e,r),e}function alphabetize(e){return e.split("").sort().join("")}var BSONRegExp=function(){function e(t,r){_classCallCheck$3(this,e),this.pattern=t||"",this.options=r?alphabetize(r):"";for(var n=0;n<this.options.length;n++)if("i"!==this.options[n]&&"m"!==this.options[n]&&"x"!==this.options[n]&&"l"!==this.options[n]&&"s"!==this.options[n]&&"u"!==this.options[n])throw new Error("The regular expression option [".concat(this.options[n],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$regularExpression.pattern,t.$regularExpression.options.split("").sort().join(""))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$4(e,t,r){return t&&_defineProperties$4(e.prototype,t),r&&_defineProperties$4(e,r),e}var BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$5(e,t,r){return t&&_defineProperties$5(e.prototype,t),r&&_defineProperties$5(e,r),e}var Int32=function(){function e(t){_classCallCheck$5(this,e),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,r){return r&&r.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$6(e,t,r){return t&&_defineProperties$6(e.prototype,t),r&&_defineProperties$6(e,r),e}var Code=function(){function e(t,r){_classCallCheck$6(this,e),this.code=t,this.scope=r}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),r=long_1.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:r};for(var n=0;n<=3;n++)r=(r=r.shiftLeft(32)).add(new long_1(e.parts[n],0)),e.parts[n]=r.div(t).low,r=r.modulo(t);return{quotient:e,rem:r}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var r=e.shiftRightUnsigned(32),n=new long_1(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new long_1(t.getLowBits(),0),a=r.multiply(o),s=r.multiply(i),u=n.multiply(o),c=n.multiply(i);return a=a.add(s.shiftRightUnsigned(32)),s=new long_1(s.getLowBits(),0).add(u).add(c.shiftRightUnsigned(32)),{high:a=a.add(s.shiftRightUnsigned(32)),low:c=s.shiftLeft(32).add(new long_1(c.getLowBits(),0))}}function lessThan(e,t){var r=e.high>>>0,n=t.high>>>0;return r<n||r===n&&e.low>>>0<t.low>>>0}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var t,r=!1,n=!1,o=!1,i=0,a=0,s=0,u=0,c=0,f=[0],l=0,p=0,_=0,d=0,h=0,m=0,y=[0,0],v=[0,0],g=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var b=e.match(PARSE_STRING_REGEXP),E=e.match(PARSE_INF_REGEXP),A=e.match(PARSE_NAN_REGEXP);if(!b&&!E&&!A||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(b){var O=b[2],I=b[4],T=b[5],S=b[6];I&&void 0===S&&invalidErr(e,"missing exponent power"),I&&void 0===O&&invalidErr(e,"missing exponent base"),void 0===I&&(T||S)&&invalidErr(e,"missing e before exponent")}if("+"!==e[g]&&"-"!==e[g]||(r="-"===e[g++]),!isDigit(e[g])&&"."!==e[g]){if("i"===e[g]||"I"===e[g])return new Decimal128(Buffer$2.from(r?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[g])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[g])||"."===e[g];)"."!==e[g]?(l<34&&("0"!==e[g]||o)&&(o||(c=a),o=!0,f[p++]=parseInt(e[g],10),l+=1),o&&(s+=1),n&&(u+=1),a+=1,g+=1):(n&&invalidErr(e,"contains multiple periods"),n=!0,g+=1);if(n&&!a)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[g]||"E"===e[g]){var N=e.substr(++g).match(EXPONENT_REGEX);if(!N||!N[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));h=parseInt(N[0],10),g+=N[0].length}if(e[g])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(_=0,l){if(d=l-1,1!==(i=s))for(;"0"===e[c+i-1];)i-=1}else _=0,d=0,f[0]=0,s=1,l=1,i=0;for(h<=u&&u-h>16384?h=EXPONENT_MIN:h-=u;h>EXPONENT_MAX;){if((d+=1)-_>MAX_DIGITS){if(f.join("").match(/^0+$/)){h=EXPONENT_MAX;break}invalidErr(e,"overflow")}h-=1}for(;h<EXPONENT_MIN||l<s;){if(0===d&&i<l){h=EXPONENT_MIN,i=0;break}if(l<s?s-=1:d-=1,h<EXPONENT_MAX)h+=1;else{if(f.join("").match(/^0+$/)){h=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(d-_+1<i){var w=a;n&&(c+=1,w+=1),r&&(c+=1,w+=1);var C=parseInt(e[c+d+1],10),R=0;if(C>=5&&(R=1,5===C))for(R=f[d]%2==1,m=c+d+2;m<w;m++)if(parseInt(e[m],10)){R=1;break}if(R)for(var M=d;M>=0;M--)if(++f[M]>9&&(f[M]=0,0===M)){if(!(h<EXPONENT_MAX))return new Decimal128(Buffer$2.from(r?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));h+=1,f[M]=1}}if(y=long_1.fromNumber(0),v=long_1.fromNumber(0),0===i)y=long_1.fromNumber(0),v=long_1.fromNumber(0);else if(d-_<17){var P=_;for(v=long_1.fromNumber(f[P++]),y=new long_1(0,0);P<=d;P++)v=(v=v.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[P]))}else{var j=_;for(y=long_1.fromNumber(f[j++]);j<=d-17;j++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[j]));for(v=long_1.fromNumber(f[j++]);j<=d;j++)v=(v=v.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(f[j]))}var D=multiply64x2(y,long_1.fromString("100000000000000000"));D.low=D.low.add(v),lessThan(D.low,v)&&(D.high=D.high.add(long_1.fromNumber(1))),t=h+EXPONENT_BIAS;var x={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};D.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(x.high=x.high.or(long_1.fromNumber(3).shiftLeft(61)),x.high=x.high.or(long_1.fromNumber(t).and(long_1.fromNumber(16383).shiftLeft(47))),x.high=x.high.or(D.high.and(long_1.fromNumber(0x7fffffffffff)))):(x.high=x.high.or(long_1.fromNumber(16383&t).shiftLeft(49)),x.high=x.high.or(D.high.and(long_1.fromNumber(562949953421311)))),x.low=D.low,r&&(x.high=x.high.or(long_1.fromString("9223372036854775808")));var L=Buffer$2.alloc(16);return g=0,L[g++]=255&x.low.low,L[g++]=x.low.low>>8&255,L[g++]=x.low.low>>16&255,L[g++]=x.low.low>>24&255,L[g++]=255&x.low.high,L[g++]=x.low.high>>8&255,L[g++]=x.low.high>>16&255,L[g++]=x.low.high>>24&255,L[g++]=255&x.high.low,L[g++]=x.high.low>>8&255,L[g++]=x.high.low>>16&255,L[g++]=x.high.low>>24&255,L[g++]=255&x.high.high,L[g++]=x.high.high>>8&255,L[g++]=x.high.high>>16&255,L[g++]=x.high.high>>24&255,new Decimal128(L)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,r,n,o,i,a=0,s=new Array(36),u=0;u<s.length;u++)s[u]=0;var c,f,l,p,_,d=0,h=!1,m={parts:new Array(4)},y=[];d=0;var v=this.bytes;if(n=v[d++]|v[d++]<<8|v[d++]<<16|v[d++]<<24,r=v[d++]|v[d++]<<8|v[d++]<<16|v[d++]<<24,t=v[d++]|v[d++]<<8|v[d++]<<16|v[d++]<<24,e=v[d++]|v[d++]<<8|v[d++]<<16|v[d++]<<24,d=0,(new long_1(n,r),new long_1(t,e)).lessThan(long_1.ZERO)&&y.push("-"),(o=e>>26&COMBINATION_MASK)>>3==3){if(o===COMBINATION_INFINITY)return y.join("")+"Infinity";if(o===COMBINATION_NAN)return"NaN";i=e>>15&EXPONENT_MASK,l=8+(e>>14&1)}else l=e>>14&7,i=e>>17&EXPONENT_MASK;if(c=i-EXPONENT_BIAS,m.parts[0]=(16383&e)+((15&l)<<14),m.parts[1]=t,m.parts[2]=r,m.parts[3]=n,0===m.parts[0]&&0===m.parts[1]&&0===m.parts[2]&&0===m.parts[3])h=!0;else for(_=3;_>=0;_--){var g=0,b=divideu128(m);if(m=b.quotient,g=b.rem.low)for(p=8;p>=0;p--)s[9*_+p]=g%10,g=Math.floor(g/10)}if(h)a=1,s[d]=0;else for(a=36;!s[d];)a-=1,d+=1;if((f=a-1+c)>=34||f<=-7||c>0){if(a>34)return y.push(0),c>0?y.push("E+"+c):c<0&&y.push("E"+c),y.join("");y.push(s[d++]),(a-=1)&&y.push(".");for(var E=0;E<a;E++)y.push(s[d++]);y.push("E"),f>0?y.push("+"+f):y.push(f)}else if(c>=0)for(var A=0;A<a;A++)y.push(s[d++]);else{var O=a+c;if(O>0)for(var I=0;I<O;I++)y.push(s[d++]);else y.push("0");for(y.push(".");O++<0;)y.push("0");for(var T=0;T<a-Math.max(O-1,0);T++)y.push(s[d++])}return y.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$7(e,t,r){return t&&_defineProperties$7(e.prototype,t),r&&_defineProperties$7(e,r),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$8(e,t,r){return t&&_defineProperties$8(e.prototype,t),r&&_defineProperties$8(e,r),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$9(e,t,r){return t&&_defineProperties$9(e.prototype,t),r&&_defineProperties$9(e,r),e}var DBRef=function(){function e(t,r,n,o){_classCallCheck$9(this,e);var i=t.split(".");2===i.length&&(n=i.shift(),t=i.shift()),this.collection=t,this.oid=r,this.db=n,this.fields=o||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(){var e={$ref:this.collection,$id:this.oid};return this.db&&(e.$db=this.db),Object.assign(e,this.fields)}}],[{key:"fromExtendedJSON",value:function(t){var r=Object.assign({},t);return["$ref","$id","$db"].forEach(function(e){return delete r[e]}),new e(t.$ref,t.$id,t.$db,r)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass$a(e,t,r){return t&&_defineProperties$a(e.prototype,t),r&&_defineProperties$a(e,r),e}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function e(t,r){if(_classCallCheck$a(this,e),!(null==t||"string"==typeof t||Buffer$3.isBuffer(t)||t instanceof Uint8Array||Array.isArray(t)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==r?BSON_BINARY_SUBTYPE_DEFAULT:r,this.position=0,null==t||t instanceof Number)void 0!==Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof t)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"==typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var r;if(r="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=r;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var n=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=r}else{var o=null;o=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var i=0;i<this.buffer.length;i++)o[i]=this.buffer[i];this.buffer=o,this.buffer[this.position++]=r}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var r=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))r=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(r,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){r=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var n=0;n<this.position;n++)r[n]=this.buffer[n]}this.buffer=r}if(void 0!==Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==Buffer$3&&"string"==typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!=typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e.charCodeAt(i);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var r="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),n=0;n<t;n++)r[n]=this.buffer[e++];return r}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),r=0;r<this.position;r++)t[r]=this.buffer[r];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(){var e=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),t=Number(this.sub_type).toString(16);return{$binary:{base64:e,subType:1===t.length?"0"+t:t}}}}],[{key:"fromExtendedJSON",value:function(t){var r=t.$binary.subType?parseInt(t.$binary.subType,16):0;return new e(Buffer$3.from(t.$binary.base64,"base64"),r)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function convertArraytoUtf8BinaryString(e,t,r){for(var n="",o=t;o<r;o++)n+=String.fromCharCode(e[o]);return n}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,t,r,n){if("number"==typeof r){if(n.relaxed)return r;if(Math.floor(r)===r){if(r>=BSON_INT32_MIN&&r<=BSON_INT32_MAX)return new int_32(r);if(r>=BSON_INT64_MIN&&r<=BSON_INT64_MAX)return new long_1.fromNumber(r)}return new double_1(r)}if(null==r||"object"!==_typeof$2(r))return r;if(r.$undefined)return null;for(var o=Object.keys(r).filter(function(e){return e.startsWith("$")&&null!=r[e]}),i=0;i<o.length;i++){var a=keysToCodecs[o[i]];if(a)return a.fromExtendedJSON(r,n)}if(null!=r.$date){var s=r.$date,u=new Date;return"string"==typeof s?u.setTime(Date.parse(s)):long_1.isLong(s)?u.setTime(s.toNumber()):"number"==typeof s&&n.relaxed&&u.setTime(s),u}if(null!=r.$code){var c=Object.assign({},r);return r.$scope&&(c.$scope=deserializeValue(e,null,r.$scope)),code.fromExtendedJSON(r)}if(null!=r.$ref||null!=r.$dbPointer){var f=r.$ref?r:r.$dbPointer;if(f instanceof db_ref)return f;var l=Object.keys(f).filter(function(e){return e.startsWith("$")}),p=!0;if(l.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(p=!1)}),p)return db_ref.fromExtendedJSON(f)}return r}function parse(e,t){var r=this;return"boolean"==typeof(t=Object.assign({},{relaxed:!0},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,n){return deserializeValue(r,e,n,t)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(e,t,r,n){null!=r&&"object"===_typeof$2(r)&&(n=r,r=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(n=t,t=null,r=0),n=Object.assign({},{relaxed:!0},n);var o=Array.isArray(e)?serializeArray(e,n):serializeDocument(e,n);return JSON.stringify(o,t,r)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var r=e.getTime(),n=r>-1&&r<2534023188e5;return t.relaxed&&n?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var o=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX)return{$numberInt:e.toString()};if(o)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var i=e.flags;return void 0===i&&(i=e.toString().match(/[gimuy]*$/)[0]),new regexp(e.source,i).toExtendedJSON()}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}var BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}};function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var n={};for(var o in e)n[o]=serializeValue(e[o],t);return n}if("string"==typeof r){var i=e;if("function"!=typeof i.toExtendedJSON){var a=BSON_TYPE_MAPPINGS[r];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+r);i=a(i)}return"Code"===r&&i.scope?i=new code(i.code,serializeValue(i.scope,t)):"DBRef"===r&&i.oid&&(i=new db_ref(i.collection,serializeValue(i.oid,t),i.db,i.fields)),i.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(r))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,t,r){for(var n=0,o=t;o<r;o+=1){var i=e[o];if(n){if((i&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;n-=1}else if(i&FIRST_BIT)if((i&FIRST_THREE_BITS)===TWO_BIT_CHAR)n=1;else if((i&FIRST_FOUR_BITS)===THREE_BIT_CHAR)n=2;else{if((i&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;n=3}}return!n}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,t,r){var n=(t=null==t?{}:t)&&t.index?t.index:0,o=e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is ".concat(o));if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(o));if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(o));if(o+n>e.length)throw new Error("(bson size ".concat(o," + options.index ").concat(n," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[n+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,n,t,r)}function deserializeObject(e,t,r,n){var o=null!=r.evalFunctions&&r.evalFunctions,i=null!=r.cacheFunctions&&r.cacheFunctions,a=null!=r.cacheFunctionsCrc32&&r.cacheFunctionsCrc32;if(!a)var s=null;var u=null==r.fieldsAsRaw?null:r.fieldsAsRaw,c=null!=r.raw&&r.raw,f="boolean"==typeof r.bsonRegExp&&r.bsonRegExp,l=null!=r.promoteBuffers&&r.promoteBuffers,p=null==r.promoteLongs||r.promoteLongs,_=null==r.promoteValues||r.promoteValues,d=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var h=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(h<5||h>e.length)throw new Error("corrupt bson message");for(var m=n?[]:{},y=0;;){var v=e[t++];if(0===v)break;for(var g=t;0!==e[g]&&g<e.length;)g++;if(g>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var b=n?y++:e.toString("utf8",t,g);if(t=g+1,v===constants.BSON_DATA_STRING){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(E<=0||E>e.length-t||0!==e[t+E-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+E-1))throw new Error("Invalid UTF-8 string in BSON document");var A=e.toString("utf8",t,t+E-1);m[b]=A,t+=E}else if(v===constants.BSON_DATA_OID){var O=Buffer$4.alloc(12);e.copy(O,0,t,t+12),m[b]=new objectid(O),t+=12}else if(v===constants.BSON_DATA_INT&&!1===_)m[b]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(v===constants.BSON_DATA_INT)m[b]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(v===constants.BSON_DATA_NUMBER&&!1===_)m[b]=new double_1(e.readDoubleLE(t)),t+=8;else if(v===constants.BSON_DATA_NUMBER)m[b]=e.readDoubleLE(t),t+=8;else if(v===constants.BSON_DATA_DATE){var I=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,T=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;m[b]=new Date(new long_1(I,T).toNumber())}else if(v===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");m[b]=1===e[t++]}else if(v===constants.BSON_DATA_OBJECT){var S=t,N=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(N<=0||N>e.length-t)throw new Error("bad embedded document length in bson");m[b]=c?e.slice(t,t+N):deserializeObject(e,S,r,!1),t+=N}else if(v===constants.BSON_DATA_ARRAY){var w=t,C=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,R=r,M=t+C;if(u&&u[b]){for(var P in R={},r)R[P]=r[P];R.raw=!0}if(m[b]=deserializeObject(e,w,R,!0),0!==e[(t+=C)-1])throw new Error("invalid array terminator byte");if(t!==M)throw new Error("corrupted array bson")}else if(v===constants.BSON_DATA_UNDEFINED)m[b]=void 0;else if(v===constants.BSON_DATA_NULL)m[b]=null;else if(v===constants.BSON_DATA_LONG){var j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,D=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,x=new long_1(j,D);m[b]=p&&!0===_&&x.lessThanOrEqual(JS_INT_MAX_LONG)&&x.greaterThanOrEqual(JS_INT_MIN_LONG)?x.toNumber():x}else if(v===constants.BSON_DATA_DECIMAL128){var L=Buffer$4.alloc(16);e.copy(L,0,t,t+16),t+=16;var B=new decimal128(L);m[b]=B.toObject?B.toObject():B}else if(v===constants.BSON_DATA_BINARY){var k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=k,U=e[t++];if(k<0)throw new Error("Negative binary type element size found");if(k>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e.slice){if(U===binary.SUBTYPE_BYTE_ARRAY){if((k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(k>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(k<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}m[b]=l&&_?e.slice(t,t+k):new binary(e.slice(t,t+k),U)}else{var G="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(k)):new Array(k);if(U===binary.SUBTYPE_BYTE_ARRAY){if((k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(k>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(k<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(g=0;g<k;g++)G[g]=e[t+g];m[b]=l&&_?G:new binary(G,U)}t+=k}else if(v===constants.BSON_DATA_REGEXP&&!1===f){for(g=t;0!==e[g]&&g<e.length;)g++;if(g>=e.length)throw new Error("Bad BSON Document: illegal CString");var V=e.toString("utf8",t,g);for(g=t=g+1;0!==e[g]&&g<e.length;)g++;if(g>=e.length)throw new Error("Bad BSON Document: illegal CString");var H=e.toString("utf8",t,g);t=g+1;var q=new Array(H.length);for(g=0;g<H.length;g++)switch(H[g]){case"m":q[g]="m";break;case"s":q[g]="g";break;case"i":q[g]="i"}m[b]=new RegExp(V,q.join(""))}else if(v===constants.BSON_DATA_REGEXP&&!0===f){for(g=t;0!==e[g]&&g<e.length;)g++;if(g>=e.length)throw new Error("Bad BSON Document: illegal CString");var W=e.toString("utf8",t,g);for(g=t=g+1;0!==e[g]&&g<e.length;)g++;if(g>=e.length)throw new Error("Bad BSON Document: illegal CString");var X=e.toString("utf8",t,g);t=g+1,m[b]=new regexp(W,X)}else if(v===constants.BSON_DATA_SYMBOL){var $=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if($<=0||$>e.length-t||0!==e[t+$-1])throw new Error("bad string length in bson");m[b]=e.toString("utf8",t,t+$-1),t+=$}else if(v===constants.BSON_DATA_TIMESTAMP){var z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,J=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;m[b]=new timestamp(z,J)}else if(v===constants.BSON_DATA_MIN_KEY)m[b]=new min_key;else if(v===constants.BSON_DATA_MAX_KEY)m[b]=new max_key;else if(v===constants.BSON_DATA_CODE){var Y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Y<=0||Y>e.length-t||0!==e[t+Y-1])throw new Error("bad string length in bson");var K=e.toString("utf8",t,t+Y-1);if(o)if(i){var Q=a?s(K):K;m[b]=isolateEvalWithHash(functionCache,Q,K,m)}else m[b]=isolateEval(K);else m[b]=new code(K);t+=Y}else if(v===constants.BSON_DATA_CODE_W_SCOPE){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Z<13)throw new Error("code_w_scope total size shorter minimum expected length");var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<=0||ee>e.length-t||0!==e[t+ee-1])throw new Error("bad string length in bson");var te=e.toString("utf8",t,t+ee-1),re=t+=ee,ne=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,oe=deserializeObject(e,re,r,!1);if(t+=ne,Z<8+ne+ee)throw new Error("code_w_scope total size is to short, truncating scope");if(Z>8+ne+ee)throw new Error("code_w_scope total size is to long, clips outer document");if(o){if(i){var ie=a?s(te):te;m[b]=isolateEvalWithHash(functionCache,ie,te,m)}else m[b]=isolateEval(te);m[b].scope=oe}else m[b]=new code(te,oe)}else{if(v!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+v.toString(16)+' for fieldname "'+b+'", are you using the latest BSON parser?');var ae=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ae<=0||ae>e.length-t||0!==e[t+ae-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+ae-1))throw new Error("Invalid UTF-8 string in BSON document");var se=e.toString("utf8",t,t+ae-1);t+=ae;var ue=Buffer$4.alloc(12);e.copy(ue,0,t,t+12);var ce=new objectid(ue);t+=12,m[b]=new db_ref(se,ce)}}if(h!==t-d){if(n)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var fe=Object.keys(m).filter(function(e){return e.startsWith("$")}),le=!0;if(fe.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(le=!1)}),!le)return m;if(null!=m.$id&&null!=m.$ref){var pe=Object.assign({},m);return delete pe.$ref,delete pe.$id,delete pe.$db,new db_ref(m.$ref,m.$id,m.$db||null,pe)}return m}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,t,r,n,o){var i,a,s="big"===r,u=8*o-n-1,c=(1<<u)-1,f=c>>1,l=-7,p=s?0:o-1,_=s?1:-1,d=e[t+p];for(p+=_,i=d&(1<<-l)-1,d>>=-l,l+=u;l>0;i=256*i+e[t+p],p+=_,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=n;l>0;a=256*a+e[t+p],p+=_,l-=8);if(0===i)i=1-f;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),i-=f}return(d?-1:1)*a*Math.pow(2,i-n)}function writeIEEE754(e,t,r,n,o,i){var a,s,u,c="big"===n,f=8*i-o-1,l=(1<<f)-1,p=l>>1,_=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=c?i-1:0,h=c?-1:1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?_/u:_*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=l?(s=0,a=l):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0)),isNaN(t)&&(s=0);o>=8;)e[r+d]=255&s,d+=h,s/=256,o-=8;for(a=a<<o|s,isNaN(t)&&(a+=8),f+=o;f>0;)e[r+d]=255&a,d+=h,a/=256,f-=8;e[r+d-h]|=128*m}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};function serializeString(e,t,r,n,o){e[n++]=constants.BSON_DATA_STRING;var i=o?e.write(t,n,"ascii"):e.write(t,n,"utf8");e[(n=n+i+1)-1]=0;var a=e.write(r,n+4,"utf8");return e[n+3]=a+1>>24&255,e[n+2]=a+1>>16&255,e[n+1]=a+1>>8&255,e[n]=a+1&255,n=n+4+a,e[n++]=0,n}function serializeNumber(e,t,r,n,o){if(Math.floor(r)===r&&r>=constants.JS_INT_MIN&&r<=constants.JS_INT_MAX)if(r>=constants.BSON_INT32_MIN&&r<=constants.BSON_INT32_MAX)e[n++]=constants.BSON_DATA_INT,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255;else if(r>=constants.JS_INT_MIN&&r<=constants.JS_INT_MAX)e[n++]=constants.BSON_DATA_NUMBER,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r,n,"little",52,8),n+=8;else{e[n++]=constants.BSON_DATA_LONG,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=long_1.fromNumber(r),a=i.getLowBits(),s=i.getHighBits();e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255}else e[n++]=constants.BSON_DATA_NUMBER,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r,n,"little",52,8),n+=8;return n}function serializeNull(e,t,r,n,o){return e[n++]=constants.BSON_DATA_NULL,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,n}function serializeBoolean(e,t,r,n,o){return e[n++]=constants.BSON_DATA_BOOLEAN,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=r?1:0,n}function serializeDate(e,t,r,n,o){e[n++]=constants.BSON_DATA_DATE,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=long_1.fromNumber(r.getTime()),a=i.getLowBits(),s=i.getHighBits();return e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,e[n++]=255&s,e[n++]=s>>8&255,e[n++]=s>>16&255,e[n++]=s>>24&255,n}function serializeRegExp(e,t,r,n,o){if(e[n++]=constants.BSON_DATA_REGEXP,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,r.source&&null!=r.source.match(regexp$1))throw Error("value "+r.source+" must not contain null bytes");return n+=e.write(r.source,n,"utf8"),e[n++]=0,r.ignoreCase&&(e[n++]=105),r.global&&(e[n++]=115),r.multiline&&(e[n++]=109),e[n++]=0,n}function serializeBSONRegExp(e,t,r,n,o){if(e[n++]=constants.BSON_DATA_REGEXP,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,null!=r.pattern.match(regexp$1))throw Error("pattern "+r.pattern+" must not contain null bytes");return n+=e.write(r.pattern,n,"utf8"),e[n++]=0,n+=e.write(r.options.split("").sort().join(""),n,"utf8"),e[n++]=0,n}function serializeMinMax(e,t,r,n,o){return null===r?e[n++]=constants.BSON_DATA_NULL:"MinKey"===r._bsontype?e[n++]=constants.BSON_DATA_MIN_KEY:e[n++]=constants.BSON_DATA_MAX_KEY,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,n}function serializeObjectId(e,t,r,n,o){if(e[n++]=constants.BSON_DATA_OID,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,"string"==typeof r.id)e.write(r.id,n,"binary");else{if(!r.id||!r.id.copy)throw new TypeError("object ["+JSON.stringify(r)+"] is not a valid ObjectId");r.id.copy(e,n,0,12)}return n+12}function serializeBuffer(e,t,r,n,o){e[n++]=constants.BSON_DATA_BINARY,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=r.length;return e[n++]=255&i,e[n++]=i>>8&255,e[n++]=i>>16&255,e[n++]=i>>24&255,e[n++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,r.copy(e,n,0,i),n+i}function serializeObject(e,t,r,n,o,i,a,s,u,c){for(var f=0;f<c.length;f++)if(c[f]===r)throw new Error("cyclic dependency detected");c.push(r),e[n++]=Array.isArray(r)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var l=serializeInto(e,r,o,n,i+1,a,s,c);return c.pop(),l}function serializeDecimal128(e,t,r,n,o){return e[n++]=constants.BSON_DATA_DECIMAL128,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,r.bytes.copy(e,n,0,16),n+16}function serializeLong(e,t,r,n,o){e[n++]="Long"===r._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=r.getLowBits(),a=r.getHighBits();return e[n++]=255&i,e[n++]=i>>8&255,e[n++]=i>>16&255,e[n++]=i>>24&255,e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,n}function serializeInt32(e,t,r,n,o){return e[n++]=constants.BSON_DATA_INT,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,e[n++]=255&r,e[n++]=r>>8&255,e[n++]=r>>16&255,e[n++]=r>>24&255,n}function serializeDouble(e,t,r,n,o){return e[n++]=constants.BSON_DATA_NUMBER,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0,writeIEEE754$1(e,r.value,n,"little",52,8),n+8}function serializeFunction(e,t,r,n,o,i,a){e[n++]=constants.BSON_DATA_CODE,n+=a?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var s=normalizedFunctionString$1(r),u=e.write(s,n+4,"utf8")+1;return e[n]=255&u,e[n+1]=u>>8&255,e[n+2]=u>>16&255,e[n+3]=u>>24&255,n=n+4+u-1,e[n++]=0,n}function serializeCode(e,t,r,n,o,i,a,s,u){if(r.scope&&"object"===_typeof$3(r.scope)){e[n++]=constants.BSON_DATA_CODE_W_SCOPE,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var c=n,f="string"==typeof r.code?r.code:r.code.toString();n+=4;var l=e.write(f,n+4,"utf8")+1;e[n]=255&l,e[n+1]=l>>8&255,e[n+2]=l>>16&255,e[n+3]=l>>24&255,e[n+4+l-1]=0,n=n+l+4;var p=serializeInto(e,r.scope,o,n,i+1,a,s);n=p-1;var _=p-c;e[c++]=255&_,e[c++]=_>>8&255,e[c++]=_>>16&255,e[c++]=_>>24&255,e[n++]=0}else{e[n++]=constants.BSON_DATA_CODE,n+=u?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var d=r.code.toString(),h=e.write(d,n+4,"utf8")+1;e[n]=255&h,e[n+1]=h>>8&255,e[n+2]=h>>16&255,e[n+3]=h>>24&255,n=n+4+h-1,e[n++]=0}return n}function serializeBinary(e,t,r,n,o){e[n++]=constants.BSON_DATA_BINARY,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=r.value(!0),a=r.position;return r.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255,e[n++]=r.sub_type,r.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[n++]=255&a,e[n++]=a>>8&255,e[n++]=a>>16&255,e[n++]=a>>24&255),i.copy(e,n,0,r.position),n+r.position}function serializeSymbol(e,t,r,n,o){e[n++]=constants.BSON_DATA_SYMBOL,n+=o?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var i=e.write(r.value,n+4,"utf8")+1;return e[n]=255&i,e[n+1]=i>>8&255,e[n+2]=i>>16&255,e[n+3]=i>>24&255,n=n+4+i-1,e[n++]=0,n}function serializeDBRef(e,t,r,n,o,i,a){e[n++]=constants.BSON_DATA_OBJECT,n+=a?e.write(t,n,"ascii"):e.write(t,n,"utf8"),e[n++]=0;var s,u=n,c={$ref:r.collection||r.namespace,$id:r.oid};null!=r.db&&(c.$db=r.db);var f=(s=serializeInto(e,c=Object.assign(c,r.fields),!1,n,o+1,i))-u;return e[u++]=255&f,e[u++]=f>>8&255,e[u++]=f>>16&255,e[u++]=f>>24&255,s}function serializeInto(e,t,r,n,o,i,a,s){n=n||0,(s=s||[]).push(t);var u=n+4;if(Array.isArray(t))for(var c=0;c<t.length;c++){var f=""+c,l=t[c];if(l&&l.toBSON){if("function"!=typeof l.toBSON)throw new TypeError("toBSON is not a function");l=l.toBSON()}var p=_typeof$3(l);if("string"===p)u=serializeString(e,f,l,u,!0);else if("number"===p)u=serializeNumber(e,f,l,u,!0);else if("boolean"===p)u=serializeBoolean(e,f,l,u,!0);else if(l instanceof Date||isDate$1(l))u=serializeDate(e,f,l,u,!0);else if(void 0===l)u=serializeNull(e,f,l,u,!0);else if(null===l)u=serializeNull(e,f,l,u,!0);else if("ObjectId"===l._bsontype||"ObjectID"===l._bsontype)u=serializeObjectId(e,f,l,u,!0);else if(Buffer$5.isBuffer(l))u=serializeBuffer(e,f,l,u,!0);else if(l instanceof RegExp||isRegExp$1(l))u=serializeRegExp(e,f,l,u,!0);else if("object"===p&&null==l._bsontype)u=serializeObject(e,f,l,u,r,o,i,a,!0,s);else if("object"===p&&"Decimal128"===l._bsontype)u=serializeDecimal128(e,f,l,u,!0);else if("Long"===l._bsontype||"Timestamp"===l._bsontype)u=serializeLong(e,f,l,u,!0);else if("Double"===l._bsontype)u=serializeDouble(e,f,l,u,!0);else if("function"==typeof l&&i)u=serializeFunction(e,f,l,u,r,o,i,!0);else if("Code"===l._bsontype)u=serializeCode(e,f,l,u,r,o,i,a,!0);else if("Binary"===l._bsontype)u=serializeBinary(e,f,l,u,!0);else if("Symbol"===l._bsontype)u=serializeSymbol(e,f,l,u,!0);else if("DBRef"===l._bsontype)u=serializeDBRef(e,f,l,u,o,i,!0);else if("BSONRegExp"===l._bsontype)u=serializeBSONRegExp(e,f,l,u,!0);else if("Int32"===l._bsontype)u=serializeInt32(e,f,l,u,!0);else if("MinKey"===l._bsontype||"MaxKey"===l._bsontype)u=serializeMinMax(e,f,l,u,!0);else if(void 0!==l._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+l._bsontype)}else if(t instanceof map)for(var _=t.entries(),d=!1;!d;){var h=_.next();if(!(d=h.done)){var m=h.value[0],y=h.value[1],v=_typeof$3(y);if("string"==typeof m&&!ignoreKeys.has(m)){if(null!=m.match(regexp$1))throw Error("key "+m+" must not contain null bytes");if(r){if("$"===m[0])throw Error("key "+m+" must not start with '$'");if(~m.indexOf("."))throw Error("key "+m+" must not contain '.'")}}if("string"===v)u=serializeString(e,m,y,u);else if("number"===v)u=serializeNumber(e,m,y,u);else if("boolean"===v)u=serializeBoolean(e,m,y,u);else if(y instanceof Date||isDate$1(y))u=serializeDate(e,m,y,u);else if(null===y||void 0===y&&!1===a)u=serializeNull(e,m,y,u);else if("ObjectId"===y._bsontype||"ObjectID"===y._bsontype)u=serializeObjectId(e,m,y,u);else if(Buffer$5.isBuffer(y))u=serializeBuffer(e,m,y,u);else if(y instanceof RegExp||isRegExp$1(y))u=serializeRegExp(e,m,y,u);else if("object"===v&&null==y._bsontype)u=serializeObject(e,m,y,u,r,o,i,a,!1,s);else if("object"===v&&"Decimal128"===y._bsontype)u=serializeDecimal128(e,m,y,u);else if("Long"===y._bsontype||"Timestamp"===y._bsontype)u=serializeLong(e,m,y,u);else if("Double"===y._bsontype)u=serializeDouble(e,m,y,u);else if("Code"===y._bsontype)u=serializeCode(e,m,y,u,r,o,i,a);else if("function"==typeof y&&i)u=serializeFunction(e,m,y,u,r,o,i);else if("Binary"===y._bsontype)u=serializeBinary(e,m,y,u);else if("Symbol"===y._bsontype)u=serializeSymbol(e,m,y,u);else if("DBRef"===y._bsontype)u=serializeDBRef(e,m,y,u,o,i);else if("BSONRegExp"===y._bsontype)u=serializeBSONRegExp(e,m,y,u);else if("Int32"===y._bsontype)u=serializeInt32(e,m,y,u);else if("MinKey"===y._bsontype||"MaxKey"===y._bsontype)u=serializeMinMax(e,m,y,u);else if(void 0!==y._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+y._bsontype)}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var g in t){var b=t[g];if(b&&b.toBSON){if("function"!=typeof b.toBSON)throw new TypeError("toBSON is not a function");b=b.toBSON()}var E=_typeof$3(b);if("string"==typeof g&&!ignoreKeys.has(g)){if(null!=g.match(regexp$1))throw Error("key "+g+" must not contain null bytes");if(r){if("$"===g[0])throw Error("key "+g+" must not start with '$'");if(~g.indexOf("."))throw Error("key "+g+" must not contain '.'")}}if("string"===E)u=serializeString(e,g,b,u);else if("number"===E)u=serializeNumber(e,g,b,u);else if("boolean"===E)u=serializeBoolean(e,g,b,u);else if(b instanceof Date||isDate$1(b))u=serializeDate(e,g,b,u);else if(void 0===b)!1===a&&(u=serializeNull(e,g,b,u));else if(null===b)u=serializeNull(e,g,b,u);else if("ObjectId"===b._bsontype||"ObjectID"===b._bsontype)u=serializeObjectId(e,g,b,u);else if(Buffer$5.isBuffer(b))u=serializeBuffer(e,g,b,u);else if(b instanceof RegExp||isRegExp$1(b))u=serializeRegExp(e,g,b,u);else if("object"===E&&null==b._bsontype)u=serializeObject(e,g,b,u,r,o,i,a,!1,s);else if("object"===E&&"Decimal128"===b._bsontype)u=serializeDecimal128(e,g,b,u);else if("Long"===b._bsontype||"Timestamp"===b._bsontype)u=serializeLong(e,g,b,u);else if("Double"===b._bsontype)u=serializeDouble(e,g,b,u);else if("Code"===b._bsontype)u=serializeCode(e,g,b,u,r,o,i,a);else if("function"==typeof b&&i)u=serializeFunction(e,g,b,u,r,o,i);else if("Binary"===b._bsontype)u=serializeBinary(e,g,b,u);else if("Symbol"===b._bsontype)u=serializeSymbol(e,g,b,u);else if("DBRef"===b._bsontype)u=serializeDBRef(e,g,b,u,o,i);else if("BSONRegExp"===b._bsontype)u=serializeBSONRegExp(e,g,b,u);else if("Int32"===b._bsontype)u=serializeInt32(e,g,b,u);else if("MinKey"===b._bsontype||"MaxKey"===b._bsontype)u=serializeMinMax(e,g,b,u);else if(void 0!==b._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+b._bsontype)}}s.pop(),e[u++]=0;var A=u-n;return e[n++]=255&A,e[n++]=A>>8&255,e[n++]=A>>16&255,e[n++]=A>>24&255,u}var serializer=serializeInto;function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,r){var n=5;if(Array.isArray(e))for(var o=0;o<e.length;o++)n+=calculateElement(o.toString(),e[o],t,!0,r);else for(var i in e.toBSON&&(e=e.toBSON()),e)n+=calculateElement(i,e[i],t,!1,r);return n}function calculateElement(e,t,r,n,o){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return n||!o?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,r,o):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var i=Object.assign({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(i.$db=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(i,r,o)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,r,o)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,r,o);if(r)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){var r="boolean"==typeof(t=t||{}).checkKeys&&t.checkKeys,n="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,o="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,i="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<i&&(buffer$1=Buffer$8.alloc(i));var a=serializer(buffer$1,e,r,0,0,n,o,[]),s=Buffer$8.alloc(a);return buffer$1.copy(s,0,0,s.length),s}function serializeWithBufferAndIndex(e,t,r){var n="boolean"==typeof(r=r||{}).checkKeys&&r.checkKeys,o="boolean"==typeof r.serializeFunctions&&r.serializeFunctions,i="boolean"!=typeof r.ignoreUndefined||r.ignoreUndefined,a="number"==typeof r.index?r.index:0,s=serializer(buffer$1,e,n,0,0,o,i);return buffer$1.copy(t,a,0,s),a+s-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){var r="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,n="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,r,n)}function deserializeStream(e,t,r,n,o,i){i=Object.assign({allowObjectSmallerThanBufferSize:!0},i),e=ensure_buffer(e);for(var a=t,s=0;s<r;s++){var u=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;i.index=a,n[o+s]=deserializer(e,i),a+=u}return a}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON,_unused_webpack_default_export=bson}).call(this,__webpack_require__(3),__webpack_require__(0).Buffer)},function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function o(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=o;var i={},a={};function s(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=a[e])?n:(r=c(e,(0|e)<0?-1:0,!0),o&&(a[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=i[e])?n:(r=c(e,e<0?-1:0,!1),o&&(i[e]=r),r)}function u(e,t){if(isNaN(e))return t?v:y;if(t){if(e<0)return v;if(e>=d)return O}else{if(e<=-h)return I;if(e+1>=h)return A}return e<0?u(-e,t).neg():c(e%_|0,e/_|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=u,n.fromBits=c;var f=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var o=u(f(r,8)),i=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),c=parseInt(e.substring(a,a+s),r);if(s<8){var p=u(f(r,s));i=i.mul(p).add(u(c))}else i=(i=i.mul(o)).add(u(c))}return i.unsigned=t,i}function p(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=p;var _=4294967296,d=_*_,h=d/2,m=s(1<<24),y=s(0);n.ZERO=y;var v=s(0,!0);n.UZERO=v;var g=s(1);n.ONE=g;var b=s(1,!0);n.UONE=b;var E=s(-1);n.NEG_ONE=E;var A=c(-1,2147483647,!1);n.MAX_VALUE=A;var O=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=O;var I=c(0,-2147483648,!1);n.MIN_VALUE=I;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*_+(this.low>>>0):this.high*_+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=u(f(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),c=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return o(e)||(e=p(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(o(e)||(e=p(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(g)},T.neg=T.negate,T.add=function(e){o(e)||(e=p(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,f=0,l=0,_=0,d=0;return _+=(d+=i+(65535&e.low))>>>16,l+=(_+=n+u)>>>16,f+=(l+=r+s)>>>16,f+=t+a,c((_&=65535)<<16|(d&=65535),(f&=65535)<<16|(l&=65535),this.unsigned)},T.subtract=function(e){return o(e)||(e=p(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=p(e)),r)return c(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(I))return e.isOdd()?I:y;if(e.eq(I))return this.isOdd()?I:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,f=65535&e.high,l=e.low>>>16,_=65535&e.low,d=0,h=0,v=0,g=0;return v+=(g+=a*_)>>>16,h+=(v+=i*_)>>>16,v&=65535,h+=(v+=a*l)>>>16,d+=(h+=n*_)>>>16,h&=65535,d+=(h+=i*l)>>>16,h&=65535,d+=(h+=a*f)>>>16,d+=t*_+n*l+i*f+a*s,c((v&=65535)<<16|(g&=65535),(d&=65535)<<16|(h&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(o(e)||(e=p(e)),e.isZero())throw Error("division by zero");var t,n,i;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return b;i=v}else{if(this.eq(I))return e.eq(g)||e.eq(E)?I:e.eq(I)?g:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?g:E:(n=this.sub(e.mul(t)),i=t.add(n.div(e)));if(e.eq(I))return this.unsigned?v:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=y}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:f(2,a-48),l=u(t),_=l.mul(e);_.isNegative()||_.gt(n);)_=(l=u(t-=s,this.unsigned)).mul(e);l.isZero()&&(l=g),i=i.add(l),n=n.sub(_)}return i},T.div=T.divide,T.modulo=function(e){return o(e)||(e=p(e)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return o(e)||(e=p(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return o(e)||(e=p(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return o(e)||(e=p(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";var n=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");var r;return t=Object.assign({pascalCase:!1},t),0===(e=Array.isArray(e)?e.map(function(e){return e.trim()}).filter(function(e){return e.length}).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,r=!1,n=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,n=r,r=!0,o++):r&&n&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),n=r,r=!1,t=!0):(t=i.toLowerCase()===i&&i.toUpperCase()!==i,n=r,r=i.toUpperCase()===i&&i.toLowerCase()!==i)}return e}(e)),r=e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,function(e,t){return t.toUpperCase()}).replace(/\d+(\w|$)/g,function(e){return e.toUpperCase()}),t.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r)};e.exports=n,e.exports.default=n},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(6),s=r(18),u=r(9),c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}var t,r;return t=e,(r=[{key:"request",value:function(e,t,r){return o(this,void 0,void 0,regeneratorRuntime.mark(function n(){var o,u,c,f,l,p,_,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o="application/x-www-form-urlencoded",n.next=3,s.getTicket(this.config.env);case 3:if(u=n.sent,c=Object.assign({action:e,loginType:"QQ-MINI",ticket:u,env:this.config.env,dataVersion:"2019-08-16"},t),"storage.uploadFile"===e){for(l in f=new FormData)f.hasOwnProperty(l)&&void 0!==f[l]&&f.append(l,c[l]);o="multipart/form-data"}else o="application/json;charset=UTF-8",f=c;return p={headers:{"content-type":o}},r&&r.onUploadProgress&&(p.onUploadProgress=r.onUploadProgress),_="".concat(i.BASE_URL,"?env=").concat(this.config.env),n.next=11,a.sendHttpRequest({url:_,data:c,headers:{"content-type":o},method:"post"});case 11:if(d=n.sent,200===Number(d.statusCode)&&d.data){n.next=14;break}throw new Error("network request error");case 14:return n.abrupt("return",d);case 15:case"end":return n.stop()}},n,this)}))}},{key:"send",value:function(e,t){return o(this,void 0,void 0,regeneratorRuntime.mark(function r(){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.request(e,t,{onUploadProgress:t.onUploadProgress});case 2:if(!(n=r.sent).data.code){r.next=6;break}throw Object.assign({},u.wrapFail(n.data));case 6:return r.abrupt("return",u.wrapSuccess(n.data));case 7:case"end":return r.stop()}},r,this)}))}}])&&n(t.prototype,r),e}();t.Request=c},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o={};t.uploadFile=function(e){return qq.uploadFile(e)},t.setStorageSync=function(e,t){return n(this,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!qq||!qq.setStorageSync){r.next=3;break}return qq.setStorageSync(e,t),r.abrupt("return");case 3:o[e]=t;case 4:case"end":return r.stop()}},r)}))},t.removeStorageSync=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!qq||!qq.removeStorageSync){t.next=3;break}return qq.removeStorageSync(e),t.abrupt("return");case 3:delete o[e];case 4:case"end":return t.stop()}},t)}))},t.getStorageSync=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!qq||!qq.getStorageSync){t.next=3;break}return r=qq.getStorageSync(e),t.abrupt("return",r);case 3:return t.abrupt("return",o[e]);case 4:case"end":return t.stop()}},t)}))},t.getCloudTicket=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.next=6;break;case 3:if("dev-2-2799f7"!==e){t.next=5;break}return t.abrupt("return",{data:{ticket:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjoie1wiZW52SWRcIjpcImRldi0yLTI3OTlmN1wiLFwicXFBcHBJZFwiOlwiMTEwODEwMDMwMlwiLFwib3BlbklkXCI6XCIxMjNhYWE0NTZcIn0iLCJpYXQiOjE1NzQ0ODk3NTAsImV4cCI6MTU3NDQ5Njk1MH0.cuCLsykQmd5ihKjyYunSN04U8wiFeXwnfZ0XFy38Oo4",createTime:1574489751,period:7200}});case 5:return t.abrupt("return",{data:{ticket:"aaa",createTime:1574302473,period:7200}});case 6:if(qq&&qq.getCloudTicket){t.next=8;break}throw new Error("[@cloudbase/qq-sdk] 请在QQ小程序中使用并升级到最新的基础库版本");case 8:if(e){t.next=10;break}throw new Error("[@cloudbase/qq-sdk] 未指定云环境，请先执行init方法或填入env字段");case 10:return t.next=12,new Promise(function(t,r){qq.getCloudTicket({envId:e,success:function(e){t(e)},fail:function(e){r(new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(e.errMsg&&e.errMsg.replace("getCloudTicket:fail ",""))))}})});case 12:if((r=t.sent)&&r.ticket){t.next=15;break}throw new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(r&&r.code||"获取失败"));case 15:return t.abrupt("return",r);case 16:case"end":return t.stop()}},t)}))},t.sendHttpRequest=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,r){var n=Object.assign(e,{success:function(e){e&&e.code?r(e):t(e)},fail:function(e){r(e)}});qq.request(n)});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t)}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.initEnvData=function(e){Object.assign(n,e)},t.getEnv=function(e,t){return e&&e.env?e.env:n[t]||n.env}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCB_ERR_CODE={SUCCESS:0,SYS_ERR:-501001,SERVER_TIMEOUT:-501002,EXCEED_REQUEST_LIMIT:-501003,EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,INVALIID_ENV:-501005,INVALID_COMMON_PARAM:-501006,INVALID_PARAM:-501007,INVALID_REQUEST_SOURCE:-501008,RESOURCE_NOT_INITIAL:-501009,DATABASE_REQUEST_FAILED:-502001,DATABASE_INVALID_OPERRATOR:-502002,DATABASE_PERMISSION_DENIED:-502003,DATABASE_COLLECTION_EXCEED_LIMIT:-502004,DATABASE_COLLECTION_NOT_EXIST:-502005,STORAGE_REQUEST_FAIL:-503001,STORAGE_EXCEED_AUTHORITY:-503002,STORAGE_FILE_NONEXIST:-503003,STORAGE_SIGN_PARAM_INVALID:-503004,FUNCTIONS_REQUEST_FAIL:-504001,FUNCTIONS_EXECUTE_FAIL:-504002},t.wrapFail=function(e){return e.code?{errCode:t.TCB_ERR_CODE[e.code]||t.TCB_ERR_CODE.SYS_ERR,errMsg:"fail ".concat(e.message),requestID:e.requestId}:e},t.wrapSuccess=function(e){return e.code&&"SUCCESSS"!==e.code.toUpperCase()||(e.status=0,e.errMsg="ok"),e.requestID=e.requestId,e}},function(e,t,r){(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var n,o="Expected a function",i="__lodash_hash_undefined__",a=1/0,s=9007199254740991,u="[object Function]",c="[object GeneratorFunction]",f="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,_=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,m=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,v="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,g="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,b=v||g||Function("return this")(),E=Array.prototype,A=Function.prototype,O=Object.prototype,I=b["__core-js_shared__"],T=(n=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",S=A.toString,N=O.hasOwnProperty,w=O.toString,C=RegExp("^"+S.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=b.Symbol,M=E.splice,P=H(b,"Map"),j=H(Object,"create"),D=R?R.prototype:void 0,x=D?D.toString:void 0;function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function k(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function F(e,t,r){var n=e[t];N.call(e,t)&&z(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function U(e,t){for(var r=e.length;r--;)if(z(e[r][0],t))return r;return-1}function G(e,t,n,o){if(!Y(e))return e;for(var i=-1,a=(t=function(e,t){if(J(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!K(e))||(p.test(e)||!l.test(e)||null!=t&&e in Object(t))}(t,e)?[t]:function(e){return J(e)?e:W(e)}(t)).length,s=a-1,u=e;null!=u&&++i<a;){var c=X(t[i]),f=n;if(i!=s){var _=u[c];void 0===(f=o?o(_,c,u):void 0)&&(f=Y(_)?_:q(t[i+1])?[]:{})}F(u,c,f),u=u[c]}return e}function V(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function H(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Y(e)||(t=e,T&&T in t))&&(function(e){var t=Y(e)?w.call(e):"";return t==u||t==c}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:m).test(function(e){if(null!=e){try{return S.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function q(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||y.test(e))&&e>-1&&e%1==0&&e<t}L.prototype.clear=function(){this.__data__=j?j(null):{}},L.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},L.prototype.get=function(e){var t=this.__data__;if(j){var r=t[e];return r===i?void 0:r}return N.call(t,e)?t[e]:void 0},L.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:N.call(t,e)},L.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?i:t,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(e){var t=this.__data__,r=U(t,e);return!(r<0||(r==t.length-1?t.pop():M.call(t,r,1),0))},B.prototype.get=function(e){var t=this.__data__,r=U(t,e);return r<0?void 0:t[r][1]},B.prototype.has=function(e){return U(this.__data__,e)>-1},B.prototype.set=function(e,t){var r=this.__data__,n=U(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},k.prototype.clear=function(){this.__data__={hash:new L,map:new(P||B),string:new L}},k.prototype.delete=function(e){return V(this,e).delete(e)},k.prototype.get=function(e){return V(this,e).get(e)},k.prototype.has=function(e){return V(this,e).has(e)},k.prototype.set=function(e,t){return V(this,e).set(e,t),this};var W=$(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(K(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var r=[];return _.test(e)&&r.push(""),e.replace(d,function(e,t,n,o){r.push(n?o.replace(h,"$1"):t||e)}),r});function X(e){if("string"==typeof e||K(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function $(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new($.Cache||k),r}function z(e,t){return e===t||e!=e&&t!=t}$.Cache=k;var J=Array.isArray;function Y(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function K(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&w.call(e)==f}e.exports=function(e,t,r){return null==e?e:G(e,t,r)}}).call(this,r(3))},function(e,t,r){(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var n,o="Expected a function",i="__lodash_hash_undefined__",a=1/0,s="[object Function]",u="[object GeneratorFunction]",c="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,p=/^\./,_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,m="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,v=m||y||Function("return this")(),g=Array.prototype,b=Function.prototype,E=Object.prototype,A=v["__core-js_shared__"],O=(n=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",I=b.toString,T=E.hasOwnProperty,S=E.toString,N=RegExp("^"+I.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=v.Symbol,C=g.splice,R=U(v,"Map"),M=U(Object,"create"),P=w?w.prototype:void 0,j=P?P.toString:void 0;function D(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function x(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function L(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e,t){for(var r,n,o=e.length;o--;)if((r=e[o][0])===(n=t)||r!=r&&n!=n)return o;return-1}function k(e){return W(e)?e:V(e)}function F(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function U(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!X(e)||(t=e,O&&O in t))&&(function(e){var t=X(e)?S.call(e):"";return t==s||t==u}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?N:h).test(function(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(r)?r:void 0}function G(e,t){if(W(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$(e))||l.test(e)||!f.test(e)||null!=t&&e in Object(t)}D.prototype.clear=function(){this.__data__=M?M(null):{}},D.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},D.prototype.get=function(e){var t=this.__data__;if(M){var r=t[e];return r===i?void 0:r}return T.call(t,e)?t[e]:void 0},D.prototype.has=function(e){var t=this.__data__;return M?void 0!==t[e]:T.call(t,e)},D.prototype.set=function(e,t){return this.__data__[e]=M&&void 0===t?i:t,this},x.prototype.clear=function(){this.__data__=[]},x.prototype.delete=function(e){var t=this.__data__,r=B(t,e);return!(r<0||(r==t.length-1?t.pop():C.call(t,r,1),0))},x.prototype.get=function(e){var t=this.__data__,r=B(t,e);return r<0?void 0:t[r][1]},x.prototype.has=function(e){return B(this.__data__,e)>-1},x.prototype.set=function(e,t){var r=this.__data__,n=B(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},L.prototype.clear=function(){this.__data__={hash:new D,map:new(R||x),string:new D}},L.prototype.delete=function(e){return F(this,e).delete(e)},L.prototype.get=function(e){return F(this,e).get(e)},L.prototype.has=function(e){return F(this,e).has(e)},L.prototype.set=function(e,t){return F(this,e).set(e,t),this};var V=q(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if($(e))return j?j.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var r=[];return p.test(e)&&r.push(""),e.replace(_,function(e,t,n,o){r.push(n?o.replace(d,"$1"):t||e)}),r});function H(e){if("string"==typeof e||$(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(q.Cache||L),r}q.Cache=L;var W=Array.isArray;function X(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function $(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&S.call(e)==c}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var r=0,n=(t=G(t,e)?[t]:k(t)).length;null!=e&&r<n;)e=e[H(t[r++])];return r&&r==n?e:void 0}(e,function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}(t,0,-1))}(e,t=G(t,e)?[t]:k(t));var r,n,o=H((n=(r=t)?r.length:0)?r[n-1]:void 0);return!(null!=e&&T.call(e,o))||delete e[o]}(e,t)}}).call(this,r(3))},function(e,t,r){(function(e,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",u="[object Date]",c="[object Function]",f="[object GeneratorFunction]",l="[object Map]",p="[object Number]",_="[object Object]",d="[object RegExp]",h="[object Set]",m="[object String]",y="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",E="[object Float64Array]",A="[object Int8Array]",O="[object Int16Array]",I="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",N="[object Uint16Array]",w="[object Uint32Array]",C=/\w*$/,R=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,P={};P[a]=P["[object Array]"]=P[v]=P[g]=P[s]=P[u]=P[b]=P[E]=P[A]=P[O]=P[I]=P[l]=P[p]=P[_]=P[d]=P[h]=P[m]=P[y]=P[T]=P[S]=P[N]=P[w]=!0,P["[object Error]"]=P[c]=P["[object WeakMap]"]=!1;var j="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e,D="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,x=j||D||Function("return this")(),L="object"==n(t)&&t&&!t.nodeType&&t,B=L&&"object"==n(r)&&r&&!r.nodeType&&r,k=B&&B.exports===L;function F(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function G(e,t,r,n){var o=-1,i=e?e.length:0;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function q(e,t){return function(r){return e(t(r))}}function W(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var X,$=Array.prototype,z=Function.prototype,J=Object.prototype,Y=x["__core-js_shared__"],K=(X=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+X:"",Q=z.toString,Z=J.hasOwnProperty,ee=J.toString,te=RegExp("^"+Q.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=k?x.Buffer:void 0,ne=x.Symbol,oe=x.Uint8Array,ie=q(Object.getPrototypeOf,Object),ae=Object.create,se=J.propertyIsEnumerable,ue=$.splice,ce=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,le=q(Object.keys,Object),pe=xe(x,"DataView"),_e=xe(x,"Map"),de=xe(x,"Promise"),he=xe(x,"Set"),me=xe(x,"WeakMap"),ye=xe(Object,"create"),ve=Ue(pe),ge=Ue(_e),be=Ue(de),Ee=Ue(he),Ae=Ue(me),Oe=ne?ne.prototype:void 0,Ie=Oe?Oe.valueOf:void 0;function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ne(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function we(e){this.__data__=new Se(e)}function Ce(e,t,r){var n=e[t];Z.call(e,t)&&Ge(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Re(e,t){for(var r=e.length;r--;)if(Ge(e[r][0],t))return r;return-1}function Me(e,t,r,n,o,i,R){var M;if(n&&(M=i?n(e,o,i,R):n(e)),void 0!==M)return M;if(!Xe(e))return e;var j=Ve(e);if(j){if(M=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,M)}else{var D=Be(e),x=D==c||D==f;if(qe(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(D==_||D==a||x&&!i){if(V(e))return i?e:{};if(M=function(e){return"function"!=typeof e.constructor||Fe(e)?{}:Xe(t=ie(e))?ae(t):{};var t}(x?{}:e),!t)return function(e,t){return je(e,Le(e),t)}(e,function(e,t){return e&&je(t,$e(t),e)}(M,e))}else{if(!P[D])return i?e:{};M=function(e,t,r,n){var o,i,a,c=e.constructor;switch(t){case v:return Pe(e);case s:case u:return new c(+e);case g:return function(e,t){var r=n?Pe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e);case b:case E:case A:case O:case I:case T:case S:case N:case w:return function(e,t){var r=n?Pe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e);case l:return function(e,t,r){return G(n?r(H(e),!0):H(e),F,new e.constructor)}(e,0,r);case p:case m:return new c(e);case d:return(a=new(i=e).constructor(i.source,C.exec(i))).lastIndex=i.lastIndex,a;case h:return function(e,t,r){return G(n?r(W(e),!0):W(e),U,new e.constructor)}(e,0,r);case y:return o=e,Ie?Object(Ie.call(o)):{}}}(e,D,Me,t)}}R||(R=new we);var L=R.get(e);if(L)return L;if(R.set(e,M),!j)var B=r?function(e){return function(e,t,r){var n=$e(e);return Ve(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,0,Le)}(e):$e(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(B||e,function(o,i){B&&(o=e[i=o]),Ce(M,i,Me(o,t,r,n,i,e,R))}),M}function Pe(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function je(e,t,r,n){r||(r={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=n?n(r[a],e[a],a,r,e):void 0;Ce(r,a,void 0===s?e[a]:s)}return r}function De(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Xe(e)||(t=e,K&&K in t))&&(We(e)||V(e)?te:R).test(Ue(e));var t}(r)?r:void 0}Te.prototype.clear=function(){this.__data__=ye?ye(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(ye){var r=t[e];return r===o?void 0:r}return Z.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return ye?void 0!==t[e]:Z.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=ye&&void 0===t?o:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0||(r==t.length-1?t.pop():ue.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Re(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Ne.prototype.clear=function(){this.__data__={hash:new Te,map:new(_e||Se),string:new Te}},Ne.prototype.delete=function(e){return De(this,e).delete(e)},Ne.prototype.get=function(e){return De(this,e).get(e)},Ne.prototype.has=function(e){return De(this,e).has(e)},Ne.prototype.set=function(e,t){return De(this,e).set(e,t),this},we.prototype.clear=function(){this.__data__=new Se},we.prototype.delete=function(e){return this.__data__.delete(e)},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var n=r.__data__;if(!_e||n.length<199)return n.push([e,t]),this;r=this.__data__=new Ne(n)}return r.set(e,t),this};var Le=ce?q(ce,Object):function(){return[]},Be=function(e){return ee.call(e)};function ke(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||M.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function Ue(e){if(null!=e){try{return Q.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ge(e,t){return e===t||e!=e&&t!=t}(pe&&Be(new pe(new ArrayBuffer(1)))!=g||_e&&Be(new _e)!=l||de&&"[object Promise]"!=Be(de.resolve())||he&&Be(new he)!=h||me&&"[object WeakMap]"!=Be(new me))&&(Be=function(e){var t=ee.call(e),r=t==_?e.constructor:void 0,n=r?Ue(r):void 0;if(n)switch(n){case ve:return g;case ge:return l;case be:return"[object Promise]";case Ee:return h;case Ae:return"[object WeakMap]"}return t});var Ve=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!We(e)}var qe=fe||function(){return!1};function We(e){var t=Xe(e)?ee.call(e):"";return t==c||t==f}function Xe(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function $e(e){return He(e)?function(e,t){var r=Ve(e)||function(e){return function(e){return function(e){return!!e&&"object"==n(e)}(e)&&He(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==a)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],o=r.length,i=!!o;for(var s in e)!t&&!Z.call(e,s)||i&&("length"==s||ke(s,o))||r.push(s);return r}(e):function(e){if(!Fe(e))return le(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}r.exports=function(e){return Me(e,!0,!0)}}).call(this,r(3),r(8)(e))},function(e,t,r){r(14),e.exports=r(15)},function(e,t,r){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}var r=function(e){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function c(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,i=Object.create(o.prototype),a=new w(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===_)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw i;return R()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=T(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=_;var u=f(e,t,r);if("normal"===u.type){if(n=r.done?d:p,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var l="suspendedStart",p="suspendedYield",_="executing",d="completed",h={};function m(){}function y(){}function v(){}var g={};g[a]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(C([])));E&&E!==n&&o.call(E,a)&&(g=E);var A=v.prototype=m.prototype=Object.create(g);function O(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function I(e){var r;this._invoke=function(n,i){function a(){return new Promise(function(r,a){!function r(n,i,a,s){var u=f(e[n],e,i);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===t(l)&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){r("next",e,a,s)},function(e){r("throw",e,a,s)}):Promise.resolve(l).then(function(e){c.value=e,a(c)},function(e){return r("throw",e,a,s)})}s(u.arg)}(n,i,r,a)})}return r=r?r.then(a,a):a()}}function T(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,T(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=f(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return i.next=i}}return{next:R}}function R(){return{value:r,done:!0}}return y.prototype=A.constructor=v,v.constructor=y,v[u]=y.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(A),e},e.awrap=function(e){return{__await:e}},O(I.prototype),I.prototype[s]=function(){return this},e.AsyncIterator=I,e.async=function(t,r,n,o){var i=new I(c(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},O(A),A[u]="Generator",A[a]=function(){return this},A.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return s.type="throw",s.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),c=o.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),h}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}).call(this,r(8)(e))},function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(16)),i=n(r(19)),a=r(5),s=r(24),u=r(23),c=r(7),f=!1;function l(e){return e&&void 0!==e.updated?{stats:e}:e}t.init=function(e){f||(c.initEnvData(e),f=!0)},t.callFunction=u.wrap(i.callFunction),t.getTempFileURL=u.wrap(o.getTempFileURL),t.deleteFile=u.wrap(o.deleteFile),t.uploadFile=o.uploadFile,t.downloadFile=o.downloadFile,s.Query.prototype.get=u.wrapWithoutArgu(s.Query.prototype.get),s.Query.prototype.count=u.wrapWithoutArgu(s.Query.prototype.count),s.Query.prototype.update=u.wrapWithOnlyData(s.Query.prototype.update,l),s.CollectionReference.prototype.add=u.wrapWithOnlyData(s.CollectionReference.prototype.add,function(e){return e&&e.id&&(e._id=e.id,delete e.id),e}),s.CollectionReference.prototype.update=u.wrapWithOnlyData(s.CollectionReference.prototype.update,l),s.DocumentReference.prototype.get=u.wrapWithOnlyData(s.DocumentReference.prototype.get,function(e){return e&&void 0!==e.data?Object.assign(Object.assign({},e),{data:e.data[0]}):e}),s.DocumentReference.prototype.update=u.wrapWithOnlyData(s.DocumentReference.prototype.update,l),s.DocumentReference.prototype.set=u.wrapWithOnlyData(s.DocumentReference.prototype.set),s.DocumentReference.prototype.remove=u.wrapWithoutArgu(s.DocumentReference.prototype.remove);t.database=function(e){var t=c.getEnv(e,"database");return s.Db.reqClass=a.Request,new s.Db({env:t})}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),s=r(6),u=r(7),c=r(9),f="storage",l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onProgressUpdateArr=[],this.offProgressUpdateArr=[],this.onHeadersReceivedArr=[],this.offHeadersReceivedArr=[]}var t,r;return t=e,(r=[{key:"abort",value:function(){this.aborted=!0}},{key:"onProgressUpdate",value:function(e){this.onProgressUpdateArr.push(e),this.initedCallback&&this.realTask.onProgressUpdate(e)}},{key:"offProgressUpdate",value:function(e){this.offProgressUpdateArr.push(e),this.initedCallback&&this.realTask.offProgressUpdate(e)}},{key:"onHeadersReceived",value:function(e){this.onHeadersReceivedArr.push(e),this.initedCallback&&this.realTask.onHeadersReceived(e)}},{key:"offHeadersReceived",value:function(e){this.offHeadersReceivedArr.push(e),this.initedCallback&&this.realTask.offHeadersReceived(e)}}])&&o(t.prototype,r),e}();function p(e){var t=e.fileList,r=e.config;return i(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o,i,s,l,p,_,d,h,m,y,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Array.isArray(t)){e.next=2;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 2:o=[],i=!0,s=!1,l=void 0,e.prev=6,p=t[Symbol.iterator]();case 8:if(i=(_=p.next()).done){e.next=24;break}if("object"!==n(d=_.value)){e.next=16;break}if(d.hasOwnProperty("fileID")&&d.hasOwnProperty("maxAge")){e.next=13;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"});case 13:o.push({fileid:d.fileID,max_age:d.maxAge}),e.next=21;break;case 16:if("string"!=typeof d){e.next=20;break}o.push({fileid:d}),e.next=21;break;case 20:return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});case 21:i=!0,e.next=8;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(6),s=!0,l=e.t0;case 30:e.prev=30,e.prev=31,i||null==p.return||p.return();case 33:if(e.prev=33,!s){e.next=36;break}throw l;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return h={file_list:o},m={env:u.getEnv(r,f)},y=new a.Request(m),e.next=44,y.send("storage.batchGetDownloadUrl",h);case 44:if(!(v=e.sent).code){e.next=47;break}return e.abrupt("return",v);case 47:return Array.isArray(v.data.download_list)&&v.data.download_list.map(function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL,status:"SUCCESS"===e.code?0:c.TCB_ERR_CODE[e.code]||e.code,errMsg:"SUCCESS"===e.code?"getTempFileURL:ok":"getTempFileURL:fail ".concat(e.code)}}),e.abrupt("return",{fileList:v.data.download_list,requestId:v.requestId});case 49:case"end":return e.stop()}},e,null,[[6,26,30,38],[31,,33,37]])}))}t.uploadFile=function(e){var t,r=this,n=e.cloudPath,o=e.filePath,c=e.header,p=e.config,_=e.success,d=e.fail,h=e.complete,m=new l;m.preTask=function(){return i(r,void 0,void 0,regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={env:u.getEnv(p,f)},r=new a.Request(t),e.next=5,r.send("storage.getUploadMetadata",{path:n});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))};var y=m.preTask().then(function(e){if(!m.aborted){var r=e.data,i=r.url,a=r.authorization,u=r.token,f=r.fileId,l=r.cosFileId,p=e.requestId;t=p;var _=new Promise(function(e,t){m.realTask=s.uploadFile({url:i,filePath:o,name:"file",formData:{key:n,signature:a,"x-cos-meta-fileid":l,success_action_status:"201","x-cos-security-token":u},header:c,success:function(r){201===r.statusCode?e({requestId:p,fileID:f,statusCode:200,errMsg:"uploadFile:ok"}):t({errCode:"-503001",errMsg:"uploadFile:fail STORAGE_REQUEST_FAIL"})},fail:function(e){var r={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):""};t(r)}})});return m.aborted&&m.realTask.abort(),m.onProgressUpdateArr.map(function(e){return m.realTask.onProgressUpdate(e)}),m.offProgressUpdateArr.map(function(e){return m.realTask.offProgressUpdate(e)}),m.onHeadersReceivedArr.map(function(e){return m.realTask.onHeadersReceived(e)}),m.offHeadersReceivedArr.map(function(e){return m.realTask.offHeadersReceived(e)}),m.initedCallback=!0,_}}).then(function(e){if(!(_||d||h))return e;_&&_(e),h&&h()}).catch(function(e){if(e.requestID=t,!(_||d||h))throw e;d&&d(e),h&&h()});return _||d||h?m:y},t.deleteFile=function(e){var t=e.fileList,r=e.config;return i(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o,i,s,l,p,_,d,h,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Array.isArray(t)){e.next=2;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 2:n=!0,o=!1,i=void 0,e.prev=5,s=t[Symbol.iterator]();case 7:if(n=(l=s.next()).done){e.next=14;break}if((p=l.value)&&"string"==typeof p){e.next=11;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});case 11:n=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),o=!0,i=e.t0;case 20:e.prev=20,e.prev=21,n||null==s.return||s.return();case 23:if(e.prev=23,!o){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return _={fileid_list:t},d={env:u.getEnv(r,f)},h=new a.Request(d),e.next=34,h.send("storage.batchDeleteFile",_);case 34:if(!(m=e.sent).code){e.next=37;break}return e.abrupt("return",m);case 37:return Array.isArray(m.data.delete_list)&&m.data.delete_list.map(function(e){return c.TCB_ERR_CODE[e.code]?{fileID:e.fileID,status:c.TCB_ERR_CODE[e.code],errMsg:e.code}:e}),e.abrupt("return",{fileList:m.data.delete_list,requestId:m.requestId});case 39:case"end":return e.stop()}},e,null,[[5,16,20,28],[21,,23,27]])}))},t.getTempFileURL=p,t.downloadFile=function(e){var t,r=this,n=e.fileID,o=e.config,a=e.success,s=e.fail,u=e.complete,c=new l;c.preTask=function(){return i(r,void 0,void 0,regeneratorRuntime.mark(function e(){var r,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.call(this,{fileList:[{fileID:n,maxAge:600}],config:o});case 2:if(r=e.sent,"SUCCESS"===(i=r.fileList[0]).code){e.next=6;break}throw new Error(i.code);case 6:return a=i.download_url,t=r.requestId,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}))};var f=c.preTask().then(function(e){var t=new Promise(function(t,r){c.realTask=qq.downloadFile({url:e,success:function(e){200===e.statusCode&&t(e)},fail:function(e){var t={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):"fail"};r(t)}})});return c.aborted&&c.realTask.abort(),c.onProgressUpdateArr.map(function(e){return c.realTask.onProgressUpdate(e)}),c.offProgressUpdateArr.map(function(e){return c.realTask.offProgressUpdate(e)}),c.onHeadersReceivedArr.map(function(e){return c.realTask.onHeadersReceived(e)}),c.offHeadersReceivedArr.map(function(e){return c.realTask.offHeadersReceived(e)}),c.initedCallback=!0,t}).then(function(e){if(!(a||s||u))return e;a&&a(e),u&&u()}).catch(function(e){if(e.requestID=t,!(a||s||u))throw e;s&&s(e),u&&u()});return a||s||u?c:f}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QQ_TICKET="qq_ticket",t.BASE_URL="https://tcb-api.tencentcloudapi.com/web"},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(r(6));t.getTicket=function(e){return n(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,n,o,a,s,u,c,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="qq_ticket_".concat(e),t.next=3,i.getStorageSync(r);case 3:if(!(n=t.sent)){t.next=10;break}if(o=parseInt(n.split(";")[1]),!(Date.now()<o)){t.next=8;break}return t.abrupt("return",n.split(";")[0]);case 8:return t.next=10,i.removeStorageSync(r);case 10:return t.next=12,i.getCloudTicket(e);case 12:return a=t.sent,s=a.ticket,u=a.createTime,c=a.period,f=1e3*(u+c),t.next=17,i.setStorageSync(r,"".concat(s,";").concat(f));case 17:return t.abrupt("return",s);case 18:case"end":return t.stop()}},t)}))}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o=r(5),i=r(7);t.callFunction=function(e){var t=e.name,r=e.data,a=e.config;return n(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,s,u,c,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=r?JSON.stringify(r):"{}",e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:if(t){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("函数名不能为空")));case 9:return n={function_name:t,request_data:r},s={env:i.getEnv(a,"functions")},u=new o.Request(s),e.next=15,u.send("functions.invokeFunction",n);case 15:if(!(c=e.sent).code){e.next=18;break}return e.abrupt("return",c);case 18:return c.data.response_data,e.prev=19,f=JSON.parse(c.data.response_data),e.abrupt("return",{result:f,status:0,errMsg:"ok",requestID:c.requestID});case 24:throw e.prev=24,e.t1=e.catch(19),new Error("[@cloudbase/qq-sdk] response data must be json");case 27:case"end":return e.stop()}},e,null,[[0,4],[19,24]])}))}},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new i(3*(a+s)/4-s),f=0,l=s>0?a-4:a;for(r=0;r<l;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===s&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[f++]=255&t),1===s&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(f(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var o,i,a=[],s=t;s<r;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=r?o-1:0,p=r?-1:1,_=e[t+l];for(l+=p,i=_&(1<<-f)-1,_>>=-f,f+=s;f>0;i=256*i+e[t+l],l+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=p,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,n),i-=c}return(_?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:i-1,d=n?1:-1,h=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+l>=1?p/u:p*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(t*u-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;e[r+_]=255&s,_+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[r+_]=255&a,_+=d,a/=256,c-=8);e[r+_-d]|=128*h}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";function n(e){if(e&&e.code&&e.message)throw new Error("[".concat(e.code,"] ").concat(e.message));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapWithSelf=function(e,t){return function(r){if(r.success||r.fail||r.complete){var n=r.success,o=r.fail,i=r.complete;return e.apply(t,arguments).then(function(e){var t;try{n&&n(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(t,arguments)}},t.wrap=function(e){return function(t){if(t.success||t.fail||t.complete){var r=t.success,o=t.fail,i=t.complete;return e.apply(this,arguments).then(function(e){var t;try{r&&r(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(this,arguments).then(n)}},t.wrapWithoutArgu=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.success||t.fail||t.complete){var r=t.success,o=t.fail,i=t.complete;return e.apply(this).then(function(e){var t;try{e&&e.code&&e.message?o&&o(e):r&&r(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(this).then(n)}},t.wrapWithOnlyData=function(e,t){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.success||r.fail||r.complete){var o=r.success,i=r.fail,a=r.complete;return e.call(this,r.data).then(function(e){var r;try{e&&e.code&&e.message?(i&&i(e),a&&a(e)):(o&&o(t?t(e):e),a&&a(t?t(e):e))}catch(e){r=e}if(r)throw r},function(e){var t;try{i&&i(e),a&&a(e)}catch(e){t=e}if(t)throw t})}return e.call(this,r.data).then(n).then(function(e){return t?t(e):e})}}},function(e,t,r){"use strict";r.r(t);var n,o={};r.r(o),r.d(o,"Point",function(){return he}),r.d(o,"LineString",function(){return $}),r.d(o,"Polygon",function(){return Y}),r.d(o,"MultiPoint",function(){return Z}),r.d(o,"MultiLineString",function(){return re}),r.d(o,"MultiPolygon",function(){return ie}),function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(n||(n={}));var i,a="Object",s="GeoPoint",u="GeoLineString",c="GeoPolygon",f="GeoMultiPoint",l="GeoMultiLineString",p="GeoMultiPolygon",_="Date",d="ServerDate",h=["desc","asc"],m=["<","<=","==",">=",">"];function y(e){return(y="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(i||(i={})),i.eq,i.lt,i.lte,i.gt,i.gte;var A=[],O={},I=function(e){function t(e,r){if(E(this,t),r!==O)throw new TypeError("InternalSymbol cannot be constructed with new operator");return function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,g(t).call(this,e))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,function e(t){E(this,e),Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:t}})}),r=t,n=[{key:"for",value:function(e){for(var r=0,n=A.length;r<n;r++)if(A[r].target===e)return A[r].instance;var o=new t(e,O);return A.push({target:e,instance:o}),o}}],null&&v(r.prototype,null),n&&v(r,n),t}(),T=I,S=T.for("UNSET_FIELD_NAME"),N=T.for("UPDATE_COMMAND"),w=T.for("QUERY_COMMAND"),C=T.for("LOGIC_COMMAND"),R=T.for("GEO_POINT"),M=T.for("SYMBOL_GEO_LINE_STRING"),P=T.for("SYMBOL_GEO_POLYGON"),j=T.for("SYMBOL_GEO_MULTI_POINT"),D=T.for("SYMBOL_GEO_MULTI_LINE_STRING"),x=T.for("SYMBOL_GEO_MULTI_POLYGON"),L=T.for("SERVER_DATE"),B=T.for("REGEXP"),k=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},F=function(e){return"object"===k(e)},U=function(e){return"number"===k(e)},G=function(e){return Array.isArray(e)},V=function(e){return"date"===k(e)},H=function(e){return"regexp"===k(e)},q=function(e){return e&&e._internalType instanceof I};function W(e){return(W="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!G(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(W(t)));if(t.length<2)throw new Error('"points" must contain 2 points at least');t.forEach(function(e){if(!(e instanceof he))throw new TypeError('"points" must be of type Point[]. Received type '.concat(W(e),"[]"))}),this.points=t}var t,r,n;return t=e,n=[{key:"validate",value:function(e){if("LineString"!==e.type||!G(e.coordinates))return!1;var t=!0,r=!1,n=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!U(a[0])||!U(a[1]))return!1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}},{key:"isClosed",value:function(e){var t=e.points[0],r=e.points[e.points.length-1];if(t.latitude===r.latitude&&t.longitude===r.longitude)return!0}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}}},{key:"toJSON",value:function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}},{key:"_internalType",get:function(){return M}}])&&X(t.prototype,r),n&&X(t,n),e}();function z(e){return(z="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!G(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(z(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(e){if(!(e instanceof $))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(z(e),"[]"));if(!$.isClosed(e))throw new Error("LineString ".concat(e.points.map(function(e){return e.toReadableString()})," is not a closed cycle"))}),this.lines=t}var t,r,n;return t=e,n=[{key:"validate",value:function(e){if("Polygon"!==e.type||!G(e.coordinates))return!1;var t=!0,r=!1,n=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!this.isCloseLineString(a))return!1;var s=!0,u=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var p=f.value;if(!U(p[0])||!U(p[1]))return!1}}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}},{key:"isCloseLineString",value:function(e){var t=e[0],r=e[e.length-1];return t[0]===r[0]&&t[1]===r[1]}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}}},{key:"toJSON",value:function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}},{key:"_internalType",get:function(){return x}}])&&J(t.prototype,r),n&&J(t,n),e}();function K(e){return(K="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Z=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!G(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(K(t)));if(0===t.length)throw new Error('"points" must contain 1 point at least');t.forEach(function(e){if(!(e instanceof he))throw new TypeError('"points" must be of type Point[]. Received type '.concat(K(e),"[]"))}),this.points=t}var t,r,n;return t=e,n=[{key:"validate",value:function(e){if("MultiPoint"!==e.type||!G(e.coordinates))return!1;var t=!0,r=!1,n=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!U(a[0])||!U(a[1]))return!1}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}}},{key:"toJSON",value:function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}},{key:"_internalType",get:function(){return j}}])&&Q(t.prototype,r),n&&Q(t,n),e}();function ee(e){return(ee="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var re=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!G(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(ee(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(e){if(!(e instanceof $))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(ee(e),"[]"))}),this.lines=t}var t,r,n;return t=e,n=[{key:"validate",value:function(e){if("MultiLineString"!==e.type||!G(e.coordinates))return!1;var t=!0,r=!1,n=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,u=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var p=f.value;if(!U(p[0])||!U(p[1]))return!1}}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}}},{key:"toJSON",value:function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}},{key:"_internalType",get:function(){return D}}])&&te(t.prototype,r),n&&te(t,n),e}();function ne(e){return(ne="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ie=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!G(t))throw new TypeError('"polygons" must be of type Polygon[]. Received type '.concat(ne(t)));if(0===t.length)throw new Error("MultiPolygon must contain 1 polygon at least");var r=!0,n=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var s=i.value;if(!(s instanceof Y))throw new TypeError('"polygon" must be of type Polygon[]. Received type '.concat(ne(s),"[]"))}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}this.polygons=t}var t,r,n;return t=e,n=[{key:"validate",value:function(e){if("MultiPolygon"!==e.type||!G(e.coordinates))return!1;var t=!0,r=!1,n=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,u=!1,c=void 0;try{for(var f,l=a[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var p=f.value,_=!0,d=!1,h=void 0;try{for(var m,y=p[Symbol.iterator]();!(_=(m=y.next()).done);_=!0){var v=m.value;if(!U(v[0])||!U(v[1]))return!1}}catch(e){d=!0,h=e}finally{try{_||null==y.return||y.return()}finally{if(d)throw h}}}}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return!0}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}}}},{key:"toJSON",value:function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}}},{key:"_internalType",get:function(){return P}}])&&oe(t.prototype,r),n&&oe(t,n),e}();function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var se=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).offset,r=void 0===t?0:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=r}var t,r;return t=e,(r=[{key:"parse",value:function(){return{$date:{offset:this.offset}}}},{key:"_internalType",get:function(){return L}}])&&ae(t.prototype,r),e}();function ue(e){return new se(e)}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var fe=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}fe.formatResDocumentData=function(e){return e.map(function(e){return fe.formatField(e)})},fe.formatField=function(e){var t=Object.keys(e),r={};return Array.isArray(e)&&(r=[]),t.forEach(function(t){var n,o=e[t];switch(fe.whichType(o)){case s:n=new he(o.coordinates[0],o.coordinates[1]);break;case u:n=new $(o.coordinates.map(function(e){return new he(e[0],e[1])}));break;case c:n=new Y(o.coordinates.map(function(e){return new $(e.map(function(e){var t=ce(e,2),r=t[0],n=t[1];return new he(r,n)}))}));break;case f:n=new Z(o.coordinates.map(function(e){return new he(e[0],e[1])}));break;case l:n=new re(o.coordinates.map(function(e){return new $(e.map(function(e){var t=ce(e,2),r=t[0],n=t[1];return new he(r,n)}))}));break;case p:n=new ie(o.coordinates.map(function(e){return new Y(e.map(function(e){return new $(e.map(function(e){var t=ce(e,2),r=t[0],n=t[1];return new he(r,n)}))}))}));break;case _:n=new Date(1e3*o.$timestamp);break;case a:case"Array":n=fe.formatField(o);break;case d:n=new Date(o.$date);break;default:n=o}Array.isArray(r)?r.push(n):r[t]=n}),r},fe.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===a){if(e instanceof he)return s;if(e instanceof Date)return _;if(e instanceof se)return d;e.$timestamp?t=_:e.$date?t=d:he.validate(e)?t=s:$.validate(e)?t=u:Y.validate(e)?t=c:Z.validate(e)?t=f:re.validate(e)?t=l:ie.validate(e)&&(t=p)}return t},fe.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",r=0;r<24;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"isGeopoint",value:function(e,t){if("Number"!==fe.whichType(t))throw new Error("Geo Point must be number type");var r=Math.abs(t);if("latitude"===e&&r>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&r>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0}},{key:"isInteger",value:function(e,t){if(!Number.isInteger(t))throw new Error(e+n.IntergerError);return!0}},{key:"isFieldOrder",value:function(e){if(-1===h.indexOf(e))throw new Error(n.DirectionError);return!0}},{key:"isFieldPath",value:function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0}},{key:"isOperator",value:function(e){if(-1===m.indexOf(e))throw new Error(n.OpStrError);return!0}},{key:"isCollName",value:function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(n.CollNameError);return!0}},{key:"isDocID",value:function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(n.DocIDError);return!0}}],null&&le(t.prototype,null),r&&le(t,r),e}();function _e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var de,he=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pe.isGeopoint("longitude",t),pe.isGeopoint("latitude",r),this.longitude=t,this.latitude=r}var t,r,n;return t=e,n=[{key:"validate",value:function(e){return"Point"===e.type&&G(e.coordinates)&&pe.isGeopoint("longitude",e.coordinates[0])&&pe.isGeopoint("latitude",e.coordinates[1])}}],(r=[{key:"parse",value:function(e){return{[e]:{type:"Point",coordinates:[this.longitude,this.latitude]}}}},{key:"toJSON",value:function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}}},{key:"toReadableString",value:function(){return"[".concat(this.longitude,",").concat(this.latitude,"]")}},{key:"_internalType",get:function(){return R}}])&&_e(t.prototype,r),n&&_e(t,n),e}(),me=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var r=new Promise(function(t,r){e=function(e,n){return e?r(e):t(n)}});return e.promise=r,e};function ye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(de||(de={}));var ve,ge=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=N,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=r,this.fieldName=n||S}var t,r;return t=e,(r=[{key:"_setFieldName",value:function(t){return new e(this.operator,this.operands,t)}}])&&ye(t.prototype,r),e}();function be(e){return e&&e instanceof ge&&e._internalType===N}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(ve||(ve={}));var Ae,Oe=function(){function e(t,r,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=C,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=r,this.fieldName=n||S,this.fieldName!==S)if(Array.isArray(r)){r=r.slice(),this.operands=r;for(var o=0,i=r.length;o<i;o++){var a=r[o];(Ie(a)||Re(a))&&(r[o]=a._setFieldName(this.fieldName))}}else{var s=r;(Ie(s)||Re(s))&&(r=s._setFieldName(this.fieldName))}}var t,r;return t=e,(r=[{key:"_setFieldName",value:function(t){var r=this.operands.map(function(r){return r instanceof e?r._setFieldName(t):r});return new e(this.operator,r,t)}},{key:"and",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(ve.AND,o,this.fieldName)}},{key:"or",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(ve.OR,o,this.fieldName)}}])&&Ee(t.prototype,r),e}();function Ie(e){return e&&e instanceof Oe&&e._internalType===C}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(Ae||(Ae={}));var Ce=function(e){function t(e,r,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==Te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Ne(t).call(this,e,r,n))).operator=e,o._internalType=w,o}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(t,Oe),r=t,(n=[{key:"toJSON",value:function(){switch(this.operator){case Ae.IN:case Ae.NIN:return{["$"+this.operator]:this.operands};default:return{["$"+this.operator]:this.operands[0]}}}},{key:"_setFieldName",value:function(e){return new t(this.operator,this.operands,e)}},{key:"eq",value:function(e){var r=new t(Ae.EQ,[e],this.fieldName);return this.and(r)}},{key:"neq",value:function(e){var r=new t(Ae.NEQ,[e],this.fieldName);return this.and(r)}},{key:"gt",value:function(e){var r=new t(Ae.GT,[e],this.fieldName);return this.and(r)}},{key:"gte",value:function(e){var r=new t(Ae.GTE,[e],this.fieldName);return this.and(r)}},{key:"lt",value:function(e){var r=new t(Ae.LT,[e],this.fieldName);return this.and(r)}},{key:"lte",value:function(e){var r=new t(Ae.LTE,[e],this.fieldName);return this.and(r)}},{key:"in",value:function(e){var r=new t(Ae.IN,e,this.fieldName);return this.and(r)}},{key:"nin",value:function(e){var r=new t(Ae.NIN,e,this.fieldName);return this.and(r)}},{key:"geoNear",value:function(e){if(!(e.geometry instanceof he))throw new TypeError('"geometry" must be of type Point. Received type '.concat(Te(e.geometry)));if(void 0!==e.maxDistance&&!U(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '.concat(Te(e.maxDistance)));if(void 0!==e.minDistance&&!U(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '.concat(Te(e.minDistance)));var r=new t(Ae.GEO_NEAR,[e],this.fieldName);return this.and(r)}},{key:"geoWithin",value:function(e){if(!(e.geometry instanceof ie||e.geometry instanceof Y))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '.concat(Te(e.geometry)));var r=new t(Ae.GEO_WITHIN,[e],this.fieldName);return this.and(r)}},{key:"geoIntersects",value:function(e){if(!(e.geometry instanceof he||e.geometry instanceof $||e.geometry instanceof Y||e.geometry instanceof Z||e.geometry instanceof re||e.geometry instanceof ie))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '.concat(Te(e.geometry)));var r=new t(Ae.GEO_INTERSECTS,[e],this.fieldName);return this.and(r)}}])&&Se(r.prototype,n),t}();function Re(e){return e&&e instanceof Ce&&e._internalType===w}function Me(e){return Re(e)}var Pe=r(4),je={};for(var De in Ae)je[De]="$"+Pe(De);for(var xe in ve)je[xe]="$"+Pe(xe);for(var Le in de)je[Le]="$"+Pe(Le);function Be(e){return je[e]||"$"+Pe(e)}function ke(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fe(e){return function e(t,r){if(!q(t)){if(V(t))return{$date:+t};if(H(t))return{$regex:t.source,$options:t.flags};if(G(t))return t.map(function(t){if(r.indexOf(t)>-1)throw new Error("Cannot convert circular structure to JSON");return e(t,[].concat(ke(r),[t]))});if(F(t)){var n=Object.assign({},t);for(var o in n){if(r.indexOf(n[o])>-1)throw new Error("Cannot convert circular structure to JSON");n[o]=e(n[o],[].concat(ke(r),[n[o]]))}return n}return t}switch(t._internalType){case R:return t.toJSON();case L:case B:return t.parse();default:return t.toJSON?t.toJSON():t}}(e,[e])}function Ue(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ge(e){return function e(t,r,n,o){var i=Object.assign({},t);for(var a in t)if(!/^\$/.test(a)){var s=t[a];if(s&&F(s)&&!r(s)){if(o.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var u=e(s,r,[].concat(Ue(n),[a]),[].concat(Ue(o),[s]));i[a]=u;var c=!1;for(var f in u)/^\$/.test(f)?c=!0:(i["".concat(a,".").concat(f)]=u[f],delete i[a][f]);c||delete i[a]}}return i}(e,He,[],[e])}function Ve(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?G(e[n])?e[n].push(t[n]):F(e[n])?F(t[n])?Object.assign(e[n],t[n]):(console.warn("unmergable condition, query is object but condition is ".concat(k(t),", can only overwrite"),t,r),e[n]=t[n]):(console.warn("to-merge query is of type ".concat(k(e),", can only overwrite"),e,t,r),e[n]=t[n]):e[n]=t[n]}function He(e){return q(e)||V(e)||H(e)}function qe(e){return Fe(e)}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}je[Ae.NEQ]="$ne",je[de.REMOVE]="$unset",je[de.SHIFT]="$pop",je[de.UNSHIFT]="$push";var Xe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n;return t=e,n=[{key:"encode",value:function(t){return(new e).encodeUpdate(t)}}],(r=[{key:"encodeUpdate",value:function(e){return be(e)?this.encodeUpdateCommand(e):"object"===k(e)?this.encodeUpdateObject(e):e}},{key:"encodeUpdateCommand",value:function(e){if(e.fieldName===S)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case de.PUSH:case de.PULL:case de.PULL_ALL:case de.POP:case de.SHIFT:case de.UNSHIFT:case de.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}}},{key:"encodeFieldUpdateCommand",value:function(e){var t=Be(e.operator);switch(e.operator){case de.REMOVE:return{[t]:{[e.fieldName]:""}};default:return{[t]:{[e.fieldName]:e.operands[0]}}}}},{key:"encodeArrayUpdateCommand",value:function(e){var t=Be(e.operator);switch(e.operator){case de.PUSH:var r;return r=G(e.operands)?{$each:e.operands.map(qe)}:e.operands,{[t]:{[e.fieldName]:r}};case de.UNSHIFT:var n={$each:e.operands.map(qe),$position:0};return{[t]:{[e.fieldName]:n}};case de.POP:return{[t]:{[e.fieldName]:1}};case de.SHIFT:return{[t]:{[e.fieldName]:-1}};default:return{[t]:{[e.fieldName]:qe(e.operands)}}}}},{key:"encodeUpdateObject",value:function(e){var t=Ge(e);for(var r in t)if(!/^\$/.test(r)){var n=t[r];if(be(n))t[r]=n._setFieldName(r),Ve(t,this.encodeUpdateCommand(t[r]),r);else{t[r]=n=qe(n);var o=new ge(de.SET,[n],r);Ve(t,this.encodeUpdateCommand(o),r)}}return t}}])&&We(t.prototype,r),n&&We(t,n),e}(),$e=r(10),ze=r.n($e),Je=r(11),Ye=r.n(Je),Ke=r(12),Qe=r.n(Ke);function Ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())}var et={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"};function tt(e){return(tt="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ot(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?it(e):t}function it(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function at(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}function st(e){var t="function"==typeof Map?new Map:void 0;return(st=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&ut(o,r.prototype),o}).apply(null,arguments)}(e,arguments,ct(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ut(n,e)})(e)}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ft=function(e){function t(e){var r;return rt(this,t),(r=ot(this,ct(t).call(this,e.errMsg))).errCode="UNKNOWN_ERROR",Object.defineProperties(it(r),{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(et[this.errCode]||""," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}}),r.errCode=e.errCode||"UNKNOWN_ERROR",r.errMsg=e.errMsg,r}var r,n;return at(t,st(Error)),r=t,(n=[{key:"message",get:function(){return"errCode: ".concat(this.errCode," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}])&&nt(r.prototype,n),t}(),lt=function(e){function t(e){var r;return rt(this,t),(r=ot(this,ct(t).call(this,e))).type="timeout",r.payload=null,r.generic=!0,r}return at(t,st(Error)),t}(),pt=function(e){return"timeout"===e.type},_t=function(e){function t(e){var r;return rt(this,t),(r=ot(this,ct(t).call(this,e))).type="cancelled",r.payload=null,r.generic=!0,r}return at(t,st(Error)),t}(),dt=function(e){return"cancelled"===e.type},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})},mt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=t.close,this.onChange=t.onChange,this.onError=t.onError,t.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return t.virtualClient}})},yt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r,n,o=t.id,i=t.docChanges,a=t.docs,s=t.msgType,u=t.type;Object.defineProperties(this,{id:{get:function(){return o},enumerable:!0},docChanges:{get:function(){return r||(r=JSON.parse(JSON.stringify(i))),r},enumerable:!0},docs:{get:function(){return n||(n=JSON.parse(JSON.stringify(a))),n},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return u},enumerable:!0}})};function vt(e){return(vt="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function gt(e){var t="function"==typeof Map?new Map:void 0;return(gt=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,r){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&bt(o,r.prototype),o}).apply(null,arguments)}(e,arguments,Et(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),bt(n,e)})(e)}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var At,Ot=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==vt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Et(t).call(this,"Watch Error ".concat(JSON.stringify(e.msgData)," (requestid: ").concat(e.requestId,")")))).isRealtimeErrorMessageError=!0,r.payload=e,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(t,gt(Error)),t}(),It=function(e){return e&&e.isRealtimeErrorMessageError};function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function St(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.LOGGINGIN="LOGGINGIN",e.INITING="INITING",e.REBUILDING="REBUILDING",e.ACTIVE="ACTIVE",e.ERRORED="ERRORED",e.CLOSING="CLOSING",e.CLOSED="CLOSED",e.PAUSED="PAUSED",e.RESUMING="RESUMING"}(At||(At={}));var wt=100,Ct=2,Rt=2,Mt=1e4,Pt=1e4,jt=1e4,Dt=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchStatus=At.INITING,this._login=function(e,t){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r.watchStatus=At.LOGGINGIN,o.next=3,regeneratorRuntime.awrap(r.login(e,t));case 3:return n=o.sent,r.envId||(r.envId=n.envId),o.abrupt("return",n);case 6:case"end":return o.stop()}})},this.initWatch=function(e){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._initWatchPromise){n.next=2;break}return n.abrupt("return",r._initWatchPromise);case 2:return r._initWatchPromise=new Promise(function(t,n){var o,i,a,s,u,c,f,l,p,_,d,h,m;return regeneratorRuntime.async(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.prev=0,r.watchStatus!==At.PAUSED){y.next=4;break}return console.log("[realtime] initWatch cancelled on pause"),y.abrupt("return",t());case 4:return y.next=6,regeneratorRuntime.awrap(r._login(r.envId,e));case 6:if(o=y.sent,i=o.envId,r.watchStatus!==At.PAUSED){y.next=11;break}return console.log("[realtime] initWatch cancelled on pause"),y.abrupt("return",t());case 11:return r.watchStatus=At.INITING,a={watchId:r.watchId,requestId:Ze(),msgType:"INIT_WATCH",msgData:{envId:i,collName:r.collectionName,query:r.query}},y.next=15,regeneratorRuntime.awrap(r.send({msg:a,waitResponse:!0,skipOnMessage:!0,timeout:Pt}));case 15:if(s=y.sent,u=s.msgData,c=u.events,f=u.currEvent,r.sessionInfo={queryID:s.msgData.queryID,currentEventId:f-1,currentDocs:[]},!(c.length>0)){y.next=41;break}for(l=!0,p=!1,_=void 0,y.prev=22,d=c[Symbol.iterator]();!(l=(h=d.next()).done);l=!0)h.value.ID=f;y.next=30;break;case 26:y.prev=26,y.t0=y.catch(22),p=!0,_=y.t0;case 30:y.prev=30,y.prev=31,l||null==d.return||d.return();case 33:if(y.prev=33,!p){y.next=36;break}throw _;case 36:return y.finish(33);case 37:return y.finish(30);case 38:r.handleServerEvents(s),y.next=45;break;case 41:r.sessionInfo.currentEventId=f,m=new yt({id:f,docChanges:[],docs:[],type:"init"}),r.listener.onChange(m),r.scheduleSendACK();case 45:r.onWatchStart(r,r.sessionInfo.queryID),r.watchStatus=At.ACTIVE,r._availableRetries.INIT_WATCH=Ct,t(),y.next=54;break;case 51:y.prev=51,y.t1=y.catch(0),r.handleWatchEstablishmentError(y.t1,{operationName:"INIT_WATCH",resolve:t,reject:n});case 54:case"end":return y.stop()}},null,null,[[0,51],[22,26,30,38],[31,,33,37]])}),t=!1,n.prev=4,n.next=7,regeneratorRuntime.awrap(r._initWatchPromise);case 7:t=!0;case 8:return n.prev=8,r._initWatchPromise=void 0,n.finish(8);case 11:console.log("[realtime] initWatch ".concat(t?"success":"fail"));case 12:case"end":return n.stop()}},null,null,[[4,,8,11]])},this.rebuildWatch=function(e){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._rebuildWatchPromise){n.next=2;break}return n.abrupt("return",r._rebuildWatchPromise);case 2:return r._rebuildWatchPromise=new Promise(function(t,n){var o,i,a,s;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,r.watchStatus!==At.PAUSED){u.next=4;break}return console.log("[realtime] rebuildWatch cancelled on pause"),u.abrupt("return",t());case 4:return u.next=6,regeneratorRuntime.awrap(r._login(r.envId,e));case 6:if(o=u.sent,i=o.envId,r.sessionInfo){u.next=10;break}throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");case 10:if(r.watchStatus!==At.PAUSED){u.next=13;break}return console.log("[realtime] rebuildWatch cancelled on pause"),u.abrupt("return",t());case 13:return r.watchStatus=At.REBUILDING,a={watchId:r.watchId,requestId:Ze(),msgType:"REBUILD_WATCH",msgData:{envId:i,collName:r.collectionName,queryID:r.sessionInfo.queryID,eventID:r.sessionInfo.currentEventId}},u.next=17,regeneratorRuntime.awrap(r.send({msg:a,waitResponse:!0,skipOnMessage:!1,timeout:jt}));case 17:s=u.sent,r.handleServerEvents(s),r.watchStatus=At.ACTIVE,r._availableRetries.REBUILD_WATCH=Ct,t(),u.next=27;break;case 24:u.prev=24,u.t0=u.catch(0),r.handleWatchEstablishmentError(u.t0,{operationName:"REBUILD_WATCH",resolve:t,reject:n});case 27:case"end":return u.stop()}},null,null,[[0,24]])}),t=!1,n.prev=4,n.next=7,regeneratorRuntime.awrap(r._rebuildWatchPromise);case 7:t=!0;case 8:return n.prev=8,r._rebuildWatchPromise=void 0,n.finish(8);case 11:console.log("[realtime] rebuildWatch ".concat(t?"success":"fail"));case 12:case"end":return n.stop()}},null,null,[[4,,8,11]])},this.handleWatchEstablishmentError=function(e,t){var n,o,i;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:n="INIT_WATCH"===t.operationName,o=function(){r.closeWithError(new ft({errCode:n?et.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:et.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:e})),t.reject(e)},i=function(e){r.useRetryTicket(t.operationName)?n?(r._initWatchPromise=void 0,t.resolve(r.initWatch(e))):(r._rebuildWatchPromise=void 0,t.resolve(r.rebuildWatch(e))):o()},r.handleCommonError(e,{onSignError:function(){return i(!0)},onTimeoutError:function(){return i(!1)},onNotRetryableError:o,onCancelledError:t.reject,onUnknownError:function(){var e;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,e=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r.pause(),e.next=3,regeneratorRuntime.awrap(r.onceWSConnected());case 3:i(!0);case 4:case"end":return e.stop()}})},r.isWSConnected()){n.next=7;break}return n.next=5,regeneratorRuntime.awrap(e());case 5:n.next=19;break;case 7:return n.next=9,regeneratorRuntime.awrap(ht(wt));case 9:if(r.watchStatus!==At.PAUSED){n.next=13;break}t.reject(new _t("".concat(t.operationName," cancelled due to pause after unknownError"))),n.next=19;break;case 13:if(r.isWSConnected()){n.next=18;break}return n.next=16,regeneratorRuntime.awrap(e());case 16:n.next=19;break;case 18:i(!1);case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(0),i(!0);case 24:case"end":return n.stop()}},null,null,[[0,21]])}});case 4:case"end":return a.stop()}})},this.closeWatch=function(){var e,t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(e=r.sessionInfo?r.sessionInfo.queryID:"",r.watchStatus===At.ACTIVE){n.next=5;break}return r.watchStatus=At.CLOSED,r.onWatchClose(r,e),n.abrupt("return");case 5:return n.prev=5,r.watchStatus=At.CLOSING,t={watchId:r.watchId,requestId:Ze(),msgType:"CLOSE_WATCH",msgData:null},n.next=10,regeneratorRuntime.awrap(r.send({msg:t}));case 10:r.sessionInfo=void 0,r.watchStatus=At.CLOSED,n.next=17;break;case 14:n.prev=14,n.t0=n.catch(5),r.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:n.t0}));case 17:return n.prev=17,r.onWatchClose(r,e),n.finish(17);case 20:case"end":return n.stop()}},null,null,[[5,14,17,20]])},this.scheduleSendACK=function(){r.clearACKSchedule(),r._ackTimeoutId=setTimeout(function(){r._waitExpectedTimeoutId?r.scheduleSendACK():r.sendACK()},Mt)},this.clearACKSchedule=function(){r._ackTimeoutId&&clearTimeout(r._ackTimeoutId)},this.sendACK=function(){var e,t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,r.watchStatus===At.ACTIVE){n.next=4;break}return r.scheduleSendACK(),n.abrupt("return");case 4:if(r.sessionInfo){n.next=7;break}return console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),n.abrupt("return");case 7:return e={watchId:r.watchId,requestId:Ze(),msgType:"CHECK_LAST",msgData:{queryID:r.sessionInfo.queryID,eventID:r.sessionInfo.currentEventId}},n.next=10,regeneratorRuntime.awrap(r.send({msg:e}));case 10:r.scheduleSendACK(),n.next=26;break;case 13:if(n.prev=13,n.t0=n.catch(0),!It(n.t0)){n.next=25;break}t=n.t0.payload,n.t1=t.msgData.code,n.next="CHECK_LOGIN_FAILED"===n.t1?20:"SIGN_EXPIRED_ERROR"===n.t1?20:"SIGN_INVALID_ERROR"===n.t1?20:"SIGN_PARAM_INVALID"===n.t1?20:"QUERYID_INVALID_ERROR"===n.t1?22:"SYS_ERR"===n.t1?22:"INVALIID_ENV"===n.t1?22:"COLLECTION_PERMISSION_DENIED"===n.t1?22:24;break;case 20:return r.rebuildWatch(),n.abrupt("return");case 22:return r.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:t.msgData.code})),n.abrupt("return");case 24:return n.abrupt("break",25);case 25:r._availableRetries.CHECK_LAST&&r._availableRetries.CHECK_LAST>0?(r._availableRetries.CHECK_LAST--,r.scheduleSendACK()):r.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:n.t0}));case 26:case"end":return n.stop()}},null,null,[[0,13]])},this.handleCommonError=function(e,t){if(It(e))switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}else{if(pt(e))return void t.onTimeoutError(e);if(dt(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this._availableRetries={INIT_WATCH:Ct,REBUILD_WATCH:Ct,CHECK_LAST:Rt},this.listener=new mt({close:this.closeWatch,onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}var t,r;return t=e,(r=[{key:"useRetryTicket",value:function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this._availableRetries[e]," retry left")),!0)}},{key:"handleServerEvents",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.scheduleSendACK(),t.next=4,regeneratorRuntime.awrap(this._handleServerEvents(e));case 4:this._postHandleServerEventsValidityCheck(e),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",t.t0),t.t0;case 11:case"end":return t.stop()}},null,this,[[0,7]])}},{key:"_handleServerEvents",value:function(e){var t,r,n,o,i,a,s,u,c,f,l,p=this;return regeneratorRuntime.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(t=e.requestId,r=e.msgData.events,n=e.msgType,r.length&&this.sessionInfo){_.next=5;break}return _.abrupt("return");case 5:o=this.sessionInfo,_.prev=6,i=r.map(xt),_.next=14;break;case 10:return _.prev=10,_.t0=_.catch(6),this.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:_.t0})),_.abrupt("return");case 14:a=St(o.currentDocs),s=!1,u=function(r,u){var c,f,l,_,d,h,m,y,v,g,b,E,A,O,I,T,S,N;return regeneratorRuntime.async(function(w){for(;;)switch(w.prev=w.next){case 0:if(c=i[r],!(o.currentEventId>=c.id)){w.next=6;break}return!i[r-1]||c.id>i[r-1].id?console.warn("[realtime] duplicate event received, cur ".concat(o.currentEventId," but got ").concat(c.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(t,")")),w.abrupt("return","continue");case 6:if(o.currentEventId!==c.id-1){w.next=72;break}w.t0=c.dataType,w.next="update"===w.t0?10:"replace"===w.t0?48:"remove"===w.t0?53:56;break;case 10:if(c.doc){w.next=47;break}w.t1=c.queueType,w.next="update"===w.t1?14:"dequeue"===w.t1?14:"enqueue"===w.t1?43:46;break;case 14:if(!(f=a.find(function(e){return e._id===c.docId}))){w.next=41;break}if(l=Qe()(f),c.updatedFields)for(_ in c.updatedFields)ze()(l,_,c.updatedFields[_]);if(!c.removedFields){w.next=38;break}for(d=!0,h=!1,m=void 0,w.prev=22,y=c.removedFields[Symbol.iterator]();!(d=(v=y.next()).done);d=!0)g=v.value,Ye()(l,g);w.next=30;break;case 26:w.prev=26,w.t2=w.catch(22),h=!0,m=w.t2;case 30:w.prev=30,w.prev=31,d||null==y.return||y.return();case 33:if(w.prev=33,!h){w.next=36;break}throw m;case 36:return w.finish(33);case 37:return w.finish(30);case 38:c.doc=l,w.next=42;break;case 41:console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");case 42:return w.abrupt("break",47);case 43:throw b=new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),p.closeWithError(b),b;case 46:return w.abrupt("break",47);case 47:return w.abrupt("break",56);case 48:if(c.doc){w.next=52;break}throw E=new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")}),p.closeWithError(E),E;case 52:return w.abrupt("break",56);case 53:return(A=a.find(function(e){return e._id===c.docId}))?c.doc=A:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),w.abrupt("break",56);case 56:w.t3=c.queueType,w.next="init"===w.t3?59:"enqueue"===w.t3?61:"dequeue"===w.t3?63:"update"===w.t3?66:69;break;case 59:return s?a.push(c.doc):(s=!0,a=[c.doc]),w.abrupt("break",69);case 61:return a.push(c.doc),w.abrupt("break",69);case 63:return(O=a.findIndex(function(e){return e._id===c.docId}))>-1?a.splice(O,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),w.abrupt("break",69);case 66:return(I=a.findIndex(function(e){return e._id===c.docId}))>-1?a[I]=c.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),w.abrupt("break",69);case 69:(r===u-1||i[r+1]&&i[r+1].id!==c.id)&&(T=St(a),S=i.slice(0,r+1).filter(function(e){return e.id===c.id}),p.sessionInfo.currentEventId=c.id,p.sessionInfo.currentDocs=a,N=new yt({id:c.id,docChanges:S,docs:T,msgType:n}),p.listener.onChange(N)),w.next=76;break;case 72:return console.warn("[realtime listener] event received is out of order, cur ".concat(p.sessionInfo.currentEventId," but got ").concat(c.id)),w.next=75,regeneratorRuntime.awrap(p.rebuildWatch());case 75:return w.abrupt("return",{v:void 0});case 76:case"end":return w.stop()}},null,null,[[22,26,30,38],[31,,33,37]])},c=0,f=i.length;case 18:if(!(c<f)){_.next=31;break}return _.next=21,regeneratorRuntime.awrap(u(c,f));case 21:l=_.sent,_.t1=l,_.next="continue"===_.t1?25:26;break;case 25:return _.abrupt("continue",28);case 26:if("object"!==Tt(l)){_.next=28;break}return _.abrupt("return",l.v);case 28:c++,_.next=18;break;case 31:case"end":return _.stop()}},null,this,[[6,10]])}},{key:"_postHandleServerEventsValidityCheck",value:function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")}},{key:"clearWaitExpectedEvent",value:function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}},{key:"onMessage",value:function(e){var t=this;switch(this.watchStatus){case At.PAUSED:if("ERROR"!==e.msgType)return;break;case At.LOGGINGIN:case At.INITING:case At.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));case At.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case At.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout(function(){t.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break;case"ERROR":this.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e)}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}},{key:"closeWithError",value:function(e){this.watchStatus=At.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"pause",value:function(){this.watchStatus=At.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"resume",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.watchStatus=At.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.prev=2,e.next=5,regeneratorRuntime.awrap(this.sessionInfo?this.rebuildWatch():this.initWatch());case 5:console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e.t0);case 11:case"end":return e.stop()}},null,this,[[2,8]])}}])&&Nt(t.prototype,r),e}();function xt(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var Lt,Bt={1000:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3000:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};!function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.NoAuthentication=3050]="NoAuthentication"}(Lt||(Lt={}));var kt=function(e,t){var r=Bt[e],n=r?"".concat(r.name,", code ").concat(e,", reason ").concat(t||r.description):"code ".concat(e);return new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:n})};function Ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Gt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Vt=3,Ht=5e3,qt=1e4,Wt=5,Xt=1e4,$t=5e3,zt=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.initWebSocketConnection=function(e){var t,n,o=arguments;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.length>1&&void 0!==o[1]?o[1]:r._maxReconnect,!e||!r._reconnectState){i.next=3;break}return i.abrupt("return");case 3:if(e&&(r._reconnectState=!0),!r._wsInitPromise){i.next=6;break}return i.abrupt("return",r._wsInitPromise);case 6:return console.log("[realtime] initWebSocketConnection reconnect ".concat(e," availableRetries ").concat(t)),e&&r.pauseClients(),r.close(Lt.ReconnectWebSocket),r._wsInitPromise=new Promise(function(n,o){return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,console.log("[realtime] initWebSocketConnection start throwErrorIfNetworkOffline"),console.log("[realtime] initWebSocketConnection start getSignature"),i.next=5,regeneratorRuntime.awrap(r.getAccessToken());case 5:return console.log("[realtime] initWebSocketConnection getSignature success"),console.log("[realtime] initWebSocketConnection start connectSocket"),i.next=9,regeneratorRuntime.awrap(new Promise(function(e){r._ws=new WebSocket("wss://tcb-ws.tencentcloudapi.com"),e()}));case 9:return console.log("[realtime] initWebSocketConnection connectSocket successfully fired"),i.next=12,regeneratorRuntime.awrap(r.initWebSocketEvent());case 12:n(),e&&(r.resumeClients(),r._reconnectState=!1),i.next=34;break;case 16:if(i.prev=16,i.t0=i.catch(0),console.error("[realtime] initWebSocketConnection connect fail",i.t0),!(t>0)){i.next=32;break}return console.log("[realtime] initWebSocketConnection waiting for network online"),console.log("[realtime] initWebSocketConnection network online"),r._wsInitPromise=void 0,console.log("[realtime] initWebSocketConnection sleep ".concat(r._reconnectInterval,"ms")),i.next=28,regeneratorRuntime.awrap(ht(r._reconnectInterval));case 28:e&&(r._reconnectState=!1);case 29:n(r.initWebSocketConnection(e,t-1)),i.next=34;break;case 32:o(i.t0),e&&r.closeAllClients(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:i.t0}));case 34:case"end":return i.stop()}},null,null,[[0,16]])}),n=!1,i.prev=11,i.next=14,regeneratorRuntime.awrap(r._wsInitPromise);case 14:n=!0,r._wsReadySubsribers.forEach(function(e){return(0,e.resolve)()}),i.next=21;break;case 18:i.prev=18,i.t0=i.catch(11),r._wsReadySubsribers.forEach(function(e){return(0,e.reject)()});case 21:return i.prev=21,r._wsInitPromise=void 0,r._wsReadySubsribers=[],i.finish(21);case 25:console.log("[realtime] initWebSocketConnection ".concat(n?"success":"fail"));case 26:case"end":return i.stop()}},null,null,[[11,18,21,25]])},this.initWebSocketEvent=function(){return new Promise(function(e,t){if(!r._ws)throw new Error("can not initWebSocketEvent, ws not exists");var n=!1;r._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),n=!0,e()},r._ws.onerror=function(e){r._logins=new Map,n?(console.error("[realtime] ws event: error",e),r.clearHeartbeat(),r._virtualWSClient.forEach(function(t){return t.closeWithError(new ft({errCode:et.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))})):(console.error("[realtime] ws open failed with ws event: error",e),t(e))},r._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),r._logins=new Map,r.clearHeartbeat(),e.code){case Lt.ReconnectWebSocket:case Lt.NoRealtimeListeners:break;case Lt.HeartbeatPingError:case Lt.HeartbeatPongTimeoutError:case Lt.NormalClosure:case Lt.AbnormalClosure:r._maxReconnect>0?r.initWebSocketConnection(!0,r._maxReconnect):r.closeAllClients(kt(e.code));break;case Lt.NoAuthentication:r.closeAllClients(kt(e.code,e.reason));break;default:r._maxReconnect>0?r.initWebSocketConnection(!0,r._maxReconnect):r.closeAllClients(kt(e.code))}},r._ws.onmessage=function(e){var t,n=e.data;r.heartbeat();try{t=JSON.parse(n)}catch(e){throw new Error("[realtime] onMessage parse res.data error: ".concat(e))}if(console.log("[realtime] onMessage ".concat(t.msgType," (").concat((new Date).toLocaleString(),")"),t),"ERROR"===t.msgType){var o=null;r._virtualWSClient.forEach(function(e){e.watchId===t.watchId&&(o=e)}),o&&o.listener.onError(t)}var i=r._wsResponseWait.get(t.requestId);if(i){try{"ERROR"===t.msgType?i.reject(new Ot(t)):i.resolve(t)}catch(e){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{r._wsResponseWait.delete(t.requestId)}if(i.skipOnMessage)return}if("PONG"!==t.msgType){var a=t.watchId&&r._watchIdClientMap.get(t.watchId);if(a)a.onMessage(t);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(t.watchId,": "),t),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(a=r._queryIdClientMap.get(t.msgData.queryID))&&a.onMessage(t);break;default:var s=!0,u=!1,c=void 0;try{for(var f,l=r._watchIdClientMap[Symbol.iterator]();!(s=(f=l.next()).done);s=!0){var p=Ft(f.value,2),_=p[0],d=p[1];console.log("watchid*****",_),d.onMessage(t);break}}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}}}else if(r._lastPingSendTS){var h=Date.now()-r._lastPingSendTS;if(h>qt)return void console.warn("[realtime] untrusted rtt observed: ".concat(h));r._rttObserved.length>=Vt&&r._rttObserved.splice(0,r._rttObserved.length-Vt+1),r._rttObserved.push(h)}},r.heartbeat()})},this.isWSConnected=function(){return Boolean(r._ws&&r._ws.readyState===Gt.OPEN)},this.onceWSConnected=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.isWSConnected()){e.next=2;break}return e.abrupt("return");case 2:if(!r._wsInitPromise){e.next=4;break}return e.abrupt("return",r._wsInitPromise);case 4:return e.abrupt("return",new Promise(function(e,t){r._wsReadySubsribers.push({resolve:e,reject:t})}));case 5:case"end":return e.stop()}})},this.webLogin=function(e,t){var n,o,i,a,s,u,c;return regeneratorRuntime.async(function(f){for(;;)switch(f.prev=f.next){case 0:if(t){f.next=16;break}if(!e){f.next=13;break}if(!(n=r._logins.get(e))){f.next=11;break}if(!n.loggedIn||!n.loginResult){f.next=9;break}return console.log("[realtime] login: already logged in"),f.abrupt("return",n.loginResult);case 9:if(!n.loggingInPromise){f.next=11;break}return f.abrupt("return",n.loggingInPromise);case 11:f.next=16;break;case 13:if(!(o=r._logins.get(""))||!o.loggingInPromise){f.next=16;break}return f.abrupt("return",o.loggingInPromise);case 16:return console.log("[realtime] login: logging in"),i=new Promise(function(e,t){var n,o,i;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(r.getAccessToken());case 3:return n=a.sent,o={watchId:void 0,requestId:Ze(),msgType:"LOGIN",msgData:{envId:n.env||"",accessToken:n.accessToken,referrer:"web",sdkVersion:"",dataVersion:""}},a.next=7,regeneratorRuntime.awrap(r.send({msg:o,waitResponse:!0,skipOnMessage:!0,timeout:$t}));case 7:(i=a.sent).msgData.code?t(new Error("".concat(i.msgData.code," ").concat(i.msgData.message))):e({envId:n.env}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),t(a.t0);case 14:case"end":return a.stop()}},null,null,[[0,11]])}),a=e&&r._logins.get(e),s=Date.now(),a?(a.loggedIn=!1,a.loggingInPromise=i,a.loginStartTS=s):(a={loggedIn:!1,loggingInPromise:i,loginStartTS:s},r._logins.set(e||"",a)),f.prev=21,f.next=24,regeneratorRuntime.awrap(i);case 24:if(u=f.sent,!(c=e&&r._logins.get(e))||c!==a||c.loginStartTS!==s){f.next=34;break}return a.loggedIn=!0,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=u,f.abrupt("return",u);case 34:if(!c){f.next=46;break}if(!c.loggedIn||!c.loginResult){f.next=39;break}return f.abrupt("return",c.loginResult);case 39:if(!c.loggingInPromise){f.next=43;break}return f.abrupt("return",c.loggingInPromise);case 43:throw new Error("ws unexpected login info");case 44:f.next=47;break;case 46:throw new Error("ws login info reset");case 47:f.next=56;break;case 49:throw f.prev=49,f.t0=f.catch(21),a.loggedIn=!1,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=void 0,f.t0;case 56:case"end":return f.stop()}},null,null,[[21,49]])},this.getAccessToken=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r._context.appConfig.getAccessToken());case 1:case"end":return e.stop()}})},this.getWaitExpectedTimeoutLength=function(){return r._rttObserved.length?r._rttObserved.reduce(function(e,t){return e+t})/r._rttObserved.length*1.5:Ht},this.ping=function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e={watchId:void 0,requestId:Ze(),msgType:"PING",msgData:null},t.next=3,regeneratorRuntime.awrap(r.send({msg:e}));case 3:console.log("ping sent");case 4:case"end":return t.stop()}})},this.send=function(e){return new Promise(function(t,n){var o,i,a,s,u;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(i=!1,a=!1,s=function(e){i=!0,o&&clearTimeout(o),t(e)},u=function(e){a=!0,o&&clearTimeout(o),n(e)},e.timeout&&(o=setTimeout(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&a){e.next=4;break}return e.next=3,regeneratorRuntime.awrap(ht(0));case 3:i&&a||u(new lt("wsclient.send timedout"));case 4:case"end":return e.stop()}})},e.timeout)),c.prev=5,console.log("[realtime] ws send ".concat(e.msg.msgType," (").concat((new Date).toLocaleString(),"): "),e),!r._wsInitPromise){c.next=10;break}return c.next=10,regeneratorRuntime.awrap(r._wsInitPromise);case 10:if(r._ws){c.next=13;break}return u(new Error("invalid state: ws connection not exists, can not send message")),c.abrupt("return");case 13:if(r._ws.readyState===Gt.OPEN){c.next=16;break}return u(new Error("ws readyState invalid: ".concat(r._ws.readyState,", can not send message"))),c.abrupt("return");case 16:e.waitResponse&&r._wsResponseWait.set(e.msg.requestId,{resolve:s,reject:u,skipOnMessage:e.skipOnMessage}),console.log("send msg:",e.msg);try{r._ws.send(JSON.stringify(e.msg)),e.waitResponse||s()}catch(t){t&&(u(t),e.waitResponse&&r._wsResponseWait.delete(e.msg.requestId))}c.next=24;break;case 21:c.prev=21,c.t0=c.catch(5),u(c.t0);case 24:case"end":return c.stop()}},null,null,[[5,21]])})},this.closeAllClients=function(e){r._virtualWSClient.forEach(function(t){t.closeWithError(e)})},this.pauseClients=function(e){(e||r._virtualWSClient).forEach(function(e){e.pause()})},this.resumeClients=function(e){(e||r._virtualWSClient).forEach(function(e){e.resume()})},this.onWatchStart=function(e,t){r._queryIdClientMap.set(t,e)},this.onWatchClose=function(e,t){t&&r._queryIdClientMap.delete(t),r._watchIdClientMap.delete(e.watchId),r._virtualWSClient.delete(e),r._virtualWSClient.size||r.close(Lt.NoRealtimeListeners)},this._maxReconnect=t.maxReconnect||Wt,this._reconnectInterval=t.reconnectInterval||Xt,this._context=t.context}var t,r;return t=e,(r=[{key:"heartbeat",value:function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._ws&&t._ws.readyState===Gt.OPEN){e.next=3;break}return e.abrupt("return");case 3:return t._lastPingSendTS=Date.now(),e.next=6,regeneratorRuntime.awrap(t.ping());case 6:t._pingFailed=0,t._pongTimeoutId=setTimeout(function(){console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.initWebSocketConnection(!0)},t._context.appConfig.realtimePongWaitTimeout),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(Lt.HeartbeatPingError);case 13:case"end":return e.stop()}},null,null,[[0,10]])},e?0:this._context.appConfig.realtimePingInterval)}},{key:"clearHeartbeat",value:function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}},{key:"close",value:function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,Bt[e].name),this._ws=void 0)}},{key:"watch",value:function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new Dt(Object.assign(Object.assign({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener}}])&&Ut(t.prototype,r),e}();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function Yt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Kt=function(){function e(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return Rr.ws||(Rr.ws=new zt({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,getAccessToken:o._getAccessToken}}})),Rr.ws.watch(Object.assign(Object.assign({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=t,this._coll=r,this.id=n,this.request=new Rr.reqClass(this._db.config),this.projection=i,this._getAccessToken=Rr.getAccessToken}var t,r;return t=e,(r=[{key:"create",value:function(e,t){t=t||me();var r={collectionName:this._coll,data:Fe(e)};return this.id&&(r._id=this.id),this.request.send("database.addDocument",r).then(function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"set",value:function(e,t){if(t=t||me(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==Jt(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var r=!1;if(function e(t){if("object"===Jt(t))for(var n in t)t[n]instanceof ge?r=!0:"object"===Jt(t[n])&&e(t[n])}(e),r)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var n={collectionName:this._coll,data:Fe(e),multi:!1,merge:!1,upsert:!0};return this.id&&(n.query={_id:this.id}),this.request.send("database.updateDocument",n).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"update",value:function(e,t){if(t=t||me(),!e||"object"!==Jt(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var r={_id:this.id},n={collectionName:this._coll,data:Xe.encode(e),query:r,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",n).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"remove",value:function(e){e=e||me();var t={_id:this.id},r={collectionName:this._coll,query:t,multi:!1};return this.request.send("database.deleteDocument",r).then(function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})}).catch(function(t){e(t)}),e.promise}},{key:"get",value:function(e){e=e||me();var t={_id:this.id},r={collectionName:this._coll,query:t,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",r).then(function(t){if(t.code)e(0,t);else{var r=fe.formatResDocumentData(t.data.list);e(0,{data:r,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}}).catch(function(t){e(t)}),e.promise}},{key:"field",value:function(t){for(var r in t)t[r]?t[r]=1:t[r]=0;return new e(this._db,this._coll,this.id,t)}}])&&Yt(t.prototype,r),e}();function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function er(e,t,r){return t&&Zt(e.prototype,t),r&&Zt(e,r),e}var tr=function(){function e(){Qt(this,e)}return er(e,null,[{key:"encode",value:function(e){return(new rr).encodeQuery(e)}}]),e}(),rr=function(){function e(){Qt(this,e)}return er(e,[{key:"encodeQuery",value:function(e,t){return He(e)?Ie(e)?this.encodeLogicCommand(e):Re(e)?this.encodeQueryCommand(e):{[t]:this.encodeQueryObject(e)}:F(e)?this.encodeQueryObject(e):e}},{key:"encodeRegExp",value:function(e){return{$regex:e.source,$options:e.flags}}},{key:"encodeLogicCommand",value:function(e){var t=this;switch(e.operator){case ve.NOR:case ve.AND:case ve.OR:return{[Be(e.operator)]:e.operands.map(function(r){return t.encodeQuery(r,e.fieldName)})};case ve.NOT:var r=Be(e.operator),n=e.operands[0];if(H(n))return{[e.fieldName]:{[r]:this.encodeRegExp(n)}};var o=this.encodeQuery(n)[e.fieldName];return{[e.fieldName]:{[r]:o}};default:var i=Be(e.operator);return 1===e.operands.length?{[i]:this.encodeQuery(e.operands[0])}:{[i]:e.operands.map(this.encodeQuery.bind(this))}}}},{key:"encodeQueryCommand",value:function(e){return Me(e),this.encodeComparisonCommand(e)}},{key:"encodeComparisonCommand",value:function(e){if(e.fieldName===S)throw new Error("Cannot encode a comparison command with unset field name");var t=Be(e.operator);switch(e.operator){case Ae.EQ:case Ae.NEQ:case Ae.LT:case Ae.LTE:case Ae.GT:case Ae.GTE:case Ae.ELEM_MATCH:case Ae.EXISTS:case Ae.SIZE:case Ae.MOD:return{[e.fieldName]:{[t]:qe(e.operands[0])}};case Ae.IN:case Ae.NIN:case Ae.ALL:return{[e.fieldName]:{[t]:qe(e.operands)}};case Ae.GEO_NEAR:var r=e.operands[0];return{[e.fieldName]:{$nearSphere:{$geometry:r.geometry.toJSON(),$maxDistance:r.maxDistance,$minDistance:r.minDistance}}};case Ae.GEO_WITHIN:var n=e.operands[0];return{[e.fieldName]:{$geoWithin:{$geometry:n.geometry.toJSON()}}};case Ae.GEO_INTERSECTS:var o=e.operands[0];return{[e.fieldName]:{$geoIntersects:{$geometry:o.geometry.toJSON()}}};default:return{[e.fieldName]:{[t]:qe(e.operands[0])}}}}},{key:"encodeQueryObject",value:function(e){var t=Ge(e);for(var r in t){var n=t[r];if(Ie(n)){t[r]=n._setFieldName(r);var o=this.encodeLogicCommand(t[r]);this.mergeConditionAfterEncode(t,o,r)}else if(Me(n)){t[r]=n._setFieldName(r);var i=this.encodeComparisonCommand(t[r]);this.mergeConditionAfterEncode(t,i,r)}else He(n)&&(t[r]=qe(n))}return t}},{key:"mergeConditionAfterEncode",value:function(e,t,r){for(var n in t[r]||delete e[r],t)e[n]?G(e[n])?e[n]=e[n].concat(t[n]):F(e[n])?F(t[n])?Object.assign(e,t):(console.warn("unmergable condition, query is object but condition is ".concat(k(t),", can only overwrite"),t,r),e[n]=t[n]):(console.warn("to-merge query is of type ".concat(k(e),", can only overwrite"),e,t,r),e[n]=t[n]):e[n]=t[n]}}]),e}();function nr(e){return(nr="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function or(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ir=function(){function e(t,r,n,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return Rr.ws||(Rr.ws=new zt({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,getAccessToken:a._getAccessToken}}})),Rr.ws.watch(Object.assign(Object.assign({},e),{envId:a._db.config.env,collectionName:a._coll,query:JSON.stringify(a._fieldFilters)}))},this._db=t,this._coll=r,this._fieldFilters=n,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new Rr.reqClass(this._db.config),this._getAccessToken=Rr.getAccessToken}var t,r;return t=e,(r=[{key:"get",value:function(e){e=e||me();var t=[];this._fieldOrders&&this._fieldOrders.forEach(function(e){t.push(e)});var r={collectionName:this._coll};return this._fieldFilters&&(r.query=this._fieldFilters),t.length>0&&(r.order=t),this._queryOptions.offset&&(r.offset=this._queryOptions.offset),this._queryOptions.limit?r.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:r.limit=100,this._queryOptions.projection&&(r.projection=this._queryOptions.projection),this._request.send("database.queryDocument",r).then(function(t){if(t.code)e(0,t);else{var r={data:fe.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(r.total=t.TotalCount),t.Limit&&(r.limit=t.Limit),t.Offset&&(r.offset=t.Offset),e(0,r)}}).catch(function(t){e(t)}),e.promise}},{key:"count",value:function(e){e=e||me();var t={collectionName:this._coll};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})}),e.promise}},{key:"where",value:function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(n.QueryParamTypeError);var r=Object.keys(t),o=r.some(function(e){return void 0!==t[e]});if(r.length&&!o)throw Error(n.QueryParamValueError);return new e(this._db,this._coll,tr.encode(t),this._fieldOrders,this._queryOptions)}},{key:"orderBy",value:function(t,r){pe.isFieldPath(t),pe.isFieldOrder(r);var n={field:t,direction:r},o=this._fieldOrders.concat(n);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)}},{key:"limit",value:function(t){pe.isInteger("limit",t);var r=Object.assign({},this._queryOptions);return r.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)}},{key:"skip",value:function(t){pe.isInteger("offset",t);var r=Object.assign({},this._queryOptions);return r.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)}},{key:"update",value:function(e,t){if(t=t||me(),!e||"object"!==nr(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var r={collectionName:this._coll,query:this._fieldFilters,multi:!0,merge:!0,upsert:!1,data:Xe.encode(e)};return this._request.send("database.updateDocument",r).then(function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})}),t.promise}},{key:"field",value:function(t){for(var r in t)t[r]?"object"!==nr(t[r])&&(t[r]=1):t[r]=0;var n=Object.assign({},this._queryOptions);return n.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"remove",value:function(e){e=e||me(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:tr.encode(this._fieldFilters),multi:!0};return this._request.send("database.deleteDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})}),e.promise}}])&&or(t.prototype,r),e}(),ar=r(1);function sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ur=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stages=[],t&&r&&(this._db=t,this._request=new Rr.reqClass(this._db.config),this._collectionName=r)}var t,r;return t=e,(r=[{key:"end",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._collectionName&&this._db){t.next=2;break}throw new Error("Aggregation pipeline cannot send request");case 2:return t.next=4,regeneratorRuntime.awrap(this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages}));case 4:if(!((e=t.sent)&&e.data&&e.data.list)){t.next=7;break}return t.abrupt("return",{requestId:e.requestId,data:JSON.parse(e.data.list).map(ar.a.parse)});case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},null,this)}},{key:"unwrap",value:function(){return this._stages}},{key:"done",value:function(){return this._stages.map(function(e){var t=e.stageKey,r=e.stageValue;return{[t]:JSON.parse(r)}})}},{key:"_pipe",value:function(e,t){return this._stages.push({stageKey:"$".concat(e),stageValue:JSON.stringify(t)}),this}},{key:"addFields",value:function(e){return this._pipe("addFields",e)}},{key:"bucket",value:function(e){return this._pipe("bucket",e)}},{key:"bucketAuto",value:function(e){return this._pipe("bucketAuto",e)}},{key:"count",value:function(e){return this._pipe("count",e)}},{key:"geoNear",value:function(e){return this._pipe("geoNear",e)}},{key:"group",value:function(e){return this._pipe("group",e)}},{key:"limit",value:function(e){return this._pipe("limit",e)}},{key:"match",value:function(e){return this._pipe("match",tr.encode(e))}},{key:"project",value:function(e){return this._pipe("project",e)}},{key:"lookup",value:function(e){return this._pipe("lookup",e)}},{key:"replaceRoot",value:function(e){return this._pipe("replaceRoot",e)}},{key:"sample",value:function(e){return this._pipe("sample",e)}},{key:"skip",value:function(e){return this._pipe("skip",e)}},{key:"sort",value:function(e){return this._pipe("sort",e)}},{key:"sortByCount",value:function(e){return this._pipe("sortByCount",e)}},{key:"unwind",value:function(e){return this._pipe("unwind",e)}}])&&sr(t.prototype,r),e}();function cr(e){return(cr="function"==typeof Symbol&&"symbol"==_typeof3(Symbol.iterator)?function(e){return _typeof3(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof3(e)})(e)}function fr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lr(e){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _r=function(e){function t(e,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,lr(t).call(this,e,r))}var r,n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,ir),r=t,(n=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new Kt(this._db,this._coll,e)}},{key:"add",value:function(e,t){return new Kt(this._db,this._coll,void 0).create(e,t)}},{key:"aggregate",value:function(){return new ur(this._db,this._coll)}},{key:"name",get:function(){return this._coll}}])&&fr(r.prototype,n),t}();function dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var hr={eq:function(e){return new Ce(Ae.EQ,[e])},neq:function(e){return new Ce(Ae.NEQ,[e])},lt:function(e){return new Ce(Ae.LT,[e])},lte:function(e){return new Ce(Ae.LTE,[e])},gt:function(e){return new Ce(Ae.GT,[e])},gte:function(e){return new Ce(Ae.GTE,[e])},in:function(e){return new Ce(Ae.IN,e)},nin:function(e){return new Ce(Ae.NIN,e)},all:function(e){return new Ce(Ae.ALL,e)},elemMatch:function(e){return new Ce(Ae.ELEM_MATCH,[e])},exists:function(e){return new Ce(Ae.EXISTS,[e])},size:function(e){return new Ce(Ae.SIZE,[e])},mod:function(e){return new Ce(Ae.MOD,[e])},geoNear:function(e){return new Ce(Ae.GEO_NEAR,[e])},geoWithin:function(e){return new Ce(Ae.GEO_WITHIN,[e])},geoIntersects:function(e){return new Ce(Ae.GEO_INTERSECTS,[e])},and:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=G(arguments[0])?arguments[0]:Array.from(arguments);return new Oe(ve.AND,n)},nor:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=G(arguments[0])?arguments[0]:Array.from(arguments);return new Oe(ve.NOR,n)},or:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=G(arguments[0])?arguments[0]:Array.from(arguments);return new Oe(ve.OR,n)},not:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=G(arguments[0])?arguments[0]:Array.from(arguments);return new Oe(ve.NOT,n)},set:function(e){return new ge(de.SET,[e])},remove:function(){return new ge(de.REMOVE,[])},inc:function(e){return new ge(de.INC,[e])},mul:function(e){return new ge(de.MUL,[e])},push:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(F(r[0])&&r[0].hasOwnProperty("each")){var o=r[0];e={$each:o.each,$position:o.position,$sort:o.sort,$slice:o.slice}}else e=G(r[0])?r[0]:Array.from(r);return new ge(de.PUSH,e)},pull:function(e){return new ge(de.PULL,e)},pullAll:function(e){return new ge(de.PULL_ALL,e)},pop:function(){return new ge(de.POP,[])},shift:function(){return new ge(de.SHIFT,[])},unshift:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=G(arguments[0])?arguments[0]:Array.from(arguments);return new ge(de.UNSHIFT,n)},addToSet:function(e){return new ge(de.ADD_TO_SET,e)},rename:function(e){return new ge(de.RENAME,[e])},bit:function(e){return new ge(de.BIT,[e])},max:function(e){return new ge(de.MAX,[e])},min:function(e){return new ge(de.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return function(e){return"string"===k(e)}(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new ur},abs:function(e){return new mr("abs",e)},add:function(e){return new mr("add",e)},ceil:function(e){return new mr("ceil",e)},divide:function(e){return new mr("divide",e)},exp:function(e){return new mr("exp",e)},floor:function(e){return new mr("floor",e)},ln:function(e){return new mr("ln",e)},log:function(e){return new mr("log",e)},log10:function(e){return new mr("log10",e)},mod:function(e){return new mr("mod",e)},multiply:function(e){return new mr("multiply",e)},pow:function(e){return new mr("pow",e)},sqrt:function(e){return new mr("sqrt",e)},subtract:function(e){return new mr("subtract",e)},trunc:function(e){return new mr("trunc",e)},arrayElemAt:function(e){return new mr("arrayElemAt",e)},arrayToObject:function(e){return new mr("arrayToObject",e)},concatArrays:function(e){return new mr("concatArrays",e)},filter:function(e){return new mr("filter",e)},in:function(e){return new mr("in",e)},indexOfArray:function(e){return new mr("indexOfArray",e)},isArray:function(e){return new mr("isArray",e)},map:function(e){return new mr("map",e)},range:function(e){return new mr("range",e)},reduce:function(e){return new mr("reduce",e)},reverseArray:function(e){return new mr("reverseArray",e)},size:function(e){return new mr("size",e)},slice:function(e){return new mr("slice",e)},zip:function(e){return new mr("zip",e)},and:function(e){return new mr("and",e)},not:function(e){return new mr("not",e)},or:function(e){return new mr("or",e)},cmp:function(e){return new mr("cmp",e)},eq:function(e){return new mr("eq",e)},gt:function(e){return new mr("gt",e)},gte:function(e){return new mr("gte",e)},lt:function(e){return new mr("lt",e)},lte:function(e){return new mr("lte",e)},neq:function(e){return new mr("ne",e)},cond:function(e){return new mr("cond",e)},ifNull:function(e){return new mr("ifNull",e)},switch:function(e){return new mr("switch",e)},dateFromParts:function(e){return new mr("dateFromParts",e)},dateFromString:function(e){return new mr("dateFromString",e)},dayOfMonth:function(e){return new mr("dayOfMonth",e)},dayOfWeek:function(e){return new mr("dayOfWeek",e)},dayOfYear:function(e){return new mr("dayOfYear",e)},isoDayOfWeek:function(e){return new mr("isoDayOfWeek",e)},isoWeek:function(e){return new mr("isoWeek",e)},isoWeekYear:function(e){return new mr("isoWeekYear",e)},millisecond:function(e){return new mr("millisecond",e)},minute:function(e){return new mr("minute",e)},month:function(e){return new mr("month",e)},second:function(e){return new mr("second",e)},hour:function(e){return new mr("hour",e)},week:function(e){return new mr("week",e)},year:function(e){return new mr("year",e)},literal:function(e){return new mr("literal",e)},mergeObjects:function(e){return new mr("mergeObjects",e)},objectToArray:function(e){return new mr("objectToArray",e)},allElementsTrue:function(e){return new mr("allElementsTrue",e)},anyElementTrue:function(e){return new mr("anyElementTrue",e)},setDifference:function(e){return new mr("setDifference",e)},setEquals:function(e){return new mr("setEquals",e)},setIntersection:function(e){return new mr("setIntersection",e)},setIsSubset:function(e){return new mr("setIsSubset",e)},setUnion:function(e){return new mr("setUnion",e)},concat:function(e){return new mr("concat",e)},dateToString:function(e){return new mr("dateToString",e)},indexOfBytes:function(e){return new mr("indexOfBytes",e)},indexOfCP:function(e){return new mr("indexOfCP",e)},split:function(e){return new mr("split",e)},strLenBytes:function(e){return new mr("strLenBytes",e)},strLenCP:function(e){return new mr("strLenCP",e)},strcasecmp:function(e){return new mr("strcasecmp",e)},substr:function(e){return new mr("substr",e)},substrBytes:function(e){return new mr("substrBytes",e)},substrCP:function(e){return new mr("substrCP",e)},toLower:function(e){return new mr("toLower",e)},toUpper:function(e){return new mr("toUpper",e)},meta:function(e){return new mr("meta",e)},addToSet:function(e){return new mr("addToSet",e)},avg:function(e){return new mr("avg",e)},first:function(e){return new mr("first",e)},last:function(e){return new mr("last",e)},max:function(e){return new mr("max",e)},min:function(e){return new mr("min",e)},push:function(e){return new mr("push",e)},stdDevPop:function(e){return new mr("stdDevPop",e)},stdDevSamp:function(e){return new mr("stdDevSamp",e)},sum:function(e){return new mr("sum",e)},let:function(e){return new mr("let",e)}},project:{slice:function(e){return new yr("slice",e)},elemMatch:function(e){return new yr("elemMatch",e)}}},mr=function e(t,r){dr(this,e),this["$"+t]=r},yr=function e(t,r){dr(this,e),this["$"+t]=r};function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var gr=function(){function e(t){var r=t.regexp,n=t.options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw new TypeError("regexp must be a string");this.$regex=r,this.$options=n}var t,r;return t=e,(r=[{key:"parse",value:function(){return{$regex:this.$regex,$options:this.$options}}},{key:"_internalType",get:function(){return B}}])&&vr(t.prototype,r),e}();function br(e){return new gr(e)}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ar(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Or(e,t,r){return t&&Ar(e.prototype,t),r&&Ar(e,r),e}var Ir=function(){function e(t,r){Er(this,e),this._data=t,this.requestId=r}return Or(e,[{key:"data",value:function(){return this._data}}]),e}(),Tr="database.updateDocInTransaction",Sr=function(){function e(t){Er(this,e),this._db=t,this._request=new Rr.reqClass(this._db.config)}return Or(e,[{key:"init",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this._request.send("database.startTransaction"));case 2:if(!(e=t.sent).code){t.next=5;break}throw e;case 5:this._id=e.transactionId;case 6:case"end":return t.stop()}},null,this)}},{key:"get",value:function(e){var t,r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={collectionName:e._coll,transactionId:this._id,query:{_id:{$eq:e.id}}},n.next=3,regeneratorRuntime.awrap(this._request.send("database.getInTransaction",t));case 3:if(!(r=n.sent).code){n.next=6;break}throw r;case 6:return n.abrupt("return",new Ir(ar.a.parse(r.data),r.requestId));case 7:case"end":return n.stop()}},null,this)}},{key:"set",value:function(e,t){var r,n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r={collectionName:e._coll,transactionId:this._id,query:{_id:{$eq:e.id}},data:ar.a.stringify(t,{relaxed:!1}),upsert:!0},o.next=3,regeneratorRuntime.awrap(this._request.send(Tr,r));case 3:if(!(n=o.sent).code){o.next=6;break}throw n;case 6:return o.abrupt("return",Object.assign(Object.assign({},n),{updated:ar.a.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null}));case 7:case"end":return o.stop()}},null,this)}},{key:"update",value:function(e,t){var r,n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return r={collectionName:e._coll,transactionId:this._id,query:{_id:{$eq:e.id}},data:ar.a.stringify({$set:t},{relaxed:!1})},o.next=3,regeneratorRuntime.awrap(this._request.send(Tr,r));case 3:if(!(n=o.sent).code){o.next=6;break}throw n;case 6:return o.abrupt("return",Object.assign(Object.assign({},n),{updated:ar.a.parse(n.updated)}));case 7:case"end":return o.stop()}},null,this)}},{key:"delete",value:function(e){var t,r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return t={collectionName:e._coll,transactionId:this._id,query:{_id:{$eq:e.id}}},n.next=3,regeneratorRuntime.awrap(this._request.send("database.deleteDocInTransaction",t));case 3:if(!(r=n.sent).code){n.next=6;break}throw r;case 6:return n.abrupt("return",Object.assign(Object.assign({},r),{deleted:ar.a.parse(r.deleted)}));case 7:case"end":return n.stop()}},null,this)}},{key:"commit",value:function(){var e,t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e={transactionId:this._id},r.next=3,regeneratorRuntime.awrap(this._request.send("database.commitTransaction",e));case 3:if(!(t=r.sent).code){r.next=6;break}throw t;case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}},null,this)}},{key:"rollback",value:function(){var e,t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return e={transactionId:this._id},r.next=3,regeneratorRuntime.awrap(this._request.send("database.abortTransaction",e));case 3:if(!(t=r.sent).code){r.next=6;break}throw t;case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}},null,this)}}]),e}();function Nr(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new Sr(this),t.next=3,regeneratorRuntime.awrap(e.init());case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this)}function wr(e){var t,r,n=arguments;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(!((t=n.length>1&&void 0!==n[1]?n[1]:3)<=0)){o.next=3;break}throw new Error("Transaction failed");case 3:return o.prev=3,r=new Sr(this),o.next=7,regeneratorRuntime.awrap(r.init());case 7:return o.next=9,regeneratorRuntime.awrap(e(r));case 9:return o.next=11,regeneratorRuntime.awrap(r.commit());case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(3),console.log(o.t0),o.abrupt("return",wr.bind(this)(e,--t));case 17:case"end":return o.stop()}},null,this,[[3,13]])}function Cr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r.d(t,"Db",function(){return Rr}),r.d(t,"Query",function(){return ir}),r.d(t,"CollectionReference",function(){return _r}),r.d(t,"DocumentReference",function(){return Kt});var Rr=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.Geo=o,this.serverDate=ue,this.command=hr,this.RegExp=br,this.startTransaction=Nr,this.runTransaction=wr}var t,r;return t=e,(r=[{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new _r(this,e)}},{key:"createCollection",value:function(t){var r={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",r)}}])&&Cr(t.prototype,r),e}()}])},function(e,t,r){var n=r(0),o=r(6);n.normalAPIMutations({openUrl:{toNativeEventName:"openUrl",paramHandlers:function(e){var t,r=e[0]||{},n=r.url,o=void 0===n?"":n;return o?0!==o.indexOf("http")&&(t="url param should start with http"):t="url param is required",t?(r.fail&&r.fail({errMsg:"openUrl:fail ".concat(t)}),{isFail:!0}):r},invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}}},invokeNativePlugin:{toNativeEventName:"invokeNativePlugin"},onNativePluginEvent:{noNativeAPI:!0,handler:function(e,t){o.addEventListener("custom_event_".concat(e),t)}},offNativePluginEvent:{noNativeAPI:!0,handler:function(e,t){o.removeEventListener("custom_event_".concat(e),t)}}})},function(e,t,r){var n=r(1),o=r(0),i=r(6),a=(r(3),r(10)),s=__ttObjdec__;o.normalAPIMutations({shareAppMessage:{toNativeEventName:"shareAppMessageDirectly",paramHandlers:function(e,t){if(t&&e[0]){var r=e[0].shareAppType;if("qqFastShare"==r){if(!e[0].entryDataHash)throw new Error("shareAppMessage fail: entryDataHash error");e[0].shareTarget=2}else"qqFastShareList"==r?(e[0].shareTarget=6,s.privateApi&&s.privateApi.shareAppMessageToFriendList&&s.privateApi.shareAppMessageToFriendList(e[0])):"qq"==r?e[0].shareTarget=0:"qzone"==r?e[0].shareTarget=1:"wechatFriends"==r?e[0].shareTarget=3:"wechatMoment"==r&&(e[0].shareTarget=4)}return e[0]},invokeBefore:function(e,t,r,n){try{if("qqFastShareList"==JSON.parse(t).shareAppType)return!0}catch(e){}},invokeAfter:function(e,t,r,n){if(!r)return a._reportAPICall({apiname:"shareAppMessage"}),e}},shareAppMessageToFriendList:{toNativeEventName:"shareAppMessageDirectlyToFriendList",private:1,paramHandlers:function(e,t){return e[0]},invokeAfter:function(e,t,r,n){if(!r)return e&&e.errMsg&&(e.errMsg=e.errMsg.replace("shareAppMessageDirectlyToFriendList","shareAppMessage")),e}},shareAppPictureMessage:{toNativeEventName:"shareAppPictureMessageDirectly",invokeAfter:function(e,t,r,n){if(!r)return a._reportAPICall({apiname:"shareAppPictureMessage"}),e}},updateShareMenu:{toNativeEventName:"updateShareMenuShareTicket"},hideShareMenu:{toNativeEventName:"hideShareMenu"},getShareInfo:{toNativeEventName:"getShareInfo"},showShareMenu:{toNativeEventName:"showShareMenu",invokeAfter:function(e,t,r,n){if(!r)return a._reportAPICall({apiname:"showShareMenu"}),e}},addColorSign:{toNativeEventName:"addColorSignDirectly"},setMessageToFriendQuery:{toNativeEventName:"setMessageToFriendQuery",paramHandlers:function(e,t){if(o.parameterMustBe(e[0],"Object")&&o.parameterMustBe(e[0].shareMessageToFriendScene,"Number")){if(e[0].shareMessageToFriendScene<=50&&e[0].shareMessageToFriendScene>=0)return e[0];throw new Error("setMessageToFriendQuery:fail parameter error: shareMessageToFriendScene should be between 0 and 50")}throw new Error("setMessageToFriendQuery:fail parameter error: parameter should be Object and shareMessageToFriendScene should be Number;")}}}),o.bindAPIMutations({canIUse:{"1.0.0":{callback:["title","imageUrl","query","imageUrlId"]}},bindAPIName:"onShareAppMessage",offAPIName:"offShareAppMessage",staticCallback:function(e,t,r){if(void 0===r){console.warn("qq.onShareAppMessage not found");var n={};n.shareTarget=t.shareTarget,n.fromShareButton=t.fromShareButton,n.chatDataHash=t.chatDataHash,i.invokeHandler("shareAppMessage",n)}a._reportAPICall({apiname:"onShareAppMessage",param:t.fromShareButton?"button":"menu",param2:t.shareTarget})},triggerEventBefore:function(e,t,r){var o=r();if(a._reportAPICall({apiname:"userOnShareAppMessage"}),void 0===o&&(o={}),"object"!==n(o))throw new TypeError("onShareAppMessage callback should return an object");return o.shareTarget=t.shareTarget,o.fromShareButton=t.fromShareButton,o.chatDataHash=t.chatDataHash,o.shareType&&"picture"===o.shareType?i.invokeHandler("shareAppPictureMessage",o):i.invokeHandler("shareAppMessage",o),!0},toNativeEventName:"onShareAppMessage"}),o.bindAPIMutations({bindAPIName:"onShareMessageToFriend",triggerEventBefore:function(e,t){return!1},toNativeEventName:"onShareMessageToFriend"})},function(e,t,r){var n=r(5),o=n.normalAPIFactory([{_getUpdateManager:{toNativeEventName:"getUpdateManager"},_updateApp:{toNativeEventName:"updateApp"}}]),i=void 0,a=void 0,s=[],u=[],c=[],f={applyUpdate:function(){"success"===a?o._updateApp():console.error("update is not ready")},onCheckForUpdate:function(e){s.push(e),void 0!==i&&setTimeout(function(){"function"==typeof e&&e({hasUpdate:i})},0)},onUpdateReady:function(e){u.push(e),void 0!==a&&"success"===a&&setTimeout(function(){"function"==typeof e&&e()},0)},onUpdateFailed:function(e){c.push(e),void 0!==a&&"failed"===a&&setTimeout(function(){"function"==typeof e&&e()},0)}};n.bindEventAPIFactory([{bindAPIName:"_onUpdateDownloadResult",toNativeEventName:"onUpdateDownloadResult",staticCallback:function(e,t,r){"success"===(a=t.updateResult)?u.forEach(function(e){"function"==typeof e&&e()}):"failed"===a&&c.forEach(function(e){"function"==typeof e&&e()})}}]),n.bindEventAPIFactory([{bindAPIName:"_onUpdateCheckResult",toNativeEventName:"onUpdateCheckResult",staticCallback:function(e,t,r){i=t.hasUpdate,s.forEach(function(e){"function"==typeof e&&e({hasUpdate:i})})}}]),window.wx.getUpdateManager=function(){return o._getUpdateManager(),f}},function(e,t,r){var n=r(0);n.normalAPIMutations({updateKeyboard:{toNativeEventName:"updateKeyboard"},showKeyboard:{toNativeEventName:"showKeyboard"},hideKeyboard:{toNativeEventName:"hideKeyboard"}}),n.bindAPIMutations({bindAPIName:"onKeyboardInput",toNativeEventName:"onKeyboardInput",offAPIName:"offKeyboardInput"}),n.bindAPIMutations({bindAPIName:"onKeyboardConfirm",toNativeEventName:"onKeyboardConfirm",offAPIName:"offKeyboardConfirm"}),n.bindAPIMutations({bindAPIName:"onKeyboardComplete",toNativeEventName:"onKeyboardComplete",offAPIName:"offKeyboardComplete"})},function(e,t,r){var n=r(0),o=function(e,t,r){if(r.state==e){var n=t.videoAdPromiseCallBackMap.get(r.state);if(n&&n.length>0)for(var o=0;o<n.length;o++){var i=n[o];i&&(i(r),t.videoAdPromiseCallBackMap.delete(r.state))}return!1}return!0},i=Promise;function a(e,t){return new i(function(r,n){var o;(o=t.videoAdPromiseCallBackMap.has(e.type)?t.videoAdPromiseCallBackMap.get(e.type):[]).push(function(e){"ok"==e.status?r(e):n(e)}),t.videoAdPromiseCallBackMap.set(e.type,o)})}n.normalAPIMutations({createRewardedVideoAd:{toNativeEventName:"createRewardedVideoAd",createObj:{singleton:!0,createObjectBefore:function(e,t,r,n){(e=Object.assign(e,t)).videoAdPromiseCallBackMap=new Map},normalAPI:[{load:{toNativeEventName:"operateRewardedAd",paramHandlers:function(e,t){return{type:"load"}},invokeAfter:function(e,t,r,n){if(r)return a(t,n)}},show:{toNativeEventName:"operateRewardedAd",paramHandlers:function(e,t){return{type:"show"}},invokeAfter:function(e,t,r,n){if(r)return a(t,n)}}}],bindEventAPI:[{bindAPIName:"onClose",triggerEventBefore:function(e,t){return o("close",e,t)},offAPIName:"offClose",toNativeEventName:"onRewardedVideoStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},offAPIName:"offError",toNativeEventName:"onRewardedVideoStateChange"},{bindAPIName:"onLoad",triggerEventBefore:function(e,t){return o("load",e,t)},offAPIName:"offLoad",toNativeEventName:"onRewardedVideoStateChange"}]},subscribeEventListener:{subscribeEventName:"onRewardedVideoShowDone",callback:function(e,t,r){var n=r.videoAdPromiseCallBackMap.get(t.state);if(n&&n.length>0)for(var o=0;o<n.length;o++){var i=n[o];i&&(i(t),r.videoAdPromiseCallBackMap.delete(t.state))}}}}})},function(e,t,r){var n=r(0),o=function(e,t,r){if(r.state==e){var n=t.bannerAdPromiseCallBackMap.get(r.state);return n&&(n(r),t.bannerAdPromiseCallBackMap.delete(r.state)),!1}return!0},i=Promise;function a(e,t){if(!t.bannerAdPromiseCallBackMap.has(e.type))return new i(function(r,n){t.bannerAdPromiseCallBackMap.set(e.type,function(e){"ok"==e.status?r(e):n(e)})})}n.normalAPIMutations({createBannerAd:{toNativeEventName:"createBannerAd",paramHandlers:function(e,t){var r=e[0];return r&&r.style&&(t.adUnitId=r.adUnitId,t.left=r.style.left||0,t.top=r.style.left||0,t.width=r.style.width||0,t.height=r.style.height||0),e[0]},createObj:{createObjectBefore:function(e,t,r,n){e.bannerAdPromiseCallBackMap=new Map},normalAPI:[{show:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"show"}},invokeAfter:function(e,t,r,n){if(r)return a(t,n)}},hide:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"hide"}},invokeAfter:function(e,t,r,n){if(r)return a(t,n)}},destroy:{toNativeEventName:"operateBannerAd",paramHandlers:function(e,t){return{type:"destroy"}},invokeAfter:function(e,t,r,n){if(r)return a(t,n)}}}],bindEventAPI:[{bindAPIName:"onResize",triggerEventBefore:function(e,t){return e.realWidth=t.width,e.realHeight=t.height,o("resize",e,t)},offAPIName:"offResize",toNativeEventName:"onBannerAdStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return o("error",e,t)},offAPIName:"offError",toNativeEventName:"onBannerAdStateChange"},{bindAPIName:"onLoad",triggerEventBefore:function(e,t){return e.realWidth=t.realWidth,e.realHeight=t.realHeight,o("load",e,t)},offAPIName:"offLoad",toNativeEventName:"onBannerAdStateChange"}],propertys:[{name:"adUnitId",writable:!0,get:function(e,t,r){return t.adUnitId},set:function(e,t,r){return t.adUnitId=e,e}},{name:"style",propertys:[{name:"left",writable:!0,get:function(e,t,r){return t.left},set:function(e,t,r){return t.left=e,e},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,left:e}}}},{name:"top",writable:!0,get:function(e,t,r){return t.top},set:function(e,t,r){return t.top=e,e},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,top:e}}}},{name:"width",writable:!0,get:function(e,t,r){return t.width},set:function(e,t,r){return t.width=e,e},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,width:e}}}},{name:"height",writable:!0,get:function(e,t,r){return t.height},set:function(e,t,r){return t.height=e,e},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{adUnitId:t.adUnitId,height:e}}}},{name:"realWidth",get:function(e,t,r){return t.realWidth},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{realWidth:e}}}},{name:"realHeight",get:function(e,t,r){return t.realHeight},setInvoke:function(e,t,r){return e<0&&(e=0),{eventName:"updateBannerAdSize",params:{realHeight:e}}}}]}]},subscribeEventListener:{subscribeEventName:"onBannerAdShowDone",callback:function(e,t,r){var n=r.bannerAdPromiseCallBackMap.get("show");n&&(n(t),r.bannerAdPromiseCallBackMap.delete("show"))}}}})},function(e,t,r){var n=r(0),o=r(6),i=r(3);function a(e,t){return new Promise(function(r,n){t.success=r,t.fail=n,o.invokeHandler(e,t)})}n.normalAPIMutations("requestMidasPayment"),n.normalAPIMutations("queryStarCurrency"),n.normalAPIMutations("consumeStarCurrency");var s=Object.prototype.toString;function u(e){return s.call(e).slice(8,-1)}function c(e,t,r,n){r.errMsg||(r.errMsg=n?e+":ok":e+":fail"),n?t.success&&t.success(r):t.fail&&t.fail(r),t.complete&&t.complete(r)}e.exports={requestMidasPayment:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(function(e,t,r){var n=function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",o=u(r),i=u(t);if(i!==o)return n+" should be "+o+" instead of "+i+";";var a="";switch(o){case"Object":Object.keys(r).forEach(function(o){a+=e(t[o],r[o],n+"."+o)});break;case"Array":if(t.length<r.length)return n+" should have at least "+r.length+" item;";for(var s=0;s<r.length;++s)a+=e(t[s],r[s],n+"["+s+"]")}return a}(t,r);return""!==n&&c(e,t,{errMsg:"parameter error: "+n},!1),!n})("requestMidasPayment",e,{prepayId:"",starCurrency:0})&&(i.isIOS?c("requestMidasPayment",e,{errMsg:"iOS not supported"},!1):a("queryStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency}).then(function(t){return 0!==t.resultCode?Promise.reject({code:t.resultCode}):Number(t.rechargeNum)>0?a("rechargeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!0,remark:"",aid:"",numberVisible:!0,discountId:"",other:""}).then(function(e){return 0===e.resultCode?{code:e.resultCode}:Promise.reject({code:e.resultCode})}):a("showModal",{title:"提示",content:"需要消耗星币"+e.starCurrency}).then(function(e){return e.confirm?Promise.resolve():Promise.reject({code:-2,message:"用户主动取消支付"})})}).then(function(){return a("consumeStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency})}).then(function(t){c("requestMidasPayment",{success:e.success,fail:e.fail,complete:e.complete},{},!0)}).catch(function(t){console.error(t);var r=t;t.code&&(r="quit with error code"+t.code),c("requestMidasPayment",e,{errMsg:r},!1)}))}}},function(e,t){!function(e){var t=void 0;function r(){return new Date(Date.now()).format("yyyy-MM-dd hh:mm:ss")}Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[r]:("00"+t[r]).substr((""+t[r]).length)));return e},e.getLogManager=function(n){return t||(t=function(o){n&&n.level;var i=[],a="wxfile://usr/miniprogramLog",s=e.getFileSystemManager();function u(e){return a}function c(e){var t;t=i.join("\n")+"\n",s.appendFile({filePath:u(),data:t}),i=[],0}function f(e){i.push(e),e.length+1,c()}function l(e){return e&&e instanceof Object}function p(e){if(!l(e))return!1;var t=e.constructor;function r(e,t){try{return e===t}catch(e){return!1}}return r(t,EvalError)||r(t,RangeError)||r(t,ReferenceError)||r(t,SyntaxError)||r(t,TypeError)||r(t,URIError)||r(t,Error)}function _(e,t){var r="";return e.name&&(r+=e.name+": "),e.message&&(r+=e.message),e.sourceURL&&(r+=", 在文件"+e.sourceURL+"(行"+e.line+",列"+e.column+")"),e.stack&&t&&(r+=", 堆栈："+e.stack),r}function d(e,t,r,n){for(var o,i="",a=0;a<e.length;a++){var s=e[a];if(s&&(i+=" "),(o=s)&&o instanceof Function&&"function"==typeof o&&o.constructor==Function)i+="【 Function 】";else if(l(s)){if(p(s))var u=_(s,t);else try{(u=JSON.stringify(s)).length>100&&(u=u.substr(0,95)+"【...】")}catch(e){u="【 Object 】"}i+=u}else{(u=""+s).length>1e3?i+=u.substr(0,995)+"【...】":i+=u}}return n&&(void 0===n.logIndex&&(n.logIndex=0),i="("+n.logIndex+") "+i,n.logIndex++),r&&(i=r+i),i}return e.onShow(function(){t.log("{onShow}")}),e.onHide(function(){t.log("{onHide}"),c()}),{debug:function(){f(d(arguments,!0,r()+" [debug]"))},info:function(){f(d(arguments,!1,r()+" [info]"))},log:function(){f(d(arguments,!1,r()+" [log]"))},warn:function(){f(d(arguments,!1,r()+" [warn]"))}}}()).log("{LogManagerStarted}"),t}}(wx||(wx={}))},function(e,t,r){r(0).normalAPIMutations({getTextLineHeight:{canIUse:{"1.0.0":{success:[],object:["fontStyle","fontWeight","fontSize","fontFamily","text"]}},toNativeEventName:"getTextLineHeight",invokeAfter:function(e,t,r,n){return e&&e.lineHeight?parseInt(e.lineHeight,10):0}},loadFont:{canIUse:{"1.0.0":{success:[]}},toNativeEventName:"loadFont",paramHandlers:function(e,t){if("string"!=typeof e[0])throw new Error("loadFont:fail parameter error: parameter.path should be String instead of Undefined;");return{path:e[0]}},invokeAfter:function(e,t,r,n){return e&&e.familyName?e.familyName.toString():null}}})},function(e,t,r){var n=r(1);r(0).normalAPIMutations({saveFile:{toNativeEventName:"saveFile",paramHandlers:function(e,t){if("object"!==n(e[0])||!e[0].tempFilePath)throw new Error("saveFile:fail parameter error: parameter.tempFilePath should be String instead of Undefined;");return e[0]}},removeSavedFile:{toNativeEventName:"removeSavedFile",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].filePath)throw new Error("removeSavedFile: fail parameter error: parameter.filePath should be String instead of Undefined;");return e[0]}},getSavedFileList:{toNativeEventName:"getSavedFileList",paramHandlers:function(e,t){return e[0]}},getSavedFileInfo:{toNativeEventName:"getSavedFileInfo",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].filePath)throw new Error("getSavedFileInfo: fail parameter error: parameter.filePath should be String instead of Undefined;");return e[0]}},getFileInfo:{toNativeEventName:"getFileInfo",paramHandlers:function(e,t){if("object"!==n(e[0])||"string"!=typeof e[0].filePath)throw new Error("getFileInfo: fail parameter error: parameter.filePath should be String instead of Undefined;");if(null==e[0].digestAlgorithm&&(e[0].digestAlgorithm="md5"),"string"!=typeof e[0].digestAlgorithm||"md5"!==e[0].digestAlgorithm&&"sha1"!==e[0].digestAlgorithm)throw new Error("getFileInfo: fail parameter error: parameter.digestAlgorithm should be md5 or sha1;");return e[0]},invokeAfter:function(e,t,r,n){if(!r){var o=new Object;return o.size=e.size,e.fileSize&&(o.size=e.fileSize),o.digest=e.digest,o.errMsg=e.errMsg,o}}}})},function(e,t,r){r(0).normalAPIMutations({startDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["packagename","appid","version","md5"]}},toNativeEventName:"startDownloadAppTask",createObj:{createObjectBefore:function(e,t,r,n){e.appid=t.appid,n.appid=t.appid}},subscribeEventListener:{subscribeEventName:"onAppDownloadStateChange",callback:function(e,t,r){var n=e[0];return null==n||r.appid==t.appid&&void("onDownloadAppSucceed"==t.state?null!=n.onDownloadAppSucceed&&n.onDownloadAppSucceed(t):"onDownloadAppFailed"==t.state?null!=n.onDownloadAppFailed&&n.onDownloadAppFailed(t):"onDownloadAppProgress"==t.state&&null!=n.onDownloadAppProgress&&n.onDownloadAppProgress(t))}}},cancelDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"cancelDownloadAppTask"},queryDownloadAppTask:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"queryDownloadAppTask"},queryAppInfo:{canIUse:{"1.0.0":{success:[],object:["packagename"]}},toNativeEventName:"queryAppInfo"},installApp:{canIUse:{"1.0.0":{success:[],object:["appid"]}},toNativeEventName:"installApp"},startApp:{canIUse:{"1.0.0":{success:[],object:["packagename","path"]}},toNativeEventName:"startApp"}})},function(e,t,r){var n=r(1),o=r(0);function i(e){var t=Object.prototype.toString.call(e).slice(8,-1);return t.endsWith("Array")&&(t="Array"),t}function a(e,t){if(t=t||"","object"!==n(e[0]))throw new Error(t+":fail parameter error: parameter should be Object instead of "+i(e[0])+";");return e[0]}o.normalAPIMutations({setStatusBarStyle:{canIUse:{"1.0.0":{}},toNativeEventName:"setStatusBarStyle",paramHandlers:function(e,t){var r=a(e,"setStatusBarStyle"),n=i(r.style);if("String"!=n)throw new Error("setStatusBarStyle:fail parameter error: parameter.style should be String instead of "+n+";");return r}}}),o.normalAPIMutations({setMenuStyle:{canIUse:{"1.0.0":{}},toNativeEventName:"setMenuStyle",paramHandlers:function(e,t){var r=a(e,"setMenuStyle"),n=i(r.style);if("String"!=n)throw new Error("setMenuStyle:fail parameter error: parameter.style should be String instead of "+n+";");return r}}})},function(e,t,r){function n(e,t,r){return!(t.udpTaskId===r.udpTaskId&&e===r.event)}r(0).normalAPIMutations({createUDPSocket:{canIUse:{"1.0.0":{object:[],success:[]}},toNativeEventName:"createUDPTask",createObj:{createObjectAfter:function(e,t,r,n){return null==r.udpTaskId&&console.warn("udpTaskId is undefined!!!!!!"),e.udpTaskId=r.udpTaskId,n},normalAPI:[{bind:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return{operation:"bind",udpTaskId:t.udpTaskId}},invokeAfter:function(e,t,r,n){return n.boundPort=e.port,e.port}}},{close:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return{operation:"close",udpTaskId:t.udpTaskId}},invokeAfter:function(e,t,r,n){return n.isClosed=!0,e}}},{send:{toNativeEventName:"operateUDPTask",paramHandlers:function(e,t){return void 0!==e[0]&&(e=e[0]),e.operation="send",e.udpTaskId=t.udpTaskId,e},invokeAfter:function(e,t,r,n){if(n.isClosed){var o=n.onError;"function"==typeof o&&o("UDPSocket is closed.")}return e}}}],bindEventAPI:[{bindAPIName:"onOpen",offAPIName:"offOpen",paramHandlers:function(e,t){return e.result},triggerEventBefore:function(e,t){return n("open",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onClose",offAPIName:"offClose",triggerEventBefore:function(e,t){return n("close",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onError",offAPIName:"offError",triggerEventBefore:function(e,t){return n("error",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onListening",offAPIName:"offListening",triggerEventBefore:function(e,t){return n("listening",e,t)},toNativeEventName:"onUDPTaskEventCallback"},{bindAPIName:"onMessage",offAPIName:"offMessage",triggerEventBefore:function(e,t){return n("message",e,t)},toNativeEventName:"onUDPTaskEventCallback"}]}}})},function(e,t,r){r(24)},function(e,t,r){var n=r(1);r(0).normalAPIMutations({getRecorderManager:{canIUse:{"1.0.0":{}},toNativeEventName:"getRecorderManager",createObj:{normalAPI:[{start:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){var r=function(e,t){if(t=t||"","object"!==n(e[0]))throw new Error(t+":fail parameter error: parameter should be Object instead of String;");return e[0]}(e,"start");return r.operationType="start",null==r.duration&&(r.duration=6e4),null==r.sampleRate&&(r.sampleRate=8e3),null==r.numberOfChannels&&(r.numberOfChannels=2),null==r.encodeBitRate&&(r.encodeBitRate=48e3),null==r.format&&(r.format="aac"),null==r.audioSource&&(r.audioSource="auto"),r}},stop:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="stop",e}},pause:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="pause",e}},resume:{toNativeEventName:"operateRecorder",paramHandlers:function(e,t){return e.operationType="resume",e}}}],bindEventAPI:[{bindAPIName:"onStart",triggerEventBefore:function(e,t){return"start"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onStop",triggerEventBefore:function(e,t){return"stop"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onPause",triggerEventBefore:function(e,t){return"pause"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onResume",triggerEventBefore:function(e,t){return"resume"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onError",triggerEventBefore:function(e,t){return"error"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onInterruptionBegin",triggerEventBefore:function(e,t){return"interruptionBegin"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onInterruptionEnd",triggerEventBefore:function(e,t){return"interruptionEnd"!=t.state},toNativeEventName:"onRecorderStateChange"},{bindAPIName:"onFrameRecorded",triggerEventBefore:function(e,t){return"frameRecorded"!=t.state},toNativeEventName:"onRecorderStateChange"}]}}})},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=void 0;function r(){var e=new Date(Date.now());return e.getFullYear()+"-"+e.getMonth()+"-"+e.getDay()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}wx.getLogManager=function(n){return t||(t=function(o){n&&n.level;var i=[],a=0,s="wxfile://usr/miniprogramLog/log",u=1,c=wx.getFileSystemManager();function f(e){return e?s+e:s+u}function l(){try{return c.accessSync(f()),!0}catch(e){return!1}}for(;u<=5&&l();u++);var p=1048576;function _(e){var t;t=i.join("\n"),u<=5||(c.unlinkSync(f(1)),c.renameSync(f(2),f(1)),c.renameSync(f(3),f(2)),c.renameSync(f(4),f(3)),c.renameSync(f(5),f(4)),u=5),e&&(i=[],a=0),c.writeFile({filePath:f(),data:t}),e&&u++}function d(e){i.push(e),(a+=e.length+1)<p||_(!0)}wx.onShow(function(){t.log("{onShow}")}),wx.onHide(function(){t.log("{onHide}"),_(!1)});var h={debug:function(){d(e.strFromLogArgs(arguments,!0,r()+" [debug] "))},info:function(){d(e.strFromLogArgs(arguments,!1,r()+" [info] "))},log:function(){d(e.strFromLogArgs(arguments,!1,r()+" [log] "))},warn:function(){d(e.strFromLogArgs(arguments,!1,r()+" [warn] "))}};return h.log("{LogManagerStarted}"),h}()),t}}(r.__ttObjdec__)},function(e,t){var r=__TT__GLOBAL__,n=r.wx;r.__ttObjdec__;!function(e){var t=console.error;n.createUDPSocket=function(){return r=new e.Triton.UDPSocket,n=[],o={send:function(e){var n={address:e.address,port:e.port};n.message=JSON.stringify(WeixinNativeBuffer.pack({data:e.message})),e.message instanceof ArrayBuffer&&(void 0!==e.offset&&(n.offset=e.offset),void 0!==e.length&&(n.length=e.length));var o=r.send(n);o&&t("udp send failed: ",o)},bind:function(){return r.bind()},close:function(){return r.close()},onMessage:function(e){n.push(e)},offMessage:function(e){for(var t=0;t<n.length;t++)if(n[t]==e)return void n.splice(t,1)},onError:function(e){r.onError(e)},offError:function(e){r.offError(e)},onListening:function(e){r.onListening(e)},offListening:function(e){r.offListening(e)},onClose:function(e){r.onClose(e)},offClose:function(e){r.offClose(e)}},r.onInnerMessage(function(e){var t=e.message,r=e.remoteInfo;r&&(t=WeixinNativeBuffer.unpack(t).data);for(var o=0;o<n.length;o++){var i=n[o];i(r?{message:t,remoteInfo:r}:{message:WeixinNativeBuffer.unpack(t.message).data,remoteInfo:t.remoteInfo})}}),o;var r,n,o}}(r.__ttObjdec__)},function(e,t,r){r(0).addCanIUseConfig("setPreferredFramesPerSecond",{"1.0.0":{}})},function(e,t,r){var n=r(0),o=r(10);n.normalAPIMutations({subscribeAppMsg:{canIUse:{"1.7.0":{success:[],object:[]}},toNativeEventName:"subscribeAppMsg",paramHandlers:function(e,t){return o._reportAPICall({apiname:"subscribeAppMsg"}),e[0]}}})},function(e,t,r){(function(e){var t=r(0),n=r(5),o=r(10),i=!1,a=setInterval(function(){if(e.qq&&e.qq.onTouchStart){clearInterval(a);e.qq.onTouchStart(function t(){i=!0,e.qq.offTouchStart(t)})}},50),s=n.normalAPIFactory([{enterContact:{canIUse:{"1.7.0":{success:["path","query"],object:["sessionFrom","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg"]}},toNativeEventName:"enterContact",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){var r,n=e[0],o=n.sessionFrom,i=n.showMessageCard,a=n.sendMessageTitle,s=n.sendMessagePath,u=n.sendMessageImg,c=Object.prototype.toString;function f(e){return c.call(e).slice(8,-1)}if(o&&"String"!==f(o)?r="paramter sessionFrom should be string":a&&"String"!==f(a)?r="paramter sendMessageTitle should be string":s&&"String"!==f(s)?r="paramter sendMessagePath should be string":u&&"String"!==f(u)?r="paramter sendMessageImg should be string":i&&"Boolean"!==f(i)&&(r="paramter showMessageCard should be boolean"),r){var l="openCustomerServiceConversation:fail "+r,p=e[0],_=p.fail,d=p.complete;_&&_(l),d&&d(l),e[0].isFail=!0}return e[0]}}}]);t.normalAPIMutations({openCustomerServiceConversation:{canIUse:{"1.7.0":{success:["path","query"],object:["sessionFrom","showMessageCard","sendMessageTitle","sendMessagePath","sendMessageImg"]}},toNativeEventName:"showModal",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},invokeAfter:function(e,t,r,n){if(!r)if(e.confirm)s.enterContact(t.oriParams);else{var o="openCustomerServiceConversation:fail cancel",i=t.oriParams,a=i.fail,u=i.complete;a&&a({errMsg:o}),u&&u({errMsg:o})}},paramHandlers:function(e,t){if(!i){var r="openCustomerServiceConversation:fail require user interaction",n=e[0],a=n.fail,s=n.complete;return a&&a(r),s&&s(r),e[0].isFail=!0,{isFail:!0}}return o._reportAPICall({apiname:"openCustomerServiceConversation"}),{oriParams:e[0],title:"即将进入客服会话",confirmText:"确认",cancelText:"取消",showCancel:!0}}}})}).call(this,r(4))},function(e,t,r){var n,o="devtools"===__wxConfig.platform,i=r(5),a=i.normalAPIFactory([{operateInterstitialAd:{canIUse:{"1.11.0":{success:[],object:["id","type","adUnitId","compId"]}},toNativeEventName:"operateInterstitialAd",paramHandlers:function(e,t){return e[0]}}}]);function s(e){var t=this;if(!e||"string"!=typeof e)throw new Error("paramter adUnitId should be string");this.id=0,this.adUnitId=e,this.compId=1,this.isDestroy=!1,this.onLoadCache=[],this.onCloseCache=[function(){t.isDestroy||t.load()}],this.onErrorCache=[],setTimeout(function(){t.load().catch(function(){})}),o&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。")}s.prototype.load=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"load:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"load",success:function(){t(),n&&n.onLoadCache.forEach(function(e){e()})},fail:function(e){var t={errMsg:e.errMsg,errCode:e.errCode};r(t),n&&n.onErrorCache.forEach(function(e){e(t)})}})})},s.prototype.show=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"show:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"show",success:function(){t()},fail:function(e){var t={errMsg:e.errMsg,errCode:e.errCode};r(t),n&&n.onErrorCache.forEach(function(e){e(t)})}})})},s.prototype.destroy=function(){var e=this;return new Promise(function(t,r){e.isDestroy?r({errMsg:"destroy:fail 插屏广告实例已销毁"}):a.operateInterstitialAd({id:e.id,adUnitId:e.adUnitId,compId:e.compId,type:"destroy",success:function(){e.isDestroy=!0,n=void 0,t()},fail:function(e){var t={errMsg:e.errMsg,errCode:e.errCode};r(t),n&&n.onErrorCache.forEach(function(e){e(t)})}})})},s.prototype.onClose=function(e){"function"==typeof e&&this.onCloseCache.push(e)},s.prototype.offClose=function(e){this.onCloseCache=this.onCloseCache.filter(function(t){return t!==e})},s.prototype.onLoad=function(e){"function"==typeof e&&this.onLoadCache.push(e)},s.prototype.offLoad=function(e){this.onLoadCache=this.onLoadCache.filter(function(t){return t!==e})},s.prototype.onError=function(e){"function"==typeof e&&this.onErrorCache.push(e)},s.prototype.offError=function(e){this.onErrorCache=this.onErrorCache.filter(function(t){return t!==e})},wx.createInterstitialAd=function(e){var t=e.adUnitId;return o&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。"),n||(n=new s(t)),n},i.bindEventAPIFactory([{bindAPIName:"_onInterstitialAdClose",offAPIName:"_offInterstitialAdClose",toNativeEventName:"onInterstitialAdClose",staticCallback:function(){n&&n.onCloseCache.forEach(function(e){e()})}}])},function(e,t,r){var n=r(0),o=r(10),i=Object.prototype.toString;n.normalAPIMutations({setBackgroundFetchToken:{canIUse:{"1.14.0":{success:[],object:["token"]}},toNativeEventName:"setBackgroundFetchToken",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){o._reportAPICall({apiname:"setBackgroundFetchToken"});var r,n,a=e[0].token;return"String"!==(n=a,i.call(n).slice(8,-1))?r="paramter token should be string":a||(r="paramter token should not be empty"),r&&(e[0].fail&&e[0].fail("setBackgroundFetchToken:fail "+r),e[0].isFail=!0),e[0]}},getBackgroundFetchData:{canIUse:{"1.14.0":{success:["fetchedData","timeStamp"],object:["fetchType"]}},toNativeEventName:"getBackgroundFetchData",invokeBefore:function(e,t){try{if((t=JSON.parse(t)).isFail)return!0}catch(e){}},paramHandlers:function(e,t){return o._reportAPICall({apiname:"getBackgroundFetchData"}),e[0]}},getBackgroundFetchToken:{canIUse:{"1.14.0":{success:["token"],object:[]}},toNativeEventName:"getBackgroundFetchToken",paramHandlers:function(e,t){return o._reportAPICall({apiname:"getBackgroundFetchToken"}),e[0]}}}),n.bindAPIMutations({canIUse:{"1.14.0":{}},bindAPIName:"_onBackgroundFetchData",toNativeEventName:"onBackgroundFetchData"}),wx.onBackgroundFetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};wx._onBackgroundFetchData(function(t){t.errMsg=t.errMsg||"onBackgroundFetchData:ok",0===t.errMsg.indexOf("onBackgroundFetchData:ok")?"function"==typeof e.success&&e.success(t):"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)})}},function(e,t,r){(function(t){var n=t.__ttObjdec__,o=1,i=0,a=r(9).WeixinNativeBuffer;function s(e){if(i>o)throw new Error("超过最大worker数："+o);if(null==e)throw new Error("worker入口:undefined");if(this._worker=new n.Triton.Worker(e),null==this._worker)throw new Error("创建worker内部错误："+succees);i++}s.prototype.postMessage=function(e){try{e=a.pack(e);var t=JSON.stringify(e);this._worker.postMessage(t)}catch(e){console.error("worker->postMessage 出现异常： "+e)}},s.prototype.onMessage=function(e){this._worker.onMessage(function(t){var r=JSON.parse(t),n=a.unpack(r);e(n)})},s.prototype.terminate=function(){i>0&&(i--,this._worker.terminate())},e.exports={createWorker:function(e){return new s(e)}}}).call(this,r(4))},function(e,t,r){__TT__GLOBAL__;var n=__TT__GLOBAL__,o=__TT__GLOBAL__,i=n.__ttObjdec__,a=new i.Triton.ApiExtend;!function(e,t){var r=console.error;e.wx.createCanvas=function(){var e=new t.Canvas;e.currentContext={},e.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var e=arguments[0];if(this.currentContext[e])return this.currentContext[e];if(Object.keys(this.currentContext).length>0)return null;if("2d"==e){var n=this.__nativeObj.getContext(e);return this.currentContext[e]=new t.CanvasContext2D(this.__nativeObj,n),this.currentContext[e].canvas=this,this.currentContext[e]}if("webgl"==e){var o=void 0;if(arguments.length>2){var i=arguments[1],a=1==i.antialias,s=1==i.preserveDrawingBuffer,u=0;if(a)"number"==typeof i.antialiasSamples?i.antialiasSamples<=0?(a=!1,r("invalid WebGL context option: antialias")):u=i.antialiasSamples>4?4:i.antialiasSamples:(a=!1,r("invalid WebGL context option: antialias"));else if(a instanceof Object||"string"==typeof a)throw"invalid WebGL context option: antialias";o={antialias:a,antialiasSamples:u,preserveDrawingBuffer:s}}return n=void 0,(n=o?this.__nativeObj.getContext(e,o):this.__nativeObj.getContext(e)).isScreen=this.isScreen(),this.currentContext[e]=t.CanvasContextWebGL(n),this.currentContext[e].canvas=this,this.currentContext[e]}}},e.toDataURL=function(){return this.isScreen()?"":this.__nativeObj?(t.CommandQueue.Instance.flushCmd("toDataURL"),"data:image/png;base64,".concat(this.__nativeObj.toDataURL())):""};var n=[];return e.__nativeObj.onTempFilePathComplete(function(e){if(n.length>0)for(var t in n)e.success&&null!=n[t].success?n[t].success(e):null!=n[t].fail&&n[t].fail(e),null!=n[t].complete&&n[t].complete(e)}),e.toTempFilePath=function(){if(this.__nativeObj){if(t.CommandQueue.Instance.flushCmd("toTempFilePath"),arguments.length>0){var e=arguments[0];return n.push(e),this.__nativeObj.toTempFilePath({x:e.x,y:e.y,width:e.width,height:e.height,destWidth:e.destWidth,destHeight:e.destHeight,fileType:e.fileType,quality:e.quality})}return this.__nativeObj.toTempFilePath()}return""},e.toTempFilePathSync=function(){return this.__nativeObj?(t.CommandQueue.Instance.flushCmd("toTempFilePathSync"),arguments.length>0?this.__nativeObj.toTempFilePathSync(arguments[0]):this.__nativeObj.toTempFilePathSync()):""},e.isScreen=function(){return this.__nativeObj.isScreen()},e}}(n,n.__ttObjdec__),function(e,t){e.wx.loadFont=function(){return"string"==typeof arguments[0]&&0!=arguments[0].indexOf("wxfile://")&&0!=arguments[0].indexOf("GameRes://")&&(arguments[0]="GameRes://".concat(arguments[0])),a.loadFont(arguments[0])},e.wx.getTextLineHeight=function(){if(null!=arguments[0].fontFamily){null==arguments[0].fontStyle&&(arguments[0].fontStyle="normal"),null==arguments[0].fontWeight&&(arguments[0].fontWeight="normal"),null==arguments[0].fontSize&&(arguments[0].fontSize=16);var e=a.getTextLineHeight(arguments[0]);return e?arguments[0].success&&arguments[0].success(e):arguments[0].fail&&arguments[0].fail(),arguments[0].complete&&arguments[0].complete(),e}arguments[0].fail&&arguments[0].fail("fontFamily not found")},e.wx.saveAppToDesktop=function(e){t.util.saveAppToDesktop({success:function(t){e.success&&e.success({errMsg:t})},fail:function(t){e.fail&&e.fail({errMsg:t})},complete:function(t){e.complete&&e.complete({errMsg:t})}})}}(n,n.__ttObjdec__),function(e,t){function r(e,t){for(var r=e[t],n=[],o=0;o<r;){var i={identifier:e[++t],screenX:e[++t],clientX:e[t],pageX:e[t],screenY:e[++t],clientY:e[t],pageY:e[t]};n.push(i),o++}return n}function n(e){return{touches:r(e,1),changedTouches:r(e,1+3*e[1]+1),timeStamp:e[0]}}var o=new t.Triton.TouchEventHandler;t.touchArray=new Float64Array(195),t.touchCallBackMap=new Map,o.setTouchArray(t.touchArray),e.wx.onTouchStart=function(e){var r=function(r){e(n(t.touchArray))};t.touchCallBackMap.set(e,r),o.onTouchStart(r)},e.wx.offTouchStart=function(e){o.offTouchStart(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchMove=function(e){var r=function(r){e(n(t.touchArray))};t.touchCallBackMap.set(e,r),o.onTouchMove(r)},e.wx.offTouchMove=function(e){o.offTouchMove(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchEnd=function(e){var r=function(r){e(n(t.touchArray))};t.touchCallBackMap.set(e,r),o.onTouchEnd(r)},e.wx.offTouchEnd=function(e){o.offTouchEnd(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)},e.wx.onTouchCancel=function(e){var r=function(r){e(n(t.touchArray))};t.touchCallBackMap.set(e,r),o.onTouchCancel(r)},e.wx.offTouchCancel=function(e){o.offTouchCancel(t.touchCallBackMap.get(e)),t.touchCallBackMap.delete(e)}}(n,n.__ttObjdec__),function(e){wx.createImage=function(){return new e.WebImage}}(n.__ttObjdec__),function(e,t){var r;Object.defineProperty(o,"sharedCanvas",{value:"hello",writable:!1,enumerable:!0,configurable:!0}),Object.defineProperty(o,"sharedCanvas",{get:function(){var e;return r||((e=new t.Canvas("sharedInMain")).currentContext={},e.getContext=function(){},e.toDataURL=function(){},e.toTempFilePath=function(){},e.toTempFilePathSync=function(){},e.isScreen=function(){return this.__nativeObj.isScreen()},r=e),r}})}(0,n.__ttObjdec__),function(e,t){e.wx.showKeyboard=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),void 0===r&&(r={defaultValue:"",maxLength:-1,multiple:!1,confirmHold:!0,confirmType:"done"}),void 0===r.maxLength&&(r.maxLength=-1),void 0===r.confirmHold&&(r.confirmHold=!0);var n=e.EventedInput.showKeyboard(r);setTimeout(function(){r&&(1===n?r.success&&"function"==typeof r.success&&r.success():r.fail&&"function"==typeof r.fail&&r.fail(),r.complete&&"function"==typeof r.complete&&r.complete())},0)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardInput=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardInput(r)},e.wx.offKeyboardInput=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardInput(r)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardConfirm=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardConfirm(r)},e.wx.offKeyboardConfirm=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardConfirm(r)}}(n,n.__ttObjdec__),function(e,t){e.wx.onKeyboardComplete=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.onKeyboardComplete(r)},e.wx.offKeyboardComplete=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.offKeyboardComplete(r)}}(n,n.__ttObjdec__),function(e,t){e.wx.hideKeyboard=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput),e.EventedInput.hideKeyboard(r),setTimeout(function(){r&&(r.success&&"function"==typeof r.success&&r.success(),r.complete&&"function"==typeof r.complete&&r.complete())},0)}}(n,n.__ttObjdec__),function(e,t){e.wx.updateKeyboard=function(r){e.EventedInput||(e.EventedInput=new t.Triton.EventedInput);var n=e.EventedInput.updateKeyboard(r);(r.success||r.fail||r.complete)&&setTimeout(function(){n&&r.success&&r.success({errMsg:"updateKeyboard:ok"}),!n&&r.fail&&r.fail({errMsg:"updateKeyboard:fail"}),r.complete&&setTimeout(function(){r.complete({errMsg:n?"updateKeyboard:ok":"updateKeyboard:fail"})},0)},0)}}(n,n.__ttObjdec__);var s="undefined"==typeof Promise?r(30).Promise:Promise;!function(e,t){e.wx.createRewardedVideoAd=function(r){if(void 0===r.adUnitId)throw new Error("adUnitId is undefined");e.RewardedVideoAd||(e.RewardedVideoAd=new t.Triton.RewardedVideoAd);var n=e.RewardedVideoAd;n.createRewardedVideoAd(r);var o=function(e){return new s(function(e,t){var r=n.loadRewardedVideoAdState();if(0===r)n.onLoadSuccess(function(t){n.offLoadSuccess(),e()}),n.onLoadFail(function(e){n.offLoadFail(),e.errMsg?t(e.errMsg):t("未知错误")});else if(1===r)e();else if(2===r){var o=n.loadRewardedVideoAdErrorMsg();t(o||"未知错误")}})};return n.load=function(){return n.reloadRewardedVideoAd(),o()},n.show=function(){return n.showRewardedVideoAd(),o()},n}}(n,n.__ttObjdec__),function(e,t){e.wx.createInterstitialAd=function(e){if(void 0===e.adUnitId)throw new Error("adUnitId is undefined");var r=!0,n={errMsg:"小程序启动一定时间内不允许展示插屏广告",errCode:2001},o={errMsg:"内部错误",errCode:1003},i=new t.Triton.InterstitialAd;i.createInterstitialAd(e);return i.load=function(){return i.reloadInterstitialAd(),new s(function(e,t){var r=i.loadInterstitialAdState();if(0===r)i.onLoadSuccess(function(t){i.offLoadSuccess(),e()}),i.onLoadFail(function(e){i.offLoadFail(),e.errMsg?t(e.errMsg):t("未知错误")});else if(1===r)e();else if(2===r){var n=i.loadInterstitialAdErrorMsg();t(n||"未知错误")}})},i.destroy=function(){i.destroyInterstitialAd()},i.onError&&"function"==typeof i.onError&&i.onError(function(e){e?2001==e.errCode||2002==e.errCode||2003==e.errCode?(r=!1,n=e):o=e:(o={errMsg:"内部错误",errCode:1003},n={errMsg:"小程序启动一定时间内不允许展示插屏广告",errCode:2001})}),i.onClose&&"function"==typeof i.onClose&&i.onClose(function(){i.load()}),i.show=function(){return r=!0,i.showInterstitialAd(),new s(function(e,t){var a=i.loadInterstitialAdState();if(r)if(0===a)i.onLoadSuccess(function(t){i.offLoadSuccess(),e()}),i.onLoadFail(function(e){if(i.offLoadFail(),e)t(e);else{var r=i.loadInterstitialAdErrorMsg();t(r||"未知错误")}});else if(1===a)r?e():t(n);else{if(2!==a)throw console.error("__广告状态错误___",a),new Error("__广告状态错误__"+a);t(o)}else t(n)})},i}}(n,n.__ttObjdec__),function(e,t){e.wx.onWindowResize=function(e){var r=new t.Triton.WindowResize;return r.onWindowResize(function(t){e(t)}),r};var r=t._notifcationCenter;e.wx.offWindowResize=function(e){r.removeObserver("WindowResize",e)}}(n,n.__ttObjdec__),function(e,t){e.wx.setStatusBarStyle=function(e){var r=new t.Triton.SetStatusBarStyle;return r.onsuccess(function(){e.success()}),r.onfail(function(){e.fail()}),r.oncomplete(function(){e.complete()}),r.setStatusBarStyle(e),r}}(n,n.__ttObjdec__),function(e,t){e.wx.setMenuStyle=function(e){var r=new t.Triton.SetMenuStyle;return r.onsuccess(function(){e.success()}),r.onfail(function(){e.fail()}),r.oncomplete(function(){e.complete()}),r.setMenuStyle(e),r}}(n,n.__ttObjdec__),function(e,t){e.wx.createBannerAd=function(e){var r=function(e,t){return"frame"===e?1*t/668*238:1*t/1026*249},n=new t.Triton.BannerAd;n.createBannerAd(e);var o={};Object.defineProperty(n,"style",{get:function(){return o},set:function(e){n.innerStyle=e}}),Object.defineProperty(o,"left",{get:function(){return n.innerStyle.left},set:function(e){n.innerStyle={left:e}}}),Object.defineProperty(o,"top",{get:function(){return n.innerStyle.top},set:function(e){n.innerStyle={top:e}}}),Object.defineProperty(o,"width",{get:function(){return n.innerStyle.width},set:function(e){n.innerStyle={width:e}}}),Object.defineProperty(o,"height",{get:function(){return n.innerStyle.height},set:function(e){}}),Object.defineProperty(o,"realWidth",{get:function(){return null!=o.realBannerWidth&&o.realBannerWidth>0?o.realBannerWidth:n.innerStyle.realWidth}}),Object.defineProperty(o,"realHeight",{get:function(){return null!=o.realBannerHeight&&o.realBannerHeight>0?o.realBannerHeight:n.innerStyle.realHeight}}),bannerRealWidth=300,bannerRealHeight=r("",bannerRealWidth);try{bannerRealWidth=function(e){if("number"!=typeof e&&(e=300),e<=300)return 300;try{var t=qq.getSystemInfoSync(),r=t.screenWidth,n=t.screenHeight;return maxBannerWidth=r,r>n&&(maxBannerWidth=r/2),e<maxBannerWidth?e:maxBannerWidth}catch(e){return 300}}(e.style.width),bannerRealHeight=r(e.type,bannerRealWidth)}catch(e){bannerRealWidth=300,bannerRealHeight=r("",bannerRealWidth)}o.realBannerWidth=bannerRealWidth,o.realBannerHeight=bannerRealHeight;var i;return n.show=function(){return n.trueShow(),new s(function(e,t){var r=n.loadBannerAdState();if(0===r)n.onLoad(function(t){e()}),n.onError(function(e){e.errMsg?t(e.errMsg):t("未知错误")});else if(1===r)e();else if(2===r){var o=n.loadBannerAdErrorMsg();t(o||"未知错误")}})},n.onResize=function(e){i=e},n.offResize=function(e){i=void 0},n.onResizeCallBack(function(e){i&&i(e)}),n}}(n,n.__ttObjdec__),function(e,t){getPerformance=function(e){var r={now:function(){return t.util.timestamp}};return r},e.wx.getPerformance=getPerformance}(n,n.__ttObjdec__),n.__ttObjdec__,n.wx.createInnerAudioContext=function(){return new i.Triton.Audio},n.__ttObjdec__,n.wx.postMessage=function(e){wx.getOpenDataContext().postMessage(e)}},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e,t){t.createInfoButton=function(e,r){var n,o=new t.Triton.InfoButton;return o.createInfoButton(e),o.onTap=function(e){n=e},o.offTap=function(e){n=void 0},o.onClick(function(){switch(r){case 0:var o=e.withCredentials,i="en";e.lang&&(i=e.lang),n&&t.privateApi&&t.privateApi.webapi_getuserinfo&&t.privateApi.webapi_getuserinfo({withCredentials:o,lang:i,from_component:1,success:function(e){n(e)},fail:function(e){n(e)}});break;case 1:wx.openSetting({success:function(e){n&&n(e)},fail:function(e){n&&n(e)}});break;case 2:n&&t.privateApi&&t.privateApi.addFriend&&t.privateApi.addFriend({openid:e.openid,success:function(e){n(e)},fail:function(e){n(e)}});break;case 3:n&&t.privateApi&&t.privateApi.feedback&&t.privateApi.feedback({url:"https://tucao.qq.com/qq_miniprogram/tucao?appid=100232324&openid={openid}&clientVersion={clientVersion}&OS={platform}&osVersion={osVersion}&netType={netType}&_wv=2097154&avatar={avatar}&nickname={nickname}",success:function(e){n(e)},fail:function(e){n(e)}})}}),o}}(0,r.__ttObjdec__),function(e,t){e.wx.createUserInfoButton=function(e){return t.createInfoButton(e,0)}}(r,r.__ttObjdec__),function(e,t){e.wx.createOpenSettingButton=function(e){return t.createInfoButton(e,1)}}(r,r.__ttObjdec__),function(e,t){e.wx.createAddFriendButton=function(e){return t.createInfoButton(e,2)}}(r,r.__ttObjdec__),function(e,t){e.wx.createFeedbackButton=function(e){return t.createInfoButton(e,3)}}(r,r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r,n,o=__TT__GLOBAL__;__TT__GLOBAL__;r=o.__ttObjdec__,n=!1,wx.__tt___changeGameState__=function(e){n=!e},r.runloopPauseCallbacks=r.runloopPauseCallbacks||[],r.util.setRunloopCallback(function(e,t){if(n){if(r.runloopPauseCallbacks.preIsRun)for(var i=0;i<r.runloopPauseCallbacks.length;i++)(0,r.runloopPauseCallbacks[i])();r.runloopPauseCallbacks.preIsRun=!1}else{o.q9zq.frameStart();var a=q9zq.mainStart("主域一帧",{});try{r.timerCallback&&r.timerCallback(e,t),r.CommandQueue.Instance.flushCmd("endFrame")}catch(e){throw q9zq.mainEnd("主域一帧",{s:a}),e}q9zq.mainEnd("主域一帧",{s:a}),r.runloopPauseCallbacks.preIsRun=!0}})},function(e,t,r){var n,o,i=__TT__GLOBAL__;n=i.__ttObjdec__,o=r(15),i.__tt__allModules=o.allModules,i.define=o.define,requirePlugin=o.requirePlugin,i.__tt__set__startRequire__foldName=function(e,t,r){var a="";t&&(a+=t+"/"),a+=e,i.require=o.getRequire(a,!0),i.__tt__preloadjs=o.getPreload(a),i.require.__tt__preloadjs=i.__tt__preloadjs,i.__tt__set__startRequire__foldName=function(){},setTimeout(function(){r&&r.APIJSTool&&n.loadAPIJsTool(),r&&r.printAllException&&(n.__tt__shouldPrintAll__exception=1),r&&r.printJSLogToNative&&(n.___tt__shouldPrintJSLog___=!0),r&&r.enableJSTimeMonitor&&setTimeout(function(){n.enableTimeMonitor=!0},0),n.util.recordLaunchStart(),i.require(e),n.util.recordLaunchEnd()},0)}},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){var t=[];wx.loadSubpackage=function(r){var n=void 0,o={onProgressUpdate:function(e){n=e}},i=new e.Triton.SubPackage;return i.onCompletion=function(t){setTimeout(function(){var n={errcode:t.errcode};t.isSuccess?(e.util.loadLib(t.root),r.success&&r.success(t)):r.fail&&r.fail(n),r.complete&&r.complete(n)},0)},i.onProgress=function(e){setTimeout(function(){n&&n({progress:e.totalBytesWritten/e.totalBytesExpectedToWrite,totalBytesWritten:e.totalBytesWritten,totalBytesExpectedToWrite:e.totalBytesExpectedToWrite})},0)},t.push(o),t.push(i),e.subpackList=t,i.loadSubpackage({name:r.name}),o}}(r.__ttObjdec__)},function(e,t,r){var n,o,i=r(1),a=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;n=a.__ttObjdec__,o={create:function(e){var t={};return t.url=e.url,t.data=e.data||"",t.header=e.header||{},t.dataType=e.dataType||e.responseType||"json",t.success=e.success||function(){},t.fail=e.fail||function(){},t.complete=e.complete||function(){},t.method=e.method||"get",t.object=e,t.request=function(){function e(e){if("object"==i(e)){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t.join("&")}return e}var t=new TT.HttpUtil(this.url),r="get";switch(this.method){case"POST":r="post",t.setHttpPostData(this.data),t.setBodyCompatible(!1)}for(var o in t.setHttpMethod(r),this.header)"content-type"===o.toLowerCase()?("application/x-www-form-urlencoded"==this.header[o]&&t.setHttpPostData(e(this.data)),t.setHttpHeader("Content-Type",this.header[o])):t.setHttpHeader(o,this.header[o]);var a=this;t.sendRequest(function(e,t,r){if(200!=e)a.fail({errMsg:" ",statusCode:e,header:{}});else{var o=void 0;if(o="arraybuffer"!=a.dataType?r.readAsString(!0):n.BufferToArrayBuffer(r),"json"==a.dataType)try{o=JSON.parse(o)}catch(e){o=o}a.success&&a.success({data:o,statusCode:e,header:t}),a.complete&&a.complete({data:o,statusCode:e,header:t})}a=null})},t}},n.HttpFactory=o},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){var t=function(){function t(){this._fileSystemManager=new e.Triton.FileSystemManager,this._fileSystemManager.onCallback=function(e,t){console.log(e),console.log(t)}}return t.prototype.access=function(e){console.log("---FileSystemManager---access"),setTimeout(function(){!0===TT.FileUtil.isFileExist(e.path)?(console.log("---adapter---wx.access success"),e.success&&e.success()):(console.log("---adapter---wx.access fail"),e.fail&&e.fail()),e.complete&&e.complete()},30)},t.prototype.accessSync=function(e){},t.prototype.appendFile=function(e){e.filePath,e.data},t.prototype.appendFileSync=function(e,t,r){},t.prototype.saveFile=function(e){},t.prototype.getSaveFileList=function(e){},t.prototype.removeSavedFile=function(e){},t.prototype.getFileInfo=function(e){},t.prototype.mkdir=function(e){},t.prototype.readFile=function(e){setTimeout(function(){if(e){var t=e.encoding;if("string"==typeof e.filePath){var r=e.filePath;if(TT.FileUtil.isFileExist(r)){var n,o=TT.FileUtil.readFile(r);if(!t||"utf-8"!==t&&"utf8"!==t&&"ascii"!==t&&"latin1"!==t)try{n=function(e){for(var t=new ArrayBuffer(e.bufferLength()),r=new Uint8Array(t),n=0;n<e.bufferLength();)r[n++]=e.readUint8Buffer();return t}(o)}catch(e){n=o.readAsString()}else n=o.readAsString();var i={data:n};console.log("readFile, success, filePath="+r),e.success&&e.success(i)}else{console.log("readFile failed, invalid filePath, filePath="+e.filePath);i={errMsg:"invalid filePath"};e.fail&&e.fail(i)}e.complete&&e.complete()}else console.log("readFile failed, no object")}},1)},t.prototype.readFileSync=function(e,t){console.log("readFileSync:"+JSON.stringify(arguments));var r=new XMLHttpRequest;return r.overrideMimeType("application/json"),r.open("GET",e,!1),r.send(null),200===r.status?r.responseText:(console.log(r.statusText),r.statusText)},t.prototype.readdir=function(e){},t.prototype.rename=function(e){},t.prototype.rmdir=function(e){},t.prototype.stat=function(e){},t.prototype.unlink=function(e){},t.prototype.unzip=function(e){},t.prototype.writeFile=function(e){},t}();e.FileSystemManager=t}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t,n=console.log,o=console.error;function i(e,t,r){var o;(o=e[t])||(o=function(){n("函数",t,"未实现")}),e[t]=function(){return r(e,o,arguments)}}!function(){function t(t,r,i,a){if(e.isOldAPI||a)a&&o("函数wx."+r+"实现有问题，请"+a+"先解决问题");else{if(t[r])return void o("函数wx."+r+"已经定义了，不能重新定义为其他实现");n("函数wx."+r+"尚未定义了，临时进行代码hoke")}t[r]=i}t(wx,"getBatteryInfoSync",function(){}),t(wx,"checkIsUserAdvisedToRest",function(){}),t(wx,"createGameClubButton",function(){})}(),i(wx,"getFileSystemManager",function(e,t,r){var n=t.apply(e,r);return i(n,"mkdir",function(e,t,r){var n=r[0];return i(r[0],"fail",function(e,t,r){return"mkdir:fail file not exist"!=r[0].errMsg?t.apply(e,r):n.success?n.success({errMsg:"mkdir:ok"}):void 0}),t.apply(e,r)}),n}),t=1,i(wx,"saveFile",function(e,r,n){var o=n[0].tempFilePath,i=n[0].filePath;if(!i){for(var a=o.split("/"),s=void 0,u=a.length-1;u>=0;u--)if(a[u].length>0){s=a[u];break}i="wxfile://usr/"+(s=s?t+++"_"+s:t+++"_"+Math.floor(1e5*Math.random()))}wx.getFileSystemManager().saveFile({tempFilePath:o,filePath:i,success:function(e){n[0].success&&n[0].success(e)},fail:function(e){n[0].fail&&n[0].fail(e)},complete:function(e){n[0].complete&&n[0].complete(e)}})}),r.__global=r}(__ttObjdec__)},function(e,t,r){(function(e){var t=r(1),n=void 0,o=e.__ttObjdec__;o.loadAPIJsTool=function(){try{n(!0)}catch(e){console.error("分析工具加载失败: ",e)}o.loadAPIJsTool=function(){}},n=function(e){n=function(){},r(148);var o=wx.getStorageSync,i=GameGlobal,a=(i.__all__normal__APIFun,console.log),s=console.error,u=function(){s.apply(void 0,arguments)},c=!0,f=!0,l=!0;function p(e){try{for(var t=Object.getOwnPropertyNames(e),r=0;r<t.length;r++){var n=t[r];if("__tt__realObj__"==n)return p(e[n])}return e}catch(t){return e}}function _(e){var t=[],r={},n="__tt__getAllProperty__",o=e;do{var i=Object.getOwnPropertyNames(o);o=o.__proto__;for(var a=0;i&&a<i.length;++a){var s=i[a];r[n+s]||(r[n+s]=!0,t.push(s))}}while(o&&o instanceof Object&&o!=e);return t}"yes"==o("是否实时打印所有调用的API接口")?c=!0:"no"==o("是否实时打印所有调用的API接口")&&(c=!1),"yes"==o("是否监控简易的接口（不监控接口调用的参数）")?f=!0:"no"==o("是否监控简易的接口（不监控接口调用的参数）")&&(f=!1),"yes"==o("是否打印接口的参数和返回值")?l=!0:"no"==o("是否打印接口的参数和返回值")&&(l=!1),i.__tt__print__JSAPIInfo=function(){__tt__print__longestCallStacks(),__tt__print__haveGetQuerys(),__tt__print__UncompleteCall()};var d=!1;function h(e){this.flag=e,this.removed=!1,this.longestCallStacks=[],this.addFromPath=function(e){if(!this.removed){for(var t=0;t<this.longestCallStacks.length;t++){var r=this.longestCallStacks[t];if(!(r.length>e.length)){for(var n=0;n<r.length&&r[n]==e[n];n++);if(!(n<r.length))return void(this.longestCallStacks[t]=e)}}this.longestCallStacks.push(e)}},this.descriptionForLongestCallStacks=function(){this.longestCallStacks.sort();for(var e="",t=0;t<this.longestCallStacks.length;t++){e+=this.longestCallStacks[t].join("->")+"\n"}return e},this.dicForLongestCallStacks=function(){for(var e={},t=0;t<this.longestCallStacks.length;t++){e[this.longestCallStacks[t].join("->")]=!0}return e},this.descriptionFroAllFunName=function(){for(var e={},t=[],r=0;r<this.longestCallStacks.length;r++)for(var n=this.longestCallStacks[r],o=0;o<n.length;o++){var i=n[o];null==e[i]&&(e[i]=!0,t.push(i))}var a="";for(r=0;r<t.length;r++)a+=t[r]+"\n";return a}}h.callStackRecordDic={},h.callStackRecordFlagKeys=[],h.addRecord=function(e){if(!h.callStackRecordDic[e])return h.callStackRecordFlagKeys.push(e),h.callStackRecordDic[e]=new h(e);u('标示为"'+e+'"已被监控，请使用其他标示')},h.removeRecord=function(e){if(h.callStackRecordDic[e]){h.callStackRecordDic[e].removed=!0,delete h.callStackRecordDic[e];for(var t=0;t<h.callStackRecordFlagKeys.length;t++){if(h.callStackRecordFlagKeys[t]==e){h.callStackRecordFlagKeys.splice(t,1);break}}}},i.__tt__call__stack__start__record=function(e){return h.addRecord(e)},i.__tt__call__stack__end__record=function(e){if(e){var t='标示为"'+e.flag+'"的过程 调用过的长路径： \n'+e.descriptionForLongestCallStacks();h.removeRecord(e.flag),a(t)}};var m=h.addRecord("__tt__whole__call__stack__24323_saaf_erw");i.__tt__print__longestCallStacks=function(){var e="当前游戏调用过的长路径： \n"+m.descriptionForLongestCallStacks();a(e)},i.__tt__print__longestCallStacks_toDic=function(){var e=m.dicForLongestCallStacks();a(JSON.stringify(e))},i.__tt__print__haveGetQuerys=function(){var e="当前游戏用过的属性: \n"+m.descriptionFroAllFunName();a(e)};var y={},v=0;function g(e){if(d){var t=e.join("->");return!y[t]&&(function(e){for(var t=0;t<h.callStackRecordFlagKeys.length;t++){var r=h.callStackRecordFlagKeys[t];h.callStackRecordDic[r].addFromPath(e)}}(e),c&&a("("+ ++v+")调用路径："+t),y[t]=!0,!0)}}function b(e){var t=[];e.length>50&&(a("test error a.length: ",e.length),fasdfivna);for(var r=0;r<e.length;r++){if(t.length>200){a("路径太长，代码出错了！"+t);for(var n=0;n<t.length;n++)a(t[n]);return sleep(1e7),t}t.push(e[r])}return e.length!=t.length&&(a("拷贝后路径不对"),zfeanas),t}var E={};function A(e){var t="__tt__my__test__hah";if(null==E[t+".__tag__exist__zz__fafda__"]){var r=_({__tt__from__path__:!0});E[t+".__tag__exist__zz__fafda__"]=!0;for(var n=0;n<r.length;n++){var o=r[n];E[t+o]=!0}var i=_(function(){});for(n=0;n<i.length;n++)o=i[n],E[t+o]=!0;var a=[];for(n=0;n<a.length;n++)E[t+a[n]]=!0}return E[t+e]}function O(e){var t=void 0;if(!t){var r={};t={};for(var n=Object.getOwnPropertyNames(r),o=0;o<n.length;o++)r[n[o]]&&(t["__tt__sp__pro__"+n[o]]=!0)}return t["__tt__sp__pro__"+e]}function I(e){return e&&e instanceof Object&&"object"===t(e)&&!isNaN(e.length)&&e.constructor==Array}function T(e){return e&&e instanceof Function&&"function"==typeof e&&e.constructor==Function}function S(e){return e&&e instanceof Object&&!I(e)&&!T(e)}function N(e){return e&&"string"==typeof e&&e.constructor==String}function w(e){return"number"==typeof e&&e.constructor==Number}function C(e,t){if(t>3)return"(...)";for(var r=Object.getOwnPropertyNames(e),n="(",o=0;o<r.length&&o<5;o++){var i=e[r[o]];i!=e&&("("!=n&&(n+=","),n+=r[o]+":",T(i)?n+="fun":I(i)?n+="array("+R(i)+")":S(i)?n+="obj("+C(i,++t)+")":N(i)?n+="str":w(i)?n+="num":n+=null==i?"void":null==i?"null":"other")}return r.length>5&&(n+="..."),n+=")"}function R(e){return function e(t){for(var r="(",n=0;n<t.length&&n<5;n++){n>0&&(r+=",");var o=t[n];T(o)?r+="fun":I(o)?r+="array("+e(o)+")":S(o)?(Object.getOwnPropertyNames(o),r+="obj("+C(o,0)+")"):N(o)?r+="str":w(o)?r+="num":r+=null==o?"void":null==o?"null":"other"}return r+=")"}(e)}function M(e,t,r){return function(e,t){if(e.__tt__newCloneFun__)return e.__tt__newCloneFun__;var r=function(){var r=e.apply(this,arguments),n=b(arguments);return t(r,n),r};r.__tt__realObj__=e;for(var n=_(e),o=0;o<n.length;o++)!function(){var t=n[o];if("__tt__realObj__"!=t){try{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,writable:!0,readable:!0})}catch(e){}try{Object.defineProperty(r,t,{get:function(){var r=e[t];return r instanceof Function?function(){return r.apply(e,arguments)}:r},set:function(r){e[t]=r}})}catch(e){}}}();return e.__tt__newCloneFun__=r,r}(e,function(e,n){var o=b(t),i=n.length>0?",argNames:"+R(n):"";f&&(i=""),T(e)?o.push("call(retFun"+i+")"):S(e)?(isGetContext&&1==n.length?o.push("call(retObj,arg:"+n[0]+")"):o.push("call(retObj"+i+")"),o.length>100&&a("strange: "+o)):I(e)?e.length>5?o.push("call(retArray,length: > 5"+i+")"):o.push("call(retArray,length:"+e.length+i+")"):N(e)?o.push("call(retString"+i+")"):w(e)?o.push("call(retNum"+i+")"):null==e?o.push("call(retVoid"+i+")"):null==e?o.push("call(retNull"+i+")"):o.push("call(retOther"+i+")");g(o);"onError"==r&&u("onError 回调 \n path: "+t+"\n arg: "+i)})}function P(e){return e.length>1&&"argCallBack"==e[e.length-2]}i.__tt__all__param={},i.__tt__all__Ret={};var j={wholeIndex:0,allCallbacks:[],printUnCompleteCall:function(){for(var e=!0,t=0;t<this.allCallbacks.length;t++){var r=this.allCallbacks[t];r.removed||(a("回调（"+r.path+')未完成回调，当前状态为"'+r.state+'"'),e=!1)}e&&a("当前没有未完成回调")},addCallback:function(e,t){var r=e.success,n=e.fail,o=e.complete,i={path:t,index:this.wholeIndex++,state:"等待调用结果",retainCount:(o?1:0)+(r||n?1:0),oldSuccess:r,oldFail:n,oldComplete:o,removed:!1,lastStateStr:0};return this.allCallbacks.push(i),r&&(e.success=this.getSuccessCallback(i,e,t)),n&&(e.fail=this.getFailCallback(i,e,t)),o&&(e.complete=this.getCompleteCallback(i,e,t)),function(){"等待调用结果"!=i.state&&u("存在同步回调:("+t+"): \narg:"+JSON.stringify(e))}},removeRecord:function(e){e.removed=!0;for(var t=0;t<this.allCallbacks.length;t++){if(this.allCallbacks[t].index==e.index)return void this.allCallbacks.splice(t,1)}},getSuccessCallback:function(e,t,r){var n=this;return function(){if("success"!=e.lastStateStr)if(e.removed||"等待调用结果"!=e.state)u("error state("+e.state+") in success \n path: "+r+"\n arg: "+JSON.stringify(t));else{var o=void 0;try{e.oldSuccess.apply(this,arguments)}catch(e){o=e}if(e.lastStateStr="success",e.retainCount--,e.oldComplete?e.state="已完成Success回调，等待complete回调":(e.state="Success回调完成",n.removeRecord(e)),o)throw o}else u("error 重复回调 in success \n path: "+r+"\n arg: "+JSON.stringify(t))}},getFailCallback:function(e,t,r){var n=this;return function(){if("fail"!=e.lastStateStr)if(e.removed||"等待调用结果"!=e.state)u("error state("+e.state+") in fail \n path: "+r+"\n arg: "+JSON.stringify(t));else{var o=void 0;try{e.oldFail.apply(this,arguments)}catch(e){o=e}e.lastStateStr="fail",e.retainCount--,e.oldComplete?e.state="已完成fail回调，等待complete回调":(e.state="Fail回调完成",n.removeRecord(e));var i=arguments;try{i=JSON.stringify(b(arguments))}catch(e){}if(u("fail回调 ("+r+"):\nfailInfo: "+i+"\ncallArg: "+JSON.stringify(t)),o)throw o}else u("error 重复回调 in fail \n path: "+r+"\n arg: "+JSON.stringify(t))}},getCompleteCallback:function(e,t,r){var n=this;return function(){if("complete"!=e.lastStateStr)if(e.retainCount>1)u("error 未回调success或fail直接回调complete \n path: "+r+"\n arg: "+JSON.stringify(t));else if(e.retainCount<1)u("error state("+e.state+") in complete(未知异常) \n path: "+r+"\n arg: "+JSON.stringify(t));else if(e.removed)u("error state("+e.state+") in complete(未知异常被删除) \n path: "+r+"\n arg: "+JSON.stringify(t));else{var o=void 0;try{e.oldComplete.apply(this,arguments)}catch(e){o=e}if(e.lastStateStr="complete",e.retainCount--,e.state="complete回调完成",n.removeRecord(e),o)throw o}else u("error 重复回调 in complete \n path: "+r+"\n arg: "+JSON.stringify(t))}}};function D(e,t,r,n,o){return function(e,t){var s=e,c=n;return function(){var e=b(t),n=b(arguments),d=l&&!i.__tt__black_fun_printArg[o]&&t.length>1&&!i.__tt__black_fun_printArg[t[1]],h="**********begin**********\n",m=t.join("->");if(d){var y=n?JSON.stringify(n):"void";h+=m+"\n调用参数："+y}var v=n.length>0?",argNames:"+R(n):"";f&&(v=""),n=function e(t,r,n){var o=t.length>0?"{args:"+R(t)+"}":"";if(f&&(o=""),r.push("argCallBack"+o),B(t))return t;var i=[];if(L(t,r),I(t)){for(var s=0;s<t.length;s++)!function(o){var i=b(r),a="";a+=o>5?"ele[>5]":"ele["+o+"]";var s=t[o];I(s)?(a+="(array)",i.push(a),t[o]=e(s,i)):T(s)?(a+="(fun)",i.push(a),t[o]=M(s,i,n)):S(s)&&(a+="(obj)",i.push(a),t[o]=e(s,i))}(s);return t}var u=_(t);for(s=0;s<u.length;s++){var c=u[s];T(t[c])&&!A(c)&&(addMyObserver(t,c)||i.push(c))}return i.length>0&&a("needDeal:\n"+JSON.stringify(i)),t}(n,b(e),o);try{var E=function(e,t,r){if(!(r.length>1&&"argCallBack"==r[r.length-2])&&0!=e.length){var n=e[0];if(S(n)&&(T(n.success)||T(n.fail)||T(n.complete)))return j.addCallback(n,t)}}(n,m,e),C=s.apply(p(this),n);E&&E()}catch(r){throw u(r,"exception happend: "+t.join("->")),d&&P(e)&&(a("回调"+h),"void"!=y&&((i.__tt__all__param[m]=i.__tt__all__param[m]||{})["args: "+y]={args:n})),r}if(d){h+="\n-----------------\n调用返回值：";var k="";if(C)try{k=JSON.stringify(C)}catch(e){k="无法解析"}else k="void";h+=k,h+="\n*********end***********",P(e)?(a("回调"+h),"void"!=y&&((i.__tt__all__param[m]=i.__tt__all__param[m]||{})["args: "+y]={args:n,res:C})):(a(h),"void"!=k&&"{}"!=k&&((i.__tt__all__Ret[m]=i.__tt__all__Ret[m]||{})["args: "+y]={args:n,res:C}))}T(C)?(e.push("call(retFun"+v+")"),C=D(C,e,O(pName))):S(C)?(c?1==n.length?e.push("call(retObj,arg:"+n[0]+")"):e.push("call(retObj,first_arg:"+n[0]+", "+v+")"):e.push("call(retObj"+v+")"),e.length>100&&a("strange: "+e),C=x(C,e)):I(C)?(C.length>5?e.push("call(retArray,length: > 5"+v+")"):e.push("call(retArray,length:"+C.length+v+")"),C=x(C,e)):N(C)?e.push("call(retString"+v+")"):w(C)?e.push("call(retNum"+v+")"):null==C?e.push("call(retVoid"+v+")"):null==C?e.push("call(retNull"+v+")"):e.push("call(retOther"+v+")");var F=g(e);if(r&&(r=F&&r),r){a("*********begin______\n");for(var U="",G=_(C),V=0;V<G.length;V++){var H=G[V];A(H)||(U+=H+"\n")}a(U),a("*********end______\n")}return C}}(e,t)}function x(e,t,r){if(B(e))return e;var n=[];if(L(e,t),I(e)){for(var o=0;o<e.length;o++)!function(r){var n=b(t),o="";o+=r>5?"ele[>5]":"ele["+r+"]";var i=e[r];I(i)?(o+="(array)",n.push(o),e[r]=x(i,n)):T(i)?(o+="(fun)",n.push(o),e[r]=D(i,n)):S(i)?(o+="(obj)",n.push(o),e[r]=x(i,n)):addMyObserver(e,r)}(o);return e}var i=r||_(e);for(o=0;o<i.length;o++){var a=i[o];A(a)||addMyObserver(e,a)||n.push(a)}return e}function L(e,t){t.length>0&&(e.__tt__from__path__=t.join("->"))}function B(e){return!(null==e.__tt__from__path__)}i.__tt__print__UncompleteCall=function(){j.printUnCompleteCall()},i.addMyObserver=function(e,t){var r=t;if(I(e)){if(!w(t))return!0;r=t>5?"ele[>5]":"ele["+t+"]"}else{if(!S(e))return!0;if(/^[0-9]+.?[0-9]*$/.test(t))return!0}return"__tt__hoked__keys"==t||function(){var n=function(e,t){if(e instanceof Object){var r=e;do{var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n.get||n.set?{__tt__ins:r,__tt__get:n.get,__tt__set:n.set}:{__tt__ins:r,__tt__value:e[t]};r=r.__proto__}while(r&&r instanceof Object&&r!=e)}}(e,t);if(!n)return!0;if(n.__tt__ins,n.__tt__get&&n.__tt__get.__is__tt__Hoked)return!0;var o,i=(o=e).__tt__from__path__?o.__tt__from__path__.split("->"):["unknown(obj)"],a=function(){var e=b(i),o=n.__tt__value;n.__tt__get&&(o=n.__tt__get.apply(p(this),arguments));return T(o)?(function(e){return e.length>1&&__tt__spercial__APIFuns[e[1]]}(e)||__tt__isFunInNormalAPIFun(t))&&(e.push(r),o=D(o,e,O(t),"getContext"===t,t)):S(o)?(e.push(r+"(obj)"),o=x(o,e),g(e)):(e.push(r+"(num)"),g(e)),o};(a.__is__tt__Hoked=!0)||tzf313ffasdfasdfa;var s=function(e){if(n.__tt__set){var t=b(i);t.push(r+"(setValue)"),n.__tt__set.apply(p(this),arguments),g(t)}else n.__tt__value=e};(s.__is__tt__Hoked=!0)||fasdfasdfa;try{Object.defineProperty(n.__tt__ins,t,{configurable:!0,enumerable:!0,writable:!0,readable:!0})}catch(e){return wx.testMyUndeals=wx.testMyUndeals||[],wx.testMyUndeals.push({name:"__tt_pre__"+t}),wx.testMyUndealDic=wx.testMyUndealDic||{},wx.testMyUndealDic["__tt_pre__"+t]=!0,!1}return Object.defineProperty(n.__tt__ins,t,{get:a,set:s}),!0}()},wx=x(wx,["wx(obj)"]),i.__tt__from__path__="global";for(var k=0;k<i.__tt__test__global__funs__.length;++k){var F=i.__tt__test__global__funs__[k];addMyObserver(i,F)}d=!0}}).call(this,r(4))},function(e,t){!function(){var e=GameGlobal,t=["getContext","toDataURL","toTempFilePath","toTempFilePathSync","isDirectory","isFile","destroy","hide","offTap","onTap","show","now","debug","error","group","groupEnd","info","log","warn","postMessage","terminate","onProgressUpdate","destroy","offCanplay","offEnded","offError","offPause","offPlay","offSeeked","offSeeking","offStop","offTimeUpdate","offWaiting","onCanplay","onEnded","onError","onPause","onPlay","onSeeked","onSeeking","onStop","onTimeUpdate","onWaiting","pause","play","seek","stop","destroy","exitFullScreen","offEnded","offError","offPause","offPlay","offTimeUpdate","offWaiting","onEnded","onError","onPause","onPlay","onTimeUpdate","onWaiting","pause","play","requestFullScreen","seek","stop","abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate","abort","offHeadersReceived","onHeadersReceived","abort","offHeadersReceived","offProgressUpdate","onHeadersReceived","onProgressUpdate","onError","onFrameRecorded","onInterruptionBegin","onInterruptionEnd","onPause","onResume","onStart","onStop","pause","resume","start","stop","access","accessSync","copyFile","copyFileSync","getFileInfo","getSavedFileList","mkdir","mkdirSync","readdir","readdirSync","readFile","readFileSync","removeSavedFile","rename","renameSync","rmdir","rmdirSync","saveFile","saveFileSync","stat","statSync","unlink","unlinkSync","unzip","writeFile","writeFileSync","postMessage","destroy","hide","offTap","onTap","show","close","onClose","onError","onOpen","send","load","offClose","offError","offLoad","onClose","onError","onLoad","show","createCanvas","getTextLineHeight","loadFont","setPreferredFramesPerSecond","createImage","createBannerAd","createRewardedVideoAd","offAudioInterruptionBegin","offAudioInterruptionEnd","offError","onAudioInterruptionBegin","onAudioInterruptionEnd","onError","exitMiniProgram","getLaunchOptionsSync","offHide","offShow","onHide","onShow","offTouchCancel","offTouchEnd","offTouchMove","offTouchStart","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart","setEnableDebug","onAccelerometerChange","startAccelerometer","stopAccelerometer","getBatteryInfo","getBatteryInfoSync","getClipboardData","setClipboardData","onCompassChange","startCompass","stopCompass","onGyroscopeChange","startGyroscope","stopGyroscope","onDeviceMotionChange","startDeviceMotionListening","stopDeviceMotionListening","getNetworkType","onNetworkStatusChange","offDeviceOrientationChange","onDeviceOrientationChange","onMemoryWarning","getScreenBrightness","setKeepScreenOn","setScreenBrightness","vibrateLong","vibrateShort","getFileSystemManager","getLocation","createInnerAudioContext","getAvailableAudioSources","setInnerAudioOption","chooseImage","previewImage","saveImageToPhotosAlbum","getRecorderManager","createVideo","requestMidasPayment","downloadFile","request","uploadFile","closeSocket","connectSocket","onSocketClose","onSocketError","onSocketMessage","onSocketOpen","sendSocketMessage","checkIsUserAdvisedToRest","authorize","getOpenDataContext","onMessage","openCustomerServiceConversation","getFriendCloudStorage","getGroupCloudStorage","getSharedCanvas","getUserCloudStorage","removeUserCloudStorage","setUserCloudStorage","createFeedbackButton","createGameClubButton","checkSession","login","navigateToMiniProgram","createOpenSettingButton","getSetting","openSetting","createUserInfoButton","getUserInfo","getGroupInfo","openGroupNotice","openGroupRemind","getWeRunData","getPerformance","triggerGC","getShareInfo","hideShareMenu","offShareAppMessage","onShareAppMessage","shareAppMessage","showShareMenu","updateShareMenu","clearStorage","clearStorageSync","getStorage","getStorageInfo","getStorageInfoSync","getStorageSync","removeStorage","removeStorageSync","setStorage","setStorageSync","loadSubpackage","getSystemInfo","getSystemInfoSync","hideLoading","hideToast","showActionSheet","showLoading","showModal","showToast","hideKeyboard","offKeyboardComplete","offKeyboardConfirm","offKeyboardInput","onKeyboardComplete","onKeyboardConfirm","onKeyboardInput","showKeyboard","updateKeyboard","getMenuButtonBoundingClientRect","setMenuStyle","setStatusBarStyle","offWindowResize","onWindowResize","getUpdateManager","createWorker","destroy","hide","offError","offLoad","offResize","onError","onLoad","onResize","show","destroy","hide","offTap","onTap","show","applyUpdate","onCheckForUpdate","onUpdateFailed","onUpdateReady","destroy","hide","offTap","onTap","show","cancelAnimationFrame","requestAnimationFrame","midasCancelPay","midasGetBalance","midasPay","midasPresent","getAccessToken","removeUserStorage","setUserStorage","checkSessionKey","code2Session","createWXAQRCode","getWXACode","getWXACodeUnlimit","imgSecCheck","msgSecCheck","createActivityId","setUpdatableMsg","clearInterval","clearTimeout","setInterval","setTimeout","success","fail","complete","__tt__testArray"];e.__all__normal__APIFun=t;for(var r={},n=0;n<t.length;n++)r["__tt__normal__APIFun"+t[n]]=!0;e.__tt__isFunInNormalAPIFun=function(e){return r["__tt__normal__APIFun"+e]},e.__tt__black_fun_printArg={cancelAnimationFrame:!0,requestAnimationFrame:!0,clearInterval:!0,clearTimeout:!0,setInterval:!0,setTimeout:!0,createCanvas:!0},e.__tt__test__global__funs__=["cancelAnimationFrame","requestAnimationFrame","midasCancelPay","midasGetBalance","midasPay","midasPresent","getAccessToken","removeUserStorage","setUserStorage","checkSessionKey","code2Session","createWXAQRCode","getWXACode","getWXACodeUnlimit","imgSecCheck","msgSecCheck","createActivityId","setUpdatableMsg","clearInterval","clearTimeout","setInterval","setTimeout"],e.__tt__canvas2d__apis__=["arc","arcTo","beginPath","bezierCurveTo","canvas","clearRect","clip","closePath","createImageData","createLinearGradient","createPattern","createRadialGradient","drawFocusIfNeeded","drawImage","ellipse","fill","fillRect","fillStyle","fillText","filter","font","getImageData","getLineDash","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","imageSmoothingQuality","isPointInPath","isPointInStroke","lineCap","lineDashOffset","lineJoin","lineTo","lineWidth","lineWidth","measureText","miterLimit","moveTo","putImageData","quadraticCurveTo","rect","resetTransform","restore","rotate","save","scale","setLineDash","setTransform","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeRect","strokeStyle","strokeText","textAlign","textBaseline","transform","translate"],e.__tt__spercial__APIFuns={createCanvas:!0,createImage:!0}}()},function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),a=new N(n||[]);return i._invoke=function(e,t,r){var n=f;return function(o,i){if(n===p)throw new Error("Generator is already running");if(n===_){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=I(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=_,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=c(e,t,r);if("normal"===u.type){if(n=r.done?_:l,u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=_,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",l="suspendedYield",p="executing",_="completed",d={};function h(){}function m(){}function y(){}var v={};v[i]=function(){return this};var g=Object.getPrototypeOf,b=g&&g(g(w([])));b&&b!==r&&n.call(b,i)&&(v=b);var E=y.prototype=h.prototype=Object.create(v);function A(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(r,o){function i(){return new Promise(function(t,i){!function t(r,o,i,a){var s=c(e[r],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?Promise.resolve(f.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(f).then(function(e){u.value=e,i(u)},function(e){return t("throw",e,i,a)})}a(s.arg)}(r,o,t,i)})}return t=t?t.then(i,i):i()}}function I(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method))return d;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,d;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,d):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,d)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function w(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:C}}function C(){return{value:t,done:!0}}return m.prototype=E.constructor=y,y.constructor=m,y[s]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},A(O.prototype),O.prototype[a]=function(){return this},e.AsyncIterator=O,e.async=function(t,r,n,o){var i=new O(u(t,r,n,o));return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},A(E),E[s]="Generator",E[i]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=w,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:w(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),d}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__,r.__ttObjdec__;!function(e){e.imageDownloadDir="__tt_imageDownload__",e.imageUtil=new e.Triton.ImageUtil,qq.onTTJSFinish&&qq.onTTJSFinish(function(){e.imageUtil.setImageDownloadDir(e.imageDownloadDir,function(t,r){t&&(e.imageDownloadDir=r)})});wx.getFileSystemManager;var t=wx.downloadFile;function r(){this.__nativeObj=new e.Triton.Image,this.__loaded=!1,this.__ttLocalPath=void 0,this.__ttLocalDir=void 0,this.__tmpSrc=void 0,this.__event={},this.__nativeObj.onload=function(e){var t=this.__target;t?(t.dispatchEvent({type:"load",target:t}),this.__target=void 0):console.error("target is not exist when onload callback")},this.__nativeObj.onerror=function(e){var t=this.__target;t?(t.dispatchEvent({type:"error",errMsg:e}),t.__ttLocalPath=void 0,this.__target=void 0):console.error("target is not exist when onerror callback")},Object.getOwnPropertyNames(this.__nativeObj).forEach(function(e){var t=e;"src"!=t&&"onload"!=t&&"onerror"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})},this)}Object.defineProperty(r.prototype,"src",{get:function(){return this.__ttLocalPath},set:function(t){if(t.includes(":image"))this.__nativeObj.__target=this,this.__ttLocalPath=t,this.__nativeObj.src=t;else if(t&&t.length>0){var r=e.getImgPath(t);r!==this.__ttLocalPath?(this.__ttLocalPath=r,this.__ttLocalDir=e.extractDir(r),this.__tmpSrc=t,this.__nativeObj.__target=this,this.handleImgUrl()):this.dispatchEvent({type:"load",target:this})}}}),Object.defineProperty(r.prototype,"onload",{get:function(){return this.__event.load},set:function(e){if(e){this.addEventListener("load",e,{once:!0});this.__loaded&&e({once:!0})}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"onerror",{get:function(){return this.__event.error},set:function(e){this.addEventListener("error",e,{once:!0})},enumerable:!0,configurable:!0}),r.prototype.handleImgUrl=function(){var t=this.__tmpSrc,r=this.__ttLocalPath,n=this;"string"==typeof t?e.isRemoteUrl(t)?e.imageUtil.accessImage(r,function(e){e?(n.__nativeObj.src=r,n=null):(n.loadImg(),n=null)}):r&&r.length>0?this.__nativeObj.src=r:this.dispatchEvent({type:"error",errMsg:"src length is 0"}):this.dispatchEvent({type:"error",errMsg:"src only support string"})},r.prototype.loadImg=function(){var r=this,n=r.__tmpSrc,o=r.__ttLocalPath;r.__ttLocalDir;t({url:n,success:function(t){e.imageUtil.copyImage(t.tempFilePath,o,function(e){e?(r.__nativeObj.src=o,r=null):r.dispatchEvent({type:"error",errMsg:"copy image error"})})},fail:function(e){r.dispatchEvent({type:"error",errMsg:e&&e.errMsg?e.errMsg:"download file error"}),r=null}})},r.prototype.addEventListener=function(e,t,r){this.__event[e]||(this.__event[e]=[]),this.__event[e].push(t),r&&r.capture&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),r&&r.once,r&&r.passive&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")},r.prototype.removeEventListener=function(e,t){this.__event[e]||(this.__event[e]=[]);var r=this.__event[e].indexOf(t);this.__event[e].splice(r,1)},r.prototype.dispatchEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.__event[e.type];if(void 0!==t)for(var r=0;r<t.length;r++)t[r]&&t[r].apply(this,[e])},e.WebImage=r}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r,n,o,i=__TT__GLOBAL__;__TT__GLOBAL__;r=i.__ttObjdec__,n={create:function(){var e={event:"",once:!1,listener:[]};return e}},o={create:function(){var e={};function t(t){return e[t]||(e[t]=[]),e[t]}function r(e){var r=t(e);return!!(r&&r.length>0)}function o(e,n){if(1==r(e)){for(var o=-1,i=t(e),a=i.length-1;a>=0;a--){if(n==i[a].listener){o=a;break}}return o>-1&&i.splice(o,1),!0}return!1}var i={};return i.addObserver=function(e,r){return function(e,r,o){var i=n.create();i.event=e,i.listener=r,i.once=o,t(e).push(i)}(e,r,!1),this},i.removeObserver=function(e,t){return o(e,t),this},i.postEvent=function(e,n,i){if(0==r(e))return!1;for(var a=[],s=t(e),u=s.length,c=0;c<u;c++){var f=s[c];f&&(f.listener&&f.listener(n,i),f.once&&a.push(f))}for(c=0;c<a.length;c++){o(e,a[c].listener)}return!0},i}},r._notifcationCenter=o.create(),r.EventEmitter=o},function(e,t){__TT__GLOBAL__;var r,n=__TT__GLOBAL__;__TT__GLOBAL__;(r=n.__ttObjdec__).isRemoteUrl=function(e){return/^https?:\/\//.test(e)},r.wrapLocalUrl=function(e){return/^GameRes:\/\//.test(e)?e:"GameRes://"+e.replace(/^\.*\//,"")},r.wrapSandBoxPath=function(e){return/^GameSandBox:\/\//.test(e)?e:"GameSandBox://"+e.replace(/^\.*\//,"")},r.extractFileNameFromUrl=function(e){var t=e.lastIndexOf("/");return-1==t&&(t=e.lastIndexOf("\\")),e.substr(t+1)},r.extractFilePathFromUrl=function(e){var t=0;t=e.startsWith("https")?e.substr(8).indexOf("/")+9:e.startsWith("http")?e.substr(7).indexOf("/")+8:e.indexOf("/")+1;var r=e.lastIndexOf("/");return e.substring(t,r)+"/"},r.getImgPath=function(e){var t;if(r.isRemoteUrl(e)){var n=r.extractFilePathFromUrl(e)+r.extractFileNameFromUrl(e);n.replace("/","#"),n.replace("\\","#"),t=r.wrapSandBoxPath("download/images/"+n)}else 0==e.indexOf("GameRes://")||0==e.indexOf("GameSandBox://")?t=e:(t=r.wrapLocalUrl(e),TT.FileUtil.isFileExist(t)||(t=r.wrapSandBoxPath(e)));return t},r.getAudioPath=function(e){var t;if(r.isRemoteUrl(e)){var n=r.extractFileNameFromUrl(e);t=r.wrapSandBoxPath("download/audio/"+n)}else t=r.wrapLocalUrl(e);return t},r.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)}:null},r.colourNameToHex=function(e){var t={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return void 0!==t[e.toLowerCase()]&&t[e.toLowerCase()]},r.colorToRgba=function(e){"#"===e.charAt(0)&&(e=e.substr(1,6)),e=(e=e.replace(/ /g,"")).toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var r in t)e==r&&(e=t[r]);for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),255]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),255]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),255]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d+(\.*\d*))\)$/,example:["rgba(123, 234, 45,12)","rgba(255,234,245,12)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3]),parseFloat(e[4])]}},{re:/^(\w{2})(\w{2})(\w{2})(\w{2})$/,example:["#00ff0000","33669900"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),parseFloat(e[4])]}}],o=0;o<n.length;o++){var i=n[o].re,a=n[o].process,s=i.exec(e);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.a=channels[3],this.a<=1&&(this.a*=255),this.ok=!0)}return this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.a=this.a<0||isNaN(this.a)?0:this.a>255?255:this.a,this.toFloatColor=function(){return{r:(this.r+0)/255,g:(this.g+0)/255,b:(this.b+0)/255,a:(this.a+0)/255}},this.toFloatColor()}},function(e,t,r){var n,o,i=r(42),a=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;n=a.__ttObjdec__,o=function(){function e(e){this.__nativeObj=new n.Triton.CommandQueue,this.maxSize=e,this.enableCommandQueue=this.__nativeObj.enableCommandQueue,this.onlyNumberArgs=!1}var t,r,o=new Uint32Array(1024),a=0,s=new Float32Array(8192),u=new Uint32Array(1),c=[];e.prototype.setCaller=function(){var e=arguments[0];e!=t&&(this.flushCmd(),t=e)},e.prototype.setCallerClassName=function(){var e=arguments[0];r!=e&&(this.flushCmd(),r=e,this.__nativeObj.setCallerClassName(e))};var f=-1,l=[],p=-1;e.prototype.pushCommand=function(){var e=arguments[0],n=arguments[1],i=arguments[2],_=arguments[3],d=arguments[4];if(this.enableCommandQueue){if(null==n)return;if(u[0]>=this.maxSize&&this.flushCmd(),a+d>8e3&&this.flushCmd(),_>0){var h=!1;if(e==t&&i==r&&n==p&&d==f&&_<=d){h=!0;for(var m=0;m<_;m++)if(arguments[m+5]!=l[m]){h=!1;break}}if(h&&u[0]>0){for(m=0;m<d-_;m++)s[a++]=arguments[5+m+_];return void(o[u[0]-1]+=1e3*(d-_))}}this.setCaller(e),this.setCallerClassName(i),o[u[0]++]=n+1e3*d,l=[];for(m=0;m<d;m++)this.onlyNumberArgs?s[a++]=arguments[m+5]:"number"==typeof arguments[m+5]?s[a++]=arguments[m+5]:"string"==typeof arguments[m+5]?s[a++]=this.cacheStr(arguments[m+5]):"boolean"==typeof arguments[m+5]?s[a++]=arguments[m+5]?1:0:null!=arguments[m+5]?(c.push(arguments[m+5]),s[a++]=c.length-1):console.error("CommandQueue pushCommand param error!"),l.push(arguments[m+5]);f=d,p=n}};var _=new Map,d=0;return e.prototype.cacheStr=function(e){if(this.enableCommandQueue){var t=_.get(e);return null!=t?t:(_.set(e,d),this.__nativeObj.setStr(e,d),d++)}},e.prototype.flushCmd=function(){if(this.enableCommandQueue){if(u[0]>0)if(c.length>0){var e=[o,s,u,t];e.push.apply(e,i(c)),this.__nativeObj.exeCmdQueue.apply(this.__nativeObj,e)}else this.__nativeObj.exeCmdQueue(o,s,u,t);u[0]=0,a=0,f=-1,l=[],p=-1,caller=null,callerClassName=-1,c=[],_.size>=7168&&(_.clear(),d=0,this.__nativeObj.clearStr())}},e.Instance=new e(1024),e}(),n.CommandQueue=o},function(e,t,r){__TT__GLOBAL__;var n,o,i=__TT__GLOBAL__;__TT__GLOBAL__;n=i.__ttObjdec__,o=function(){function e(){this.__nativeObj=new n.Triton.CommandQueueV2,this.enableCommandQueue=this.__nativeObj.enableCommandQueue}if(e.prototype.pushCommand=function(){if(!(arguments.length<2)){var e=arguments[0];if(null!=arguments[1])return arguments[0]=e._nativeConsumer,this.__nativeObj.pushCommand.apply(this.__nativeObj,arguments)}},e.prototype.flushCmd=function(e){if(this.enableCommandQueue)return this.__nativeObj.flushCommand(e)},e.Instance=new e,null==i.initCommandQueue){var t=r(31),o=0,a=t.CommandConstant.canvas2d;for(var s in a)a[s].cmd_id=o,e.Instance.__nativeObj.prepareCommand("canvas2d",a[s].name,a[s].cmd_id),o++;o=0;var u=t.CommandConstant.webgl;for(var s in u)u[s].cmd_id=o,e.Instance.__nativeObj.prepareCommand("webgl",u[s].name,u[s].cmd_id),o++;i.initCommandQueue=!0}return e}(),n.CommandQueueV2=o},function(e,t,r){var n=r(1),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;!function(e){function t(o,i){this.__nativeObj=i,this.__canvas=o,this._fontName="",Object.getOwnPropertyNames(this.__nativeObj).forEach(function(e){var t=e;"font"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})},this);var a=r(32);function s(){var t=arguments.length,r="";if(t>=1&&arguments[0]instanceof e.WebImage)r=arguments[0].__nativeObj;else if(t>=1&&arguments[0]instanceof e.Canvas){var o=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:o=arguments[0].currentContext.webgl;r=o.__nativeObj}else console.log("canvas 2d drawImage arguments[0] type error!");for(var i=1;i<t;i++)if("number"!=typeof arguments[i])return void console.log("canvas 2d drawImage arguments type error! "+i+" "+n(arguments[i]));if(9==t)this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==t)this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=t)return;this.__nativeObj.drawImage(r,arguments[1],arguments[2])}}function u(){this.__nativeObj.fill()}function c(){this.__nativeObj.stroke()}function f(){this.__nativeObj.rect(arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.__nativeObj.fillRect(arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.__nativeObj.strokeRect(arguments[0],arguments[1],arguments[2],arguments[3])}function _(){this.__nativeObj.clearRect(arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.__nativeObj.beginPath()}function h(){this.__nativeObj.closePath()}function m(){this.__nativeObj.moveTo(arguments[0],arguments[1])}function y(){this.__nativeObj.lineTo(arguments[0],arguments[1])}function v(){this.__nativeObj.arcTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.__nativeObj.arc(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.__nativeObj.quadraticCurveTo(arguments[0],arguments[1],arguments[2],arguments[3])}function E(){this.__nativeObj.bezierCurveTo(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function A(){this._fontName="",this.__nativeObj.save()}function O(){this._fontName="",this.__nativeObj.restore()}function I(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"==n(t)?Object.prototype.toString.call(t):JSON.stringify(t));var r=arguments[1],o=arguments[2];if(3==e)this.__nativeObj.fillText(t,r,o);else if(4==e){var i=arguments[2];this.__nativeObj.fillText(t,r,o,i)}}}function T(){var e=arguments.length;if(e>=3){var t=arguments[1],r=arguments[2];if(3==e)this.__nativeObj.strokeText(arguments[0],t,r);else if(4==e){var n=arguments[2];this.__nativeObj.strokeText(arguments[0],t,r,n)}}}function S(){var e=arguments.length;0==e?this.__nativeObj.clip():2==e&&this.__nativeObj.clip(arguments[0],arguments[1])}function N(){return!1}function w(){var e=arguments.length;return 2==e?this.__nativeObj.createImageData(arguments[0],arguments[1]):1==e?this.__nativeObj.createImageData(arguments[0]):void 0}function C(){if(4==arguments.length){var e=this.__nativeObj.getImageData(arguments[0],arguments[1],arguments[2],arguments[3]);return{data:e.data,width:e.width,height:e.height}}}function R(){var e=arguments.length;if(e>=3){var t=arguments[0],r=t.width,n=t.height;3==e?this.__nativeObj.putImageData(t.data,r,n,arguments[1],arguments[2]):7==e&&this.__nativeObj.putImageData(t.data,r,n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function M(){2==arguments.length&&this.__nativeObj.scale(arguments[0],arguments[1])}function P(){1==arguments.length&&this.__nativeObj.rotate(arguments[0])}function j(){2==arguments.length&&this.__nativeObj.translate(arguments[0],arguments[1])}function D(){this.__nativeObj.transform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function x(){this.__nativeObj.setTransform(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function L(){this.__nativeObj.resetTransform()}function B(){var e=this.__nativeObj.measureText(arguments[0]);return null!=e&&(e.type="TextMetrics"),e}function k(){var t=e.Triton.Director.screenScale,r=this.__nativeObj.getImageData(0,0,this.size.width/t,this.size.height/t),n=e.Triton.Misc.encodeBase64FromBuffer(r);return n&&(n="data:image/png;base64,"+n),n}function F(e,t){return this.__nativeObj.createPattern(e,t)}function U(e,t,r,n){return this.__nativeObj.createLinearGradient(e,t,r,n)}function G(e,t,r,n,o,i){return this.__nativeObj.createRadialGradient(e,t,r,n,o,i)}Object.defineProperty(t.prototype,"font",{get:function(){return this.__nativeObj.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.__nativeObj.font=a.createFontObj(e),this._fontName=e):console.error("context.font set: param format error! param is null or not a string! param ="+e)},enumerable:!0,configurable:!0}),function(){if(e.CanvasContext2DInit)return;e.CanvasContext2DInit=!0,t.prototype.drawImage=s,t.prototype.fill=u,t.prototype.stroke=c,t.prototype.rect=f,t.prototype.fillRect=l,t.prototype.strokeRect=p,t.prototype.clearRect=_,t.prototype.beginPath=d,t.prototype.closePath=h,t.prototype.moveTo=m,t.prototype.lineTo=y,t.prototype.arcTo=v,t.prototype.arc=g,t.prototype.quadraticCurveTo=b,t.prototype.bezierCurveTo=E,t.prototype.save=A,t.prototype.restore=O,t.prototype.fillText=I,t.prototype.strokeText=T,t.prototype.clip=S,t.prototype.isPointInPath=N,t.prototype.createImageData=w,t.prototype.getImageData=C,t.prototype.putImageData=R,t.prototype.scale=M,t.prototype.rotate=P,t.prototype.translate=j,t.prototype.transform=D,t.prototype.setTransform=x,t.prototype.resetTransform=L,t.prototype.measureText=B,t.prototype.toDataURL=k,t.prototype.createPattern=F,t.prototype.createLinearGradient=U,t.prototype.createRadialGradient=G}()}r(156),r(158),e.CanvasContext2D=function(r,n){if(n)return e.CommandQueueV2.Instance.enableCommandQueue?canvasContext=new e.Canvas2DCmdV2Context(new t(r,n)):e.CommandQueue.Instance.enableCommandQueue?canvasContext=new e.Canvas2DCmdContext(new t(r,n)):canvasContext=new t(r,n),canvasContext}}(o.__ttObjdec__)},function(e,t,r){var n=r(1),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;!function(e){e.Canvas2DCmdContext=function t(o){this.__nativeObj=o.__nativeObj,this.__canvas=o.__canvas,this._fontName="";var i=r(157).Canvas2DCmdConstant,a=r(32);function s(){var t=arguments.length,r="",o=!0;if(t>=1&&arguments[0]instanceof e.WebImage)o=!0,r=arguments[0].__nativeObj;else if(t>=1&&arguments[0]instanceof e.Canvas){var a=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:a=arguments[0].currentContext.webgl;r=a.__nativeObj}else console.log("canvas 2d drawImage arguments[0] type error!");for(var s=1;s<t;s++)if("number"!=typeof arguments[s])return void console.log("canvas 2d drawImage arguments type error! "+s+" "+n(arguments[s]));if(9==t)o?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE_ARRAY,0,5,9,this.commandInstance.cacheStr(r),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==t)o?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(r,arguments[1],arguments[2],arguments[3],arguments[4])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE,0,0,5,this.commandInstance.cacheStr(r),arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=t)return;o?(this.commandInstance.flushCmd(),this.__nativeObj.drawImage(r,arguments[1],arguments[2])):this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_DRAW_IMAGE,0,0,3,this.commandInstance.cacheStr(r),arguments[1],arguments[2])}}function u(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL,0,0,0)}function c(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE,0,0,0)}function f(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function _(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLEAR_RECT,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_BEGIN_PATH,0,0,0)}function h(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLOSE_PATH,0,0,0)}function m(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_MOVE_TO,0,0,2,arguments[0],arguments[1])}function y(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_LINE_TO,0,0,2,arguments[0],arguments[1])}function v(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC_TO,0,0,5,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC,0,0,5,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ARC,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_QUADRATIC_CURVE_TO,0,0,4,arguments[0],arguments[1],arguments[2],arguments[3])}function E(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_BEZIER_CURVE_TO,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function A(){this._fontName="",this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SAVE,0,0,0)}function O(){this._fontName="",this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_RESTORE,0,0,0)}function I(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"==n(t)?Object.prototype.toString.call(t):JSON.stringify(t));var r=arguments[1],o=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_TEXT,0,0,3,this.commandInstance.cacheStr(t),r,o);else if(4==e){var a=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_FILL_TEXT,0,0,4,this.commandInstance.cacheStr(t),r,o,a)}}}function T(){var e=arguments.length;if(e>=3){var t=arguments[1],r=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_TEXT,0,0,3,this.commandInstance.cacheStr(arguments[0]),t,r);else if(4==e){var n=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_STROKE_TEXT,0,0,4,this.commandInstance.cacheStr(arguments[0]),t,r,n)}}}function S(){var e=arguments.length;0==e?this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLIP,0,0,0):2==e&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_CLIP,0,0,2,arguments[0],arguments[1])}function N(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SCALE,0,0,2,arguments[0],arguments[1])}function w(){1==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_ROTATE,0,0,1,arguments[0])}function C(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_TRANSLATE,0,0,2,arguments[0],arguments[1])}function R(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_TRANSFORM,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function M(){this.commandInstance.pushCommand(this.__nativeObj,i.CMD_2D_SET_TRANSFORM,0,0,6,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function P(e){return newFunc=function(){return this.commandInstance.flushCmd(),e.apply(this,arguments)},newFunc}this.commandInstance=e.CommandQueue.Instance,Object.getOwnPropertyNames(this.__nativeObj).forEach(function(e){var t=e;"font"!=t&&Object.defineProperty(this,t,{get:function(){return this.commandInstance.flushCmd(),this.__nativeObj[t]},set:function(e){this.commandInstance.flushCmd(),this.__nativeObj[t]=e}})},this),Object.defineProperty(t.prototype,"font",{get:function(){return this.commandInstance.flushCmd(),this.__nativeObj.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.commandInstance.flushCmd(),this.__nativeObj.font=a.createFontObj(e),this._fontName=e):console.error("context.font set: param format error! param is null or not a string! param ="+e)},enumerable:!0,configurable:!0}),j=o,e.Canvas2DCmdContextInit||(e.Canvas2DCmdContextInit=!0,t.prototype.drawImage=s,t.prototype.fill=u,t.prototype.stroke=c,t.prototype.rect=f,t.prototype.fillRect=l,t.prototype.strokeRect=p,t.prototype.clearRect=_,t.prototype.beginPath=d,t.prototype.closePath=h,t.prototype.moveTo=m,t.prototype.lineTo=y,t.prototype.arcTo=v,t.prototype.arc=g,t.prototype.quadraticCurveTo=b,t.prototype.bezierCurveTo=E,t.prototype.save=A,t.prototype.restore=O,t.prototype.fillText=I,t.prototype.strokeText=T,t.prototype.clip=S,t.prototype.createImageData=P(j.createImageData),t.prototype.getImageData=P(j.getImageData),t.prototype.putImageData=P(j.putImageData),t.prototype.scale=N,t.prototype.rotate=w,t.prototype.translate=C,t.prototype.transform=R,t.prototype.setTransform=M,t.prototype.resetTransform=P(j.resetTransform),t.prototype.measureText=P(j.measureText),t.prototype.toDataURL=P(j.toDataURL),t.prototype.createPattern=P(j.createPattern),t.prototype.createLinearGradient=P(j.createLinearGradient),t.prototype.createRadialGradient=P(j.createRadialGradient));var j}}(o.__ttObjdec__)},function(e,t){t.Canvas2DCmdConstant={CMD_2D_DRAW_IMAGE:0,CMD_2D_FILL:1,CMD_2D_STROKE:2,CMD_2D_RECT:3,CMD_2D_FILL_RECT:4,CMD_2D_STROKE_RECT:5,CMD_2D_CLEAR_RECT:6,CMD_2D_BEGIN_PATH:7,CMD_2D_CLOSE_PATH:8,CMD_2D_MOVE_TO:9,CMD_2D_LINE_TO:10,CMD_2D_ARC_TO:11,CMD_2D_ARC:12,CMD_2D_QUADRATIC_CURVE_TO:13,CMD_2D_BEZIER_CURVE_TO:14,CMD_2D_SAVE:15,CMD_2D_RESTORE:16,CMD_2D_FILL_TEXT:17,CMD_2D_STROKE_TEXT:18,CMD_2D_CLIP:19,CMD_2D_CREATE_IMAGE_DATA:20,CMD_2D_GET_IMAGE_DATA:21,CMD_2D_PUT_IMAGE_DATA:22,CMD_2D_SCALE:23,CMD_2D_ROTATE:24,CMD_2D_TRANSLATE:25,CMD_2D_TRANSFORM:26,CMD_2D_SET_TRANSFORM:27,CMD_2D_DRAW_IMAGE_ARRAY:28,CMD_2D_RESET_TRANSFORM:29,CMD_2D_MEASURE_TEXT:30,CMD_2D_CREATE_PATTERN:31,CMD_2D_CREATE_LINEAR_GRADIENT:32,CMD_2D_CREATE_RADIAL_GRADIENT:33,CMD_2D_PRO_GLOBAL_ALPHA:100,CMD_2D_PRO_GLOBAL_COMPOSITE_OPERATION:101,CMD_2D_PRO_FILL_COLOR:102,CMD_2D_PRO_FILL_STYLE:103,CMD_2D_PRO_STROKE_COLOR:104,CMD_2D_PRO_STROKE_STYLE:105,CMD_2D_PRO_LINE_WIDTH:106,CMD_2D_PRO_LINE_CAP:107,CMD_2D_PRO_LINE_JOIN:108,CMD_2D_PRO_MITER_LIMIT:109,CMD_2D_PRO_FONT:110,CMD_2D_PRO_TEXT_ALIGN:111,CMD_2D_PRO_TEXT_BASELINE:112,CMD_2D_PRO_IMAGE_SMOOTHING_ENABLED:113,PRO_SET:1,PRO_GET:2}},function(e,t,r){var n=r(1),o=(__TT__GLOBAL__,__TT__GLOBAL__);__TT__GLOBAL__;!function(e){e.Canvas2DCmdV2Context=function t(o){this.__nativeObj=o.__nativeObj,this.__canvas=o.__canvas,this._fontName="",this._curState=new function(){this.globalAlpha=void 0,this.globalCompositeOperation=void 0,this.fillColor=void 0,this.fillStyle=void 0,this.strokeColor=void 0,this.strokeStyle=void 0,this.lineWidth=void 0,this.lineCap=void 0,this.lineJoin=void 0,this.miterLimit=void 0,this.font=void 0,this.textAlign=void 0,this.textBaseline=void 0,this.imageSmoothingEnabled=void 0,this.transform=void 0},this._savedState=new Array;var i=r(32);this.commandInstance=e.CommandQueueV2.Instance;var a=r(31).CommandConstant.canvas2d;function s(){var t=arguments.length,r="";if(t>=1&&arguments[0]instanceof e.WebImage)r=arguments[0].__nativeObj;else if(t>=1&&arguments[0]instanceof e.Canvas){var o=arguments[0].currentContext["2d"]?arguments[0].currentContext["2d"]:o=arguments[0].currentContext.webgl;r=o.__nativeObj}else console.error("canvas 2d drawImage arguments[0] type error!");for(var i=1;i<t;i++)if("number"!=typeof arguments[i])return void console.error("canvas 2d drawImage arguments type error! "+i+" "+n(arguments[i]));if(9==t)this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,r,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);else if(5==t)this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,r,arguments[1],arguments[2],arguments[3],arguments[4]);else{if(3!=t)return;this.commandInstance.pushCommand(this.__nativeObj,a.drawImage.cmd_id,r,arguments[1],arguments[2])}}function u(){this.commandInstance.pushCommand(this.__nativeObj,a.fill.cmd_id)}function c(){this.commandInstance.pushCommand(this.__nativeObj,a.stroke.cmd_id)}function f(){this.commandInstance.pushCommand(this.__nativeObj,a.rect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function l(){this.commandInstance.pushCommand(this.__nativeObj,a.fillRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function p(){this.commandInstance.pushCommand(this.__nativeObj,a.strokeRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function _(){this.commandInstance.pushCommand(this.__nativeObj,a.clearRect.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function d(){this.commandInstance.pushCommand(this.__nativeObj,a.beginPath.cmd_id)}function h(){this.commandInstance.pushCommand(this.__nativeObj,a.closePath.cmd_id)}function m(){this.commandInstance.pushCommand(this.__nativeObj,a.moveTo.cmd_id,arguments[0],arguments[1])}function y(){this.commandInstance.pushCommand(this.__nativeObj,a.lineTo.cmd_id,arguments[0],arguments[1])}function v(){this.commandInstance.pushCommand(this.__nativeObj,a.arcTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4])}function g(){var e=arguments.length;5==e?this.commandInstance.pushCommand(this.__nativeObj,a.arc.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6==e&&this.commandInstance.pushCommand(this.__nativeObj,a.arc.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function b(){this.commandInstance.pushCommand(this.__nativeObj,a.quadraticCurveTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function E(){this.commandInstance.pushCommand(this.__nativeObj,a.bezierCurveTo.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function A(){this._fontName="",this._savedState.push(this._curState),this.commandInstance.pushCommand(this.__nativeObj,a.save.cmd_id)}function O(){this._fontName="",this._curState=this._savedState.pop(),this.commandInstance.pushCommand(this.__nativeObj,a.restore.cmd_id)}function I(){var e=arguments.length;if(e>=3){var t=arguments[0];"string"!=typeof t&&(t="object"==n(t)?Object.prototype.toString.call(t):JSON.stringify(t));var r=arguments[1],o=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,a.fillText.cmd_id,t,r,o);else if(4==e){var i=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,a.fillText.cmd_id,t,r,o,i)}}}function T(){var e=arguments.length;if(e>=3){var t=arguments[1],r=arguments[2];if(3==e)this.commandInstance.pushCommand(this.__nativeObj,a.strokeText.cmd_id,arguments[0],t,r);else if(4==e){var n=arguments[2];this.commandInstance.pushCommand(this.__nativeObj,a.strokeText.cmd_id,arguments[0],t,r,n)}}}function S(){var e=arguments.length;0==e?this.commandInstance.pushCommand(this.__nativeObj,a.clip.cmd_id):2==e&&this.commandInstance.pushCommand(this.__nativeObj,a.clip.cmd_id,arguments[0],arguments[1])}function N(){var e=arguments.length;return 2==e?this.commandInstance.pushCommand(this.__nativeObj,a.createImageData.cmd_id,arguments[0],arguments[1]):1==e?this.commandInstance.pushCommand(this.__nativeObj,a.createImageData.cmd_id,arguments[0]):void 0}function w(){if(4==arguments.length)return this.commandInstance.pushCommand(this.__nativeObj,a.getImageData.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3])}function C(){var e=arguments.length;if(e>=3){var t=arguments[0],r=t.width,n=t.height;3==e?this.commandInstance.pushCommand(this.__nativeObj,a.putImageData.cmd_id,t.data,r,n,arguments[1],arguments[2]):7==e&&this.commandInstance.pushCommand(this.__nativeObj,a.putImageData.cmd_id,t.data,r,n,arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6])}}function R(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.scale.cmd_id,arguments[0],arguments[1])}function M(){1==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.rotate.cmd_id,arguments[0])}function P(){2==arguments.length&&this.commandInstance.pushCommand(this.__nativeObj,a.translate.cmd_id,arguments[0],arguments[1])}function j(){this.commandInstance.pushCommand(this.__nativeObj,a.transform.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function D(){this.commandInstance.pushCommand(this.__nativeObj,a.setTransform.cmd_id,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}function x(){this.commandInstance.pushCommand(this.__nativeObj,a.resetTransform.cmd_id)}function L(){var e=this.commandInstance.pushCommand(this.__nativeObj,a.measureText.cmd_id,arguments[0]);return null!=e&&(e.type="TextMetrics"),e}function B(){var t=e.Triton.Director.screenScale,r=this.getImageData(0,0,this.size.width/t,this.size.height/t),n=e.Triton.Misc.encodeBase64FromBuffer(r);return n&&(n="data:image/png;base64,"+n),n}function k(e,t){return this.commandInstance.pushCommand(this.__nativeObj,a.createPattern.cmd_id,e,t)}function F(e,t,r,n){return this.commandInstance.pushCommand(this.__nativeObj,a.createLinearGradient.cmd_id,e,t,r,n)}function U(e,t,r,n,o,i){return this.commandInstance.pushCommand(this.__nativeObj,a.createRadialGradient.cmd_id,e,t,r,n,o,i)}Object.defineProperty(t.prototype,"globalAlpha",{get:function(){return null==this._curState.globalAlpha&&(this._curState.globalAlpha=this.commandInstance.pushCommand(this.__nativeObj,a.globalAlpha.cmd_id,2)),this._curState.globalAlpha},set:function(e){this._curState.globalAlpha=e,this.commandInstance.pushCommand(this.__nativeObj,a.globalAlpha.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"globalCompositeOperation",{get:function(){return null==this._curState.globalCompositeOperation&&(this._curState.globalCompositeOperation=this.commandInstance.pushCommand(this.__nativeObj,a.globalCompositeOperation.cmd_id,2)),this._curState.globalCompositeOperation},set:function(e){this._curState.globalCompositeOperation=e,this.commandInstance.pushCommand(this.__nativeObj,a.globalCompositeOperation.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillColor",{get:function(){return null==this._curState.fillColor&&(this._curState.fillColor=this.commandInstance.pushCommand(this.__nativeObj,a.fillColor.cmd_id,2)),this._curState.fillColor},set:function(e){this._curState.fillColor=e,this.commandInstance.pushCommand(this.__nativeObj,a.fillColor.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillStyle",{get:function(){return null==this._curState.fillStyle&&(this._curState.fillStyle=this.commandInstance.pushCommand(this.__nativeObj,a.fillStyle.cmd_id,2)),this._curState.fillStyle},set:function(e){this._curState.fillStyle=e,this.commandInstance.pushCommand(this.__nativeObj,a.fillStyle.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeColor",{get:function(){return null==this._curState.strokeColor&&(this._curState.strokeColor=this.commandInstance.pushCommand(this.__nativeObj,a.strokeColor.cmd_id,2)),this._curState.strokeColor},set:function(e){this._curState.strokeColor=e,this.commandInstance.pushCommand(this.__nativeObj,a.strokeColor.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeStyle",{get:function(){return null==this._curState.strokeStyle&&(this._curState.strokeStyle=this.commandInstance.pushCommand(this.__nativeObj,a.strokeStyle.cmd_id,2)),this._curState.strokeStyle},set:function(e){this._curState.strokeStyle=e,this.commandInstance.pushCommand(this.__nativeObj,a.strokeStyle.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineWidth",{get:function(){return null==this._curState.lineWidth&&(this._curState.lineWidth=this.commandInstance.pushCommand(this.__nativeObj,a.lineWidth.cmd_id,2)),this._curState.lineWidth},set:function(e){this._curState.lineWidth=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineWidth.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return null==this._curState.lineCap&&(this._curState.lineCap=this.commandInstance.pushCommand(this.__nativeObj,a.lineCap.cmd_id,2)),this._curState.lineCap},set:function(e){this._curState.lineCap=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineCap.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return null==this._curState.lineJoin&&(this._curState.lineJoin=this.commandInstance.pushCommand(this.__nativeObj,a.lineJoin.cmd_id,2)),this._curState.lineJoin},set:function(e){this._curState.lineJoin=e,this.commandInstance.pushCommand(this.__nativeObj,a.lineJoin.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return null==this._curState.miterLimit&&(this._curState.miterLimit=this.commandInstance.pushCommand(this.__nativeObj,a.miterLimit.cmd_id,2)),this._curState.miterLimit},set:function(e){this._curState.miterLimit=e,this.commandInstance.pushCommand(this.__nativeObj,a.miterLimit.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return null==this._curState.font&&(this._curState.font=this.commandInstance.pushCommand(this.__nativeObj,a.font.cmd_id,2)),this._curState.font},set:function(e){e&&"string"==typeof e?this._fontName!==e&&(this.commandInstance.pushCommand(this.__nativeObj,a.font.cmd_id,1,i.createFontObj(e)),this._curState.font=e):console.error("context.font set: param format error! param is null or not a string! param ="+e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return null==this._curState.textAlign&&(this._curState.textAlign=this.commandInstance.pushCommand(this.__nativeObj,a.textAlign.cmd_id,2)),this._curState.textAlign},set:function(e){this._curState.textAlign=e,this.commandInstance.pushCommand(this.__nativeObj,a.textAlign.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return null==this._curState.textBaseline&&(this._curState.textBaseline=this.commandInstance.pushCommand(this.__nativeObj,a.textBaseline.cmd_id,2)),this._curState.textBaseline},set:function(e){this._curState.textBaseline=e,this.commandInstance.pushCommand(this.__nativeObj,a.textBaseline.cmd_id,1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageSmoothingEnabled",{get:function(){return null==this._curState.imageSmoothingEnabled&&(this._curState.imageSmoothingEnabled=this.commandInstance.pushCommand(this.__nativeObj,a.imageSmoothingEnabled.cmd_id,2)),this._curState.imageSmoothingEnabled},set:function(e){this._curState.imageSmoothingEnabled=e,this.commandInstance.pushCommand(this.__nativeObj,a.imageSmoothingEnabled.cmd_id,1,e)},enumerable:!0,configurable:!0}),e.Canvas2DCmdV2ContextInit||(e.Canvas2DCmdV2ContextInit=!0,t.prototype.drawImage=s,t.prototype.fill=u,t.prototype.stroke=c,t.prototype.rect=f,t.prototype.fillRect=l,t.prototype.strokeRect=p,t.prototype.clearRect=_,t.prototype.beginPath=d,t.prototype.closePath=h,t.prototype.moveTo=m,t.prototype.lineTo=y,t.prototype.arcTo=v,t.prototype.arc=g,t.prototype.quadraticCurveTo=b,t.prototype.bezierCurveTo=E,t.prototype.save=A,t.prototype.restore=O,t.prototype.fillText=I,t.prototype.strokeText=T,t.prototype.clip=S,t.prototype.createImageData=N,t.prototype.getImageData=w,t.prototype.putImageData=C,t.prototype.scale=R,t.prototype.rotate=M,t.prototype.translate=P,t.prototype.transform=j,t.prototype.setTransform=D,t.prototype.resetTransform=x,t.prototype.measureText=L,t.prototype.toDataURL=B,t.prototype.createPattern=k,t.prototype.createLinearGradient=F,t.prototype.createRadialGradient=U)}}(o.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){function t(){return scriptEngineContextType&&scriptEngineContextType==CONTEXT_TYPE_OPENDATA}function r(t){this.__nativeObj=t,this.type="canvas",this._width=this.__nativeObj.canvasWidth,this._height=this.__nativeObj.canvasHeight,this.currentContext=[],this.commandInstance=e.CommandQueueV2.Instance,this.isShared=!1,Object.getOwnPropertyNames(this.__nativeObj).forEach(function(e){var t=e;"width"!=t&&"height"!=t&&Object.defineProperty(this,t,{get:function(){return this.__nativeObj[t]},set:function(e){this.__nativeObj[t]=e}})},this)}Object.defineProperty(r.prototype,"width",{get:function(){return this.isShared&&t()?this.__nativeObj.canvasWidth:this._width},set:function(e){e>16384||e<0?console.error("canvas set width: param error! width="+e):(this.currentContext.webgl&&(this.currentContext.webgl.drawingBufferWidth=e),this._width=e,this.__nativeObj.canvasWidth=e)}}),Object.defineProperty(r.prototype,"height",{get:function(){return this.isShared&&t()?this.__nativeObj.canvasHeight:this._height},set:function(e){e>16384||e<0?console.error("canvas set height: param error! height="+e):(this.currentContext.webgl&&(this.currentContext.webgl.drawingBufferHeight=e),this._height=e,this.__nativeObj.canvasHeight=e)}}),r.prototype.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var r=arguments[0];if(this.currentContext[r])return this.currentContext[r];if("2d"==r)return n=this.__nativeObj.getContext.apply(this.__nativeObj,arguments),this.currentContext[r]=e.CanvasContext2D(this.__nativeObj,n),this.currentContext[r].canvas=this,this.currentContext[r];if("webgl"==r&&!t()){var n=this.__nativeObj.getContext.apply(this.__nativeObj,arguments);return this.currentContext[r]=e.CanvasContextWebGL(n),this.currentContext[r].canvas=this,this.currentContext[r].drawingBufferHeight=this.height,this.currentContext[r].drawingBufferWidth=this.width,this.currentContext[r]}}else;},r.prototype.toDataURL=function(){if(e.CommandQueue.Instance.flushCmd(),this.__nativeObj)return"data:image/png;base64,"+this.__nativeObj.toDataURL()},r.prototype.toTempFilePath=function(){return(!arguments[0].x||arguments[0].x<0)&&(arguments[0].x=0),(!arguments[0].y||arguments[0].y<0)&&(arguments[0].y=0),(!arguments[0].width||arguments[0].width<0)&&(arguments[0].width=this.width),(!arguments[0].height||arguments[0].height<0)&&(arguments[0].height=this.height),(!arguments[0].destWidth||arguments[0].destWidth<0)&&(arguments[0].destWidth=this.width),(!arguments[0].destHeight||arguments[0].destHeight<0)&&(arguments[0].destHeight=this.height),(!arguments[0].fileType||"png"!==arguments[0].fileType&&"jpg"!==arguments[0].fileType)&&(arguments[0].fileType="png"),(!arguments[0].quality||arguments[0].quality<=0||arguments[0].quality>1)&&(arguments[0].quality=1),this.__nativeObj.toTempFilePath(arguments[0])},r.prototype.toTempFilePathSync=function(){e.CommandQueue.Instance.flushCmd();var t=[];return arguments[0]instanceof Object?(t.push(arguments[0].x&&arguments[0].x>=0?arguments[0].x:0),t.push(arguments[0].y&&arguments[0].y>=0?arguments[0].y:0),t.push(arguments[0].width&&arguments[0].width>0?arguments[0].width:this.width),t.push(arguments[0].height&&arguments[0].height>0?arguments[0].height:this.height),t.push(arguments[0].destWidth&&arguments[0].destWidth>0?arguments[0].destWidth:this.width),t.push(arguments[0].destHeight&&arguments[0].destHeight>0?arguments[0].destHeight:this.height),t.push(!arguments[0].fileType||"png"!==arguments[0].fileType&&"jpg"!==arguments[0].fileType?"png":arguments[0].fileType),t.push(arguments[0].quality&&arguments[0].quality>0&&arguments[0].quality<=1?arguments[0].quality:1)):t=[0,0,this.width,this.height,this.width,this.height,"png",1],this.__nativeObj.toTempFilePathSync.apply(this.__nativeObj,t)},r.prototype.isScreen=function(){return this.__nativeObj.isScreen()},r.prototype.addEventListener=function(e,t){console.log("---adapter---Canvas.addEventListener todo???")},r.prototype.removeEventListener=function(e,t){console.log("---adapter---Canvas.removeEventListener todo???")},e.Canvas=r}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;r.__ttObjdec__=r.__ttObjdec__||{}},function(e,t,r){__TT__GLOBAL__;var n=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){function t(n){var o=r(19),i=r(33),a=r(34);function s(){t.prototype.activeTexture=u,t.prototype.attachShader=c,t.prototype.bindAttribLocation=f,t.prototype.bindBuffer=p,t.prototype.bindFramebuffer=_,t.prototype.bindRenderbuffer=d,t.prototype.bindTexture=h,t.prototype.blendColor=m,t.prototype.blendEquation=y,t.prototype.blendEquationSeparate=v,t.prototype.blendFunc=g,t.prototype.blendFuncSeparate=b,t.prototype.bufferData=E,t.prototype.bufferSubData=A,t.prototype.checkFramebufferStatus=O,t.prototype.clear=I,t.prototype.clearColor=T,t.prototype.clearDepth=S,t.prototype.clearStencil=N,t.prototype.colorMask=w,t.prototype.compileShader=C,t.prototype.compressedTexImage2D=R,t.prototype.compressedTexSubImage2D=M,t.prototype.copyTexImage2D=P,t.prototype.copyTexSubImage2D=j,t.prototype.createBuffer=x,t.prototype.createFramebuffer=L,t.prototype.createProgram=B,t.prototype.createRenderbuffer=k,t.prototype.createShader=F,t.prototype.createTexture=U,t.prototype.cullFace=G,t.prototype.deleteBuffer=H,t.prototype.deleteFramebuffer=q,t.prototype.deleteProgram=W,t.prototype.deleteRenderbuffer=X,t.prototype.deleteShader=$,t.prototype.deleteTexture=z,t.prototype.depthFunc=J,t.prototype.depthMask=Y,t.prototype.depthRange=K,t.prototype.detachShader=Q,t.prototype.disable=Z,t.prototype.disableVertexAttribArray=ee,t.prototype.drawArrays=te,t.prototype.drawArraysInstanced=re,t.prototype.drawElements=ne,t.prototype.drawElementsInstanced=oe,t.prototype.enable=ie,t.prototype.enableVertexAttribArray=ae,t.prototype.finish=se,t.prototype.flush=ue,t.prototype.framebufferRenderbuffer=ce,t.prototype.framebufferTexture2D=fe,t.prototype.frontFace=le,t.prototype.generateMipmap=pe,t.prototype.getActiveAttrib=Nt,t.prototype.getActiveUniform=wt,t.prototype.getAttachedShaders=Ct,t.prototype.getAttribLocation=_e,t.prototype.getBufferParameter=Rt,t.prototype.getError=de,t.prototype.getExtension=kt,t.prototype.getContextAttributes=Ft,t.prototype.getSupportedExtensions=Ut,t.prototype.getFramebufferAttachmentParameter=Mt,t.prototype.getParameter=Vt,t.prototype.getProgramInfoLog=me,t.prototype.getProgramParameter=Pt,t.prototype.getRenderbufferParameter=jt,t.prototype.getShaderInfoLog=ye,t.prototype.getShaderParameter=Dt,t.prototype.getShaderPrecisionFormat=he,t.prototype.getShaderSource=ve,t.prototype.getTexParameter=xt,t.prototype.getUniform=Bt,t.prototype.getUniformLocation=ge,t.prototype.getVertexAttrib=Lt,t.prototype.getVertexAttribOffset=be,t.prototype.readPixels=De,t.prototype.hint=Ee,t.prototype.isBuffer=Oe,t.prototype.isEnabled=Ie,t.prototype.isFramebuffer=Te,t.prototype.isProgram=Se,t.prototype.isRenderbuffer=Ne,t.prototype.isShader=we,t.prototype.isTexture=Ce,t.prototype.lineWidth=Re,t.prototype.linkProgram=Me,t.prototype.pixelStorei=Pe,t.prototype.polygonOffset=je,t.prototype.renderbufferStorage=xe,t.prototype.sampleCoverage=Le,t.prototype.scissor=Be,t.prototype.shaderSource=ke,t.prototype.stencilFunc=Fe,t.prototype.stencilFuncSeparate=Ue,t.prototype.stencilMask=Ge,t.prototype.stencilMaskSeparate=Ve,t.prototype.stencilOp=He,t.prototype.stencilOpSeparate=qe,t.prototype.texImage2D=We,t.prototype.texParameterf=Xe,t.prototype.texParameteri=$e,t.prototype.texSubImage2D=ze,t.prototype.uniform1f=Je,t.prototype.uniform1fv=nt,t.prototype.uniform1i=Ze,t.prototype.uniform1iv=st,t.prototype.uniform2f=Ye,t.prototype.uniform2fv=ot,t.prototype.uniform2i=et,t.prototype.uniform2iv=ut,t.prototype.uniform3f=Ke,t.prototype.uniform3fv=it,t.prototype.uniform3i=tt,t.prototype.uniform3iv=ct,t.prototype.uniform4f=Qe,t.prototype.uniform4fv=at,t.prototype.uniform4i=rt,t.prototype.uniform4iv=ft,t.prototype.uniformMatrix2fv=lt,t.prototype.uniformMatrix3fv=pt,t.prototype.uniformMatrix4fv=_t,t.prototype.useProgram=dt,t.prototype.validateProgram=ht,t.prototype.vertexAttrib1f=mt,t.prototype.vertexAttrib1fv=bt,t.prototype.vertexAttrib2f=yt,t.prototype.vertexAttrib2fv=Et,t.prototype.vertexAttrib3f=vt,t.prototype.vertexAttrib3fv=At,t.prototype.vertexAttrib4f=gt,t.prototype.vertexAttrib4fv=Ot,t.prototype.vertexAttribDivisor=It,t.prototype.vertexAttribPointer=Tt,t.prototype.viewport=St,t.prototype.isContextLost=Gt}function u(e){null!=e&&this.__nativeObj.activeTexture(e)}function c(e,t){null!=t&&null!=e&&this.__nativeObj.attachShader(o.unwrap(e),o.unwrap(t))}function f(e,t,r){null!=e&&this.__nativeObj.bindAttribLocation(o.unwrap(e),t,r)}function l(e){this.__nativeObj.bindVertexArray(o.unwrap(e))}function p(e,t){null==t&&(t=0),this.__nativeObj.bindBuffer(e,o.unwrap(t))}function _(e,t){var r=o.unwrap(t);this.__nativeObj.bindFramebuffer(e,r)}function d(e,t){var r=o.unwrap(t);this.__nativeObj.bindRenderbuffer(e,r)}function h(e,t){null!=t&&this.__nativeObj.bindTexture(e,o.unwrap(t))}function m(e,t,r,n){this.__nativeObj.blendColor(e,t,r,n)}function y(e){this.__nativeObj.blendEquation(e)}function v(e,t){this.__nativeObj.blendEquationSeparate(e,t)}function g(e,t){this.__nativeObj.blendFunc(e,t)}function b(e,t,r,n){this.__nativeObj.blendFuncSeparate(e,t,r,n)}function E(e,t,r){t=o.getBufferData(t),this.__nativeObj.bufferData(e,t,r)}function A(e,t,r){this.__nativeObj.bufferSubData(e,t,r)}function O(e){return this.__nativeObj.checkFramebufferStatus(e)}function I(e){this.__nativeObj.clear(e)}function T(e,t,r,n){this.__nativeObj.clearColor(e,t,r,n)}function S(e){this.__nativeObj.clearDepth(e)}function N(e){this.__nativeObj.clearStencil(e)}function w(e,t,r,n){this.__nativeObj.colorMask(e,t,r,n)}function C(e){null!=e&&this.__nativeObj.compileShader(o.unwrap(e))}function R(e,t,r,n,o,i,a){this.__nativeObj.compressedTexImage2D(e,t,r,n,o,i,a)}function M(e,t,r,n,o,i,a,s){this.__nativeObj.compressedTexSubImage2D(e,t,r,n,o,i,a,s)}function P(e,t,r,n,o,i,a,s){this.__nativeObj.copyTexImage2D(e,t,r,n,o,i,a,s)}function j(e,t,r,n,o,i,a,s){this.__nativeObj.copyTexSubImage2D(e,t,r,n,o,i,a,s)}function D(){return o.wrap(this.__nativeObj.createVertexArray())}function x(){return o.wrap(this.__nativeObj.createBuffer())}function L(){return o.wrap(this.__nativeObj.createFramebuffer())}function B(){return o.wrap(this.__nativeObj.createProgram())}function k(){return o.wrap(this.__nativeObj.createRenderbuffer())}function F(e){return e==this.VERTEX_SHADER||e==this.FRAGMENT_SHADER?o.wrap(this.__nativeObj.createShader(e)):(console.log("gl.createShader(type) param error! type: Either gl.VERTEX_SHADER or gl.FRAGMENT_SHADER!"),null)}function U(){return o.wrap(this.__nativeObj.createTexture())}function G(e){this.__nativeObj.cullFace(e)}function V(e){this.__nativeObj.deleteVertexArray(o.unwrap(e))}function H(e){null!=e&&this.__nativeObj.deleteBuffer(o.unwrap(e))}function q(e){null!=e&&this.__nativeObj.deleteFramebuffer(o.unwrap(e))}function W(e){null!=e&&this.__nativeObj.deleteProgram(o.unwrap(e))}function X(e){null!=e&&this.__nativeObj.deleteRenderbuffer(o.unwrap(e))}function $(e){null!=e&&this.__nativeObj.deleteShader(o.unwrap(e))}function z(e){null!=e&&this.__nativeObj.deleteTexture(o.unwrap(e))}function J(e){this.__nativeObj.depthFunc(e)}function Y(e){this.__nativeObj.depthMask(e)}function K(e,t){this.__nativeObj.depthRange(e,t)}function Q(e,t){null!=e&&null!=t&&this.__nativeObj.detachShader(o.unwrap(e),o.unwrap(t))}function Z(e){this.__nativeObj.disable(e)}function ee(e){this.__nativeObj.disableVertexAttribArray(e)}function te(e,t,r){this.__nativeObj.drawArrays(e,t,r)}function re(e,t,r,n){this.__nativeObj.drawArraysInstanced(e,t,r,n)}function ne(e,t,r,n){this.__nativeObj.drawElements(e,t,r,n)}function oe(e,t,r,n,o){this.__nativeObj.drawElementsInstanced(e,t,r,n,o)}function ie(e){this.__nativeObj.enable(e)}function ae(e){this.__nativeObj.enableVertexAttribArray(e)}function se(){this.__nativeObj.finish()}function ue(){this.__nativeObj.flush()}function ce(e,t,r,n){null!=n&&this.__nativeObj.framebufferRenderbuffer(e,t,r,o.unwrap(n))}function fe(e,t,r,n,i){null!=n&&this.__nativeObj.framebufferTexture2D(e,t,r,o.unwrap(n),i)}function le(e){this.__nativeObj.frontFace(e)}function pe(e){this.__nativeObj.generateMipmap(e)}function _e(e,t){return this.__nativeObj.getAttribLocation(o.unwrap(e),t)}function de(){return this.__nativeObj.getError()}function he(e,t){return this.__nativeObj.getShaderPrecisionFormat(e,t)}function me(e){return null==e?null:this.__nativeObj.getProgramInfoLog(o.unwrap(e))}function ye(e){return null==e?null:this.__nativeObj.getShaderInfoLog(o.unwrap(e))}function ve(e){return null==e?null:this.__nativeObj.getShaderSource(o.unwrap(e))}function ge(e,t){return null==e?-1:o.wrap(this.__nativeObj.getUniformLocation(o.unwrap(e),t))}function be(e,t){return this.__nativeObj.getVertexAttribOffset(e,t)}function Ee(e,t){this.__nativeObj.hint(e,t)}function Ae(e){return this.__nativeObj.isVertexArray(o.unwrap(e))}function Oe(e){return null!=e&&this.__nativeObj.isBuffer(o.unwrap(e))}function Ie(e){return this.__nativeObj.isEnabled(e)}function Te(e){return null!=e&&this.__nativeObj.isFramebuffer(o.unwrap(e))}function Se(e){return null!=e&&this.__nativeObj.isProgram(o.unwrap(e))}function Ne(e){return null!=e&&this.__nativeObj.isRenderbuffer(o.unwrap(e))}function we(e){return null!=e&&this.__nativeObj.isShader(o.unwrap(e))}function Ce(e){return null!=e&&this.__nativeObj.isTexture(o.unwrap(e))}function Re(e){this.__nativeObj.lineWidth(e)}function Me(e){null!=e&&this.__nativeObj.linkProgram(o.unwrap(e))}function Pe(e,t){this.__nativeObj.pixelStorei(e,t)}function je(e,t){this.__nativeObj.polygonOffset(e,t)}function De(e,t,r,n,o,i,a){this.__nativeObj.readPixels(e,t,r,n,o,i,a)}function xe(e,t,r,n){this.__nativeObj.renderbufferStorage(e,t,r,n)}function Le(e,t){this.__nativeObj.sampleCoverage(e,t)}function Be(e,t,r,n){this.__nativeObj.scissor(e,t,r,n)}function ke(e,t){null!=e&&this.__nativeObj.shaderSource(o.unwrap(e),t)}function Fe(e,t,r){this.__nativeObj.stencilFunc(e,t,r)}function Ue(e,t,r,n){this.__nativeObj.stencilFuncSeparate(e,t,r,n)}function Ge(e){this.__nativeObj.stencilMask(e)}function Ve(e,t){this.__nativeObj.stencilMaskSeparate(e,t)}function He(e,t,r){this.__nativeObj.stencilOp(e,t,r)}function qe(e,t,r,n){this.__nativeObj.stencilOpSeparate(e,t,r,n)}function We(t,r,n){switch(arguments.length){case 6:var o=arguments[3],i=arguments[4],a=arguments[5];if(null==a)return void console.error("texImage2D param error.  arg[5] is undefined!");if(Object.prototype.hasOwnProperty.call(a,"__nativeObj"))if(a instanceof e.Canvas){var s=a.currentContext["2d"]?a.currentContext["2d"]:s=a.currentContext.webgl;if(null==s)return void console.error("texImage2D param error. canvas has no context");this.__nativeObj.texImage2D(t,r,n,o,i,s.__nativeObj)}else this.__nativeObj.texImage2D(t,r,n,o,i,a.__nativeObj);else a.width>0&&a.height>0?this.__nativeObj.texImage2D(t,r,n,o,i,a):Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0&&this.__nativeObj.texImage2D(t,r,n,o,i,a);break;case 9:var u=arguments[3],c=arguments[4],f=arguments[5],l=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texImage2D(t,r,n,u,c,f,o,i,l)}}function Xe(e,t,r){this.__nativeObj.texParameterf(e,t,r)}function $e(e,t,r){this.__nativeObj.texParameteri(e,t,r)}function ze(e,t,r,n){switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6];Object.prototype.hasOwnProperty.call(a,"__nativeObj")?null!=a.type&&"canvas"==a.type?this.__nativeObj.texSubImage2D(e,t,r,n,o,i,a.currentContext["2d"].__nativeObj):this.__nativeObj.texSubImage2D(e,t,r,n,o,i,a.__nativeObj):a.width>0&&a.height>0?this.__nativeObj.texSubImage2D(e,t,r,n,o,i,a):Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0&&this.__nativeObj.texSubImage2D(e,t,r,n,o,i,a);break;case 9:var s=arguments[4],u=arguments[5],c=(o=arguments[6],i=arguments[7],arguments[8]);this.__nativeObj.texSubImage2D(e,t,r,n,s,u,o,i,c)}}function Je(e,t){this.__nativeObj.uniform1f(o.unwrap(e),t)}function Ye(e,t,r){this.__nativeObj.uniform2f(o.unwrap(e),t,r)}function Ke(e,t,r,n){this.__nativeObj.uniform3f(o.unwrap(e),t,r,n)}function Qe(e,t,r,n,i){this.__nativeObj.uniform4f(o.unwrap(e),t,r,n,i)}function Ze(e,t){var r=o.unwrap(e);o.isNumber(r)&&o.isNumberOrBool(t)&&this.__nativeObj.uniform1i(r,t)}function et(e,t,r){this.__nativeObj.uniform2i(o.unwrap(e),t,r)}function tt(e,t,r,n){this.__nativeObj.uniform3i(o.unwrap(e),t,r,n)}function rt(e,t,r,n,i){this.__nativeObj.uniform4i(o.unwrap(e),t,r,n,i)}function nt(e,t){this.__nativeObj.uniform1fv(o.unwrap(e),o.getFloat32Array(t))}function ot(e,t){this.__nativeObj.uniform2fv(o.unwrap(e),o.getFloat32Array(t))}function it(e,t){this.__nativeObj.uniform3fv(o.unwrap(e),o.getFloat32Array(t))}function at(e,t){this.__nativeObj.uniform4fv(o.unwrap(e),o.getFloat32Array(t))}function st(e,t){this.__nativeObj.uniform1iv(o.unwrap(e),o.getInt32Array(t))}function ut(e,t){this.__nativeObj.uniform2iv(o.unwrap(e),o.getInt32Array(t))}function ct(e,t){this.__nativeObj.uniform3iv(o.unwrap(e),o.getInt32Array(t))}function ft(e,t){this.__nativeObj.uniform4iv(o.unwrap(e),o.getInt32Array(t))}function lt(e,t,r){this.__nativeObj.uniformMatrix2fv(o.unwrap(e),t,o.getFloat32Array(r))}function pt(e,t,r){this.__nativeObj.uniformMatrix3fv(o.unwrap(e),t,o.getFloat32Array(r))}function _t(e,t,r){this.__nativeObj.uniformMatrix4fv(o.unwrap(e),t,o.getFloat32Array(r))}function dt(e){null!=e&&this.__nativeObj.useProgram(o.unwrap(e))}function ht(e){null!=e&&this.__nativeObj.validateProgram(o.unwrap(e))}function mt(e,t){this.__nativeObj.vertexAttrib1f(e,t)}function yt(e,t,r){this.__nativeObj.vertexAttrib2f(e,t,r)}function vt(e,t,r,n){this.__nativeObj.vertexAttrib3f(e,t,r,n)}function gt(e,t,r,n,o){this.__nativeObj.vertexAttrib4f(e,t,r,n,o)}function bt(e,t){this.__nativeObj.vertexAttrib1fv(e,o.getFloat32Array(value))}function Et(e,t){this.__nativeObj.vertexAttrib2fv(e,o.getFloat32Array(value))}function At(e,t){this.__nativeObj.vertexAttrib3fv(e,o.getFloat32Array(value))}function Ot(e,t){this.__nativeObj.vertexAttrib4fv(e,o.getFloat32Array(value))}function It(e,t){this.__nativeObj.vertexAttribDivisor(e,t)}function Tt(e,t,r,n,o,i,a){if(void 0===a){var s={index:e,size:t,type:r,normalized:n,stride:o,offset:i};void 0===this.__nativeObj.recordVertexAttribPointer&&(this.__nativeObj.recordVertexAttribPointer=[]);for(var u=!1,c=0;c<this.__nativeObj.recordVertexAttribPointer.length;c++){if(this.__nativeObj.recordVertexAttribPointer[c].index==s.index){u=!0,this.__nativeObj.recordVertexAttribPointer[c]=s;break}}0==u&&this.__nativeObj.recordVertexAttribPointer.push(s)}this.__nativeObj.vertexAttribPointer(e,t,r,n,o,i)}function St(e,t,r,n){this.__nativeObj.viewport(e,t,r,n)}function Nt(e,t){if(null!=e)return this.__nativeObj.getActiveAttrib(o.unwrap(e),t)}function wt(e,t){if(null!=e)return this.__nativeObj.getActiveUniform(o.unwrap(e),t)}function Ct(e){if(null!=e){var t=this.__nativeObj.getAttachedShaders(o.unwrap(e));if(t instanceof Array){for(var r=new Array,n=t.length,i=0;i<n;i++){var a=o.wrap(t[i]);r.push(a)}return r}return t}}function Rt(e,t){return this.__nativeObj.getBufferParameter(e,t)}function Mt(e,t,r){return objID=this.__nativeObj.getFramebufferAttachmentParameter(e,t,r),r==this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME&&o.isNumber(objID)?o.wrap(this.__nativeObj.createBuffer()):this.__nativeObj.getFramebufferAttachmentParameter(e,t,r)}function Pt(e,t){if(null!=e)return this.__nativeObj.getProgramParameter(o.unwrap(e),t)}function jt(e,t){return this.__nativeObj.getRenderbufferParameter(e,t)}function Dt(e,t){if(null!=e)return this.__nativeObj.getShaderParameter(o.unwrap(e),t)}function xt(e,t){return this.__nativeObj.getTexParameter(e,t)}function Lt(e,t){return this.__nativeObj.getVertexAttrib(e,t)}function Bt(e,t){if(null!=e)return this.__nativeObj.getUniform(o.unwrap(e),t)}function kt(e){var t=this.__nativeObj.getExtension(e);if(t)return"OES_vertex_array_object"==e?this.createOESVertexArrayObject(this.__nativeObj,t):t;if(this.__nativeObj.isSupportES3()){if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new i.ANGLEInstancedArrays(this)),this.__irExt;if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new i.VertexArrayObject(this)),this.__vaoExt}return null}function Ft(){return this.__nativeObj.getContextAttributes()}function Ut(){return this.__nativeObj.getSupportedExtensions()}function Gt(){return!1}function Vt(e){switch(e){case this.ACTIVE_TEXTURE:case this.ALPHA_BITS:case this.ARRAY_BUFFER_BINDING:case this.BLUE_BITS:case this.CULL_FACE_MODE:case this.CURRENT_PROGRAM:case this.DEPTH_BITS:case this.DEPTH_FUNC:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.FRAMEBUFFER_BINDING:case this.FRONT_FACE:case this.GENERATE_MIPMAP_HINT:case this.GREEN_BITS:case this.IMPLEMENTATION_COLOR_READ_FORMAT:case this.IMPLEMENTATION_COLOR_READ_TYPE:case this.MAX_COMBINED_TEXTURE_IMAGE_UNITS:case this.MAX_CUBE_MAP_TEXTURE_SIZE:case this.MAX_FRAGMENT_UNIFORM_VECTORS:case this.MAX_RENDERBUFFER_SIZE:case this.MAX_TEXTURE_IMAGE_UNITS:case this.MAX_TEXTURE_SIZE:case this.MAX_VARYING_VECTORS:case this.MAX_VERTEX_ATTRIBS:case this.MAX_VERTEX_TEXTURE_IMAGE_UNITS:case this.MAX_VERTEX_UNIFORM_VECTORS:case this.NUM_COMPRESSED_TEXTURE_FORMATS:case this.NUM_SHADER_BINARY_FORMATS:case this.PACK_ALIGNMENT:case this.RED_BITS:case this.RENDERBUFFER_BINDING:case this.SAMPLE_BUFFERS:case this.SAMPLES:case this.STENCIL_BACK_FAIL:case this.STENCIL_BACK_FUNC:case this.STENCIL_BACK_PASS_DEPTH_FAIL:case this.STENCIL_BACK_PASS_DEPTH_PASS:case this.STENCIL_BACK_REF:case this.STENCIL_BACK_VALUE_MASK:case this.STENCIL_BACK_WRITEMASK:case this.STENCIL_BITS:case this.STENCIL_CLEAR_VALUE:case this.STENCIL_FAIL:case this.STENCIL_FUNC:case this.STENCIL_PASS_DEPTH_FAIL:case this.STENCIL_PASS_DEPTH_PASS:case this.STENCIL_REF:case this.STENCIL_VALUE_MASK:case this.STENCIL_WRITEMASK:case this.SUBPIXEL_BITS:case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:case this.UNPACK_ALIGNMENT:case this.BLEND_DST_ALPHA:case this.BLEND_DST_RGB:case this.BLEND_EQUATION_ALPHA:case this.BLEND_EQUATION_RGB:case this.BLEND_SRC_ALPHA:case this.BLEND_SRC_RGB:case this.VERTEX_ARRAY_BINDING:return e==this.CURRENT_PROGRAM||e==this.FRAMEBUFFER_BINDING||e==this.RENDERBUFFER_BINDING||e==this.ARRAY_BUFFER_BINDING||e==this.VERTEX_ARRAY_BINDING||e==this.ELEMENT_ARRAY_BUFFER_BINDING||e==this.TEXTURE_BINDING_CUBE_MAP||e==this.TEXTURE_BINDING_CUBE_MAP?o.wrap(this.__nativeObj.getParameterInt(e,1)):this.__nativeObj.getParameterInt(e,1);case this.ALIASED_LINE_WIDTH_RANGE:case this.ALIASED_POINT_SIZE_RANGE:case this.DEPTH_RANGE:case this.MAX_VIEWPORT_DIMS:return this.__nativeObj.getParameterFloat(e,2);case this.BLEND:case this.CULL_FACE:case this.DEPTH_TEST:case this.DEPTH_WRITEMASK:case this.DITHER:case this.POLYGON_OFFSET_FILL:case this.SAMPLE_ALPHA_TO_COVERAGE:case this.SAMPLE_COVERAGE:case this.SAMPLE_COVERAGE_INVERT:case this.SCISSOR_TEST:case this.SHADER_COMPILER:case this.STENCIL_TEST:return this.__nativeObj.getParameterBool(e,1);case this.BLEND_COLOR:case this.COLOR_CLEAR_VALUE:return this.__nativeObj.getParameterFloat(e,4);case this.SCISSOR_BOX:case this.VIEWPORT:return this.__nativeObj.getParameterInt(e,4);case this.COLOR_WRITEMASK:return this.__nativeObj.getParameterBool(e,4);case this.POLYGON_OFFSET_FACTOR:case this.POLYGON_OFFSET_UNITS:case this.SAMPLE_COVERAGE_VALUE:return this.__nativeObj.getParameterFloat(e,1);case this.SHADER_BINARY_FORMATS:var t=this.__nativeObj.getParameterInt(this.NUM_SHADER_BINARY_FORMATS,1);return this.__nativeObj.getParameterInt(e,t);case this.COMPRESSED_TEXTURE_FORMATS:t=this.__nativeObj.getParameterInt(this.NUM_COMPRESSED_TEXTURE_FORMATS,1);return this.__nativeObj.getParameterInt(e,t);case this.VENDOR:case this.RENDERER:case this.VERSION:return this.__nativeObj.getParameterString(e)}}this.__nativeObj=n,a.attachWebGlConstant(t),s(),this.__nativeObj.isSupportES3()&&(t.prototype.bindVertexArray=l,t.prototype.createVertexArray=D,t.prototype.deleteVertexArray=V,t.prototype.isVertexArray=Ae),this.createOESVertexArrayObject=function(e,t){return new i.OESVertexArrayObject(t)}}r(162),r(163),e.attachWebGLPlus=function(t){if(e.enableTTWebglPlus&&null!=n.webglPlus){r(44),e.extendWebGLPlusToWebGLContext(t),e.webglPlus=webglPlus,console.log("laya webglPlus enable!");try{webglPlus=void 0}catch(e){}}else console.log("laya webglPlus disable!")},e.CanvasContextWebGL=function(r){return r?(e.CommandQueueV2.Instance.enableCommandQueue?webGLContext=e.CanvasWebGLCmdQueueV2Context(new t(r)):e.CommandQueue.Instance.enableCommandQueue?webGLContext=e.CanvasWebGLCmdQueueContext(new t(r)):(webGLContext=new t(r),e.attachWebGLPlus(t)),webGLContext):null},n.enableTTWebglPlus=function(){scriptEngineContextType==CONTEXT_TYPE_MAIN&&(console.error("laya webglPlus enable!"),e.enableTTWebglPlus=!0)}}(n.__ttObjdec__)},function(e,t,r){!function(e){function t(n){var o,i=r(19),a=r(33),s=r(20).WebGLCmdConstant;function u(e){return newFunc=function(){return this.commandInstance.flushCmd(),e.apply(this,arguments)},newFunc}function c(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ACTIVE_TEXTURE,1,0,1,e):console.error("gl.activeTexture js param type error! arguments= "+JSON.stringify(arguments))}function f(e,t){var r=i.unwrap(e),n=i.unwrap(t);i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ATTACH_SHADER,1,0,2,r,n):console.error("gl.attachShader js param type error! arguments= "+JSON.stringify(arguments))}function l(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_VERTEX_ARRAY,1,0,1,t):console.error("gl.bindVertexArray js param type error! arguments= "+JSON.stringify(arguments))}function p(e,t){if(i.isNumber(e)){var r=0;t&&(r=i.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_BUFFER,1,0,2,e,r)}else console.error("gl.bindBuffer js param type error! arguments= "+JSON.stringify(arguments))}function _(e,t){if(i.isNumber(e)){var r=0;t&&(r=i.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_TEXTURE,1,0,2,e,r)}else console.error("gl.bindTexture js param type error! arguments= "+JSON.stringify(arguments))}function d(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_COLOR,1,0,4,e,t,r,n):console.error("gl.blendColor js param type error! arguments= "+JSON.stringify(arguments))}function h(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_EQUATION,1,0,1,e):console.error("gl.blendEquation js param type error! arguments= "+JSON.stringify(arguments))}function m(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_EQUATION_SEPARATE,1,0,2,e,t):console.error("gl.blendEquationSeparate js param type error! arguments= "+JSON.stringify(arguments))}function y(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_FUNC,1,0,2,e,t):console.error("gl.blendFunc js param type error! arguments= "+JSON.stringify(arguments))}function v(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BLEND_FUNC_SEPARATE,1,0,4,e,t,r,n):console.error("gl.blendFuncSeparate js param type error! arguments= "+JSON.stringify(arguments))}function g(e,t,r){if(t=i.getBufferData(t),i.isNumber(e)&&i.isNumber(r)&&null!=t){var n=i.isNumber(t);this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BUFFER_DATA,1,0,4,n,e,r,t),this.commandInstance.flushCmd()}else console.error("gl.bufferData js param type error! arguments= "+JSON.stringify(arguments))}function b(e,t,r){i.isNumber(e)&&i.isNumber(t)&&null!=r?(this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BUFFER_SUB_DATA,1,0,3,e,t,r),this.commandInstance.flushCmd()):console.error("gl.bufferSubData js param type error! arguments= "+JSON.stringify(arguments))}function E(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR,1,0,1,e):console.error("gl.clear js param type error! arguments= "+JSON.stringify(arguments))}function A(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_COLOR,1,0,4,e,t,r,n):console.error("gl.clearColor js param type error! arguments= "+JSON.stringify(arguments))}function O(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_DEPTH,1,0,1,e):console.error("gl.clearDepth js param type error! arguments= "+JSON.stringify(arguments))}function I(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CLEAR_STENCIL,1,0,1,e):console.error("gl.clearStencil js param type error! arguments= "+JSON.stringify(arguments))}function T(e,t,r,n){i.isNumberOrBool(e)&&i.isNumberOrBool(t)&&i.isNumberOrBool(r)&&i.isNumberOrBool(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COLOR_MASK,1,0,4,e,t,r,n):console.error("gl.colorMask js param type error! arguments= "+JSON.stringify(arguments))}function S(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COMPILE_SHADER,1,0,1,t):console.error("gl.compileShader js param type error! arguments= "+JSON.stringify(arguments))}function N(e,t,r,n,o,a,u,c){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)&&i.isNumber(a)&&i.isNumber(u)&&i.isNumber(c)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COPY_TEX_IMAGE_2D,1,0,8,e,t,r,n,o,a,u,c):console.error("gl.copyTexImage2D js param type error! arguments= "+JSON.stringify(arguments))}function w(e,t,r,n,o,a,u,c){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)&&i.isNumber(a)&&i.isNumber(u)&&i.isNumber(c)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_COPY_TEX_SUB_IMAGE_2D,1,0,8,e,t,r,n,o,a,u,c):console.error("gl.copyTexSubImage2D js param type error! arguments= "+JSON.stringify(arguments))}function C(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_CULL_FACE,1,0,1,e):console.error("gl.cullFace js param type error! arguments= "+JSON.stringify(arguments))}function R(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_VERTEX_ARRAY,1,0,1,t):console.error("gl.eleteVertexArray js param type error! arguments= "+JSON.stringify(arguments))}function M(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_BUFFER,1,0,1,t):console.error("gl.deleteBuffer js param type error! arguments= "+JSON.stringify(arguments))}function P(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_FRAME_BUFFER,1,0,1,t):console.error("gl.deleteFramebuffer js param type error! arguments= "+JSON.stringify(arguments))}function j(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_PROGRAM,1,0,1,t):console.error("gl.deleteProgram js param type error! arguments= "+JSON.stringify(arguments))}function D(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_RENDER_BUFFER,1,0,1,t):console.error("gl.deleteRenderbuffer js param type error! arguments= "+JSON.stringify(arguments))}function x(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_SHADER,1,0,1,t):console.error("gl.deleteShader js param type error! arguments= "+JSON.stringify(arguments))}function L(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_TEXTURE,1,0,1,t):console.error("gl.deleteTexture js param type error! arguments= "+JSON.stringify(arguments))}function B(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_FUNC,1,0,1,e):console.error("gl.depthFunc js param type error! arguments= "+JSON.stringify(arguments))}function k(e){i.isNumberOrBool(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_MASK,1,0,1,e?1:0):console.error("gl.depthMask js param type error! arguments= "+JSON.stringify(arguments))}function F(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DEPTH_RANGE,1,0,2,e,t):console.error("gl.depthRange js param type error! arguments= "+JSON.stringify(arguments))}function U(e,t){var r=i.unwrap(e),n=i.unwrap(t);i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DETACH_SHADER,1,0,2,r,n):console.error("gl.detachShader js param type error! arguments= "+JSON.stringify(arguments))}function G(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DISABLE,1,0,1,e):console.error("gl.disable js param type error! arguments= "+JSON.stringify(arguments))}function V(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DISABLE_VERTEX_ATTRIB_ARRAY,1,0,1,e):console.error("gl.disableVertexAttribArray js param type error! arguments= "+JSON.stringify(arguments))}function H(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ARRAYS,1,0,3,e,t,r):console.error("gl.drawArrays js param type error! arguments= "+JSON.stringify(arguments))}function q(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ARRAYS_INSTANCE,1,0,4,e,t,r,n):console.error("gl.drawArraysInstanced js param type error! arguments= "+JSON.stringify(arguments))}function W(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ELEMENTS,1,0,4,e,t,r,n):console.error("gl.drawElements js param type error! arguments= "+JSON.stringify(arguments))}function X(e,t,r,n,o){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DRAW_ELEMENTS_INSTANCE,1,0,5,e,t,r,n,o):console.error("gl.drawElementsInstance js param type error! arguments= "+JSON.stringify(arguments))}function $(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ENABLE,1,0,1,e):console.error("gl.enable js param type error! arguments= "+JSON.stringify(arguments))}function z(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_ENABLE_VERTEX_ATTRIB_ARRAY,1,0,1,e):console.error("gl.enableVertexAttribArray js param type error! arguments= "+JSON.stringify(arguments))}function J(){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FINISH,1,0,0)}function Y(){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FLUSH,1,0,0)}function K(e,t,r,n){var o=i.unwrap(n);i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRAME_BUFFER_RENDER_BUFFER,1,0,4,e,t,r,o):console.error("gl.framebufferRenderbuffer js param type error! arguments= "+JSON.stringify(arguments))}function Q(e,t,r,n,o){var a=i.unwrap(n);i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(a)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRAME_BUFFER_TEXTURE_2D,1,0,5,e,t,r,a,o):console.error("gl.framebufferTexture2D js param type error! arguments= "+JSON.stringify(arguments))}function Z(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_FRONT_FACE,1,0,1,e):console.error("gl.frontFace js param type error! arguments= "+JSON.stringify(arguments))}function ee(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_GENERATE_MIPMAP,1,0,1,e):console.error("gl.generateMipmap js param type error! arguments= "+JSON.stringify(arguments))}function te(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_HINT,1,0,2,e,t):console.error("gl.hint js param type error! arguments= "+JSON.stringify(arguments))}function re(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_LINE_WIDTH,1,0,1,e):console.error("gl.lineWidth js param type error! arguments= "+JSON.stringify(arguments))}function ne(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_LINK_PROGRAM,1,0,1,t):console.error("gl.linkProgram js param type error! arguments= "+JSON.stringify(arguments))}function oe(e,t){i.isNumber(e)&&i.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_PIXEL_STOREI,1,0,2,e,t):console.error("gl.pixelStoreiOpt js param type error! arguments= "+JSON.stringify(arguments))}function ie(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_POLYGON_OFFSET,1,0,2,e,t):console.error("gl.polygonOffset js param type error! arguments= "+JSON.stringify(arguments))}function ae(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_RENDER_BUFFER_STORAGE,1,0,4,e,t,r,n):console.error("gl.renderbufferStorage js param type error! arguments= "+JSON.stringify(arguments))}function se(e,t){i.isNumber(e)&&i.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_SAMPLE_COVERAGE,1,0,2,e,t?1:0):console.error("gl.sampleCoverage js param type error! arguments= "+JSON.stringify(arguments))}function ue(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_SCISSOR,1,0,4,e,t,r,n):console.error("gl.scissor js param type error! arguments= "+JSON.stringify(arguments))}function ce(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_FUNC,1,0,3,e,t,r):console.error("gl.stencilFunc js param type error! arguments= "+JSON.stringify(arguments))}function fe(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_FUNC_SEPARATE,1,0,4,e,t,r,n):console.error("gl.stencilFuncSeparate js param type error! arguments= "+JSON.stringify(arguments))}function le(e){i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_MASK,1,0,1,e):console.error("gl.stencilMask js param type error! arguments= "+JSON.stringify(arguments))}function pe(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_MASK_SEPARATE,1,0,2,e,t):console.error("gl.stencilMaskSeparate js param type error! arguments= "+JSON.stringify(arguments))}function _e(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_OP,1,0,3,e,t,r):console.error("gl.stencil js param type error! arguments= "+JSON.stringify(arguments))}function de(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_STENCIL_OP_SEPARATE,1,0,4,e,t,r,n):console.error("gl.stencilOpSeparate js param type error! arguments= "+JSON.stringify(arguments))}function he(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_TEX_PARAMETER_F,1,0,3,e,t,r)}function me(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_TEX_PARAMETER_I,1,0,3,e,t,r)}function ye(e,t){var r=i.unwrap(e);i.isNumber(r)&&i.isNumber(t)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_1F,1,0,2,r,t)}function ve(e,t,r){var n=i.unwrap(e);i.isNumber(n)&&i.isNumber(t)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_2F,1,0,3,n,t,r)}function ge(e,t,r,n){var o=i.unwrap(e);i.isNumber(o)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_3F,1,0,4,o,t,r,n)}function be(e,t,r,n,o){var a=i.unwrap(e);i.isNumber(a)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_4F,1,0,5,a,t,r,n,o)}function Ee(e,t){var r=i.unwrap(e);i.isNumber(r)&&i.isNumberOrBool(t)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_1I,1,0,2,r,t)}function Ae(e,t,r){var n=i.unwrap(e);i.isNumber(n)&&i.isNumber(t)&&i.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_2I,1,0,3,n,t,r)}function Oe(e,t,r,n){var o=i.unwrap(e);i.isNumber(o)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_3I,1,0,4,o,t,r,n)}function Ie(e,t,r,n,o){var a=i.unwrap(e);i.isNumber(a)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_UNIFORM_4I,1,0,5,a,t,r,n,o)}function Te(t,r,n,o,a,s){if(null!=r&&0!=r.length){var u=i.unwrap(t),c=null;if(c=s?i.getInt32Array(r):i.getFloat32Array(r),i.isNumber(u)&&c){var f=[n,o,1,0,2,u,c.slice()];e.CommandQueue.Instance.pushCommand.apply(e.CommandQueue.Instance,f)}else{var l=s?"i":"f";console.error("gl.uniform"+a+l+"v js param type error! arguments= "+JSON.stringify(arguments))}}else e.CommandQueue.Instance.flushCmd()}function Se(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_1FV,1,!1)}function Ne(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_2FV,2,!1)}function we(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_3FV,3,!1)}function Ce(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_4FV,4,!1)}function Re(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_1IV,1,!0)}function Me(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_2IV,2,!0)}function Pe(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_3IV,3,!0)}function je(e,t){Te(e,t,this.__nativeObj,s.GL_COMMAND_UNIFORM_4IV,4,!0)}function De(t,r,n,o,a,s){if(null!=n&&0!=n.length){var u=i.unwrap(t),c=i.getFloat32Array(n);if(i.isNumber(u)&&c){var f=[o,a,1,0,3,u,r,c.slice()];e.CommandQueue.Instance.pushCommand.apply(e.CommandQueue.Instance,f)}else console.error("gl.uniformMatrix"+s+"fv js param type error! arguments= "+JSON.stringify(arguments))}else e.CommandQueue.Instance.flushCmd()}function xe(e,t,r){De(e,t,r,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_2FV,2)}function Le(e,t,r){De(e,t,r,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_3FV,3)}function Be(e,t,r){De(e,t,r,this.__nativeObj,s.GL_COMMAND_UNIFORM_MATRIX_4FV,4)}function ke(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_USE_PROGRAM,1,0,1,t):console.error("gl.useProgram js param type error! arguments= "+JSON.stringify(arguments))}function Fe(e){var t=i.unwrap(e);i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VALIDATE_PROGRAM,1,0,1,t):console.error("gl.validateProgram js param type error! arguments= "+JSON.stringify(arguments))}function Ue(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_1F,1,0,2,e,t):console.error("gl.vertexAttrib1f js param type error! arguments= "+JSON.stringify(arguments))}function Ge(e,t,r){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_2F,1,0,3,e,t,r):console.error("gl.vertexAttrib2f js param type error! arguments= "+JSON.stringify(arguments))}function Ve(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_3F,1,0,4,e,t,r,n):console.error("gl.vertexAttrib3f js param type error! arguments= "+JSON.stringify(arguments))}function He(e,t,r,n,o){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(n)&&i.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_4F,1,0,5,e,t,r,n,o):console.error("gl.vertexAttrib4f js param type error! arguments= "+JSON.stringify(arguments))}function qe(t,r,n,o,a){if(null!=r&&0!=r.length){var s=i.getFloat32Array(r);if(i.isNumber(t)&&s){var u=[n,o,1,0,2,t,s.slice()];this.commandInstance.pushCommand.apply(e.CommandQueue.Instance,u)}else console.error("gl.vertexAttrib"+a+"fv js param type error! arguments= "+JSON.stringify(arguments))}else this.commandInstance.flushCmd()}function We(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_1FV,1)}function Xe(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_2FV,2)}function $e(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_3FV,3)}function ze(e,t){qe(e,t,this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_4FV,4)}function Je(e,t){i.isNumber(e)&&i.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_DIVISOR,1,0,2,e,t):console.error("gl.vertexAttribDivisor js param type error! arguments= "+JSON.stringify(arguments))}function Ye(e,t,r,n,o,a){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumberOrBool(n)&&i.isNumber(o)&&i.isNumber(a)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VERTEX_ATTRIB_POINTER,1,0,6,e,t,r,n?1:0,o,a):console.error("gl.vertexAttribPointer js param type error! arguments= "+JSON.stringify(arguments))}function Ke(e,t,r,n){i.isNumber(e)&&i.isNumber(t)&&i.isNumber(r)&&i.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_VIEW_PORT,1,0,4,e,t,r,n):console.error("gl.viewport js param type error! arguments= "+JSON.stringify(arguments))}function Qe(t,r){this.__nativeObj=t,this.__nativeExtensionObj=r,this.commandInstance=e.CommandQueue.Instance,Qe.prototype.bindVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_BIND_VERTEX_ARRAY_OES,1,0,1,e)},Qe.prototype.createVertexArrayOES=function(){return this.commandInstance.flushCmd(),this.__nativeExtensionObj.createVertexArrayOES()},Qe.prototype.deleteVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,s.GL_COMMAND_DELETE_VERTEX_ARRAY_OES,1,0,1,e)},Qe.prototype.isVertexArrayOES=function(e){return this.commandInstance.flushCmd(),this.__nativeExtensionObj.isVertexArrayOES(e)}}r(34).attachWebGlConstant(t),this.commandInstance=e.CommandQueue.Instance,this.__nativeObj=n.__nativeObj,o=n,t.prototype.activeTexture=c,t.prototype.attachShader=f,t.prototype.bindAttribLocation=u(o.bindAttribLocation),t.prototype.bindBuffer=p,t.prototype.bindFramebuffer=u(o.bindFramebuffer),t.prototype.bindRenderbuffer=u(o.bindRenderbuffer),t.prototype.bindTexture=_,t.prototype.blendColor=d,t.prototype.blendEquation=h,t.prototype.blendEquationSeparate=m,t.prototype.blendFunc=y,t.prototype.blendFuncSeparate=v,t.prototype.bufferData=g,t.prototype.bufferSubData=b,t.prototype.checkFramebufferStatus=u(o.checkFramebufferStatus),t.prototype.clear=E,t.prototype.clearColor=A,t.prototype.clearDepth=O,t.prototype.clearStencil=I,t.prototype.colorMask=T,t.prototype.compileShader=S,t.prototype.compressedTexImage2D=u(o.compressedTexImage2D),t.prototype.compressedTexSubImage2D=u(o.compressedTexSubImage2D),t.prototype.copyTexImage2D=N,t.prototype.copyTexSubImage2D=w,t.prototype.createBuffer=u(o.createBuffer),t.prototype.createFramebuffer=u(o.createFramebuffer),t.prototype.createProgram=u(o.createProgram),t.prototype.createRenderbuffer=u(o.createRenderbuffer),t.prototype.createShader=u(o.createShader),t.prototype.createTexture=u(o.createTexture),t.prototype.cullFace=C,t.prototype.deleteBuffer=M,t.prototype.deleteFramebuffer=P,t.prototype.deleteProgram=j,t.prototype.deleteRenderbuffer=D,t.prototype.deleteShader=x,t.prototype.deleteTexture=L,t.prototype.depthFunc=B,t.prototype.depthMask=k,t.prototype.depthRange=F,t.prototype.detachShader=U,t.prototype.disable=G,t.prototype.disableVertexAttribArray=V,t.prototype.drawArrays=H,t.prototype.drawElements=W,t.prototype.enable=$,t.prototype.enableVertexAttribArray=z,t.prototype.finish=J,t.prototype.flush=Y,t.prototype.framebufferRenderbuffer=K,t.prototype.framebufferTexture2D=Q,t.prototype.frontFace=Z,t.prototype.generateMipmap=ee,t.prototype.getExtension=u(o.getExtension),t.prototype.getContextAttributes=u(o.getContextAttributes),t.prototype.getSupportedExtensions=u(o.getSupportedExtensions),t.prototype.getActiveAttrib=u(o.getActiveAttrib),t.prototype.getActiveUniform=u(o.getActiveUniform),t.prototype.getAttachedShaders=u(o.getAttachedShaders),t.prototype.getAttribLocation=u(o.getAttribLocation),t.prototype.getBufferParameter=u(o.getBufferParameter),t.prototype.getError=u(o.getError),t.prototype.getFramebufferAttachmentParameter=u(o.getFramebufferAttachmentParameter),t.prototype.getParameter=u(o.getParameter),t.prototype.getProgramInfoLog=u(o.getProgramInfoLog),t.prototype.getProgramParameter=u(o.getProgramParameter),t.prototype.getRenderbufferParameter=u(o.getRenderbufferParameter),t.prototype.getShaderInfoLog=u(o.getShaderInfoLog),t.prototype.getShaderParameter=u(o.getShaderParameter),t.prototype.getShaderPrecisionFormat=u(o.getShaderPrecisionFormat),t.prototype.getShaderSource=u(o.getShaderSource),t.prototype.getTexParameter=u(o.getTexParameter),t.prototype.getUniform=u(o.getUniform),t.prototype.getUniformLocation=u(o.getUniformLocation),t.prototype.getVertexAttrib=u(o.getVertexAttrib),t.prototype.getVertexAttribOffset=u(o.getVertexAttribOffset),t.prototype.readPixels=u(o.readPixels),t.prototype.hint=te,t.prototype.isBuffer=u(o.isBuffer),t.prototype.isEnabled=u(o.isEnabled),t.prototype.isFramebuffer=u(o.isFramebuffer),t.prototype.isProgram=u(o.isProgram),t.prototype.isRenderbuffer=u(o.isRenderbuffer),t.prototype.isShader=u(o.isShader),t.prototype.isTexture=u(o.isTexture),t.prototype.lineWidth=re,t.prototype.linkProgram=ne,t.prototype.pixelStorei=oe,t.prototype.polygonOffset=ie,t.prototype.renderbufferStorage=ae,t.prototype.sampleCoverage=se,t.prototype.scissor=ue,t.prototype.shaderSource=u(o.shaderSource),t.prototype.stencilFunc=ce,t.prototype.stencilFuncSeparate=fe,t.prototype.stencilMask=le,t.prototype.stencilMaskSeparate=pe,t.prototype.stencilOp=_e,t.prototype.stencilOpSeparate=de,t.prototype.texImage2D=u(o.texImage2D),t.prototype.texParameterf=he,t.prototype.texParameteri=me,t.prototype.texSubImage2D=u(o.texSubImage2D),t.prototype.uniform1f=ye,t.prototype.uniform1fv=Se,t.prototype.uniform1i=Ee,t.prototype.uniform1iv=Re,t.prototype.uniform2f=ve,t.prototype.uniform2fv=Ne,t.prototype.uniform2i=Ae,t.prototype.uniform2iv=Me,t.prototype.uniform3f=ge,t.prototype.uniform3fv=we,t.prototype.uniform3i=Oe,t.prototype.uniform3iv=Pe,t.prototype.uniform4f=be,t.prototype.uniform4fv=Ce,t.prototype.uniform4i=Ie,t.prototype.uniform4iv=je,t.prototype.uniformMatrix2fv=xe,t.prototype.uniformMatrix3fv=Le,t.prototype.uniformMatrix4fv=Be,t.prototype.useProgram=ke,t.prototype.validateProgram=Fe,t.prototype.vertexAttrib1f=Ue,t.prototype.vertexAttrib1fv=We,t.prototype.vertexAttrib2f=Ge,t.prototype.vertexAttrib2fv=Xe,t.prototype.vertexAttrib3f=Ve,t.prototype.vertexAttrib3fv=$e,t.prototype.vertexAttrib4f=He,t.prototype.vertexAttrib4fv=ze,t.prototype.vertexAttribDivisor=Je,t.prototype.vertexAttribPointer=Ye,t.prototype.viewport=Ke,t.prototype.isContextLost=u(o.isContextLost),this.__nativeObj.isSupportES3()&&function(e){t.prototype.bindVertexArray=l,t.prototype.createVertexArray=u(e.createVertexArray),t.prototype.deleteVertexArray=R,t.prototype.drawArraysInstanced=q,t.prototype.drawElementsInstanced=X,t.prototype.isVertexArray=u(e.isVertexArray)}(n),e.attachWebGLPlus(t),this.createOESVertexArrayObject=function(e,t){return new a.OESVertexArrayObject(new Qe(e,t))}}e.CanvasWebGLCmdQueueContext=function(e){return new t(e)}}(__TT__GLOBAL__.__ttObjdec__)},function(e,t,r){!function(e){function t(e){return newFunc=function(){return e.apply(this,arguments)},newFunc}function n(o){var i,a=r(19),s=r(33),u=r(34),c=r(31).CommandConstant.webgl;function f(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.activeTexture.cmd_id,e):console.error("gl.activeTexture js param type error! arguments= "+JSON.stringify(arguments))}function l(e,t){var r=a.unwrap(e),n=a.unwrap(t);a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.attachShader.cmd_id,r,n):console.error("gl.attachShader js param type error! arguments= "+JSON.stringify(arguments))}function p(e,t,r){if(null!=e){var n=a.unwrap(e);this.commandInstance.pushCommand(this.__nativeObj,c.bindAttribLocation.cmd_id,n,t,r)}}function _(e,t){if(a.isNumber(e)){var r=0;t&&(r=a.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,c.bindBuffer.cmd_id,e,r)}else console.error("gl.bindBuffer js param type error! arguments= "+JSON.stringify(arguments))}function d(e,t){var r=a.unwrap(t);this.commandInstance.pushCommand(this.__nativeObj,c.bindFramebuffer.cmd_id,e,r)}function h(e,t){var r=a.unwrap(t);this.commandInstance.pushCommand(this.__nativeObj,c.bindRenderbuffer.cmd_id,e,r)}function m(e,t){if(a.isNumber(e)){var r=0;t&&(r=a.unwrap(t)),this.commandInstance.pushCommand(this.__nativeObj,c.bindTexture.cmd_id,e,r)}else console.error("gl.bindTexture js param type error! arguments= "+JSON.stringify(arguments))}function y(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.bindVertexArray.cmd_id,t):console.error("gl.bindVertexArray js param type error! arguments= "+JSON.stringify(arguments))}function v(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.blendColor.cmd_id,e,t,r,n):console.error("gl.blendColor js param type error! arguments= "+JSON.stringify(arguments))}function g(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.blendEquation.cmd_id,e):console.error("gl.blendEquation js param type error! arguments= "+JSON.stringify(arguments))}function b(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.blendEquationSeparate.cmd_id,e,t):console.error("gl.blendEquationSeparate js param type error! arguments= "+JSON.stringify(arguments))}function E(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.blendFunc.cmd_id,e,t):console.error("gl.blendFunc js param type error! arguments= "+JSON.stringify(arguments))}function A(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.blendFuncSeparate.cmd_id,e,t,r,n):console.error("gl.blendFuncSeparate js param type error! arguments= "+JSON.stringify(arguments))}function O(e,t,r){if(t=a.getBufferData(t),a.isNumber(e)&&a.isNumber(r)&&null!=t){var n=a.isNumber(t);this.commandInstance.pushCommand(this.__nativeObj,c.bufferData.cmd_id,n,e,r,t)}else console.error("gl.bufferData js param type error! arguments= "+JSON.stringify(arguments))}function I(e,t,r){a.isNumber(e)&&a.isNumber(t)&&null!=r?this.commandInstance.pushCommand(this.__nativeObj,c.bufferSubData.cmd_id,e,t,r):console.error("gl.bufferSubData js param type error! arguments= "+JSON.stringify(arguments))}function T(e){return this.commandInstance.pushCommand(this.__nativeObj,c.checkFramebufferStatus.cmd_id,e)}function S(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.clear.cmd_id,e):console.error("gl.clear js param type error! arguments= "+JSON.stringify(arguments))}function N(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.clearColor.cmd_id,e,t,r,n):console.error("gl.clearColor js param type error! arguments= "+JSON.stringify(arguments))}function w(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.clearDepth.cmd_id,e):console.error("gl.clearDepth js param type error! arguments= "+JSON.stringify(arguments))}function C(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.clearStencil.cmd_id,e):console.error("gl.clearStencil js param type error! arguments= "+JSON.stringify(arguments))}function R(e,t,r,n){a.isNumberOrBool(e)&&a.isNumberOrBool(t)&&a.isNumberOrBool(r)&&a.isNumberOrBool(n)?this.commandInstance.pushCommand(this.__nativeObj,c.colorMask.cmd_id,e,t,r,n):console.error("gl.colorMask js param type error! arguments= "+JSON.stringify(arguments))}function M(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.compileShader.cmd_id,t):console.error("gl.compileShader js param type error! arguments= "+JSON.stringify(arguments))}function P(e,t,r,n,o,i,a){return this.commandInstance.pushCommand(this.__nativeObj,c.compressedTexImage2D.cmd_id,e,t,r,n,o,i,a)}function j(e,t,r,n,o,i,a,s){return this.commandInstance.pushCommand(this.__nativeObj,c.compressedTexSubImage2D.cmd_id,e,t,r,n,o,i,a,s)}function D(e,t,r,n,o,i,s,u){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)&&a.isNumber(i)&&a.isNumber(s)&&a.isNumber(u)?this.commandInstance.pushCommand(this.__nativeObj,c.copyTexImage2D.cmd_id,e,t,r,n,o,i,s,u):console.error("gl.copyTexImage2D js param type error! arguments= "+JSON.stringify(arguments))}function x(e,t,r,n,o,i,s,u){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)&&a.isNumber(i)&&a.isNumber(s)&&a.isNumber(u)?this.commandInstance.pushCommand(this.__nativeObj,c.copyTexSubImage2D.cmd_id,e,t,r,n,o,i,s,u):console.error("gl.copyTexSubImage2D js param type error! arguments= "+JSON.stringify(arguments))}function L(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createBuffer.cmd_id))}function B(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createFramebuffer.cmd_id))}function k(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createProgram.cmd_id))}function F(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createRenderbuffer.cmd_id))}function U(e){return e==this.VERTEX_SHADER||e==this.FRAGMENT_SHADER?a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createShader.cmd_id,e)):(console.log("gl.createShader(type) param error! type: Either gl.VERTEX_SHADER or gl.FRAGMENT_SHADER!"),null)}function G(){return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.createTexture.cmd_id))}function V(){return this.commandInstance.pushCommand(this.__nativeObj,c.createVertexArray.cmd_id)}function H(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.cullFace.cmd_id,e):console.error("gl.cullFace js param type error! arguments= "+JSON.stringify(arguments))}function q(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteBuffer.cmd_id,t):console.error("gl.deleteBuffer js param type error! arguments= "+JSON.stringify(arguments))}function W(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteFramebuffer.cmd_id,t):console.error("gl.deleteFramebuffer js param type error! arguments= "+JSON.stringify(arguments))}function X(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteProgram.cmd_id,t):console.error("gl.deleteProgram js param type error! arguments= "+JSON.stringify(arguments))}function $(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteRenderbuffer.cmd_id,t):console.error("gl.deleteRenderbuffer js param type error! arguments= "+JSON.stringify(arguments))}function z(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteShader.cmd_id,t):console.error("gl.deleteShader js param type error! arguments= "+JSON.stringify(arguments))}function J(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteTexture.cmd_id,t):console.error("gl.deleteTexture js param type error! arguments= "+JSON.stringify(arguments))}function Y(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.deleteVertexArray.cmd_id,t):console.error("gl.eleteVertexArray js param type error! arguments= "+JSON.stringify(arguments))}function K(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.depthFunc.cmd_id,e):console.error("gl.depthFunc js param type error! arguments= "+JSON.stringify(arguments))}function Q(e){a.isNumberOrBool(e)?this.commandInstance.pushCommand(this.__nativeObj,c.depthMask.cmd_id,e):console.error("gl.depthMask js param type error! arguments= "+JSON.stringify(arguments))}function Z(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.depthRange.cmd_id,e,t):console.error("gl.depthRange js param type error! arguments= "+JSON.stringify(arguments))}function ee(e,t){var r=a.unwrap(e),n=a.unwrap(t);a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.detachShader.cmd_id,r,n):console.error("gl.detachShader js param type error! arguments= "+JSON.stringify(arguments))}function te(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.disable.cmd_id,e):console.error("gl.disable js param type error! arguments= "+JSON.stringify(arguments))}function re(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.disableVertexAttribArray.cmd_id,e):console.error("gl.disableVertexAttribArray js param type error! arguments= "+JSON.stringify(arguments))}function ne(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,c.drawArrays.cmd_id,e,t,r):console.error("gl.drawArrays js param type error! arguments= "+JSON.stringify(arguments))}function oe(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.drawArraysInstanced.cmd_id,e,t,r,n):console.error("gl.drawArraysInstanced js param type error! arguments= "+JSON.stringify(arguments))}function ie(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.drawElements.cmd_id,e,t,r,n):console.error("gl.drawElements js param type error! arguments= "+JSON.stringify(arguments))}function ae(e,t,r,n,o){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,c.drawElementsInstanced.cmd_id,e,t,r,n,o):console.error("gl.drawElementsInstance js param type error! arguments= "+JSON.stringify(arguments))}function se(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.enable.cmd_id,e):console.error("gl.enable js param type error! arguments= "+JSON.stringify(arguments))}function ue(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.enableVertexAttribArray.cmd_id,e):console.error("gl.enableVertexAttribArray js param type error! arguments= "+JSON.stringify(arguments))}function ce(){this.commandInstance.pushCommand(this.__nativeObj,c.finish.cmd_id)}function fe(){this.commandInstance.pushCommand(this.__nativeObj,c.flush.cmd_id)}function le(e,t,r,n){var o=a.unwrap(n);a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,c.framebufferRenderbuffer.cmd_id,e,t,r,o):console.error("gl.framebufferRenderbuffer js param type error! arguments= "+JSON.stringify(arguments))}function pe(e,t,r,n,o){var i=a.unwrap(n);a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(i)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,c.framebufferTexture2D.cmd_id,e,t,r,i,o):console.error("gl.framebufferTexture2D js param type error! arguments= "+JSON.stringify(arguments))}function _e(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.frontFace.cmd_id,e):console.error("gl.frontFace js param type error! arguments= "+JSON.stringify(arguments))}function de(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.generateMipmap.cmd_id,e):console.error("gl.generateMipmap js param type error! arguments= "+JSON.stringify(arguments))}function he(e){if("OES_vertex_array_object"==e)return this.createOESVertexArrayObject(this.__nativeObj);var t=this.commandInstance.pushCommand(this.__nativeObj,c.getExtension.cmd_id,e);if(t)return t;if(this.__nativeObj.isSupportES3()){if("ANGLE_instanced_arrays"===e)return this.__irExt||(this.__irExt=new s.ANGLEInstancedArrays(this)),this.__irExt;if("OES_vertex_array_object"===e)return this.__vaoExt||(this.__vaoExt=new s.VertexArrayObject(this)),this.__vaoExt}return null}function me(){return this.commandInstance.pushCommand(this.__nativeObj,c.getSupportedExtensions.cmd_id)}function ye(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,c.getActiveAttrib.cmd_id,a.unwrap(e),t)}function ve(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,c.getActiveUniform.cmd_id,a.unwrap(e),t)}function ge(e){if(null!=e){this.commandInstance.pushCommand(this.__nativeObj,c.getAttachedShaders.cmd_id,a.unwrap(e));if(array instanceof Array){for(var t=new Array,r=array.length,n=0;n<r;n++){var o=a.wrap(array[n]);t.push(o)}return t}return array}}function be(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getAttribLocation.cmd_id,a.unwrap(e),t)}function Ee(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getBufferParameter.cmd_id,e,t)}function Ae(){return this.commandInstance.pushCommand(this.__nativeObj,c.getError.cmd_id)}function Oe(e,t,r){return objID=this.commandInstance.pushCommand(this.__nativeObj,c.getFramebufferAttachmentParameter.cmd_id,e,t,r),r==this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME&&a.isNumber(objID)?this.commandInstance.pushCommand(this.__nativeObj,c.CREATE_BUFFER.cmd_id):this.commandInstance.pushCommand(this.__nativeObj,c.getFramebufferAttachmentParameter.cmd_id,e,t,r)}function Ie(e){switch(e){case this.ARRAY_BUFFER_BINDING:case this.CURRENT_PROGRAM:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.FRAMEBUFFER_BINDING:case this.RENDERBUFFER_BINDING:case this.VERTEX_ARRAY_BINDING:return a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.getParameter.cmd_id,e));default:return this.commandInstance.pushCommand(this.__nativeObj,c.getParameter.cmd_id,e)}}function Te(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,c.getProgramInfoLog.cmd_id,a.unwrap(e))}function Se(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,c.getProgramParameter.cmd_id,a.unwrap(e),t)}function Ne(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getRenderbufferParameter.cmd_id,e,t)}function we(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,c.getShaderInfoLog.cmd_id,a.unwrap(e))}function Ce(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,c.getShaderParameter.cmd_id,a.unwrap(e),t)}function Re(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getShaderPrecisionFormat.cmd_id,e,t)}function Me(e){return null==e?null:this.commandInstance.pushCommand(this.__nativeObj,c.getShaderSource.cmd_id,a.unwrap(e))}function Pe(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getTexParameter.cmd_id,e,t)}function je(e,t){if(null!=e)return this.commandInstance.pushCommand(this.__nativeObj,c.getUniform.cmd_id,a.unwrap(e),t)}function De(e,t){return null==e?-1:a.wrap(this.commandInstance.pushCommand(this.__nativeObj,c.getUniformLocation.cmd_id,a.unwrap(e),t))}function xe(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getVertexAttrib.cmd_id,e,t)}function Le(e,t){return this.commandInstance.pushCommand(this.__nativeObj,c.getVertexAttribOffset.cmd_id,e,t)}function Be(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.hint.cmd_id,e,t):console.error("gl.hint js param type error! arguments= "+JSON.stringify(arguments))}function ke(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isBuffer.cmd_id,a.unwrap(e))}function Fe(e){return this.commandInstance.pushCommand(this.__nativeObj,c.isEnabled.cmd_id,e)}function Ue(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isFramebuffer.cmd_id,a.unwrap(e))}function Ge(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isProgram.cmd_id,a.unwrap(e))}function Ve(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isRenderbuffer.cmd_id,a.unwrap(e))}function He(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isShader.cmd_id,a.unwrap(e))}function qe(e){return null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.isTexture.cmd_id,a.unwrap(e))}function We(e){return null!=texture&&this.commandInstance.pushCommand(this.__nativeObj,c.isVertexArray.cmd_id,a.unwrap(e))}function Xe(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.lineWidth.cmd_id,e):console.error("gl.lineWidth js param type error! arguments= "+JSON.stringify(arguments))}function $e(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.linkProgram.cmd_id,t):console.error("gl.linkProgram js param type error! arguments= "+JSON.stringify(arguments))}function ze(e,t){a.isNumber(e)&&a.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,c.pixelStorei.cmd_id,e,t):console.error("gl.pixelStoreiOpt js param type error! arguments= "+JSON.stringify(arguments))}function Je(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.polygonOffset.cmd_id,e,t):console.error("gl.polygonOffset js param type error! arguments= "+JSON.stringify(arguments))}function Ye(e,t,r,n,o,i,a){return this.commandInstance.pushCommand(this.__nativeObj,c.readPixels.cmd_id,e,t,r,n,o,i,a)}function Ke(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.renderbufferStorage.cmd_id,e,t,r,n):console.error("gl.renderbufferStorage js param type error! arguments= "+JSON.stringify(arguments))}function Qe(e,t){a.isNumber(e)&&a.isNumberOrBool(t)?this.commandInstance.pushCommand(this.__nativeObj,c.sampleCoverage.cmd_id,e,t?1:0):console.error("gl.sampleCoverage js param type error! arguments= "+JSON.stringify(arguments))}function Ze(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.scissor.cmd_id,e,t,r,n):console.error("gl.scissor js param type error! arguments= "+JSON.stringify(arguments))}function et(e,t){null!=e&&this.commandInstance.pushCommand(this.__nativeObj,c.shaderSource.cmd_id,a.unwrap(e),t)}function tt(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilFunc.cmd_id,e,t,r):console.error("gl.stencilFunc js param type error! arguments= "+JSON.stringify(arguments))}function rt(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilFuncSeparate.cmd_id,e,t,r,n):console.error("gl.stencilFuncSeparate js param type error! arguments= "+JSON.stringify(arguments))}function nt(e){a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilMask.cmd_id,e):console.error("gl.stencilMask js param type error! arguments= "+JSON.stringify(arguments))}function ot(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilMaskSeparate.cmd_id,e,t):console.error("gl.stencilMaskSeparate js param type error! arguments= "+JSON.stringify(arguments))}function it(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilOp.cmd_id,e,t,r):console.error("gl.stencil js param type error! arguments= "+JSON.stringify(arguments))}function at(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.stencilOpSeparate.cmd_id,e,t,r,n):console.error("gl.stencilOpSeparate js param type error! arguments= "+JSON.stringify(arguments))}function st(t,r,n){switch(arguments.length){case 6:var o=arguments[3],i=arguments[4],a=arguments[5];if(null==a)return void console.error("texImage2D param error.  arg[5] is undefined!");if(Object.prototype.hasOwnProperty.call(a,"__nativeObj"))if(a instanceof e.Canvas){var s=a.currentContext["2d"]?a.currentContext["2d"]:s=a.currentContext.webgl;if(null==s)return void console.error("texImage2D param error. canvas has no context");this.commandInstance.pushCommand(this.__nativeObj,c.texImage2D.cmd_id,t,r,n,o,i,s.__nativeObj)}else this.commandInstance.pushCommand(this.__nativeObj,c.texImage2D.cmd_id,t,r,n,o,i,a.__nativeObj);else a.width>0&&a.height>0?this.commandInstance.pushCommand(this.__nativeObj,c.texImage2D.cmd_id,t,r,n,o,i,a):Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0&&this.commandInstance.pushCommand(this.__nativeObj,c.texImage2D.cmd_id,t,r,n,o,i,a);break;case 9:var u=arguments[3],f=arguments[4],l=arguments[5],p=(o=arguments[6],i=arguments[7],arguments[8]);this.commandInstance.pushCommand(this.__nativeObj,c.texImage2D.cmd_id,t,r,n,u,f,l,o,i,p)}}function ut(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,c.texParameterf.cmd_id,e,t,r)}function ct(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,c.texParameteri.cmd_id,e,t,r)}function ft(e,t,r,n){switch(arguments.length){case 7:var o=arguments[4],i=arguments[5],a=arguments[6];Object.prototype.hasOwnProperty.call(a,"__nativeObj")?null!=a.type&&"canvas"==a.type?this.commandInstance.pushCommand(this.__nativeObj,c.texSubImage2D.cmd_id,e,t,r,n,o,i,a.currentContext["2d"].__nativeObj):this.commandInstance.pushCommand(this.__nativeObj,c.texSubImage2D.cmd_id,e,t,r,n,o,i,a.__nativeObj):a.width>0&&a.height>0?this.commandInstance.pushCommand(this.__nativeObj,c.texSubImage2D.cmd_id,e,t,r,n,o,i,a):Object.prototype.hasOwnProperty.call(a,"buffer")&&a.buffer.__proto__.hasOwnProperty("eof")&&a.buffer.__proto__.hasOwnProperty("pointer")&&a.buffer.__proto__.hasOwnProperty("netOrder")&&a.width>0&&a.height>0&&this.commandInstance.pushCommand(this.__nativeObj,c.texSubImage2D.cmd_id,e,t,r,n,o,i,a);break;case 9:var s=arguments[4],u=arguments[5],f=(o=arguments[6],i=arguments[7],arguments[8]);this.commandInstance.pushCommand(this.__nativeObj,c.texSubImage2D.cmd_id,e,t,r,n,s,u,o,i,f)}}function lt(e,t){var r=a.unwrap(e);a.isNumber(r)&&a.isNumber(t)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform1f.cmd_id,r,t)}function pt(e,t,r){var n=a.unwrap(e);a.isNumber(n)&&a.isNumber(t)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform2f.cmd_id,n,t,r)}function _t(e,t,r,n){var o=a.unwrap(e);a.isNumber(o)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform3f.cmd_id,o,t,r,n)}function dt(e,t,r,n,o){var i=a.unwrap(e);a.isNumber(i)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform4f.cmd_id,i,t,r,n,o)}function ht(e,t){var r=a.unwrap(e);a.isNumber(r)&&a.isNumberOrBool(t)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform1i.cmd_id,r,t)}function mt(e,t,r){var n=a.unwrap(e);a.isNumber(n)&&a.isNumber(t)&&a.isNumber(r)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform2i.cmd_id,n,t,r)}function yt(e,t,r,n){var o=a.unwrap(e);a.isNumber(o)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform3i.cmd_id,o,t,r,n)}function vt(e,t,r,n,o){var i=a.unwrap(e);a.isNumber(i)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)&&this.commandInstance.pushCommand(this.__nativeObj,c.uniform4i.cmd_id,i,t,r,n,o)}function gt(t,r,n,o,i,s){if(null!=r&&0!=r.length){var u=a.unwrap(t),c=null;if(c=s?a.getInt32Array(r):a.getFloat32Array(r),a.isNumber(u)&&c){var f=[n,o,u,c];e.CommandQueueV2.Instance.pushCommand.apply(e.CommandQueueV2.Instance,f)}else{var l=s?"i":"f";console.error("gl.uniform"+i+l+"v js param type error! arguments= "+JSON.stringify(arguments))}}}function bt(e,t){gt(e,t,this.__nativeObj,c.uniform1fv.cmd_id,1,!1)}function Et(e,t){gt(e,t,this.__nativeObj,c.uniform2fv.cmd_id,2,!1)}function At(e,t){gt(e,t,this.__nativeObj,c.uniform3fv.cmd_id,3,!1)}function Ot(e,t){gt(e,t,this.__nativeObj,c.uniform4fv.cmd_id,4,!1)}function It(e,t){gt(e,t,this.__nativeObj,c.uniform1iv.cmd_id,1,!0)}function Tt(e,t){gt(e,t,this.__nativeObj,c.uniform2iv.cmd_id,2,!0)}function St(e,t){gt(e,t,this.__nativeObj,c.uniform3iv.cmd_id,3,!0)}function Nt(e,t){gt(e,t,this.__nativeObj,c.uniform4iv.cmd_id,4,!0)}function wt(t,r,n,o,i,s){if(null!=n&&0!=n.length){var u=a.unwrap(t),c=a.getFloat32Array(n);if(a.isNumber(u)&&c){var f=[o,i,u,r,c];e.CommandQueueV2.Instance.pushCommand.apply(e.CommandQueueV2.Instance,f)}else console.error("gl.uniformMatrix"+s+"fv js param type error! arguments= "+JSON.stringify(arguments))}}function Ct(e,t,r){wt(e,t,r,this.__nativeObj,c.uniformMatrix2fv.cmd_id,2)}function Rt(e,t,r){wt(e,t,r,this.__nativeObj,c.uniformMatrix3fv.cmd_id,3)}function Mt(e,t,r){wt(e,t,r,this.__nativeObj,c.uniformMatrix4fv.cmd_id,4)}function Pt(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.useProgram.cmd_id,t):console.error("gl.useProgram js param type error! arguments= "+JSON.stringify(arguments))}function jt(e){var t=a.unwrap(e);a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.validateProgram.cmd_id,t):console.error("gl.validateProgram js param type error! arguments= "+JSON.stringify(arguments))}function Dt(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttrib1f.cmd_id,e,t):console.error("gl.vertexAttrib1f js param type error! arguments= "+JSON.stringify(arguments))}function xt(e,t,r){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttrib2f.cmd_id,e,t,r):console.error("gl.vertexAttrib2f js param type error! arguments= "+JSON.stringify(arguments))}function Lt(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttrib3f.cmd_id,e,t,r,n):console.error("gl.vertexAttrib3f js param type error! arguments= "+JSON.stringify(arguments))}function Bt(e,t,r,n,o){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(n)&&a.isNumber(o)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttrib4f.cmd_id,e,t,r,n,o):console.error("gl.vertexAttrib4f js param type error! arguments= "+JSON.stringify(arguments))}function kt(t,r,n,o,i){if(null!=r&&0!=r.length){var s=a.getFloat32Array(r);if(a.isNumber(t)&&s){var u=[n,o,t,s];this.commandInstance.pushCommand.apply(e.CommandQueue.Instance,u)}else console.error("gl.vertexAttrib"+i+"fv js param type error! arguments= "+JSON.stringify(arguments))}}function Ft(e,t){kt(e,t,this.__nativeObj,c.vertexAttrib1fv.cmd_id,1)}function Ut(e,t){kt(e,t,this.__nativeObj,c.vertexAttrib2fv.cmd_id,2)}function Gt(e,t){kt(e,t,this.__nativeObj,c.vertexAttrib3fv.cmd_id,3)}function Vt(e,t){kt(e,t,this.__nativeObj,c.vertexAttrib4fv.cmd_id,4)}function Ht(e,t){a.isNumber(e)&&a.isNumber(t)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttribDivisor.cmd_id,e,t):console.error("gl.vertexAttribDivisor js param type error! arguments= "+JSON.stringify(arguments))}function qt(e,t,r,n,o,i){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumberOrBool(n)&&a.isNumber(o)&&a.isNumber(i)?this.commandInstance.pushCommand(this.__nativeObj,c.vertexAttribPointer.cmd_id,e,t,r,n?1:0,o,i):console.error("gl.vertexAttribPointer js param type error! arguments= "+JSON.stringify(arguments))}function Wt(e,t,r,n){a.isNumber(e)&&a.isNumber(t)&&a.isNumber(r)&&a.isNumber(e)?this.commandInstance.pushCommand(this.__nativeObj,c.viewport.cmd_id,e,t,r,n):console.error("gl.viewport js param type error! arguments= "+JSON.stringify(arguments))}function Xt(t){this.__nativeObj=t,this.commandInstance=e.CommandQueueV2.Instance,Xt.prototype.bindVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,c.bindVertexArrayOES.cmd_id,e)},Xt.prototype.createVertexArrayOES=function(){return this.commandInstance.pushCommand(this.__nativeObj,c.createVertexArrayOES.cmd_id)},Xt.prototype.deleteVertexArrayOES=function(e){this.commandInstance.pushCommand(this.__nativeObj,c.deleteVertexArrayOES.cmd_id,e)},Xt.prototype.isVertexArrayOES=function(e){return this.commandInstance.pushCommand(this.__nativeObj,c.isVertexArrayOES.cmd_id,e)}}u.attachWebGlConstant(n),this.commandInstance=e.CommandQueueV2.Instance,this.__nativeObj=o.__nativeObj,i=o,n.prototype.activeTexture=f,n.prototype.attachShader=l,n.prototype.bindAttribLocation=p,n.prototype.bindBuffer=_,n.prototype.bindFramebuffer=d,n.prototype.bindRenderbuffer=h,n.prototype.bindTexture=m,n.prototype.blendColor=v,n.prototype.blendEquation=g,n.prototype.blendEquationSeparate=b,n.prototype.blendFunc=E,n.prototype.blendFuncSeparate=A,n.prototype.bufferData=O,n.prototype.bufferSubData=I,n.prototype.checkFramebufferStatus=T,n.prototype.clear=S,n.prototype.clearColor=N,n.prototype.clearDepth=w,n.prototype.clearStencil=C,n.prototype.colorMask=R,n.prototype.compileShader=M,n.prototype.compressedTexImage2D=P,n.prototype.compressedTexSubImage2D=j,n.prototype.copyTexImage2D=D,n.prototype.copyTexSubImage2D=x,n.prototype.createBuffer=L,n.prototype.createFramebuffer=B,n.prototype.createProgram=k,n.prototype.createRenderbuffer=F,n.prototype.createShader=U,n.prototype.createTexture=G,n.prototype.cullFace=H,n.prototype.deleteBuffer=q,n.prototype.deleteFramebuffer=W,n.prototype.deleteProgram=X,n.prototype.deleteRenderbuffer=$,n.prototype.deleteShader=z,n.prototype.deleteTexture=J,n.prototype.depthFunc=K,n.prototype.depthMask=Q,n.prototype.depthRange=Z,n.prototype.detachShader=ee,n.prototype.disable=te,n.prototype.disableVertexAttribArray=re,n.prototype.drawArrays=ne,n.prototype.drawElements=ie,n.prototype.enable=se,n.prototype.enableVertexAttribArray=ue,n.prototype.finish=ce,n.prototype.flush=fe,n.prototype.framebufferRenderbuffer=le,n.prototype.framebufferTexture2D=pe,n.prototype.frontFace=_e,n.prototype.generateMipmap=de,n.prototype.getExtension=he,n.prototype.getContextAttributes=t(i.getContextAttributes),n.prototype.getSupportedExtensions=me,n.prototype.getActiveAttrib=ye,n.prototype.getActiveUniform=ve,n.prototype.getAttachedShaders=ge,n.prototype.getAttribLocation=be,n.prototype.getBufferParameter=Ee,n.prototype.getError=Ae,n.prototype.getFramebufferAttachmentParameter=Oe,n.prototype.getParameter=Ie,n.prototype.getProgramInfoLog=Te,n.prototype.getProgramParameter=Se,n.prototype.getRenderbufferParameter=Ne,n.prototype.getShaderInfoLog=we,n.prototype.getShaderParameter=Ce,n.prototype.getShaderPrecisionFormat=Re,n.prototype.getShaderSource=Me,n.prototype.getTexParameter=Pe,n.prototype.getUniform=je,n.prototype.getUniformLocation=De,n.prototype.getVertexAttrib=xe,n.prototype.getVertexAttribOffset=Le,n.prototype.hint=Be,n.prototype.isBuffer=ke,n.prototype.isEnabled=Fe,n.prototype.isFramebuffer=Ue,n.prototype.isProgram=Ge,n.prototype.isRenderbuffer=Ve,n.prototype.isShader=He,n.prototype.isTexture=qe,n.prototype.lineWidth=Xe,n.prototype.linkProgram=$e,n.prototype.pixelStorei=ze,n.prototype.polygonOffset=Je,n.prototype.readPixels=Ye,n.prototype.renderbufferStorage=Ke,n.prototype.sampleCoverage=Qe,n.prototype.scissor=Ze,n.prototype.shaderSource=et,n.prototype.stencilFunc=tt,n.prototype.stencilFuncSeparate=rt,n.prototype.stencilMask=nt,n.prototype.stencilMaskSeparate=ot,n.prototype.stencilOp=it,n.prototype.stencilOpSeparate=at,n.prototype.texImage2D=st,n.prototype.texParameterf=ut,n.prototype.texParameteri=ct,n.prototype.texSubImage2D=ft,n.prototype.uniform1f=lt,n.prototype.uniform1fv=bt,n.prototype.uniform1i=ht,n.prototype.uniform1iv=It,n.prototype.uniform2f=pt,n.prototype.uniform2fv=Et,n.prototype.uniform2i=mt,n.prototype.uniform2iv=Tt,n.prototype.uniform3f=_t,n.prototype.uniform3fv=At,n.prototype.uniform3i=yt,n.prototype.uniform3iv=St,n.prototype.uniform4f=dt,n.prototype.uniform4fv=Ot,n.prototype.uniform4i=vt,n.prototype.uniform4iv=Nt,n.prototype.uniformMatrix2fv=Ct,n.prototype.uniformMatrix3fv=Rt,n.prototype.uniformMatrix4fv=Mt,n.prototype.useProgram=Pt,n.prototype.validateProgram=jt,n.prototype.vertexAttrib1f=Dt,n.prototype.vertexAttrib1fv=Ft,n.prototype.vertexAttrib2f=xt,n.prototype.vertexAttrib2fv=Ut,n.prototype.vertexAttrib3f=Lt,n.prototype.vertexAttrib3fv=Gt,n.prototype.vertexAttrib4f=Bt,n.prototype.vertexAttrib4fv=Vt,n.prototype.vertexAttribDivisor=Ht,n.prototype.vertexAttribPointer=qt,n.prototype.viewport=Wt,n.prototype.isContextLost=t(i.isContextLost),this.__nativeObj.isSupportES3()&&(n.prototype.bindVertexArray=y,n.prototype.createVertexArray=V,n.prototype.deleteVertexArray=Y,n.prototype.drawArraysInstanced=oe,n.prototype.drawElementsInstanced=ae,n.prototype.isVertexArray=We),this.createOESVertexArrayObject=function(e){return new s.OESVertexArrayObject(new Xt(e))}}e.CanvasWebGLCmdQueueV2Context=function(e){return new n(e)}}(__TT__GLOBAL__.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e,t){e.CustomButtonType={USER_INFO:1,OPEN_SETTING:2,FEEDBACK:3,GAME_CLUB:4,ADD_FRIEND:5};var r=function(){var t={1:"onTap"};function r(r,n){this._customButton=new e.Triton.UserInfoButton,this._notificationCenter=e.EventEmitter.create();var o=this;this._customButton.setCallback(function(i){var a=i.eventType;if(null!=a){var s=i.resp,u=t[a];r==e.CustomButtonType.USER_INFO?e.privateApi.webapi_getuserinfo({withCredentials:!!n.withCredentials,lang:n.lang?n.lang:"en",from_component:!0,success:function(e){o._notificationCenter.postEvent(u,e)},fail:function(e){o._notificationCenter.postEvent(u,e)}}):o._notificationCenter.postEvent(u,s)}}),n.buttonType=r,this._customButton.createUserInfoButton(JSON.stringify(n))}return r.prototype.show=function(){this._customButton.setVisible(!0)},r.prototype.hide=function(){this._customButton.setVisible(!1)},r.prototype.destroy=function(){this._customButton.destroy()},r.prototype.onTap=function(e){this._notificationCenter.addObserver("onTap",e)},r.prototype.offTap=function(e){this._notificationCenter.removeObserver("onTap",e)},r}();e.CustomButton=r}(r.__ttObjdec__,wx||(wx={}))},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__;__TT__GLOBAL__;!function(e){var t=new Set;function r(){this.__nativeObj=new e.Triton.Image,this.__loaded=!1,this.__event={},this.__onload=null,this.__onerror=null,Object.defineProperty(this,"width",{get:function(){return this.__nativeObj.width}}),Object.defineProperty(this,"height",{get:function(){return this.__nativeObj.height}})}Object.defineProperty(r.prototype,"src",{get:function(){return this.__nativeObj.src},set:function(e){void 0!==e&&null!=e&&""!==e&&e!==this.__nativeObj.src&&(t.add(this),this.__nativeObj.src=e)}}),Object.defineProperty(r.prototype,"onload",{get:function(){return this.__onload},set:function(e){this.__onload&&this.removeEventListener("load",this.__onload),this.__onload=e,this.addEventListener("load",e,{once:!0});this.__loaded&&e({once:!0})},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"onerror",{get:function(){return this.__onerror},set:function(e){this.__onerror&&this.removeEventListener("error",this.__onerror),this.__onerror=e,this.addEventListener("error",e,{once:!0})},enumerable:!0,configurable:!0}),r.prototype.addEventListener=function(e,t,r){if(t){this.__event[e]||(this.__event[e]=[]),this.__event[e].push(t);var n=this;"load"==e&&null==this.__nativeObj.onload&&(this.__nativeObj.onload=function(){n.dispatchEvent({type:"load",target:n})}),"error"==e&&null==this.__nativeObj.onerror&&(this.__nativeObj.onerror=function(e){n.dispatchEvent({type:"error",errMsg:e,target:n})}),r&&r.capture&&console.warn("EventTarget.addEventListener: options.capture is not implemented."),r&&r.once,r&&r.passive&&console.warn("EventTarget.addEventListener: options.passive is not implemented.")}},r.prototype.removeEventListener=function(e,t){if(t){this.__event[e]||(this.__event[e]=[]);var r=this.__event[e].indexOf(t);this.__event[e].splice(r,1),this.__event.load&&0==this.__event.load.length&&(this.__nativeObj.onload=null),this.__event.error&&0==this.__event.error.length&&(this.__nativeObj.onerror=null)}},r.prototype.dispatchEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.__event[e.type];if(void 0!==r)for(var n=0;n<r.length;n++)r[n]&&r[n].apply(this,[e]);t.delete(this)},e.WebImage=r}(r.__ttObjdec__)},function(e,t){__TT__GLOBAL__;var r=__TT__GLOBAL__,n=__TT__GLOBAL__,o=(__TT__GLOBAL__,r.__ttObjdec__);o.logInterface=function(e,t){try{if(t.length>0){var r=t.map(function(e){try{return"string"==typeof e?e:JSON.stringify(e)}catch(t){return e}}).join(" ");o.Triton.Script.log(e,0,r)}else o.Triton.Script.log(e,0,"no args log")}catch(e){o.Triton.Script.log(103,0,"tt.Triton.Script.logInterface error! err ="+e)}};var i=console.log,a=console.error,s=console.warn,u=console.debug;console.log=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(101,e),i.apply(console,arguments)},console.info=console.log,console.error=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(103,e),a.apply(console,arguments)},console.warn=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(102,e),s.apply(console,arguments)},console.debug=function(){var e=Array.prototype.slice.call(arguments);o.logInterface(100,e),u.apply(console,arguments)},console.group=console.log,console.groupEnd=function(){},n.console=console,function(e){var t=e._notifcationCenter;wx.createCanvas=function(){return new e.Canvas(new e.Triton.Canvas)},wx.createImage=function(){return new e.WebImage},wx.requestAnimationFrame=n.requestAnimationFrame,wx.cancelAnimationFrame=n.cancelAnimationFrame;var r=e.Triton.TouchEvent,o={0:"touchStart",1:"touchEnd",2:"touchMove",3:"touchCancel"};wx.onTouchStart=function(e){t.addObserver("touchStart",e)},wx.offTouchStart=function(e){t.removeObserver("touchStart",e)},wx.onTouchMove=function(e){t.addObserver("touchMove",e)},wx.offTouchMove=function(e){t.removeObserver("touchMove",e)},wx.onTouchEnd=function(e){t.addObserver("touchEnd",e)},wx.offTouchEnd=function(e){t.removeObserver("touchEnd",e)},wx.onTouchCancel=function(e){t.addObserver("touchCancel",e)},wx.offTouchCancel=function(e){t.removeObserver("touchCancel",e)},r.setTouchEventCallback(function(e){t.postEvent(o[e.action],e)}),e._getSharedCanvas=function(){if(!i){var t=new e.Canvas(e.Triton.wx.getSharedCanvas());t.getContext=function(){if(this.__nativeObj&&arguments.length>=1){var t=arguments[0];if(this.currentContext[t])return this.currentContext[t];if("2d"==t){var r=this.__nativeObj.getContext(t);return this.currentContext[t]=new e.CanvasContext2D(this.__nativeObj,r),this.currentContext[t].canvas=this,this.currentContext[t]}}else;},t.toDataURL=function(){},t.toTempFilePath=function(){},t.toTempFilePathSync=function(){},t.isScreen=function(){return!1},t.isShared=!0,(i=t).getContext("2d")}return i};var i=null;Object.defineProperty(n,"sharedCanvas",{get:function(){return e._getSharedCanvas()},set:function(e){}});var a=function(){if(0<arguments.length&&"return this"===arguments[arguments.length-1])return function(){return{}}};a.prototype=n.Function.prototype,n.Function.prototype.constructor=a,n.Function=a}(n.__ttObjdec__)},function(e,t){__TT__GLOBAL__,__TT__GLOBAL__;var r=__TT__GLOBAL__;!function(e){var t=e._notifcationCenter;wx.onNetworkStatusChange=function(r){t.addObserver(e.sso.onNetworkStatusChange,function(e){r&&0==e.resultCode&&r(JSON.parse(e.resp))})},wx.onMessage=function(e){console.log("调用了空实现的接口, wx.onMessage, callback:"+e)},wx.getRecorderManager=function(){console.log("---adapter---wx.getRecorderManager todo???")},wx.postMessage=function(e){wx.getOpenDataContext().postMessage(e)},wx.login=function(n){if(null!=r.Android){if(n){var o={timeout:n.timeout};!function(r,n,o,i){t.addObserver(n,function(e,t){r.success&&0==t?r.success(e):r.fail&&r.fail(),r.complete&&r.complete()}),i&&e.Triton.SsoRequest.send(o,n)}(n,e.sso.login,o,!0)}}else e.Triton.wx.login(n)},wx.checkSession=function(n){null!=r.Android?n&&function(r,n,o){t.addObserver(n,function(e){r.success&&0==retCode?r.success():r.fail&&r.fail(),r.complete&&r.complete()}),e.Triton.SsoRequest.send(o,n)}(n,e.sso.checkSession,{}):e.Triton.wx.checkSession(n)},wx.setPreferredFramesPerSecond=function(t){return e.Triton.wx.setPreferredFramesPerSecond(t)};var n=void 0;wx.createWorker=function(t){if(console.log("---adapter---wx.createWorker"),null!=t)return null!=n&&(n.terminate(),n=void 0),(n=e.worker).runScript(t),n;console.log("---adapter---wx.createWorker error, undefined scriptPath")},wx.onWindowResize=function(){console.log("---adapter---wx.onWindowResize todo???")},wx.offWindowResize=function(){console.log("---adapter---wx.offWindowResize todo???")};var o={};o.now=function(){return(new Date).getTime()},wx.getPerformance=function(){return o},wx.triggerGC=function(){console.log("---adapter---wx.triggerGC"),forceGC()},wx.createUserInfoButton=function(t){return new e.CustomButton(e.CustomButtonType.USER_INFO,t)},wx.createOpenSettingButton=function(t){return new e.CustomButton(e.CustomButtonType.OPEN_SETTING,t)},wx.createFeedbackButton=function(t){return console.log("调用了空实现的接口, wx.createFeedbackButton"),new e.CustomButton(e.CustomButtonType.FEEDBACK,t)},wx.createGameClubButton=function(t){return console.log("调用了空实现的接口, wx.createGameClubButton"),new e.CustomButton(e.CustomButtonType.GAME_CLUB,t)},wx.createAddFriendButton=function(t){return new e.CustomButton(e.CustomButtonType.ADD_FRIEND,t)},GameGlobal.__isAdapterInjected=!1,GameGlobal.options={query:{mode:"iphone"}}}(r.__ttObjdec__)},,,,function(e,t,r){"use strict";r.r(t);var n=r(12),o=r.n(n),i=r(16),a=r.n(i),s=r(6);function u(e,t){return new Promise(function(r,n){t.success=r,t.fail=function(t){n({prarm:t,apiName:e})},s.invokeHandler(e,t)})}function c(e,t,r){var n=function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",o=l(r),i=l(t);if(i!==o)return n+" should be "+o+" instead of "+i+";";var a="";switch(o){case"Object":Object.keys(r).forEach(function(o){a+=e(t[o],r[o],n+"."+o)});break;case"Array":if(t.length<r.length)return n+" should have at least "+r.length+" item;";for(var s=0;s<r.length;++s)a+=e(t[s],r[s],n+"["+s+"]")}return a}(t,r);return""!==n&&p(e,t,{errMsg:"parameter error: "+n,errCode:1e3},!1),!n}var f=Object.prototype.toString;function l(e){return f.call(e).slice(8,-1)}function p(e,t,r,n){r.errMsg||(r.errMsg=n?e+":ok":e+":fail"),void 0===r.errCode&&(r.errCode=n?0:-1),n?t.success&&t.success(r):t.fail&&t.fail(r),t.complete&&t.complete(r)}var _=r(3),d="requestMidasPayment";function h(e){return m.apply(this,arguments)}function m(){return(m=a()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_.isIOS){e.next=2;break}return e.abrupt("return",p(d,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 2:if(t.offerId&&"string"==typeof t.offerId){e.next=4;break}return e.abrupt("return",p(d,t,{errCode:1e3,errMsg:"parameter error: offerId error"},!1));case 4:if(t.setEnv=t.env,"number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=8;break}return e.abrupt("return",p(d,t,{errCode:1e3,errMsg:"parameter error: env should be number `0` or `1`"},!1));case 8:return e.next=10,y(t);case 10:if(0==(r=e.sent).resultCode){e.next=13;break}return e.abrupt("return",p(d,t,{errCode:r.resultCode,midasCode:r.resultCode,errMsg:r.resultMsg},!1));case 13:p(d,t,{errCode:0},!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return u(d,{offerId:e.offerId,zoneId:e.zoneId,acctType:"common",saveValue:e.buyQuantity||e.saveValue,isCanChange:!1,currencyType:"CNY",platform:"android",remark:"",aid:"{appid}",numberVisible:!0,other:"",setEnv:e.env||e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})})}var v=r(3),g="requestMidasPayment";function b(e){return E.apply(this,arguments)}function E(){return(E=a()(o.a.mark(function e(t){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("yuki paycallback payByH5 param:"+JSON.stringify(t)),!v.isIOS){e.next=3;break}return e.abrupt("return",p(g,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 3:if("number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=6;break}return e.abrupt("return",p(g,t,{errCode:1e3,errMsg:"parameter error: env should be number `0` or `1`"},!1));case 6:return e.next=8,A(t);case 8:if(0==(r=e.sent).resultCode){e.next=11;break}return e.abrupt("return",p(g,t,{errCode:r.resultCode,midasCode:r.resultCode,errMsg:r.resultMsg},!1));case 11:p(g,t,{errCode:0},!0);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e){return u("requestMidasPaymentByH5",{offerId:"1450023163",prepayId:e&&e.prepayId,starCurrency:e&&e.starCurrency,setEnv:e&&e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})})}r.d(t,"requestMidasPayment",function(){return N});var O=r(3),I="requestMidasPayment",T={BeNotPresent:1,WechatPay:2,QQWallet:3};function S(){return new Promise(function(e){qq.getSystemInfo({success:function(t){e(function(e,t){var r,n,o,i;for(e=String(e).split("."),t=String(t).split("."),r=0,i=Math.max(e.length,t.length);r<i;r++){if(n=isFinite(e[r])&&Number(e[r])||0,o=isFinite(t[r])&&Number(t[r])||0,n<o)return-1;if(n>o)return 1}return 0}(t.version,"8.1.0")>=0)}})})}function N(e){return w.apply(this,arguments)}function w(){return(w=a()(o.a.mark(function e(t){var r,n,i,a,s,f,l,_,d,m,y;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!O.isIOS){e.next=2;break}return e.abrupt("return",p(I,t,{errCode:-1,errMsg:"iOS not supported"},!1));case 2:return e.next=4,u("checkH5PayStatus",{}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-1,resultMsg:e.prarm&&e.prarm.resultMsg})});case 4:if(0!=e.sent.resultCode){e.next=8;break}return b(t),e.abrupt("return");case 8:if(!t.offerId||t.prepayId||t.starCurrency){e.next=11;break}return h(t),e.abrupt("return");case 11:if(c(I,t,{prepayId:"",starCurrency:0})){e.next=13;break}return e.abrupt("return");case 13:if("number"!=typeof t.setEnv&&(t.setEnv=0),0===t.setEnv||1===t.setEnv){e.next=16;break}return e.abrupt("return",p(I,t,{errCode:1e3,errMsg:"parameter error: setEnv should be number `0` or `1`"},!1));case 16:if(!(t.starCurrency<=0)){e.next=18;break}return e.abrupt("return",p(I,t,{errCode:1e3,errMsg:"parameter error: starCurrency should bigger than 0"},!1));case 18:return r=T.BeNotPresent,e.next=21,C(t);case 21:if(0==(n=e.sent).resultCode){e.next=25;break}return i="query star currency fail. (code:".concat(n.resultCode,")"),e.abrupt("return",p(I,t,{errCode:-1,errMsg:i},!1));case 25:if(a=n.remainder,s=n.rechargeNum,!(Number(n.rechargeNum)>0)){e.next=48;break}if(!S()){e.next=40;break}return e.next=32,j({prepayId:t.prepayId,starCurrency:t.starCurrency,balanceAmount:a,topupAmount:s,setEnv:t.setEnv},n);case 32:if(0==(f=e.sent).resultCode){e.next=37;break}return l=f.resultMsg,_=f.resultCode,e.abrupt("return",p(I,t,{errCode:_,errMsg:l},!1));case 37:return e.abrupt("return",p(I,t,{errCode:0},!0));case 40:return e.next=42,M(t,n);case 42:if(0==(d=e.sent).resultCode){e.next=45;break}return e.abrupt("return",p(I,t,{errCode:-3,midasCode:d.resultCode,errMsg:d.resultMsg},!1));case 45:o=d.payChannel,r=8===o?T.WechatPay:T.QQWallet;case 46:e.next=53;break;case 48:return e.next=50,R(t);case 50:if(0===e.sent.errCode){e.next=53;break}return e.abrupt("return",p(I,t,{errCode:-2,errMsg:"user cancel pay"},!1));case 53:return e.next=55,P({prepayId:t.prepayId,starCurrency:t.starCurrency,payChannel:r,balanceAmount:a,topupAmount:s,setEnv:t.setEnv});case 55:if(0==(m=e.sent).resultCode){e.next=59;break}return y="consume fail. (code:".concat(m.resultCode,")"),e.abrupt("return",p(I,t,{errCode:-4,errMsg:y},!1));case 59:p(I,t,{errCode:0},!0);case 60:case"end":return e.stop()}var o},e)}))).apply(this,arguments)}function C(e){return u("queryStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency,setEnv:e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-1,resultMsg:e.prarm&&e.prarm.resultMsg})})}function R(e){return u("showModal",{title:"提示",content:"需要消耗星币"+e.starCurrency}).then(function(e){return e.confirm?Promise.resolve({errCode:0,errMsg:"ok"}):Promise.resolve({errCode:-2,errMsg:"user cancel pay"})})}function M(e,t){return u("rechargeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!1,remark:"",aid:"{appid}-"+e.prepayId,numberVisible:!0,discountId:"",other:"",setEnv:e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})})}function P(e){return u("consumeStarCurrency",{extInfoJson:"",prepayId:e.prepayId,starCurrency:e.starCurrency,balanceAmount:e.balanceAmount,topupAmount:e.topupAmount,payChannel:e.payChannel,setEnv:e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-4,resultMsg:e.prarm&&e.prarm.resultMsg})})}function j(e,t){return u("rechargeAndConsumeStarCurrency",{offerId:"1450019683",zoneId:"1",acctType:"common",saveValue:t.rechargeNum,isCanChange:!1,remark:"",aid:"{appid}-"+e.prepayId,numberVisible:!0,discountId:"",other:"",prepayId:e.prepayId,balanceAmount:e.balanceAmount,topupAmount:e.topupAmount,starCurrency:e.starCurrency,setEnv:e.setEnv}).catch(function(e){return Promise.resolve({resultCode:e.prarm&&e.prarm.resultCode||-3,resultMsg:e.prarm&&e.prarm.resultMsg})})}}]);