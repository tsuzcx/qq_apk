function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var __WAServiceStartTime__=Date.now();!function(){var __exportGlobal__={},__libVersionInfo__={updateTime:"2021.6.24 20:17:16",version:"1.29.0",build:"00002"},__wxConfig;function initWeixinJSBridge(e){e.__qqConfig=e.__qqConfig||e.__wxConfig||{};var t=(e.navigator||{}).userAgent,n="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext;if(e.navigator&&e.navigator.userAgent&&(t.indexOf("appservice")>-1||t.indexOf("qqdevtools")>-1)&&(n=!0),n){var r=e.QQJSBridge||e.WeixinJSBridge;return e.QQJSBridge=r,e.WeixinJSBridge=r,e.__qqConfig&&e.__qqConfig.clientDebug||(delete e.QQJSBridge,delete e.WeixinJSBridge),r}var o=e.__qqConfig||{},i=o.isWK,a={},c=0,s={},u={},l=e.webkit,f=e.WeixinJSCore;function d(e,t){var n={};if(void 0!==e&&""!==e&&null!==e&&"function"==typeof a[t]){try{n=JSON.parse(e),n=WeixinNativeBuffer.unpack(n)}catch(e){}a[t](n),delete a[t]}}function p(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var n=WeixinNativeBuffer.unpack(t),r=a[e];"function"==typeof r&&(r(n),delete a[e])}function h(e,t,n,r){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var o,i=WeixinNativeBuffer.unpack(t);if(i=WeixinNativeBuffer.unpackLongString(i,e),"function"==typeof(o=-1!==e.indexOf("custom_event_")?u[e]:s[e]))return o(i,n,r)}"object"===_typeof(f)&&"function"!=typeof f.publishHandler&&(f.publishHandler=function(){}),delete e.webkit,delete e.WeixinJSCore,e.QQJSBridge={get invokeCallbackHandler(){return p},get subscribeHandler(){return h}};var v={on:function(e,t){s[e]=t},publish:function(e,t,n){var r=JSON.stringify(t);"undefined"!=typeof WeixinNativeBuffer&&n&&1===n.length&&(r=WeixinNativeBuffer.packLongString(r,e));var o="custom_event_"+e,i=JSON.stringify(n||[]);f?f.publishHandler(o,r,i):l.messageHandlers.publishHandler.postMessage({event:o,paramsString:r,webviewIds:i})},invoke:function(e,t,n){var r=WeixinNativeBuffer.pack(t),o=JSON.stringify(r||{}),s=c+=1;if(a[s]=n,f){d(f.invokeHandler(e,o,s),s)}else{var u={event:e,paramsString:o,callbackId:s};if(i)d(prompt("webgame_invoke",u),s);else l.messageHandlers.invokeHandler.postMessage(u)}},subscribe:function(e,t){u["custom_event_"+e]=t},get invokeCallbackHandler(){return p},get subscribeHandler(){return h}};return(null==o?void 0:o.clientDebug)&&(e.QQJSBridge=v),e.WeixinJSBridge=e.QQJSBridge,v}"undefined"!=typeof module&&module.exports&&(module.exports=__libVersionInfo__),console.log("---jsbridge start init---");var QQJSBridge=initWeixinJSBridge(this),WeixinJSBridge=QQJSBridge,__wxTest__=!1;function wxRunOnDebug(e){e()}function initWxConfig(e){e.__qqConfig?__qqConfig=JSON.parse(JSON.stringify(e.__qqConfig)):__qqConfig={},__wxConfig=__qqConfig;var t="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext,n="undefined"!=typeof __clientsubcontext&&__clientsubcontext,r=t||n,o=!0===__qqConfig.preload,i=!r&&!o,a="undefined"!=typeof document,c=[];function s(e){i?void 0!==__qqConfig&&e(__qqConfig):"function"==typeof e&&c.push(e)}function u(t){var n=t;return n.onReady=s,n.preload=o,n.isReady=i,!n.platform&&a&&(e.navigator.userAgent.toLowerCase().indexOf("devtools")>=0?n.platform="devtools":e.navigator.userAgent.toLowerCase().indexOf("android")>=0?n.platform="android":n.platform="ios"),n}function l(){void 0===e.__qqConfig||i||(__qqConfig=JSON.parse(JSON.stringify(e.__qqConfig)),i=!0,__qqConfig=u(__qqConfig),c.forEach((function(e){e(__qqConfig)})),c=[])}function f(){WeixinJSBridge.on("onWxConfigReady",l)}!r&&o&&(void 0!==WeixinJSBridge?f():document.addEventListener("WeixinJSBridgeReady",f,!1)),__qqConfig=u(__qqConfig),r&&!i&&(__qqConfig.__readyHandler=l)}initWxConfig(this),this.__wxConfig=this.__qqConfig;var NativeBuffer=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,r=e.setNativeBuffer,o=e.getNativeBuffer,i=e.__wxConfig||{},a=!1,c=!1;"android"===i.platform?"function"==typeof n&&"function"==typeof r&&"function"==typeof o&&i.nativeBufferEnabled&&(c=!0):"ios"===i.platform&&null!=t&&i.nativeBufferEnabled&&(a=!0);var s=function(e){var o={};return a?o.id=function(e){var o=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof r&&(i=n(),r(i,e)),e.__proto__=o,i}(e):o.base64=p(e),o},u=function(e){var n;if(null!=e)if(a&&void 0!==e.id){if(n=e.id,t)return t.get(n);if("function"==typeof o)return o(n)}else if(void 0!==e.base64)return h(e.base64)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=f||function(e){for(var t,n,r=String(e),o="",i=0,a=l;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return o},d=d||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=l.indexOf(o);return n},p=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return f(t)},h=function(e){for(var t=d(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},v=function(e){for(var t=e.length,n=-1,r=new Uint8Array(3*t),o=0,i=0,a=0;a!==t;){if(o=e.charCodeAt(a),a+=1,o>=55296&&o<=56319){if(a===t){r[n+=1]=239,r[n+=1]=191,r[n+=1]=189;break}if(!((i=e.charCodeAt(a))>=56320&&i<=57343)){r[n+=1]=239,r[n+=1]=191,r[n+=1]=189;continue}if(a+=1,(o=1024*(o-55296)+i-56320+65536)>65535){r[n+=1]=240|o>>>18,r[n+=1]=128|o>>>12&63,r[n+=1]=128|o>>>6&63,r[n+=1]=128|63&o;continue}}o<=127?r[n+=1]=0|o:o<=2047?(r[n+=1]=192|o>>>6,r[n+=1]=128|63&o):(r[n+=1]=224|o>>>12,r[n+=1]=128|o>>>6&63,r[n+=1]=128|63&o)}return r.length=n+1,r.buffer},g=function(e){for(var t=new Uint8Array(e),n=0,r=t.length,o=[];n<r;){var i=t[n++];if(0===i)break;if(0==(128&i))o.push(i);else if(192==(224&i)){var a=63&t[n++];o.push((31&i)<<6|a)}else if(224==(240&i)){a=63&t[n++];var c=63&t[n++];o.push((31&i)<<12|a<<6|c)}else if(240==(248&i)){var s=(7&i)<<18|(a=63&t[n++])<<12|(c=63&t[n++])<<6|63&t[n++];s>65535&&(s-=65536,o.push(s>>>10&1023|55296),s=56320|1023&s),o.push(s)}}for(var u="";o.length;)u+=String.fromCharCode.apply(null,o.splice(0,65536));return u},y=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:s,get:u,useCompatibleMode:function(e){null==t||t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var n in e){var r=e[n];if(void 0!==r&&"ArrayBuffer"===y(r)&&void 0!==r.byteLength)(i=s(r)).key=n,t.push(i)}if(0<t.length){for(var o=0;o<t.length;o++){var i;delete e[(i=t[o]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var r=t[n];if(null!=r){var o=u(r);void 0!==o&&"ArrayBuffer"===y(o)&&(e[r.key]=o)}}return e},packLongString:function(e,t){if(!c||!e||e&&e.length<10240)return e;var o=v(e);if(!o||0===o.byteLength)throw new Error("[packLongString]str2ab fail, eventName:".concat(t));var i=n();return-1===i?e:(r(i,o),JSON.stringify({__nativeBufferId__:i}))},unpackLongString:function(e,t){if(!c||!e||!e.__nativeBufferId__)return e;var n=e.__nativeBufferId__,r=o(n);if(!r)throw new Error("[unpackLongString]getNativeBuffer fail: bid=".concat(n,", arrayBuffer:").concat(r,", eventName:").concat(t));var i,a=g(r);try{i=JSON.parse(a)}catch(e){throw new Error("[unpackLongString]JSON.parse error: str.length =".concat(a.length,",str[0,10]=").concat(a.substr(0,10),",str[,-10]=").concat(a.substr(-10)))}return i}}}(this);function initWeixinJSBridgeFinish(){console.log("---jsbridge finish init---"),WeixinJSBridge.invoke("initWeixinJSBridgeFinish")}WeixinNativeBuffer=NativeBuffer,NativeBuffer=null,void 0!==WeixinJSBridge?initWeixinJSBridgeFinish():document.addEventListener("WeixinJSBridgeReady",initWeixinJSBridgeFinish,!1);var wxConsole=(t=function(e){return function(){var t;console[e].apply(console,(t=arguments,Array.prototype.unshift.call(t,"[system]"),t))}},a={},{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:t("debug"),time:t("time"),timeEnd:t("timeEnd"),group:t("group"),groupEnd:t("groupEnd"),perf:function(e){a[e]=Date.now()},perfEnd:function(e,t,n){if(a[e]){n=n||{};var r=Date.now()-a[e],o=null;"warnIf"in n&&r>n.warnIf?o="warn":n.showAll&&(o="info"),o&&console[o]("[system]","[Perf]",t||e,"(".concat(Date.now()-a[e],"ms)")),delete a[e]}else console.warn("[system]","[Perf] Unknown tag:",e,a[e])}}),t,a,WeixinWorker=function(e){var t=!0;if((e.__wxConfig||{}).isWK,e.navigator&&e.navigator.userAgent){var n=e.navigator.userAgent;(-1<n.indexOf("appservice")||-1<n.indexOf("qqdevtools"))&&(t=!0)}var r=e.WeixinWorker||{},o=[],i=[],a=[],c=function(e){e=WeixinNativeBuffer.unpack(e),i.forEach((function(t){"function"==typeof t&&t(e)}))},s=function(e,t){t=WeixinNativeBuffer.unpack(t),o.forEach((function(n){"function"==typeof n&&n(e,t)}))},u=function(e){a.forEach((function(t){"function"==typeof t&&t(e)}))},l={get appServiceMsgHandler(){return c},get workerMsgHandler(){return s},get errorHandler(){return u},get __workerId__(){return r.__workerId__}},f={create:function(){if("function"==typeof r.create)return r.create.apply(r,arguments)},terminate:function(){if("function"==typeof r.terminate)return r.terminate.apply(r,arguments)},postMsgToAppService:function(e){try{e=WeixinNativeBuffer.pack(e),e=JSON.stringify(e),r.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t){try{t=WeixinNativeBuffer.pack(t),t=JSON.stringify(t),r.postMsgToWorker(e,t)}catch(e){console.error(e)}},onWorkerMsg:function(e){o.push(e)},onAppServiceMsg:function(e){i.push(e)},onError:function(e){a.push(e)}};return t&&(f.appServiceMsgHandler=l.appServiceMsgHandler,f.workerMsgHandler=l.workerMsgHandler,f.errorHandler=l.errorHandler,f.__workerId__=l.__workerId__),e.WeixinWorker=l,f}(this),JSContext=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){n.r(t),n.d(t,"ObjDefProp",(function(){return c})),n.d(t,"getDataType",(function(){return s})),n.d(t,"getAllPropertyDescs",(function(){return u}));var r=Object.prototype.toString,o=Object.getPrototypeOf,i=Object.getOwnPropertyNames,a=Object.getOwnPropertyDescriptor,c=Object.defineProperty,s=function(e){return r.call(e).split(" ")[1].split("]")[0]},u=function(e){for(var t=[],n=function(e){i(e).forEach((function(n){var r=a(e,n);void 0!==r&&(r.name=n,t.push(r))}))},r=e;r;r=o(r))n(r);return t}},function(e,t,n){var r=n(0),o=["constructor","__proto__","__defineGetter__","__defineSetter__"],i="undefined"!=typeof WeakMap?new WeakMap:{},a="undefined"!=typeof WeakMap?new WeakMap:{},c=function e(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=Object(r.getDataType)(t);return"String"===o||"Number"===o||"Boolean"===o?t.valueOf():"Object"===o?new f(t):"Array"===o?function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o))}return n}(t):"Function"===o?function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=a.get(t);return void 0!==r||(r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(var c=0;c<o.length;c++){var s=o[c];o[c]=e(s)}var u=n?i.get(this):void 0,l=t.call.apply(t,[u].concat(o));return e(l)},a.set(t,r)),r}(t,n):"Undefined"!==o&&"Null"===o?null:void 0},s=function(e){return function(){var t=i.get(this);if(void 0!==t){if(null===t)return null;var n=t[e];return c(n,!0)}}},u=function(e){return function(t){var n=i.get(this);if(void 0!==n)return null===n?null:void(n[e]=c(t))}},l=function(e){for(var t=0;t<o.length;t++)if(o[t]===e)return!0;return!1},f=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.set(this,t),function(){for(var e=i.get(this),t=Object(r.getAllPropertyDescs)(e),n=0;n<t.length;n++){var o=t[n],a=o.name;l(a)||a in this||(delete o.value,delete o.writable,Object(r.ObjDefProp)(this,a,_extends(o,{get:s(a),set:u(a)})))}}.call(this)};t.default=f},function(e,t,n){var r,o,i,a,c;n.r(t);var s=n(1),u=n(0),l={},f={},d=[],p=0,h=[],v=function(e,t){if(void 0!==t&&void 0!==e&&e===r)return f[++p]=t,d.push(p),h.forEach((function(e){"function"==typeof e&&e(p)})),p},g=function(e,t,n,o){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(void 0!==e&&e===r){var a=function(e){for(var t=d.length,n=0;n<t;n++){var r=d[n];if(f[r]===e)return r}}(t);if(void 0!==a){i||(n=n.valueOf(),o=new s.default(o));var c=l[n];"function"==typeof c&&c(o,a)}}},y={__init__:function(e){void 0===r&&void 0!==e&&((r=e).register=v,r.subscribeHandler=g,o=r.alloc,i=r.create,a=r.destroy,c=r.evaluateScriptFile,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile)},publish:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=Object(u.getDataType)(t);if("Object"!==i&&"Undefined"!==i)throw new Error("params should be an object.");o||(e=e.valueOf(),t=new s.default(t)),n.forEach((function(n){var i=f[n];null==i||i.subscribeHandler(r,e,t,o)}))},subscribe:function(e,t){l[e]=t},onRegister:function(e){h.push(e)},evaluateScriptFile:function(e,t){return c(e,t)},alloc:function(){return"function"==typeof o?o.call(r):-9999},create:function(e){return"function"==typeof i?i.call(r,e):-9999},destroy:function(e){return"function"==typeof a?a(e):-9999},supportAlloc:function(){return"function"==typeof o}};t.default=y},function(e,t,n){var r;n.r(t);var o=n(1),i=n(0),a={},c={subscribeHandler:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(void 0!==e&&e===r){i||(t=t.valueOf(),n=new o.default(n));var c=a[t];"function"==typeof c&&c(n)}}},s={__init__:function(e){void 0===r&&void 0!==e&&(r=e).register(e,c)},publish:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=Object(i.getDataType)(n);if("Object"!==s&&"Undefined"!==s)throw new Error("params should be an object.");var u=e.valueOf();t=a?n||{}:void 0===n?{}:new o.default(n),r.subscribeHandler(r,c,u,t,a)},subscribe:function(e,t){a[e]=t}};t.default=s},function(e,t,n){n.r(t),t.default={alloc:function(){return-9999},create:function(){return-9999},destroy:function(){return-9999},publish:function(){},subscribe:function(){},supportAlloc:function(){}}},function(e,t,n){n.r(t),function(e){var r,o=n(2),i=n(3),a=n(4);if(void 0===e)throw new Error("js-context: global is undefined");void 0!==e.WeixinJSContext?(r=Object.getPrototypeOf(e.WeixinJSContext)===Object.prototype?o.default:i.default).__init__(WeixinJSContext):r=a.default,delete r.__init__,e.WeixinJSContext=void 0,t.default=r}.call(this,n(6))},function(Sg,Tg){var Ug;Ug=function(){return this}();try{Ug=Ug||Function("return this")()||eval("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(Ug=window)}Sg.exports=Ug}]).default;!function(e,t,n){"use strict";!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=104)}([function(e,t,r){var o=r(3),i=r(30),a=r(14),c=r(11),s=r(16),u="prototype",l=function e(t,r,l){var f,d,p,h,v=t&e.F,g=t&e.G,y=t&e.P,_=t&e.B,b=g?o:t&e.S?o[r]||(o[r]={}):(o[r]||{})[u],m=g?i:i[r]||(i[r]={}),w=m[u]||(m[u]={});for(f in g&&(l=r),l)p=((d=!v&&b&&b[f]!==n)?b:l)[f],h=_&&d?s(p,o):y&&"function"==typeof p?s(Function.call,p):p,b&&c(b,f,p,t&e.U),m[f]!=p&&a(m,f,h),y&&w[f]!=p&&(w[f]=p)};o.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==_typeof(e)?null!==e:"function"==typeof e}},function(e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof t&&(t=r)},function(e,t,n){var r=n(2);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(57)("wks"),o=n(31),i=n(3).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(4),o=n(79),i=n(24),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(1)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(0),o=n(1),i=n(26),a=/"/g,c=function(e,t,n,r){var o=String(i(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),c+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(c),r(r.P+r.F*o((function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length})),"String",n)}},function(e,t,n){var r=n(3),o=n(14),i=n(9),a=n(31)("src"),c="toString",s=Function[c],u=(""+s).split(c);n(30).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,c){var s="function"==typeof n;s&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(s&&(i(n,a)||o(n,a,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:c?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(e,t,n){var r=n(42),o=n(26);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(6),o=n(25);e.exports=n(7)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,r){var o=r(17);e.exports=function(e,t,r){if(o(e),t===n)return e;switch(r){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(0),o=n(30),i=n(1);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,r){var o=r(16),i=r(42),a=r(13),c=r(8),s=r(201);e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,f=4==e,d=6==e,p=5==e||d,h=t||s;return function(t,s,v){for(var g,y,_=a(t),b=i(_),m=o(s,v,3),w=c(b.length),S=0,O=r?h(t,w):u?h(t,0):n;S<w;S++)if((p||S in b)&&(y=m(g=b[S],S,_),e))if(r)O[S]=y;else if(y)switch(e){case 3:return!0;case 5:return g;case 6:return S;case 2:O.push(g)}else if(f)return!1;return d?-1:l||f?f:O}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(47),o=n(25),i=n(12),a=n(24),c=n(9),s=n(79),u=Object.getOwnPropertyDescriptor;t.f=n(7)?u:function(e,t){if(e=i(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,r){if(r(7)){var o=r(37),i=r(3),a=r(1),c=r(0),s=r(52),u=r(76),l=r(16),f=r(40),d=r(25),p=r(14),h=r(39),v=r(21),g=r(8),y=r(101),_=r(33),b=r(24),m=r(9),w=r(44),S=r(2),O=r(13),C=r(60),I=r(27),E=r(28),T=r(34).f,k=r(61),A=r(31),x=r(5),P=r(19),j=r(55),N=r(77),D=r(97),R=r(35),M=r(49),B=r(38),L=r(74),F=r(96),U=r(6),q=r(22),W=U.f,V=q.f,G=i.RangeError,H=i.TypeError,Y=i.Uint8Array,$="ArrayBuffer",z="Shared"+$,K="BYTES_PER_ELEMENT",J="prototype",X=Array[J],Q=u.ArrayBuffer,Z=u.DataView,ee=P(0),te=P(2),ne=P(3),re=P(4),oe=P(5),ie=P(6),ae=j(!0),ce=j(!1),se=D.values,ue=D.keys,le=D.entries,fe=X.lastIndexOf,de=X.reduce,pe=X.reduceRight,he=X.join,ve=X.sort,ge=X.slice,ye=X.toString,_e=X.toLocaleString,be=x("iterator"),me=x("toStringTag"),we=A("typed_constructor"),Se=A("def_constructor"),Oe=s.CONSTR,Ce=s.TYPED,Ie=s.VIEW,Ee="Wrong length!",Te=P(1,(function(e,t){return je(N(e,e[Se]),t)})),ke=a((function(){return 1===new Y(new Uint16Array([1]).buffer)[0]})),Ae=!!Y&&!!Y[J].set&&a((function(){new Y(1).set({})})),xe=function(e,t){var n=v(e);if(n<0||n%t)throw G("Wrong offset!");return n},Pe=function(e){if(S(e)&&Ce in e)return e;throw H(e+" is not a typed array!")},je=function(e,t){if(!S(e)||!(we in e))throw H("It is not a typed array constructor!");return new e(t)},Ne=function(e,t){return De(N(e,e[Se]),t)},De=function(e,t){for(var n=0,r=t.length,o=je(e,r);n<r;)o[n]=t[n++];return o},Re=function(e,t,n){W(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,r,o,i,a,c,s=O(e),u=arguments.length,f=1<u?arguments[1]:n,d=f!==n,p=k(s);if(p!=n&&!C(p)){for(c=p.call(s),o=[],t=0;!(a=c.next()).done;t++)o.push(a.value);s=o}for(d&&2<u&&(f=l(f,arguments[2],2)),t=0,r=g(s.length),i=je(this,r);t<r;t++)i[t]=d?f(s[t],t):s[t];return i},Be=function(){for(var e=0,t=arguments.length,n=je(this,t);e<t;)n[e]=arguments[e++];return n},Le=!!Y&&a((function(){_e.call(new Y(1))})),Fe=function(){return _e.apply(Le?ge.call(Pe(this)):Pe(this),arguments)},Ue={copyWithin:function(e,t){return F.call(Pe(this),e,t,2<arguments.length?arguments[2]:n)},every:function(e){return re(Pe(this),e,1<arguments.length?arguments[1]:n)},fill:function(e){return L.apply(Pe(this),arguments)},filter:function(e){return Ne(this,te(Pe(this),e,1<arguments.length?arguments[1]:n))},find:function(e){return oe(Pe(this),e,1<arguments.length?arguments[1]:n)},findIndex:function(e){return ie(Pe(this),e,1<arguments.length?arguments[1]:n)},forEach:function(e){ee(Pe(this),e,1<arguments.length?arguments[1]:n)},indexOf:function(e){return ce(Pe(this),e,1<arguments.length?arguments[1]:n)},includes:function(e){return ae(Pe(this),e,1<arguments.length?arguments[1]:n)},join:function(e){return he.apply(Pe(this),arguments)},lastIndexOf:function(e){return fe.apply(Pe(this),arguments)},map:function(e){return Te(Pe(this),e,1<arguments.length?arguments[1]:n)},reduce:function(e){return de.apply(Pe(this),arguments)},reduceRight:function(e){return pe.apply(Pe(this),arguments)},reverse:function(){for(var e,t=this,n=Pe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return ne(Pe(this),e,1<arguments.length?arguments[1]:n)},sort:function(e){return ve.call(Pe(this),e)},subarray:function(e,t){var r=Pe(this),o=r.length,i=_(e,o);return new(N(r,r[Se]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,g((t===n?o:_(t,o))-i))}},qe=function(e,t){return Ne(this,ge.call(Pe(this),e,t))},We=function(e){Pe(this);var t=xe(arguments[1],1),n=this.length,r=O(e),o=g(r.length),i=0;if(n<o+t)throw G(Ee);for(;i<o;)this[t+i]=r[i++]},Ve={entries:function(){return le.call(Pe(this))},keys:function(){return ue.call(Pe(this))},values:function(){return se.call(Pe(this))}},Ge=function(e,t){return S(e)&&e[Ce]&&"symbol"!=_typeof(t)&&t in e&&String(+t)==String(t)},He=function(e,t){return Ge(e,t=b(t,!0))?d(2,e[t]):V(e,t)},Ye=function(e,t,n){return!(Ge(e,t=b(t,!0))&&S(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?W(e,t,n):(e[t]=n.value,e)};Oe||(q.f=He,U.f=Ye),c(c.S+c.F*!Oe,"Object",{getOwnPropertyDescriptor:He,defineProperty:Ye}),a((function(){ye.call({})}))&&(ye=_e=function(){return he.call(this)});var $e=h({},Ue);h($e,Ve),p($e,be,Ve.values),h($e,{slice:qe,set:We,constructor:function(){},toString:ye,toLocaleString:Fe}),Re($e,"buffer","b"),Re($e,"byteOffset","o"),Re($e,"byteLength","l"),Re($e,"length","e"),W($e,me,{get:function(){return this[Ce]}}),e.exports=function(e,t,r,u){var l=e+((u=!!u)?"Clamped":"")+"Array",d="get"+e,h="set"+e,v=i[l],_=v||{},b=v&&E(v),m=!v||!s.ABV,O={},C=v&&v[J],k=function(e,n){W(e,n,{get:function(){return e=n,(r=this._d).v[d](e*t+r.o,ke);var e,r},set:function(e){return r=n,o=e,i=this._d,u&&(o=(o=Math.round(o))<0?0:255<o?255:255&o),void i.v[h](r*t+i.o,o,ke);var r,o,i},enumerable:!0})};m?(v=r((function(e,r,o,i){f(e,v,l,"_d");var a,c,s,u,d=0,h=0;if(S(r)){if(!(r instanceof Q||(u=w(r))==$||u==z))return Ce in r?De(v,r):Me.call(v,r);a=r,h=xe(o,t);var _=r.byteLength;if(i===n){if(_%t)throw G(Ee);if((c=_-h)<0)throw G(Ee)}else if(_<(c=g(i)*t)+h)throw G(Ee);s=c/t}else s=y(r),a=new Q(c=s*t);for(p(e,"_d",{b:a,o:h,l:c,e:s,v:new Z(a)});d<s;)k(e,d++)})),C=v[J]=I($e),p(C,"constructor",v)):a((function(){v(1)}))&&a((function(){new v(-1)}))&&M((function(e){new v,new v(null),new v(1.5),new v(e)}),!0)||(v=r((function(e,r,o,i){var a;return f(e,v,l),S(r)?r instanceof Q||(a=w(r))==$||a==z?i!==n?new _(r,xe(o,t),i):o!==n?new _(r,xe(o,t)):new _(r):Ce in r?De(v,r):Me.call(v,r):new _(y(r))})),ee(b!==Function.prototype?T(_).concat(T(b)):T(_),(function(e){e in v||p(v,e,_[e])})),v[J]=C,o||(C.constructor=v));var A=C[be],x=!!A&&("values"==A.name||A.name==n),P=Ve.values;p(v,we,!0),p(C,Ce,l),p(C,Ie,!0),p(C,Se,v),(u?new v(1)[me]==l:me in C)||W(C,me,{get:function(){return l}}),O[l]=v,c(c.G+c.W+c.F*(v!=_),O),c(c.S,l,{BYTES_PER_ELEMENT:t}),c(c.S+c.F*a((function(){_.of.call(v,1)})),l,{from:Me,of:Be}),K in C||p(C,K,t),c(c.P,l,Ue),B(l),c(c.P+c.F*Ae,l,{set:We}),c(c.P+c.F*!x,l,Ve),o||C.toString==ye||(C.toString=ye),c(c.P+c.F*a((function(){new v(1).slice()})),l,{slice:qe}),c(c.P+c.F*(a((function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()}))||!a((function(){C.toLocaleString.call([1,2])}))),l,{toLocaleString:Fe}),R[l]=x?A:P,o||x||p(C,be,P)}}else e.exports=function(){}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(e==n)throw TypeError("Can't call method on  "+e);return e}},function(e,t,r){var o=r(4),i=r(81),a=r(58),c=r(56)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e,t=r(53)("iframe"),n=a.length;for(t.style.display="none",r(59).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[u][a[n]];return l()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[u]=o(e),r=new s,s[u]=null,r[c]=e):r=l(),t===n?r:i(r,t)}},function(e,t,n){var r=n(9),o=n(13),i=n(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(31)("meta"),o=n(2),i=n(9),a=n(6).f,c=0,s=Object.isExtensible||function(){return!0},u=!n(1)((function(){return s(Object.preventExtensions({}))})),l=function(e){a(e,r,{value:{i:"O"+ ++c,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==_typeof(e)?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&s(e)&&!i(e,r)&&l(e),e}}},function(t,n){var r=t.exports={version:"2.5.1"};"number"==typeof e&&(e=r)},function(e,t){var r=0,o=Math.random();e.exports=function(e){return"Symbol(".concat(e===n?"":e,")_",(++r+o).toString(36))}},function(e,t,n){var r=n(80),o=n(58);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(80),o=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports={}},function(e,t,n){var r=n(6).f,o=n(9),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports=!1},function(e,t,n){var r=n(3),o=n(6),i=n(7),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,r,o){if(!(e instanceof t)||o!==n&&o in e)throw TypeError(r+": incorrect invocation!");return e}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(16),o=n(82),i=n(60),a=n(4),c=n(8),s=n(61),u={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,g,y=d?function(){return e}:s(e),_=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(i(y)){for(p=c(e.length);b<p;b++)if((g=t?_(a(h=e[b])[0],h[1]):_(e[b]))===u||g===l)return g}else for(v=y.call(e);!(h=v.next()).done;)if((g=o(v,_,h.value,t))===u||g===l)return g}).BREAK=u,t.RETURN=l},function(e,t,r){var o=r(20),i=r(5)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=function(e){var t,r,c;return e===n?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(c=o(t))&&"function"==typeof t.callee?"Arguments":c}},function(e,t,r){var o=r(5)("unscopables"),i=Array.prototype;i[o]==n&&r(14)(i,o,{}),e.exports=function(e){i[o][e]=!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(0),o=n(26),i=n(1),a=n(66),c="["+a+"]",s=RegExp("^"+c+c+"*"),u=RegExp(c+c+"*$"),l=function(e,t,n){var o={},c=i((function(){return!!a[e]()||"​"!="​"[e]()})),s=o[e]=c?t(f):a[e];n&&(o[n]=s),r(r.P+r.F*c,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(s,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(14),o=n(11),i=n(1),a=n(26),c=n(5);e.exports=function(e,t,n){var s=c(e),u=n(a,s,""[e]),l=u[0],f=u[1];i((function(){var t={};return t[s]=function(){return 7},7!=""[e](t)}))&&(o(String.prototype,e,l),r(RegExp.prototype,s,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,r){var o=r(3),i=r(0),a=r(11),c=r(39),s=r(29),u=r(43),l=r(40),f=r(2),d=r(1),p=r(49),h=r(36),v=r(67);e.exports=function(e,t,r,g,y,_){var b=o[e],m=b,w=y?"set":"add",S=m&&m.prototype,O={},C=function(e){var t=S[e];a(S,e,"delete"==e||"has"==e?function(e){return!(_&&!f(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!f(e)?n:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof m&&(_||S.forEach&&!d((function(){(new m).entries().next()})))){var I=new m,E=I[w](_?{}:-0,1)!=I,T=d((function(){I.has(1)})),k=p((function(e){new m(e)})),A=!_&&d((function(){for(var e=new m,t=5;t--;)e[w](t,t);return!e.has(-0)}));k||(((m=t((function(t,r){l(t,m,e);var o=v(new b,t,m);return r!=n&&u(r,y,o[w],o),o}))).prototype=S).constructor=m),(T||A)&&(C("delete"),C("has"),y&&C("get")),(A||E)&&C(w),_&&S.clear&&delete S.clear}else m=g.getConstructor(t,e,y,w),c(m.prototype,r),s.NEED=!0;return h(m,e),O[e]=m,i(i.G+i.W+i.F*(m!=b),O),_||g.setStrong(m,e,y),m}},function(e,t,n){for(var r,o=n(3),i=n(14),a=n(31),c=a("typed_array"),s=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,c,!0),i(r.prototype,s,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:c,VIEW:s}},function(e,t,n){var r=n(2),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(32),o=n(46),i=n(47),a=n(13),c=n(42),s=Object.assign;e.exports=!s||n(1)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r}))?function(e,t){for(var n=a(e),s=arguments.length,u=1,l=o.f,f=i.f;u<s;)for(var d,p=c(arguments[u++]),h=l?r(p).concat(l(p)):r(p),v=h.length,g=0;g<v;)f.call(p,d=h[g++])&&(n[d]=p[d]);return n}:s},function(e,t,n){var r=n(12),o=n(8),i=n(33);e.exports=function(e){return function(t,n,a){var c,s=r(t),u=o(s.length),l=i(a,u);if(e&&n!=n){for(;l<u;)if((c=s[l++])!=c)return!0}else for(;l<u;l++)if((e||l in s)&&s[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(57)("keys"),o=n(31);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(3),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,r){var o=r(35),i=r(5)("iterator"),a=Array.prototype;e.exports=function(e){return e!==n&&(o.Array===e||a[i]===e)}},function(e,t,r){var o=r(44),i=r(5)("iterator"),a=r(35);e.exports=r(30).getIteratorMethod=function(e){if(e!=n)return e[i]||e["@@iterator"]||a[o(e)]}},function(e,t,n){var r=n(27),o=n(25),i=n(36),a={};n(14)(a,n(5)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,r){var o=r(2),i=r(4),a=function(e,t){if(i(e),!o(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=r(16)(Function.call,r(22).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,r){return a(e,r),t?e.__proto__=r:n(e,r),e}}({},!1):n),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(65).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,r){var o=r(37),i=r(0),a=r(11),c=r(14),s=r(9),u=r(35),l=r(62),f=r(36),d=r(28),p=r(5)("iterator"),h=!([].keys&&"next"in[].keys()),v="values",g=function(){return this};e.exports=function(e,t,r,y,_,b,m){l(r,t,y);var w,S,O,C=function(e){if(!h&&e in k)return k[e];switch(e){case"keys":case v:return function(){return new r(this,e)}}return function(){return new r(this,e)}},I=t+" Iterator",E=_==v,T=!1,k=e.prototype,A=k[p]||k["@@iterator"]||_&&k[_],x=A||C(_),P=_?E?C("entries"):x:n,j="Array"==t&&k.entries||A;if(j&&(O=d(j.call(new e)))!==Object.prototype&&O.next&&(f(O,I,!0),o||s(O,p)||c(O,p,g)),E&&A&&A.name!==v&&(T=!0,x=function(){return A.call(this)}),o&&!m||!h&&!T&&k[p]||c(k,p,x),u[t]=x,u[I]=g,_)if(w={values:E?x:C(v),keys:b?x:C("keys"),entries:P},m)for(S in w)S in k||a(k,S,w[S]);else i(i.P+i.F*(h||T),t,w);return w}},function(e,t,n){var r=n(72),o=n(26);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,r){var o=r(2),i=r(20),a=r(5)("match");e.exports=function(e){var t;return o(e)&&((t=e[a])!==n?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,r){var o=r(13),i=r(33),a=r(8);e.exports=function(e){for(var t=o(this),r=a(t.length),c=arguments.length,s=i(1<c?arguments[1]:n,r),u=2<c?arguments[2]:n,l=u===n?r:i(u,r);s<l;)t[s++]=e;return t}},function(e,t,n){var r=n(4);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var o=r(3),i=r(7),a=r(37),c=r(52),s=r(14),u=r(39),l=r(1),f=r(40),d=r(21),p=r(8),h=r(101),v=r(34).f,g=r(6).f,y=r(74),_=r(36),b="ArrayBuffer",m="DataView",w="prototype",S="Wrong index!",O=o[b],C=o[m],I=o.Math,E=o.RangeError,T=o.Infinity,k=O,A=I.abs,x=I.pow,P=I.floor,j=I.log,N=I.LN2,D="byteLength",R="byteOffset",M=i?"_b":"buffer",B=i?"_l":D,L=i?"_o":R;function F(e,t,n){var r,o,i,a=Array(n),c=8*n-t-1,s=(1<<c)-1,u=s>>1,l=23===t?x(2,-24)-x(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=A(e))!=e||e===T?(o=e!=e?1:0,r=s):(r=P(j(e)/N),e*(i=x(2,-r))<1&&(r--,i*=2),2<=(e+=1<=r+u?l/i:l*x(2,1-u))*i&&(r++,i/=2),s<=r+u?(o=0,r=s):1<=r+u?(o=(e*i-1)*x(2,t),r+=u):(o=e*x(2,u-1)*x(2,t),r=0));8<=t;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,c+=t;0<c;a[f++]=255&r,r/=256,c-=8);return a[--f]|=128*d,a}function U(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,c=o-7,s=n-1,u=e[s--],l=127&u;for(u>>=7;0<c;l=256*l+e[s],s--,c-=8);for(r=l&(1<<-c)-1,l>>=-c,c+=t;0<c;r=256*r+e[s],s--,c-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-T:T;r+=x(2,t),l-=a}return(u?-1:1)*r*x(2,l-t)}function q(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function W(e){return[255&e]}function V(e){return[255&e,e>>8&255]}function G(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function H(e){return F(e,52,8)}function Y(e){return F(e,23,4)}function $(e,t,n){g(e[w],t,{get:function(){return this[n]}})}function z(e,t,n,r){var o=h(+n);if(o+t>e[B])throw E(S);var i=e[M]._b,a=o+e[L],c=i.slice(a,a+t);return r?c:c.reverse()}function K(e,t,n,r,o,i){var a=h(+n);if(a+t>e[B])throw E(S);for(var c=e[M]._b,s=a+e[L],u=r(+o),l=0;l<t;l++)c[s+l]=u[i?l:t-l-1]}if(c.ABV){if(!l((function(){O(1)}))||!l((function(){new O(-1)}))||l((function(){return new O,new O(1.5),new O(NaN),O.name!=b}))){for(var J,X=(O=function(e){return f(this,O),new k(h(e))})[w]=k[w],Q=v(k),Z=0;Q.length>Z;)(J=Q[Z++])in O||s(O,J,k[J]);a||(X.constructor=O)}var ee=new C(new O(2)),te=C[w].setInt8;ee.setInt8(0,2147483648),ee.setInt8(1,2147483649),!ee.getInt8(0)&&ee.getInt8(1)||u(C[w],{setInt8:function(e,t){te.call(this,e,t<<24>>24)},setUint8:function(e,t){te.call(this,e,t<<24>>24)}},!0)}else O=function(e){f(this,O,b);var t=h(e);this._b=y.call(Array(t),0),this[B]=t},C=function(e,t,r){f(this,C,m),f(e,O,m);var o=e[B],i=d(t);if(i<0||o<i)throw E("Wrong offset!");if(o<i+(r=r===n?o-i:p(r)))throw E("Wrong length!");this[M]=e,this[L]=i,this[B]=r},i&&($(O,D,"_l"),$(C,"buffer","_b"),$(C,D,"_l"),$(C,R,"_o")),u(C[w],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return q(z(this,4,e,arguments[1]))},getUint32:function(e){return q(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,W,t)},setUint8:function(e,t){K(this,1,e,W,t)},setInt16:function(e,t){K(this,2,e,V,t,arguments[2])},setUint16:function(e,t){K(this,2,e,V,t,arguments[2])},setInt32:function(e,t){K(this,4,e,G,t,arguments[2])},setUint32:function(e,t){K(this,4,e,G,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,Y,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,H,t,arguments[2])}});_(O,b),_(C,m),s(C[w],c.VIEW,!0),t[b]=O,t[m]=C},function(e,t,r){var o=r(4),i=r(17),a=r(5)("species");e.exports=function(e,t){var r,c=o(e).constructor;return c===n||(r=o(c)[a])==n?t:i(r)}},function(e,t){var n=!0;try{new Proxy({},{}),n=!1}catch(e){}var r=!1;void 0!==__wxConfig&&void 0!==__wxConfig.platform&&"ios"===__wxConfig.platform.toLowerCase()&&(r=!0),void 0!==WeixinJSBridge&&WeixinJSBridge.invoke("getSystemInfo",{},(function(e){e&&e.platform&&"ios"===e.platform.toLowerCase()&&(r=!0)})),e.exports={needCoreJS:n,isIOS:r}},function(e,t,n){e.exports=!n(7)&&!n(1)((function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(9),o=n(12),i=n(55)(!1),a=n(56)("IE_PROTO");e.exports=function(e,t){var n,c=o(e),s=0,u=[];for(n in c)n!=a&&r(c,n)&&u.push(n);for(;t.length>s;)r(c,n=t[s++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(6),o=n(4),i=n(32);e.exports=n(7)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),c=a.length,s=0;s<c;)r.f(e,n=a[s++],t[n]);return e}},function(e,t,r){var o=r(4);e.exports=function(e,t,r,i){try{return i?t(o(r)[0],r[1]):t(r)}catch(t){var a=e.return;throw a!==n&&o(a.call(e)),t}}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(12),o=n(34).f,i={}.toString,a="object"==("undefined"==typeof window?"undefined":_typeof(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(17),o=n(2),i=n(86),a=[].slice,c={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function r(){var o=n.concat(a.call(arguments));return this instanceof r?function(e,t,n){if(!(t in c)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(t,o.length,o):i(t,o,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,r){var o=r===n;switch(t.length){case 0:return o?e():e.call(r);case 1:return o?e(t[0]):e.call(r,t[0]);case 2:return o?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},function(e,t,n){var r=n(3).parseInt,o=n(48).trim,i=n(66),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(3).parseFloat,o=n(48).trim;e.exports=1/r(n(66)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(21),o=n(26);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(2),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,r){var o=r(21),i=r(26);e.exports=function(e){return function(t,r){var a,c,s=String(i(t)),u=o(r),l=s.length;return u<0||l<=u?e?"":n:(a=s.charCodeAt(u))<55296||56319<a||u+1===l||(c=s.charCodeAt(u+1))<56320||57343<c?e?s.charAt(u):a:e?s.slice(u,u+2):c-56320+(a-55296<<10)+65536}}},function(e,t,n){var r=n(6),o=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(17),o=n(13),i=n(42),a=n(8);e.exports=function(e,t,n,c,s){r(t);var u=o(e),l=i(u),f=a(u.length),d=s?f-1:0,p=s?-1:1;if(n<2)for(;;){if(d in l){c=l[d],d+=p;break}if(d+=p,s?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;s?0<=d:d<f;d+=p)d in l&&(c=t(c,l[d],d,u));return c}},function(e,t,r){var o=r(13),i=r(33),a=r(8);e.exports=[].copyWithin||function(e,t){var r=o(this),c=a(r.length),s=i(e,c),u=i(t,c),l=2<arguments.length?arguments[2]:n,f=Math.min((l===n?c:i(l,c))-u,c-s),d=1;for(u<s&&s<u+f&&(d=-1,u+=f-1,s+=f-1);0<f--;)u in r?r[s]=r[u]:delete r[s],s+=d,u+=d;return r}},function(e,t,r){var o=r(45),i=r(63),a=r(35),c=r(12);e.exports=r(70)(Array,"Array",(function(e,t){this._t=c(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=n,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),a.Arguments=a.Array,o("keys"),o("values"),o("entries")},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(75)})},function(e,t,r){var o=r(6).f,i=r(27),a=r(39),c=r(16),s=r(40),u=r(43),l=r(70),f=r(63),d=r(38),p=r(7),h=r(29).fastKey,v=r(41),g=p?"_s":"size",y=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,r,l){var f=e((function(e,o){s(e,f,t,"_i"),e._t=t,e._i=i(null),e._f=n,e._l=n,e[g]=0,o!=n&&u(o,r,e[l],e)}));return a(f.prototype,{clear:function(){for(var e=v(this,t),r=e._i,o=e._f;o;o=o.n)o.r=!0,o.p&&(o.p=o.p.n=n),delete r[o.i];e._f=e._l=n,e[g]=0},delete:function(e){var n=v(this,t),r=y(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function(e){v(this,t);for(var r,o=c(e,1<arguments.length?arguments[1]:n,3);r=r?r.n:this._f;)for(o(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!y(v(this,t),e)}}),p&&o(f.prototype,"size",{get:function(){return v(this,t)[g]}}),f},def:function(e,t,r){var o,i,a=y(e,t);return a?a.v=r:(e._l=a={i:i=h(t,!0),k:t,v:r,p:o=e._l,n:n,r:!1},e._f||(e._f=a),o&&(o.n=a),e[g]++,"F"!==i&&(e._i[i]=a)),e},getEntry:y,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=v(e,t),this._k=r,this._l=n}),(function(){for(var e=this,t=e._k,r=e._l;r&&r.r;)r=r.p;return e._t&&(e._l=r=r?r.n:e._t._f)?f(0,"keys"==t?r.k:"values"==t?r.v:[r.k,r.v]):(e._t=n,f(1))}),r?"entries":"values",!r,!0),d(t)}}},function(e,t,r){var o=r(39),i=r(29).getWeak,a=r(4),c=r(2),s=r(40),u=r(43),l=r(19),f=r(9),d=r(41),p=l(5),h=l(6),v=0,g=function(e){return e._l||(e._l=new y)},y=function(){this.a=[]},_=function(e,t){return p(e.a,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=h(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,r,a){var l=e((function(e,o){s(e,l,t,"_i"),e._t=t,e._i=v++,o!=(e._l=n)&&u(o,r,e[a],e)}));return o(l.prototype,{delete:function(e){if(!c(e))return!1;var n=i(e);return!0===n?g(d(this,t)).delete(e):n&&f(n,this._i)&&delete n[this._i]},has:function(e){if(!c(e))return!1;var n=i(e);return!0===n?g(d(this,t)).has(e):n&&f(n,this._i)}}),l},def:function(e,t,n){var r=i(a(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,r){var o=r(21),i=r(8);e.exports=function(e){if(e===n)return 0;var t=o(e),r=i(t);if(t!==r)throw RangeError("Wrong length!");return r}},function(e,t,n){var r,o,i,a=n(16),c=n(86),s=n(59),u=n(53),l=n(3),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,g=0,y={},_="onreadystatechange",b=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},m=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++g]=function(){c("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete y[e]},"process"==n(20)(f)?r=function(e){f.nextTick(a(b,e,1))}:v&&v.now?r=function(e){v.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=m,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",m,!1)):r=_ in u("script")?function(e){s.appendChild(u("script"))[_]=function(){s.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,r){var o=r(17);function i(e){var t,r;this.promise=new e((function(e,o){if(t!==n||r!==n)throw TypeError("Bad Promise constructor");t=e,r=o})),this.resolve=o(t),this.reject=o(r)}e.exports.f=function(e){return new i(e)}},function(e,t,n){e.exports=n(105)},function(e,t,r){var o=r(78),i=o.needCoreJS||o.isIOS;i&&"undefined"!=typeof Promise&&(Promise=n),r(3),o.needCoreJS&&(r(106),r(109),r(112),r(113),r(114),r(115),r(116),r(117),r(118),r(119),r(120),r(121),r(122),r(123),r(124),r(125),r(126),r(128),r(129),r(130),r(131),r(132),r(133),r(134),r(135),r(136),r(137),r(138),r(139),r(140),r(141),r(142),r(143),r(144),r(145),r(146),r(147),r(148),r(149),r(150),r(151),r(152),r(153),r(154),r(156),r(157),r(158),r(159),r(160),r(161),r(162),r(163),r(164),r(165),r(166),r(167),r(168),r(169),r(170),r(171),r(172),r(173),r(174),r(175),r(176),r(177),r(178),r(179),r(180),r(181),r(182),r(183),r(184),r(185),r(186),r(187),r(188),r(189),r(191),r(192),r(194),r(195),r(196),r(197),r(198),r(199),r(200),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(212),r(213),r(214),r(215),r(97),r(216),r(217),r(98),r(218),r(219),r(220),r(221),r(222),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(231),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(242),r(243),r(244),r(245),r(246),r(247),r(249),r(250),r(251)),i&&r(252)},function(e,t,r){var o=r(16),i=r(0),a=r(25),c=r(54),s=r(27),u=r(28),l=r(32),f=r(6),d=r(107),p=r(17),h=r(43),v=r(108),g=r(62),y=r(63),_=r(2),b=r(12),m=r(7),w=r(9),S=function(e){var t=1==e,r=4==e;return function(i,a,c){var s,u,l,f=o(a,c,3),d=b(i),p=t||7==e||2==e?new("function"==typeof this?this:E):n;for(s in d)if(w(d,s)&&(l=f(u=d[s],s,i),e))if(t)p[s]=l;else if(l)switch(e){case 2:p[s]=u;break;case 3:return!0;case 5:return u;case 6:return s;case 7:p[l[0]]=l[1]}else if(r)return!1;return 3==e||r?r:p}},O=S(6),C=function(e){return function(t){return new I(t,e)}},I=function(e,t){this._t=b(e),this._a=l(e),this._i=0,this._k=t};function E(e){var t=s(null);return e!=n&&(v(e)?h(e,!0,(function(e,n){t[e]=n})):c(t,e)),t}g(I,"Dict",(function(){var e,t=this,r=t._t,o=t._a,i=t._k;do{if(t._i>=o.length)return t._t=n,y(1)}while(!w(r,e=o[t._i++]));return y(0,"keys"==i?e:"values"==i?r[e]:[e,r[e]])})),E.prototype=null,i(i.G+i.F,{Dict:E}),i(i.S,"Dict",{keys:C("keys"),values:C("values"),entries:C("entries"),forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findKey:O,mapPairs:S(7),reduce:function(e,t,n){p(t);var r,o,i=b(e),a=l(i),c=a.length,s=0;if(arguments.length<3){if(!c)throw TypeError("Reduce of empty object with no initial value");r=i[a[s++]]}else r=Object(n);for(;s<c;)w(i,o=a[s++])&&(r=t(r,i[o],o,e));return r},keyOf:d,includes:function(e,t){return(t==t?d(e,t):O(e,(function(e){return e!=e})))!==n},has:w,get:function(e,t){if(w(e,t))return e[t]},set:function(e,t,n){return m&&t in Object?f.f(e,t,a(0,n)):e[t]=n,e},isDict:function(e){return _(e)&&u(e)===E.prototype}})},function(e,t,n){var r=n(32),o=n(12);e.exports=function(e,t){for(var n,i=o(e),a=r(i),c=a.length,s=0;s<c;)if(i[n=a[s++]]===t)return n}},function(e,t,r){var o=r(44),i=r(5)("iterator"),a=r(35);e.exports=r(30).isIterable=function(e){var t=Object(e);return t[i]!==n||"@@iterator"in t||a.hasOwnProperty(o(t))}},function(e,t,r){var o=r(3),i=r(9),a=r(7),c=r(0),s=r(11),u=r(29).KEY,l=r(1),f=r(57),d=r(36),p=r(31),h=r(5),v=r(83),g=r(110),y=r(111),_=r(64),b=r(4),m=r(12),w=r(24),S=r(25),O=r(27),C=r(84),I=r(22),E=r(6),T=r(32),k=I.f,A=E.f,x=C.f,P=o.Symbol,j=o.JSON,N=j&&j.stringify,D="prototype",R=h("_hidden"),M=h("toPrimitive"),B={}.propertyIsEnumerable,L=f("symbol-registry"),F=f("symbols"),U=f("op-symbols"),q=Object[D],W="function"==typeof P,V=o.QObject,G=!V||!V[D]||!V[D].findChild,H=a&&l((function(){return 7!=O(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=k(q,t);r&&delete q[t],A(e,t,n),r&&e!==q&&A(q,t,r)}:A,Y=function(e){var t=F[e]=O(P[D]);return t._k=e,t},$=W&&"symbol"==_typeof(P.iterator)?function(e){return"symbol"==_typeof(e)}:function(e){return e instanceof P},z=function e(t,n,r){return t===q&&e(U,n,r),b(t),n=w(n,!0),b(r),i(F,n)?(r.enumerable?(i(t,R)&&t[R][n]&&(t[R][n]=!1),r=O(r,{enumerable:S(0,!1)})):(i(t,R)||A(t,R,S(1,{})),t[R][n]=!0),H(t,n,r)):A(t,n,r)},K=function(e,t){b(e);for(var n,r=y(t=m(t)),o=0,i=r.length;o<i;)z(e,n=r[o++],t[n]);return e},J=function(e){var t=B.call(this,e=w(e,!0));return!(this===q&&i(F,e)&&!i(U,e))&&(!(t||!i(this,e)||!i(F,e)||i(this,R)&&this[R][e])||t)},X=function(e,t){if(e=m(e),t=w(t,!0),e!==q||!i(F,t)||i(U,t)){var n=k(e,t);return!n||!i(F,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=x(m(e)),r=[],o=0;n.length>o;)i(F,t=n[o++])||t==R||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===q,r=x(n?U:m(e)),o=[],a=0;r.length>a;)!i(F,t=r[a++])||n&&!i(q,t)||o.push(F[t]);return o};W||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=p(0<arguments.length?arguments[0]:n),t=function t(n){this===q&&t.call(U,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),H(this,e,S(1,n))};return a&&G&&H(q,e,{configurable:!0,set:t}),Y(e)})[D],"toString",(function(){return this._k})),I.f=X,E.f=z,r(34).f=C.f=Q,r(47).f=J,r(46).f=Z,a&&!r(37)&&s(q,"propertyIsEnumerable",J,!0),v.f=function(e){return Y(h(e))}),c(c.G+c.W+c.F*!W,{Symbol:P});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)h(ee[te++]);for(var ne=T(h.store),re=0;ne.length>re;)g(ne[re++]);c(c.S+c.F*!W,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=P(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),c(c.S+c.F*!W,"Object",{create:function(e,t){return t===n?O(e):K(O(e),t)},defineProperty:z,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:Q,getOwnPropertySymbols:Z}),j&&c(c.S+c.F*(!W||l((function(){var e=P();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){if(e!==n&&!$(e)){for(var t,r,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);return"function"==typeof(t=o[1])&&(r=t),!r&&_(t)||(t=function(e,t){if(r&&(t=r.call(this,e,t)),!$(t))return t}),o[1]=t,N.apply(j,o)}}}),P[D][M]||r(14)(P[D],M,P[D].valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(o.JSON,"JSON",!0)},function(e,t,n){var r=n(3),o=n(30),i=n(37),a=n(83),c=n(6).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(32),o=n(46),i=n(47);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,c=n(e),s=i.f,u=0;c.length>u;)s.call(e,a=c[u++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(27)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(6).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(81)})},function(e,t,n){var r=n(12),o=n(22).f;n(18)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},function(e,t,n){var r=n(13),o=n(28);n(18)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(13),o=n(32);n(18)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){n(18)("getOwnPropertyNames",(function(){return n(84).f}))},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("freeze",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("seal",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(o(t)):t}}))},function(e,t,n){var r=n(2);n(18)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(2);n(18)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))},function(e,t,n){var r=n(2);n(18)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(54)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(127)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(65).set})},function(e,t,n){var r=n(44),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(11)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(85)})},function(e,t,n){var r=n(6).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(7)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var r=n(2),o=n(28),i=n(5)("hasInstance"),a=Function.prototype;i in a||n(6).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),o=n(87);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(0),o=n(88);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){var r=n(3),o=n(9),i=n(20),a=n(67),c=n(24),s=n(1),u=n(34).f,l=n(22).f,f=n(6).f,d=n(48).trim,p="Number",h=r[p],v=h,g=h.prototype,y=i(n(27)(g))==p,_="trim"in String.prototype,b=function(e){var t=c(e,!1);if("string"==typeof t&&2<t.length){var n,r,o,i=(t=_?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var a,s=t.slice(2),u=0,l=s.length;u<l;u++)if((a=s.charCodeAt(u))<48||o<a)return NaN;return parseInt(s,r)}}return+t};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(y?s((function(){g.valueOf.call(n)})):i(n)!=p)?a(new v(b(t)),n,h):b(t)}));for(var m,w=n(7)?u(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)o(v,m=w[S])&&!o(h,m)&&f(h,m,l(v,m));(h.prototype=g).constructor=h,n(11)(r,p,h)}},function(e,t,n){var r=n(0),o=n(21),i=n(89),a=n(90),c=1..toFixed,s=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=s(r/1e7)},d=function(e){for(var t=6,n=0;0<=--t;)n+=u[t],u[t]=s(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)};r(r.P+r.F*(!!c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(1)((function(){c.call({})}))),"Number",{toFixed:function(e){var t,n,r,c,s=i(this,l),u=o(e),v="",g="0";if(u<0||20<u)throw RangeError(l);if(s!=s)return"NaN";if(s<=-1e21||1e21<=s)return String(s);if(s<0&&(v="-",s=-s),1e-21<s)if(n=(t=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(s*h(2,69,1))-69)<0?s*h(2,-t,1):s/h(2,t,1),n*=4503599627370496,0<(t=52-t)){for(f(0,n),r=u;7<=r;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;23<=r;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),g=p()}else f(0,n),f(1<<-t,0),g=p()+a.call("0",u);return 0<u?v+((c=g.length)<=u?"0."+a.call("0",u-c)+g:g.slice(0,c-u)+"."+g.slice(c-u)):v+g}})},function(e,t,r){var o=r(0),i=r(1),a=r(89),c=1..toPrecision;o(o.P+o.F*(i((function(){return"1"!==c.call(1,n)}))||!i((function(){c.call({})}))),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return e===n?c.call(t):c.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(91)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(91),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),o=n(88);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(0),o=n(87);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(0),o=n(92),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&0<1/o(0)),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(68);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(0),o=n(69);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(155)})},function(e,t,n){var r=n(68),o=Math.pow,i=o(2,-52),a=o(2,-23),c=o(2,127)*(2-a),s=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),u=r(e);return o<s?u*(o/s/a+1/i-1/i)*s*a:c<(n=(t=(1+a/i)*o)-(t-o))||n!=n?u*(1/0):u*n}},function(e,t,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,c=arguments.length,s=0;a<c;)s<(n=o(arguments[a++]))?(i=i*(r=s/n)*r+1,s=n):i+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(1)((function(){return-5!=o(4294967295,5)||2!=o.length})),"Math",{imul:function(e,t){var n=65535,r=+e,o=+t,i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(92)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(68)})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S+r.F*n(1)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),o=n(33),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;a<r;){if(t=+arguments[a++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),o=n(12),i=n(8);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],c=0;c<n;)a.push(String(t[c++])),c<r&&a.push(String(arguments[c]));return a.join("")}})},function(e,t,n){n(48)("trim",(function(e){return function(){return e(this,3)}}))},function(e,t,r){var o=r(93)(!0);r(70)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:n,done:!0}:(e=o(t,r),this._i+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(0),o=n(93)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,r){var o=r(0),i=r(8),a=r(71),c="endsWith",s=""[c];o(o.P+o.F*r(73)(c),"String",{endsWith:function(e){var t=a(this,e,c),r=1<arguments.length?arguments[1]:n,o=i(t.length),u=r===n?o:Math.min(i(r),o),l=String(e);return s?s.call(t,l,u):t.slice(u-l.length,u)===l}})},function(e,t,r){var o=r(0),i=r(71),a="includes";o(o.P+o.F*r(73)(a),"String",{includes:function(e){return!!~i(this,e,a).indexOf(e,1<arguments.length?arguments[1]:n)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(90)})},function(e,t,r){var o=r(0),i=r(8),a=r(71),c="startsWith",s=""[c];o(o.P+o.F*r(73)(c),"String",{startsWith:function(e){var t=a(this,e,c),r=i(Math.min(1<arguments.length?arguments[1]:n,t.length)),o=String(e);return s?s.call(t,o,r):t.slice(r,r+o.length)===o}})},function(e,t,n){n(10)("anchor",(function(e){return function(t){return e(this,"a","name",t)}}))},function(e,t,n){n(10)("big",(function(e){return function(){return e(this,"big","","")}}))},function(e,t,n){n(10)("blink",(function(e){return function(){return e(this,"blink","","")}}))},function(e,t,n){n(10)("bold",(function(e){return function(){return e(this,"b","","")}}))},function(e,t,n){n(10)("fixed",(function(e){return function(){return e(this,"tt","","")}}))},function(e,t,n){n(10)("fontcolor",(function(e){return function(t){return e(this,"font","color",t)}}))},function(e,t,n){n(10)("fontsize",(function(e){return function(t){return e(this,"font","size",t)}}))},function(e,t,n){n(10)("italics",(function(e){return function(){return e(this,"i","","")}}))},function(e,t,n){n(10)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},function(e,t,n){n(10)("small",(function(e){return function(){return e(this,"small","","")}}))},function(e,t,n){n(10)("strike",(function(e){return function(){return e(this,"strike","","")}}))},function(e,t,n){n(10)("sub",(function(e){return function(){return e(this,"sub","","")}}))},function(e,t,n){n(10)("sup",(function(e){return function(){return e(this,"sup","","")}}))},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(0),o=n(13),i=n(24);r(r.P+r.F*n(1)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),o=n(190);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){var r=n(1),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return 9<e?e:"0"+e};e.exports=r((function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-50000000000001))}))||!r((function(){i.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(99<n?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,o="Invalid Date",i="toString",a=r[i],c=r.getTime;new Date(NaN)+""!=o&&n(11)(r,i,(function(){var e=c.call(this);return e==e?a.call(this):o}))},function(e,t,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(14)(o,r,n(193))},function(e,t,n){var r=n(4),o=n(24);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(64)})},function(e,t,r){var o=r(16),i=r(0),a=r(13),c=r(82),s=r(60),u=r(8),l=r(94),f=r(61);i(i.S+i.F*!r(49)((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,i,d,p=a(e),h="function"==typeof this?this:Array,v=arguments.length,g=1<v?arguments[1]:n,y=g!==n,_=0,b=f(p);if(y&&(g=o(g,2<v?arguments[2]:n,2)),b==n||h==Array&&s(b))for(r=new h(t=u(p.length));_<t;_++)l(r,_,y?g(p[_],_):p[_]);else for(d=b.call(p),r=new h;!(i=d.next()).done;_++)l(r,_,y?c(d,g,[i.value,_],!0):i.value);return r.length=_,r}})},function(e,t,n){var r=n(0),o=n(94);r(r.S+r.F*n(1)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,r){var o=r(0),i=r(12),a=[].join;o(o.P+o.F*(r(42)!=Object||!r(15)(a)),"Array",{join:function(e){return a.call(i(this),e===n?",":e)}})},function(e,t,r){var o=r(0),i=r(59),a=r(20),c=r(33),s=r(8),u=[].slice;o(o.P+o.F*r(1)((function(){i&&u.call(i)})),"Array",{slice:function(e,t){var r=s(this.length),o=a(this);if(t=t===n?r:t,"Array"==o)return u.call(this,e,t);for(var i=c(e,r),l=c(t,r),f=s(l-i),d=Array(f),p=0;p<f;p++)d[p]="String"==o?this.charAt(i+p):this[i+p];return d}})},function(e,t,r){var o=r(0),i=r(17),a=r(13),c=r(1),s=[].sort,u=[1,2,3];o(o.P+o.F*(c((function(){u.sort(n)}))||!c((function(){u.sort(null)}))||!r(15)(s)),"Array",{sort:function(e){return e===n?s.call(a(this)):s.call(a(this),i(e))}})},function(e,t,n){var r=n(0),o=n(19)(0),i=n(15)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(202);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,r){var o=r(2),i=r(64),a=r(5)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=n),o(t)&&null===(t=t[a])&&(t=n)),t===n?Array:t}},function(e,t,n){var r=n(0),o=n(19)(1);r(r.P+r.F*!n(15)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(2);r(r.P+r.F*!n(15)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(3);r(r.P+r.F*!n(15)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(4);r(r.P+r.F*!n(15)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){var r=n(0),o=n(55)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(15)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(12),i=n(21),a=n(8),c=[].lastIndexOf,s=!!c&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(s||!n(15)(c)),"Array",{lastIndexOf:function(e){if(s)return c.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(96)}),n(45)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(74)}),n(45)("fill")},function(e,t,r){var o=r(0),i=r(19)(5),a="find",c=!0;a in[]&&Array(1)[a]((function(){c=!1})),o(o.P+o.F*c,"Array",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:n)}}),r(45)(a)},function(e,t,r){var o=r(0),i=r(19)(6),a="findIndex",c=!0;a in[]&&Array(1)[a]((function(){c=!1})),o(o.P+o.F*c,"Array",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:n)}}),r(45)(a)},function(e,t,n){n(38)("Array")},function(e,t,r){var o=r(3),i=r(67),a=r(6).f,c=r(34).f,s=r(72),u=r(75),l=o.RegExp,f=l,d=l.prototype,p=/a/g,h=/a/g,v=new l(p)!==p;if(r(7)&&(!v||r(1)((function(){return h[r(5)("match")]=!1,l(p)!=p||l(h)==h||"/a/i"!=l(p,"i")})))){l=function(e,t){var r=this instanceof l,o=s(e),a=t===n;return!r&&o&&e.constructor===l&&a?e:i(v?new f(o&&!a?e.source:e,t):f((o=e instanceof l)?e.source:e,o&&a?u.call(e):t),r?this:d,l)};for(var g=function(e){e in l||a(l,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},y=c(f),_=0;y.length>_;)g(y[_++]);(d.constructor=l).prototype=d,r(11)(o,"RegExp",l)}r(38)("RegExp")},function(e,t,r){r(98);var o=r(4),i=r(75),a=r(7),c="toString",s=/./[c],u=function(e){r(11)(RegExp.prototype,c,e,!0)};r(1)((function(){return"/a/b"!=s.call({source:"a",flags:"b"})}))?u((function(){var e=o(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?i.call(e):n)})):s.name!=c&&u((function(){return s.call(this)}))},function(e,t,r){r(50)("match",1,(function(e,t,r){return[function(r){var o=e(this),i=r==n?n:r[t];return i!==n?i.call(r,o):new RegExp(r)[t](String(o))},r]}))},function(e,t,r){r(50)("replace",2,(function(e,t,r){return[function(o,i){var a=e(this),c=o==n?n:o[t];return c!==n?c.call(o,a,i):r.call(String(a),o,i)},r]}))},function(e,t,r){r(50)("search",1,(function(e,t,r){return[function(r){var o=e(this),i=r==n?n:r[t];return i!==n?i.call(r,o):new RegExp(r)[t](String(o))},r]}))},function(e,t,r){r(50)("split",2,(function(e,t,o){var i=r(72),a=o,c=[].push,s="split",u="length",l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||1<"."[s](/()()/)[u]||""[s](/.?/)[u]){var f=/()??/.exec("")[1]===n;o=function(e,t){var r=String(this);if(e===n&&0===t)return[];if(!i(e))return a.call(r,e,t);var o,s,d,p,h,v=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,_=t===n?4294967295:t>>>0,b=new RegExp(e.source,g+"g");for(f||(o=new RegExp("^"+b.source+"$(?!\\s)",g));(s=b.exec(r))&&!(y<(d=s.index+s[0][u])&&(v.push(r.slice(y,s.index)),!f&&1<s[u]&&s[0].replace(o,(function(){for(h=1;h<arguments[u]-2;h++)arguments[h]===n&&(s[h]=n)})),1<s[u]&&s.index<r[u]&&c.apply(v,s.slice(1)),p=s[0][u],y=d,v[u]>=_));)b[l]===s.index&&b[l]++;return y===r[u]?!p&&b.test("")||v.push(""):v.push(r.slice(y)),v[u]>_?v.slice(0,_):v}}else"0"[s](n,0)[u]&&(o=function(e,t){return e===n&&0===t?[]:a.call(this,e,t)});return[function(r,i){var a=e(this),c=r==n?n:r[t];return c!==n?c.call(r,a,i):o.call(String(a),r,i)},o]}))},function(e,t,r){var o=r(99),i=r(41);e.exports=r(51)("Map",(function(e){return function(){return e(this,0<arguments.length?arguments[0]:n)}}),{get:function(e){var t=o.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return o.def(i(this,"Map"),0===e?0:e,t)}},o,!0)},function(e,t,r){var o=r(99),i=r(41);e.exports=r(51)("Set",(function(e){return function(){return e(this,0<arguments.length?arguments[0]:n)}}),{add:function(e){return o.def(i(this,"Set"),e=0===e?0:e,e)}},o)},function(e,t,r){var o,i=r(19)(0),a=r(11),c=r(29),s=r(54),u=r(100),l=r(2),f=r(1),d=r(41),p="WeakMap",h=c.getWeak,v=Object.isExtensible,g=u.ufstore,y={};if(r(3)[p]===n){var _=function(e){return function(){return e(this,0<arguments.length?arguments[0]:n)}},b={get:function(e){if(l(e)){var t=h(e);return!0===t?g(d(this,p)).get(e):t?t[this._i]:n}},set:function(e,t){return u.def(d(this,p),e,t)}},m=e.exports=r(51)(p,_,b,u,!0,!0);f((function(){return 7!=(new m).set((Object.freeze||Object)(y),7).get(y)}))&&(s((o=u.getConstructor(_,p)).prototype,b),c.NEED=!0,i(["delete","has","get","set"],(function(e){var t=m.prototype,n=t[e];a(t,e,(function(t,r){if(!l(t)||v(t))return n.call(this,t,r);this._f||(this._f=new o);var i=this._f[e](t,r);return"set"==e?this:i}))})))}},function(e,t,r){var o=r(100),i=r(41),a="WeakSet";r(51)(a,(function(e){return function(){return e(this,0<arguments.length?arguments[0]:n)}}),{add:function(e){return o.def(i(this,a),e,!0)}},o,!1,!0)},function(e,t,r){var o=r(0),i=r(52),a=r(76),c=r(4),s=r(33),u=r(8),l=r(2),f=r(3).ArrayBuffer,d=r(77),p=a.ArrayBuffer,h=a.DataView,v=i.ABV&&f.isView,g=p.prototype.slice,y=i.VIEW,_="ArrayBuffer";o(o.G+o.W+o.F*(f!==p),{ArrayBuffer:p}),o(o.S+o.F*!i.CONSTR,_,{isView:function(e){return v&&v(e)||l(e)&&y in e}}),o(o.P+o.U+o.F*r(1)((function(){return!new p(2).slice(1,n).byteLength})),_,{slice:function(e,t){if(g!==n&&t===n)return g.call(c(this),e);for(var r=c(this).byteLength,o=s(e,r),i=s(t===n?r:t,r),a=new(d(this,p))(u(i-o)),l=new h(this),f=new h(a),v=0;o<i;)f.setUint8(v++,l.getUint8(o++));return a}}),r(38)(_)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(52).ABV,{DataView:n(76).DataView})},function(e,t,n){n(23)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},function(e,t,n){n(23)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){n(23)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},function(e,t,n){var r=n(0),o=n(17),i=n(4),a=(n(3).Reflect||{}).apply,c=Function.apply;r(r.S+r.F*!n(1)((function(){a((function(){}))})),"Reflect",{apply:function(e,t,n){var r=o(e),s=i(n);return a?a(r,t,s):c.call(r,t,s)}})},function(e,t,n){var r=n(0),o=n(27),i=n(17),a=n(4),c=n(2),s=n(1),u=n(85),l=(n(3).Reflect||{}).construct,f=s((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),d=!s((function(){l((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var s=n.prototype,p=o(c(s)?s:Object.prototype),h=Function.apply.call(e,p,t);return c(h)?h:p}})},function(e,t,n){var r=n(6),o=n(0),i=n(4),a=n(24);o(o.S+o.F*n(1)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(22).f,i=n(4);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,r){var o=r(0),i=r(4),a=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};r(62)(a,"Object",(function(){var e,t=this._k;do{if(this._i>=t.length)return{value:n,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}})),o(o.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,r){var o=r(22),i=r(28),a=r(9),c=r(0),s=r(2),u=r(4);c(c.S,"Reflect",{get:function e(t,r){var c,l,f=arguments.length<3?t:arguments[2];return u(t)===f?t[r]:(c=o.f(t,r))?a(c,"value")?c.value:c.get!==n?c.get.call(f):n:s(l=i(t))?e(l,r,f):void 0}})},function(e,t,n){var r=n(22),o=n(0),i=n(4);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(28),i=n(4);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(4),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(248)})},function(e,t,n){var r=n(34),o=n(46),i=n(4),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(0),o=n(4),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,r){var o=r(6),i=r(22),a=r(28),c=r(9),s=r(0),u=r(25),l=r(4),f=r(2);s(s.S,"Reflect",{set:function e(t,r,s){var d,p,h=arguments.length<4?t:arguments[3],v=i.f(l(t),r);if(!v){if(f(p=a(t)))return e(p,r,s,h);v=u(0)}return c(v,"value")?!(!1===v.writable||!f(h)||((d=i.f(h,r)||u(0)).value=s,o.f(h,r,d),0)):v.set!==n&&(v.set.call(h,s),!0)}})},function(e,t,n){var r=n(0),o=n(65);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,r){var o,i,a,c,s=r(78),u=r(37),l=r(3),f=r(16),d=r(44),p=r(0),h=r(2),v=r(17),g=r(40),y=r(43),_=r(77),b=r(102).set,m=r(253)(),w=r(103),S=r(254),O=r(255),C="Promise",I=l.TypeError,E=l.process,T=l[C],k="process"==d(E),A=function(){},x=i=w.f,P=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[r(5)("species")]=function(e){e(A,A)};return(k||"function"==typeof PromiseRejectionEvent)&&e.then(A)instanceof t}catch(e){}}();s.isIOS&&(P=!1);var j=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;m((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a=o?t.ok:t.fail,c=t.resolve,s=t.reject,u=t.domain;try{a?(o||(2==e._h&&M(e),e._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===t.promise?s(I("Promise-chain cycle")):(i=j(n))?i.call(n,c,s):c(n)):s(r)}catch(t){s(t)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&D(e)}))}},D=function(e){b.call(l,(function(){var t,r,o,i=e._v,a=R(e);if(a&&(t=S((function(){k?E.emit("unhandledRejection",i,e):(r=l.onunhandledrejection)?r({promise:e,reason:i}):(o=l.console)&&o.error&&o.error("Unhandled promise rejection",i)})),e._h=k||R(e)?2:1),e._a=n,a&&t.e)throw t.v}))},R=function e(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,o=0;r.length>o;)if((n=r[o++]).fail||!e(n.promise))return!1;return!0},M=function(e){b.call(l,(function(){var t;k?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},L=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw I("Promise can't be resolved itself");(n=j(t))?m((function(){var o={_w:r,_d:!1};try{n.call(t,f(e,o,1),f(B,o,1))}catch(e){B.call(o,e)}})):(r._v=t,r._s=1,N(r,!1))}catch(t){B.call({_w:r,_d:!1},t)}}};P||(T=function(e){g(this,T,C,"_h"),v(e),o.call(this);try{e(f(L,this,1),f(B,this,1))}catch(e){B.call(this,e)}},(o=function(e){this._c=[],this._a=n,this._s=0,this._d=!1,this._v=n,this._h=0,this._n=!1}).prototype=r(39)(T.prototype,{then:function(e,t){var r=x(_(this,T));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=k?E.domain:n,this._c.push(r),this._a&&this._a.push(r),this._s&&N(this,!1),r.promise},catch:function(e){return this.then(n,e)}}),a=function(){var e=new o;this.promise=e,this.resolve=f(L,e,1),this.reject=f(B,e,1)},w.f=x=function(e){return e===T||e===c?new a(e):i(e)}),p(p.G+p.W+p.F*!P,{Promise:T}),r(36)(T,C),r(38)(C),c=r(30)[C],p(p.S+p.F*!P,C,{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),p(p.S+p.F*(u||!P),C,{resolve:function(e){return O(u&&this===c?T:this,e)}}),p(p.S+p.F*!(P&&r(49)((function(e){T.all(e).catch(A)}))),C,{all:function(e){var t=this,r=x(t),o=r.resolve,i=r.reject,a=S((function(){var r=[],a=0,c=1;y(e,!1,(function(e){var s=a++,u=!1;r.push(n),c++,t.resolve(e).then((function(e){u||(u=!0,r[s]=e,--c||o(r))}),i)})),--c||o(r)}));return a.e&&i(a.v),r.promise},race:function(e){var t=this,n=x(t),r=n.reject,o=S((function(){y(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t,r){var o=r(3),i=r(102).set,a=o.MutationObserver||o.WebKitMutationObserver,c=o.process,s=o.Promise,u="process"==r(20)(c);e.exports=function(){var e,t,r,l=function(){var o,i;for(u&&(o=c.domain)&&o.exit();e;){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=n,o}}t=n,o&&o.enter()};if(u)r=function(){c.nextTick(l)};else if(a){var f=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),r=function(){d.data=f=!f}}else if(s&&s.resolve){var p=s.resolve();r=function(){p.then(l)}}else r=function(){i.call(o,l)};return function(o){var i={fn:o,next:n};t&&(t.next=i),e||(e=i,r()),t=i}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(4),o=n(2),i=n(103);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}}]),"undefined"!=typeof module&&module.exports?module.exports=e:"function"==typeof define&&define.amd?define((function(){return e})):t.core=e}(1,1);var __appServiceConsole__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function o(){var e=arguments;r((function(){WeixinJSBridge.publish.apply(WeixinJSBridge,e)}))}function i(){var e=arguments;r((function(){WeixinJSBridge.subscribe.apply(WeixinJSBridge,e)}))}var a=Object.prototype.toString;function c(e){return a.call(e).slice(8,-1)}var s=Number.isNaN||function(e){return e!=e},u=function(e){return function(e){return"Number"===c(e)}(e)&&Math.abs(e)===1/0},l=Array.isArray||function(e){return"Array"===c(e)},f={String:0,NaN:"<NaN>",Infinity:function(e){return 0<e?"<Infinity>":"<-Infinity>"},Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:function(e){return""===e.name?"<Function>":"<Function: ".concat(e.name,">")},Date:function(e){return"<Date: ".concat(e.toJSON(),">")},RegExp:function(e){return"<RegExp: ".concat(e.toString(),">")},Error:function(e){return"<".concat(e.name,": ").concat(e.message,">")},Symbol:function(e){return"<Symbol: ".concat(e.toString(),">")},Promise:"<Promise>",Map:function(e){return"<Map: size=".concat(e.size,">")},WeakMap:"<WeakMap>",Set:function(e){return"<Set: size=".concat(e.size,">")},WeakSet:"<WeakSet>",ArrayBuffer:function(e){return"<ArrayBuffer: byteLength=".concat(e.byteLength,">")},DataView:function(e){return"<DataView: byteLength=".concat(e.byteLength,", byteOffset=").concat(e.byteOffset,">")},TypedArray:function(e){return"<".concat(e.constructor&&e.constructor.name?e.constructor.name:"TypedArray",": byteLength=").concat(e.byteLength,", length=").concat(e.length,">")}};function d(e){var t=function(e){var t=c(e);if("Number"===t){if(s(e))return"NaN";if(u(e))return"Infinity"}else if("Object"===t){if(function(e){return null===e}(e))return"Null"}else{if(t.endsWith("Array")&&"Array"!==t&&function(e){return ArrayBuffer.isView(e)&&!("DataView"===c(e))}(e))return"TypedArray";if(function(e){return void 0===e}(t))return"Undefined"}return t}(e);return t in f?f[t]?function(e){return"function"==typeof e}(f[t])?[f[t](e),!0]:[f[t],!0]:[e,!0]:[null,!1]}function p(e){var t=new WeakMap;return function e(n,r){var o,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(d(n),2),a=i[0];return i[1]?a:t.has(n)?"<Circular: ".concat(t.get(n),">"):(t.set(n,r),l(n)?n.map((function(t,n){return e(t,"".concat(r,"[").concat(n,"]"))})):(o={},Object.keys(n).forEach((function(t){o[t]=e(n[t],"".concat(r,".").concat(t))})),o))}(e,"@")}function h(e){try{return(e=Array.prototype.slice.call(e)).map(p)}catch(e){return void console.warn("[console] This object can't be logged")}}var v,g=__wxConfig;function y(e){return void 0!==v?v:void 0!==(null==e?void 0:e.vConsole)?v=!!e.vConsole:!(!g||void 0===g.debug)&&!!g.debug}if(g.onReady((function(){_extends(g,__wxConfig)})),!("devtools"===g.platform)){var _=[],b=[];["log","warn","error","info","debug"].forEach((function(e){var t=console[e];console[e]=function(){var n=y();if(n){var r=h(arguments);r&&(1024<_.length&&_.shift(),_.push({method:e,log:r}),0<b.length&&o(e,{log:r},b),t.apply(console,r))}else{if("warn"!==e&&"error"!==e)return;t.apply(console,arguments)}}})),i("GenerateFuncReady",(function(e,t){b.push(t),y(e)&&o("initLogs",{logs:_},[t])})),i("webviewClearLog",(function(e,t){var n=b.filter((function(e){return e!==t}));o("serviceClearLog",{triggerWebViewId:t},n),_.length=0})),g.onReady((function(){y()&&0<b.length&&o("initLogs",{logs:_},b)}))}void 0===console.group&&(console.group=function(){}),void 0===console.groupEnd&&(console.groupEnd=function(){})}]),Protect=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}n.r(t),n.d(t,"default",(function(){return o}))},function(e,t,n){n.r(t),function(e){n.d(t,"hijack",(function(){return o}));var r=n(0);function o(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if("undefined"!=typeof Function){var n=function(){if(0<arguments.length&&"return this"===arguments[arguments.length-1])return function(){return e}};e={},n.prototype=Function.prototype,Function.prototype.constructor=n,Function=n}var o=function(){return this}(),i=__wxConfig;if(i.onReady((function(){var e;_extends(i,__wxConfig),"undefined"==typeof eval||(null===(e=__wxConfig)||void 0===e?void 0:e.QUA)&&__wxConfig.QUA.indexOf("RDM")>-1||(eval=void 0)})),"undefined"!=typeof setTimeout&&t){var a=setTimeout;setTimeout=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if("function"!=typeof e)throw new TypeError("setTimeout expects a function as first argument but got ".concat(Object(r.default)(e),"."));var n=Reporter.surroundThirdByTryCatch(e,"at setTimeout callback function"),i=[].slice.call(arguments,2);return a((function(){n.apply(o,i)}),t)};var c=setInterval;setInterval=function(e,t){if("function"!=typeof e)throw new TypeError("setInterval expects a function as first argument but got ".concat(Object(r.default)(e),"."));var n=Reporter.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return c((function(){n.apply(o,i)}),t)}}}n(4)}.call(this,n(3))},function(e,t){if("undefined"==typeof navigator){try{new Function("const GeneratorFunction = Object.getPrototypeOf(function *() {}).constructor; const f = new GeneratorFunction('', 'console.log(0)'); f().__proto__.__proto__.next = () => {};")()}catch(e){}try{new Function("const AsyncFunctionProto = Object.getPrototypeOf(async function() {}); Object.defineProperty(AsyncFunctionProto, 'constructor', { value: function(){} });")()}catch(e){}}},function(Mha,Nha){var Oha;Oha=function(){return this}();try{Oha=Oha||Function("return this")()||eval("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(Oha=window)}Mha.exports=Oha},function(e,t,n){n.r(t);var r=__wxConfig;r.onReady((function(){_extends(r,__wxConfig)})),t.default=r},function(e,t,n){var r=["Array","ArrayBuffer","AsyncFunction","Atomics","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Generator","GeneratorFunction","Infinity","Int16Array","Int32Array","Int8Array","InternalError","Intl","Intl.Collator","Intl.DateTimeFormat","Intl.NumberFormat","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","TypedArray","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],o=function(){return this}(),i=n(0),a=function e(t,n,r,o){if(t&&n&&-1===n.indexOf("constructor")){var a;try{a=t[n]}catch(e){return}if(a){var c=Object.getOwnPropertyDescriptor(t,n);if(o||c||"__proto__"===n){c=c||{enumerable:!!o,configurable:!0};var s=Object(i.default)(a);if(a&&("function"===s||"object"===s)&&(c.configurable&&Object.defineProperty(t,n,{get:function(){return a},set:function(c){if(this!==t)return e(this,n,r,!0),void(this[n]=c);if(a!==c)if(o)try{a=c}catch(c){return}else console.error('[non-writable] modification of global variable "'.concat(r,'" is not allowed when using plugins at app.json.')),"object"==(void 0===Reporter?"undefined":Object(i.default)(Reporter))&&(Reporter.reportKeyValue({key:"GlobalReadOnly",value:r}),Reporter.reportIDKey({key:"global_objs_readonly"}))},enumerable:c.enumerable,configurable:!!o&&c.configurable}),!o&&"__proto__"!==n)){var u=Object.getOwnPropertyNames(a);if(a===Map){var l=u.indexOf("Map");l>-1&&u.splice(l)}"object"===Object(i.default)(a)&&e(a,"__proto__","".concat(r,".__proto__"),!1);for(var f=0;f<u.length;++f){var d=u[f];e(a,d,"".concat(r,".").concat(d),!1)}}}}}},c=r.concat(["getApp","getCurrentPages","define","require","Reporter","Protect","requirePlugin","definePlugin"]),s=function(){Object.defineProperty(o.Object,"setPrototypeOf",{value:function(e,t){return e.__proto__=t,e},configurable:!0})},u=function(){try{new Date;for(var e=0;e<c.length;++e){var t=c[e];o[t]&&(new Date,a(o,t,t,!1),new Date)}new Date}catch(e){}},l=function(e,t,n){return a(e,t,n,!1)},f=(n(2),n(1));n.d(t,"overwriteSetPrototypeOf",(function(){return s})),n.d(t,"doNotWriteGlobalObjs",(function(){return u})),n.d(t,"doNotWriteObj",(function(){return l})),n.d(t,"globalEsObjs",(function(){return r})),n.d(t,"hijack",(function(){return f.hijack}))}]),Reporter=function(e){var t={},n=function n(r){if(t[r])return t[r].exports;t[r]={i:r,l:!1,exports:{}};var o=t[r];return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);return n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e&&Object.keys(e).forEach((function(t){n.d(r,t,function(t){return e[t]}.bind(null,t))})),r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r,o,i,a,c=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},s={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3},u={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,clientRestoreWebview_fail:200,clientLibVersionNotMatch:205,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203},l={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,APIRecycle:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432},f={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},d={apiCallback:1,pageInvoke:2,widgetInvoke:3},p={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14},h=(c(a={},s.APP,"thirdScriptError"),c(a,s.WIDGET,"widgetThirdScriptError"),c(a,s.GAME,"gameThirdScriptError"),c(a,s.GAME_SUBCONTEXT,"gameSubContextThirdScriptError"),a),v=__qqConfig;v.onReady((function(){_extends(v,__qqConfig)}));var g=v,y=g.platform,_=[],b=[],m=[],w=0,S=0,O=0,C=0,I=0,E={},T={},k={},A=function(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)},x=function(){for(var e=new Array(t),t=arguments.length,n=0;n<t;n++)e[n]=n<0||arguments.length<=n?void 0:arguments[n];A((function(){var t;(t=WeixinJSBridge).invoke.apply(t,e)}))},P=function(){!_||_.length<=0||(x("reportKeyValue",{dataArray:_}),_=[])},j=function(){!b||b.length<=0||(x("reportIDKey",{dataArray:b}),b=[])},N=function(){!m||m.length<=0||(x("systemLog",{dataArray:m}),m=[])},D=y,R="undefined"!=typeof window&&(null===(r=window)||void 0===r||null===(o=r.navigator)||void 0===o||null===(i=o.userAgent)||void 0===i?void 0:i.toLowerCase())||"";R&&(D=-1<R.indexOf("qqdevtools")?"devtools":-1<R.toLowerCase().indexOf("android")?"android":"ios");var M="ios"===D,B=function(){},L=function(){},F="",U="",q="",W="",V=-1,G=s.APP,H=["1109664704","1109907872"];g.onReady((function(){void 0!==g.appType&&(V=g.appType)}));var Y={surroundThirdByTryCatch:function(e,t){var n="";return q&&(n="at ".concat(q," ").concat(W," function;")),function(){var r;try{for(var o=Date.now(),i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=c<0||arguments.length<=c?void 0:arguments[c];r=e.apply(e,a);var s=Date.now()-o;1e3<s&&Y.slowReport({key:"apiCallback",cost:s,extend:n+t})}catch(r){Y.thirdErrorReport({error:r,extend:n+t})}return r}},slowReport:function(e){var t=e.key,n=e.cost,r=e.extend,o=e.force,i=d[t],a=Date.now();if(i&&(o||!(a-I<500))&&!(50<Object.keys(k).length||(k[r]||(k[r]=0),k[r]+=1,3<k[r]))){I=a;var c="".concat(n,",").concat(encodeURIComponent(r),",").concat(i,",").concat(Y.getAppType());Y.reportKeyValue({key:"Slow",value:c,force:!0})}},speedReport:function(e){var t=e.key,n=e.data,r=e.timeMark,o=e.force,i=f[t],a=Date.now(),c=0,s=r.nativeTime;if(i&&(o||!(a-(E[i]||0)<500))&&r.startTime&&r.endTime&&(1!==i&&2!==i||s)){n&&(c=JSON.stringify(n).length,E[i]=a);var u="".concat(i,",").concat(r.startTime,",").concat(s,",").concat(s,",").concat(r.endTime,",").concat(c,",").concat(Y.getAppType());Y.reportKeyValue({key:"Speed",value:u,force:!0})}},reportKeyValue:function(e){var t=e.key,n=e.value,r=e.force,o=void 0!==r&&r,i=e.immediately,a=void 0!==i&&i;if(l[t]){if(!o&&Date.now()-w<50)return;w=Date.now(),_.push({key:l[t],value:n}),(20<=_.length||!0===a)&&P()}},reportIDKey:function(e){var t=e.id,n=e.key,r=e.force;if(u[n]){if(!r&&Date.now()-S<20)return;S=Date.now(),b.push({id:t||(M?"356":"358"),key:u[n],value:1}),1<=b.length&&j()}},reportIDKeyDirectly:function(e){var t=e.id,n=e.key,r=e.force,o=e.immediately,i=void 0!==o&&o;if(n&&"356"!==t&&"358"!==t){if(!r&&Date.now()-S<20)return;S=Date.now(),b.push({id:t,key:n,value:1}),(1<=b.length||!0===i)&&j()}},reportCompass:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.table||"dc04239",i=r.rate||1;if(e&&!(Math.random()>i)){var a="",c=0;Object.keys(e).forEach((function(t){void 0!==e[t]&&(a+="".concat((c>0?"&":"")+t,"=").concat(encodeURIComponent(e[t])),c+=1)})),H.includes(null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId)||x("wnsCgiRequest",{url:"https://h5.qzone.qq.com/report/compass/".concat(o,"?").concat(a),method:"GET"})}},reportApiCall:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=_extends({},e);t.appid="undefined"!=typeof __qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId||("undefined"!=typeof window?window.__appId__:""),t.timestamp=Date.now(),t.actiontype="api-call",t.reserve3="app",t.sub_actiontype=t.apiname,t.reserves_action=t.param,t.reserve2=t.param2,delete t.apiname,delete t.param,delete t.param2,"devtools"===D?Y.reportCompass(t):x("reportDataToDC",{tableName:"dc04239",args:t})},reportJSAPI:function(e){var t,n,r,o,i={ok:0,fail:1,cancel:2},a={service:0,view:1},c=(null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId)||"",s=e.api||"",u=void 0!==i[e.ret]?i[e.ret]:-1,l=(null===(r=__qqConfig)||void 0===r?void 0:r.QUA)||"",f=(null===(o=__qqConfig)||void 0===o?void 0:o.deviceinfo)||"",d=void 0!==__libVersionInfo__?"".concat(__libVersionInfo__.version,".").concat(__libVersionInfo__.build||0):0,p=e.errMsg||"",h=e.callStartTime||0,v=e.callEndTime||0,g=void 0!==a[e.type]?a[e.type]:-1;x("reportDC",{table:"dc05331",reportArray:[c,s,u,l,"",f,"",d,p,h,v,g].map((function(e){return String(e)}))})},simpleReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,n=e.rate||1;if(t&&!(Math.random()>n)){var r=document.createElement("img");r.src=t,r.style.display="none",document.body.append(r),r.onload=function(){document.body.removeChild(r)},r.onerror=function(){document.body.removeChild(r)}}},thirdErrorReport:function(e){var t=e.key,n=void 0===t?G:t,r=e.error,o=e.extend,i=e.triggerErrorCallback,a=void 0===i||i;Y.errorReport({key:h[n],error:r,extend:o,triggerErrorCallback:a,isThirdScriptError:!0})},errorReport:function(e){var t=e.key,n=e.error,r=e.extend,o=e.isThirdScriptError,i=void 0!==o&&o,a=e.triggerErrorCallback,c=void 0===a||a;if(p[t]){"function"==typeof __wxSourceMapRetrace__&&(n=__wxSourceMapRetrace__(n));var s=r?"".concat(n.message,";").concat(r):n.message,u="".concat(t,"\n").concat(s,"\n").concat(n.stack);if(console.error(u),!(0<=u.indexOf("subContext.js")||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=n<0||arguments.length<=n?void 0:arguments[n];A((function(){var e;(e=WeixinJSBridge).publish.apply(e,t)}))}("WEBVIEW_ERROR_MSG",{data:{msg:u},options:{timestamp:Date.now()}}):c&&(Y.triggerErrorMessage(u),i&&Y.triggerThirdErrorMessage(u)),50<Object.keys(T).length))){var l=[p[t],n.name].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}([s,n.stack,void 0!==wx&&wx.version&&wx.version.version||""].map((function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t}))),[Y.getAppType()]).join(",");if(T[l]||(T[l]=0),T[l]+=1,i&&3<T[l]||3<T[l])return;Y.reportIDKey({key:t,force:!0}),Y.reportKeyValue({key:"Error",value:l,force:!0}),j(),P(),N()}}},log:function(e,t){if(e&&"string"==typeof e){if(!t&&Date.now()-O<50)return;O=Date.now(),m.push(String(e)),50<=m.length&&N()}},submit:function(){Date.now()-C<50||(C=Date.now(),j(),P(),N())},registerErrorListener:function(e){"function"==typeof e&&(B=e)},unRegisterErrorListener:function(){B=function(){}},registerThirdErrorListener:function(e){"function"==typeof e&&(L=e)},unRegisterThirdErrorListener:function(){L=null},triggerErrorMessage:function(e){F!==e&&(F=e,setTimeout((function(){try{B(e)}catch(e){console.error(e.message,"at onError callback function")}}),0))},triggerThirdErrorMessage:function(e){U!==e&&(U=e,setTimeout((function(){try{L(e)}catch(e){console.error(e.message,"at onError callback function")}}),0))},setAsWidget:function(){G=s.WIDGET},setAsGame:function(){G=s.GAME},setAsGameSubContext:function(){G=s.GAME_SUBCONTEXT},getAppType:function(){return-1===V?0:V+1e3}},$={};Object.keys(Y).forEach((function(e){!function(e){Object.defineProperty($,e,{get:function(){return t=Y[e],function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=r<0||arguments.length<=r?void 0:arguments[r];return t.apply(t,n)}catch(e){return void console.error("reporter error:".concat(e.message))}};var t},configurable:!0})}(e)})),Object.defineProperty($,"__route__",{set:function(e){q=e}}),Object.defineProperty($,"__method__",{set:function(e){W=e}}),$.RunType=s,"undefined"!=typeof window&&(window.onbeforeunload=function(){Y.submit()}),t.default=$}]).default,__subContextEngine__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i={},a={},c={},s={},u={},l={},f=0;JSContext.subscribe("subContextMessage",(function(e,t){var n=c[t];null==n||n.__onMessageHandler(e)})),JSContext.subscribe("subContextReady",(function(e,t){o&&(o.__onReadyHandler(t,e),o=void 0)})),JSContext.subscribe("subContextLibVarReady",(function(e,t){c[t].__onLibVarReadyHandler(e)}));var d,p,h=function(e,t){Object.defineProperty(this,e,{value:t,writable:!1,configurable:!1})},v=function(){function e(t){var n=t.name,r=t.secure,o=void 0===r||r,i=t.env,a=void 0===i?{}:i,c=t.entry,s=t.injectAfterAlloc,d=void 0===s||s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h.call(this,"__name__",n),h.call(this,"__guid__",f++),h.call(this,"__secure__",o),h.call(this,"__entry__",c),h.call(this,"__injectAfterAlloc__",d),this.contextGlobal=function(){return this}(),this.setExportEnv(a),u[this.__guid__]=[],l[this.__guid__]=[]}var t,n;return t=e,(n=[{key:"init",value:function(){o=this,JSContext.supportAlloc()?(function(){var e=JSContext.alloc();return e<=0&&setTimeout((function(){}),0),i[this.__guid__]=e}.call(this),this.__injectAfterAlloc__&&this.evaluateScriptFile(this.__entry__)):function(e){var t=JSContext.create(e);return t<=0&&setTimeout((function(){}),0),i[this.__guid__]=t}.call(this,this.__entry__)}},{key:"onMessage",value:function(e){var t=this;this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback&&(u[this.__guid__].forEach((function(e){t.__onMsgCallback(e)})),u[this.__guid__]=[])}},{key:"postMessage",value:function(e){var t=a[this.__guid__];void 0!==t?JSContext.publish("mainContextMessage",e,[t]):l[this.__guid__].push(e)}},{key:"onInitReady",value:function(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}},{key:"setExportEnv",value:function(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,s[this.__guid__]=e}},{key:"evaluateScriptFile",value:function(e){var t=i[this.__guid__];if(void 0!==t){var n=JSContext.evaluateScriptFile(t,e);if(n<=0)throw new Error("SubContext evaluateScriptFile failed: error code ".concat(n))}}},{key:"destroy",value:function(){var e=i[this.__guid__],t=a[this.__guid__];0<e&&(JSContext.publish("subContextDestroy",{},[t]),JSContext.destroy(e)),delete c[t],delete i[this.__guid__],delete a[this.__guid__],delete s[this.__guid__],delete u[this.__guid__],delete l[this.__guid__],delete this.__guid__,delete this.contextGlobal}},{key:"__onMessageHandler",value:function(e){"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):u[this.__guid__].push(e)}},{key:"__onReadyHandler",value:function(e,t){c[e]=this,a[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var n=s[this.__guid__];n&&JSContext.publish("subContextEnvReady",n,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach((function(e){e(t)})),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,function(){var e=this;void 0!==a[this.__guid__]&&(l[this.__guid__].forEach((function(t){e.postMessage(t)})),l[this.__guid__]=[])}.call(this)}}])&&r(t.prototype,n),e}();function g(e){return(g="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function y(e){return(y="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(e){return g(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":g(e)})(e)}var _=function(){return void 0!==__wxConfig&&__wxConfig.isIsolateContext},b=function(){var e=function(){return this}();Protect.globalEsObjs.concat(["console"]).forEach((function(t){e[t]&&(function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach((function(n){var r;try{r=t[n]}catch(n){}"object"!==y(r)&&"function"!=typeof r||Object.isFrozen(r)||e(r)})),t}(e[t]),Object.defineProperty(e,t,{value:e[t],configurable:!1,writable:!1}))}))},m=function(e,t){Reporter.reportIDKey({key:t});try{e()}catch(e){Reporter.reportIDKey({key:"".concat(t,"_fail"),force:!0});var n=0<=t.indexOf("initGame")?"gameSDKScriptError":"appServiceSDKScriptError";Reporter.errorReport({key:n,error:e,extend:""})}},w=function(){return"string"==typeof("devtools"===__wxConfig.platform?__wxConfig.appConfig.subContext:__wxConfig.subContext)},S="app-service.js",O=!1,C=new v({name:"app",secure:!1,entry:S,injectAfterAlloc:!1}),I=(d="appServiceSDKScriptError",p=function(e,t){var n=t.moduleName,r="__APP__"===n;"string"!=typeof n&&console.error("SubContext onSubPackageReady error: moduleName is empty"),n.endsWith("/")||(n+="/"),r?O||(C.evaluateScriptFile(S),O=!0):C.evaluateScriptFile(String(n)+S)},function(){try{return p.apply(p,arguments)}catch(e){Reporter.errorReport({key:d,error:e,extend:""})}}),E=function(){return C},T=new v({name:"game",secure:!1,entry:"game.js"}),k=function(){return T},A=new v({name:"gameopendata",secure:!0,entry:"subContext.js"}),x=function(){return A},P=[],j=function(e){P.push(e)};__wxConfig.onReady((function(){"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=P,n=0;n<t.length;n++){var r=t[n].contextGlobal.__wxSourceMap;if("object"===y(r)&&r[e]){var o=void 0;try{o=JSON.parse(JSON.stringify(r[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return o}}})})),n.d(t,"initAppRelatedContexts",(function(){return R})),n.d(t,"initGameRelatedContexts",(function(){return M})),n.d(t,"getAppContext",(function(){return E})),n.d(t,"getGameContext",(function(){return k})),n.d(t,"getGameOpenDataContext",(function(){return x})),n.d(t,"isIsolateContext",(function(){return _}));var N=Object.keys,D=function(){return this}(),R=function(e){for(var t=N(e),n=0;n<t.length;n++){var r=t[n];D[r]=e[r]}var o=function(){_();for(var t=N(e),n=0;n<t.length;n++){var r=t[n];D[r]=e[r]}_()&&m((function(){var e,t;b(),j(E()),e=new Safeway(C),t={console:_objectSpread({group:function(){},groupEnd:function(){}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,safeway:e,__wxConfig:__wxConfig,Reporter:Reporter},e.onSubpackageReady(I),C.setExportEnv(t),C.init()}),"initAppIsolatedContext"),!_()&&__wxConfig.plugins&&(Protect.overwriteSetPrototypeOf(),Protect.doNotWriteGlobalObjs())};"android"==("android"===__wxConfig.platform?"android":"devtools"===__wxConfig.platform?"devtools":"ios")?o():__wxConfig.onReady(o)},M=function(){__wxConfig.onReady((function(){var e=__appServiceSDK__.getGameRelatedContextsExports();_(),_()&&m((function(){var t;b(),j(k()),(t=e.game).__wxConfig=__wxConfig,T.setExportEnv(t),T.init()}),"initGameIsolatedContext"),w(),w()&&m((function(){var t;j(x()),(t=e.gameOpenData).__wxConfig=__wxConfig,A.setExportEnv(t),A.init()}),"initGameOpenDataContext")}))}}]),Safeway=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=(null==e?void 0:e.__esModule)?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"===_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=!1,a=[],c=function(e){a.push(e),i||(this.bridge.on("onSubPackageReady",(function(e){a.forEach((function(t){"function"==typeof t&&t(void 0,e)}))})),i=!0)},s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.stringify,r=void 0===n?JSON.stringify:n,i=t.parse,a=void 0===i?JSON.parse:i,c=t.arrayBufferProto,s=void 0===c?ArrayBuffer.prototype:c;if(!e)return e;var u=o(e);if("function"===u)throw new Error("[Safeway] not allow to pass function.");if("object"!==u)return e.valueOf();for(var l,f,d=Object.keys(e),p={},h=0;h<d.length;h++){var v=d[h],g=e[v];void 0!==g&&"ArrayBuffer"===(l=g,Object.prototype.toString.call(l).split(" ")[1].split("]")[0])&&void 0!==g.byteLength&&(g.__proto__=s,p[v]=g)}try{f=a(r(e))}catch(e){throw new Error("[Safeway] data clone error ".concat(e.toString()))}for(var y=Object.keys(p),_=0;_<y.length;_++){var b=y[_];f[b]=p[b]}return f};function u(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=s(r<0||arguments.length<=r?void 0:arguments[r],{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto});t.apply(this,n)}}function l(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).cloneArgs,r=void 0===n||n;return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]="function"==typeof(o<0||arguments.length<=o?void 0:arguments[o])?new u(e,o<0||arguments.length<=o?void 0:arguments[o]):r?s(o<0||arguments.length<=o?void 0:arguments[o],{parse:JSON.parse,stringify:JSON.stringify,arrayBufferProto:ArrayBuffer.prototype}):o<0||arguments.length<=o?void 0:arguments[o];var i=t.apply(this,n);return s(i,{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto})}}function f(e,t,n){for(var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=Object.keys(e),a=0;a<i.length;a++){var c=i[a],s=e[c];if("function"!=typeof s)throw new Error("Export value of Safeway must be a function, key ".concat(c," func ").concat(o(s)));n&&void 0!==__subContextEngine__&&__subContextEngine__.isIsolateContext()?t[c]=new l(n,s,{cloneArgs:r}):t[c]=s}}function d(e){var t={invoke:function(e,t,n){return WeixinJSBridge.invoke(e,t,n)},on:function(e,t){return WeixinJSBridge.on(e,t)},publish:function(e,t,n){return WeixinJSBridge.publish(e,t,n)},subscribe:function(e,t){return WeixinJSBridge.subscribe(e,t)}},n={create:function(e){return WeixinWorker.create(e)},onWorkerMsg:function(e){return WeixinWorker.onWorkerMsg(e)},postMsgToWorker:function(e,t){return WeixinWorker.postMsgToWorker(e,t)},terminate:function(e){return WeixinWorker.terminate(e)}};f(t,t,e,{cloneArgs:!1}),f(n,n,e),this.bridge=t,this.worker=n,f({onSubpackageReady:c},this,e)}t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d.call(this,t)}}]).default,__safeway__=new Safeway,checkCanProxyReport=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),t.default=function(){if("undefined"==typeof Proxy)return!1;if(Object.prototype.toString.call(new Proxy({},{}))!==Object.prototype.toString.call({}))return!1;if("undefined"==typeof __qqConfig)return!1;var e=__qqConfig.deviceinfo;try{if(e){var t=e.match(/iOS\/([0-9]+)./);if(t&&parseInt(t[1],10))return!1}}catch(e){console.warn("check ios version warning",e.message)}var n=__wxConfig,r=n.platform,o=(n.frameworkInfo,n.QUA);return"devtools"!==r&&!!(o&&o.indexOf("RDM")>-1)}}]).default,MiniAppProxyReport=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiInfoMapMaxSize=t.TruncatLen=t.eventCbkDefaultTimeout=t.apiCbkDefaultTimeout=t.argPropertyCbkCheckNames=t.autoAddCallbackProperties=void 0,t.autoAddCallbackProperties=["success","fail"],t.argPropertyCbkCheckNames=["success","fail"],t.apiCbkDefaultTimeout=3e3,t.eventCbkDefaultTimeout=3e4,t.TruncatLen=1e3,t.ApiInfoMapMaxSize=1e3},function(e,t,n){"use strict";n.r(t);var r,o,i,a,c,s,u,l=n(2).default,f="https://api-report.q.qq.com/qqqzonetest/miniapp/api/base_lib_report",d=new Map,p=1e3,h=[],v="",g="",y={},_=console.error,b=!1,m=["reportUserApi","__nativeObj","currentContext","addEventListener","dispatchEvent","handleImgUrl","loadImg","constructor","__proto__","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","offTouchStart","offTouchMove","offTouchEnd","offTouchCancel","transformRpx"],w=["createImage","getContext","connectSocket"],S=["createInnerAudioContext","createLivePusherContext","createVideo","createImage"],O="devtools"===__qqConfig.platform,C=function(){for(var e="".concat(Math.floor(1e5*Math.random()));e.length<5;)e="0".concat(e);return"".concat(Date.now(),"_").concat(e)},I=function(e){for(var t=5388,n=0,r=e.length;n<r;++n)t+=t+e.charAt(n).charCodeAt();return 2147483647&t},E=function(){return c||(c=new Promise((function(e,t){if(O||v)e();else{var n=function(){var t;y=a()||{},__wxConfig.accountInfo&&(g=__wxConfig.accountInfo.appId,console.log("appid",g));var n="".concat(f,"?_wnscgi=1&platform=").concat(y.platform,"&qua=").concat(__qqConfig.QUA);null===(t=o)||void 0===t||t({url:n,method:"GET",success:function(t){var n=t.data,r=void 0===n?{}:n;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}v=r.sessionid,r.isTest&&(console.log("is test uin set reportLen 30"),p=20),console.log("get report sessionid:".concat(JSON.stringify(r))),e()},fail:function(t){_("get report sessionid fail",t),e()}})};__wxConfig.onReady?__wxConfig.onReady(n):setTimeout(n)}})))},T=0,k=0,A=!1,x={getProxy:function(e,t){if(b)return e;var n="app"===(r=t);n&&(p=20),o=e.request,i=e.onHide?e.onHide:e.onAppHide,a=e.getSystemInfoSync||function(){};var c=new l(e,{getApiId:C,apiPrefix:"qq",dealType:n?"defineProperty":"proxy",report:function(e){if(function(e){var t=d.get(e)||[];t.st&&clearTimeout(t.st),t.st=setTimeout((function(){d.delete(e)}),2e3);var n=Date.now(),r=t.length>=10,o=!r||n-t[0]>1e3;return r&&t.shift(),t.push(n),d.set(e,t),o}(e.apiName)){var t=e.ret,n=e.apiName,a=e.res,c="";switch(t){case"exception":c="jslib",n.endsWith(":callback:exception")&&(c="developer"),a.indexOf("no such file or directory")&&(c="developer");break;case"errorLog":c="jslib",e.args&&e.args[0]&&"string"==typeof e.args[0]&&e.args[0].indexOf("parameter error:")>-1&&(c="developer");break;case"fail":c="developer";break;case"cbkMultiWarn":case"cbkOrderWarn":case"cbkAsyncWarn":case"timeout":c="client"}/(onError|onSocketError|onUpdateFailed):args\[0\]:callback$/.test(n)&&(t="onError",c="client"),function(e){var t=e.callStartTime,n=e.api,a=e.apiid,c=e.pid,l=void 0===c?"":c,d=e.parentApiName,_=void 0===d?"":d,b=e.traceid,m=e.traceApiName,w=e.args,S=void 0===w?{}:w,C=e.res,x=void 0===C?{}:C,P=e.ret,j=void 0===P?"ok":P,N=e.bugAttribution,D=void 0===N?"":N;if(!("ok"!==j&&(k+=1)>100)){u!==t&&(T=0),u=t,t=1e3*t+T,T+=1;var R=t+1;E();var M={api:n,apiid:a,traceid:b,pid:l,parentApiName:_,traceApiName:m,args:S,res:x,ret:j,bug_attribution:D,callStartTime:t,callEndTime:R};if("ok"!==j)console.warn("API全链路",M);else if("game"===r)return;h.push(M);var B=function(){var e=h;e.length<=0||(h=[],E().then((function(){var t=Date.now(),n={time:t,QUA:__qqConfig.QUA,appid:g,from:r,sessionid:v,SDKVersion:y.SDKVersion,SDKBuild:y.SDKBuild,model:y.model,platform:y.platform,system:y.system,version:y.version,brand:y.brand,signatrue:I("".concat(t))};n.list=e,!O&&o({url:f,data:n,method:"POST",success:function(e){},fail:function(e){console.warn("report fail",e)}})})))};h.length>=p&&B(),s||(s=setInterval(B,5e3)),A||("function"==typeof i&&i((function(){B()})),A=!0)}}({api:e.apiName,apiid:e.apiId,pid:e.pid,parentApiName:e.parentApiName,traceid:e.traceId,traceApiName:e.traceApiName,args:e.args,res:e.res,ret:t,bugAttribution:c,callStartTime:e.time})}},shouldHandleMethod:function(e,t,n){return!m.includes(n)},shouldHandleResult:function(e,t,n){return!w.includes(n)},shouldReportPropertySet:function(e,t,n){return S.includes(t)},shouldHookConsoleError:!0}).proxy;return b=!0,c}};t.default=x},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(3),c=function(){},s=Map,u=0,l=function(){return""+(u+=1)},f=function(){function e(e,t){if(this.dealType="proxy",this.parentIdMap=new s,this.apiInfoMap=new s,this.apiTagMap=new s,this.useDefineProperty=!1,!a.default.checkCanBeDeal(e))return console.warn("ProxyMonitorError:target should be object and not null"),this.proxy=e,void(this.isDealed=!1);this.isDealed=!0,this.options=r({shouldHandleMethod:function(){return!0},shouldHandleResult:function(){return!0},shouldReportPropertySet:function(){return!1},report:function(){},apiCbkTimeout:i.apiCbkDefaultTimeout,eventCbkTimeout:i.eventCbkDefaultTimeout,getApiId:l},t),this.useDefineProperty="defineProperty"===this.options.dealType,a.default.checkCanBeProxy(e)||(this.useDefineProperty=!0),this.dealType=this.useDefineProperty?"defineProperty":"proxy",this.options.hookSetTimeout&&(this.setTimeout=this.dealSetTimeoutOrSetInterval(this.options.hookSetTimeout,"setTimeout")),this.options.hookSetInterval&&(this.setInterval=this.dealSetTimeoutOrSetInterval(this.options.hookSetInterval,"setInterval")),this.options.shouldHookConsoleError&&this.hookConsoleError(),this.callPaths=[],this.apiInfoKeys=[],this.useDefineProperty?this.proxy=this.dealTargetWithDefineProperty(e):this.proxy=a.default.getNewProxyWithTryCatch(e,this.getHandler())}return e.prototype.addApiInfo=function(e,t){for(this.apiInfoMap.set(e,t),this.apiInfoKeys.push(e);this.apiInfoKeys.length>i.ApiInfoMapMaxSize;){var n=this.apiInfoKeys.shift();this.apiInfoMap.delete(n)}},e.prototype.hookConsoleError=function(){var e=this,t=console.error;Object.getOwnPropertyDescriptor(console,"error").writable?console.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.callPaths[e.callPaths.length-1];e.report({apiName:"ConsoleError",apiId:e.options.getApiId(),pid:o,args:n,ret:"errorLog"}),t.apply(console,n)}:console.warn("console.error不可被hook")},e.prototype.dealSetTimeoutOrSetInterval=function(e,t){var n=this;return function(r,o){void 0===o&&(o=0);var i=n.callPaths[n.callPaths.length-1],a=r;if(i&&n.apiInfoMap.get(i).isCbk){var c=n.options.getApiId();n.addApiInfo(c,{name:t,time:Date.now(),isCbk:!1,isFinish:!1}),n.report({apiName:t,apiId:c,pid:i,ret:"ok"}),a=function(){var e=n.options.getApiId(),o=c;n.callPaths.push(e);var i=t+":callback";n.addApiInfo(e,{name:i,time:Date.now(),isCbk:!0,isFinish:!1}),n.report({apiId:e,apiName:i,pid:o,ret:"ok"}),r(),n.callPaths.splice(n.callPaths.length-1,1)}}return e(a,o)}},e.prototype.report=function(e){var t,n=e.apiId,r=e.apiName,o=e.property,i=e.pid,c=e.args,s=void 0===c?[]:c,u=e.res,l=e.isAsync,f=void 0===l?null:l,d=e.ret,p=void 0===d?"ok":d,h=n=String(n),v=r;if(i&&this.apiInfoMap.has(i)){for(this.parentIdMap.set(n,i),t=this.apiInfoMap.get(i).name;this.parentIdMap.has(h);)h=this.parentIdMap.get(h);this.apiInfoMap.has(h)&&(v=this.apiInfoMap.get(h).name)}var g=this.options.apiPrefix;g&&(r=g+"."+r,v=g+"."+v,t&&(t=g+"."+t));var y={apiId:n,apiName:r,property:o,pid:i,parentApiName:t,traceId:h,traceApiName:v,args:a.default.truncatObjectProperty(s),res:a.default.truncatObjectProperty(u),ret:p,isAsync:f,time:Date.now()};this.options.report(y)},e.prototype.getNewApiArgPropertyArgs=function(e,t,n){var r=this;return e.map((function(e,o){var i=e,c=n+":args["+o+"]";return a.default.checkCanBeDeal(e)&&(i=r.useDefineProperty||!a.default.checkCanBeProxy(e)?r.dealTargetWithDefineProperty(e,c,t):a.default.getNewProxyWithTryCatch(e,r.getHandler(c,t))),i}))},e.prototype.warnReport=function(e,t,n,r,o){this.report({apiId:this.options.getApiId(),apiName:n+":"+e,ret:e,res:t,property:r,pid:o})},e.prototype.getArgFuncHook=function(e,t,n,r,o,a){var c=this;return function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var l="",f="",d="",p=null,h=c.apiInfoMap.get(r);if(h){var v=h.cbkCalledList,g=h.checkTimeoutSt,y=h.isFinish;p=y,g&&clearTimeout(g),i.argPropertyCbkCheckNames.includes(a)&&(v.includes("complete")&&(f="complete在回调success、fail前被调用"),p||(d="异步接口同步回调了")),a&&v.push(a),v.filter((function(e){return i.argPropertyCbkCheckNames.includes(e)})).length>1&&(l="回调success、fail被重复调用")}var _=c.options.getApiId(),b=c.getNewApiArgPropertyArgs(s,_,n);c.addApiInfo(_,{name:n,time:Date.now(),isCbk:!0,isFinish:!1});var m="ok";"fail"===a?m="fail":"onError"!==o&&"onSocketError"!==o&&"onUpdateFailed"!==o||(m="onError"),c.report({apiId:_,apiName:n,property:a,pid:r,args:s,isAsync:p,ret:m}),c.callPaths.push(_),l&&c.warnReport("cbkMultiWarn",l,n,a,r),f&&c.warnReport("cbkOrderWarn",f,n,a,r),d&&c.warnReport("cbkAsyncWarn",d,n,a,r);try{var w=t.apply(e,b);return c.callPaths.splice(c.callPaths.length-1,1),c.apiInfoMap.get(_).isFinish=!0,w}catch(e){throw c.callPaths.splice(c.callPaths.length-1,1),c.apiInfoMap.get(_).isFinish=!0,c.report({apiName:n+":exception",apiId:c.options.getApiId(),property:a,pid:_,res:e.message,ret:"exception"}),e}}},e.prototype.getFuncHook=function(e,t,n){var r=e[n],i=(t?t+".":"")+n;if(this.options.useApiTag){var c=this.apiTagMap.get(n)||0;i=i+":"+c,c+=1,this.apiTagMap.set(n,c)}var s=this;return function c(){for(var u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f=s.options.getApiId(),d=s.callPaths[s.callPaths.length-1],p=s.dealApiFuncArgs(u,f,d,n,i);s.report({apiName:i,apiId:f,property:n,pid:d,args:u,ret:"ok"}),s.callPaths.push(f);try{var h=void 0;return h=c.prototype===this.__proto__?new(r.bind.apply(r,o([void 0],p))):r.apply(e,p),s.callPaths.splice(s.callPaths.length-1,1),s.apiInfoMap.get(f).isFinish=!0,s.options.shouldHandleResult(h,t,n)&&a.default.checkCanBeDeal(h)&&(h=s.useDefineProperty?s.dealTargetWithDefineProperty(h,i,f):a.default.getNewProxyWithTryCatch(h,s.getHandler(i,f))),h}catch(e){throw s.callPaths.splice(s.callPaths.length-1,1),s.apiInfoMap.get(f).isFinish=!0,s.report({apiName:i+":exception",apiId:s.options.getApiId(),property:n,pid:f,res:e.message,ret:"exception"}),e}}},e.prototype.dealApiFuncArgs=function(e,t,n,r,o){var c=this,u=[],l=null,f=function(n){l||(l=setTimeout((function(){var i=n?"timeout":"timeout_maybe";c.report({apiName:o+":"+i,apiId:c.options.getApiId(),property:r,pid:t,args:e,res:"等待回调超过了"+c.options.apiCbkTimeout+"秒",ret:i})}),n?c.options.apiCbkTimeout:c.options.eventCbkTimeout))};return e.forEach((function(e,n){if("function"!=typeof e)if(a.default.checkCanBeDeal(e)){var l,d=new s;Reflect.ownKeys(e).forEach((function(e){i.argPropertyCbkCheckNames.includes(String(e))&&f(!0)})),l=c.useDefineProperty||!a.default.checkCanBeProxy(e)?c.dealArgPropertyWithDefineProperty(e,d,o,n,t,r):c.dealArgPropertyWithProxy(e,d,o,n,t,r),u.push(l)}else u.push(e);else{if(!e.hookNewFuncCache){f(!1);var p=o+":args["+n+"]:callback";e.hookNewFuncCache=c.getArgFuncHook(null,e,p,t,r,"")}u.push(e.hookNewFuncCache)}})),this.addApiInfo(t,{name:o,time:Date.now(),isCbk:!1,isFinish:!1,checkTimeoutSt:l,cbkCalledList:[]}),u},e.prototype.dealArgPropertyWithDefineProperty=function(e,t,n,r,o,i){var a=this,c={};return Reflect.ownKeys(e).forEach((function(s){var u=Reflect.getOwnPropertyDescriptor(e,i)||{enumerable:!0,configurable:!0};Reflect.defineProperty(c,s,{get:function(){var c=e[s];if("function"!=typeof c)return c;if(!t.has(s)){var u=n+":args["+r+"]."+s+":callback";t.set(s,a.getArgFuncHook(e,c,u,o,i,s))}return t.get(s)},set:function(t){e[s]=t},configurable:u.configurable,enumerable:u.enumerable})})),c},e.prototype.dealArgPropertyWithProxy=function(e,t,n,r,o,s){var u=this;return a.default.getNewProxyWithTryCatch(e,{get:function(e,a){try{var l=e[a],f=!1;if(void 0===l&&i.autoAddCallbackProperties.includes(a)&&(l=c,f=!0),"function"!=typeof l)return l;if(!t.has(a)){var d=n+":args["+r+"]."+a+(f?":autoadd":"")+":callback";t.set(a,u.getArgFuncHook(e,l,d,o,s,a))}return t.get(a)}catch(t){return console.warn("proxy handler get property faild",s,a,t.message),e[a]}}})},e.prototype.getHandler=function(e,t){var n=this;return{get:function(t,r,o){try{var i=Reflect.get(t,r,o);return"symbol"==_typeof(r)||"function"!=typeof i?i:n.options.shouldHandleMethod(t,e,r)?n.getFuncHook(t,e,r).bind(t):i}catch(e){return t[r]}},set:function(r,o,i,a){try{return n.options.shouldReportPropertySet(r,e,o)&&n.report({apiId:n.options.getApiId(),apiName:(e?e+".":"")+o+".set",property:o,args:[i],pid:t,ret:"ok"}),Reflect.set(r,o,i,a)}catch(e){try{return r[o]=i,!0}catch(e){return console.error("proxy handler set property error",o,r),!1}}}}},e.prototype.dealTargetWithDefineProperty=function(e,t,n){var r=this;if("function"==typeof e.then&&!Reflect.ownKeys(e.__proto__).includes("then"))return e;var o={};return a.default.getObjectKeys(e).forEach((function(i){var a=Reflect.getOwnPropertyDescriptor(e,i)||{enumerable:!0,configurable:!0};Reflect.defineProperty(o,i,{get:function(){var n=e[i];return"function"!=typeof n?n:r.options.shouldHandleMethod(e,t,i)?r.getFuncHook(e,t,i).bind(e):n},set:function(o){r.options.shouldReportPropertySet(e,t,i)&&r.report({apiId:r.options.getApiId(),apiName:(t?t+".":"")+i+".set",property:i,args:[o],pid:n,ret:"ok"}),e[i]=o},enumerable:a.enumerable,configurable:a.configurable})})),o.__proto__=e.__proto__,o},e}();t.default=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=Object.prototype.hasOwnProperty,a=!1;t.default={truncatObjectProperty:function e(t,n){void 0===n&&(n=1);try{if(!t)return t;var r=_typeof(t);if("string"===r)return function(e){return e?e.length>o.TruncatLen?e.slice(0,o.TruncatLen)+"...":e:String(e)}(t);if("function"===r)return"function";if("object"==_typeof(t)){var i=Array.isArray(t),a=i?[]:{};return n>2?_typeof(t):(Object.keys(t).forEach((function(r){var o=e(t[r],n+1);i?a.push(o):a[r]=o})),a)}}catch(e){return console.error("truncatObjectProperty error",e),"parse error:"+e.message}return t},checkCanBeProxy:function(e){if(a)return!0;if("function"!=typeof Proxy)return!1;if(Object.prototype.toString.call(new Proxy({},{}))!==Object.prototype.toString.call({}))return console.warn("Proxy toString 与 Object toString 不同"),!1;var t=function(){this.name="name"},n=new t,o=new Proxy(n,{});return o instanceof t&&o.__proto__===n.__proto__?0===Reflect.ownKeys(o).length?(console.warn("Proxy对象同原对象属性不同"),!1):0===Reflect.ownKeys(r({},o)).length?(console.warn("Proxy对象不能被展开"),!1):(a=!0,!0):(console.warn("Proxy对象同原对象类型不同"),!1)},checkCanBeDeal:function(e){return!!e&&"object"==_typeof(e)&&!function(e){return"object"==_typeof(e)&&(!!Array.isArray(e)||(e instanceof ArrayBuffer||!!ArrayBuffer.isView(e)))}(e)&&"[object Date]"!==Object.prototype.toString.call(e)},getNewProxyWithTryCatch:function(e,t){try{return new Proxy(e,t)}catch(t){return console.warn("get new proxy warning",t.message),e}},getObjectKeys:function(e){var t={},n=[];for(t.__proto__=e;t.__proto__&&!i.call(t.__proto__,"hasOwnProperty");)t=t.__proto__,n=n.concat(Reflect.ownKeys(t));return n}}}]).default,__waServiceInit__=function(){var e=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1);e.exports={getCloudAPI:function(e){return r}}},function(e,t,n){e.exports=function(){var e={559:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}e=n.nmd(e);var o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",c="[object Boolean]",s="[object Date]",u="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object Promise]",v="[object RegExp]",g="[object Set]",y="[object String]",_="[object Symbol]",b="[object WeakMap]",m="[object ArrayBuffer]",w="[object DataView]",S="[object Float32Array]",O="[object Float64Array]",C="[object Int8Array]",I="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",k="[object Uint8ClampedArray]",A="[object Uint16Array]",x="[object Uint32Array]",P=/\w*$/,j=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[m]=D[w]=D[c]=D[s]=D[S]=D[O]=D[C]=D[I]=D[E]=D[f]=D[d]=D[p]=D[v]=D[g]=D[y]=D[_]=D[T]=D[k]=D[A]=D[x]=!0,D["[object Error]"]=D[u]=D[b]=!1;var R="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,M="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,B=R||M||Function("return this")(),L="object"==r(t)&&t&&!t.nodeType&&t,F=L&&"object"==r(e)&&e&&!e.nodeType&&e,U=F&&F.exports===L;function q(e,t){return e.set(t[0],t[1]),e}function W(e,t){return e.add(t),e}function V(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Y(e,t){return function(n){return e(t(n))}}function $(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var z,K=Array.prototype,J=Function.prototype,X=Object.prototype,Q=B["__core-js_shared__"],Z=(z=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",ee=J.toString,te=X.hasOwnProperty,ne=X.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=U?B.Buffer:void 0,ie=B.Symbol,ae=B.Uint8Array,ce=Y(Object.getPrototypeOf,Object),se=Object.create,ue=X.propertyIsEnumerable,le=K.splice,fe=Object.getOwnPropertySymbols,de=oe?oe.isBuffer:void 0,pe=Y(Object.keys,Object),he=Be(B,"DataView"),ve=Be(B,"Map"),ge=Be(B,"Promise"),ye=Be(B,"Set"),_e=Be(B,"WeakMap"),be=Be(Object,"create"),me=We(he),we=We(ve),Se=We(ge),Oe=We(ye),Ce=We(_e),Ie=ie?ie.prototype:void 0,Ee=Ie?Ie.valueOf:void 0;function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){this.__data__=new ke(e)}function Pe(e,t,n){var r=e[t];te.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function je(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Ne(e,t,n,r,o,i,h){var b;if(r&&(b=i?r(e,o,i,h):r(e)),void 0!==b)return b;if(!ze(e))return e;var j=Ge(e);if(j){if(b=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,b)}else{var N=Fe(e),R=N==u||N==l;if(Ye(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(N==p||N==a||R&&!i){if(G(e))return i?e:{};if(b=function(e){return"function"!=typeof e.constructor||qe(e)?{}:ze(t=ce(e))?se(t):{};var t}(R?{}:e),!t)return function(e,t){return Re(e,Le(e),t)}(e,function(e,t){return e&&Re(t,Ke(t),e)}(b,e))}else{if(!D[N])return i?e:{};b=function(e,t,n,r){var o,i=e.constructor;switch(t){case m:return De(e);case c:case s:return new i(+e);case w:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case S:case O:case C:case I:case E:case T:case k:case A:case x:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case f:return function(e,t,n){return V(t?n(H(e),!0):H(e),q,new e.constructor)}(e,r,n);case d:case y:return new i(e);case v:return function(e){var t=new e.constructor(e.source,P.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,n){return V(t?n($(e),!0):$(e),W,new e.constructor)}(e,r,n);case _:return o=e,Ee?Object(Ee.call(o)):{}}}(e,N,Ne,t)}}h||(h=new xe);var M=h.get(e);if(M)return M;if(h.set(e,b),!j)var B=n?function(e){return function(e,t,n){var r=t(e);return Ge(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ke,Le)}(e):Ke(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(B||e,(function(o,i){B&&(o=e[i=o]),Pe(b,i,Ne(o,t,n,r,i,e,h))})),b}function De(e){var t=new e.constructor(e.byteLength);return new ae(t).set(new ae(e)),t}function Re(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;Pe(n,a,void 0===c?e[a]:c)}return n}function Me(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Be(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ze(e)||(t=e,Z&&Z in t))&&($e(e)||G(e)?re:j).test(We(e));var t}(n)?n:void 0}Te.prototype.clear=function(){this.__data__=be?be(null):{}},Te.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Te.prototype.get=function(e){var t=this.__data__;if(be){var n=t[e];return n===o?void 0:n}return te.call(t,e)?t[e]:void 0},Te.prototype.has=function(e){var t=this.__data__;return be?void 0!==t[e]:te.call(t,e)},Te.prototype.set=function(e,t){return this.__data__[e]=be&&void 0===t?o:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=je(t,e);return!(n<0||(n==t.length-1?t.pop():le.call(t,n,1),0))},ke.prototype.get=function(e){var t=this.__data__,n=je(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return je(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=je(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Te,map:new(ve||ke),string:new Te}},Ae.prototype.delete=function(e){return Me(this,e).delete(e)},Ae.prototype.get=function(e){return Me(this,e).get(e)},Ae.prototype.has=function(e){return Me(this,e).has(e)},Ae.prototype.set=function(e,t){return Me(this,e).set(e,t),this},xe.prototype.clear=function(){this.__data__=new ke},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!ve||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var Le=fe?Y(fe,Object):function(){return[]},Fe=function(e){return ne.call(e)};function Ue(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function We(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(he&&Fe(new he(new ArrayBuffer(1)))!=w||ve&&Fe(new ve)!=f||ge&&Fe(ge.resolve())!=h||ye&&Fe(new ye)!=g||_e&&Fe(new _e)!=b)&&(Fe=function(e){var t=ne.call(e),n=t==p?e.constructor:void 0,r=n?We(n):void 0;if(r)switch(r){case me:return w;case we:return f;case Se:return h;case Oe:return g;case Ce:return b}return t});var Ge=Array.isArray;function He(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!$e(e)}var Ye=de||function(){return!1};function $e(e){var t=ze(e)?ne.call(e):"";return t==u||t==l}function ze(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function Ke(e){return He(e)?function(e,t){var n=Ge(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&He(e)}(e)&&te.call(e,"callee")&&(!ue.call(e,"callee")||ne.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,i=!!o;for(var c in e)!te.call(e,c)||i&&("length"==c||Ue(c,o))||n.push(c);return n}(e):function(e){if(!qe(e))return pe(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Ne(e,!0,!0)}},574:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o,i="__lodash_hash_undefined__",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,d=/^(?:0|[1-9]\d*)$/,p="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,h="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,v=p||h||Function("return this")(),g=Array.prototype,y=Function.prototype,_=Object.prototype,b=v["__core-js_shared__"],m=(o=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",w=y.toString,S=_.hasOwnProperty,O=_.toString,C=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=v.Symbol,E=g.splice,T=B(v,"Map"),k=B(Object,"create"),A=I?I.prototype:void 0,x=A?A.toString:void 0;function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e,t,n){var r=e[t];S.call(e,t)&&W(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function R(e,t){for(var n=e.length;n--;)if(W(e[n][0],t))return n;return-1}function M(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function B(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!G(e)||(t=e,m&&m in t))&&(function(e){var t=G(e)?O.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?C:f).test(function(e){if(null!=e){try{return w.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function L(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}P.prototype.clear=function(){this.__data__=k?k(null):{}},P.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},P.prototype.get=function(e){var t=this.__data__;if(k){var n=t[e];return n===i?void 0:n}return S.call(t,e)?t[e]:void 0},P.prototype.has=function(e){var t=this.__data__;return k?void 0!==t[e]:S.call(t,e)},P.prototype.set=function(e,t){return this.__data__[e]=k&&void 0===t?i:t,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(e){var t=this.__data__,n=R(t,e);return!(n<0||(n==t.length-1?t.pop():E.call(t,n,1),0))},j.prototype.get=function(e){var t=this.__data__,n=R(t,e);return n<0?void 0:t[n][1]},j.prototype.has=function(e){return R(this.__data__,e)>-1},j.prototype.set=function(e,t){var n=this.__data__,r=R(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new P,map:new(T||j),string:new P}},N.prototype.delete=function(e){return M(this,e).delete(e)},N.prototype.get=function(e){return M(this,e).get(e)},N.prototype.has=function(e){return M(this,e).has(e)},N.prototype.set=function(e,t){return M(this,e).set(e,t),this};var F=q((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(H(e))return x?x.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(u,(function(e,t,r,o){n.push(r?o.replace(l,"$1"):t||e)})),n}));function U(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function q(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(q.Cache||N),n}function W(e,t){return e===t||e!=e&&t!=t}q.Cache=N;var V=Array.isArray;function G(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function H(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==O.call(e)}e.exports=function(e,t,n){return null==e?e:function(e,t,n,o){if(!G(e))return e;for(var i=-1,s=(t=function(e,t){if(V(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!H(e))||c.test(e)||!a.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return V(e)?e:F(e)}(t)).length,u=s-1,l=e;null!=l&&++i<s;){var f=U(t[i]),d=n;if(i!=u){var p=l[f];void 0===(d=void 0)&&(d=G(p)?p:L(t[i+1])?[]:{})}D(l,f,d),l=l[f]}return e}(e,t,n)}},238:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o,i="__lodash_hash_undefined__",a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,s=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,d="object"==(void 0===n.g?"undefined":r(n.g))&&n.g&&n.g.Object===Object&&n.g,p="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,h=d||p||Function("return this")(),v=Array.prototype,g=Function.prototype,y=Object.prototype,_=h["__core-js_shared__"],b=(o=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"",m=g.toString,w=y.hasOwnProperty,S=y.toString,O=RegExp("^"+m.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=h.Symbol,I=v.splice,E=M(h,"Map"),T=M(Object,"create"),k=C?C.prototype:void 0,A=k?k.toString:void 0;function x(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function P(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function D(e){return q(e)?e:L(e)}function R(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function M(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!W(e)||(t=e,b&&b in t))&&(function(e){var t=W(e)?S.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:f).test(function(e){if(null!=e){try{return m.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function B(e,t){if(q(e))return!1;var n=r(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!V(e))||c.test(e)||!a.test(e)||null!=t&&e in Object(t)}x.prototype.clear=function(){this.__data__=T?T(null):{}},x.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},x.prototype.get=function(e){var t=this.__data__;if(T){var n=t[e];return n===i?void 0:n}return w.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return T?void 0!==t[e]:w.call(t,e)},x.prototype.set=function(e,t){return this.__data__[e]=T&&void 0===t?i:t,this},P.prototype.clear=function(){this.__data__=[]},P.prototype.delete=function(e){var t=this.__data__,n=N(t,e);return!(n<0||(n==t.length-1?t.pop():I.call(t,n,1),0))},P.prototype.get=function(e){var t=this.__data__,n=N(t,e);return n<0?void 0:t[n][1]},P.prototype.has=function(e){return N(this.__data__,e)>-1},P.prototype.set=function(e,t){var n=this.__data__,r=N(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},j.prototype.clear=function(){this.__data__={hash:new x,map:new(E||P),string:new x}},j.prototype.delete=function(e){return R(this,e).delete(e)},j.prototype.get=function(e){return R(this,e).get(e)},j.prototype.has=function(e){return R(this,e).has(e)},j.prototype.set=function(e,t){return R(this,e).set(e,t),this};var L=U((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(V(e))return A?A.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return s.test(e)&&n.push(""),e.replace(u,(function(e,t,r,o){n.push(r?o.replace(l,"$1"):t||e)})),n}));function F(e){if("string"==typeof e||V(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function U(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(U.Cache||j),n}U.Cache=j;var q=Array.isArray;function W(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function V(e){return"symbol"==r(e)||function(e){return!!e&&"object"==r(e)}(e)&&"[object Symbol]"==S.call(e)}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=B(t,e)?[t]:D(t)).length;null!=e&&n<r;)e=e[F(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))}(e,t=B(t,e)?[t]:D(t));var n,r,o=F((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&w.call(e,o))||delete e[o]}(e,t)}},588:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===v){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var s=f(e,t,n);if("normal"===s.type){if(r=n.done?v:p,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=v,n.method="throw",n.arg=s.arg)}}}(e,n,a),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",p="suspendedYield",h="executing",v="completed",g={};function y(){}function _(){}function b(){}var m={};m[a]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(x([])));S&&S!==n&&o.call(S,a)&&(m=S);var O=b.prototype=y.prototype=Object.create(m);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,c,s){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"===r(d)&&o.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=f(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function x(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:P}}function P(){return{value:t,done:!0}}return _.prototype=O.constructor=b,b.constructor=_,_.displayName=u(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},C(I.prototype),I.prototype[c]=function(){return this},e.AsyncIterator=I,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new I(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(O),u(O,s,"Generator"),O[a]=function(){return this},O.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}("object"===r(e=n.nmd(e))?e.exports:{});try{regeneratorRuntime=o}catch(e){Function("r","regeneratorRuntime = r")(o)}},902:function(e,t,n){"use strict";n.d(t,{default:function(){return Mi}});var r={};n.r(r),n.d(r,{LineString:function(){return qe},MultiLineString:function(){return tt},MultiPoint:function(){return Je},MultiPolygon:function(){return at},Point:function(){return gt},Polygon:function(){return Ye}});var o={};n.r(o),n.d(o,{get:function(){return li},post:function(){return di},put:function(){return hi}});var i={};function a(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function c(e){a(i,r,o,c,s,"next",e)}function s(e){a(i,r,o,c,s,"throw",e)}c(void 0)}))}}n.r(i),n.d(i,{callFunction:function(){return Ci},database:function(){return Ri},deleteFile:function(){return Ei},downloadFile:function(){return Ai},getTempFileURL:function(){return Ii},getUploadMetadata:function(){return Ti},init:function(){return Oi},invokeExtension:function(){return Ni},registerExtension:function(){return ji},requestClient:function(){return wi},uploadFile:function(){return ki}});var s={};function u(e,t){return l.apply(this,arguments)}function l(){return(l=c(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(r=qq)||void 0===r?void 0:r.setStorageSync)){e.next=3;break}return qq.setStorageSync(t,n),e.abrupt("return");case 3:s[t]=n;case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=qq)||void 0===n?void 0:n.removeStorageSync)){e.next=3;break}return qq.removeStorageSync(t),e.abrupt("return");case 3:delete s[t];case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=c(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===(n=qq)||void 0===n?void 0:n.getStorageSync)){e.next=3;break}return r=qq.getStorageSync(t),e.abrupt("return",r);case 3:return e.abrupt("return",s[t]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("[@cloudbase/qq-sdk] 请设置env");case 2:if(qq&&qq.getCloudTicket){e.next=4;break}throw new Error("[@cloudbase/qq-sdk] 请在QQ小程序中使用并升级到最新的基础库版本");case 4:if(t){e.next=6;break}throw new Error("[@cloudbase/qq-sdk] 未指定云环境，请先执行init方法或填入env字段");case 6:return e.next=8,new Promise((function(e,n){qq.getCloudTicket({envId:t,success:function(t){e(t)},fail:function(e){var t;n(new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(null===(t=e.errMsg)||void 0===t?void 0:t.replace("getCloudTicket:fail ",""))))}})}));case 8:if((n=e.sent)&&n.ticket){e.next=11;break}throw new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat((null==n?void 0:n.code)||"获取失败"));case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return _.apply(this,arguments)}function _(){return(_=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var r=_extends(t,{success:function(t){(null==t?void 0:t.code)?n(t):e(t)},fail:function(e){n(e)}});qq.request(r)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){b(i,r,o,a,c,"next",e)}function c(e){b(i,r,o,a,c,"throw",e)}a(void 0)}))}}function w(e){return S.apply(this,arguments)}function S(){return(S=m(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="qq_ticket_".concat(t),e.next=3,p(n);case 3:if(!(r=e.sent)){e.next=10;break}if(o=parseInt(r.split(";")[1]),!(Date.now()<o)){e.next=8;break}return e.abrupt("return",r.split(";")[0]);case 8:return e.next=10,f(n);case 10:return e.next=12,v(t);case 12:return i=e.sent,a=i.ticket,c=i.createTime,s=void 0===c?Math.floor(Date.now()/1e3):c,l=i.period,d=1e3*(s+(void 0===l?7e3:l)),e.next=17,u(n,"".concat(a,";").concat(d));case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={SUCCESS:0,SYS_ERR:-501001,SERVER_TIMEOUT:-501002,EXCEED_REQUEST_LIMIT:-501003,EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,INVALIID_ENV:-501005,INVALID_COMMON_PARAM:-501006,INVALID_PARAM:-501007,INVALID_REQUEST_SOURCE:-501008,RESOURCE_NOT_INITIAL:-501009,DATABASE_REQUEST_FAILED:-502001,DATABASE_INVALID_OPERRATOR:-502002,DATABASE_PERMISSION_DENIED:-502003,DATABASE_COLLECTION_EXCEED_LIMIT:-502004,DATABASE_COLLECTION_NOT_EXIST:-502005,STORAGE_REQUEST_FAIL:-503001,STORAGE_EXCEED_AUTHORITY:-503002,STORAGE_FILE_NONEXIST:-503003,STORAGE_SIGN_PARAM_INVALID:-503004,FUNCTIONS_REQUEST_FAIL:-504001,FUNCTIONS_EXECUTE_FAIL:-504002};function C(e){return e.code&&"SUCCESSS"!==e.code.toUpperCase()||(e.status=0,e.errMsg="ok"),e.requestID=e.requestId,e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){T(i,r,o,a,c,"next",e)}function c(e){T(i,r,o,a,c,"throw",e)}a(void 0)}))}}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"config",void 0),this.config=t}var t,n,r;return t=e,(n=[{key:"request",value:function(){var e=k(regeneratorRuntime.mark((function e(t,n,r){var o,i,a,c,s,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="application/x-www-form-urlencoded",e.next=3,w(this.config.env);case 3:if(i=e.sent,a=E({action:t,loginType:"QQ-MINI",ticket:i,env:this.config.env,dataVersion:"2019-08-16"},n),"storage.uploadFile"===t){for(s in c=new FormData)c.hasOwnProperty(s)&&void 0!==c[s]&&c.append(s,a[s]);o="multipart/form-data"}else o="application/json;charset=UTF-8",c=a;return u={headers:{"content-type":o}},(null==r?void 0:r.onUploadProgress)&&(u.onUploadProgress=r.onUploadProgress),l="".concat("https://tcb-api.tencentcloudapi.com/web","?env=").concat(this.config.env),e.next=11,y({url:l,data:a,header:{"content-type":o,"X-SDK-Version":"tcb-qq-sdk/".concat("1.0.3")},method:"post"});case 11:if(f=e.sent,200===Number(f.statusCode)&&f.data){e.next=14;break}throw new Error("network request error");case 14:return e.abrupt("return",f);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"send",value:(r=k(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(t,n,{onUploadProgress:n.onUploadProgress});case 2:if(!(r=e.sent).data.code){e.next=6;break}throw E({},(o=r.data).code?{errCode:O[o.code]||O.SYS_ERR,errMsg:"fail ".concat(o.message),requestID:o.requestId}:o);case 6:return e.abrupt("return",C(r.data));case 7:case"end":return e.stop()}var o}),e,this)}))),function(e,t){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}(),P={};function j(e,t){return(null==e?void 0:e.env)?e.env:P[t]||P.env}function N(e){return(N="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function D(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){M(i,r,o,a,c,"next",e)}function c(e){M(i,r,o,a,c,"throw",e)}a(void 0)}))}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F="storage",U=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"preTask",void 0),L(this,"realTask",void 0),L(this,"aborted",void 0),L(this,"initedCallback",void 0),L(this,"onProgressUpdateArr",void 0),L(this,"offProgressUpdateArr",void 0),L(this,"onHeadersReceivedArr",void 0),L(this,"offHeadersReceivedArr",void 0),this.onProgressUpdateArr=[],this.offProgressUpdateArr=[],this.onHeadersReceivedArr=[],this.offHeadersReceivedArr=[]}var t;return(t=[{key:"abort",value:function(){this.aborted=!0}},{key:"onProgressUpdate",value:function(e){var t;this.onProgressUpdateArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.onProgressUpdate(e))}},{key:"offProgressUpdate",value:function(e){var t;this.offProgressUpdateArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.offProgressUpdate(e))}},{key:"onHeadersReceived",value:function(e){var t;this.onHeadersReceivedArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.onHeadersReceived(e))}},{key:"offHeadersReceived",value:function(e){var t;this.offHeadersReceivedArr.push(e),this.initedCallback&&(null===(t=this.realTask)||void 0===t||t.offHeadersReceived(e))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function q(){return(q=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileList,r=t.config,n&&Array.isArray(n)){e.next=3;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 3:o=D(n),e.prev=4,o.s();case 6:if((i=o.n()).done){e.next=12;break}if((a=i.value)&&"string"==typeof a){e.next=10;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:return c={fileid_list:n},s={env:j(r,F)},u=new x(s),e.next=26,u.send("storage.batchDeleteFile",c);case 26:if(!(l=e.sent).code){e.next=29;break}return e.abrupt("return",l);case 29:return Array.isArray(l.data.delete_list)&&l.data.delete_list.map((function(e){return O[e.code]?{fileID:e.fileID,status:O[e.code],errMsg:e.code}:e})),e.abrupt("return",{fileList:l.data.delete_list,requestId:l.requestId});case 31:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})))).apply(this,arguments)}function W(e){return V.apply(this,arguments)}function V(){return(V=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fileList,r=t.config,n&&Array.isArray(n)){e.next=3;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 3:o=[],i=D(n),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=22;break}if("object"!==N(c=a.value)){e.next=15;break}if(c.hasOwnProperty("fileID")&&c.hasOwnProperty("maxAge")){e.next=12;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"});case 12:o.push({fileid:c.fileID,max_age:c.maxAge}),e.next=20;break;case 15:if("string"!=typeof c){e.next=19;break}o.push({fileid:c}),e.next=20;break;case 19:return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});case 20:e.next=7;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(5),i.e(e.t0);case 27:return e.prev=27,i.f(),e.finish(27);case 30:return s={file_list:o},u={env:j(r,F)},l=new x(u),e.next=36,l.send("storage.batchGetDownloadUrl",s);case 36:if(!(f=e.sent).code){e.next=39;break}return e.abrupt("return",f);case 39:return Array.isArray(f.data.download_list)&&f.data.download_list.map((function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL,status:"SUCCESS"===e.code?0:O[e.code]||e.code,errMsg:"SUCCESS"===e.code?"getTempFileURL:ok":"getTempFileURL:fail ".concat(e.code)}})),e.abrupt("return",{fileList:f.data.download_list,requestId:f.requestId});case 41:case"end":return e.stop()}}),e,null,[[5,24,27,30]])})))).apply(this,arguments)}function G(){return(G=B(regeneratorRuntime.mark((function e(t){var n,r,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.cloudPath,r=t.config,o={env:j(r,F)},i=new x(o),e.next=6,i.send("storage.getUploadMetadata",{path:n});case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){H(i,r,o,a,c,"next",e)}function c(e){H(i,r,o,a,c,"throw",e)}a(void 0)}))}}var $,z,K="functions";function J(){return(J=Y(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.name,r=t.data,o=t.config,e.prev=1,r=r?JSON.stringify(r):"{}",e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 8:if(n){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("函数名不能为空")));case 10:return i={function_name:n,request_data:r},a={env:j(o,K)},c=new x(a),e.next=16,c.send("functions.invokeFunction",i);case 16:if(!(s=e.sent).code){e.next=19;break}return e.abrupt("return",s);case 19:return s.data.response_data,e.prev=20,u=JSON.parse(s.data.response_data),e.abrupt("return",{result:u,status:0,errMsg:"ok",requestID:s.requestID});case 25:throw e.prev=25,e.t1=e.catch(20),new Error("[@cloudbase/qq-sdk] response data must be json");case 28:case"end":return e.stop()}}),e,null,[[1,5],[20,25]])})))).apply(this,arguments)}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(z||(z={}));var Q,Z,ee="GeoPoint",te="GeoLineString",ne="GeoPolygon",re="GeoMultiPoint",oe="GeoMultiLineString",ie="GeoMultiPolygon",ae="Date",ce="ServerDate",se=["desc","asc"],ue=["<","<=","==",">=",">"];function le(e){return(le="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(Q||(Q={})),X($={},Q.eq,"$eq"),X($,Q.lt,"$lt"),X($,Q.lte,"$lte"),X($,Q.gt,"$gt"),X($,Q.gte,"$gte"),function(e){e.WHERE="WHERE",e.DOC="DOC"}(Z||(Z={}));var ve=[],ge={},ye=function(e){!function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,(function e(t){he(this,e),Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:t}})}));var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pe(n);if(r){var o=pe(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return de(this,e)});function i(e,t){if(he(this,i),t!==ge)throw new TypeError("InternalSymbol cannot be constructed with new operator");return o.call(this,e)}return(t=[{key:"for",value:function(e){for(var t=0,n=ve.length;t<n;t++)if(ve[t].target===e)return ve[t].instance;var r=new i(e,ge);return ve.push({target:e,instance:r}),r}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i,t),i}(),_e=ye,be=_e.for("UNSET_FIELD_NAME"),me=_e.for("UPDATE_COMMAND"),we=_e.for("QUERY_COMMAND"),Se=_e.for("LOGIC_COMMAND"),Oe=_e.for("GEO_POINT"),Ce=_e.for("SYMBOL_GEO_LINE_STRING"),Ie=_e.for("SYMBOL_GEO_POLYGON"),Ee=_e.for("SYMBOL_GEO_MULTI_POINT"),Te=_e.for("SYMBOL_GEO_MULTI_LINE_STRING"),ke=_e.for("SYMBOL_GEO_MULTI_POLYGON"),Ae=_e.for("SERVER_DATE"),xe=_e.for("REGEXP"),Pe=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},je=function(e){return"object"===Pe(e)},Ne=function(e){return"number"===Pe(e)},De=function(e){return Array.isArray(e)},Re=function(e){return"date"===Pe(e)},Me=function(e){return"regexp"===Pe(e)},Be=function(e){return e&&e._internalType instanceof ye};function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qe=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!De(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Fe(t)));if(t.length<2)throw new Error('"points" must contain 2 points at least');t.forEach((function(e){if(!(e instanceof gt))throw new TypeError('"points" must be of type Point[]. Received type '.concat(Fe(e),"[]"))})),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("LineString"!==e.type||!De(e.coordinates))return!1;var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ne(r[0])||!Ne(r[1]))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"isClosed",value:function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))})}},{key:"toJSON",value:function(){return{type:"LineString",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}}},{key:"_internalType",get:function(){return Ce}}])&&Ue(t.prototype,n),r&&Ue(t,r),e}();function We(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ge(e){return(Ge="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ye=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!De(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ge(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach((function(e){if(!(e instanceof qe))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ge(e),"[]"));if(!qe.isClosed(e))throw new Error("LineString ".concat(e.points.map((function(e){return e.toReadableString()}))," is not a closed cycle"))})),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("Polygon"!==e.type||!De(e.coordinates))return!1;var t,n=We(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!this.isCloseLineString(r))return!1;var o,i=We(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!Ne(a[0])||!Ne(a[1]))return!1}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}},{key:"isCloseLineString",value:function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))})}},{key:"toJSON",value:function(){return{type:"Polygon",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}}},{key:"_internalType",get:function(){return ke}}])&&He(t.prototype,n),r&&He(t,r),e}();function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ze(e){return(ze="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Je=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!De(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(ze(t)));if(0===t.length)throw new Error('"points" must contain 1 point at least');t.forEach((function(e){if(!(e instanceof gt))throw new TypeError('"points" must be of type Point[]. Received type '.concat(ze(e),"[]"))})),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPoint"!==e.type||!De(e.coordinates))return!1;var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$e(e,t):void 0}}(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ne(r[0])||!Ne(r[1]))return!1}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))})}},{key:"toJSON",value:function(){return{type:"MultiPoint",coordinates:this.points.map((function(e){return e.toJSON().coordinates}))}}},{key:"_internalType",get:function(){return Ee}}])&&Ke(t.prototype,n),r&&Ke(t,r),e}();function Xe(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var tt=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!De(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ze(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach((function(e){if(!(e instanceof qe))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Ze(e),"[]"))})),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiLineString"!==e.type||!De(e.coordinates))return!1;var t,n=Xe(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r,o=Xe(t.value);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(!Ne(i[0])||!Ne(i[1]))return!1}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))})}},{key:"toJSON",value:function(){return{type:"MultiLineString",coordinates:this.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}}},{key:"_internalType",get:function(){return Te}}])&&et(t.prototype,n),r&&et(t,r),e}();function nt(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return rt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var at=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!De(t))throw new TypeError('"polygons" must be of type Polygon[]. Received type '.concat(ot(t)));if(0===t.length)throw new Error("MultiPolygon must contain 1 polygon at least");var n,r=nt(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(!(o instanceof Ye))throw new TypeError('"polygon" must be of type Polygon[]. Received type '.concat(ot(o),"[]"))}}catch(e){r.e(e)}finally{r.f()}this.polygons=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPolygon"!==e.type||!De(e.coordinates))return!1;var t,n=nt(e.coordinates);try{for(n.s();!(t=n.n()).done;){var r,o=nt(t.value);try{for(o.s();!(r=o.n()).done;){var i,a=nt(r.value);try{for(a.s();!(i=a.n()).done;){var c=i.value;if(!Ne(c[0])||!Ne(c[1]))return!1}}catch(e){a.e(e)}finally{a.f()}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){n.e(e)}finally{n.f()}return!0}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))})}},{key:"toJSON",value:function(){return{type:"MultiPolygon",coordinates:this.polygons.map((function(e){return e.lines.map((function(e){return e.points.map((function(e){return[e.longitude,e.latitude]}))}))}))}}},{key:"_internalType",get:function(){return Ie}}])&&it(t.prototype,n),r&&it(t,r),e}();function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var st=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.offset,r=void 0===n?0:n;ct(this,e),this.offset=r}var t;return(t=[{key:"parse",value:function(){return{$date:{offset:this.offset}}}},{key:"_internalType",get:function(){return Ae}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ut(e){return new st(e)}function lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};dt.formatResDocumentData=function(e){return e.map((function(e){return dt.formatField(e)}))},dt.formatField=function(e){var t=Object.keys(e),n={};return Array.isArray(e)&&(n=[]),t.forEach((function(t){var r,o=e[t];switch(dt.whichType(o)){case ee:r=new gt(o.coordinates[0],o.coordinates[1]);break;case te:r=new qe(o.coordinates.map((function(e){return new gt(e[0],e[1])})));break;case ne:r=new Ye(o.coordinates.map((function(e){return new qe(e.map((function(e){var t=lt(e,2),n=t[0],r=t[1];return new gt(n,r)})))})));break;case re:r=new Je(o.coordinates.map((function(e){return new gt(e[0],e[1])})));break;case oe:r=new tt(o.coordinates.map((function(e){return new qe(e.map((function(e){var t=lt(e,2),n=t[0],r=t[1];return new gt(n,r)})))})));break;case ie:r=new at(o.coordinates.map((function(e){return new Ye(e.map((function(e){return new qe(e.map((function(e){var t=lt(e,2),n=t[0],r=t[1];return new gt(n,r)})))})))})));break;case ae:r=new Date(1e3*o.$timestamp);break;case"Object":case"Array":r=dt.formatField(o);break;case ce:r=new Date(o.$date);break;default:r=o}Array.isArray(n)?n.push(r):n[t]=r})),n},dt.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===ae)return"BsonDate";if("Object"===t){if(e instanceof gt)return ee;if(e instanceof Date)return ae;if(e instanceof st)return ce;e.$timestamp?t=ae:e.$date?t=ce:gt.validate(e)?t=ee:qe.validate(e)?t=te:Ye.validate(e)?t=ne:Je.validate(e)?t=re:tt.validate(e)?t=oe:at.validate(e)&&(t=ie)}return t},dt.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};var pt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t;return(t=[{key:"isGeopoint",value:function(e,t){if("Number"!==dt.whichType(t))throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0}},{key:"isInteger",value:function(e,t){if(!Number.isInteger(t))throw new Error(e+z.IntergerError);return!0}},{key:"isFieldOrder",value:function(e){if(-1===se.indexOf(e))throw new Error(z.DirectionError);return!0}},{key:"isFieldPath",value:function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0}},{key:"isOperator",value:function(e){if(-1===ue.indexOf(e))throw new Error(z.OpStrError);return!0}},{key:"isCollName",value:function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(z.CollNameError);return!0}},{key:"isDocID",value:function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(z.DocIDError);return!0}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,t),e}();function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var vt,gt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),pt.isGeopoint("longitude",t),pt.isGeopoint("latitude",n),this.longitude=t,this.latitude=n}var t,n,r;return t=e,r=[{key:"validate",value:function(e){return"Point"===e.type&&De(e.coordinates)&&pt.isGeopoint("longitude",e.coordinates[0])&&pt.isGeopoint("latitude",e.coordinates[1])}}],(n=[{key:"parse",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,{type:"Point",coordinates:[this.longitude,this.latitude]})}},{key:"toJSON",value:function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}}},{key:"toReadableString",value:function(){return"[".concat(this.longitude,",").concat(this.latitude,"]")}},{key:"_internalType",get:function(){return Oe}}])&&ht(t.prototype,n),r&&ht(t,r),e}(),yt=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise((function(t,n){e=function(e,r){return e?n(e):t(r)}}));return e.promise=n,e};!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(vt||(vt={}));var _t,bt=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=me,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||be}var t;return(t=[{key:"_setFieldName",value:function(t){return new e(this.operator,this.operands,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function mt(e){return e&&e instanceof bt&&e._internalType===me}!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(_t||(_t={}));var wt,St=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=Se,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||be,this.fieldName!==be)if(Array.isArray(n)){n=n.slice(),this.operands=n;for(var o=0,i=n.length;o<i;o++){var a=n[o];(Ot(a)||xt(a))&&(n[o]=a._setFieldName(this.fieldName))}}else{var c=n;(Ot(c)||xt(c))&&(n=c._setFieldName(this.fieldName))}}var t;return(t=[{key:"_setFieldName",value:function(t){var n=this.operands.map((function(n){return n instanceof e?n._setFieldName(t):n}));return new e(this.operator,n,t)}},{key:"and",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(_t.AND,o,this.fieldName)}},{key:"or",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(_t.OR,o,this.fieldName)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Ot(e){return e&&e instanceof St&&e._internalType===Se}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e,t){return!t||"object"!==Ct(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(wt||(wt={}));var At=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=kt(n);if(r){var o=kt(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Tt(this,e)});function i(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=o.call(this,e,t,n)).operator=e,r._internalType=we,r}return(t=[{key:"toJSON",value:function(){switch(this.operator){case wt.IN:case wt.NIN:return It({},"$"+this.operator,this.operands);default:return It({},"$"+this.operator,this.operands[0])}}},{key:"_setFieldName",value:function(e){return new i(this.operator,this.operands,e)}},{key:"eq",value:function(e){var t=new i(wt.EQ,[e],this.fieldName);return this.and(t)}},{key:"neq",value:function(e){var t=new i(wt.NEQ,[e],this.fieldName);return this.and(t)}},{key:"gt",value:function(e){var t=new i(wt.GT,[e],this.fieldName);return this.and(t)}},{key:"gte",value:function(e){var t=new i(wt.GTE,[e],this.fieldName);return this.and(t)}},{key:"lt",value:function(e){var t=new i(wt.LT,[e],this.fieldName);return this.and(t)}},{key:"lte",value:function(e){var t=new i(wt.LTE,[e],this.fieldName);return this.and(t)}},{key:"in",value:function(e){var t=new i(wt.IN,e,this.fieldName);return this.and(t)}},{key:"nin",value:function(e){var t=new i(wt.NIN,e,this.fieldName);return this.and(t)}},{key:"geoNear",value:function(e){if(!(e.geometry instanceof gt))throw new TypeError('"geometry" must be of type Point. Received type '.concat(Ct(e.geometry)));if(void 0!==e.maxDistance&&!Ne(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '.concat(Ct(e.maxDistance)));if(void 0!==e.minDistance&&!Ne(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '.concat(Ct(e.minDistance)));var t=new i(wt.GEO_NEAR,[e],this.fieldName);return this.and(t)}},{key:"geoWithin",value:function(e){if(!(e.geometry instanceof at||e.geometry instanceof Ye))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '.concat(Ct(e.geometry)));var t=new i(wt.GEO_WITHIN,[e],this.fieldName);return this.and(t)}},{key:"geoIntersects",value:function(e){if(!(e.geometry instanceof gt||e.geometry instanceof qe||e.geometry instanceof Ye||e.geometry instanceof Je||e.geometry instanceof tt||e.geometry instanceof at))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '.concat(Ct(e.geometry)));var t=new i(wt.GEO_INTERSECTS,[e],this.fieldName);return this.and(t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}(St);function xt(e){return e&&e instanceof At&&e._internalType===we}function Pt(e){return xt(e)}var jt={};for(var Nt in wt)jt[Nt]="$"+Nt;for(var Dt in _t)jt[Dt]="$"+Dt;for(var Rt in vt)jt[Rt]="$"+Rt;function Mt(e){return jt[e]||"$"+e}function Bt(e){return function(e){if(Array.isArray(e))return Lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ft(e){return function e(t,n){if(!Be(t)){if(Re(t))return{$date:+t};if(Me(t))return{$regex:t.source,$options:t.flags};if(De(t))return t.map((function(t){if(n.indexOf(t)>-1)throw new Error("Cannot convert circular structure to JSON");return e(t,[].concat(Bt(n),[t]))}));if(je(t)){var r=_extends({},t);for(var o in r){if(n.indexOf(r[o])>-1)throw new Error("Cannot convert circular structure to JSON");r[o]=e(r[o],[].concat(Bt(n),[r[o]]))}return r}return t}switch(t._internalType){case Oe:return t.toJSON();case Ae:case xe:return t.parse();default:return t.toJSON?t.toJSON():t}}(e,[e])}function Ut(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wt(e){return function e(t,n,r,o){var i=_extends({},t);for(var a in t)if(!/^\$/.test(a)){var c=t[a];if(c&&je(c)&&!n(c)){if(o.indexOf(c)>-1)throw new Error("Cannot convert circular structure to JSON");var s=e(c,n,[].concat(Ut(r),[a]),[].concat(Ut(o),[c]));i[a]=s;var u=!1;for(var l in s)/^\$/.test(l)?u=!0:(i["".concat(a,".").concat(l)]=s[l],delete i[a][l]);u||delete i[a]}}return i}(e,Gt,[],[e])}function Vt(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?De(e[r])?e[r].push(t[r]):je(e[r])?je(t[r])?_extends(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is ".concat(Pe(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(Pe(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}function Gt(e){return Be(e)||Re(e)||Me(e)}function Ht(e){return Ft(e)}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}jt[wt.NEQ]="$ne",jt[vt.REMOVE]="$unset",jt[vt.SHIFT]="$pop",jt[vt.UNSHIFT]="$push";var zt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(t){return(new e).encodeUpdate(t)}}],(n=[{key:"encodeUpdate",value:function(e){return mt(e)?this.encodeUpdateCommand(e):"object"===Pe(e)?this.encodeUpdateObject(e):e}},{key:"encodeUpdateCommand",value:function(e){if(e.fieldName===be)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case vt.PUSH:case vt.PULL:case vt.PULL_ALL:case vt.POP:case vt.SHIFT:case vt.UNSHIFT:case vt.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}}},{key:"encodeFieldUpdateCommand",value:function(e){var t=Mt(e.operator);switch(e.operator){case vt.REMOVE:return Yt({},t,Yt({},e.fieldName,""));default:return Yt({},t,Yt({},e.fieldName,e.operands[0]))}}},{key:"encodeArrayUpdateCommand",value:function(e){var t=Mt(e.operator);switch(e.operator){case vt.PUSH:var n;return n=De(e.operands)?{$each:e.operands.map(Ht)}:e.operands,Yt({},t,Yt({},e.fieldName,n));case vt.UNSHIFT:var r={$each:e.operands.map(Ht),$position:0};return Yt({},t,Yt({},e.fieldName,r));case vt.POP:return Yt({},t,Yt({},e.fieldName,1));case vt.SHIFT:return Yt({},t,Yt({},e.fieldName,-1));default:return Yt({},t,Yt({},e.fieldName,Ht(e.operands)))}}},{key:"encodeUpdateObject",value:function(e){var t=Wt(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(mt(r))t[n]=r._setFieldName(n),Vt(t,this.encodeUpdateCommand(t[n]),n);else{t[n]=r=Ht(r);var o=new bt(vt.SET,[r],n);Vt(t,this.encodeUpdateCommand(o),n)}}return t}}])&&$t(t.prototype,n),r&&$t(t,r),e}(),Kt=n(574),Jt=n.n(Kt),Xt=n(238),Qt=n.n(Xt),Zt=n(559),en=n.n(Zt);function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())}var nn={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"};function rn(e){return(rn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function on(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pn(e,t)}function cn(e){var t=dn();return function(){var n,r=hn(e);if(t){var o=hn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(e,t){return!t||"object"!==rn(t)&&"function"!=typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e){var t="function"==typeof Map?new Map:void 0;return(ln=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return fn(e,arguments,hn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pn(r,e)})(e)}function fn(e,t,n){return(fn=dn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&pn(o,n.prototype),o}).apply(null,arguments)}function dn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pn(e,t){return(pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vn=function(e){an(r,e);var t,n=cn(r);function r(e){var t;return on(this,r),(t=n.call(this,e.errMsg)).errCode="UNKNOWN_ERROR",Object.defineProperties(un(t),{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(nn[this.errCode]||""," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}}),t.errCode=e.errCode||"UNKNOWN_ERROR",t.errMsg=e.errMsg,t}return(t=[{key:"message",get:function(){return"errCode: ".concat(this.errCode," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(r.prototype,t),r}(ln(Error)),gn=function(e){an(n,e);var t=cn(n);function n(e){var r;return on(this,n),(r=t.call(this,e)).type="timeout",r.payload=null,r.generic=!0,r}return n}(ln(Error)),yn=function(e){an(n,e);var t=cn(n);function n(e){var r;return on(this,n),(r=t.call(this,e)).type="cancelled",r.payload=null,r.generic=!0,r}return n}(ln(Error)),_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},bn=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=t.close,this.onChange=t.onChange,this.onError=t.onError,t.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return t.virtualClient}})},mn=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,r,o=t.id,i=t.docChanges,a=t.docs,c=t.msgType,s=t.type;Object.defineProperties(this,{id:{get:function(){return o},enumerable:!0},docChanges:{get:function(){return n||(n=JSON.parse(JSON.stringify(i))),n},enumerable:!0},docs:{get:function(){return r||(r=JSON.parse(JSON.stringify(a))),r},enumerable:!0},msgType:{get:function(){return c},enumerable:!0},type:{get:function(){return s},enumerable:!0}})};function wn(e){return(wn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Sn(e,t){return!t||"object"!==wn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function On(e){var t="function"==typeof Map?new Map:void 0;return(On=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Cn(e,arguments,Tn(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),En(r,e)})(e)}function Cn(e,t,n){return(Cn=In()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&En(o,n.prototype),o}).apply(null,arguments)}function In(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function En(e,t){return(En=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn,An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}(o,e);var t,n,r=(t=o,n=In(),function(){var e,r=Tn(t);if(n){var o=Tn(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Sn(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,"Watch Error ".concat(JSON.stringify(e.msgData)," (requestid: ").concat(e.requestId,")"))).isRealtimeErrorMessageError=!0,t.payload=e,t}return o}(On(Error)),xn=function(e){return e&&e.isRealtimeErrorMessageError};function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function jn(e){return function(e){if(Array.isArray(e))return Rn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Dn(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nn(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Dn(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Dn(e,t){if(e){if("string"==typeof e)return Rn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rn(e,t):void 0}}function Rn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mn(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Mn(i,r,o,a,c,"next",e)}function c(e){Mn(i,r,o,a,c,"throw",e)}a(void 0)}))}}!function(e){e.LOGGINGIN="LOGGINGIN",e.INITING="INITING",e.REBUILDING="REBUILDING",e.ACTIVE="ACTIVE",e.ERRORED="ERRORED",e.CLOSING="CLOSING",e.CLOSED="CLOSED",e.PAUSED="PAUSED",e.RESUMING="RESUMING"}(kn||(kn={}));var Ln=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchStatus=kn.INITING,this._login=function(){var e=Bn(regeneratorRuntime.mark((function e(t,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.watchStatus=kn.LOGGINGIN,e.next=3,n.login(t,r);case 3:return o=e.sent,n.envId||(n.envId=o.envId),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.initWatch=function(){var e=Bn(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._initWatchPromise){e.next=2;break}return e.abrupt("return",n._initWatchPromise);case 2:return n._initWatchPromise=new Promise(function(){var e=Bn(regeneratorRuntime.mark((function e(r,o){var i,a,c,s,u,l,f,d,p,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus!==kn.PAUSED){e.next=4;break}return console.log("[realtime] initWatch cancelled on pause"),e.abrupt("return",r());case 4:return e.next=6,n._login(n.envId,t);case 6:if(i=e.sent,a=i.envId,n.watchStatus!==kn.PAUSED){e.next=11;break}return console.log("[realtime] initWatch cancelled on pause"),e.abrupt("return",r());case 11:return n.watchStatus=kn.INITING,c={watchId:n.watchId,requestId:tn(),msgType:"INIT_WATCH",msgData:{envId:a,collName:n.collectionName,query:n.query,limit:n.limit,orderBy:n.orderBy}},e.next=15,n.send({msg:c,waitResponse:!0,skipOnMessage:!0,timeout:1e4});case 15:if(s=e.sent,u=s.msgData,l=u.events,f=u.currEvent,n.sessionInfo={queryID:s.msgData.queryID,currentEventId:f-1,currentDocs:[]},l.length>0){d=Nn(l);try{for(d.s();!(p=d.n()).done;)p.value.ID=f}catch(e){d.e(e)}finally{d.f()}n.handleServerEvents(s)}else n.sessionInfo.currentEventId=f,h=new mn({id:f,docChanges:[],docs:[],type:"init"}),n.listener.onChange(h),n.scheduleSendACK();n.onWatchStart(n,n.sessionInfo.queryID),n.watchStatus=kn.ACTIVE,n._availableRetries.INIT_WATCH=2,r(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),n.handleWatchEstablishmentError(e.t0,{operationName:"INIT_WATCH",resolve:r,reject:o});case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t,n){return e.apply(this,arguments)}}()),r=!1,e.prev=4,e.next=7,n._initWatchPromise;case 7:r=!0;case 8:return e.prev=8,n._initWatchPromise=void 0,e.finish(8);case 11:console.log("[realtime] initWatch ".concat(r?"success":"fail"));case 12:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),this.rebuildWatch=function(){var e=Bn(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._rebuildWatchPromise){e.next=2;break}return e.abrupt("return",n._rebuildWatchPromise);case 2:return n._rebuildWatchPromise=new Promise(function(){var e=Bn(regeneratorRuntime.mark((function e(r,o){var i,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus!==kn.PAUSED){e.next=4;break}return console.log("[realtime] rebuildWatch cancelled on pause"),e.abrupt("return",r());case 4:return e.next=6,n._login(n.envId,t);case 6:if(i=e.sent,a=i.envId,n.sessionInfo){e.next=10;break}throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");case 10:if(n.watchStatus!==kn.PAUSED){e.next=13;break}return console.log("[realtime] rebuildWatch cancelled on pause"),e.abrupt("return",r());case 13:return n.watchStatus=kn.REBUILDING,c={watchId:n.watchId,requestId:tn(),msgType:"REBUILD_WATCH",msgData:{envId:a,collName:n.collectionName,queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},e.next=17,n.send({msg:c,waitResponse:!0,skipOnMessage:!1,timeout:1e4});case 17:s=e.sent,n.handleServerEvents(s),n.watchStatus=kn.ACTIVE,n._availableRetries.REBUILD_WATCH=2,r(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),n.handleWatchEstablishmentError(e.t0,{operationName:"REBUILD_WATCH",resolve:r,reject:o});case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t,n){return e.apply(this,arguments)}}()),r=!1,e.prev=4,e.next=7,n._rebuildWatchPromise;case 7:r=!0;case 8:return e.prev=8,n._rebuildWatchPromise=void 0,e.finish(8);case 11:console.log("[realtime] rebuildWatch ".concat(r?"success":"fail"));case 12:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}(),this.handleWatchEstablishmentError=function(){var e=Bn(regeneratorRuntime.mark((function e(t,r){var o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o="INIT_WATCH"===r.operationName,i=function(){n.closeWithError(new vn({errCode:o?nn.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:nn.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:t})),r.reject(t)},a=function(e){n.useRetryTicket(r.operationName)?o?(n._initWatchPromise=void 0,r.resolve(n.initWatch(e))):(n._rebuildWatchPromise=void 0,r.resolve(n.rebuildWatch(e))):i()},n.handleCommonError(t,{onSignError:function(){return a(!0)},onTimeoutError:function(){return a(!1)},onNotRetryableError:i,onCancelledError:r.reject,onUnknownError:function(){var e=Bn(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=function(){var e=Bn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pause(),e.next=3,n.onceWSConnected();case 3:a(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.isWSConnected()){e.next=7;break}return e.next=5,t();case 5:e.next=19;break;case 7:return e.next=9,_n(100);case 9:if(n.watchStatus!==kn.PAUSED){e.next=13;break}r.reject(new yn("".concat(r.operationName," cancelled due to pause after unknownError"))),e.next=19;break;case 13:if(n.isWSConnected()){e.next=18;break}return e.next=16,t();case 16:e.next=19;break;case 18:a(!1);case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),a(!0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.closeWatch=Bn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.sessionInfo?n.sessionInfo.queryID:"",n.watchStatus===kn.ACTIVE){e.next=5;break}return n.watchStatus=kn.CLOSED,n.onWatchClose(n,t),e.abrupt("return");case 5:return e.prev=5,n.watchStatus=kn.CLOSING,r={watchId:n.watchId,requestId:tn(),msgType:"CLOSE_WATCH",msgData:null},e.next=10,n.send({msg:r});case 10:n.sessionInfo=void 0,n.watchStatus=kn.CLOSED,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),n.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:e.t0}));case 17:return e.prev=17,n.onWatchClose(n,t),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,14,17,20]])}))),this.scheduleSendACK=function(){n.clearACKSchedule(),n._ackTimeoutId=setTimeout((function(){n._waitExpectedTimeoutId?n.scheduleSendACK():n.sendACK()}),1e4)},this.clearACKSchedule=function(){n._ackTimeoutId&&clearTimeout(n._ackTimeoutId)},this.sendACK=Bn(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.watchStatus===kn.ACTIVE){e.next=4;break}return n.scheduleSendACK(),e.abrupt("return");case 4:if(n.sessionInfo){e.next=7;break}return console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),e.abrupt("return");case 7:return t={watchId:n.watchId,requestId:tn(),msgType:"CHECK_LAST",msgData:{queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},e.next=10,n.send({msg:t});case 10:n.scheduleSendACK(),e.next=26;break;case 13:if(e.prev=13,e.t0=e.catch(0),!xn(e.t0)){e.next=25;break}r=e.t0.payload,e.t1=r.msgData.code,e.next="CHECK_LOGIN_FAILED"===e.t1||"SIGN_EXPIRED_ERROR"===e.t1||"SIGN_INVALID_ERROR"===e.t1||"SIGN_PARAM_INVALID"===e.t1?20:"QUERYID_INVALID_ERROR"===e.t1||"SYS_ERR"===e.t1||"INVALIID_ENV"===e.t1||"COLLECTION_PERMISSION_DENIED"===e.t1?22:24;break;case 20:return n.rebuildWatch(),e.abrupt("return");case 22:return n.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.msgData.code})),e.abrupt("return");case 24:return e.abrupt("break",25);case 25:n._availableRetries.CHECK_LAST&&n._availableRetries.CHECK_LAST>0?(n._availableRetries.CHECK_LAST--,n.scheduleSendACK()):n.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:e.t0}));case 26:case"end":return e.stop()}}),e,null,[[0,13]])}))),this.handleCommonError=function(e,t){if(xn(e))switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}else{if(function(e){return"timeout"===e.type}(e))return void t.onTimeoutError(e);if(function(e){return"cancelled"===e.type}(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.limit=t.limit,this.orderBy=t.orderBy,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this._availableRetries={INIT_WATCH:2,REBUILD_WATCH:2,CHECK_LAST:2},this.listener=new bn({close:this.closeWatch,onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}var t,n,r,o,i;return t=e,(n=[{key:"useRetryTicket",value:function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this._availableRetries[e]," retry left")),!0)}},{key:"handleServerEvents",value:(i=Bn(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.scheduleSendACK(),e.next=4,this._handleServerEvents(t);case 4:this._postHandleServerEventsValidityCheck(t),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return i.apply(this,arguments)})},{key:"_handleServerEvents",value:(o=Bn(regeneratorRuntime.mark((function e(t){var n,r,o,i,a,c,s,u,l,f,d,p=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.requestId,r=t.msgData.events,o=t.msgType,r.length&&this.sessionInfo){e.next=5;break}return e.abrupt("return");case 5:i=this.sessionInfo,e.prev=6,a=r.map(Fn),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(6),this.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:e.t0})),e.abrupt("return");case 14:c=jn(i.currentDocs),s=!1,u=regeneratorRuntime.mark((function e(r,u){var l,f,d,h,v,g,y,_,b,m,w,S,O,C,I,E,T;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a[r],!(i.currentEventId>=l.id)){e.next=6;break}return!a[r-1]||l.id>a[r-1].id?console.warn("[realtime] duplicate event received, cur ".concat(i.currentEventId," but got ").concat(l.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(n,")")),e.abrupt("return","continue");case 6:if(i.currentEventId!==l.id-1){e.next=58;break}e.t0=l.dataType,e.next="update"===e.t0?10:"replace"===e.t0?22:"remove"===e.t0?27:"limit"===e.t0?30:42;break;case 10:if(l.doc){e.next=21;break}e.t1=l.queueType,e.next="update"===e.t1||"dequeue"===e.t1?14:"enqueue"===e.t1?17:20;break;case 14:if(f=c.find((function(e){return e._id===l.docId}))){if(d=en()(f),l.updatedFields)for(h in l.updatedFields)Jt()(d,h,l.updatedFields[h]);if(l.removedFields){v=Nn(l.removedFields);try{for(v.s();!(g=v.n()).done;)y=g.value,Qt()(d,y)}catch(e){v.e(e)}finally{v.f()}}l.doc=d}else console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");return e.abrupt("break",21);case 17:throw _=new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),p.closeWithError(_),_;case 20:return e.abrupt("break",21);case 21:return e.abrupt("break",42);case 22:if(l.doc){e.next=26;break}throw b=new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(t.requestId,")")}),p.closeWithError(b),b;case 26:return e.abrupt("break",42);case 27:return(m=c.find((function(e){return e._id===l.docId})))?l.doc=m:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),e.abrupt("break",42);case 30:if(l.doc){e.next=41;break}e.t2=l.queueType,e.next="dequeue"===e.t2?34:"enqueue"===e.t2?37:40;break;case 34:return(w=c.find((function(e){return e._id===l.docId})))?l.doc=w:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated."),e.abrupt("break",41);case 37:throw S=new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(t.requestId,")")}),p.closeWithError(S),S;case 40:return e.abrupt("break",41);case 41:return e.abrupt("break",42);case 42:e.t3=l.queueType,e.next="init"===e.t3?45:"enqueue"===e.t3?47:"dequeue"===e.t3?49:"update"===e.t3?52:55;break;case 45:return s?c.push(l.doc):(s=!0,c=[l.doc]),e.abrupt("break",55);case 47:return c.push(l.doc),e.abrupt("break",55);case 49:return(O=c.findIndex((function(e){return e._id===l.docId})))>-1?c.splice(O,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),e.abrupt("break",55);case 52:return(C=c.findIndex((function(e){return e._id===l.docId})))>-1?c[C]=l.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),e.abrupt("break",55);case 55:(r===u-1||a[r+1]&&a[r+1].id!==l.id)&&(I=jn(c),E=a.slice(0,r+1).filter((function(e){return e.id===l.id})),p.sessionInfo.currentEventId=l.id,p.sessionInfo.currentDocs=c,T=new mn({id:l.id,docChanges:E,docs:I,msgType:o}),p.listener.onChange(T)),e.next=62;break;case 58:return console.warn("[realtime listener] event received is out of order, cur ".concat(p.sessionInfo.currentEventId," but got ").concat(l.id)),e.next=61,p.rebuildWatch();case 61:return e.abrupt("return",{v:void 0});case 62:case"end":return e.stop()}}),e)})),l=0,f=a.length;case 18:if(!(l<f)){e.next=28;break}return e.delegateYield(u(l,f),"t1",20);case 20:if("continue"!==(d=e.t1)){e.next=23;break}return e.abrupt("continue",25);case 23:if("object"!==Pn(d)){e.next=25;break}return e.abrupt("return",d.v);case 25:l++,e.next=18;break;case 28:case"end":return e.stop()}}),e,this,[[6,10]])}))),function(e){return o.apply(this,arguments)})},{key:"_postHandleServerEventsValidityCheck",value:function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")}},{key:"clearWaitExpectedEvent",value:function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}},{key:"onMessage",value:function(e){var t=this;switch(this.watchStatus){case kn.PAUSED:if("ERROR"!==e.msgType)return;break;case kn.LOGGINGIN:case kn.INITING:case kn.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));case kn.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case kn.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout((function(){t.rebuildWatch()}),this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break;case"ERROR":this.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e)}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}},{key:"closeWithError",value:function(e){this.watchStatus=kn.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"pause",value:function(){this.watchStatus=kn.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"resume",value:(r=Bn(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.watchStatus=kn.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.prev=2,e.next=5,this.sessionInfo?this.rebuildWatch():this.initWatch();case 5:console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Fn(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var Un,qn={1e3:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3e3:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};!function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.NoAuthentication=3050]="NoAuthentication"}(Un||(Un={}));var Wn=function(e,t){var n=qn[e],r=n?"".concat(n.name,", code ").concat(e,", reason ").concat(t||n.description):"code ".concat(e);return new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})};function Vn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(e,t)||Gn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){if(e){if("string"==typeof e)return Hn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hn(e,t):void 0}}function Hn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yn(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function $n(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Yn(i,r,o,a,c,"next",e)}function c(e){Yn(i,r,o,a,c,"throw",e)}a(void 0)}))}}var zn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.initWebSocketConnection=function(){var e=$n(regeneratorRuntime.mark((function e(t){var r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:n._maxReconnect,!t||!n._reconnectState){e.next=3;break}return e.abrupt("return");case 3:if(t&&(n._reconnectState=!0),!n._wsInitPromise){e.next=6;break}return e.abrupt("return",n._wsInitPromise);case 6:return t&&n.pauseClients(),n.close(Un.ReconnectWebSocket),n._wsInitPromise=new Promise(function(){var e=$n(regeneratorRuntime.mark((function e(o,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getWsSign();case 3:return a=e.sent,e.next=6,new Promise((function(e){var t=a.wsUrl||"wss://tcb-ws.tencentcloudapi.com";n._ws=Xo.wsClass?new Xo.wsClass(t):new WebSocket(t),e()}));case 6:if(!n._ws.connect){e.next=9;break}return e.next=9,n._ws.connect();case 9:return e.next=11,n.initWebSocketEvent();case 11:o(),t&&(n.resumeClients(),n._reconnectState=!1),e.next=30;break;case 15:if(e.prev=15,e.t0=e.catch(0),console.error("[realtime] initWebSocketConnection connect fail",e.t0),!(r>0)){e.next=28;break}return n._wsInitPromise=void 0,e.next=24,_n(n._reconnectInterval);case 24:t&&(n._reconnectState=!1);case 25:o(n.initWebSocketConnection(t,r-1)),e.next=30;break;case 28:i(e.t0),t&&n.closeAllClients(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:e.t0}));case 30:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}()),e.prev=9,e.next=12,n._wsInitPromise;case 12:n._wsReadySubsribers.forEach((function(e){return(0,e.resolve)()})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),n._wsReadySubsribers.forEach((function(e){return(0,e.reject)()}));case 18:return e.prev=18,n._wsInitPromise=void 0,n._wsReadySubsribers=[],e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[9,15,18,22]])})));return function(t){return e.apply(this,arguments)}}(),this.initWebSocketEvent=function(){return new Promise((function(e,t){if(!n._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;n._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),r=!0,e()},n._ws.onerror=function(e){n._logins=new Map,r?(console.error("[realtime] ws event: error",e),n.clearHeartbeat(),n._virtualWSClient.forEach((function(t){return t.closeWithError(new vn({errCode:nn.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))}))):(console.error("[realtime] ws open failed with ws event: error",e),t(e))},n._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),n._logins=new Map,n.clearHeartbeat(),e.code){case Un.ReconnectWebSocket:case Un.NoRealtimeListeners:break;case Un.HeartbeatPingError:case Un.HeartbeatPongTimeoutError:case Un.NormalClosure:case Un.AbnormalClosure:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Wn(e.code));break;case Un.NoAuthentication:n.closeAllClients(Wn(e.code,e.reason));break;default:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Wn(e.code))}},n._ws.onmessage=function(e){var t,r=e.data;n.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error("[realtime] onMessage parse res.data error: ".concat(e))}if("ERROR"===t.msgType){var o=null;n._virtualWSClient.forEach((function(e){e.watchId===t.watchId&&(o=e)})),o&&o.listener.onError(t)}var i=n._wsResponseWait.get(t.requestId);if(i){try{"ERROR"===t.msgType?i.reject(new An(t)):i.resolve(t)}catch(e){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{n._wsResponseWait.delete(t.requestId)}if(i.skipOnMessage)return}if("PONG"!==t.msgType){var a=t.watchId&&n._watchIdClientMap.get(t.watchId);if(a)a.onMessage(t);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(t.watchId,": "),t),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(a=n._queryIdClientMap.get(t.msgData.queryID))&&a.onMessage(t);break;default:var c,s=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Gn(e))){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}(n._watchIdClientMap);try{for(s.s();!(c=s.n()).done;){Vn(c.value,2)[1].onMessage(t);break}}catch(e){s.e(e)}finally{s.f()}}}else if(n._lastPingSendTS){var u=Date.now()-n._lastPingSendTS;if(u>1e4)return void console.warn("[realtime] untrusted rtt observed: ".concat(u));n._rttObserved.length>=3&&n._rttObserved.splice(0,n._rttObserved.length-3+1),n._rttObserved.push(u)}},n.heartbeat()}))},this.isWSConnected=function(){return Boolean(n._ws&&1===n._ws.readyState)},this.onceWSConnected=$n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isWSConnected()){e.next=2;break}return e.abrupt("return");case 2:if(!n._wsInitPromise){e.next=4;break}return e.abrupt("return",n._wsInitPromise);case 4:return e.abrupt("return",new Promise((function(e,t){n._wsReadySubsribers.push({resolve:e,reject:t})})));case 5:case"end":return e.stop()}}),e)}))),this.webLogin=function(){var e=$n(regeneratorRuntime.mark((function e(t,r){var o,i,a,c,s,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=15;break}if(!t){e.next=12;break}if(!(o=n._logins.get(t))){e.next=10;break}if(!o.loggedIn||!o.loginResult){e.next=8;break}return e.abrupt("return",o.loginResult);case 8:if(!o.loggingInPromise){e.next=10;break}return e.abrupt("return",o.loggingInPromise);case 10:e.next=15;break;case 12:if(!(i=n._logins.get(""))||!i.loggingInPromise){e.next=15;break}return e.abrupt("return",i.loggingInPromise);case 15:return a=new Promise(function(){var e=$n(regeneratorRuntime.mark((function e(t,r){var o,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getWsSign();case 3:return o=e.sent,i={envId:o.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:Xo.dataVersion||""},a={watchId:void 0,requestId:tn(),msgType:"LOGIN",msgData:i,exMsgData:{runtime:Xo.runtime,signStr:o.signStr,secretVersion:o.secretVersion}},e.next=8,n.send({msg:a,waitResponse:!0,skipOnMessage:!0,timeout:5e3});case 8:(c=e.sent).msgData.code?r(new Error("".concat(c.msgData.code," ").concat(c.msgData.message))):t({envId:o.envId}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),r(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}()),c=t&&n._logins.get(t),s=Date.now(),c?(c.loggedIn=!1,c.loggingInPromise=a,c.loginStartTS=s):(c={loggedIn:!1,loggingInPromise:a,loginStartTS:s},n._logins.set(t||"",c)),e.prev=19,e.next=22,a;case 22:if(u=e.sent,!(l=t&&n._logins.get(t))||l!==c||l.loginStartTS!==s){e.next=32;break}return c.loggedIn=!0,c.loggingInPromise=void 0,c.loginStartTS=void 0,c.loginResult=u,e.abrupt("return",u);case 32:if(!l){e.next=44;break}if(!l.loggedIn||!l.loginResult){e.next=37;break}return e.abrupt("return",l.loginResult);case 37:if(!l.loggingInPromise){e.next=41;break}return e.abrupt("return",l.loggingInPromise);case 41:throw new Error("ws unexpected login info");case 42:e.next=45;break;case 44:throw new Error("ws login info reset");case 45:e.next=54;break;case 47:throw e.prev=47,e.t0=e.catch(19),c.loggedIn=!1,c.loggingInPromise=void 0,c.loginStartTS=void 0,c.loginResult=void 0,e.t0;case 54:case"end":return e.stop()}}),e,null,[[19,47]])})));return function(t,n){return e.apply(this,arguments)}}(),this.getWsSign=$n(regeneratorRuntime.mark((function e(){var t,r,o,i,a,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n._wsSign&&n._wsSign.expiredTs>Date.now())){e.next=2;break}return e.abrupt("return",n._wsSign);case 2:return t=Date.now()+6e4,e.next=5,n._context.appConfig.request.send("auth.wsWebSign",{runtime:Xo.runtime});case 5:if(!(r=e.sent).code){e.next=8;break}throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败: ".concat(r.code));case 8:if(!r.data){e.next=13;break}return o=r.data,i=o.signStr,a=o.wsUrl,c=o.secretVersion,s=o.envId,e.abrupt("return",{signStr:i,wsUrl:a,secretVersion:c,envId:s,expiredTs:t});case 13:throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败");case 14:case"end":return e.stop()}}),e)}))),this.getWaitExpectedTimeoutLength=function(){return n._rttObserved.length?n._rttObserved.reduce((function(e,t){return e+t}))/n._rttObserved.length*1.5:5e3},this.ping=$n(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={watchId:void 0,requestId:tn(),msgType:"PING",msgData:null},e.next=3,n.send({msg:t});case 3:case"end":return e.stop()}}),e)}))),this.send=function(){var e=$n(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=$n(regeneratorRuntime.mark((function e(r,o){var i,a,c,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,c=!1,s=function(e){a=!0,i&&clearTimeout(i),r(e)},u=function(e){c=!0,i&&clearTimeout(i),o(e)},t.timeout&&(i=setTimeout($n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&c){e.next=4;break}return e.next=3,_n(0);case 3:a&&c||u(new gn("wsclient.send timedout"));case 4:case"end":return e.stop()}}),e)}))),t.timeout)),e.prev=5,!n._wsInitPromise){e.next=9;break}return e.next=9,n._wsInitPromise;case 9:if(n._ws){e.next=12;break}return u(new Error("invalid state: ws connection not exists, can not send message")),e.abrupt("return");case 12:if(1===n._ws.readyState){e.next=15;break}return u(new Error("ws readyState invalid: ".concat(n._ws.readyState,", can not send message"))),e.abrupt("return");case 15:return t.waitResponse&&n._wsResponseWait.set(t.msg.requestId,{resolve:s,reject:u,skipOnMessage:t.skipOnMessage}),e.prev=16,e.next=19,n._ws.send(JSON.stringify(t.msg));case 19:t.waitResponse||s(),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(16),e.t0&&(u(e.t0),t.waitResponse&&n._wsResponseWait.delete(t.msg.requestId));case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(5),u(e.t1);case 30:case"end":return e.stop()}}),e,null,[[5,27],[16,22]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.closeAllClients=function(e){n._virtualWSClient.forEach((function(t){t.closeWithError(e)}))},this.pauseClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.pause()}))},this.resumeClients=function(e){(e||n._virtualWSClient).forEach((function(e){e.resume()}))},this.onWatchStart=function(e,t){n._queryIdClientMap.set(t,e)},this.onWatchClose=function(e,t){t&&n._queryIdClientMap.delete(t),n._watchIdClientMap.delete(e.watchId),n._virtualWSClient.delete(e),n._virtualWSClient.size||n.close(Un.NoRealtimeListeners)},this._maxReconnect=t.maxReconnect||5,this._reconnectInterval=t.reconnectInterval||1e4,this._context=t.context}var t;return(t=[{key:"heartbeat",value:function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout($n(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._ws&&1===t._ws.readyState){e.next=3;break}return e.abrupt("return");case 3:return t._lastPingSendTS=Date.now(),e.next=6,t.ping();case 6:t._pingFailed=0,t._pongTimeoutId=setTimeout((function(){console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.initWebSocketConnection(!0)}),t._context.appConfig.realtimePongWaitTimeout),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(Un.HeartbeatPingError);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),e?0:this._context.appConfig.realtimePingInterval)}},{key:"clearHeartbeat",value:function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}},{key:"close",value:function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,qn[e].name),this._ws=void 0)}},{key:"watch",value:function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new Ln(_extends(_extends({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Xn=function(){function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Jn(this,e),this.watch=function(e){return Xo.ws||(Xo.ws=new zn({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:o.request}}})),Xo.ws.watch(_extends(_extends({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=t,this._coll=n,this.id=r,this.request=new Xo.reqClass(this._db.config),this.projection=i}var t;return(t=[{key:"create",value:function(e,t){t=t||yt();var n={collectionName:this._coll,data:Ft(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then((function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"set",value:function(e,t){if(t=t||yt(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==Kn(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1;if(function e(t){if("object"===Kn(t))for(var r in t)t[r]instanceof bt?n=!0:"object"===Kn(t[r])&&e(t[r])}(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var r={collectionName:this._coll,queryType:Z.DOC,data:Ft(e),multi:!1,merge:!1,upsert:!0};return this.id&&(r.query={_id:this.id}),this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"update",value:function(e,t){if(t=t||yt(),!e||"object"!==Kn(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:zt.encode(e),query:n,queryType:Z.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then((function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})})).catch((function(e){t(e)})),t.promise}},{key:"remove",value:function(e){e=e||yt();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Z.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then((function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})})).catch((function(t){e(t)})),e.promise}},{key:"get",value:function(e){e=e||yt();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:Z.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n=dt.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}})).catch((function(t){e(t)})),e.promise}},{key:"field",value:function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tr(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),e}var nr=function(){function e(){Zn(this,e)}return tr(e,null,[{key:"encode",value:function(e){return(new rr).encodeQuery(e)}}]),e}(),rr=function(){function e(){Zn(this,e)}return tr(e,[{key:"encodeQuery",value:function(e,t){return Gt(e)?Ot(e)?this.encodeLogicCommand(e):xt(e)?this.encodeQueryCommand(e):Qn({},t,this.encodeQueryObject(e)):je(e)?this.encodeQueryObject(e):e}},{key:"encodeRegExp",value:function(e){return{$regex:e.source,$options:e.flags}}},{key:"encodeLogicCommand",value:function(e){var t=this;switch(e.operator){case _t.NOR:case _t.AND:case _t.OR:return Qn({},Mt(e.operator),e.operands.map((function(n){return t.encodeQuery(n,e.fieldName)})));case _t.NOT:var n=Mt(e.operator),r=e.operands[0];if(Me(r))return Qn({},e.fieldName,Qn({},n,this.encodeRegExp(r)));var o=this.encodeQuery(r)[e.fieldName];return Qn({},e.fieldName,Qn({},n,o));default:var i=Mt(e.operator);return 1===e.operands.length?Qn({},i,this.encodeQuery(e.operands[0])):Qn({},i,e.operands.map(this.encodeQuery.bind(this)))}}},{key:"encodeQueryCommand",value:function(e){return Pt(e),this.encodeComparisonCommand(e)}},{key:"encodeComparisonCommand",value:function(e){if(e.fieldName===be)throw new Error("Cannot encode a comparison command with unset field name");var t=Mt(e.operator);switch(e.operator){case wt.EQ:case wt.NEQ:case wt.LT:case wt.LTE:case wt.GT:case wt.GTE:case wt.ELEM_MATCH:case wt.EXISTS:case wt.SIZE:case wt.MOD:return Qn({},e.fieldName,Qn({},t,Ht(e.operands[0])));case wt.IN:case wt.NIN:case wt.ALL:return Qn({},e.fieldName,Qn({},t,Ht(e.operands)));case wt.GEO_NEAR:var n=e.operands[0];return Qn({},e.fieldName,{$nearSphere:{$geometry:n.geometry.toJSON(),$maxDistance:n.maxDistance,$minDistance:n.minDistance}});case wt.GEO_WITHIN:var r=e.operands[0];return Qn({},e.fieldName,{$geoWithin:{$geometry:r.geometry.toJSON()}});case wt.GEO_INTERSECTS:var o=e.operands[0];return Qn({},e.fieldName,{$geoIntersects:{$geometry:o.geometry.toJSON()}});default:return Qn({},e.fieldName,Qn({},t,Ht(e.operands[0])))}}},{key:"encodeQueryObject",value:function(e){var t=Wt(e);for(var n in t){var r=t[n];if(Ot(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(Pt(r)){t[n]=r._setFieldName(n);var i=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,i,n)}else Gt(r)&&(t[n]=Ht(r))}return t}},{key:"mergeConditionAfterEncode",value:function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?De(e[r])?e[r]=e[r].concat(t[r]):je(e[r])?je(t[r])?_extends(e,t):(console.warn("unmergable condition, query is object but condition is ".concat(Pe(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(Pe(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}}]),e}();function or(e){return(or="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var ir=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return Xo.ws||(Xo.ws=new zn({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:a._request}}})),Xo.ws.watch(_extends(_extends({},e),{envId:a._db.config.env,collectionName:a._coll,query:JSON.stringify(a._fieldFilters),limit:a._queryOptions.limit,orderBy:a._fieldOrders?a._fieldOrders.reduce((function(e,t){return e[t.field]=t.direction,e}),{}):void 0}))},this._db=t,this._coll=n,this._fieldFilters=r,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new Xo.reqClass(this._db.config)}var t;return(t=[{key:"get",value:function(e){e=e||yt();var t=[];this._fieldOrders&&this._fieldOrders.forEach((function(e){t.push(e)}));var n={collectionName:this._coll,queryType:Z.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then((function(t){if(t.code)e(0,t);else{var n={data:dt.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}})).catch((function(t){e(t)})),e.promise}},{key:"count",value:function(e){e=e||yt();var t={collectionName:this._coll,queryType:Z.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})})),e.promise}},{key:"where",value:function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(z.QueryParamTypeError);var n=Object.keys(t),r=n.some((function(e){return void 0!==t[e]}));if(n.length&&!r)throw Error(z.QueryParamValueError);return new e(this._db,this._coll,nr.encode(t),this._fieldOrders,this._queryOptions)}},{key:"orderBy",value:function(t,n){pt.isFieldPath(t),pt.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)}},{key:"limit",value:function(t){pt.isInteger("limit",t);var n=_extends({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"skip",value:function(t){pt.isInteger("offset",t);var n=_extends({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"update",value:function(e,t){if(t=t||yt(),!e||"object"!==or(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:Z.WHERE,multi:!0,merge:!0,upsert:!1,data:zt.encode(e)};return this._request.send("database.updateDocument",n).then((function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})})),t.promise}},{key:"field",value:function(t){for(var n in t)t[n]?"object"!==or(t[n])&&(t[n]=1):t[n]=0;var r=_extends({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)}},{key:"remove",value:function(e){e=e||yt(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:nr.encode(this._fieldFilters),queryType:Z.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then((function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})})),e.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ar(e,t){return(ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cr(e,t){return!t||"object"!==pr(t)&&"function"!=typeof t?sr(e):t}function sr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dr(e,t,n){return t&&fr(e.prototype,t),n&&fr(e,n),e}function pr(e){return(pr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function vr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gr(e,t){return e(t={exports:{}},t.exports),t.exports}for(var yr=[],_r=[],br="undefined"!=typeof Uint8Array?Uint8Array:Array,mr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wr=0,Sr=mr.length;wr<Sr;++wr)yr[wr]=mr[wr],_r[mr.charCodeAt(wr)]=wr;function Or(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(yr[(o=r)>>18&63]+yr[o>>12&63]+yr[o>>6&63]+yr[63&o]);return i.join("")}_r["-".charCodeAt(0)]=62,_r["_".charCodeAt(0)]=63;var Cr=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,a=0,c=n-r;a<c;a+=i)o.push(Or(e,a,a+i>c?c:a+i));return 1===r?(t=e[n-1],o.push(yr[t>>2]+yr[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(yr[t>>10]+yr[t>>4&63]+yr[t<<2&63]+"=")),o.join("")},Ir=function(e,t,n,r,o){var i,a,c=8*o-r-1,s=(1<<c)-1,u=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=c;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},Er=function(e,t,n,r,o,i){var a,c,s,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+f>=1?d/s:d*Math.pow(2,1-f))*s>=2&&(a++,s/=2),a+f>=l?(c=0,a=l):a+f>=1?(c=(t*s-1)*Math.pow(2,o),a+=f):(c=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&c,p+=h,c/=256,o-=8);for(a=a<<o|c,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*v},Tr=gr((function(e,t){var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;var r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}return a(e,t,n)}function a(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|d(e,t),r=o(n),a=r.write(e,t);return a!==n&&(r=r.slice(0,a)),r}(e,t);if(ArrayBuffer.isView(e))return u(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e));if(F(e,ArrayBuffer)||e&&F(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(F(e,SharedArrayBuffer)||e&&F(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);var a=function(e){if(i.isBuffer(e)){var t=0|f(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||U(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(a)return a;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(e))}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return c(e),o(e<0?0:0|f(e))}function u(e){for(var t=e.length<0?0:0|f(e.length),n=o(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function f(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function d(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||F(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(e));var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(o)return r?-1:M(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,o){var i,a=1,c=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,c/=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<c;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===s)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+s>c&&(n=c-s),i=n;i>=0;i--){for(var f=!0,d=0;d<s;d++)if(u(e,i+d)!==u(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;r>i/2&&(r=i/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(U(c))return a;e[n+a]=c}return a}function _(e,t,n,r){return L(M(t,e.length-n),e,n,r)}function b(e,t,n,r){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function m(e,t,n,r){return b(e,t,n,r)}function w(e,t,n,r){return L(B(t),e,n,r)}function S(e,t,n,r){return L(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?Cr(e):Cr(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,c,s,u=e[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(s=(31&u)<<6|63&i)>127&&(l=s);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(s=(15&u)<<12|(63&i)<<6|63&a)>2047&&(s<55296||s>57343)&&(l=s);break;case 4:i=e[o+1],a=e[o+2],c=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&c)&&(s=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&c)>65535&&s<1114112&&(l=s)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return a(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return s(e)},i.allocUnsafeSlow=function(e){return s(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(F(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),F(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(F(a,Uint8Array)&&(a=i.from(a)),!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=d,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(F(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(e));if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),c=(n>>>=0)-(t>>>=0),s=Math.min(a,c),u=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){a=u[f],c=l[f];break}return a<c?-1:c<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return m(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=q[e[i]];return o}function A(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function x(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,4),Er(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||j(e,0,n,8),Er(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||x(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),Ir(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),Ir(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),Ir(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),Ir(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=0,a=1,c=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===c&&0!==this[t+i-1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var o=Math.pow(2,8*n-1);P(this,e,t,n,o-1,-o)}var i=n-1,a=1,c=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===c&&0!==this[t+i+1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o=r-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,r);else if(this===e&&n<t&&t<r)for(var a=o-1;a>=0;--a)e[a+t]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,r),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var o=e.charCodeAt(0);("utf8"===r&&o<128||"latin1"===r)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var c=i.isBuffer(e)?e:i.from(e,r),s=c.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-t;++a)this[a+t]=c[a%s]}return this};var R=/[^+/0-9A-Za-z-_]/g;function M(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function B(e){return function(e){var t,n,r=function(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}(e),o=r[0],i=r[1],a=new br(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),c=0,s=i>0?o-4:o;for(n=0;n<s;n+=4)t=_r[e.charCodeAt(n)]<<18|_r[e.charCodeAt(n+1)]<<12|_r[e.charCodeAt(n+2)]<<6|_r[e.charCodeAt(n+3)],a[c++]=t>>16&255,a[c++]=t>>8&255,a[c++]=255&t;return 2===i&&(t=_r[e.charCodeAt(n)]<<2|_r[e.charCodeAt(n+1)]>>4,a[c++]=255&t),1===i&&(t=_r[e.charCodeAt(n)]<<10|_r[e.charCodeAt(n+1)]<<4|_r[e.charCodeAt(n+2)]>>2,a[c++]=t>>8&255,a[c++]=255&t),a}(function(e){if((e=(e=e.split("=")[0]).trim().replace(R,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function F(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!=e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()})),kr=(Tr.Buffer,Tr.SlowBuffer,Tr.INSPECT_MAX_BYTES,Tr.kMaxLength,gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ensureBuffer=void 0,t.ensureBuffer=function(e){if(Tr.Buffer.isBuffer(e))return e;if(ArrayBuffer.isView(e))return Tr.Buffer.from(e.buffer);if(e instanceof ArrayBuffer)return Tr.Buffer.from(e);throw new TypeError("Must use either Buffer or TypedArray")}})));vr(kr),kr.ensureBuffer;var Ar=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseUUID=void 0;var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.parseUUID=function(e){if("string"!=typeof e)throw new TypeError("Invalid type for UUID, expected string but got "+pr(e));if(!n.test(e))throw new TypeError("Invalid format for UUID: "+e);var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}}));vr(Ar),Ar.parseUUID;var xr=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Binary=void 0;var n=function(){function e(t,n){if(lr(this,e),!(null==t||"string"==typeof t||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||Array.isArray(t)))throw new TypeError("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=null!=n?n:e.BSON_BINARY_SUBTYPE_DEFAULT,null==t?(this.buffer=Tr.Buffer.alloc(e.BUFFER_SIZE),this.position=0):("string"==typeof t?this.buffer=Tr.Buffer.from(t,"binary"):Array.isArray(t)?this.buffer=Tr.Buffer.from(t):this.buffer=kr.ensureBuffer(t),this.position=this.buffer.byteLength)}return dr(e,[{key:"put",value:function(t){if("string"==typeof t&&1!==t.length)throw new TypeError("only accepts single character String");if("number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character Uint8Array or Array");var n;if((n="string"==typeof t?t.charCodeAt(0):"number"==typeof t?t:t[0])<0||n>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=n;else{var r=Tr.Buffer.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=Tr.Buffer.alloc(this.buffer.length+e.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n}ArrayBuffer.isView(e)?(this.buffer.set(kr.ensureBuffer(e),t),this.position=t+e.byteLength>this.position?t+e.length:this.position):"string"==typeof e&&(this.buffer.write(e,t,e.length,"binary"),this.position=t+e.length>this.position?t+e.length:this.position)}},{key:"read",value:function(e,t){return t=t&&t>0?t:this.position,this.buffer.slice(e,e+t)}},{key:"value",value:function(e){return(e=!!e)&&this.buffer.length===this.position?this.buffer:e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return this.buffer.toString("base64")}},{key:"toString",value:function(e){return this.buffer.toString(e)}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=this.buffer.toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}}],[{key:"fromExtendedJSON",value:function(t,n){var r,o;if(n=n||{},"$binary"in t?n.legacy&&"string"==typeof t.$binary&&"$type"in t?(o=t.$type?parseInt(t.$type,16):0,r=Tr.Buffer.from(t.$binary,"base64")):"string"!=typeof t.$binary&&(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Tr.Buffer.from(t.$binary.base64,"base64")):"$uuid"in t&&(o=4,r=Tr.Buffer.from(Ar.parseUUID(t.$uuid))),!r)throw new TypeError("Unexpected Binary Extended JSON format ".concat(JSON.stringify(t)));return new e(r,o)}}]),e}();t.Binary=n,n.BSON_BINARY_SUBTYPE_DEFAULT=0,n.BUFFER_SIZE=256,n.SUBTYPE_DEFAULT=0,n.SUBTYPE_FUNCTION=1,n.SUBTYPE_BYTE_ARRAY=2,n.SUBTYPE_UUID_OLD=3,n.SUBTYPE_UUID=4,n.SUBTYPE_MD5=5,n.SUBTYPE_USER_DEFINED=128,Object.defineProperty(n.prototype,"_bsontype",{value:"Binary"})}));vr(xr),xr.Binary;var Pr=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Code=void 0;var n=function(){function e(t,n){lr(this,e),this.code=t,this.scope=n}return dr(e,[{key:"toJSON",value:function(){return{code:this.code,scope:this.scope}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();t.Code=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Code"})}));vr(Pr),Pr.Code;var jr={};function Nr(e,t){var n={seen:[],stylize:Rr};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),Fr(t)?n.showHidden=t:t&&Kr(n,t),Wr(n.showHidden)&&(n.showHidden=!1),Wr(n.depth)&&(n.depth=2),Wr(n.colors)&&(n.colors=!1),Wr(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Dr),Mr(n,e,n.depth)}function Dr(e,t){var n=Nr.styles[t];return n?"["+Nr.colors[n][0]+"m"+e+"["+Nr.colors[n][1]+"m":e}function Rr(e,t){return e}function Mr(e,t,n){if(e.customInspect&&t&&$r(t.inspect)&&t.inspect!==Nr&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return qr(r)||(r=Mr(e,r,n)),r}var o=function(e,t){if(Wr(t))return e.stylize("undefined","undefined");if(qr(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return function(e){return"number"==typeof e}(t)?e.stylize(""+t,"number"):Fr(t)?e.stylize(""+t,"boolean"):Ur(t)?e.stylize("null","null"):void 0}(e,t);if(o)return o;var i=Object.keys(t),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),Yr(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return Br(t);if(0===i.length){if($r(t)){var c=t.name?": "+t.name:"";return e.stylize("[Function"+c+"]","special")}if(Vr(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Hr(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Yr(t))return Br(t)}var s,u="",l=!1,f=["{","}"];return function(e){return Array.isArray(e)}(t)&&(l=!0,f=["[","]"]),$r(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),Vr(t)&&(u=" "+RegExp.prototype.toString.call(t)),Hr(t)&&(u=" "+Date.prototype.toUTCString.call(t)),Yr(t)&&(u=" "+Br(t)),0!==i.length||l&&0!=t.length?n<0?Vr(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=l?function(e,t,n,r,o){for(var i=[],a=0,c=t.length;a<c;++a)Jr(t,String(a))?i.push(Lr(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(Lr(e,t,n,r,o,!0))})),i}(e,t,n,a,i):i.map((function(r){return Lr(e,t,n,a,r,l)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(s,u,f)):f[0]+u+f[1]}function Br(e){return"["+Error.prototype.toString.call(e)+"]"}function Lr(e,t,n,r,o,i){var a,c,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),Jr(r,o)||(a="["+o+"]"),c||(e.seen.indexOf(s.value)<0?(c=Ur(n)?Mr(e,s.value,null):Mr(e,s.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),Wr(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function Fr(e){return"boolean"==typeof e}function Ur(e){return null===e}function qr(e){return"string"==typeof e}function Wr(e){return void 0===e}function Vr(e){return Gr(e)&&"[object RegExp]"===zr(e)}function Gr(e){return"object"===babelHelpers.typeof(e)&&null!==e}function Hr(e){return Gr(e)&&"[object Date]"===zr(e)}function Yr(e){return Gr(e)&&("[object Error]"===zr(e)||e instanceof Error)}function $r(e){return"function"==typeof e}function zr(e){return Object.prototype.toString.call(e)}function Kr(e,t){if(!t||!Gr(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function Jr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Object.create,Nr.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Nr.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Xr=function e(t,r){if(Wr(n.g.process))return function(){return e(t,r).apply(this,arguments)};var o=!1;return function(){return o||(console.error(r),o=!0),t.apply(this,arguments)}},Qr=gr((function(e,t){function n(e){for(var t=Tr.Buffer.alloc(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}if(Object.defineProperty(t,"__esModule",{value:!0}),t.deprecate=t.isObjectLike=t.isDate=t.isBuffer=t.haveBuffer=t.isBigUInt64Array=t.isBigInt64Array=t.isUint8Array=t.randomBytes=t.normalizedFunctionString=void 0,t.normalizedFunctionString=function(e){return e.toString().replace("function(","function (")},t.randomBytes=n,"undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)t.randomBytes=function(e){return window.crypto.getRandomValues(Tr.Buffer.alloc(e))};else{try{t.randomBytes=jr.randomBytes}catch(e){}null==t.randomBytes&&(t.randomBytes=n)}function r(){return void 0!==hr&&void 0!==hr.Buffer}function o(e){return"object"===pr(e)&&null!==e}t.isUint8Array=function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},t.isBigInt64Array=function(e){return"[object BigInt64Array]"===Object.prototype.toString.call(e)},t.isBigUInt64Array=function(e){return"[object BigUint64Array]"===Object.prototype.toString.call(e)},t.haveBuffer=r,t.isBuffer=function(e){return r()&&Tr.Buffer.isBuffer(e)},t.isDate=function(e){return o(e)&&"[object Date]"===Object.prototype.toString.call(e)},t.isObjectLike=o,t.deprecate=function(e,t){if("undefined"==typeof window||"undefined"==typeof self)return Xr(e,t);var n=!1;return function(){n||(console.warn(t),n=!0);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e.apply.apply(e,[this].concat(o))}}}));vr(Qr),Qr.deprecate,Qr.isObjectLike,Qr.isDate,Qr.isBuffer,Qr.haveBuffer,Qr.isBigUInt64Array,Qr.isBigInt64Array,Qr.isUint8Array,Qr.randomBytes,Qr.normalizedFunctionString;var Zr=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DBRef=t.isDBRefLike=void 0,t.isDBRefLike=function(e){return Qr.isObjectLike(e)&&null!=e.$id&&null!=e.$ref};var n=function(){function e(t,n,r,o){lr(this,e);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return dr(e,[{key:"toJSON",value:function(){var e=_extends({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=_extends(t,this.fields))}},{key:"namespace",get:function(){return this.collection},set:function(e){this.collection=e}}],[{key:"fromExtendedJSON",value:function(t){var n=_extends({},t);return delete n.$ref,delete n.$id,delete n.$db,new e(t.$ref,t.$id,t.$db,n)}}]),e}();t.DBRef=n,Object.defineProperty(n.prototype,"_bsontype",{value:"DBRef"})}));vr(Zr),Zr.DBRef,Zr.isDBRefLike;var eo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Long=void 0;var n=void 0;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}var r=4294967296,o=0x10000000000000000,i=o/2,a={},c={},s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;lr(this,e),this.comp=e.prototype.compare,this.div=e.prototype.divide,this.eq=e.prototype.equals,this.gt=e.prototype.greaterThan,this.gte=e.prototype.greaterThanOrEqual,this.ge=e.prototype.greaterThanOrEqual,this.lt=e.prototype.lessThan,this.lte=e.prototype.lessThanOrEqual,this.mod=e.prototype.modulo,this.rem=e.prototype.modulo,this.mul=e.prototype.multiply,this.neg=e.prototype.negate,this.neq=e.prototype.notEquals,this.ne=e.prototype.notEquals,this.shl=e.prototype.shiftLeft,this.shr=e.prototype.shiftRight,this.shr_u=e.prototype.shiftRightUnsigned,this.shru=e.prototype.shiftRightUnsigned,this.sub=e.prototype.subtract,this.eqz=e.prototype.isZero,this.le=e.prototype.lessThanOrEqual,this.low=0|t,this.high=0|n,this.unsigned=!!r,Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return dr(e,[{key:"add",value:function(t){e.isLong(t)||(t=e.fromValue(t));var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=t.high>>>16,c=65535&t.high,s=t.low>>>16,u=0,l=0,f=0,d=0;return f+=(d+=i+(65535&t.low))>>>16,d&=65535,l+=(f+=o+s)>>>16,f&=65535,u+=(l+=r+c)>>>16,l&=65535,u+=n+a,u&=65535,e.fromBits(f<<16|d,u<<16|l,this.unsigned)}},{key:"and",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low&t.low,this.high&t.high,this.unsigned)}},{key:"compare",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),this.eq(t))return 0;var n=this.isNegative(),r=t.isNegative();return n&&!r?-1:!n&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1}},{key:"divide",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),t.isZero())throw Error("division by zero");if(n){if(!this.unsigned&&-2147483648===this.high&&-1===t.low&&-1===t.high)return this;var r=(this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?e.UZERO:e.ZERO;var o,i,a;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return e.UZERO;if(t.gt(this.shru(1)))return e.UONE;a=e.UZERO}else{if(this.eq(e.MIN_VALUE))return t.eq(e.ONE)||t.eq(e.NEG_ONE)?e.MIN_VALUE:t.eq(e.MIN_VALUE)?e.ONE:(o=this.shr(1).div(t).shl(1)).eq(e.ZERO)?t.isNegative()?e.ONE:e.NEG_ONE:(i=this.sub(t.mul(o)),a=o.add(i.div(t)));if(t.eq(e.MIN_VALUE))return this.unsigned?e.UZERO:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();a=e.ZERO}for(i=this;i.gte(t);){o=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var c=Math.ceil(Math.log(o)/Math.LN2),s=c<=48?1:Math.pow(2,c-48),u=e.fromNumber(o),l=u.mul(t);l.isNegative()||l.gt(i);)o-=s,l=(u=e.fromNumber(o,this.unsigned)).mul(t);u.isZero()&&(u=e.ONE),a=a.add(u),i=i.sub(l)}return a}},{key:"equals",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low}},{key:"getHighBits",value:function(){return this.high}},{key:"getHighBitsUnsigned",value:function(){return this.high>>>0}},{key:"getLowBits",value:function(){return this.low}},{key:"getLowBitsUnsigned",value:function(){return this.low>>>0}},{key:"getNumBitsAbs",value:function(){if(this.isNegative())return this.eq(e.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t,n=0!==this.high?this.high:this.low;for(t=31;t>0&&0==(n&1<<t);t--);return 0!==this.high?t+33:t+1}},{key:"greaterThan",value:function(e){return this.comp(e)>0}},{key:"greaterThanOrEqual",value:function(e){return this.comp(e)>=0}},{key:"isEven",value:function(){return 0==(1&this.low)}},{key:"isNegative",value:function(){return!this.unsigned&&this.high<0}},{key:"isOdd",value:function(){return 1==(1&this.low)}},{key:"isPositive",value:function(){return this.unsigned||this.high>=0}},{key:"isZero",value:function(){return 0===this.high&&0===this.low}},{key:"lessThan",value:function(e){return this.comp(e)<0}},{key:"lessThanOrEqual",value:function(e){return this.comp(e)<=0}},{key:"modulo",value:function(t){if(e.isLong(t)||(t=e.fromValue(t)),n){var r=(this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))}},{key:"multiply",value:function(t){if(this.isZero())return e.ZERO;if(e.isLong(t)||(t=e.fromValue(t)),n){var r=n.mul(this.low,this.high,t.low,t.high);return e.fromBits(r,n.get_high(),this.unsigned)}if(t.isZero())return e.ZERO;if(this.eq(e.MIN_VALUE))return t.isOdd()?e.MIN_VALUE:e.ZERO;if(t.eq(e.MIN_VALUE))return this.isOdd()?e.MIN_VALUE:e.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(e.TWO_PWR_24)&&t.lt(e.TWO_PWR_24))return e.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var o=this.high>>>16,i=65535&this.high,a=this.low>>>16,c=65535&this.low,s=t.high>>>16,u=65535&t.high,l=t.low>>>16,f=65535&t.low,d=0,p=0,h=0,v=0;return h+=(v+=c*f)>>>16,v&=65535,p+=(h+=a*f)>>>16,h&=65535,p+=(h+=c*l)>>>16,h&=65535,d+=(p+=i*f)>>>16,p&=65535,d+=(p+=a*l)>>>16,p&=65535,d+=(p+=c*u)>>>16,p&=65535,d+=o*f+i*l+a*u+c*s,d&=65535,e.fromBits(h<<16|v,d<<16|p,this.unsigned)}},{key:"negate",value:function(){return!this.unsigned&&this.eq(e.MIN_VALUE)?e.MIN_VALUE:this.not().add(e.ONE)}},{key:"not",value:function(){return e.fromBits(~this.low,~this.high,this.unsigned)}},{key:"notEquals",value:function(e){return!this.equals(e)}},{key:"or",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low|t.low,this.high|t.high,this.unsigned)}},{key:"shiftLeft",value:function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):e.fromBits(0,this.low<<t-32,this.unsigned)}},{key:"shiftRight",value:function(t){return e.isLong(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?e.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):e.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)}},{key:"shiftRightUnsigned",value:function(t){if(e.isLong(t)&&(t=t.toInt()),0==(t&=63))return this;var n=this.high;if(t<32){var r=this.low;return e.fromBits(r>>>t|n<<32-t,n>>>t,this.unsigned)}return 32===t?e.fromBits(n,0,this.unsigned):e.fromBits(n>>>t-32,0,this.unsigned)}},{key:"subtract",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),this.add(t.neg())}},{key:"toInt",value:function(){return this.unsigned?this.low>>>0:this.low}},{key:"toNumber",value:function(){return this.unsigned?(this.high>>>0)*r+(this.low>>>0):this.high*r+(this.low>>>0)}},{key:"toBigInt",value:function(){return BigInt(this.toString())}},{key:"toBytes",value:function(e){return e?this.toBytesLE():this.toBytesBE()}},{key:"toBytesLE",value:function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}},{key:"toBytesBE",value:function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]}},{key:"toSigned",value:function(){return this.unsigned?e.fromBits(this.low,this.high,!1):this}},{key:"toString",value:function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(e.MIN_VALUE)){var n=e.fromNumber(t),r=this.div(n),o=r.mul(n).sub(this);return r.toString(t)+o.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=e.fromNumber(Math.pow(t,6),this.unsigned),a=this,c="";;){var s=a.div(i),u=(a.sub(s.mul(i)).toInt()>>>0).toString(t);if((a=s).isZero())return u+c;for(;u.length<6;)u="0"+u;c=""+u+c}}},{key:"toUnsigned",value:function(){return this.unsigned?this:e.fromBits(this.low,this.high,!0)}},{key:"xor",value:function(t){return e.isLong(t)||(t=e.fromValue(t)),e.fromBits(this.low^t.low,this.high^t.high,this.unsigned)}},{key:"toExtendedJSON",value:function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}}}],[{key:"fromBits",value:function(t,n,r){return new e(t,n,r)}},{key:"fromInt",value:function(t,n){var r,o,i;return n?(i=0<=(t>>>=0)&&t<256)&&(o=c[t])?o:(r=e.fromBits(t,(0|t)<0?-1:0,!0),i&&(c[t]=r),r):(i=-128<=(t|=0)&&t<128)&&(o=a[t])?o:(r=e.fromBits(t,t<0?-1:0,!1),i&&(a[t]=r),r)}},{key:"fromNumber",value:function(t,n){if(isNaN(t))return n?e.UZERO:e.ZERO;if(n){if(t<0)return e.UZERO;if(t>=o)return e.MAX_UNSIGNED_VALUE}else{if(t<=-i)return e.MIN_VALUE;if(t+1>=i)return e.MAX_VALUE}return t<0?e.fromNumber(-t,n).neg():e.fromBits(t%r|0,t/r|0,n)}},{key:"fromBigInt",value:function(t,n){return e.fromString(t.toString(),n)}},{key:"fromString",value:function(t,n,r){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return e.ZERO;if("number"==typeof n?(r=n,n=!1):n=!!n,(r=r||10)<2||36<r)throw RangeError("radix");var o;if((o=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===o)return e.fromString(t.substring(1),n,r).neg();for(var i=e.fromNumber(Math.pow(r,8)),a=e.ZERO,c=0;c<t.length;c+=8){var s=Math.min(8,t.length-c),u=parseInt(t.substring(c,c+s),r);if(s<8){var l=e.fromNumber(Math.pow(r,s));a=a.mul(l).add(e.fromNumber(u))}else a=(a=a.mul(i)).add(e.fromNumber(u))}return a.unsigned=n,a}},{key:"fromBytes",value:function(t,n,r){return r?e.fromBytesLE(t,n):e.fromBytesBE(t,n)}},{key:"fromBytesLE",value:function(t,n){return new e(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,n)}},{key:"fromBytesBE",value:function(t,n){return new e(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],n)}},{key:"isLong",value:function(e){return Qr.isObjectLike(e)&&!0===e.__isLong__}},{key:"fromValue",value:function(t,n){return"number"==typeof t?e.fromNumber(t,n):"string"==typeof t?e.fromString(t,n):e.fromBits(t.low,t.high,"boolean"==typeof n?n:t.unsigned)}},{key:"fromExtendedJSON",value:function(t,n){var r=e.fromString(t.$numberLong);return n&&n.relaxed?r.toNumber():r}}]),e}();t.Long=s,s.TWO_PWR_24=s.fromInt(1<<24),s.MAX_UNSIGNED_VALUE=s.fromBits(-1,-1,!0),s.ZERO=s.fromInt(0),s.UZERO=s.fromInt(0,!0),s.ONE=s.fromInt(1),s.UONE=s.fromInt(1,!0),s.NEG_ONE=s.fromInt(-1),s.MAX_VALUE=s.fromBits(-1,2147483647,!1),s.MIN_VALUE=s.fromBits(0,-2147483648,!1),Object.defineProperty(s.prototype,"__isLong__",{value:!0}),Object.defineProperty(s.prototype,"_bsontype",{value:"Long"})}));vr(eo),eo.Long;var to=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal128=void 0;var n=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,r=/^(\+|-)?(Infinity|inf)$/i,o=/^(\+|-)?NaN$/i,i=6111,a=-6176,c=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),s=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),u=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=/^([-+])?(\d+)?$/;function f(e){return!isNaN(parseInt(e,10))}function d(e){var t=eo.Long.fromNumber(1e9),n=eo.Long.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new eo.Long(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function p(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}var h=function(){function e(t){lr(this,e),this.bytes=t}return dr(e,[{key:"toString",value:function(){for(var e,t=0,n=new Array(36),r=0;r<n.length;r++)n[r]=0;var o,i,a,c=0,s=!1,u={parts:[0,0,0,0]},l=[];c=0;var f=this.bytes,p=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24,h=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24,v=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24,g=f[c++]|f[c++]<<8|f[c++]<<16|f[c++]<<24;c=0,(new eo.Long(p,h),new eo.Long(v,g)).lessThan(eo.Long.ZERO)&&l.push("-");var y=g>>26&31;if(y>>3==3){if(30===y)return l.join("")+"Infinity";if(31===y)return"NaN";e=g>>15&16383,o=8+(g>>14&1)}else o=g>>14&7,e=g>>17&16383;var _=e-6176;if(u.parts[0]=(16383&g)+((15&o)<<14),u.parts[1]=v,u.parts[2]=h,u.parts[3]=p,0===u.parts[0]&&0===u.parts[1]&&0===u.parts[2]&&0===u.parts[3])s=!0;else for(a=3;a>=0;a--){var b=0,m=d(u);if(u=m.quotient,b=m.rem.low)for(i=8;i>=0;i--)n[9*a+i]=b%10,b=Math.floor(b/10)}if(s)t=1,n[c]=0;else for(t=36;!n[c];)t-=1,c+=1;var w=t-1+_;if(w>=34||w<=-7||_>0){if(t>34)return l.push("".concat(0)),_>0?l.push("E+"+_):_<0&&l.push("E"+_),l.join("");l.push("".concat(n[c++])),(t-=1)&&l.push(".");for(var S=0;S<t;S++)l.push("".concat(n[c++]));l.push("E"),w>0?l.push("+"+w):l.push("".concat(w))}else if(_>=0)for(var O=0;O<t;O++)l.push("".concat(n[c++]));else{var C=t+_;if(C>0)for(var I=0;I<C;I++)l.push("".concat(n[c++]));else l.push("0");for(l.push(".");C++<0;)l.push("0");for(var E=0;E<t-Math.max(C-1,0);E++)l.push("".concat(n[c++]))}return l.join("")}},{key:"toJSON",value:function(){return{$numberDecimal:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$numberDecimal:this.toString()}}}],[{key:"fromString",value:function(t){var d,h=!1,v=!1,g=!1,y=0,_=0,b=0,m=0,w=0,S=[0],O=0,C=0,I=0,E=0,T=0,k=0,A=new eo.Long(0,0),x=new eo.Long(0,0),P=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var j=t.match(n),N=t.match(r),D=t.match(o);if(!j&&!N&&!D||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(j){var R=j[2],M=j[4],B=j[5],L=j[6];M&&void 0===L&&p(t,"missing exponent power"),M&&void 0===R&&p(t,"missing exponent base"),void 0===M&&(B||L)&&p(t,"missing e before exponent")}if("+"!==t[P]&&"-"!==t[P]||(h="-"===t[P++]),!f(t[P])&&"."!==t[P]){if("i"===t[P]||"I"===t[P])return new e(Tr.Buffer.from(h?s:u));if("N"===t[P])return new e(Tr.Buffer.from(c))}for(;f(t[P])||"."===t[P];)"."!==t[P]?(O<34&&("0"!==t[P]||g)&&(g||(w=_),g=!0,S[C++]=parseInt(t[P],10),O+=1),g&&(b+=1),v&&(m+=1),_+=1,P+=1):(v&&p(t,"contains multiple periods"),v=!0,P+=1);if(v&&!_)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[P]||"E"===t[P]){var F=t.substr(++P).match(l);if(!F||!F[2])return new e(Tr.Buffer.from(c));T=parseInt(F[0],10),P+=F[0].length}if(t[P])return new e(Tr.Buffer.from(c));if(I=0,O){if(E=O-1,1!==(y=b))for(;"0"===t[w+y-1];)y-=1}else I=0,E=0,S[0]=0,b=1,O=1,y=0;for(T<=m&&m-T>16384?T=a:T-=m;T>i;){if((E+=1)-I>34){if(S.join("").match(/^0+$/)){T=i;break}p(t,"overflow")}T-=1}for(;T<a||O<b;){if(0===E&&y<O){T=a,y=0;break}if(O<b?b-=1:E-=1,T<i)T+=1;else{if(S.join("").match(/^0+$/)){T=i;break}p(t,"overflow")}}if(E-I+1<y){var U=_;v&&(w+=1,U+=1),h&&(w+=1,U+=1);var q=parseInt(t[w+E+1],10),W=0;if(q>=5&&(W=1,5===q))for(W=S[E]%2==1?1:0,k=w+E+2;k<U;k++)if(parseInt(t[k],10)){W=1;break}if(W)for(var V=E;V>=0;V--)if(++S[V]>9&&(S[V]=0,0===V)){if(!(T<i))return new e(Tr.Buffer.from(h?s:u));T+=1,S[V]=1}}if(A=eo.Long.fromNumber(0),x=eo.Long.fromNumber(0),0===y)A=eo.Long.fromNumber(0),x=eo.Long.fromNumber(0);else if(E-I<17){var G=I;for(x=eo.Long.fromNumber(S[G++]),A=new eo.Long(0,0);G<=E;G++)x=(x=x.multiply(eo.Long.fromNumber(10))).add(eo.Long.fromNumber(S[G]))}else{var H=I;for(A=eo.Long.fromNumber(S[H++]);H<=E-17;H++)A=(A=A.multiply(eo.Long.fromNumber(10))).add(eo.Long.fromNumber(S[H]));for(x=eo.Long.fromNumber(S[H++]);H<=E;H++)x=(x=x.multiply(eo.Long.fromNumber(10))).add(eo.Long.fromNumber(S[H]))}var Y,$,z,K,J=function(e,t){if(!e&&!t)return{high:eo.Long.fromNumber(0),low:eo.Long.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new eo.Long(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new eo.Long(t.getLowBits(),0),a=n.multiply(o),c=n.multiply(i),s=r.multiply(o),u=r.multiply(i);return a=a.add(c.shiftRightUnsigned(32)),c=new eo.Long(c.getLowBits(),0).add(s).add(u.shiftRightUnsigned(32)),{high:a=a.add(c.shiftRightUnsigned(32)),low:u=c.shiftLeft(32).add(new eo.Long(u.getLowBits(),0))}}(A,eo.Long.fromString("100000000000000000"));J.low=J.low.add(x),$=x,((z=(Y=J.low).high>>>0)<(K=$.high>>>0)||z===K&&Y.low>>>0<$.low>>>0)&&(J.high=J.high.add(eo.Long.fromNumber(1))),d=T+6176;var X={low:eo.Long.fromNumber(0),high:eo.Long.fromNumber(0)};J.high.shiftRightUnsigned(49).and(eo.Long.fromNumber(1)).equals(eo.Long.fromNumber(1))?(X.high=X.high.or(eo.Long.fromNumber(3).shiftLeft(61)),X.high=X.high.or(eo.Long.fromNumber(d).and(eo.Long.fromNumber(16383).shiftLeft(47))),X.high=X.high.or(J.high.and(eo.Long.fromNumber(0x7fffffffffff)))):(X.high=X.high.or(eo.Long.fromNumber(16383&d).shiftLeft(49)),X.high=X.high.or(J.high.and(eo.Long.fromNumber(562949953421311)))),X.low=J.low,h&&(X.high=X.high.or(eo.Long.fromString("9223372036854775808")));var Q=Tr.Buffer.alloc(16);return P=0,Q[P++]=255&X.low.low,Q[P++]=X.low.low>>8&255,Q[P++]=X.low.low>>16&255,Q[P++]=X.low.low>>24&255,Q[P++]=255&X.low.high,Q[P++]=X.low.high>>8&255,Q[P++]=X.low.high>>16&255,Q[P++]=X.low.high>>24&255,Q[P++]=255&X.high.low,Q[P++]=X.high.low>>8&255,Q[P++]=X.high.low>>16&255,Q[P++]=X.high.low>>24&255,Q[P++]=255&X.high.high,Q[P++]=X.high.high>>8&255,Q[P++]=X.high.high>>16&255,Q[P++]=X.high.high>>24&255,new e(Q)}},{key:"fromExtendedJSON",value:function(t){return e.fromString(t.$numberDecimal)}}]),e}();t.Decimal128=h,Object.defineProperty(h.prototype,"_bsontype",{value:"Decimal128"})}));vr(to),to.Decimal128;var no=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Double=void 0;var n=function(){function e(t){lr(this,e),t instanceof Number&&(t=t.valueOf()),this.value=+t}return dr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:(Number.isInteger(this.value)?(t=this.value.toFixed(1)).length>=13&&(t=this.value.toExponential(13).toUpperCase()):t=this.value.toString(),{$numberDouble:t});var t}}],[{key:"fromExtendedJSON",value:function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)}}]),e}();t.Double=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Double"})}));vr(no),no.Double;var ro=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Int32=void 0;var n=function(){function e(t){lr(this,e),t instanceof Number&&(t=t.valueOf()),this.value=+t}return dr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();t.Int32=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Int32"})}));vr(ro),ro.Int32;var oo=gr((function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Map=void 0,t.Map=n;var r=function(e){return e&&e.Math==Math&&e},o=r("object"===("undefined"==typeof globalThis?"undefined":pr(globalThis))&&globalThis)||r("object"===("undefined"==typeof window?"undefined":pr(window))&&window)||r("object"===("undefined"==typeof self?"undefined":pr(self))&&self)||r("object"===pr(hr)&&hr)||Function("return this")();Object.prototype.hasOwnProperty.call(o,"Map")?t.Map=n=o.Map:t.Map=n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];lr(this,e),this._keys=[],this._values={};for(var n=0;n<t.length;n++)if(null!=t[n]){var r=t[n],o=r[0],i=r[1];this._keys.push(o),this._values[o]={v:i,i:this._keys.length-1}}}return dr(e,[{key:"clear",value:function(){this._keys=[],this._values={}}},{key:"delete",value:function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)}},{key:"entries",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}}},{key:"forEach",value:function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}}},{key:"get",value:function(e){return this._values[e]?this._values[e].v:void 0}},{key:"has",value:function(e){return null!=this._values[e]}},{key:"keys",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}}},{key:"set",value:function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)}},{key:"values",value:function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}}},{key:"size",get:function(){return this._keys.length}}]),e}()}));vr(oo),oo.Map;var io=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MaxKey=void 0;var n=function(){function e(){lr(this,e)}return dr(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();t.MaxKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MaxKey"})}));vr(io),io.MaxKey;var ao=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MinKey=void 0;var n=function(){function e(){lr(this,e)}return dr(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();t.MinKey=n,Object.defineProperty(n.prototype,"_bsontype",{value:"MinKey"})}));vr(ao),ao.MinKey;var co=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectId=void 0;for(var n=Qr.randomBytes(5),r=new RegExp("^[0-9a-fA-F]{24}$"),o=[],i=0;i<256;i++)o[i]=(i<=15?"0":"")+i.toString(16);for(var a=[],c=0;c<10;)a[48+c]=c++;for(;c<16;)a[55+c]=a[87+c]=c++;var s=Symbol("id"),u=function(){function e(t){if(lr(this,e),t instanceof e&&(this[s]=t.id,this.__id=t.__id),"object"===pr(t)&&t&&"id"in t&&("toHexString"in t&&"function"==typeof t.toHexString?this[s]=Tr.Buffer.from(t.toHexString(),"hex"):this[s]="string"==typeof t.id?Tr.Buffer.from(t.id):t.id),null!=t&&"number"!=typeof t||(this[s]=e.generate("number"==typeof t?t:void 0),e.cacheHexString&&(this.__id=this.id.toString("hex"))),ArrayBuffer.isView(t)&&12===t.byteLength&&(this[s]=kr.ensureBuffer(t)),"string"==typeof t)if(12===t.length){var n=Tr.Buffer.from(t);12===n.byteLength&&(this[s]=n)}else{if(24!==t.length||!r.test(t))throw new TypeError("Argument passed in must be a Buffer or string of 12 bytes or a string of 24 hex characters");this[s]=Tr.Buffer.from(t,"hex")}e.cacheHexString&&(this.__id=this.id.toString("hex"))}return dr(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return e.cacheHexString&&!this.__id&&(this.__id=t),t}},{key:"toString",value:function(e){return e?this.id.toString(e):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return null!=t&&(t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof Tr.Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?Tr.Buffer.from(t).equals(this.id):"object"===pr(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&t.toHexString()===this.toHexString())}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}},{key:"id",get:function(){return this[s]},set:function(t){this[s]=t,e.cacheHexString&&(this.__id=t.toString("hex"))}},{key:"generationTime",get:function(){return this.id.readInt32BE(0)},set:function(e){this.id.writeUInt32BE(e,0)}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var r=e.getInc(),o=Tr.Buffer.alloc(12);return o.writeUInt32BE(t,0),o[4]=n[0],o[5]=n[1],o[6]=n[2],o[7]=n[3],o[8]=n[4],o[11]=255&r,o[10]=r>>8&255,o[9]=r>>16&255,o}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Tr.Buffer.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n.writeUInt32BE(t,0),new e(n)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new e(Tr.Buffer.from(t,"hex"))}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&r.test(t):t instanceof e||t instanceof Tr.Buffer&&12===t.length||"object"===pr(t)&&"toHexString"in t&&"function"==typeof t.toHexString&&("string"==typeof t.id?12===t.id.length:24===t.toHexString().length&&r.test(t.id.toString("hex")))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();t.ObjectId=u,u.index=~~(16777215*Math.random()),Object.defineProperty(u.prototype,"generate",{value:Qr.deprecate((function(e){return u.generate(e)}),"Please use the static `ObjectId.generate(time)` instead")}),Object.defineProperty(u.prototype,"getInc",{value:Qr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u.prototype,"get_inc",{value:Qr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")}),Object.defineProperty(u,"get_inc",{value:Qr.deprecate((function(){return u.getInc()}),"Please use the static `ObjectId.getInc()` instead")});var l=Symbol.for("nodejs.util.inspect.custom");Object.defineProperty(u.prototype,l,u.prototype.toString),Object.defineProperty(u.prototype,"inspect",u.prototype.toString),Object.defineProperty(u.prototype,"_bsontype",{value:"ObjectID"})}));vr(co),co.ObjectId;var so=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_DATA_MAX_KEY=t.BSON_DATA_MIN_KEY=t.BSON_DATA_DECIMAL128=t.BSON_DATA_LONG=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_INT=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_SYMBOL=t.BSON_DATA_CODE=t.BSON_DATA_DBPOINTER=t.BSON_DATA_REGEXP=t.BSON_DATA_NULL=t.BSON_DATA_DATE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_OID=t.BSON_DATA_UNDEFINED=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_DATA_OBJECT=t.BSON_DATA_STRING=t.BSON_DATA_NUMBER=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=void 0,t.BSON_INT32_MAX=2147483647,t.BSON_INT32_MIN=-2147483648,t.BSON_INT64_MAX=Math.pow(2,63)-1,t.BSON_INT64_MIN=-Math.pow(2,63),t.JS_INT_MAX=Math.pow(2,53),t.JS_INT_MIN=-Math.pow(2,53),t.BSON_DATA_NUMBER=1,t.BSON_DATA_STRING=2,t.BSON_DATA_OBJECT=3,t.BSON_DATA_ARRAY=4,t.BSON_DATA_BINARY=5,t.BSON_DATA_UNDEFINED=6,t.BSON_DATA_OID=7,t.BSON_DATA_BOOLEAN=8,t.BSON_DATA_DATE=9,t.BSON_DATA_NULL=10,t.BSON_DATA_REGEXP=11,t.BSON_DATA_DBPOINTER=12,t.BSON_DATA_CODE=13,t.BSON_DATA_SYMBOL=14,t.BSON_DATA_CODE_W_SCOPE=15,t.BSON_DATA_INT=16,t.BSON_DATA_TIMESTAMP=17,t.BSON_DATA_LONG=18,t.BSON_DATA_DECIMAL128=19,t.BSON_DATA_MIN_KEY=255,t.BSON_DATA_MAX_KEY=127,t.BSON_BINARY_SUBTYPE_DEFAULT=0,t.BSON_BINARY_SUBTYPE_FUNCTION=1,t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,t.BSON_BINARY_SUBTYPE_UUID=3,t.BSON_BINARY_SUBTYPE_UUID_NEW=4,t.BSON_BINARY_SUBTYPE_MD5=5,t.BSON_BINARY_SUBTYPE_USER_DEFINED=128}));vr(so),so.BSON_BINARY_SUBTYPE_USER_DEFINED,so.BSON_BINARY_SUBTYPE_MD5,so.BSON_BINARY_SUBTYPE_UUID_NEW,so.BSON_BINARY_SUBTYPE_UUID,so.BSON_BINARY_SUBTYPE_BYTE_ARRAY,so.BSON_BINARY_SUBTYPE_FUNCTION,so.BSON_BINARY_SUBTYPE_DEFAULT,so.BSON_DATA_MAX_KEY,so.BSON_DATA_MIN_KEY,so.BSON_DATA_DECIMAL128,so.BSON_DATA_LONG,so.BSON_DATA_TIMESTAMP,so.BSON_DATA_INT,so.BSON_DATA_CODE_W_SCOPE,so.BSON_DATA_SYMBOL,so.BSON_DATA_CODE,so.BSON_DATA_DBPOINTER,so.BSON_DATA_REGEXP,so.BSON_DATA_NULL,so.BSON_DATA_DATE,so.BSON_DATA_BOOLEAN,so.BSON_DATA_OID,so.BSON_DATA_UNDEFINED,so.BSON_DATA_BINARY,so.BSON_DATA_ARRAY,so.BSON_DATA_OBJECT,so.BSON_DATA_STRING,so.BSON_DATA_NUMBER,so.JS_INT_MIN,so.JS_INT_MAX,so.BSON_INT64_MIN,so.BSON_INT64_MAX,so.BSON_INT32_MIN,so.BSON_INT32_MAX;var uo=gr((function(e,t){function n(e,t,n){var o=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)o+=r(i.toString(),e[i],t,!0,n);else for(var a in e.toBSON&&(e=e.toBSON()),e)o+=r(a,e[a],t,!1,n);return o}function r(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(t&&t.toBSON&&(t=t.toBSON()),pr(t)){case"string":return 1+Tr.Buffer.byteLength(e,"utf8")+1+4+Tr.Buffer.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=so.JS_INT_MIN&&t<=so.JS_INT_MAX&&t>=so.BSON_INT32_MIN&&t<=so.BSON_INT32_MAX?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+5:(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;case"undefined":return o||!i?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||Qr.isDate(t))return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+6+t.byteLength;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Tr.Buffer.byteLength(t.code.toString(),"utf8")+1+n(t.scope,r,i):(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+Tr.Buffer.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===xr.Binary.SUBTYPE_BYTE_ARRAY?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+Tr.Buffer.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var a=_extends({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(a.$db=t.db),(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+n(a,r,i)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.pattern,"utf8")+1+Tr.Buffer.byteLength(t.options,"utf8")+1:(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+n(t,r,i)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+Tr.Buffer.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(r&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+4+Tr.Buffer.byteLength(Qr.normalizedFunctionString(t),"utf8")+1+n(t.scope,r,i);if(r)return(null!=e?Tr.Buffer.byteLength(e,"utf8")+1:0)+1+4+Tr.Buffer.byteLength(Qr.normalizedFunctionString(t),"utf8")+1}return 0}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateObjectSize=void 0,t.calculateObjectSize=n}));vr(uo),uo.calculateObjectSize;var lo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONRegExp=void 0;var n=function(){function e(t,n){lr(this,e),this.pattern=t,this.options=null!=n?n:"",this.options.split("").sort().join("");for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return dr(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){if("$regex"in t){if("string"==typeof t.$regex)return new e(t.$regex,e.parseOptions(t.$options));if("BSONRegExp"===t.$regex._bsontype)return t}if("$regularExpression"in t)return new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options));throw new TypeError("Unexpected BSONRegExp EJSON object form: ".concat(JSON.stringify(t)))}}]),e}();t.BSONRegExp=n,Object.defineProperty(n.prototype,"_bsontype",{value:"BSONRegExp"})}));vr(lo),lo.BSONRegExp;var fo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.BSONSymbol=void 0;var n=function(){function e(t){lr(this,e),this.value=t}return dr(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();t.BSONSymbol=n,Object.defineProperty(n.prototype,"_bsontype",{value:"Symbol"})}));vr(fo),fo.BSONSymbol;var po=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Timestamp=t.LongWithoutOverridesClass=void 0,t.LongWithoutOverridesClass=eo.Long;var n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ar(e,t)}(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ur(t);if(n){var o=ur(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return cr(this,e)});function o(e,t){var n;return lr(this,o),n=eo.Long.isLong(e)?r.call(this,e.low,e.high,!0):r.call(this,e,t,!0),Object.defineProperty(sr(n),"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),cr(n)}return dr(o,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new o(eo.Long.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new o(eo.Long.fromNumber(e,!0))}},{key:"fromBits",value:function(e,t){return new o(e,t)}},{key:"fromString",value:function(e,t){return new o(eo.Long.fromString(e,!0,t))}},{key:"fromExtendedJSON",value:function(e){return new o(e.$timestamp.i,e.$timestamp.t)}}]),o}(t.LongWithoutOverridesClass);t.Timestamp=n,n.MAX_VALUE=eo.Long.MAX_UNSIGNED_VALUE}));vr(po),po.Timestamp,po.LongWithoutOverridesClass;var ho=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateUtf8=void 0,t.validateUtf8=function(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if(128!=(192&i))return!1;r-=1}else if(128&i)if(192==(224&i))r=1;else if(224==(240&i))r=2;else{if(240!=(248&i))return!1;r=3}}return!r}}));vr(ho),ho.validateUtf8;var vo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=eo.Long.fromNumber(so.JS_INT_MAX),r=eo.Long.fromNumber(so.JS_INT_MIN),o={};function i(e,t,c){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null!=c.evalFunctions&&c.evalFunctions,l=null!=c.cacheFunctions&&c.cacheFunctions,f=null==c.fieldsAsRaw?null:c.fieldsAsRaw,d=null!=c.raw&&c.raw,p="boolean"==typeof c.bsonRegExp&&c.bsonRegExp,h=null!=c.promoteBuffers&&c.promoteBuffers,v=null==c.promoteLongs||c.promoteLongs,g=null==c.promoteValues||c.promoteValues,y=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var _=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(_<5||_>e.length)throw new Error("corrupt bson message");for(var b=s?[]:{},m=0,w=!1;!w;){var S=e[t++];if(0===S)break;for(var O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.byteLength)throw new Error("Bad BSON Document: illegal CString");var C=s?m++:e.toString("utf8",t,O);if(t=O+1,S===so.BSON_DATA_STRING){var I=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(I<=0||I>e.length-t||0!==e[t+I-1])throw new Error("bad string length in bson");if(!ho.validateUtf8(e,t,t+I-1))throw new Error("Invalid UTF-8 string in BSON document");var E=e.toString("utf8",t,t+I-1);b[C]=E,t+=I}else if(S===so.BSON_DATA_OID){var T=Tr.Buffer.alloc(12);e.copy(T,0,t,t+12),b[C]=new co.ObjectId(T),t+=12}else if(S===so.BSON_DATA_INT&&!1===g)b[C]=new ro.Int32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(S===so.BSON_DATA_INT)b[C]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(S===so.BSON_DATA_NUMBER&&!1===g)b[C]=new no.Double(e.readDoubleLE(t)),t+=8;else if(S===so.BSON_DATA_NUMBER)b[C]=e.readDoubleLE(t),t+=8;else if(S===so.BSON_DATA_DATE){var k=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,A=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;b[C]=new Date(new eo.Long(k,A).toNumber())}else if(S===so.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");b[C]=1===e[t++]}else if(S===so.BSON_DATA_OBJECT){var x=t,P=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(P<=0||P>e.length-t)throw new Error("bad embedded document length in bson");b[C]=d?e.slice(t,t+P):i(e,x,c,!1),t+=P}else if(S===so.BSON_DATA_ARRAY){var j=t,N=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,D=c,R=t+N;if(f&&f[C]){for(var M in D={},c)D[M]=c[M];D.raw=!0}if(b[C]=i(e,j,D,!0),0!==e[(t+=N)-1])throw new Error("invalid array terminator byte");if(t!==R)throw new Error("corrupted array bson")}else if(S===so.BSON_DATA_UNDEFINED)b[C]=void 0;else if(S===so.BSON_DATA_NULL)b[C]=null;else if(S===so.BSON_DATA_LONG){var B=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,L=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=new eo.Long(B,L);b[C]=v&&!0===g&&F.lessThanOrEqual(n)&&F.greaterThanOrEqual(r)?F.toNumber():F}else if(S===so.BSON_DATA_DECIMAL128){var U=Tr.Buffer.alloc(16);e.copy(U,0,t,t+16),t+=16;var q=new to.Decimal128(U);"toObject"in q&&"function"==typeof q.toObject?b[C]=q.toObject():b[C]=q}else if(S===so.BSON_DATA_BINARY){var W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,V=W,G=e[t++];if(W<0)throw new Error("Negative binary type element size found");if(W>e.byteLength)throw new Error("Binary type size larger than document size");if(null!=e.slice){if(G===xr.Binary.SUBTYPE_BYTE_ARRAY){if((W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(W>V-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(W<V-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}b[C]=h&&g?e.slice(t,t+W):new xr.Binary(e.slice(t,t+W),G)}else{var H=Tr.Buffer.alloc(W);if(G===xr.Binary.SUBTYPE_BYTE_ARRAY){if((W=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(W>V-4)throw new Error("Binary type with subtype 0x02 contains too long binary size");if(W<V-4)throw new Error("Binary type with subtype 0x02 contains too short binary size")}for(O=0;O<W;O++)H[O]=e[t+O];b[C]=h&&g?H:new xr.Binary(H,G)}t+=W}else if(S===so.BSON_DATA_REGEXP&&!1===p){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var Y=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var $=e.toString("utf8",t,O);t=O+1;var z=new Array($.length);for(O=0;O<$.length;O++)switch($[O]){case"m":z[O]="m";break;case"s":z[O]="g";break;case"i":z[O]="i"}b[C]=new RegExp(Y,z.join(""))}else if(S===so.BSON_DATA_REGEXP&&!0===p){for(O=t;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var K=e.toString("utf8",t,O);for(O=t=O+1;0!==e[O]&&O<e.length;)O++;if(O>=e.length)throw new Error("Bad BSON Document: illegal CString");var J=e.toString("utf8",t,O);t=O+1,b[C]=new lo.BSONRegExp(K,J)}else if(S===so.BSON_DATA_SYMBOL){var X=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(X<=0||X>e.length-t||0!==e[t+X-1])throw new Error("bad string length in bson");var Q=e.toString("utf8",t,t+X-1);b[C]=g?Q:new fo.BSONSymbol(Q),t+=X}else if(S===so.BSON_DATA_TIMESTAMP){var Z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;b[C]=new po.Timestamp(Z,ee)}else if(S===so.BSON_DATA_MIN_KEY)b[C]=new ao.MinKey;else if(S===so.BSON_DATA_MAX_KEY)b[C]=new io.MaxKey;else if(S===so.BSON_DATA_CODE){var te=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(te<=0||te>e.length-t||0!==e[t+te-1])throw new Error("bad string length in bson");var ne=e.toString("utf8",t,t+te-1);b[C]=u?l?a(ne,o,b):a(ne):new Pr.Code(ne),t+=te}else if(S===so.BSON_DATA_CODE_W_SCOPE){var re=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(re<13)throw new Error("code_w_scope total size shorter minimum expected length");var oe=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(oe<=0||oe>e.length-t||0!==e[t+oe-1])throw new Error("bad string length in bson");var ie=e.toString("utf8",t,t+oe-1),ae=t+=oe,ce=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,se=i(e,ae,c,!1);if(t+=ce,re<8+ce+oe)throw new Error("code_w_scope total size is too short, truncating scope");if(re>8+ce+oe)throw new Error("code_w_scope total size is too long, clips outer document");u?(b[C]=l?a(ie,o,b):a(ie),b[C].scope=se):b[C]=new Pr.Code(ie,se)}else{if(S!==so.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+S.toString(16)+' for fieldname "'+C+'"');var ue=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ue<=0||ue>e.length-t||0!==e[t+ue-1])throw new Error("bad string length in bson");if(!ho.validateUtf8(e,t,t+ue-1))throw new Error("Invalid UTF-8 string in BSON document");var le=e.toString("utf8",t,t+ue-1);t+=ue;var fe=Tr.Buffer.alloc(12);e.copy(fe,0,t,t+12);var de=new co.ObjectId(fe);t+=12,b[C]=new Zr.DBRef(le,de)}}if(_!==t-y){if(s)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var pe=Object.keys(b).filter((function(e){return e.startsWith("$")})),he=!0;if(pe.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(he=!1)})),!he)return b;if(Zr.isDBRefLike(b)){var ve=_extends({},b);return delete ve.$ref,delete ve.$id,delete ve.$db,new Zr.DBRef(b.$ref,b.$id,b.$db,ve)}return b}function a(e,t,n){return t?(null==t[e]&&(t[e]=new Function(e)),t[e].bind(n)):new Function(e)}t.deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is ".concat(o));if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(o));if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(o));if(o+r>e.byteLength)throw new Error("(bson size ".concat(o," + options.index ").concat(r," must be <= buffer length ").concat(e.byteLength,")"));if(0!==e[r+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return i(e,r,t,n)}}));vr(vo),vo.deserialize;var go=gr((function(e,t){function n(e){return Qr.isObjectLike(e)&&Reflect.has(e,"_bsontype")&&"string"==typeof e._bsontype}Object.defineProperty(t,"__esModule",{value:!0}),t.EJSON=t.isBSONType=void 0,t.isBSONType=n;var r=2147483647,o=-2147483648,i=0x8000000000000000,a=-0x8000000000000000,c={$oid:co.ObjectId,$binary:xr.Binary,$uuid:xr.Binary,$symbol:fo.BSONSymbol,$numberInt:ro.Int32,$numberDecimal:to.Decimal128,$numberDouble:no.Double,$numberLong:eo.Long,$minKey:ao.MinKey,$maxKey:io.MaxKey,$regex:lo.BSONRegExp,$regularExpression:lo.BSONRegExp,$timestamp:po.Timestamp};function s(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function u(e,t){if(Array.isArray(e))return function(e,t){return e.map((function(e){return u(e,t)}))}(e,t);if(void 0===e)return null;if(e instanceof Date){var c=e.getTime(),f=c>-1&&c<2534023188e5;return t.legacy?t.relaxed&&f?{$date:e.getTime()}:{$date:s(e)}:t.relaxed&&f?{$date:s(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var d=e>=a&&e<=i;if(e>=o&&e<=r)return{$numberInt:e.toString()};if(d)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var p=e.flags;if(void 0===p){var h=e.toString().match(/[gimuy]*$/);h&&(p=h[0])}return new lo.BSONRegExp(e.source,p).toExtendedJSON(t)}return null!=e&&"object"===pr(e)?function(e,t){if(null==e||"object"!==pr(e))throw new Error("not an object instance");var r=e._bsontype;if(void 0===r){var o={};for(var i in e)o[i]=u(e[i],t);return o}if(n(e)){var a=e;if("function"!=typeof a.toExtendedJSON){var c=l[e._bsontype];if(!c)throw new TypeError("Unrecognized or invalid _bsontype: "+e._bsontype);a=c(a)}return"Code"===r&&a.scope?a=new Pr.Code(a.code,u(a.scope,t)):"DBRef"===r&&a.oid&&(a=new Zr.DBRef(a.collection,u(a.oid,t),a.db,a.fields)),a.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+pr(r))}(e,t):e}var l={Binary:function(e){return new xr.Binary(e.value(),e.sub_type)},Code:function(e){return new Pr.Code(e.code,e.scope)},DBRef:function(e){return new Zr.DBRef(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new to.Decimal128(e.bytes)},Double:function(e){return new no.Double(e.value)},Int32:function(e){return new ro.Int32(e.value)},Long:function(e){return eo.Long.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new io.MaxKey},MinKey:function(){return new ao.MinKey},ObjectID:function(e){return new co.ObjectId(e)},ObjectId:function(e){return new co.ObjectId(e)},BSONRegExp:function(e){return new lo.BSONRegExp(e.pattern,e.options)},Symbol:function(e){return new fo.BSONSymbol(e.value)},Timestamp:function(e){return po.Timestamp.fromBits(e.low,e.high)}};!function(e){function t(e,t){var n=_extends({},{relaxed:!0,legacy:!1},t);return"boolean"==typeof n.relaxed&&(n.strict=!n.relaxed),"boolean"==typeof n.strict&&(n.relaxed=!n.strict),JSON.parse(e,(function(e,t){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("number"==typeof t){if(n.relaxed||n.legacy)return t;if(Math.floor(t)===t){if(t>=o&&t<=r)return new ro.Int32(t);if(t>=a&&t<=i)return eo.Long.fromNumber(t)}return new no.Double(t)}if(null==t||"object"!==pr(t))return t;if(t.$undefined)return null;for(var s=Object.keys(t).filter((function(e){return e.startsWith("$")&&null!=t[e]})),u=0;u<s.length;u++){var l=c[s[u]];if(l)return l.fromExtendedJSON(t,n)}if(null!=t.$date){var f=t.$date,d=new Date;return n.legacy?"number"==typeof f?d.setTime(f):"string"==typeof f&&d.setTime(Date.parse(f)):"string"==typeof f?d.setTime(Date.parse(f)):eo.Long.isLong(f)?d.setTime(f.toNumber()):"number"==typeof f&&n.relaxed&&d.setTime(f),d}if(null!=t.$code){var p=_extends({},t);return t.$scope&&(p.$scope=e(t.$scope)),Pr.Code.fromExtendedJSON(t)}if(null!=t.$ref||null!=t.$dbPointer){var h=t.$ref?t:t.$dbPointer;if(h instanceof Zr.DBRef)return h;var v=Object.keys(h).filter((function(e){return e.startsWith("$")})),g=!0;if(v.forEach((function(e){-1===["$ref","$id","$db"].indexOf(e)&&(g=!1)})),g)return Zr.DBRef.fromExtendedJSON(h)}return t}(t,n)}))}function n(e,t,n,r){null!=n&&"object"===pr(n)&&(r=n,n=0),null==t||"object"!==pr(t)||Array.isArray(t)||(r=t,t=void 0,n=0);var o=u(e,r=_extends({},{relaxed:!0,legacy:!1},r));return JSON.stringify(o,t,n)}e.parse=t,e.stringify=n,e.serialize=function(e,t){return t=t||{},JSON.parse(n(e,t))},e.deserialize=function(e,n){return n=n||{},t(JSON.stringify(e),n)}}(t.EJSON||(t.EJSON={}))}));vr(go),go.EJSON,go.isBSONType;var yo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.writeIEEE754=t.readIEEE754=void 0,t.readIEEE754=function(e,t,n,r,o){var i,a,c="big"===n,s=8*o-r-1,u=(1<<s)-1,l=u>>1,f=-7,d=c?0:o-1,p=c?1:-1,h=e[t+d];for(d+=p,i=h&(1<<-f)-1,h>>=-f,f+=s;f>0;i=256*i+e[t+d],d+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+d],d+=p,f-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)},t.writeIEEE754=function(e,t,n,r,o,i){var a,c,s,u="big"===r,l=8*i-o-1,f=(1<<l)-1,d=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=u?i-1:0,v=u?-1:1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+d>=1?p/s:p*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=f?(c=0,a=f):a+d>=1?(c=(t*s-1)*Math.pow(2,o),a+=d):(c=t*Math.pow(2,d-1)*Math.pow(2,o),a=0)),isNaN(t)&&(c=0);o>=8;)e[n+h]=255&c,h+=v,c/=256,o-=8;for(a=a<<o|c,isNaN(t)&&(a+=8),l+=o;l>0;)e[n+h]=255&a,h+=v,a/=256,l-=8;e[n+h-v]|=128*g}}));vr(yo),yo.writeIEEE754,yo.readIEEE754;var _o=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeInto=void 0;var n=/\x00/,r=new Set(["$db","$ref","$id","$clusterTime"]);function o(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function i(e,t,n,r,o){e[r++]=so.BSON_DATA_STRING;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");e[(r=r+i+1)-1]=0;var a=e.write(n,r+4,void 0,"utf8");return e[r+3]=a+1>>24&255,e[r+2]=a+1>>16&255,e[r+1]=a+1>>8&255,e[r]=a+1&255,r=r+4+a,e[r++]=0,r}function a(e,t,n,r,o){return Number.isInteger(n)&&n>=so.BSON_INT32_MIN&&n<=so.BSON_INT32_MAX?(e[r++]=so.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255):(e[r++]=so.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,yo.writeIEEE754(e,n,r,"little",52,8),r+=8),r}function c(e,t,n,r,o){return e[r++]=so.BSON_DATA_NULL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function s(e,t,n,r,o){return e[r++]=so.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function u(e,t,n,r,o){e[r++]=so.BSON_DATA_DATE,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=eo.Long.fromNumber(n.getTime()),a=i.getLowBits(),c=i.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255,r}function l(e,t,r,o,i){if(e[o++]=so.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,r.source&&null!=r.source.match(n))throw Error("value "+r.source+" must not contain null bytes");return o+=e.write(r.source,o,void 0,"utf8"),e[o++]=0,r.ignoreCase&&(e[o++]=105),r.global&&(e[o++]=115),r.multiline&&(e[o++]=109),e[o++]=0,o}function f(e,t,r,o,i){if(e[o++]=so.BSON_DATA_REGEXP,o+=i?e.write(t,o,void 0,"ascii"):e.write(t,o,void 0,"utf8"),e[o++]=0,null!=r.pattern.match(n))throw Error("pattern "+r.pattern+" must not contain null bytes");return o+=e.write(r.pattern,o,void 0,"utf8"),e[o++]=0,o+=e.write(r.options.split("").sort().join(""),o,void 0,"utf8"),e[o++]=0,o}function d(e,t,n,r,o){return null===n?e[r++]=so.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=so.BSON_DATA_MIN_KEY:e[r++]=so.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,r}function p(e,t,n,r,o){if(e[r++]=so.BSON_DATA_OID,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,void 0,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function h(e,t,n,r,o){e[r++]=so.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=so.BSON_BINARY_SUBTYPE_DEFAULT,e.set(kr.ensureBuffer(n),r),r+i}function v(e,t,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],l=0;l<u.length;l++)if(u[l]===n)throw new Error("cyclic dependency detected");u.push(n),e[r++]=Array.isArray(n)?so.BSON_DATA_ARRAY:so.BSON_DATA_OBJECT;var f=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=f,e[r++]=0;var d=I(e,n,o,r,i+1,a,c,u);return u.pop(),d}function g(e,t,n,r,o){return e[r++]=so.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function y(e,t,n,r,o){e[r++]="Long"===n._bsontype?so.BSON_DATA_LONG:so.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.getLowBits(),a=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function _(e,t,n,r,o){return n=n.valueOf(),e[r++]=so.BSON_DATA_INT,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function b(e,t,n,r,o){return e[r++]=so.BSON_DATA_NUMBER,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0,yo.writeIEEE754(e,n.value,r,"little",52,8),r+8}function m(e,t,n,r){var o=arguments.length>6?arguments[6]:void 0;e[r++]=so.BSON_DATA_CODE;var i=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=i,e[r++]=0;var a=Qr.normalizedFunctionString(n),c=e.write(a,r+4,void 0,"utf8")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r}function w(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],s=arguments.length>8&&void 0!==arguments[8]&&arguments[8];if(n.scope&&"object"===pr(n.scope)){e[r++]=so.BSON_DATA_CODE_W_SCOPE;var u=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=u,e[r++]=0;var l=r,f="string"==typeof n.code?n.code:n.code.toString();r+=4;var d=e.write(f,r+4,void 0,"utf8")+1;e[r]=255&d,e[r+1]=d>>8&255,e[r+2]=d>>16&255,e[r+3]=d>>24&255,e[r+4+d-1]=0,r=r+d+4;var p=I(e,n.scope,o,r,i+1,a,c);r=p-1;var h=p-l;e[l++]=255&h,e[l++]=h>>8&255,e[l++]=h>>16&255,e[l++]=h>>24&255,e[r++]=0}else{e[r++]=so.BSON_DATA_CODE;var v=s?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8");r+=v,e[r++]=0;var g=n.code.toString(),y=e.write(g,r+4,void 0,"utf8")+1;e[r]=255&y,e[r+1]=y>>8&255,e[r+2]=y>>16&255,e[r+3]=y>>24&255,r=r+4+y-1,e[r++]=0}return r}function S(e,t,n,r,o){e[r++]=so.BSON_DATA_BINARY,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=n.value(!0),a=n.position;return n.sub_type===xr.Binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===xr.Binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),e.set(i,r),r+n.position}function O(e,t,n,r,o){e[r++]=so.BSON_DATA_SYMBOL,r+=o?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,void 0,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function C(e,t,n,r,o,i,a){e[r++]=so.BSON_DATA_OBJECT,r+=a?e.write(t,r,void 0,"ascii"):e.write(t,r,void 0,"utf8"),e[r++]=0;var c=r,s={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(s.$db=n.db);var u=I(e,s=_extends(s,n.fields),!1,r,o+1,i),l=u-c;return e[c++]=255&l,e[c++]=l>>8&255,e[c++]=l>>16&255,e[c++]=l>>24&255,u}function I(e,t){var I=arguments.length>2&&void 0!==arguments[2]&&arguments[2],E=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,k=arguments.length>5&&void 0!==arguments[5]&&arguments[5],A=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],x=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];E=E||0,(x=x||[]).push(t);var P=E+4;if(Array.isArray(t))for(var j=0;j<t.length;j++){var N=""+j,D=t[j];if(D&&D.toBSON){if("function"!=typeof D.toBSON)throw new TypeError("toBSON is not a function");D=D.toBSON()}if("string"==typeof D)P=i(e,N,D,P,!0);else if("number"==typeof D)P=a(e,N,D,P,!0);else{if("bigint"==typeof D)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"==typeof D)P=s(e,N,D,P,!0);else if(D instanceof Date||Qr.isDate(D))P=u(e,N,D,P,!0);else if(void 0===D)P=c(e,N,0,P,!0);else if(null===D)P=c(e,N,0,P,!0);else if("ObjectId"===D._bsontype||"ObjectID"===D._bsontype)P=p(e,N,D,P,!0);else if(Tr.Buffer.isBuffer(D)||Qr.isUint8Array(D))P=h(e,N,D,P,!0);else if(D instanceof RegExp||o(D))P=l(e,N,D,P,!0);else if("object"===pr(D)&&null==D._bsontype)P=v(e,N,D,P,I,T,k,A,!0,x);else if("object"===pr(D)&&go.isBSONType(D)&&"Decimal128"===D._bsontype)P=g(e,N,D,P,!0);else if("Long"===D._bsontype||"Timestamp"===D._bsontype)P=y(e,N,D,P,!0);else if("Double"===D._bsontype)P=b(e,N,D,P,!0);else if("function"==typeof D&&k)P=m(e,N,D,P,I,T,!0);else if("Code"===D._bsontype)P=w(e,N,D,P,I,T,k,A,!0);else if("Binary"===D._bsontype)P=S(e,N,D,P,!0);else if("Symbol"===D._bsontype)P=O(e,N,D,P,!0);else if("DBRef"===D._bsontype)P=C(e,N,D,P,T,k,!0);else if("BSONRegExp"===D._bsontype)P=f(e,N,D,P,!0);else if("Int32"===D._bsontype)P=_(e,N,D,P,!0);else if("MinKey"===D._bsontype||"MaxKey"===D._bsontype)P=d(e,N,D,P,!0);else if(void 0!==D._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+D._bsontype)}}else if(t instanceof oo.Map)for(var R=t.entries(),M=!1;!M;){var B=R.next();if(!(M=!!B.done)){var L=B.value[0],F=B.value[1],U=pr(F);if("string"==typeof L&&!r.has(L)){if(null!=L.match(n))throw Error("key "+L+" must not contain null bytes");if(I){if("$"===L[0])throw Error("key "+L+" must not start with '$'");if(~L.indexOf("."))throw Error("key "+L+" must not contain '.'")}}if("string"===U)P=i(e,L,F,P);else if("number"===U)P=a(e,L,F,P);else{if("bigint"===U||Qr.isBigInt64Array(F)||Qr.isBigUInt64Array(F))throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===U)P=s(e,L,F,P);else if(F instanceof Date||Qr.isDate(F))P=u(e,L,F,P);else if(null===F||void 0===F&&!1===A)P=c(e,L,0,P);else if("ObjectId"===F._bsontype||"ObjectID"===F._bsontype)P=p(e,L,F,P);else if(Tr.Buffer.isBuffer(F)||Qr.isUint8Array(F))P=h(e,L,F,P);else if(F instanceof RegExp||o(F))P=l(e,L,F,P);else if("object"===U&&null==F._bsontype)P=v(e,L,F,P,I,T,k,A,!1,x);else if("object"===U&&"Decimal128"===F._bsontype)P=g(e,L,F,P);else if("Long"===F._bsontype||"Timestamp"===F._bsontype)P=y(e,L,F,P);else if("Double"===F._bsontype)P=b(e,L,F,P);else if("Code"===F._bsontype)P=w(e,L,F,P,I,T,k,A);else if("function"==typeof F&&k)P=m(e,L,F,P,I,T,k);else if("Binary"===F._bsontype)P=S(e,L,F,P);else if("Symbol"===F._bsontype)P=O(e,L,F,P);else if("DBRef"===F._bsontype)P=C(e,L,F,P,T,k);else if("BSONRegExp"===F._bsontype)P=f(e,L,F,P);else if("Int32"===F._bsontype)P=_(e,L,F,P);else if("MinKey"===F._bsontype||"MaxKey"===F._bsontype)P=d(e,L,F,P);else if(void 0!==F._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+F._bsontype)}}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==pr(t))throw new TypeError("toBSON function did not return an object")}for(var q in t){var W=t[q];if(W&&W.toBSON){if("function"!=typeof W.toBSON)throw new TypeError("toBSON is not a function");W=W.toBSON()}var V=pr(W);if("string"==typeof q&&!r.has(q)){if(null!=q.match(n))throw Error("key "+q+" must not contain null bytes");if(I){if("$"===q[0])throw Error("key "+q+" must not start with '$'");if(~q.indexOf("."))throw Error("key "+q+" must not contain '.'")}}if("string"===V)P=i(e,q,W,P);else if("number"===V)P=a(e,q,W,P);else{if("bigint"===V)throw new TypeError("Unsupported type BigInt, please use Decimal128");if("boolean"===V)P=s(e,q,W,P);else if(W instanceof Date||Qr.isDate(W))P=u(e,q,W,P);else if(void 0===W)!1===A&&(P=c(e,q,0,P));else if(null===W)P=c(e,q,0,P);else if("ObjectId"===W._bsontype||"ObjectID"===W._bsontype)P=p(e,q,W,P);else if(Tr.Buffer.isBuffer(W)||Qr.isUint8Array(W))P=h(e,q,W,P);else if(W instanceof RegExp||o(W))P=l(e,q,W,P);else if("object"===V&&null==W._bsontype)P=v(e,q,W,P,I,T,k,A,!1,x);else if("object"===V&&"Decimal128"===W._bsontype)P=g(e,q,W,P);else if("Long"===W._bsontype||"Timestamp"===W._bsontype)P=y(e,q,W,P);else if("Double"===W._bsontype)P=b(e,q,W,P);else if("Code"===W._bsontype)P=w(e,q,W,P,I,T,k,A);else if("function"==typeof W&&k)P=m(e,q,W,P,I,T,k);else if("Binary"===W._bsontype)P=S(e,q,W,P);else if("Symbol"===W._bsontype)P=O(e,q,W,P);else if("DBRef"===W._bsontype)P=C(e,q,W,P,T,k);else if("BSONRegExp"===W._bsontype)P=f(e,q,W,P);else if("Int32"===W._bsontype)P=_(e,q,W,P);else if("MinKey"===W._bsontype||"MaxKey"===W._bsontype)P=d(e,q,W,P);else if(void 0!==W._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+W._bsontype)}}}x.pop(),e[P++]=0;var G=P-E;return e[E++]=255&G,e[E++]=G>>8&255,e[E++]=G>>16&255,e[E++]=G>>24&255,P}t.serializeInto=I}));vr(_o),_o.serializeInto;var bo=gr((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeStream=t.calculateObjectSize=t.deserialize=t.serializeWithBufferAndIndex=t.serialize=t.setInternalBufferSize=t.ObjectID=t.Decimal128=t.BSONRegExp=t.MaxKey=t.MinKey=t.Int32=t.Double=t.Timestamp=t.Long=t.ObjectId=t.Binary=t.DBRef=t.BSONSymbol=t.Map=t.Code=t.LongWithoutOverridesClass=t.EJSON=t.JS_INT_MIN=t.JS_INT_MAX=t.BSON_INT64_MIN=t.BSON_INT64_MAX=t.BSON_INT32_MIN=t.BSON_INT32_MAX=t.BSON_DATA_UNDEFINED=t.BSON_DATA_TIMESTAMP=t.BSON_DATA_SYMBOL=t.BSON_DATA_STRING=t.BSON_DATA_REGEXP=t.BSON_DATA_OID=t.BSON_DATA_OBJECT=t.BSON_DATA_NUMBER=t.BSON_DATA_NULL=t.BSON_DATA_MIN_KEY=t.BSON_DATA_MAX_KEY=t.BSON_DATA_LONG=t.BSON_DATA_INT=t.BSON_DATA_DECIMAL128=t.BSON_DATA_DBPOINTER=t.BSON_DATA_DATE=t.BSON_DATA_CODE_W_SCOPE=t.BSON_DATA_CODE=t.BSON_DATA_BOOLEAN=t.BSON_DATA_BINARY=t.BSON_DATA_ARRAY=t.BSON_BINARY_SUBTYPE_UUID_NEW=t.BSON_BINARY_SUBTYPE_UUID=t.BSON_BINARY_SUBTYPE_USER_DEFINED=t.BSON_BINARY_SUBTYPE_MD5=t.BSON_BINARY_SUBTYPE_FUNCTION=t.BSON_BINARY_SUBTYPE_DEFAULT=t.BSON_BINARY_SUBTYPE_BYTE_ARRAY=void 0,Object.defineProperty(t,"Binary",{enumerable:!0,get:function(){return xr.Binary}}),Object.defineProperty(t,"Code",{enumerable:!0,get:function(){return Pr.Code}}),Object.defineProperty(t,"DBRef",{enumerable:!0,get:function(){return Zr.DBRef}}),Object.defineProperty(t,"Decimal128",{enumerable:!0,get:function(){return to.Decimal128}}),Object.defineProperty(t,"Double",{enumerable:!0,get:function(){return no.Double}}),Object.defineProperty(t,"Int32",{enumerable:!0,get:function(){return ro.Int32}}),Object.defineProperty(t,"Long",{enumerable:!0,get:function(){return eo.Long}}),Object.defineProperty(t,"Map",{enumerable:!0,get:function(){return oo.Map}}),Object.defineProperty(t,"MaxKey",{enumerable:!0,get:function(){return io.MaxKey}}),Object.defineProperty(t,"MinKey",{enumerable:!0,get:function(){return ao.MinKey}}),Object.defineProperty(t,"ObjectId",{enumerable:!0,get:function(){return co.ObjectId}}),Object.defineProperty(t,"ObjectID",{enumerable:!0,get:function(){return co.ObjectId}}),Object.defineProperty(t,"BSONRegExp",{enumerable:!0,get:function(){return lo.BSONRegExp}}),Object.defineProperty(t,"BSONSymbol",{enumerable:!0,get:function(){return fo.BSONSymbol}}),Object.defineProperty(t,"Timestamp",{enumerable:!0,get:function(){return po.Timestamp}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_BYTE_ARRAY",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_BYTE_ARRAY}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_DEFAULT",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_DEFAULT}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_FUNCTION",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_FUNCTION}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_MD5",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_MD5}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_USER_DEFINED",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_USER_DEFINED}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_UUID}}),Object.defineProperty(t,"BSON_BINARY_SUBTYPE_UUID_NEW",{enumerable:!0,get:function(){return so.BSON_BINARY_SUBTYPE_UUID_NEW}}),Object.defineProperty(t,"BSON_DATA_ARRAY",{enumerable:!0,get:function(){return so.BSON_DATA_ARRAY}}),Object.defineProperty(t,"BSON_DATA_BINARY",{enumerable:!0,get:function(){return so.BSON_DATA_BINARY}}),Object.defineProperty(t,"BSON_DATA_BOOLEAN",{enumerable:!0,get:function(){return so.BSON_DATA_BOOLEAN}}),Object.defineProperty(t,"BSON_DATA_CODE",{enumerable:!0,get:function(){return so.BSON_DATA_CODE}}),Object.defineProperty(t,"BSON_DATA_CODE_W_SCOPE",{enumerable:!0,get:function(){return so.BSON_DATA_CODE_W_SCOPE}}),Object.defineProperty(t,"BSON_DATA_DATE",{enumerable:!0,get:function(){return so.BSON_DATA_DATE}}),Object.defineProperty(t,"BSON_DATA_DBPOINTER",{enumerable:!0,get:function(){return so.BSON_DATA_DBPOINTER}}),Object.defineProperty(t,"BSON_DATA_DECIMAL128",{enumerable:!0,get:function(){return so.BSON_DATA_DECIMAL128}}),Object.defineProperty(t,"BSON_DATA_INT",{enumerable:!0,get:function(){return so.BSON_DATA_INT}}),Object.defineProperty(t,"BSON_DATA_LONG",{enumerable:!0,get:function(){return so.BSON_DATA_LONG}}),Object.defineProperty(t,"BSON_DATA_MAX_KEY",{enumerable:!0,get:function(){return so.BSON_DATA_MAX_KEY}}),Object.defineProperty(t,"BSON_DATA_MIN_KEY",{enumerable:!0,get:function(){return so.BSON_DATA_MIN_KEY}}),Object.defineProperty(t,"BSON_DATA_NULL",{enumerable:!0,get:function(){return so.BSON_DATA_NULL}}),Object.defineProperty(t,"BSON_DATA_NUMBER",{enumerable:!0,get:function(){return so.BSON_DATA_NUMBER}}),Object.defineProperty(t,"BSON_DATA_OBJECT",{enumerable:!0,get:function(){return so.BSON_DATA_OBJECT}}),Object.defineProperty(t,"BSON_DATA_OID",{enumerable:!0,get:function(){return so.BSON_DATA_OID}}),Object.defineProperty(t,"BSON_DATA_REGEXP",{enumerable:!0,get:function(){return so.BSON_DATA_REGEXP}}),Object.defineProperty(t,"BSON_DATA_STRING",{enumerable:!0,get:function(){return so.BSON_DATA_STRING}}),Object.defineProperty(t,"BSON_DATA_SYMBOL",{enumerable:!0,get:function(){return so.BSON_DATA_SYMBOL}}),Object.defineProperty(t,"BSON_DATA_TIMESTAMP",{enumerable:!0,get:function(){return so.BSON_DATA_TIMESTAMP}}),Object.defineProperty(t,"BSON_DATA_UNDEFINED",{enumerable:!0,get:function(){return so.BSON_DATA_UNDEFINED}}),Object.defineProperty(t,"BSON_INT32_MAX",{enumerable:!0,get:function(){return so.BSON_INT32_MAX}}),Object.defineProperty(t,"BSON_INT32_MIN",{enumerable:!0,get:function(){return so.BSON_INT32_MIN}}),Object.defineProperty(t,"BSON_INT64_MAX",{enumerable:!0,get:function(){return so.BSON_INT64_MAX}}),Object.defineProperty(t,"BSON_INT64_MIN",{enumerable:!0,get:function(){return so.BSON_INT64_MIN}}),Object.defineProperty(t,"JS_INT_MAX",{enumerable:!0,get:function(){return so.JS_INT_MAX}}),Object.defineProperty(t,"JS_INT_MIN",{enumerable:!0,get:function(){return so.JS_INT_MIN}}),Object.defineProperty(t,"EJSON",{enumerable:!0,get:function(){return go.EJSON}});var n=po;Object.defineProperty(t,"LongWithoutOverridesClass",{enumerable:!0,get:function(){return n.LongWithoutOverridesClass}});var r=17825792,o=Tr.Buffer.alloc(r);t.setInternalBufferSize=function(e){o.length<e&&(o=Tr.Buffer.alloc(e))},t.serialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"==typeof t.checkKeys&&t.checkKeys,i="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,a="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,c="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:r;o.length<c&&(o=Tr.Buffer.alloc(c));var s=_o.serializeInto(o,e,n,0,0,i,a,[]),u=Tr.Buffer.alloc(s);return o.copy(u,0,0,u.length),u},t.serializeWithBufferAndIndex=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="boolean"==typeof n.checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,a="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,c="number"==typeof n.index?n.index:0,s=_o.serializeInto(o,e,r,0,0,i,a);return o.copy(t,c,0,s),c+s-1},t.deserialize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vo.deserialize(kr.ensureBuffer(e),t)},t.calculateObjectSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return uo.calculateObjectSize(e,n,r)},t.deserializeStream=function(e,t,n,r,o,i){for(var a=_extends({allowObjectSmallerThanBufferSize:!0,index:0},i),c=kr.ensureBuffer(e),s=t,u=0;u<n;u++){var l=c[s]|c[s+1]<<8|c[s+2]<<16|c[s+3]<<24;a.index=s,r[o+u]=vo.deserialize(c,a),s+=l}return s}})),mo=(vr(bo),bo.deserializeStream,bo.calculateObjectSize,bo.deserialize,bo.serializeWithBufferAndIndex,bo.serialize,bo.setInternalBufferSize,bo.ObjectID,bo.Decimal128,bo.BSONRegExp,bo.MaxKey,bo.MinKey,bo.Int32,bo.Double,bo.Timestamp,bo.Long,bo.ObjectId,bo.Binary,bo.DBRef,bo.BSONSymbol,bo.Map,bo.Code,bo.LongWithoutOverridesClass,bo.EJSON);function wo(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}bo.JS_INT_MIN,bo.JS_INT_MAX,bo.BSON_INT64_MIN,bo.BSON_INT64_MAX,bo.BSON_INT32_MIN,bo.BSON_INT32_MAX,bo.BSON_DATA_UNDEFINED,bo.BSON_DATA_TIMESTAMP,bo.BSON_DATA_SYMBOL,bo.BSON_DATA_STRING,bo.BSON_DATA_REGEXP,bo.BSON_DATA_OID,bo.BSON_DATA_OBJECT,bo.BSON_DATA_NUMBER,bo.BSON_DATA_NULL,bo.BSON_DATA_MIN_KEY,bo.BSON_DATA_MAX_KEY,bo.BSON_DATA_LONG,bo.BSON_DATA_INT,bo.BSON_DATA_DECIMAL128,bo.BSON_DATA_DBPOINTER,bo.BSON_DATA_DATE,bo.BSON_DATA_CODE_W_SCOPE,bo.BSON_DATA_CODE,bo.BSON_DATA_BOOLEAN,bo.BSON_DATA_BINARY,bo.BSON_DATA_ARRAY,bo.BSON_BINARY_SUBTYPE_UUID_NEW,bo.BSON_BINARY_SUBTYPE_UUID,bo.BSON_BINARY_SUBTYPE_USER_DEFINED,bo.BSON_BINARY_SUBTYPE_MD5,bo.BSON_BINARY_SUBTYPE_FUNCTION,bo.BSON_BINARY_SUBTYPE_DEFAULT,bo.BSON_BINARY_SUBTYPE_BYTE_ARRAY;var So=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stages=[],t&&n&&(this._db=t,this._request=new Xo.reqClass(this._db.config),this._collectionName=n)}var t,n,r,o;return t=e,(n=[{key:"end",value:(r=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._collectionName&&this._db){e.next=2;break}throw new Error("Aggregation pipeline cannot send request");case 2:return e.next=4,this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages});case 4:if(!((t=e.sent)&&t.data&&t.data.list)){e.next=7;break}return e.abrupt("return",{requestId:t.requestId,data:JSON.parse(t.data.list).map(mo.parse)});case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e,this)})),o=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){wo(i,n,o,a,c,"next",e)}function c(e){wo(i,n,o,a,c,"throw",e)}a(void 0)}))},function(){return o.apply(this,arguments)})},{key:"unwrap",value:function(){return this._stages}},{key:"done",value:function(){return this._stages.map((function(e){var t=e.stageKey,n=e.stageValue;return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,JSON.parse(n))}))}},{key:"_pipe",value:function(e,t){return this._stages.push({stageKey:"$".concat(e),stageValue:JSON.stringify(t)}),this}},{key:"addFields",value:function(e){return this._pipe("addFields",e)}},{key:"bucket",value:function(e){return this._pipe("bucket",e)}},{key:"bucketAuto",value:function(e){return this._pipe("bucketAuto",e)}},{key:"count",value:function(e){return this._pipe("count",e)}},{key:"geoNear",value:function(e){return this._pipe("geoNear",e)}},{key:"group",value:function(e){return this._pipe("group",e)}},{key:"limit",value:function(e){return this._pipe("limit",e)}},{key:"match",value:function(e){return this._pipe("match",nr.encode(e))}},{key:"project",value:function(e){return this._pipe("project",e)}},{key:"lookup",value:function(e){return this._pipe("lookup",e)}},{key:"replaceRoot",value:function(e){return this._pipe("replaceRoot",e)}},{key:"sample",value:function(e){return this._pipe("sample",e)}},{key:"skip",value:function(e){return this._pipe("skip",e)}},{key:"sort",value:function(e){return this._pipe("sort",e)}},{key:"sortByCount",value:function(e){return this._pipe("sortByCount",e)}},{key:"unwind",value:function(e){return this._pipe("unwind",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Co(e,t){return(Co=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Io(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Eo(e){return(Eo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var To=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Co(e,t)}(i,e);var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Eo(n);if(r){var o=Eo(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return Io(this,e)});function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e,t)}return(t=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new Xn(this._db,this._coll,e)}},{key:"add",value:function(e,t){return new Xn(this._db,this._coll,void 0).create(e,t)}},{key:"aggregate",value:function(){return new So(this._db,this._coll)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}(ir);function ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ao={eq:function(e){return new At(wt.EQ,[e])},neq:function(e){return new At(wt.NEQ,[e])},lt:function(e){return new At(wt.LT,[e])},lte:function(e){return new At(wt.LTE,[e])},gt:function(e){return new At(wt.GT,[e])},gte:function(e){return new At(wt.GTE,[e])},in:function(e){return new At(wt.IN,e)},nin:function(e){return new At(wt.NIN,e)},all:function(e){return new At(wt.ALL,e)},elemMatch:function(e){return new At(wt.ELEM_MATCH,[e])},exists:function(e){return new At(wt.EXISTS,[e])},size:function(e){return new At(wt.SIZE,[e])},mod:function(e){return new At(wt.MOD,[e])},geoNear:function(e){return new At(wt.GEO_NEAR,[e])},geoWithin:function(e){return new At(wt.GEO_WITHIN,[e])},geoIntersects:function(e){return new At(wt.GEO_INTERSECTS,[e])},and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=De(arguments[0])?arguments[0]:Array.from(arguments);return new St(_t.AND,r)},nor:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=De(arguments[0])?arguments[0]:Array.from(arguments);return new St(_t.NOR,r)},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=De(arguments[0])?arguments[0]:Array.from(arguments);return new St(_t.OR,r)},not:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=De(arguments[0])?arguments[0]:Array.from(arguments);return new St(_t.NOT,r)},set:function(e){return new bt(vt.SET,[e])},remove:function(){return new bt(vt.REMOVE,[])},inc:function(e){return new bt(vt.INC,[e])},mul:function(e){return new bt(vt.MUL,[e])},push:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(je(n[0])&&n[0].hasOwnProperty("each")){var o=n[0];e={$each:o.each,$position:o.position,$sort:o.sort,$slice:o.slice}}else e=De(n[0])?n[0]:Array.from(n);return new bt(vt.PUSH,e)},pull:function(e){return new bt(vt.PULL,e)},pullAll:function(e){return new bt(vt.PULL_ALL,e)},pop:function(){return new bt(vt.POP,[])},shift:function(){return new bt(vt.SHIFT,[])},unshift:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=De(arguments[0])?arguments[0]:Array.from(arguments);return new bt(vt.UNSHIFT,r)},addToSet:function(e){return new bt(vt.ADD_TO_SET,e)},rename:function(e){return new bt(vt.RENAME,[e])},bit:function(e){return new bt(vt.BIT,[e])},max:function(e){return new bt(vt.MAX,[e])},min:function(e){return new bt(vt.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return"string"===Pe(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new So},abs:function(e){return new xo("abs",e)},add:function(e){return new xo("add",e)},ceil:function(e){return new xo("ceil",e)},divide:function(e){return new xo("divide",e)},exp:function(e){return new xo("exp",e)},floor:function(e){return new xo("floor",e)},ln:function(e){return new xo("ln",e)},log:function(e){return new xo("log",e)},log10:function(e){return new xo("log10",e)},mod:function(e){return new xo("mod",e)},multiply:function(e){return new xo("multiply",e)},pow:function(e){return new xo("pow",e)},sqrt:function(e){return new xo("sqrt",e)},subtract:function(e){return new xo("subtract",e)},trunc:function(e){return new xo("trunc",e)},arrayElemAt:function(e){return new xo("arrayElemAt",e)},arrayToObject:function(e){return new xo("arrayToObject",e)},concatArrays:function(e){return new xo("concatArrays",e)},filter:function(e){return new xo("filter",e)},in:function(e){return new xo("in",e)},indexOfArray:function(e){return new xo("indexOfArray",e)},isArray:function(e){return new xo("isArray",e)},map:function(e){return new xo("map",e)},range:function(e){return new xo("range",e)},reduce:function(e){return new xo("reduce",e)},reverseArray:function(e){return new xo("reverseArray",e)},size:function(e){return new xo("size",e)},slice:function(e){return new xo("slice",e)},zip:function(e){return new xo("zip",e)},and:function(e){return new xo("and",e)},not:function(e){return new xo("not",e)},or:function(e){return new xo("or",e)},cmp:function(e){return new xo("cmp",e)},eq:function(e){return new xo("eq",e)},gt:function(e){return new xo("gt",e)},gte:function(e){return new xo("gte",e)},lt:function(e){return new xo("lt",e)},lte:function(e){return new xo("lte",e)},neq:function(e){return new xo("ne",e)},cond:function(e){return new xo("cond",e)},ifNull:function(e){return new xo("ifNull",e)},switch:function(e){return new xo("switch",e)},dateFromParts:function(e){return new xo("dateFromParts",e)},dateFromString:function(e){return new xo("dateFromString",e)},dayOfMonth:function(e){return new xo("dayOfMonth",e)},dayOfWeek:function(e){return new xo("dayOfWeek",e)},dayOfYear:function(e){return new xo("dayOfYear",e)},isoDayOfWeek:function(e){return new xo("isoDayOfWeek",e)},isoWeek:function(e){return new xo("isoWeek",e)},isoWeekYear:function(e){return new xo("isoWeekYear",e)},millisecond:function(e){return new xo("millisecond",e)},minute:function(e){return new xo("minute",e)},month:function(e){return new xo("month",e)},second:function(e){return new xo("second",e)},hour:function(e){return new xo("hour",e)},week:function(e){return new xo("week",e)},year:function(e){return new xo("year",e)},literal:function(e){return new xo("literal",e)},mergeObjects:function(e){return new xo("mergeObjects",e)},objectToArray:function(e){return new xo("objectToArray",e)},allElementsTrue:function(e){return new xo("allElementsTrue",e)},anyElementTrue:function(e){return new xo("anyElementTrue",e)},setDifference:function(e){return new xo("setDifference",e)},setEquals:function(e){return new xo("setEquals",e)},setIntersection:function(e){return new xo("setIntersection",e)},setIsSubset:function(e){return new xo("setIsSubset",e)},setUnion:function(e){return new xo("setUnion",e)},concat:function(e){return new xo("concat",e)},dateToString:function(e){return new xo("dateToString",e)},indexOfBytes:function(e){return new xo("indexOfBytes",e)},indexOfCP:function(e){return new xo("indexOfCP",e)},split:function(e){return new xo("split",e)},strLenBytes:function(e){return new xo("strLenBytes",e)},strLenCP:function(e){return new xo("strLenCP",e)},strcasecmp:function(e){return new xo("strcasecmp",e)},substr:function(e){return new xo("substr",e)},substrBytes:function(e){return new xo("substrBytes",e)},substrCP:function(e){return new xo("substrCP",e)},toLower:function(e){return new xo("toLower",e)},toUpper:function(e){return new xo("toUpper",e)},meta:function(e){return new xo("meta",e)},addToSet:function(e){return new xo("addToSet",e)},avg:function(e){return new xo("avg",e)},first:function(e){return new xo("first",e)},last:function(e){return new xo("last",e)},max:function(e){return new xo("max",e)},min:function(e){return new xo("min",e)},push:function(e){return new xo("push",e)},stdDevPop:function(e){return new xo("stdDevPop",e)},stdDevSamp:function(e){return new xo("stdDevSamp",e)},sum:function(e){return new xo("sum",e)},let:function(e){return new xo("let",e)}},project:{slice:function(e){return new Po("slice",e)},elemMatch:function(e){return new Po("elemMatch",e)}}},xo=function e(t,n){ko(this,e),this["$"+t]=n},Po=function e(t,n){ko(this,e),this["$"+t]=n},jo=function(){function e(t){var n=t.regexp,r=t.options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new TypeError("regexp must be a string");this.$regex=n,this.$options=r}var t;return(t=[{key:"parse",value:function(){return{$regex:this.$regex,$options:this.$options}}},{key:"_internalType",get:function(){return xe}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function No(e){return new jo(e)}var Do="DATABASE_TRANSACTION_CONFLICT";function Ro(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Mo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ro(i,r,o,a,c,"next",e)}function c(e){Ro(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Bo="database.updateDocInTransaction",Lo=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this.id=r,this._transaction=t,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}var t,n,r,o,i,a;return t=e,(n=[{key:"create",value:(a=Mo(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,data:mo.stringify(Ft(t),{relaxed:!1})},this.id&&(n._id=this.id),e.next=4,this._request.send("database.insertDocInTransaction",n);case 4:if(!(r=e.sent).code){e.next=7;break}throw r;case 7:if(o=mo.parse(r.inserted),1!=(i=mo.parse(r.ok))||1!=o){e.next=13;break}return e.abrupt("return",_extends(_extends({},r),{ok:i,inserted:o}));case 13:throw new Error("insert document failed");case 14:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"get",value:function(){var e=Mo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},e.next=3,this._request.send("database.getInTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return e.abrupt("return",{data:"null"!==n.data?dt.formatField(mo.parse(n.data)):mo.parse(n.data),requestId:n.requestId});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"set",value:(i=Mo(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:mo.stringify(Ft(t),{relaxed:!1}),upsert:!0},e.next=3,this._request.send(Bo,n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return e.abrupt("return",_extends(_extends({},r),{updated:mo.parse(r.updated),upserted:r.upserted?JSON.parse(r.upserted):null}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"update",value:(o=Mo(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:mo.stringify(zt.encode(t),{relaxed:!1})},e.next=3,this._request.send(Bo,n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return e.abrupt("return",_extends(_extends({},r),{updated:mo.parse(r.updated)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"delete",value:(r=Mo(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},e.next=3,this._request.send("database.deleteDocInTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return e.abrupt("return",_extends(_extends({},n),{deleted:mo.parse(n.deleted)}));case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Uo(e,t){return(Uo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qo(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wo(e){return(Wo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vo=function(e){!function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Uo(e,t)}(i,(function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this._transaction=t}));var t,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wo(n);if(r){var o=Wo(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return qo(this,e)});function i(e,t){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e,t)}return(t=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new Lo(this._transaction,this._coll,e)}},{key:"add",value:function(e){var t;return void 0!==e._id&&(t=e._id),new Lo(this._transaction,this._coll,t).create(e)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,t),i}();function Go(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function Ho(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Go(i,r,o,a,c,"next",e)}function c(e){Go(i,r,o,a,c,"throw",e)}a(void 0)}))}}var Yo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._db=t,this._request=new Xo.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}var t,n,r,o,i;return t=e,(n=[{key:"init",value:(i=Ho(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._request.send("database.startTransaction");case 2:if(!(t=e.sent).code){e.next=5;break}throw t;case 5:this.inited=!0,this._id=t.transactionId;case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new Vo(this,e)}},{key:"getTransactionId",value:function(){return this._id}},{key:"getRequestMethod",value:function(){return this._request}},{key:"commit",value:(o=Ho(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={transactionId:this._id},e.next=3,this._request.send("database.commitTransaction",t);case 3:if(!(n=e.sent).code){e.next=6;break}throw n;case 6:return this.commited=!0,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"rollback",value:(r=Ho(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={transactionId:this._id},e.next=3,this._request.send("database.abortTransaction",n);case 3:if(!(r=e.sent).code){e.next=6;break}throw r;case 6:return this.aborted=!0,this.abortReason=t,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function $o(){return zo.apply(this,arguments)}function zo(){return(zo=Ho(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Yo(this),e.next=3,t.init();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ko(e){return Jo.apply(this,arguments)}function Jo(){return(Jo=Ho(regeneratorRuntime.mark((function e(t){var n,r,o,i,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:3,e.prev=1,r=new Yo(this),e.next=5,r.init();case 5:return e.next=7,t(r);case 7:if(o=e.sent,!0!==r.aborted){e.next=10;break}throw r.abortReason;case 10:return e.next=12,r.commit();case 12:return e.abrupt("return",o);case 15:if(e.prev=15,e.t0=e.catch(1),!1!==r.inited){e.next=19;break}throw e.t0;case 19:if(i=function(){var e=Ho(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.aborted||r.commited){e.next=9;break}return e.prev=1,e.next=4,r.rollback();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:throw t;case 9:if(!0!==r.aborted){e.next=11;break}throw r.abortReason;case 11:throw t;case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),!(n<=0)){e.next=23;break}return e.next=23,i(e.t0);case 23:if(!e.t0||e.t0.code!==Do){e.next=27;break}return e.next=26,Ko.bind(this)(t,--n);case 26:return e.abrupt("return",e.sent);case 27:return e.next=29,i(e.t0);case 29:case"end":return e.stop()}}),e,this,[[1,15]])})))).apply(this,arguments)}var Xo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.Geo=r,this.serverDate=ut,this.command=Ao,this.RegExp=No,this.startTransaction=$o,this.runTransaction=Ko,this.logicCommand=St,this.updateCommand=bt,this.queryCommand=At}var t;return(t=[{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new To(this,e)}},{key:"createCollection",value:function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Qo(e){if((null==e?void 0:e.code)&&e.message)throw new Error("[".concat(e.code,"] ").concat(e.message));return e}function Zo(e){return function(t){if(t.success||t.fail||t.complete){var n=t.success,r=t.fail,o=t.complete;return e.apply(this,arguments).then((function(e){var t;try{null==n||n(e)}catch(e){t=e}if(null==o||o(e),t)throw t}),(function(e){var t;try{null==r||r(e)}catch(e){t=e}if(null==o||o(e),t)throw t}))}return e.apply(this,arguments).then(Qo)}}function ei(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.success||t.fail||t.complete){var n=t.success,r=t.fail,o=t.complete;return e.apply(this).then((function(e){var t;try{(null==e?void 0:e.code)&&e.message?null==r||r(e):null==n||n(e)}catch(e){t=e}if(null==o||o(e),t)throw t}),(function(e){var t;try{null==r||r(e)}catch(e){t=e}if(null==o||o(e),t)throw t}))}return e.apply(this).then(Qo)}}function ti(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.success||n.fail||n.complete){var r=n.success,o=n.fail,i=n.complete;return e.call(this,n.data).then((function(e){var n;try{(null==e?void 0:e.code)&&e.message?(null==o||o(e),null==i||i(e)):(null==r||r(t?t(e):e),null==i||i(t?t(e):e))}catch(e){n=e}if(n)throw n}),(function(e){var t;try{null==o||o(e),null==i||i(e)}catch(e){t=e}if(t)throw t}))}return e.call(this,n.data).then(Qo).then((function(e){return t?t(e):e}))}}function ni(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ri(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ni(i,r,o,a,c,"next",e)}function c(e){ni(i,r,o,a,c,"throw",e)}a(void 0)}))}}function oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ii=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),oi(this,"client",void 0),oi(this,"readyState",void 0),oi(this,"url",void 0),this.url=t}var t,n,r,o;return t=e,(n=[{key:"connect",value:(o=ri(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.client=qq.connectSocket({url:this.url,header:{"content-type":"application/json"},tcpNoDelay:!0,success:function(){console.log("[@cloudbase/qq-sdk] websocket connect success")},fail:function(){console.log("[@cloudbase/qq-sdk] websocket connect fail")}}),this.readyState=0;case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"close",value:function(e,t){this.readyState=2,this.client.close({code:e,reason:t})}},{key:"send",value:(r=ri(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.client.send({data:t,success:function(t){e(t)},fail:function(e){r(e)}})})));case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"onopen",set:function(e){var t=this;this.client.onOpen((function(n){t.readyState=1,e(n)}))}},{key:"onclose",set:function(e){var t=this;this.client.onClose((function(n){t.readyState=3,e(n)}))}},{key:"onerror",set:function(e){this.client.onError(e)}},{key:"onmessage",set:function(e){this.client.onMessage(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),e}();function ai(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function ci(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ai(i,r,o,a,c,"next",e)}function c(e){ai(i,r,o,a,c,"throw",e)}a(void 0)}))}}function si(e,t){return ui.apply(this,arguments)}function ui(){return(ui=ci(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,r){var o={url:n.url,header:n.headers,data:n.body,method:t,success:function(t){(null==t?void 0:t.code)?r(t):e(t)},fail:function(e){r(e)}};qq.request(o)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e){return fi.apply(this,arguments)}function fi(){return(fi=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si("GET",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e){return pi.apply(this,arguments)}function pi(){return(pi=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si("POST",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e){return vi.apply(this,arguments)}function vi(){return(vi=ci(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,si("PUT",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function yi(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gi(i,r,o,a,c,"next",e)}function c(e){gi(i,r,o,a,c,"throw",e)}a(void 0)}))}}function _i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_i(Object(n),!0).forEach((function(t){mi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wi=o,Si=!1;function Oi(e){Si||(_extends(P,e),Si=!0)}var Ci=Zo((function(e){return J.apply(this,arguments)})),Ii=Zo(W),Ei=Zo((function(e){return q.apply(this,arguments)})),Ti=Zo((function(e){return G.apply(this,arguments)})),ki=function(e){var t,n=e.cloudPath,r=e.filePath,o=e.header,i=e.config,a=e.success,c=e.fail,s=e.complete,u=new U;u.preTask=B(regeneratorRuntime.mark((function e(){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={env:j(i,F)},r=new x(t),e.next=5,r.send("storage.getUploadMetadata",{path:n});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));var l=u.preTask().then((function(e){if(!u.aborted){var i=e.data,a=i.url,c=i.authorization,s=i.token,l=i.fileId,f=i.cosFileId,d=e.requestId;t=d;var p,h=new Promise((function(e,t){var i;u.realTask=(i={url:a,filePath:r,name:"file",formData:{key:n,signature:c,"x-cos-meta-fileid":f,success_action_status:"201","x-cos-security-token":s},header:o,success:function(n){201===n.statusCode?e({requestId:d,fileID:l,statusCode:200,errMsg:"uploadFile:ok"}):t({errCode:"-503001",errMsg:"uploadFile:fail STORAGE_REQUEST_FAIL"})},fail:function(e){var n={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):""};t(n)}},qq.uploadFile(i))}));return u.aborted&&(null===(p=u.realTask)||void 0===p||p.abort()),u.onProgressUpdateArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.onProgressUpdate(e)})),u.offProgressUpdateArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.offProgressUpdate(e)})),u.onHeadersReceivedArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.onHeadersReceived(e)})),u.offHeadersReceivedArr.map((function(e){var t;return null===(t=u.realTask)||void 0===t?void 0:t.offHeadersReceived(e)})),u.initedCallback=!0,h}})).then((function(e){if(!(a||c||s))return e;null==a||a(e),null==s||s()})).catch((function(e){if(e.requestID=t,!(a||c||s))throw e;null==c||c(e),null==s||s()}));return a||c||s?u:l},Ai=function(e){var t,n=this,r=e.fileID,o=e.config,i=e.success,a=e.fail,c=e.complete,s=new U;s.preTask=B(regeneratorRuntime.mark((function e(){var i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.call(n,{fileList:[{fileID:r,maxAge:600}],config:o});case 2:if(i=e.sent,"SUCCESS"===(a=i.fileList[0]).code){e.next=6;break}throw new Error(a.code);case 6:return c=a.download_url,t=i.requestId,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));var u=s.preTask().then((function(e){var t,n=new Promise((function(t,n){s.realTask=qq.downloadFile({url:e,success:function(e){200===e.statusCode&&t(e)},fail:function(e){var t={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):"fail"};n(t)}})}));return s.aborted&&(null===(t=s.realTask)||void 0===t||t.abort()),s.onProgressUpdateArr.map((function(e){var t;return null===(t=s.realTask)||void 0===t?void 0:t.onProgressUpdate(e)})),s.offProgressUpdateArr.map((function(e){var t;return null===(t=s.realTask)||void 0===t?void 0:t.offProgressUpdate(e)})),s.onHeadersReceivedArr.map((function(e){var t;return null===(t=s.realTask)||void 0===t?void 0:t.onHeadersReceived(e)})),s.offHeadersReceivedArr.map((function(e){var t;return null===(t=s.realTask)||void 0===t?void 0:t.offHeadersReceived(e)})),s.initedCallback=!0,n})).then((function(e){if(!(i||a||c))return e;null==i||i(e),null==c||c()})).catch((function(e){if(e.requestID=t,!(i||a||c))throw e;null==a||a(e),null==c||c()}));return i||a||c?s:u};function xi(e){return void 0!==(null==e?void 0:e.updated)?{stats:e}:e}var Pi={};function ji(e){Pi[e.name]=e}function Ni(e,t,n){return Di.apply(this,arguments)}function Di(){return(Di=yi(regeneratorRuntime.mark((function e(t,n){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pi[t]){e.next=3;break}throw Error("扩展".concat(t," 必须先注册"));case 3:return e.next=5,r.invoke(n,this);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function Ri(e){var t=j(e,"database");return Xo.reqClass=x,Xo.wsClass=ii,Xo.runtime="QQ-MINI",new Xo({env:t})}ir.prototype.get=ei(ir.prototype.get),ir.prototype.count=ei(ir.prototype.count),ir.prototype.update=ti(ir.prototype.update,xi),To.prototype.add=ti(To.prototype.add,(function(e){return(null==e?void 0:e.id)&&(e._id=e.id,delete e.id),e})),To.prototype.update=ti(To.prototype.update,xi),Xn.prototype.get=ti(Xn.prototype.get,(function(e){return void 0!==(null==e?void 0:e.data)?bi(bi({},e),{},{data:e.data[0]}):e})),Xn.prototype.update=ti(Xn.prototype.update,xi),Xn.prototype.set=ti(Xn.prototype.set),Xn.prototype.remove=ei(Xn.prototype.remove),Ni.bind(i);var Mi=i}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r](o,o.exports,n),o.loaded=!0,o.exports}return n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis)))return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==("undefined"==typeof window?"undefined":_typeof(window)))return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n(588),n(902)}().default}]),t=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(t,n,r){"use strict";r.d(n,"y",(function(){return s})),r.d(n,"z",(function(){return a})),r.d(n,"x",(function(){return c})),r.d(n,"o",(function(){return N})),r.d(n,"a",(function(){return S})),r.d(n,"v",(function(){return O})),r.d(n,"B",(function(){return C})),r.d(n,"C",(function(){return I})),r.d(n,"E",(function(){return E})),r.d(n,"h",(function(){return p})),r.d(n,"i",(function(){return h})),r.d(n,"g",(function(){return d})),r.d(n,"t",(function(){return l})),r.d(n,"n",(function(){return T})),r.d(n,"F",(function(){return k})),r.d(n,"e",(function(){return A})),r.d(n,"A",(function(){return g})),r.d(n,"k",(function(){return y})),r.d(n,"J",(function(){return _})),r.d(n,"c",(function(){return b})),r.d(n,"m",(function(){return m})),r.d(n,"u",(function(){return w})),r.d(n,"s",(function(){return P})),r.d(n,"H",(function(){return x})),r.d(n,"q",(function(){return j})),r.d(n,"p",(function(){return D})),r.d(n,"G",(function(){return f})),r.d(n,"b",(function(){return L})),r.d(n,"d",(function(){return F})),r.d(n,"l",(function(){return q})),r.d(n,"I",(function(){return W})),r.d(n,"r",(function(){return V})),r.d(n,"D",(function(){return G})),r.d(n,"j",(function(){return H})),r.d(n,"f",(function(){return Y})),r.d(n,"w",(function(){return K}));var o=r(1);function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var a="ios"===__qqConfig.platform,c="android"===__qqConfig.platform,s="devtools"===__qqConfig.platform,u=Object.prototype.toString,l=function(e){return u.call(e).slice(8,-1)},f=function(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}},d=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",o=l(n),i=l(t);if(i!==o)return"".concat(r," should be ").concat(o," instead of ").concat(i,";");var a="";switch(o){case"Object":Object.keys(n).forEach((function(o){a+=e(t[o],n[o],"".concat(r,".").concat(o))}));break;case"Array":if(t.length<n.length)return"".concat(r," should have at least ").concat(n.length," item;");for(var c=0;c<n.length;++c)a+=e(t[c],n[c],"".concat(r,"[").concat(c,"]"))}return a},p=function(e,t,n){var r=d(t,n);return!r||(T(e,t,"parameter error: ".concat(r)),!1)},h=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"http";return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0},v=function(e,t){"function"==typeof e&&e(t)},g=function(){},y=function(e){return Object.keys(e).reduce((function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=String(e[n]):t[n]=Object.prototype.toString.apply(e[n]),t}),{})},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!==(void 0===e?"undefined":i(e)))return e;var n=[];for(var r in e)if(e.hasOwnProperty(r))if(t)try{n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[r])))}catch(t){n.push("".concat(r,"=").concat(e[r]))}else n.push("".concat(r,"=").concat(e[r]));return n.join("&")},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){for(var n in t)e[n]=t[n];return e}),{})},m=function(e,t){for(var n in t)e[n]=t[n];return e},w=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},S=function(e,t,n){__safeway__.bridge.invoke(e,t,n)},O=function(e){var t=Date.now(),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};n=_extends({},n);var o={};Object.keys(n).forEach((function(t){"function"==typeof n[t]&&(o[t]=Reporter.surroundThirdByTryCatch(n[t],"at api ".concat(e," ").concat(t," callback function")),delete n[t])}));var i={};Object.keys(r).forEach((function(t){"function"==typeof r[t]&&(i[t]=f(r[t],"at api ".concat(e," ").concat(t," callback function")),i[t]._argumentsLength=r[t].length)})),S(e,n,(function(n){n.errMsg=n.errMsg||"".concat(e,":ok");var r=0===n.errMsg.indexOf("".concat(e,":ok")),a=0===n.errMsg.indexOf("".concat(e,":cancel")),c=0===n.errMsg.indexOf("".concat(e,":fail"));if("function"==typeof i.beforeAll&&i.beforeAll(n),r){var s=function(){v(o.success,n),v(i.afterSuccess,n)};"function"==typeof i.beforeSuccess?2===i.beforeSuccess._argumentsLength?i.beforeSuccess(n,s):(i.beforeSuccess(n),s()):s()}else if(a)n.errMsg=n.errMsg.replace("".concat(e,":cancel"),"".concat(e,":fail cancel")),v(o.fail,n),v(i.beforeCancel,n),v(o.cancel,n),v(i.afterCancel,n);else if(c){v(i.beforeFail,n),v(o.fail,n);var u=!0;"function"==typeof i.afterFail&&(u=i.afterFail(n)),!1!==u&&Reporter.reportIDKey({key:"".concat(e,"_fail")})}if("function"==typeof o.complete&&o.complete(n),"function"==typeof i.afterAll&&i.afterAll(n),"api_report"!==e){var l=Date.now();Reporter.reportJSAPI({api:e,ret:r?"ok":c?"fail":"cancel",errMsg:n.errMsg,callStartTime:t,callEndTime:l,type:"service"})}}))},C=function(e,t){var n,r=f(t,"at api ".concat(n=e," callback function"));__safeway__.bridge.on(n,r)},I=function(e,t,n){var r={data:t,options:{timestamp:Date.now()}};__safeway__.bridge.publish(e,r,n)},E=function(e,t){__safeway__.bridge.subscribe(e,(function(e,n){var r=e.data,o=e.options,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=(null==o?void 0:o.timestamp)||0,c=Date.now();"function"==typeof t&&t(r,n),Reporter.speedReport({key:"webview2AppService",data:r||{},timeMark:{startTime:a,endTime:c,nativeTime:i.nativeTime||0}})}))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0,o="".concat(e,":fail ").concat(n);console.error(o);var i=Reporter.surroundThirdByTryCatch(t.fail||g,"at api ".concat(e," fail callback function")),a=Reporter.surroundThirdByTryCatch(t.complete||g,"at api ".concat(e," complete callback function")),c={errMsg:o};"number"==typeof r&&(c.errCode=r),i(c),a(c)},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Reporter.surroundThirdByTryCatch(t.success||g,"at api ".concat(e," fail callback function")),o=Reporter.surroundThirdByTryCatch(t.complete||g,"at api ".concat(e," fail callback function"));n.errMsg="".concat(e,":ok"),r(n),o(n)},A=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length?arguments[4]:void 0,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=!(6<arguments.length&&void 0!==arguments[6])||arguments[6],c=n?"".concat(e,":ok"):"".concat(e,":fail ").concat(r);!n&&a&&console.error(c);var s=Reporter.surroundThirdByTryCatch((n?t.success:t.fail)||g,"at api ".concat(e," ").concat(n?"success":"fail"," callback function")),u=Reporter.surroundThirdByTryCatch(t.complete||g,"at api ".concat(e," complete callback function"));i.errMsg=c,"number"==typeof o&&(i.errCode=o),s(i),u(i)},x=function(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?"".concat(t,"?").concat(n):t},P=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(r&&(n=x(n)),0===n.indexOf("/"))return n.substr(1);if(0===n.indexOf("./"))return e(t,n.substr(2),!1);var o,i,a=n.split("/");for(o=0,i=a.length;o<i&&".."===a[o];o++);a.splice(0,o),n=a.join("/");var c=t.length>0?t.split("/"):[];c.splice(c.length-o-1,o+1);var s=c.concat(a),u=s.join("/");return u},j=function(t,n,r){var o,i=t.filter((function(e){return/^(cloud):\/\//.test(e)}));if(i.length>0){var a=[];i.forEach((function(e){a.push({fileID:e,maxAge:999999})})),o={fileList:a,success:function(e){var n=e.fileList||[],o=new Map;n.forEach((function(e){o.set(e.fileID,e)}));var i=t.map((function(e){return(o.get(e)||{}).tempFileURL||e}));r(i)},fail:function(e){r(t)}},e.getCloudAPI().getTempFileURL(o)}else r(t)},N={map:{},set:function(e){var t=w();return this.map[t]=e,t},get:function(e){var t=this;return e?this.map[e]:Object.keys(this.map).map((function(e){return t.map[e]}))}},D=function(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e},R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",M=M||function(e){for(var t,n,r=String(e),o="",i=0,a=R;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return o},B=B||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=R.indexOf(o);return n};function L(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return M(t)}function F(e){for(var t=B(e).length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=exports.charCodeAt(r);return n.buffer}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),e}function W(e){return i(e)}function V(e){return"string"==typeof e?e.length:"object"===W(e)&&"number"==typeof e.byteLength?e.byteLength:0}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y(e){if(__wxConfig.appContactInfo&&__wxConfig.appContactInfo.operationInfo&&__wxConfig.appContactInfo.operationInfo.jsonInfo){var t=__wxConfig.appContactInfo.operationInfo.jsonInfo.apiAvailable;if("number"==typeof t[e])return 1===t[e]}return!0}var $=0,z=[],K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=$++;z[i]=r,I("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===n?[o.b.currentWebviewId]:n)};E("callbackWebviewMethod",(function(e){var t=e.res,n=e.callbackId,r=z[n];delete z[n],null==r||r(t)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={FORE_GROUND:0,BACK_GROUND:1,LOCK:2},o={lastRoute:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:r.FORE_GROUND}},function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return y}));var r=n(3),o=n(4),i=n(0),a=n(1),c=Object(r.a)("AppRoute"),s=c.internalOnMethod,u=c.internalOffMethod,l=Object(r.a)("AppEnterForeground"),f=l.internalOnMethod,d=Object(r.a)("AppEnterBackground"),p=d.internalOnMethod,h=Object(r.a)("AppRouteDone"),v=h.internalOnMethod;Object(i.B)("onAppRouteDone",(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;a.b.navigatorLock=!1,e.path&&(e.path=e.path.substring(0,e.path.length-5)),e.webviewId=void 0!==e.webviewId?e.webviewId:t,a.b.lastRoute=e.path,h.emit(e),Object(i.C)("onAppRouteDone",{},[t])}));var g=new o.a;Object(i.B)("onPageReload",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,g.emit("onPageReload",e)}));var y=function(e,t){g.once("onBeforeUnloadPage_".concat(e),(function(e){"function"==typeof t&&t(e)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r=n(4);function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var i,a,c="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},s=new r.a({maxListeners:20,newListener:!1}),u=new r.a({maxListeners:10,newListener:!1}),l={},f=function(e){if(e=e[0].toUpperCase()+e.slice(1),!l[e]){var t=new WeakMap;l[e]={getGlobalListeners:function(){return s.listeners(e)},getInternalListeners:function(){return u.listeners(e)},emit:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];u.emit.apply(u,[e].concat(n)),s.emit.apply(s,[e].concat(n))},emitGlobal:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s.emit.apply(s,[e].concat(n))},emitInternal:function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];u.emit.apply(u,[e].concat(n))},internalOnMethod:function(t){"function"==typeof t&&u.on(e,t)},internalOffMethod:function(t){"function"==typeof t&&u.off(e,t)},onMethod:function(n){var r=function(e,t){return"function"!=typeof t?(console.error("on".concat(e," should accept a function instead of ").concat(void 0===t?"undefined":c(t))),null):Reporter.surroundThirdByTryCatch(t,"at api on".concat(e," callback function"))}(e,n);r&&(t.set(n,r),s.on(e,r))},offMethod:function(n){if(function(e,t){return!t||"function"==typeof t||(console.error("off".concat(e," should accept a function instead of ").concat(void 0===t?"undefined":c(t))),!1)}(e,n))if(n){if(t.has(n)){var r=t.get(n);t.delete(n),s.off(e,r)}}else t=new WeakMap,s.removeAllListeners(e)}}}return l[e]},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},p=((i=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}},function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e})(a=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxListeners:2e3};d(this,e),this.emitter=new r.a(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{}},[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=Reporter.surroundThirdByTryCatch(t,"at ".concat(e," callback function"));this.callbackMap.set(t,n),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){if(t&&"function"==typeof t){var n=this.callbackMap.get(t);this.emitter.off(e,n)}else this.emitter.removeAllListeners(e)}},{key:"listeners",value:function(e){return this.emitter.listeners(e)}}]),a)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(){this._events={},this._conf&&c.call(this,this._conf)}function c(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:20,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=20}function s(e,t){console.warn("[Event] ".concat(e," listeners of event ").concat(t," have been added, possibly causing memory leak."))}function u(e){this._events={},this._newListener=!1,this._removeListener=!1,c.call(this,e)}u.prototype.delimiter=".",u.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},u.prototype.event="",u.prototype.once=function(e,t){return this._once(e,t,!1)},u.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},u.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},u.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},u.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},u.prototype._many=function(e,t,n,r){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),o},u.prototype.emit=function(){var e;this._events||a.call(this);var t=arguments[0];if("newListener"===t&&!this._newListener&&!this._events.newListener)return!1;var n,r,o,i,c,s=arguments.length;if(this._all&&this._all.length){if(c=this._all.slice(),s>3)for(n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];for(o=0,r=c.length;o<r;o++)switch(this.event=t,s){case 1:c[o].call(this,t);break;case 2:c[o].call(this,t,arguments[1]);break;case 3:c[o].call(this,t,arguments[1],arguments[2]);break;default:c[o].apply(this,n)}}if("function"==typeof(c=this._events[t])){switch(this.event=t,s){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(n=new Array(s-1),i=1;i<s;i++)n[i-1]=arguments[i];c.apply(this,n)}return!0}if(c&&(c=c.slice()),null===(e=c)||void 0===e?void 0:e.length){if(s>3)for(n=new Array(s-1),i=1;i<s;i++)n[i-1]=arguments[i];for(o=0,r=c.length;o<r;o++)switch(this.event=t,s){case 1:c[o].call(this);break;case 2:c[o].call(this,arguments[1]);break;case 3:c[o].call(this,arguments[1],arguments[2]);break;default:c[o].apply(this,n)}return!0}if(!this._all&&"error"===t)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},u.prototype.emitAsync=function(){var e;this._events||a.call(this);var t=arguments[0];if("newListener"===t&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var n,r,o,i,c,s=[],u=arguments.length;if(this._all){if(u>3)for(n=new Array(u),i=1;i<u;i++)n[i]=arguments[i];for(o=0,r=this._all.length;o<r;o++)switch(this.event=t,u){case 1:s.push(this._all[o].call(this,t));break;case 2:s.push(this._all[o].call(this,t,arguments[1]));break;case 3:s.push(this._all[o].call(this,t,arguments[1],arguments[2]));break;default:s.push(this._all[o].apply(this,n))}}if("function"==typeof(c=this._events[t]))switch(this.event=t,u){case 1:s.push(c.call(this));break;case 2:s.push(c.call(this,arguments[1]));break;case 3:s.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(u-1),i=1;i<u;i++)n[i-1]=arguments[i];s.push(c.apply(this,n))}else if(null===(e=c)||void 0===e?void 0:e.length){if(c=c.slice(),u>3)for(n=new Array(u-1),i=1;i<u;i++)n[i-1]=arguments[i];for(o=0,r=c.length;o<r;o++)switch(this.event=t,u){case 1:s.push(c[o].call(this));break;case 2:s.push(c[o].call(this,arguments[1]));break;case 3:s.push(c[o].call(this,arguments[1],arguments[2]));break;default:s.push(c[o].apply(this,n))}}else if(!this._all&&"error"===t)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(s)},u.prototype.on=function(e,t){return this._on(e,t,!1)},u.prototype.prependListener=function(e,t){return this._on(e,t,!0)},u.prototype.onAny=function(e){return this._onAny(e,!1)},u.prototype.prependAny=function(e){return this._onAny(e,!0)},u.prototype.addListener=u.prototype.on,u.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},u.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||a.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,s.call(this,this._events[e].length,e))):this._events[e]=t,this},u.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n});for(var a=0;a<r.length;a++){if(n=r[a]._listeners,i(n)){for(var c=-1,s=0,u=n.length;s<u;s++)if(n[s]===t||n[s].listener&&n[s].listener===t||n[s]._origin&&n[s]._origin===t){c=s;break}if(c<0)continue;return this._events[e].splice(c,1),0===n.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var r in n){var i=n[r],a=t[i];a instanceof Function||"object"!==(void 0===a?"undefined":o(a))||null===a||(Object.keys(a).length>0&&e(t[i]),0===Object.keys(a).length&&delete t[i])}}}(this.listenerTree),this},u.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},u.prototype.removeListener=u.prototype.off,u.prototype.removeAllListeners=function(e){return void 0===e?(!this._events||a.call(this),this):(this._events&&(this._events[e]=null),this)},u.prototype.listeners=function(e){return this._events||a.call(this),this._events[e]||(this._events[e]=[]),i(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},u.prototype.eventNames=function(){return Object.keys(this._events)},u.prototype.listenerCount=function(e){return this.listeners(e).length},u.prototype.listenersAny=function(){return this._all?this._all:[]};var l=u;t.a=l},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a}));var r={emitter:new(n(4).a),pluginIDs:{},pluginVersions:{},pluginInfos:{}},o=function(e){return r.pluginIDs[e.__puid__]},i=function(e){return r.pluginVersions[e.__puid__]},a=function(e){var t=o(e);if(void 0!==t)return r.pluginInfos[t]}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return w})),n.d(t,"a",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return I}));var r=n(0),o=n(2),i=n(5),a={},c={},s=[],u=[],l=["expires","domain","path","busid","indate","receivetime","spread"];function f(e){Object(r.v)("getPermissionBytes",{indexes:[502,503]},{beforeSuccess:function(t){t.permissionBytes&&(a[502]=!(1!==t.permissionBytes[0]),a[503]=!(1!==t.permissionBytes[1])),null==e||e()}})}function d(e,t){r.y?t(!0):null===a[e]?f((function(){return t(!!a[e])})):t(!!a[e])}function p(e){var t=__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"noAppId";Object(r.w)("getCookiesFromGlobalStorage",{appId:t},void 0,(function(t){t&&v(t,!1,s),null==e||e()}))}function h(){var e,t,n,o,i=Date.now(),a=[];s.forEach((function(e){var t=e.expires||e.__wxprivate_calc_expires__;if(t&&i<1e3*t){var n=[];for(var r in e)0<=l.indexOf(r)&&n.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(e[r])));n.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value))),a.push(n.join("; "))}}));var c=a.join(";; ");4096<=c.length||(t=c,n=function(e){},o=__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"noAppId",(null===(e=t)||void 0===e?void 0:e.trim())&&Object(r.w)("setCookiesToGlobalStorage",{cookies:t,appId:o},void 0,n))}function v(e,t,n){if("string"==typeof e){var r=Date.now();e.split(";;").forEach((function(e){var o;if(e.split(";").forEach((function(e){o=o||{};var t=(e=e.split("="))[0].trim(),n=e[1]&&e[1].trim();"expires"!==t&&"indate"!==t||(n=Number(n),n=isNaN(n)?void 0:n),t&&void 0!==n&&(0<=l.indexOf(t)?o[decodeURIComponent(t)]=decodeURIComponent(n):(o.name=decodeURIComponent(t),o.value=decodeURIComponent(n)))})),o){t&&(o.receivetime=~~(r/1e3)),void 0===o.expires&&void 0!==o.indate&&o.receivetime&&(o.__wxprivate_calc_expires__=Number(o.receivetime)+Number(o.indate));var i=o.expires||o.__wxprivate_calc_expires__;i&&!(r<1e3*i)||function(e,t){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.busid===o.busid&&e.name===o.name)return!0}return!1}(o,n)||n.push(o),__wxConfig.accountInfo&&__wxConfig.accountInfo.appId&&o.spread&&(o.spread="*"===o.spread?"":"".concat(o.spread,":"),o.spread+=__wxConfig.accountInfo.appId)}}))}}function g(e){var t=[];for(var n in e)0<=l.indexOf(n)&&t.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return t.push("".concat(encodeURIComponent(e.name),"=").concat(encodeURIComponent(e.value))),t.join("; ")}Object(r.D)(a,502,null),Object(r.D)(a,503,null),__wxConfig.onReady((function(){__wxConfig.appLaunchInfo;var t=Number(e.scene||1e3),n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,o=(null==n?void 0:n.cookies)||(null==r?void 0:r.cookies);"string"==typeof o&&v(o,1037!==t,s),p(h),f()})),Object(o.d)((function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Number(e.scene),n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,o=(null==n?void 0:n.cookies)||(null==r?void 0:r.cookies);(1037===t||o&&"string"==typeof o||1===e.reLaunch||!0===e.reLaunch)&&(s=[],u=[]),"string"==typeof o&&v(o,1037!==t,s),p(h)}));var y=function(e){var t,n=Date.now(),r=[];s.forEach((function(e){var t=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!t||n<1e3*t)&&r.push(g(e))}));var o=r.join(";; ");return null==e||null===(t=e.success)||void 0===t||t.call(e,{cookies:o}),o},_=function(){var e=Date.now(),t=[];return u.forEach((function(n){var r=n.expires||n.__wxprivate_calc_expires__;(!r||e<1e3*r)&&t.push(g(n))})),t.join(";; ")},b=function(e){var t=Date.now(),n=e.cookies||[],r=e.isTemporary;if(n instanceof Array){var o,i=r?u:s,a=[],c={},f={},d=__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"";if(n.forEach((function(e){if(e.key&&"string"==typeof e.key){var n=Number(e.expires);if(!e.value||n&&1e3*n<t)c[e.key]={name:e.key,busid:e.busid};else{var o={name:e.key,value:e.value};l.forEach((function(t){var n=e[t];"expires"!==t&&"indate"!==t||(n=Number(n),n=isNaN(n)?void 0:n),"spread"===t&&n&&!r&&d&&(o.spread="*"===n?"":"".concat(n,":"),o.spread+=d),"receivetime"!==t&&"spread"!==t&&void 0!==n&&(o[t]=n)})),f[e.key]=o,a.push(o)}}})),i.forEach((function(e){var n=c[e.name];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var r=f[e.name];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var o=e.expires||e.__wxprivate_calc_expires__;o&&1e3*o<t||a.push(e)}}})),4096<=(o=[],a.forEach((function(e){o.push(g(e))})),o.join(";; ")).length)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";r?u=a:(s=a,h())}},m=function(e){var t=Date.now(),n=e.keys||[],o=e.busid,i=e.isTemporary;if(n instanceof Array){var a=[];return(i?u:s).forEach((function(e){var i=e.expires||e.__wxprivate_calc_expires__;if((!i||t<1e3*i)&&0<=n.indexOf(e.name)&&(!o||o&&o===e.busid)){var c=Object(r.D)({},e.name,e.value);Object.keys(e).forEach((function(t){0<=l.indexOf(t)&&(c[t]=e[t]),"indate"!==t&&"expires"!==t||(c[t]=Number(c[t]))})),a.push(c)}})),a}};function w(e){d(502,(function(t){var n="setCookies:ok";if(t){var r=b(e);r?(n=r,"function"==typeof e.fail&&e.fail({errMsg:n})):"function"==typeof e.success&&e.success({errMsg:n})}else n="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})}))}function S(e){d(503,(function(t){var n="getCookies:ok";if(t){var r=m(e);"function"==typeof e.success&&e.success({errMsg:n,cookies:r})}else n="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})}))}function O(e,t){var n=Object(i.a)(this);r.y?t(!0):c[n]&&null!==c[n][e]?t(!!c[n][e]):function(e,t){var n,o="";if(502===e&&(o="setCookies"),503===e&&(o="getCookies"),o){var a=Object(i.a)(this);c[a]=c[a]||(Object(r.D)(n={},502,null),Object(r.D)(n,503,null),n),Object(r.w)("getPluginPermissionBytes",{pluginId:a,apiName:o},void 0,(function(n){c[a][e]=!(1!==n.bytes[0]),t()}))}}.call(this,e,(function(){return t(!!c[n][e])}))}function C(e){O.call(this,502,(function(t){var n="setCookies:ok";if(t){var r=b(e);r?(n=r,"function"==typeof e.fail&&e.fail({errMsg:n})):"function"==typeof e.success&&e.success({errMsg:n})}else n="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})}))}function I(e){O.call(this,503,(function(t){var n="getCookies:ok";if(t){var r=m(e);"function"==typeof e.success&&e.success({errMsg:n,cookies:r})}else n="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})}))}}).call(this,n(10)(e))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===n(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e},template:function(e,t,n){if(void 0!==e){if(void 0===t)return e;var r=e;return Object.keys(t).forEach((function(e){r=r.replace("{".concat(e,"}"),n.encodeUrl?encodeURIComponent(t[e]):t[e])})),r}}}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o=n(13),i=n(7);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=m,t.resolve=function(e,t){return m(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?m(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=m(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var c=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),f=["'"].concat(l),d=["%","/","?",";","#"].concat(f),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(16);function m(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not ".concat(r(e)));var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",l=e.split(s);l[0]=l[0].replace(/\\/g,"/");var m=e=l.join(s);if(m=m.trim(),!n&&1===e.split("#").length){var w=u.exec(m);if(w)return this.path=m,this.href=m,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var S=c.exec(m);if(S){var O=(S=S[0]).toLowerCase();this.protocol=O,m=m.substr(S.length)}if(n||S||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===m.substr(0,2);!C||S&&y[S]||(m=m.substr(2),this.slashes=!0)}if(!y[S]&&(C||S&&!_[S])){for(var I,E,T=-1,k=0;k<p.length;k++)-1!==(A=m.indexOf(p[k]))&&(-1===T||A<T)&&(T=A);for(-1!==(E=-1===T?m.lastIndexOf("@"):m.lastIndexOf("@",T))&&(I=m.slice(0,E),m=m.slice(E+1),this.auth=decodeURIComponent(I)),T=-1,k=0;k<d.length;k++){var A;-1!==(A=m.indexOf(d[k]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=m.length),this.host=m.slice(0,T),m=m.slice(T),this.parseHost(),this.hostname=this.hostname||"";var x="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!x)for(var P=this.hostname.split(/\./),j=(k=0,P.length);k<j;k++){var N=P[k];if(N&&!N.match(h)){for(var D="",R=0,M=N.length;R<M;R++)127<N.charCodeAt(R)?D+="x":D+=N[R];if(!D.match(h)){var B=P.slice(0,k),L=P.slice(k+1),F=N.match(v);F&&(B.push(F[1]),L.unshift(F[2])),L.length&&(m="/".concat(L.join(".")).concat(m)),this.hostname=B.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=o.toASCII(this.hostname));var U=this.port?":".concat(this.port):"",q=this.hostname||"";this.host=q+U,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/".concat(m)))}if(!g[O])for(k=0,j=f.length;k<j;k++){var W=f[k];if(-1!==m.indexOf(W)){var V=encodeURIComponent(W);V===W&&(V=escape(W)),m=m.split(W).join(V)}}var G=m.indexOf("#");-1!==G&&(this.hash=m.substr(G),m=m.slice(0,G));var H=m.indexOf("?");if(-1!==H?(this.search=m.substr(H),this.query=m.substr(H+1),t&&(this.query=b.parse(this.query)),m=m.slice(0,H)):t&&(this.search="",this.query={}),m&&(this.pathname=m),_[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var Y=this.search||"";this.path=U+Y}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"[".concat(this.hostname,"]")),this.port&&(o+=":".concat(this.port))),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var c=this.search||a&&"?".concat(a)||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==o?(o="//".concat(o||""),n&&"/"!==n.charAt(0)&&(n="/".concat(n))):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#".concat(r)),c&&"?"!==c.charAt(0)&&(c="?".concat(c)),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(c=c.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var c=r[o];n[c]=this[c]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),u=0;u<s.length;u++){var l=s[u];"protocol"!==l&&(n[l]=e[l])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||y[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",g=n.search||"";n.path=v+g}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b,m=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||m||n.host&&e.pathname,O=S,C=n.pathname&&n.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),S=S&&(""===h[0]||""===C[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=h;else if(h.length)C||(C=[]),C.pop(),C=C.concat(h),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return I&&(n.hostname=n.host=C.shift(),(b=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!C.length)return n.pathname=null,n.search?n.path="/".concat(n.search):n.path=null,n.href=n.format(),n;for(var E=C.slice(-1)[0],T=(n.host||e.host||1<C.length)&&("."===E||".."===E)||""===E,k=0,A=C.length;0<=A;A--)"."===(E=C[A])?C.splice(A,1):".."===E?(C.splice(A,1),k++):k&&(C.splice(A,1),k--);if(!S&&!O)for(;k--;k)C.unshift("..");!S||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),T&&"/"!==C.join("/").substr(-1)&&C.push("");var x=""===C[0]||C[0]&&"/"===C[0].charAt(0);return I&&(n.hostname=n.host=x?"":C.length?C.shift():"",(b=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),(S=S||n.host&&C.length)&&!x&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports={ad:{"1.1.0":["unit-id"]},audio:{"1.0.0":["id","src","loop","controls","poster","name","author","binderror","bindplay","bindpause","bindtimeupdate","bindended"]},button:{"1.0.0":[{size:["default","mini"]},{type:["primary","default","warn"]},"plain","disabled","loading",{"form-type":["submit","reset"]},"hover-class","hover-start-time","hover-stay-time",{"open-type":["contact","share","getUserInfo","launchApp","openSetting"]},"app-parameter","binderror","bindopensetting","hover-stop-propagation","send-message-title","send-message-path","send-message-img","show-message-card","bindcontact","session-from"],"1.2.0":[{"open-type":["feedback"]}],"1.4.1":["share-type"],"1.4.7":[{"open-type":["getPhoneNumber","openGroupProfile"]},"group-id","bindgetphonenumber"],"1.8.0":[{"open-type":["addFriend"]},"open-id"],"1.19.0":[{"open-type":["addToFavorites"]}]},camera:{"1.0.0":["device-position","flash","bindstop","binderror","mode","scan-area","bindscancode"]},canvas:{"1.0.0":["canvas-id","disable-scroll","bindtouchstart","bindtouchmove","bindtouchend","bindtouchcancel","bindlongtap","binderror"]},"checkbox-group":{"1.0.0":["bindchange"]},checkbox:{"1.0.0":["value","disabled","checked","color"]},"contact-button":{"1.0.0":["size",{type:["default-dark","default-light"]},"session-from"]},"cover-view":{"1.0.0":["scroll-top"]},"cover-image":{"1.0.0":["src","bindload","binderror"]},form:{"1.0.0":["report-submit","bindsubmit","bindreset","bindautofill"]},icon:{"1.0.0":[{type:["success","success_no_circle","info","warn","waiting","cancel","download","search","clear"]},"size","color"]},image:{"1.0.0":["src",{mode:["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]},"binderror","bindload","lazy-load"]},input:{"1.0.0":["value",{type:["text","number","idcard","digit"]},"password","placeholder","placeholder-style","placeholder-class","disabled","maxlength","cursor-spacing","auto-focus","focus","bindinput","bindfocus","bindblur","bindconfirm",{"confirm-type":["send","search","next","go","done"]},"confirm-hold","cursor","selection-start","selection-end","adjust-position","auto-fill"]},label:{"1.0.0":["for"]},"live-player":{"1.5.1":["src","mode","autoplay","muted","orientation","object-fit","background-mute","min-cache","max-cache","bindstatechange","bindfullscreenchange","bindnetstatus"],"1.9.0":["mute-audio","mute-video","need-audio-volume","enable-recv-messag","bindaudiovolumenotify"]},"live-pusher":{"1.9.0":["url","mode","autopush","muted","enable-camera","enable-mic","enable-agc","enable-ans","enable-ear-monitor","video-width","video-height","local-mirror","remote-mirror","audio-volume-type","audio-reverb-type","enable-audio-preview","auto-focus","orientation","beauty","whiteness","aspect","min-bitrate","max-bitrate","waiting-image","waiting-image-hash","background-mute","bindstatechange","zoom","bindbgmstart","bindbgmprogress","bindbgmcomplete","bindnetstatus","binderror"]},map:{"2.0.0":["longitude","latitude","scale",{markers:["id","latitude","longitude","title","iconPath","rotate","alpha","width","height"]},"covers",{polyline:["points","color","width","dottedLine"]},{circles:["latitude","longitude","color","fillColor","radius","strokeWidth"]},{controls:["id","position","iconPath","clickable"]},"include-points","show-location","bindmarkertap","bindcontroltap","bindregionchange","bindtap",{markers:["callout","label","anchor"]},{polyline:["arrowLine","borderColor","borderWidth"]},"bindcallouttap",{polyline:["arrowIconPath"]},"bindupdated",{markers:["zIndex"]},{polygons:["points","strokeWidth","strokeColor","fillColor","zIndex","visible"]},"sub-key","enable-3D","show-compass","enable-overlooking","enable-zoom","enable-scroll","enable-rotate","bindpoitap"]},modal:{"1.0.0":[]},"movable-area":{"1.0.0":["scale-area"]},"movable-view":{"1.0.0":["direction","inertia","out-of-bounds","x","y","damping","friction","disabled","scale","scale-min","scale-max","scale-value","bindchange","bindscale","animation"]},navigator:{"1.0.0":["url",{"open-type":["navigate","redirect","switchTab","exit","reLaunch","navigateBack"]},"delta","hover-class","hover-start-time","hover-stay-time","target","app-id","path","extra-data","version","hover-stop-propagation"]},"open-data":{"1.1.0":[{type:["userNickName","userAvatarUrl","userGender","userCity","userProvince","userCountry","userLanguage"]},"open-gid","lang"],"2.0.0":[{type:["groupName"]}]},"picker-view":{"1.0.0":["value","indicator-style","bindchange","indicator-class","mask-style","mask-class"]},"picker-view-column":{"1.0.0":[]},picker:{"1.0.0":["range","range-key","value","bindchange","disabled","bindcolumnchange","start","end",{fields:["year","month","day"]},{mode:["selector","date","time","multiSelector","region"]},"bindcancel","auto-fill","bindcolumnchange","custom-item"]},progress:{"1.0.0":["percent","show-info","stroke-width","color","activeColor","backgroundColor","active","active-mode","bindactiveend"]},"radio-group":{"1.0.0":["bindchange"]},radio:{"1.0.0":["value","checked","disabled","color"]},"rich-text":{"1.0.0":[{nodes:["name","attrs","children"]},"space"]},"scroll-view":{"1.0.0":["scroll-x","scroll-y","upper-threshold","lower-threshold","scroll-top","scroll-left","scroll-into-view","scroll-with-animation","enable-back-to-top","bindscrolltoupper","bindscrolltolower","bindscroll"]},slider:{"1.0.0":["min","max","step","disabled","value","color","selected-color","activeColor","backgroundColor","show-value","bindchange","block-size","block-color","bindchanging"]},swiper:{"1.0.0":["indicator-dots","autoplay","current","interval","duration","circular","vertical","bindchange","indicator-color","indicator-active-color","current-item-id","previous-margin","next-margin","display-multiple-items","skip-hidden-item-layout","bindanimationfinish"]},"swiper-item":{"1.0.0":["item-id"]},switch:{"1.0.0":["checked",{type:["switch","checkbox"]},"bindchange","color"]},text:{"1.0.0":["selectable",{space:["ensp","emsp","nbsp"]},"decode"]},textarea:{"1.0.0":["value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","auto-focus","focus","auto-height","fixed","cursor-spacing","bindfocus","bindblur","bindlinechange","bindinput","bindconfirm","cursor","show-confirm-bar","selection-start","selection-end","adjust-position","auto-fill"]},video:{"1.0.0":["src","controls","danmu-list","danmu-btn","enable-danmu","autoplay","objectFit","poster","bindplay","bindpause","bindended","bindtimeupdate","initial-time","page-gesture","duration","loop","muted","bindfullscreenchange","direction","bindwaiting","binderror","show-progress","show-fullscreen-btn","show-play-btn","show-center-play-btn","enable-progress-gesture","bindprogress"]},view:{"1.0.0":["hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"web-view":{"1.1.1":["src","bindmessage"]},"functional-page-navigator":{"1.0.0":["version",{name:["loginAndGetUserInfo","requestPayment"]},"args","bindsuccess","bindfail"]},"official-account":{"2.0.0":[]}}},function(e,t){e.exports={onAccelerometerChange:{"1.0.0":[{callback:["x","y","z"]}]},startAccelerometer:{"1.0.0":[{object:["interval"]}]},stopAccelerometer:{"1.0.0":[]},chooseAddress:{"1.0.0":[{success:["userName","postalCode","provinceName","cityName","countyName","detailInfo","nationalCode","telNumber"]}]},getMenuButtonBoundingClientRect:{"1.1.0":[]},reportAnalytics:{"3.0.0":[]},createAnimation:{"1.0.0":[{object:["duration",{timingFunction:["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"]},"delay","transformOrigin"]}]},createAudioContext:{"1.0.0":[]},createCameraContext:{"1.0.0":[]},canIUse:{"1.0.0":[]},createAppBox:{"1.7.1":[{object:["adUnitId"]}]},createRewardedVideoAd:{"1.7.1":[{object:["adUnitId"]}]},createInterstitialAd:{"1.8.6":[{object:["adUnitId"]}]},createLivePlayerContext:{"1.5.1":["play","stop","mute","requestFullScreen","exitFullScreen","null","pause","resume"]},createExternalElementContext:{"1.20.0":["call"]},createLivePusherContext:{"1.9.0":["start","stop","pause","resume","switchCamera","null","snapshot","toggleTorch","pauseBGM","playBGM","resumeBGM","setBGMVolume","startPreview","stopPreview","stopBGM","setMICVolume","setAudioVolumeType","setBGMPosition","sendMessage"]},login:{"1.0.0":[{success:["code"]},{object:["timeout"]}]},createMapContext:{"2.0.0":[]},requestPayment:{"1.1.0":[{object:["timeStamp","nonceStr","package","signType","paySign"]}]},requestMidasGoodsPay:{"2.0.0":[{object:["offerId","payInfo"]}]},requestMidasMonthCardPay:{"2.0.0":[{object:["offerId","isShowNum","unit","serviceCode","serviceName","channel","saveValue","isCanChange","remark","autoPay","aid","productId","couponId","other","payload","drmInfo"]}]},requestWxPayment:{"1.17.0":[{object:["url"]}]},showToast:{"1.0.0":[{object:["title","icon","duration","mask","image"]}]},showLoading:{"1.0.0":[{object:["title","mask"]}]},hideToast:{"1.0.0":[]},hideLoading:{"1.0.0":[]},showModal:{"1.0.0":[{object:["title","content","showCancel","cancelText","cancelColor","confirmText","confirmColor"]},{success:["confirm","cancel"]}]},showActionSheet:{"1.0.0":[{object:["itemList","itemColor"]},{success:["tapIndex"]}]},hideHomeButton:{"2.0.0":[]},arrayBufferToBase64:{"1.1.0":[]},base64ToArrayBuffer:{"1.1.0":[]},createVideoContext:{"1.0.0":[]},authorize:{"1.0.0":[{object:["scope"]}]},openBluetoothAdapter:{"3.0.0":[]},closeBluetoothAdapter:{"3.0.0":[]},getBluetoothAdapterState:{"3.0.0":[{success:["discovering","available"]}]},onBluetoothAdapterStateChange:{"3.0.0":[{callback:["available","discovering"]}]},startBluetoothDevicesDiscovery:{"3.0.0":[{object:["services","allowDuplicatesKey","interval"]}]},stopBluetoothDevicesDiscovery:{"3.0.0":[]},getBluetoothDevices:{"3.0.0":[{success:["devices"]}]},onBluetoothDeviceFound:{"3.0.0":[{callback:["devices"]}]},getConnectedBluetoothDevices:{"3.0.0":[{object:["services"]},{success:["devices"]}]},createBLEConnection:{"3.0.0":[{object:["deviceId","timeout"]}]},closeBLEConnection:{"3.0.0":[{object:["deviceId"]}]},onBLEConnectionStateChange:{"3.0.0":[{callback:["deviceId","connected"]}]},getBLEDeviceServices:{"3.0.0":[{object:["deviceId"]},{success:["services"]}]},getBLEDeviceCharacteristics:{"3.0.0":[{object:["deviceId","serviceId"]},{success:["characteristics"]}]},readBLECharacteristicValue:{"3.0.0":[{object:["deviceId","serviceId","characteristicId"]},{success:["errCode"]}]},writeBLECharacteristicValue:{"3.0.0":[{object:["deviceId","serviceId","characteristicId","value"]}]},notifyBLECharacteristicValueChange:{"3.0.0":[{object:["deviceId","serviceId","characteristicId","state"]}]},onBLECharacteristicValueChange:{"3.0.0":[{callback:["deviceId","serviceId","characteristicId","value"]}]},addCard:{"2.0.0":[{object:["cardList"]},{success:["cardList"]}]},openCard:{"2.0.0":[{object:["cardList"]}]},checkIsSoterEnrolledInDevice:{"1.0.0":[{object:["checkAuthMode"]},{success:["isEnrolled"]}]},checkIsSupportSoterAuthentication:{"2.0.0":[{success:[{supportMode:["fingerPrint","facial","speech"]}]}]},chooseInvoiceTitle:{"2.0.0":[{success:["type","title","taxNumber","companyAddress","telephone","bankName","bankAccount"]}]},setClipboardData:{"1.0.0":[{object:["data"]}]},getClipboardData:{"1.0.0":[{success:["data"]}]},onCompassChange:{"1.0.0":[{callback:["direction","accuracy"]}]},startCompass:{"1.0.0":[]},stopCompass:{"1.0.0":[]},createInnerAudioContext:{"1.0.0":[]},createWorker:{"1.0.0":["postMessage","onMessage","terminate","null"]},setStorage:{"1.0.0":[{object:["key","data"]}]},setStorageSync:{"1.0.0":[]},getStorage:{"1.0.0":[{object:["key"]},{success:["data"]}]},getStorageSync:{"1.0.0":[]},getStorageInfo:{"1.0.0":[{success:["keys","currentSize","limitSize"]}]},getBackgroundFetchData:{"1.0.0":[{success:["fetchedData","timeStamp"]}]},removeStorage:{"1.0.0":[{object:["key"]}]},removeStorageSync:{"1.0.0":[]},clearStorage:{"1.0.0":[]},clearStorageSync:{"1.0.0":[]},getOpenDeviceId:{"1.0.0":[{success:["encryptedData","iv"]}]},getNetworkType:{"1.0.0":[{success:["networkType"]}]},onNetworkStatusChange:{"1.0.0":[{callback:["isConnected",{networkType:["wifi","2g","3g","4g","none","unknown"]}]}]},setScreenBrightness:{"1.0.0":[{object:["value"]}]},getScreenBrightness:{"1.0.0":[{success:["value"]}]},vibrateLong:{"1.0.0":[]},vibrateShort:{"1.0.0":[]},getExtConfig:{"2.0.0":[{success:["extConfig"]}]},getExtConfigSync:{"2.0.0":[]},saveFile:{"1.0.0":[{object:["tempFilePath"]},{success:["savedFilePath"]}]},getSavedFileList:{"1.0.0":[{success:["fileList"]}]},getSavedFileInfo:{"1.0.0":[{object:["filePath"]},{success:["size","createTime"]}]},removeSavedFile:{"1.0.0":[{object:["filePath"]}]},openDocument:{"1.0.0":[{object:["filePath"]}],"1.0.0":[{object:["fileType"]}]},getRecorderManager:{"1.0.0":[]},getBackgroundAudioManager:{"1.0.0":[]},getFileInfo:{"1.0.0":[{object:["filePath",{digestAlgorithm:["md5","sha1"]}]},{success:["size","digest"]}]},getLogManager:{"1.0.0":["log","info","warn","debug"]},getUpdateManager:{"1.0.0":["onCheckForUpdate","onUpdateReady","onUpdateFailed","applyUpdate","null"]},startBeaconDiscovery:{"2.0.0":[{object:["uuids"]}]},stopBeaconDiscovery:{"2.0.0":[]},getBeacons:{"2.0.0":[{success:["beacons"]}]},onBeaconUpdate:{"2.0.0":[{callback:["beacons"]}]},onBeaconServiceChange:{"2.0.0":[{callback:["available","discovering"]}]},getLocation:{"1.0.0":[{object:["type","altitude"]},{success:["latitude","longitude","speed","accuracy","altitude","verticalAccuracy","horizontalAccuracy"]}]},chooseLocation:{"1.0.0":[{success:["name","address","latitude","longitude"]}]},openLocation:{"1.0.0":[{object:["latitude","longitude","scale","name","address"]}]},subscribeAppMsg:{"1.7.0":[]},requestSubscribeSystemMessage:{"1.20.0":[{object:["msgTypeList"],success:["MSG_TYPE"]}]},getBackgroundAudioPlayerState:{"1.0.0":[{success:["duration","currentPosition","status","downloadPercent","dataUrl"]}]},playBackgroundAudio:{"1.0.0":[{object:["dataUrl","title","coverImgUrl"]}]},pauseBackgroundAudio:{"1.0.0":[]},seekBackgroundAudio:{"1.0.0":[{object:["position"]}]},stopBackgroundAudio:{"1.0.0":[]},onBackgroundAudioPlay:{"1.0.0":[]},onBackgroundAudioPause:{"1.0.0":[]},onBackgroundAudioStop:{"1.0.0":[]},loadFontFace:{"2.0.0":[{object:["family","source","desc"]}]},chooseImage:{"1.0.0":[{object:["count","sizeType","sourceType"]},{success:["tempFilePaths","tempFiles"]}]},previewImage:{"1.0.0":[{object:["current","urls"]}]},getImageInfo:{"1.0.0":[{object:["src"]},{success:["width","height","path","orientation","type"]}]},saveImageToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},startRecord:{"1.0.0":[{success:["tempFilePath"]}]},stopRecord:{"1.0.0":[]},chooseVideo:{"1.0.0":[{object:["sourceType","maxDuration","compressed"]},{success:["tempFilePath","duration","size","height","width"]}]},saveVideoToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},playVoice:{"1.0.0":[{object:["filePath","duration"]}]},pauseVoice:{"1.0.0":[]},stopVoice:{"1.0.0":[]},reportMonitor:{"1.0.0":[]},navigateBackMiniProgram:{"1.1.0":[{object:["extraData"]}]},navigateToMiniProgram:{"1.1.0":[{object:["appId","path","extraData","envVersion"]}]},startDownloadAppTask:{"1.6.3":[{object:["appid","onDownloadAppSucceed","onDownloadAppFailed","onDownloadAppProgress"]}],"1.7.1":[{object:["autoInstall"]}]},cancelDownloadAppTask:{"1.6.3":[{object:["appid"]}]},queryDownloadAppTask:{"1.6.3":[{object:["appid"]}]},queryAppInfo:{"1.6.3":[{object:["packagename"]}]},installApp:{"1.6.3":[{object:["appid"]}]},startApp:{"1.6.3":[{object:["packagename","path"]}]},uploadFile:{"1.0.0":[{object:["url","filePath","name","header","formData"]},{success:["data","statusCode"]}]},downloadFile:{"1.0.0":[{object:["url","header"]},{success:["tempFilePath","statusCode"]}]},request:{"1.0.0":[{object:["url","data","header","responseType",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]},"dataType"]},{success:["data","statusCode","header"]}]},wnsRequest:{"1.0.0":[{object:["url","data","header","responseType",{method:["GET","POST"]},"dataType"]},{success:["data","statusCode","header"]}]},notifyNative:{"1.0.0":[]},openScheme:{"1.3.0":[]},getCloudTicket:{"1.8.0":["evnId"]},setOfficialDress:{"1.4.0":[]},setCustomDress:{"1.4.0":[]},getUserInfoExtra:{"1.3.0":[{success:["errMsg","encryptedData","iv"]}]},invokeNativePlugin:{"1.3.0":[]},openQzonePublish:{"1.5.0":[]},onNativePluginEvent:{"1.3.0":[]},connectSocket:{"1.0.0":[{object:["url","header","protocols",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]}]}]},onSocketOpen:{"1.0.0":[]},onSocketError:{"1.0.0":[]},sendSocketMessage:{"1.0.0":[{object:["data"]}]},onSocketMessage:{"1.0.0":[{callback:["data"]}]},closeSocket:{"1.0.0":[{object:["code","reason"]}]},onSocketClose:{"1.0.0":[]},getHCEState:{"2.0.0":[{success:["errCode"]}]},startHCE:{"2.0.0":[{object:["aid_list"]},{success:["errCode"]}]},stopHCE:{"2.0.0":[{success:["errCode"]}]},onHCEMessage:{"2.0.0":[{callback:["messageType","data","reason"]}]},sendHCEMessage:{"2.0.0":[{object:["data"]},{success:["errCode"]}]},onUserCaptureScreen:{"1.0.0":[]},chooseContact:{"1.0.0":[{success:["phoneNumber","displayName"]}]},getUserInfo:{"1.0.0":[{success:["userInfo","rawData","signature","encryptedData","iv"],object:["timeout"]}],"2.0.0":[{object:["withCredentials"]}],"2.0.0":[{object:["lang"]}]},addPhoneContact:{"1.0.0":[{object:["photoFilePath","nickName","lastName","middleName","firstName","remark","mobilePhoneNumber","weChatNumber","addressCountry","addressState","addressCity","addressStreet","addressPostalCode","organization","title","workFaxNumber","workPhoneNumber","hostNumber","email","url","workAddressCountry","workAddressState","workAddressCity","workAddressStreet","workAddressPostalCode","homeFaxNumber","homePhoneNumber","homeAddressCountry","homeAddressState","homeAddressCity","homeAddressStreet","homeAddressPostalCode"]}]},makePhoneCall:{"1.0.0":[{object:["phoneNumber"]}]},startPullDownRefresh:{"1.0.0":[]},stopPullDownRefresh:{"1.0.0":[]},scanCode:{"1.0.0":[{success:["result","scanType","charSet","path","rawData"],object:["scanType","onlyFromCamera"]}]},pageScrollTo:{"1.0.0":[{object:["scrollTop","duration"]}]},setEnableDebug:{"1.0.0":[{object:["enableDebug"]}]},setKeepScreenOn:{"1.0.0":[{object:["keepScreenOn"]}]},setNavigationBarColor:{"1.0.0":[{object:["frontColor","backgroundColor","animation","animation.duration",{"animation.timingFunc":["linear","easeIn","easeOut","easeInOut"]}]}]},openSetting:{"1.0.0":[{success:["authSetting"]}]},getSetting:{"1.0.0":[{success:["authSetting"]}]},showShareMenu:{"1.0.0":[{object:["withShareTicket"]}]},hideShareMenu:{"1.0.0":[]},updateShareMenu:{"1.0.0":[{object:["withShareTicket","dynamic","widget","isUpdatableMessage","activityId","templateInfo"]}]},getShareInfo:{"1.0.0":[{object:["shareTicket","timeout"]},{callback:["encryptedData","iv"]}]},checkSession:{"1.0.0":[]},startSoterAuthentication:{"1.0.0":[{object:["requestAuthModes","challenge","authContent"]},{success:["errCode","authMode","resultJSON","resultJSONSignature"]}]},getSystemInfo:{"1.0.0":[{success:["model","pixelRatio","windowWidth","windowHeight","language","version","system","platform","brand","fontSizeSetting","screenWidth","screenHeight","SDKVersion","statusBarHeight"]}]},getSystemInfoSync:{"1.0.0":[{return:["model","pixelRatio","windowWidth","windowHeight","language","version","system","platform","brand","fontSizeSetting","screenWidth","screenHeight","SDKVersion","statusBarHeight"]}]},getQua:{"1.0.0":[{success:["qua"]}]},getEnvVersion:{"1.7.0":[]},setBackgroundColor:{"1.0.0":[{object:["backgroundColor","backgroundColorTop","backgroundColorBottom"]}]},setBackgroundTextStyle:{"1.0.0":[{object:["textStyle"]}]},navigateTo:{"1.0.0":[{object:["url"]}]},redirectTo:{"1.0.0":[{object:["url"]}]},reLaunch:{"1.0.0":[{object:["url"]}]},switchTab:{"1.0.0":[{object:["url"]}]},navigateBack:{"1.0.0":[{object:["delta"]}]},setTabBarBadge:{"1.0.0":[{object:["index","text"]}]},removeTabBarBadge:{"1.0.0":[{object:["index"]}]},showTabBarRedDot:{"1.0.0":[{object:["index"]}]},hideTabBarRedDot:{"1.0.0":[{object:["index"]}]},setTabBarStyle:{"1.0.0":[{object:["color","selectedColor","backgroundColor","borderStyle"]}]},setTabBarItem:{"1.0.0":[{object:["index","text","iconPath","selectedIconPath"]}]},showTabBar:{"1.0.0":[{object:["animation"]}]},hideTabBar:{"1.0.0":[{object:["animation"]}]},setTopBarText:{"1.0.0":[{object:["text"]}]},setNavigationBarTitle:{"1.0.0":[{object:["title"]}]},showNavigationBarLoading:{"1.0.0":[]},hideNavigationBarLoading:{"1.0.0":[]},getWeRunData:{"1.7.0":[{success:["encryptedData","iv"],object:["timeout"]}]},getQQRunData:{"1.7.0":[{success:["encryptedData","iv"],object:["timeout"]}]},startWifi:{"1.0.0":[]},stopWifi:{"1.0.0":[]},connectWifi:{"1.0.0":[{object:["SSID","BSSID","password"]}]},getWifiList:{"1.0.0":[]},onGetWifiList:{"1.0.0":[{callback:["wifiList"]}]},setWifiList:{"1.0.0":[{object:["wifiList"]}]},onWifiConnected:{"1.0.0":[{callback:["wifi"]}]},getConnectedWifi:{"1.0.0":[{success:["wifi"]}]},createSelectorQuery:{"1.0.0":[]},makeVoIPCall:{"1.0.0":[{object:["allowBackCamera","showOther","avatarUrl","context"]}]},createCanvasContext:{"1.0.0":[]},canvasGetImageData:{"1.0.0":[{object:["canvasId","x","y","width","height"]},{success:["width","height","data"]}]},canvasPutImageData:{"1.0.0":[{object:["canvasId","data","x","y","width","height"]}]},canvasToTempFilePath:{"1.0.0":[{object:["canvasId","x","y","width","height","destWidth","destHeight","fileType","quality"]}]},canvasContext:{"1.0.0":["addColorStop","arc","beginPath","bezierCurveTo","clearActions","clearRect","closePath","createCircularGradient","createLinearGradient","drawImage","draw","fillRect","fillText","fill","lineTo","moveTo","quadraticCurveTo","rect","rotate","save","scale","setFillStyle","setFontSize","setGlobalAlpha","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setShadow","setStrokeStyle","strokeRect","stroke","translate","arcTo","createPattern","font","globalCompositeOperation","lineDashOffset","measureText","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","setTransform","strokeText","transform","clip","setLineDash","setTextAlign","setTextBaseline"]},animation:{"1.0.0":["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d","skew","skewX","skewY","matrix","matrix3d"]},audioContext:{"1.0.0":["setSrc","play","pause","seek"]},cameraContext:{"1.0.0":["takePhoto","startRecord","stopRecord"]},mapContext:{"1.0.0":["getCenterLocation","moveToLocation","translateMarker","includePoints","getRegion","getScale"]},videoContext:{"1.0.0":["play","pause","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar"]},innerAudioContext:{"1.0.0":["play","pause","stop","seek","destroy","onCanplay","onPlay","onPause","onStop","onEnded","onTimeUpdate","onError","onWaiting","onSeeking","onSeeked","src","startTime","autoplay","loop","obeyMuteSwitch","duration","currentTime","paused","buffered","offCanplay","offPlay","offPause","offStop","offEnded","offTimeUpdate","offError","offWaiting","offSeeking","offSeeked",{props:["volume"]},"volume"]},recorderManager:{"1.0.0":["start","pause","resume","stop","onStart","onPause","onStop","onFrameRecorded","onError"]},backgroundAudioManager:{"1.0.0":["play","pause","stop","seek","onCanplay","onPlay","onPause","onStop","onEnded","onTimeUpdate","onPrev","onNext","onError","onWaiting","duration","currentTime","paused","src","startTime","buffered","title","epname","singer","coverImgUrl","webUrl","protocol"]},uploadTask:{"1.0.0":["onProgressUpdate","abort"]},downloadTask:{"1.0.0":["onProgressUpdate","abort"]},requestTask:{"1.0.0":["abort"]},selectorQuery:{"1.0.0":["in","select","selectAll","selectViewport","exec"]},onBLEConnectionStateChanged:{"2.0.0":[{callback:["deviceId","connected"]}]},notifyBLECharacteristicValueChanged:{"2.0.0":[{object:["deviceId","serviceId","characteristicId","state"]}]},sendBizRedPacket:{"1.0.0":[{object:["timeStamp","nonceStr","package","signType","paySign"]}]},captureScreen:{"1.0.0":[{success:["tempFilePath"]}]},getFileSystemManager:{"1.0.0":[]},onMemoryWarning:{"1.0.0":[{callback:["level"]}]},nextTick:{"1.0.0":[]},getAccountInfoSync:{"1.0.0":[]},getAvailableAudioSources:{"1.0.0":[{success:["audioSources"]}]},compressImage:{"1.0.0":[{object:["src","quality"]}]},offLocalServiceDiscoveryStop:{"2.0.0":[]},offLocalServiceFound:{"2.0.0":[]},offLocalServiceLost:{"2.0.0":[]},offLocalServiceResolveFail:{"2.0.0":[]},onLocalServiceDiscoveryStop:{"2.0.0":[]},onLocalServiceFound:{"2.0.0":[]},onLocalServiceLost:{"2.0.0":[]},onLocalServiceResolveFail:{"2.0.0":[]},startLocalServiceDiscovery:{"2.0.0":[]},stopLocalServiceDiscovery:{"2.0.0":[]},saveAppToDesktop:{"1.7.1":[]},addGroupCalendar:{"1.13.0":[{object:["entryDataHash","startTime","endTime","remindTime","title","desc"],success:["event_id"]}]},modifyGroupCalendar:{"1.13.0":[{object:["entryDataHash","startTime","endTime","remindTime","title","desc","eventId"],success:["event_id"]}]},removeGroupCalendar:{"1.13.0":[{object:["entryDataHash","eventId"]}]},getGroupCalendarDetail:{"1.13.0":[{object:["entryDataHash","eventId"],success:["event","role"]}]},openActivity:{"1.9.0":[{object:["url"]}]},getPerformance:{"1.9.0":[]},showMiniAIOEntrance:{"1.11.0":[]},hideMiniAIOEntrance:{"1.11.0":[]},getGroupInfo:{"1.6.2":[{object:["entryDataHash"],success:["isGroupManager"]}]},getGroupInfoExtra:{"1.11.1":[{object:["entryDataHash"],success:["isGroupManager","groupOpenId","role","groupId"]}]},setBackgroundFetchToken:{"1.14.0":[{object:["token"]}]},getBackgroundFetchToken:{"1.14.0":[{success:["token"]}]},getBackgroundFetchData:{"1.14.0":[{object:["fetchType"],success:["fetchedData","timeStamp"]}]},onBackgroundFetchData:{"1.14.0":[]},joinVoIPChat:{"1.5.1":[{object:["appId","groupId","nonceStr","timeStamp","signature",{muteConfig:["muteMicrophone","muteEarphone"]}],success:["openIdList","errCode"]}]},exitVoIPChat:{"1.5.1":[]},updateVoIPChatMuteConfig:{"1.5.1":[{object:[{muteConfig:["muteMicrophone","muteEarphone"]}]}]},onVoIPChatMembersChanged:{"1.5.1":[{callback:["openIdList","errCode"]}]},onVoIPChatSpeakersChanged:{"1.5.1":[{callback:["openIdList","errCode"]}]},onVoIPChatInterrupted:{"1.5.1":[{callback:["errCode"]}]},setUserCloudStorage:{"1.17.0":[{object:["KVDataList"]}]},removeUserCloudStorage:{"1.17.0":[{object:["keyList"]}]},setMessageToFriendQuery:{"1.17.0":[{object:["shareMessageToFriendScene"]}]},onShareMessageToFriend:{"1.17.0":[{callback:["canUse"]}]},chooseMessageFile:{"1.18.0":[{object:["count","type"]},{callback:["tempFiles"]}]},queryBookshelf:{"1.18.0":[{object:["contentIds"]}]},updateBookshelfReadTime:{"1.18.0":[{object:["category","contentId"]}]},navigateToBookshelf:{"1.18.0":[{object:[]}]},onAddToFavorites:{"1.19.0":[{callback:["title","imageUrl","query"]}]},updateQQApp:{"1.19.0":[]},getUserInteractiveStorage:{"1.19.0":[{keyList:[]}]},onInteractiveStorageModified:{"1.19.0":[{callback:["key"]}]},addRecentColorSign:{"1.20.0":[{object:["query"]}]},isColorSignExistSync:{"1.24.0":[]},chooseExternalFile:{"1.19.0":[{object:["from","count","type"]},{callback:["files"]}]},preloadPackage:{"1.29.0":[{object:["appid"]}]}}},function(e,t,n){(function(e,r){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}!function(a){var c,s="object"===i(t)&&t&&!t.nodeType&&t,u="object"===i(e)&&e&&!e.nodeType&&e,l="object"===(void 0===r?"undefined":i(r))&&r;l.global!==l&&l.window!==l&&l.self!==l||(a=l);var f,d=2147483647,p=/^xn--/,h=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,_=String.fromCharCode;function b(e){throw RangeError(g[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function w(e,t){var n=e.split("@"),r="";return n.length>1&&(r="".concat(n[0],"@"),e=n[1]),r+m((e=e.replace(v,".")).split("."),t).join(".")}function S(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function O(e){return m(e,(function(e){var t="";return e>65535&&(t+=_((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+_(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,n){var r=0;for(e=n?y(e/700):e>>1,e+=y(e/t);e>455;r+=36)e=y(e/35);return y(r+36*e/(e+38))}function E(e){var t,n,r,o,i,a,c,s,u,l,f,p=[],h=e.length,v=0,g=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&b("not-basic"),p.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<h;){for(i=v,a=1,c=36;o>=h&&b("invalid-input"),((s=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||s>y((d-v)/a))&&b("overflow"),v+=s*a,!(s<(u=c<=_?1:c>=_+26?26:c-_));c+=36)a>y(d/(l=36-u))&&b("overflow"),a*=l;_=I(v-i,t=p.length+1,0==i),y(v/t)>d-g&&b("overflow"),g+=y(v/t),v%=t,p.splice(v++,0,g)}return O(p)}function T(e){var t,n,r,o,i,a,c,s,u,l,f,p,h,v,g,m=[];for(p=(e=S(e)).length,t=128,n=0,i=72,a=0;a<p;++a)(f=e[a])<128&&m.push(_(f));for(r=o=m.length,o&&m.push("-");r<p;){for(c=d,a=0;a<p;++a)(f=e[a])>=t&&f<c&&(c=f);for(c-t>y((d-n)/(h=r+1))&&b("overflow"),n+=(c-t)*h,t=c,a=0;a<p;++a)if((f=e[a])<t&&++n>d&&b("overflow"),f==t){for(s=n,u=36;!(s<(l=u<=i?1:u>=i+26?26:u-i));u+=36)g=s-l,v=36-l,m.push(_(C(l+g%v,0))),s=y(g/v);m.push(_(C(s,0))),i=I(n,h,r==o),n=0,++r}++n,++t}return m.join("")}if(c={version:"1.3.2",ucs2:{decode:S,encode:O},decode:E,encode:T,toASCII:function(e){return w(e,(function(e){return h.test(e)?"xn--".concat(T(e)):e}))},toUnicode:function(e){return w(e,(function(e){return p.test(e)?E(e.slice(4).toLowerCase()):e}))}},"object"===i(n(9))&&n(9))void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o);else if(s&&u)if(e.exports==s)u.exports=c;else for(f in c)c.hasOwnProperty(f)&&(s[f]=c[f]);else a.punycode=c}(this)}).call(this,n(14)(e),n(15))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(n=window)}e.exports=n},function(e,t,n){t.decode=t.parse=n(17),t.encode=t.stringify=n(18)},function(e,t,n){e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var c,s,u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;0<u&&u<l&&(l=u);for(var f=0;f<l;++f){var d,p,h,v,g=e[f].replace(a,"%20"),y=g.indexOf(n);p=0<=y?(d=g.substr(0,y),g.substr(y+1)):(d=g,""),h=decodeURIComponent(d),v=decodeURIComponent(p),c=i,s=h,Object.prototype.hasOwnProperty.call(c,s)?r(i[h])?i[h].push(v):i[h]=[i[h],v]:i[h]=v}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var o=function(e){switch(r(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===r(e)?a(c(e),(function(r){var c=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],(function(e){return c+encodeURIComponent(o(e))})).join(t):c+encodeURIComponent(o(e[r]))})).join(t):s?encodeURIComponent(o(s))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var c=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(t,i,c){"use strict";c.r(i),c.d(i,"U",(function(){return es})),c.d(i,"Y",(function(){return lu})),c.d(i,"H",(function(){return Gd})),c.d(i,"canvasApi",(function(){return Kd})),c.d(i,"m",(function(){return np})),c.d(i,"K",(function(){return rp}));var u=c(0),l=c(4),f=c(3),d=c(2),p=c(1);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=!1,_={},b=function(e,t){var n=e.appid,r=_[n];return t&&delete _[n],r},m=function(e,t){e=e||"",t=t||{};var n={},r=!0;return"ios"===__wxConfig.platform?(n={errMsg:"".concat(e,":fail ios 不支持").concat(e,"接口，请到安卓手机调试")},r=!1):"devtools"===__wxConfig.platform?(n={errMsg:"".concat(e,":fail 开发者工具 不支持").concat(e,"接口，请到安卓手机调试")},r=!1):r=!0,r||(t.fail&&"function"==typeof t.fail&&Reporter.surroundThirdByTryCatch(t.fail,"at api ".concat(e," fail callback function"))(n),t.complete&&"function"==typeof t.complete&&Reporter.surroundThirdByTryCatch(t.complete,"at api ".concat(e," complete callback function"))(n)),r},w=function(){y||(y=!0,Object(u.B)("onAppDownloadStateChange",(function(e){var t=e.state;if(delete e.state,"onDownloadAppProgress"===t){var n=v({},e),r=b(n);if(!r)return;r.onDownloadAppProgress&&r.onDownloadAppProgress(e)}else if("onDownloadAppSucceed"===t){var o=v({},e),i=b(o,!0);if(!i)return;i.onDownloadAppSucceed&&i.onDownloadAppSucceed(e)}else if("onDownloadAppFailed"===t){var a=v({},e),c=b(a,!0);if(!c)return;c.onDownloadAppFailed&&c.onDownloadAppFailed(e)}})))},S={startDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(m("startDownloadAppTask",e)&&(w(),Object(u.h)("startDownloadAppTask",e,{appid:"",autoInstall:!0}))){var t={appid:e.appid},n=t.appid;if(!n)return void console.warn("startDownloadAppTask: task has not appid.");if(_[n])return void console.warn("startDownloadAppTask: task for appid ".concat(n," already exist."));var r={appid:t.appid};if(e.onDownloadAppSucceed){if("function"!=typeof e.onDownloadAppSucceed)throw new Error("onDownloadAppSucceed should be a function");r.onDownloadAppSucceed=e.onDownloadAppSucceed}if(e.onDownloadAppFailed){if("function"!=typeof e.onDownloadAppFailed)throw new Error("onDownloadAppFailed should be a function");r.onDownloadAppFailed=e.onDownloadAppFailed}if(e.onDownloadAppProgress){if("function"!=typeof e.onDownloadAppProgress)throw new Error("onDownloadAppProgress should be a function");r.onDownloadAppProgress=e.onDownloadAppProgress}_[n]=r;var o=v({},e);Object(u.v)("startDownloadAppTask",o)}},cancelDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(m("cancelDownloadAppTask",e)&&Object(u.h)("cancelDownloadAppTask",e,{appid:""})){var t=v({},e),n=t.success||function(){};t.success=function(){var t={appid:e.appid},r=t.appid;_[r]&&delete _[r],n(arguments[0]||{})},Object(u.v)("cancelDownloadAppTask",t)}},queryDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(m("queryDownloadAppTask",e)&&Object(u.h)("queryDownloadAppTask",e,{appid:""})){var t=v({},e);Object(u.v)("queryDownloadAppTask",t)}},queryAppInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m("queryAppInfo",e)&&Object(u.h)("queryAppInfo",e,{packagename:""})&&Object(u.v)("queryAppInfo",e)},installApp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m("installApp",e)&&Object(u.h)("installApp",e,{appid:""})&&Object(u.v)("installApp",e)},startApp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};m("startApp",e)&&Object(u.h)("startApp",e,{packagename:"",path:""})&&Object(u.v)("startApp",e)}},O={exitMiniProgram:function(e){Object(u.v)("exitMiniProgram",e)},openUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!0!==p.b.openUrlLock)if(e.url=e.url||"",Object(u.i)(e.url))p.b.openUrlLock=!0,Object(u.v)("openUrl",e,{afterAll:function(){p.b.openUrlLock=!1}});else{var t={errMsg:'openUrl: invalid url "'.concat(e.url,'"')};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}},openActivity:function(e){var t,n=e||{},r="openActivity",o=n.url;if(o?/^https:\/\/\w*\.*qzone\.qq\.com/.test(o)||(t="openActivity:fail url param is not in domain whitelist"):t="openActivity:fail url param is required",t){var i={errMsg:t};return n.fail&&"function"==typeof n.fail&&Reporter.surroundThirdByTryCatch(n.fail,"at api ".concat(r," fail callback function"))(i),void(n.complete&&"function"==typeof n.complete&&Reporter.surroundThirdByTryCatch(n.complete,"at api ".concat(r," complete callback function"))(i))}Object(u.v)("private_openUrl",n,{beforeAll:function(e){e.errMsg&&(e.errMsg=e.errMsg.replace("private_openUrl",r))}})},saveAppToDesktop:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t="saveAppToDesktop";if("devtools"===__wxConfig.platform){var n={errMsg:"saveAppToDesktop:fail 开发者工具 不支持".concat(t,"接口，请到手机调试")};e.fail&&"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api ".concat(t," fail callback function"))(n),e.complete&&"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api ".concat(t," complete callback function"))(n)}else Object(u.v)(t,e);Reporter.reportApiCall({apiname:"saveAppToDesktop"})},updateQQApp:function(e){Object(u.v)("updateQQApp",e),Reporter.reportApiCall({apiname:"updateQQApp"})}},C={shareInvite:function(e){Object(u.v)("shareInvite",e)}},I={requestPayment:function(e){if(Object(u.h)("requestPayment",e,{package:""})){var t=e.package.replace(/^prepay_id=/,"");Object(u.v)("requestPayment",{prepayId:t,payInfo:{bargainor_id:e.bargainor_id||"",channel:e.channel||""},success:e.success,fail:e.fail,complete:e.complete})}},requestMidasPayment:function(e){Object(u.h)("requestMidasPayment",e,{offerId:""})&&(e.numberVisible=!0,void 0!==e.buyQuantity&&(e.saveValue=e.buyQuantity),1===e.env?e.setEnv=1:e.setEnv=0,Object(u.v)("requestMidasPayment",e))},requestMidasGoodsPay:function(e){Object(u.h)("requestMidasGoodsPay",e,{offerId:"",payInfo:{tokenUrl:"",aid:"",zoneId:"",numberVisible:!1,unit:"",discountId:"",other:""}})&&("ios"===__wxConfig.platform?console.warn("ios客户端 暂不支持该接口"):"devtools"===__wxConfig.platform?console.warn("开发者工具 暂不支持该接口"):Object(u.v)("requestMidasGoodsPay",e))},requestMidasMonthCardPay:function(e){Object(u.h)("requestMidasMonthCardPay",e,{offerId:"",isShowNum:!1,unit:"",serviceCode:"",serviceName:"",channel:"",saveValue:"",isCanChange:!1,remark:"",autoPay:!1,aid:"",productId:"",couponId:"",other:"",payload:"",drmInfo:""})&&("ios"===__wxConfig.platform?console.warn("ios客户端 暂不支持该接口"):"devtools"===__wxConfig.platform?console.warn("开发者工具 暂不支持该接口"):Object(u.v)("requestMidasMonthCardPay",e))},requestWxPayment:function(e){Object(u.h)("requestWxPayment",e,{url:"",referer:""})&&("devtools"===__wxConfig.platform?console.warn("开发者工具 暂不支持requestWxPayment api调试"):(Object(u.v)("requestWxPayment",{url:e.url,referer:e.referer,success:e.success,fail:e.fail,complete:e.complete}),Reporter.reportApiCall({apiname:"requestWxPayment"})))}};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return(A="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var x=["Adreno-GSL|GSL MEM ERROR"],P={wnsRequest:function(e,t){if(__qqConfig.isReady||console.warn("__qqConfig is not ready"),t=t||"wnsRequest","function"!=typeof e.data){var n=Object(u.t)(e.header);"Undefined"!==n&&"Object"!==n&&(console.warn("qq.wnsRequest: header must be an object"),e.header={}),e.header=e.header||{},e.header=Object(u.k)(e.header),e.header=Object.keys(e.header).reduce((function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t}),{}),e.method=e.method||"GET","string"==typeof e.method&&(e.method=e.method.toUpperCase()),e.dataType=e.dataType||"json",e.header["content-type"]=e.header["content-type"]||"application/json";var r,o=e.header||{};r=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==Object(u.t)(e.data)?-1<o["content-type"].indexOf("application/x-www-form-urlencoded")?Object(u.J)(e.data,!0):-1<o["content-type"].indexOf("application/json")||"object"===A(e.data)?JSON.stringify(e.data):e.data.toString():e.data,e.data=r,"GET"===e.method&&(e.url=function(e,t){if("string"==typeof e&&"object"===A(t)&&null!==t&&0<Object.keys(t).length){var n=e.split("?");return"".concat(n[0],"?").concat(Object(u.J)(Object(u.c)((n[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e}),{}),Object.keys(t).reduce((function(e,n){return"object"===A(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{}))))}return e}(e.url,e.data)),Object(u.v)(t,e,{beforeSuccess:function(t){if("json"===e.dataType)try{t.data=JSON.parse(t.data)}catch(e){}if("string"==typeof t.header)try{t.header=JSON.parse(t.header)}catch(e){}return t}})}else Object(u.n)(t,e,"data should not be Function")},notifyNative:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready"),Object(u.v)("notifyNative",e)},openScheme:function(e){Object(u.v)("openScheme",e),e&&"mqqapi://card/show_pslcard"===e.api_name&&Reporter.reportApiCall({apiname:"show_pslcard",param:JSON.stringify(e)})},setOfficialDress:function(e){var t,n=e.action,r=e.uin,o=e.item_id,i=e.busi_info;if(n&&"string"==typeof n&&r&&"string"==typeof r&&o&&"string"==typeof o&&(!i||"string"==typeof i)){var a=["setAvatar","setMyPraise","setBubble","setTheme","setFont","setCard","setPendant","setBackground","setGroupEffect","setScreenFloat","setEmoji","setCall","setSign","setRedPack"].indexOf(n);if(-1!==a){e.set_type=a+1;var c={};e.fail&&(c.fail=e.fail),e.success&&(c.success=e.success),e.complete&&(c.complete=e.complete),c.data=e,Object(u.v)("Personalize",T({api_name:n},c)),Reporter.reportApiCall({apiname:"setOfficialDress"})}else t={errMsg:"Personalize:fail 方法名不存在"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else t={errMsg:"Personalize:fail 参数错误"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)},setCustomDress:function(e){var t,n=e.path,r=e.action;if(n&&"string"==typeof n&&r&&"string"==typeof r){var o={};e.fail&&(o.fail=e.fail),e.success&&(o.success=e.success),e.complete&&(o.complete=e.complete),o.data=e,Object(u.v)("invokeNativePlugin",T({api_name:r},o)),Reporter.reportApiCall({apiname:"setCustomDress"})}else t={errMsg:"invokeNativePlugin:fail 参数错误"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)},getUserInfoExtra:function(e){Object(u.v)("getUserInfoExtra",e)},openQzonePublish:function(e){var t,n=(e=e||{}).text,r=e.tag,o=e.media,i=e.path,a=e.footnote;n&&"string"!=typeof n||r&&"string"!=typeof r||i&&"string"!=typeof i||a&&"string"!=typeof a||o&&!Array.isArray(o)?t={errMsg:"openQzonePublish:fail 参数类型错误"}:o&&Array.isArray(o)&&o.forEach((function(e){var n=e.type,r=e.path;n&&!r||!n&&r?t={errMsg:"openQzonePublish:fail 参数不全"}:n&&"string"!=typeof n||r&&"string"!=typeof r?t={errMsg:"openQzonePublish:fail 参数类型错误"}:0!==r.indexOf("qqfile")&&0!==r.indexOf("wxfile")&&(t={errMsg:"openQzonePublish:fail 媒体文件必须是本地文件"})})),t?("function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)):(Object(u.v)("openQzonePublish",e),Reporter.reportApiCall({apiname:"openQzonePublish"}))},invokeNativePlugin:function(e){Object(u.v)("invokeNativePlugin",e)},onNativePluginEvent:function(e,t){__safeway__.bridge.subscribe(e,t)},getCloudTicket:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready"),Reporter.reportApiCall({apiname:"getCloudTicket"}),Object(u.v)("getCloudTicket",e)},reportAnalytics:function(e,t){if(e){var n=void 0!==__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"",r=void 0!==__wxConfig&&__wxConfig.QUA||"",o=e||"",i=JSON.stringify(t),a=void 0!==__wxConfig&&__wxConfig.miniapp_version||"";Object(u.v)("reportDC",{table:"dc05329",reportArray:[n,"",r,"",o,i,a].map((function(e){return String(e)}))})}else console.error("qq.reportMonitor: require 'eventName' argument.")},reportMonitor:function(e,t){if(e)if(void 0===t&&(t=1),"number"==typeof t){var n=void 0!==__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"",r=void 0!==__wxConfig&&__wxConfig.QUA||"",o=e||"",i=String(t),a=void 0!==__wxConfig&&__wxConfig.miniapp_version||"";Object(u.v)("reportDC",{table:"dc05330",reportArray:[n,"",r,"",o,i,a].map((function(e){return String(e)}))})}else console.error("qq.reportMonitor: 'value' argument must be a Number.");else console.error("qq.reportMonitor: require 'name' argument.")},showMiniAIOEntrance:function(e){var t=qq.getSystemInfoSync().windowWidth,n=qq.getSystemInfoSync().windowHeight,r=/[+-]?\d+(\.\d+)?rpx/,o=/[+-]?\d+(\.\d+)?px/,i=/[+-]?\d+(\.\d+)?%/,a=/\d+/,c=[],s=function(e,s){var u,l="y"===s?n:t;return"number"==typeof e?u=e:e.match(r)?(u=parseInt(e,10),u*=t/750):function(e){return e.match(o)}(e)?u=parseInt(e,10):function(e){return e.match(i)}(e)?u=(u=parseInt(e,10))/100*l:function(e){return e.match(a)}(e)?u=Number(e):s&&"string"==typeof s&&c.push("参数".concat(s,"类型不正确")),u};if(e&&(e.x&&(e.x=s(e.x,"x")),e.y&&(e.y=s(e.y,"y"))),c.length>0){var l={errMsg:"showMiniAIOEntrance:fail ".concat(c.join(";"))};return"function"==typeof e.fail&&e.fail(l),void("function"==typeof e.complete&&e.complete(l))}Object(u.v)("showMiniAIOEntrance",e)},hideMiniAIOEntrance:function(e){Object(u.v)("hideMiniAIOEntrance",e)},detectAbnormalLog:function(e){if(u.z)Object(u.n)("detectAbnormalLog",e,"iOS not supported");else{var t=e.logTab,n=void 0===t?"":t,r=e.keyErr,o=void 0===r?"":r,i="".concat(n,"|").concat(o);if(-1===x.indexOf(i))return void Object(u.n)("detectAbnormalLog",e,"Value of logTab and keyErr is invalid");Object(u.v)("detectAbnormalLog",e)}},preloadPackage:function(e){var t="preloadPackage";e.appId?Object(u.h)(t,e,{appId:""})&&Object(u.v)(t,e):Object(u.n)(t,e,"缺少appId参数")}};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return(D="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var R,M=function(){return Array.prototype.slice.call(arguments).map((function(e){if(!e)return String(e);var t=D(e);if("object"===t)try{return JSON.stringify(e)}catch(e){return e.message}if("function"===t)return t;try{return String(e)}catch(e){return e.message}})).join(" ")},B={debug:1,info:2,warn:3,error:4},L=function(e,t){var n={page:this.webviewId||p.b.currentWebviewId||"",filterMsg:this.filterMsg,content:t,level:e,time:Date.now()};Object(u.v)("realtimeLog",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({success:function(){},fail:function(){}},n))},F=function(){this.filterMsg=[],this.webviewId=""};"debug,info,warn,error".split(",").forEach((function(e){F.prototype[e]=function(){L.call(this,B[e],M.apply(void 0,arguments))}})),F.prototype.setFilterMsg=function(e){if(!e)throw new Error("filterMsg should not be empty");if("string"!=typeof e)throw new Error("filterMsg should be string");this.filterMsg=[e]},F.prototype.addFilterMsg=function(e){if(!e)throw new Error("filterMsg should not be empty");if("string"!=typeof e)throw new Error("filterMsg should be string");this.filterMsg.push(e)},F.prototype.in=function(e){if(!e||!e.__wxWebviewId__)throw new Error("invalid page");this.webviewId=e.__wxWebviewId__};var U={getPerformance:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n="getPerformance",r=a.getCurrentPages();(null==r||null===(e=r[0])||void 0===e?void 0:e.__displayReporter)&&(r[0].__displayReporter.pageReadyTime||console.warn("建议在页面onReady事件触发之后再调用qq.getPerformance()")),Object(u.v)(n,t)},setBackgroundFetchToken:function(e){if(Object(u.h)("setBackgroundFetchToken",e,{token:""}))try{Object(u.v)("setBackgroundFetchToken",{token:e.token,success:function(t){var n=t.errMsg,r=void 0===n?"ok":n;Object(u.e)("setBackgroundFetchToken",e,!0,r.replace("setBackgroundFetchToken:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(u.e)("setBackgroundFetchToken",e,!1,n.replace("setBackgroundFetchToken:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"setBackgroundFetchToken"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"setBackgroundFetchToken:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"setBackgroundFetchToken:complete ".concat(t.message)})}},getBackgroundFetchToken:function(e){try{Object(u.v)("getBackgroundFetchToken",{success:function(t){var n=t.errMsg,r=void 0===n?"ok":n;Object(u.e)("getBackgroundFetchToken",e,!0,r.replace("getBackgroundFetchToken:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(u.e)("getBackgroundFetchToken",e,!1,n.replace("getBackgroundFetchToken:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getBackgroundFetchToken"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getBackgroundFetchToken:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"getBackgroundFetchToken:complete ".concat(t.message)})}},getBackgroundFetchData:function(e){try{Object(u.v)("getBackgroundFetchData",{fetchType:e.fetchType,success:function(t){var n=t.errMsg,r=void 0===n?"ok":n;Object(u.e)("getBackgroundFetchData",e,!0,r.replace("getBackgroundFetchData:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(u.e)("getBackgroundFetchData",e,!1,n.replace("getBackgroundFetchData:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getBackgroundFetchData"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getBackgroundFetchData:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"getBackgroundFetchData:complete ".concat(t.message)})}},onBackgroundFetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{Object(u.B)("onBackgroundFetchData",(function(t){t.errMsg=t.errMsg||"onBackgroundFetchData:ok",0===t.errMsg.indexOf("onBackgroundFetchData:ok")?"function"==typeof e.success&&Reporter.surroundThirdByTryCatch(e.success,"at onBackgroundFetchData callback function")(t):"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at onBackgroundFetchData callback function")(t)}))}catch(t){t.errMsg=t.errMsg||"unknown error","function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at onBackgroundFetchData callback function")(t)}},getRealtimeLogManager:function(){return R||(R=new F),R},getEnvVersion:function(){return __qqConfig.envVersion}},q={},W={ShareInfoStorage:{lastShareTicket:null,get:function(e){return q[e]},set:function(e,t){var n=Object(u.u)();return q[n]={shareKey:e,shareName:t},n}},getShareInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.shareTicket?Object(u.v)("operateWXData",Object(u.c)({data:{api_name:"webapi_getshareinfo",data:{shareTicket:e.shareTicket}}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getShareInfo")},beforeSuccess:function(e){u.x&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{var t=JSON.parse(e.data.data);t.roomTopic&&(e.roomTopic=t.roomTopic)}catch(e){}e.iv=e.data.iv,e.encryptedData=e.data.encryptedData,delete e.data}}):Object(u.n)("getShareInfo",e,"invalid shareTicket")},showShareMenu:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!0===e.withShareTicket?Object(u.v)("showShareMenuWithShareTicket",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail:function(e){e.errMsg+=", with arg withShareTicket: true"}}):Object(u.v)("showShareMenu",e,{}),Reporter.reportApiCall({apiname:"showShareMenu"})},hideShareMenu:function(){Object(u.v)("hideShareMenu",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},updateShareMenu:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Promise.all([new Promise((function(t,n){"boolean"==typeof e.withShareTicket?Object(u.v)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:n},{beforeAll:function(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail:function(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})})),new Promise((function(t,n){if(e.isUpdatableMessage,"boolean"==typeof e.isUpdatableMessage){var r=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo.templateId,parameter_list:e.templateInfo.parameterList});Object(u.v)("updateShareMenuUpdatable",{updatable:e.isUpdatableMessage,templateId:r,success:t,fail:n})}else t({errMsg:"updateShareMenu:ok"})}))]).then((function(t){"function"==typeof e.success&&Reporter.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])}),(function(t){"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)}))},showUpdatableMessageSubscribeButton:function(){console.warn("qq.showUpdatableMessageSubscribeButton 此接口已废弃")},setMessageToFriendQuery:function(e){var t=e||{};if("number"==typeof t.shareMessageToFriendScene&&t.shareMessageToFriendScene>=0&&t.shareMessageToFriendScene<=50)Object(u.v)("setMessageToFriendQuery",t);else{var n={errMsg:"setMessageToFriendQuery fail: shareMessageToFriendScene should be between 0 and 50"};"function"==typeof t.fail&&t.fail(n),"function"==typeof t.complete&&t.complete(n)}},onShareMessageToFriend:function(e){Object(u.B)("onShareMessageToFriend",e)},onShareAppMessage:function(e){Object(u.B)("onShareAppMessage",e)},shareAppMessageDirectlyToFriendList:function(e,t){Object(u.v)("shareAppMessageDirectlyToFriendList",e,t)},shareAppPictureMessage:function(e,t){Object(u.v)("shareAppPictureMessage",e,t)},shareAppPictureMessageDirectly:function(e,t){Object(u.v)("shareAppPictureMessageDirectly",e,t)}},V=0,G=[];Object(u.E)("flutterSetDataCallBack",(function(e){var t=e.res,n=e.callbackId,r=G[n];delete G[n],r&&"function"==typeof r&&r(t)}));var H={invokeFlutterSetData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=V++;G[o]=r,Object(u.C)("flutterSetData",{name:e,args:t,callbackId:o},n)}},Y=function(e,t,n){t.extra&&(e.data+="&extra=".concat(t.extra)),t.sig&&(e.data+="&sig=".concat(t.sig)),1==t.test&&(e.data+="&test=1"),e.method="POST",e.header={"Content-Type":"application/x-www-form-urlencoded"},e.entryDataHash=t.entryDataHash,e.success=function(e){var r=e.data;if(0===r.retcode)r.data.event_id&&(r.data.eventId=r.data.event_id),"function"==typeof t.success&&t.success(r.data),"function"==typeof t.complete&&t.complete(r.data);else{var o=r.msg;"modifyGroupCalendar"===n&&10021===r.retcode&&(o="编辑事件时间不得晚于开始时间");var i={errCode:r.retcode,errMsg:"".concat(n,":fail ").concat(o)};"function"==typeof t.fail&&t.fail(i),"function"==typeof t.complete&&t.complete(i)}},e.fail=function(e){e||(e={errCode:1e4,errMsg:"".concat(n,":fail params error")}),e.errMsg&&(e.errMsg=e.errMsg.replace("wnsGroupRequest",n)),e.errCode||(e.errCode=1e4),"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},e.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/".concat(e.url.replace(/^https?:\/\//i,"")),P.wnsRequest(e,"wnsGroupRequest")},$=function(e){if(Object(u.h)("getGroupInfo",e,{entryDataHash:""}))try{Object(u.v)("getGroupInfo",{entryDataHash:e.entryDataHash,success:function(t){var n=t.errMsg||"ok";Object(u.e)("getGroupInfo",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("get group info fail:".concat(JSON.stringify(t))),Object(u.e)("getGroupInfo",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}),Reporter.reportApiCall({apiname:"getGroupInfo"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getGroupInfo:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"getGroupInfo:complete ".concat(t.message)})}},z={332:"headTeacher",333:"teacher",334:"patriarch",335:"student"},K={addGroupCalendar:function(e){var t,n,r=null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId;if(Object(u.h)("addGroupCalendar",e,{entryDataHash:"",startTime:1,endTime:0,remindTime:0,title:"",desc:""})){var o={url:"https://qun.qq.com/cgi-bin/calendar/publish/add?_wnscgi=1"};o.data="gc={groupId}&appid=".concat(r,"&name=").concat(e.title,"&desc=").concat(e.desc,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime,"&remind_time=").concat(e.remindTime),e.path&&(o.data+="&miniapp_url=".concat(e.path)),e.eventType&&(o.data+="&event_type=".concat(e.eventType)),Y(o,e,"addGroupCalendar")}},modifyGroupCalendar:function(e){var t,n,r=null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId;if(Object(u.h)("modifyGroupCalendar",e,{entryDataHash:"",startTime:1,endTime:0,remindTime:0,title:"",desc:"",eventId:""})){var o={url:"https://qun.qq.com/cgi-bin/calendar/publish/modify?_wnscgi=1"};o.data="gc={groupId}&appid=".concat(r,"&event_id=").concat(e.eventId,"&name=").concat(e.title,"&desc=").concat(e.desc,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime,"&remind_time=").concat(e.remindTime),e.path&&(o.data+="&miniapp_url=".concat(e.path)),Y(o,e,"modifyGroupCalendar")}},removeGroupCalendar:function(e){var t,n,r=null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId;if(Object(u.h)("removeGroupCalendar",e,{entryDataHash:"",eventId:""})){var o={url:"https://qun.qq.com/cgi-bin/calendar/publish/del?_wnscgi=1"};o.data="gc={groupId}&appid=".concat(r,"&event_id=").concat(e.eventId),Y(o,e,"removeGroupCalendar")}},getGroupCalendarDetail:function(e){var t,n,r="getGroupCalendarDetail",o=null===(t=__qqConfig)||void 0===t||null===(n=t.accountInfo)||void 0===n?void 0:n.appId;if(Object(u.h)(r,e,{entryDataHash:"",eventId:""})){var i={url:"https://qun.qq.com/cgi-bin/calendar/event/info?_wnscgi=1"};i.data="gc={groupId}&appid=".concat(o,"&event_id=").concat(e.eventId),Y(i,e,r)}},getGroupAppStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="getGroupAppStatus";Object(u.h)(t,e,{entryDataHash:""})&&(Object(u.v)(t,e),Reporter.reportApiCall({apiname:t}))},openGroupNotice:function(e){if(Object(u.h)("openGroupNotice",e,{entryDataHash:""}))try{$({entryDataHash:e.entryDataHash,success:function(t){t.isGroupManager?Object(u.v)("invokeGroupJSApi",{entryDataHash:e.entryDataHash,url:"https://web.qun.qq.com/mannounce/edit.html?&_wv=1031#gc={{gid}}&role=2",success:function(t){var n=t.errMsg||"ok";Object(u.e)("openGroupNotice",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(u.e)("openGroupNotice",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}):Object(u.e)("openGroupNotice",e,!1,"only group manager can open group notice",null,t),Reporter.reportApiCall({apiname:"openGroupNotice"})},fail:function(t){var n=t.errMsg||"unknown error";console.error("openGroupRemind getGroupInfo fail:".concat(JSON.stringify(t))),Object(u.e)("openGroupRemind",e,!1,n.replace("openGroupRemind:fail ","").replace("getGroupInfo:fail ",""),null,t)}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"openGroupNotice:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"openGroupNotice:complete ".concat(t.message)})}},openGroupRemind:function(e){if(Object(u.h)("openGroupRemind",e,{entryDataHash:""}))try{$({entryDataHash:e.entryDataHash,success:function(t){t.isGroupManager?(Object(u.v)("invokeGroupJSApi",{entryDataHash:e.entryDataHash,url:"https://qun.qq.com/qqweb/m/qun/calendar/create.html?_wv=1031&role=1&gc={{gid}}&role=1",success:function(t){var n=t.errMsg||"ok";Object(u.e)("openGroupRemind",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(u.e)("openGroupRemind",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}),Reporter.reportApiCall({apiname:"openGroupRemind"})):Object(u.e)("openGroupRemind",e,!1,"only group manager can open group remind",null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("openGroupRemind getGroupInfo fail:".concat(JSON.stringify(t))),Object(u.e)("openGroupRemind",e,!1,n.replace("openGroupRemind:fail ","").replace("getGroupInfo:fail ",""),null,t)}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"openGroupRemind:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"openGroupRemind:complete ".concat(t.message)})}},getGroupInfo:$,getGroupInfoExtra:function(e){if(Object(u.h)("getGroupInfoExtra",e,{entryDataHash:""}))try{Object(u.v)("getGroupInfoExtra",{entryDataHash:e.entryDataHash,success:function(t){var n=t,r=n.errMsg,o=void 0===r?"ok":r,i=n.isGroupManager,a=void 0!==i&&i,c=n.extInfo,s=void 0===c?{}:c;if("string"==typeof s)try{s=JSON.parse(s)}catch(e){throw console.error("json parse error",s,e),new Error("extInfo is invalid json string")}t={errMsg:o,isGroupManager:a,groupOpenId:s.group_openid||"",role:z[String(s.id)]||"",groupId:s.group_id||"",groupName:s.group_name||"",userNameCard:s.user_name_card||""},Object(u.e)("getGroupInfoExtra",e,!0,o,null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("get group info extra fail:".concat(JSON.stringify(t))),Object(u.e)("getGroupInfoExtra",e,!1,n.replace("getGroupInfoExtra:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getGroupInfoExtra"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getGroupInfoExtra:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"getGroupInfoExtra:complete ".concat(t.message)})}}},J={sample:{invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,updateQQApp:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,openBluetoothAdapter:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,onBluetoothAdapterStateChange:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,createBLEConnection:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,startDownloadAppTask:null,cancelDownloadAppTask:null,queryDownloadAppTask:null,queryAppInfo:null,installApp:null,startApp:null,shareInvite:null,saveAppToDesktop:null,showMiniAIOEntrance:null,hideMiniAIOEntrance:null,addGroupCalendar:null,getGroupAppStatus:null,modifyGroupCalendar:null,removeGroupCalendar:null,getGroupCalendarDetail:null,openActivity:null,getPerformance:null,request:null,wnsRequest:null,notifyNative:null,openScheme:null,setOfficialDress:null,setCustomDress:null,getUserInfoExtra:null,openQzonePublish:null,invokeNativePlugin:null,onNativePluginEvent:null,reportAnalytics:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getLocation:null,openLocation:null,chooseLocation:null,subscribeAppMsg:null,requestSubscribeSystemMessage:null,startLocationUpdate:null,stopLocationUpdate:null,onLocationChange:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getQua:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,openGroupNotice:null,openGroupRemind:null,getGroupInfo:null,getGroupInfoExtra:null,setBackgroundFetchToken:null,getBackgroundFetchToken:null,getBackgroundFetchData:null,onBackgroundFetchData:null,login:null,checkSession:null,authorize:null,getUserInfo:null,requestPayment:null,requestMidasGoodsPay:null,requestMidasMonthCardPay:null,requestWxPayment:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,getLaunchOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createExternalElementContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,hideHomeButton:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,onWindowResize:null,offWindowResize:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null,addRecentColorSign:null,isColorSignExistSync:null},ui:{invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,updateQQApp:30,setNavigationBarRightButton:30,onTapNavigationBarRightButton:30,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,onBluetoothAdapterStateChange:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,onBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,startDownloadAppTask:10,cancelDownloadAppTask:10,queryDownloadAppTask:10,queryAppInfo:10,installApp:10,startApp:10,shareInvite:10,saveAppToDesktop:10,showMiniAIOEntrance:10,hideMiniAIOEntrance:10,addGroupCalendar:10,getGroupAppStatus:10,modifyGroupCalendar:10,removeGroupCalendar:10,getGroupCalendarDetail:10,openActivity:10,getPerformance:10,request:10,wnsRequest:10,notifyNative:10,openScheme:10,setOfficialDress:10,setCustomDress:10,getUserInfoExtra:10,openQzonePublish:10,invokeNativePlugin:10,onNativePluginEvent:10,reportAnalytics:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getLocation:20,openLocation:20,chooseLocation:20,startLocationUpdate:20,stopLocationUpdate:20,onLocationChange:20,subscribeAppMsg:20,requestSubscribeSystemMessage:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,getLaunchOptionsSync:30,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createExternalElementContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,hideHomeButton:20,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:20,offWindowResize:20,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getQua:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,openGroupNotice:10,openGroupRemind:10,getGroupInfo:10,getGroupInfoExtra:10,setBackgroundFetchToken:10,getBackgroundFetchToken:10,getBackgroundFetchData:10,onBackgroundFetchData:10,login:10,checkSession:10,authorize:20,getUserInfo:20,requestPayment:20,requestWxPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPaymentToBank:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0,addRecentColorSign:20,isColorSignExistSync:20},log:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,updateQQApp:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,onBluetoothAdapterStateChange:3,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,createBLEConnection:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,startDownloadAppTask:1,cancelDownloadAppTask:1,queryDownloadAppTask:1,queryAppInfo:1,installApp:1,startApp:1,shareInvite:1,saveAppToDesktop:1,showMiniAIOEntrance:1,hideMiniAIOEntrance:1,addGroupCalendar:1,getGroupAppStatus:1,modifyGroupCalendar:1,removeGroupCalendar:1,getGroupCalendarDetail:1,openActivity:1,getPerformance:1,request:1,wnsRequest:1,notifyNative:1,openScheme:1,setOfficialDress:1,setCustomDress:1,getUserInfoExtra:1,openQzonePublish:1,invokeNativePlugin:1,onNativePluginEvent:1,reportAnalytics:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getLocation:1,openLocation:1,chooseLocation:1,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,subscribeAppMsg:1,requestSubscribeSystemMessage:1,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getQua:1,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,openGroupNotice:1,openGroupRemind:1,getGroupInfo:1,getGroupInfoExtra:1,setBackgroundFetchToken:1,getBackgroundFetchToken:1,getBackgroundFetchData:1,onBackgroundFetchData:1,login:1,checkSession:1,authorize:1,getUserInfo:1,requestMidasGoodsPay:1,requestMidasMonthCardPay:1,requestWxPayment:1,requestPayment:1,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createExternalElementContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,hideHomeButton:1,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:3,offWindowResize:3,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:0,onAppHide:3,offAppHide:0,onError:3,offError:0,getLaunchOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionListening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1,addRecentColorSign:1,isColorSignExistSync:1},tap:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,exitMiniProgram:0,updateQQApp:0,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,onBluetoothAdapterStateChange:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,startDownloadAppTask:20,cancelDownloadAppTask:20,queryDownloadAppTask:20,queryAppInfo:20,installApp:20,startApp:20,shareInvite:20,saveAppToDesktop:20,showMiniAIOEntrance:20,hideMiniAIOEntrance:20,addGroupCalendar:20,getGroupAppStatus:20,modifyGroupCalendar:20,removeGroupCalendar:20,getGroupCalendarDetail:20,openActivity:20,request:20,wnsRequest:20,notifyNative:20,openScheme:20,setOfficialDress:20,setCustomDress:20,getUserInfoExtra:20,openQzonePublish:20,invokeNativePlugin:20,onNativePluginEvent:20,reportAnalytics:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:0,addNativeDownloadTask:0,chooseImage:0,previewImage:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getLocation:0,openLocation:0,chooseLocation:0,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,subscribeAppMsg:0,requestSubscribeSystemMessage:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getQua:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestMidasGoodsPay:30,requestMidasMonthCardPay:30,requestWxPayment:30,requestPayment:30,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:0,openCard:0,scanCode:0,openQRCode:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,getLaunchOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createExternalElementContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,hideHomeButton:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:0,offWindowResize:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,openGroupNotice:0,openGroupRemind:0,getGroupInfo:0,getGroupInfoExtra:0,setBackgroundFetchToken:0,getBackgroundFetchToken:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0,addRecentColorSign:0,isColorSignExistSync:0}},X={queryBookshelf:function(e){if(Object(u.h)("queryBookshelf",e,{contentIds:[]}))if(e.contentIds.some((function(e){return"string"!=typeof e})))Object(u.n)("queryBookshelf",e,"contentIds should be type of Array<string>");else if(e.contentIds.length<=0)Object(u.n)("queryBookshelf",e,"contentIds.length must greater than 0");else{if(e.contentIds.length>100&&(e.contentIds=e.contentIds.slice(0,100)),u.y)return console.warn("开发者工具暂不支持 queryBookshelf 接口，请到客户端调试。"),void Object(u.n)("queryBookshelf",e,"not support in devtools");Object(u.v)("queryBookshelf",e)}},updateBookshelfReadTime:function(e){if(Object(u.h)("updateBookshelfReadTime",e,{category:"",contentId:""}))return u.y?(console.warn("开发者工具暂不支持 updateBookshelfReadTime 接口，请到客户端调试。"),void Object(u.n)("updateBookshelfReadTime",e,"not support in devtools")):void Object(u.v)("updateBookshelfReadTime",e)},navigateToBookshelf:function(e){if(u.y)return console.warn("开发者工具暂不支持 navigateToBookshelf 接口，请到客户端调试。"),void Object(u.n)("navigateToBookshelf",e,"not support in devtools");Object(u.v)("navigateToBookshelf",e)}};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=null,ne=void 0!==__libVersionInfo__&&__libVersionInfo__.version?__libVersionInfo__.version:"9.9.9",re=void 0!==__libVersionInfo__&&__libVersionInfo__.build?__libVersionInfo__.build:"99999",oe=function(){__qqConfig.isReady||console.warn("__qqConfig is not ready");var e=__qqConfig.platform,t={};return Object(u.v)("getSystemInfoSync",{success:function(e){delete e.errMsg,te=Z({},t=e)}},{beforeSuccess:function(t){if(u.z&&(t.brand="iPhone"),u.z&&t.version.indexOf("_")>-1){var n=t.version.match(/\d+\.\d+\.\d+/);(null==n?void 0:n[0])&&(t.version=n[0])}u.y&&"devtools"!==t.brand&&(e="iPhone"===t.brand?"ios":"android"),t.platform=e,t.SDKVersion=ne,t.SDKBuild=re,__qqConfig.devicePixelRatio&&(t.devicePixelRatio=__qqConfig.devicePixelRatio),delete(te=Z({},t)).errMsg,4!==__qqConfig.appType&&delete t.benchmarkLevel}}),t},ie=[],ae="",ce=function(e){Object(u.v)("getNetworkType",e)},se=function(){return ae};Object(u.B)("onNetworkStatusChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ae=e.networkType,ie.forEach((function(t){"function"==typeof t&&t(e)}))})),__qqConfig.onReady((function(){ce({success:function(e){ae=e.networkType}})}));var ue=0,le=[],fe=function(){Object(u.v)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxaservicequality",dataArray:le,appType:Reporter.getAppType()},null,2)}),le=[]},de={getSystemInfo:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready");var t=__qqConfig.platform;Object(u.v)("getSystemInfo",e,{beforeSuccess:function(e){if(u.z&&(e.brand="iPhone"),u.z&&e.version.indexOf("_")>-1){var n=e.version.match(/\d+\.\d+\.\d+/);(null==n?void 0:n[0])&&(e.version=n[0])}u.y&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=ne,e.SDKBuild=re,__qqConfig.devicePixelRatio&&(e.devicePixelRatio=__qqConfig.devicePixelRatio),delete(te=Z({},e)).errMsg,4!==__qqConfig.appType&&delete e.benchmarkLevel}})},getSystemInfoSync:oe,getQua:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready"),__qqConfig.platform,Object(u.v)("getQua",e)},getStaticSystemInfoSync:function(){return te||oe()},SDKVersion:ne,SDKBuild:re,getNetworkType:ce,onNetworkStatusChange:function(e){ie.push(Reporter.surroundThirdByTryCatch(e,"onNetworkStatusChange"))},_getCurrentNetworkType:se,batchReportRealtimeAction:function(e,t,n,r,o,i,a){var c=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,s=[e,t,n,r,o,Reporter.getAppType(),i,c].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:s}),Reporter.reportIDKey({key:"".concat(e,"_").concat(1===n?"ok":"fail")}),le.push([e,t,n,i||"",r,o,se(),a?"1":"0",Reporter.getAppType(),c].map((function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t})).join(",")),6e4<=Date.now()-ue&&(ue=Date.now()),setTimeout(fe,6e4)}};function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=0,ye="#000000";__qqConfig.onReady((function(){Object(d.f)((function(){"undefined"!=typeof __qqConfig&&__qqConfig.global&&__qqConfig.global.window&&(ye=__qqConfig.global.window.navigationBarBackgroundColor||ye);var e="".concat(p.b.lastRoute,".html");"undefined"!=typeof __qqConfig&&__qqConfig.page&&__qqConfig.page[e]&&__qqConfig.page[e].window&&(ye=__qqConfig.page[e].window.navigationBarBackgroundColor||ye)}))}));var _e=1,be=!1,me=!1,we={setTopBarText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.text?Date.now()-ge<5e3?Object(u.n)("setTopBarText",e,"invoke too frequently"):Object(u.v)("setTopBarText",e,{beforeSuccess:function(){ge=Date.now()}}):Object(u.n)("setTopBarText",e,"invalid text")},setNavigationBarTitle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setNavigationBarTitle",e,{title:""})&&Object(u.v)("setNavigationBarTitle",e)},showNavigationBarLoading:function(e){Object(u.v)("showNavigationBarLoading",e)},hideNavigationBarLoading:function(e){Object(u.v)("hideNavigationBarLoading",e)},setNavigationBarAlpha:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=he({},e);t.backgroundColor=ye,Object(u.v)("setNavigationBarColor",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},setNavigationBarColor:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?Object(u.v)("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&Object(u.v)("setStatusBarStyle",{color:"black"});var t=he({},e);ye=e.backgroundColor,Object(u.v)("setNavigationBarColor",t)}else Object(u.n)("setNavigationBarColor",e,'invalid frontColor "'.concat(e.frontColor,'"'))},setNavigationBarRightButton:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setNavigationBarRightButton",e,{hide:!0})&&Object(u.v)("setNavigationBarRightButton",e,{})},onTapNavigationBarRightButton:function(e){Object(u.B)("onTapNavigationBarRightButton",Reporter.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))},showToast:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={duration:1500,title:"",icon:"success",mask:!1};t=Object(u.m)(t,e),e.image&&(t.image=Object(u.s)(p.b.lastRoute,e.image,!1)),["success","loading","none"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),Object(u.h)("showToast",t,{duration:1,title:"",icon:""})&&(be=_e++,setTimeout((function(){be=!1}),t.duration),Object(u.v)("showToast",t))},hideToast:function(e){if(u.y&&me&&(!be||be<me))return be=!1,e&&"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideToast:ok"})})),e&&"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideToast:ok"})})),void console.warn("请注意 showToast 与 hideToast 必须配对使用");be=!1,Object(u.v)("hideToast",e)},showLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={title:"",icon:"loading",mask:!1,duration:1e8};(t=Object(u.m)(t,e)).icon="loading",delete t.image;var n=Object(u.h)("showLoading",t,{duration:1,title:""});n&&(me=_e++,Object(u.v)("showToast",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}}))},hideLoading:function(e){if(u.y&&be&&(!me||me<be))return me=!1,e&&"function"==typeof e.success&&setTimeout((function(){e.success({errMsg:"hideLoading:ok"})})),e&&"function"==typeof e.complete&&setTimeout((function(){e.complete({errMsg:"hideLoading:ok"})})),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");me=!1,Object(u.v)("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},showModal:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000"};t=Object(u.m)(t,e);var n=Object(u.h)("showModal",t,{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:""});n&&(t.confirmText.replace(/[^\x00-\xff]/g,"##").length>8?Object(u.n)("showModal",e,"confirmText length should not larger than 4 Chinese characters"):t.cancelText.replace(/[^\x00-\xff]/g,"##").length>8?Object(u.n)("showModal",e,"cancelText length should not larger than 4 Chinese characters"):Object(u.v)("showModal",t,{beforeSuccess:function(e){e.confirm=Boolean(e.confirm),u.z?e.cancel=!e.confirm:e.cancel=!e.confirm&&Boolean(e.cancel)}}))},showActionSheet:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={itemList:[],itemColor:"#000000",actionSheetType:0};delete(t=Object(u.m)(t,e)).cancelText,delete t.cancelColor,Object(u.h)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(6<e.itemList.length?Object(u.n)("showActionSheet",e,"parameter error: itemList should not be large than 6"):Object(u.v)("showActionSheet",t))},hideHomeButton:function(e){Object(u.v)("hideHomeButton",e,{})},setTabBarBadge:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("setTabBarBadge",e,{index:0,text:""})){var t=he({},e);t.badgeValue=t.text,t.type="text";var n=function(e){return null===e?0:("string"!=typeof e&&(e+=""),e.replace(/[^\x00-\xff]/g,"01").length)};n(t.badgeValue)>4&&(t.badgeValue="..."),Object(u.v)("setTabBarBadge",t)}},removeTabBarBadge:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("setTabBarBadge",e,{index:0})){var t=he({},e);t.type="none",Object(u.v)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},showTabBarRedDot:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("setTabBarBadge",e,{index:0})){var t=he({},e);t.type="redDot",Object(u.v)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},hideTabBarRedDot:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("setTabBarBadge",e,{index:0})){var t=he({},e);t.type="none",Object(u.v)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},showTabBar:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};void 0===e.animation&&(e.animation=!1),Object(u.h)("showTabBar",e,{animation:!0})&&Object(u.v)("showTabBar",e)},hideTabBar:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};void 0===e.animation&&(e.animation=!1),Object(u.h)("hideTabBar",e,{animation:!0})&&Object(u.v)("hideTabBar",e)},setTabBarStyle:function(){Object(u.v)("setTabBarStyle",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setTabBarItem:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setTabBarItem",e,{index:0})&&Object(u.v)("setTabBarItem",e)}},Se={joinVoIPChat:function(e){if(Object(u.h)("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""}))try{if(e.timeStamp<0)throw console.error("joinVoIPChat:fail parameter error: parameter.timeStamp should be a positive integer"),new Error("parameter error: timeStamp should be a positive integer");Object(u.v)("joinVoIPChat",{signature:e.signature,nonceStr:e.nonceStr,timeStamp:e.timeStamp,groupId:e.groupId,muteConfig:e.muteConfig,success:function(t){var n=t.errMsg||"ok";Object(u.e)("joinVoIPChat",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,r=t.errMsg||"unknown error";Object(u.e)("joinVoIPChat",e,!1,r,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"joinVoIPChat:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"joinVoIPChat:complete ".concat(t.message)})}},exitVoIPChat:function(e){try{Object(u.v)("exitVoIPChat",{success:function(t){var n=t.errMsg||"ok";Object(u.e)("exitVoIPChat",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,r=t.errMsg||"unknown error";Object(u.e)("exitVoIPChat",e,!1,r,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"exitVoIPChat:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"exitVoIPChat:complete ".concat(t.message)})}},updateVoIPChatMuteConfig:function(e){if(Object(u.h)("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=e.muteConfig.muteMicrophone,n=e.muteConfig.muteEarphone;if(void 0!==t){if(!Object(u.h)("updateVoIPChatMuteConfig muteConfig",t,Boolean()))return}else e.muteConfig.muteMicrophone=!1;if(void 0!==n){if(!Object(u.h)("updateVoIPChatMuteConfig muteConfig",n,Boolean()))return}else e.muteConfig.muteEarphone=!1;try{Object(u.v)("updateVoIPChatMuteConfig",{muteConfig:e.muteConfig,success:function(t){var n=t.errMsg||"ok";Object(u.e)("updateVoIPChatMuteConfig",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,r=t.errMsg||"unknown error";Object(u.e)("updateVoIPChatMuteConfig",e,!1,r,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"updateVoIPChatMuteConfig:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"updateVoIPChatMuteConfig:complete ".concat(t.message)})}}},onVoIPChatMembersChanged:function(e){try{Object(u.B)("onVoIPChatMembersChanged",(function(t){t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatMembersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatMembersChanged callback function")(t)}},onVoIPChatSpeakersChanged:function(e){try{Object(u.B)("onVoIPChatSpeakersChanged",(function(t){t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},onVoIPChatInterrupted:function(e){try{Object(u.B)("onVoIPChatInterrupted",(function(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatInterrupted callback function")(t)}))}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatInterrupted callback function")(t)}}};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ee=function(){var e={level:100,isCharging:!0};if(Object(u.v)("getBatteryInfo",{complete:function(t){return e=t}}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},Te=!1,ke=[];Object(u.B)("onAccelerometerChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ke.forEach((function(t){"function"==typeof t&&t(e)}))}));var Ae=!1,xe=[];Object(u.B)("onCompassChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};xe.forEach((function(t){"function"==typeof t&&t(e)}))}));var Pe=function(e){if(""!==p.b.currentClipBoardData){var t;void 0!==a&&(t=a.getCurrentPagesByDomain("").find((function(e){return e.__wxWebviewId__===p.b.currentWebviewId}))||{});var n=[p.b.currentClipBoardData,t?t.route:"",e?1:0,t?Object.keys(t.options||{}).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t.options[e]))})).join("&"):"",Reporter.getAppType()].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Clipboard",value:n,force:!0})}},je=new f.b;Object(u.B)("onDeviceMotionChange",(function(e){je.emit("motion-change",e)}));var Ne=new f.b;Object(u.B)("onGyroscopeChange",(function(e){Ne.emit("gyroscope-change",e)}));var De={vibrateShort:function(){Object(u.v)("vibrateShort",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},vibrateLong:function(){Object(u.v)("vibrateLong",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},captureScreen:function(){Object(u.v)("captureScreen",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},onUserCaptureScreen:function(e){Object(u.B)("onUserCaptureScreen",Reporter.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function"))},getScreenBrightness:function(){Object(u.v)("getScreenBrightness",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},setScreenBrightness:function(){Object(u.v)("setScreenBrightness",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},setKeepScreenOn:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setKeepScreenOn",e,{keepScreenOn:!0})&&Object(u.v)("setKeepScreenOn",e,{})},getBatteryInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u.z)return Object(u.v)("getBatteryInfo",e);setTimeout((function(){var t={};try{t=Ee(),"function"==typeof e.success&&e.success(t)}catch(t){"function"==typeof e.fail&&e.fail(t)}"function"==typeof e.complete&&e.complete(t)}),0)},getBatteryInfoSync:Ee,startAccelerometer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(u.v)("enableAccelerometer",Object(u.c)(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),Te=!0},stopAccelerometer:function(){Object(u.v)("enableAccelerometer",Object(u.c)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),Te=!1},onAccelerometerChange:function(e){Te||(Object(u.v)("enableAccelerometer",{enable:!0}),Te=!0),ke.push(Reporter.surroundThirdByTryCatch(e,"at onAccelerometerChange callback function"))},startCompass:function(){Object(u.v)("enableCompass",Object(u.c)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),Ae=!0},stopCompass:function(){Object(u.v)("enableCompass",Object(u.c)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),Ae=!1},onCompassChange:function(e){Ae||(Object(u.v)("enableCompass",{enable:!0}),Ae=!0),xe.push(Reporter.surroundThirdByTryCatch(e,"at onCompassChange callback function"))},getClipboardData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("getClipboardData",Ce(Ce({},e),{},{success:function(t){var n=t.data;p.b.currentClipBoardData=n,Object(u.e)("getClipboardData",e,!0,"",null,{data:n})},complete:function(){}}),{})},setClipboardData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setClipboardData",e,{data:""})&&Object(u.v)("setClipboardData",e,{beforeSuccess:function(){Object(u.v)("showToast",{duration:1500,title:"内容已复制",icon:"none",mask:!1});try{p.b.currentClipBoardData=e.data,Pe(!0)}catch(e){}}})},reportClipBoardData:Pe,startDeviceMotionListening:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(u.v)("enableDeviceMotionChangeListening",Object(u.c)(e,{interval:t[e.interval]||t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},stopDeviceMotionListening:function(){Object(u.v)("enableDeviceMotionChangeListening",Object(u.c)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},onDeviceMotionChange:function(e){je.on("motion-change",e)},startGyroscope:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(u.v)("enableGyroscope",Object(u.c)(e,{interval:t[e.interval]||t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},stopGyroscope:function(){Object(u.v)("enableGyroscope",Object(u.c)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},onGyroscopeChange:function(e){Ne.on("gyroscope-change",e)},scanCode:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("scanCode",e,{})&&Object(u.v)("scanCode",e,{beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},openQRCode:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("openQRCode",e,{})&&Object(u.v)("openQRCode",e)},makePhoneCall:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("makePhoneCall",e,{phoneNumber:""})&&Object(u.v)("makePhoneCall",e)},makeVoIPCall:function(){Object(u.v)("makeVoIPCall",Object(u.c)({allowBackCamera:!1,showOther:!1},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))},chooseContact:function(e){Object(u.v)("chooseContact",e)},chooseWeChatContact:function(){Object(u.v)("chooseWeChatContact",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},addPhoneContact:function(){Object(u.v)("addPhoneContact",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}};function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Me=10;__qqConfig.onReady((function(){try{"number"==typeof __qqConfig.wxAppInfo.maxDownloadConcurrent&&(Me=__qqConfig.wxAppInfo.maxDownloadConcurrent)}catch(e){}}));var Be=0,Le=new WeakMap,Fe=new WeakMap,Ue=new WeakMap,qe=new WeakMap,We=new WeakMap,Ve=0,Ge=[],He={},Ye=new l.a;Object(u.B)("onDownloadTaskStateChange",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.downloadTaskId;delete e.state,delete e.downloadTaskId,Ye.emit("".concat(n).concat(t),e),"success"!==t&&"fail"!==t||(Ve-=1,Ge.length>0&&$e.call(Ge.shift().item),delete He[n],Ye.removeAllListeners("".concat(n,"success")),Ye.removeAllListeners("".concat(n,"fail")),Ye.removeAllListeners("".concat(n,"progressUpdate")))}));var $e=function(){var e=this,t=qe.get(this);Ue.set(this,"sending"),We.set(this,Date.now());var n=void 0;Object(u.v)("createDownloadTask",{url:t.url,header:t.header,filePath:t.filePath,__skipDomainCheck__:t.__skipDomainCheck__,success:function(t){Fe.set(e,t.downloadTaskId),Ve+=1,He[t.downloadTaskId]=e},fail:function(e){n=e.errMsg},complete:function(e){Ue.set(this,"done")}}),n?setTimeout((function(){var e={errMsg:n.replace("createDownloadTask","downloadFile")};"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}),0):(Ye.on("".concat(Fe.get(this),"success"),(function(e){e.errMsg="downloadFile:ok",e.statusCode=parseInt(e.statusCode,10),-1===[200,304].indexOf(e.statusCode)&&delete e.tempPath,delete e.timeInterval,"function"==typeof t.success&&t.success(e),"function"==typeof t.complete&&t.complete(e)})),Ye.on("".concat(Fe.get(this),"fail"),(function(e){e.errMsg="downloadFile:fail ".concat(e.errMsg),"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)})))},ze=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Be++;Le.set(this,n),Ue.set(this,"waiting"),["success","fail","complete"].forEach((function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api downloadFile ".concat(e," callback function")))})),qe.set(this,t),Ve>=Me?Ge.push({id:n,item:this}):$e.call(this)}var t,n;return t=e,(n=[{key:"abort",value:function(){Object(u.v)("operateDownloadTask",{downloadTaskId:Fe.get(this),operationType:"abort"})}},{key:"onProgressUpdate",value:function(e){Ye.on("".concat(Fe.get(this),"progressUpdate"),(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at DownloadTask.onProgressUpdate callback function")(t)}))}},{key:"offProgressUpdate",value:function(e){"function"==typeof e?Ye.off("".concat(Fe.get(this),"progressUpdate"),e):Ye.removeAllListeners("".concat(Fe.get(this),"progressUpdate"))}},{key:"onHeadersReceived",value:function(e){Ye.on("".concat(Fe.get(this),"headersReceived"),(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at DownloadTask.onHeadersReceived callback function")(t)}))}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?Ye.off("".concat(Fe.get(this),"headersReceived"),e):Ye.removeAllListeners("".concat(Fe.get(this),"headersReceived"))}}])&&Re(t.prototype,n),e}(),Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=_extends({__skipDomainCheck__:!1},e),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{var n=new ze(t);return n}catch(e){Object(u.n)("downloadFile",t,e.message)}}}},Je={downloadFile:Ke(),downloadFileSkipCheckDomain:Ke({__skipDomainCheck__:!0})};function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var et=function(e,t){Object(u.h)("getImageInfo",e,{src:""})&&(/^(http|https):\/\//.test(e.src)?t({url:e.src,success:function(t){e.src=t.tempFilePath,Object(u.v)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(t){Object(u.n)("getImageInfo",e,(t.errMsg||"").replace("downloadFile:fail ","")||"download image fail")}}):(/^wxfile:\/\//.test(e.src)||(e.src=Object(u.s)(p.b.lastRoute,e.src,!1)),Object(u.v)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))},tt={chooseImage:function(){Object(u.v)("chooseImage",Object(u.c)({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeSuccess:function(e){e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter((function(e){return e})).map((function(t,n){return{path:t,size:e.tempFileSizes[n]}})):e.tempFiles=(e.tempFiles||[]).filter((function(e){return e.path&&"number"==typeof e.size})),delete e.tempFileSizes}})},previewImage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("previewImage",e,{urls:[""]})){var t=Qe({},e);Object(u.q)(t.urls,"image",(function(e){var n=t.urls;if(t.urls=e,t.current){var r=n.indexOf(t.current);0<=r&&(t.current=t.urls[r])}t.urls&&(t.urls=t.urls.map((function(e){return u.o.get(e)||e}))),Object(u.v)("previewImage",t)}))}},getImageInfoWithDownloadFile:et,getImageInfo:function(e){var t=Qe({},e),n=[t.src];Object(u.q)(n,"image",(function(e){return t.src=e[0],et(t,Je.downloadFile)}))},saveImageToPhotosAlbum:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.filePath=u.o.get(e.filePath)||e.filePath,Object(u.v)("saveImageToPhotosAlbum",e,{})},compressImage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={src:"",quality:80};Object(u.h)("compressImage",t=Object(u.m)(t,e),{src:"",quality:80})&&(/^(wxfile|qqfile):\/\//.test(t.src)||(t.src=Object(u.s)(p.b.lastRoute,t.src,!1)),Object(u.v)("compressImage",t))}},nt={chooseVideo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),Object(u.v)("chooseVideo",e)},saveVideoToPhotosAlbum:function(){Object(u.v)("saveVideoToPhotosAlbum",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}},rt=0,ot=[{}];Object(u.E)("loadedFontFace",(function(e){if(e.cbID){var t=ot[e.cbID];t&&("loaded"==e.status?"function"==typeof t[0]&&t[0](e):"function"==typeof t[1]&&t[1](e),"function"==typeof t[2]&&t[2](e))}}));var it={loadFontFace:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("loadFontFace",e,{family:"",source:""})&&(e.cbID=++rt,ot.push([e.success,e.fail,e.complete]),Object(u.C)("loadFontFace",e))}},at={playVoice:function(e){Object(u.h)("playVoice",e,{filePath:""})&&Object(u.v)("playVoice",e)},pauseVoice:function(e){Object(u.v)("pauseVoice",e)},stopVoice:function(e){Object(u.v)("stopVoice",e)},onVoicePlayEnd:function(e){Object(u.B)("onVoicePlayEnd",Reporter.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))}},ct=c(7);function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ft=null,dt=!1;Object(d.f)((function(){dt=!0})),Object(d.g)((function(){dt=!1,ft&&(ht(ft),ft=null)}));var pt,ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.type||(e.type="all"),void 0===e.count&&(e.count=100),Object(u.h)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?Object(u.n)("chooseMessageFile",e,"param count should be larger than 0."):(100<e.count&&(e.count=100),dt?ft=e:Object(u.v)("chooseMessageFile",e)))},vt={TencentDocs:{appId:"1108338344",path:"pages/list/list?url={url}",url:"https://docs.qq.com/scenario/export-file.html?count={count}&callbackId={callbackId}&fileType={type}"},Weiyun:{appId:"1107999468"}},gt={},yt=function(e,t){var n=e.path;return new Promise((function(e){if(!n||"string"!=typeof n)return e({errMsg:"downloadFile:fail path is empty",index:t});Je.downloadFileSkipCheckDomain({url:n,success:function(n){e(ut(ut({},n),{},{index:t}))},fail:function(n){e(ut(ut({},n),{},{index:t}))}})}))},_t=function(){for(var e="abcdefghijklmnopqrstuvwxyz",t=e.length,n="",r=0;r<4;r++)n+=e[Math.floor(Math.random()*t)];return n+Date.now()},bt={chooseMessageFile:ht,chooseExternalFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0!==e.from)if(void 0!==vt[e.from])if(void 0===e.count&&(e.count=100),e.count<=0)Object(u.n)("chooseExternalFile",e,"param.count should be larger than 0.");else{100<e.count&&(e.count=100),void 0===e.type&&(e.type="all");var t={openType:"chooseFile",count:e.count,type:e.type,callbackId:_t()},n=vt[e.from],r=n.path,o=n.url;r&&o&&(r=Object(ct.template)(r,{url:Object(ct.template)(o,t,{encodeUrl:!0})},{encodeUrl:!0})),Reporter.reportApiCall({apiname:"chooseExternalFile",param:e.from}),u.y?Object(u.v)("chooseExternalFile",e):Object(u.v)("navigateToMiniProgram",{appId:vt[e.from].appId,path:r?Object(u.H)(r):void 0,extraData:t,envVersion:e.envVersion||"release",success:function(){var t=Object(f.a)("AppShow");pt&&t.offMethod(pt),pt=function(n){var r,o,i,a,c,s;if(1038===(null==n?void 0:n.scene))if("success"===(null==n||null===(r=n.referrerInfo)||void 0===r||null===(o=r.extraData)||void 0===o?void 0:o.ret)){var l,f;if(n.referrerInfo.extraData.callbackId){if(gt[n.referrerInfo.extraData.callbackId])return void Object(u.n)("chooseExternalFile",e,"user cancel");gt[n.referrerInfo.extraData.callbackId]=!0}var d=(null==n||null===(l=n.referrerInfo)||void 0===l||null===(f=l.extraData)||void 0===f?void 0:f.files)||[];if(0===d.length)return void Object(u.F)("chooseExternalFile",e,{tempFiles:[]});var p=Object(u.G)(e.onStatusChange||u.A,"at api chooseExternalFile onStatusChange callback function"),h=d.map((function(e){return{name:e.name,size:e.size,type:e.type,status:"downloading"}}));p({files:h}),d.forEach((function(t,n){return yt(t,n).then((function(t){var n=h[t.index];return n.errMsg=t.errMsg,n.statusCode=t.statusCode,t.tempFilePath?(n.tempFilePath=t.tempFilePath,n.status="success"):n.status="error",h.filter((function(e){return"success"!==e.status&&"error"!==e.status})).length>0?p({files:h}):Object(u.F)("chooseExternalFile",e,{files:h}),t}))}))}else if("cancel"===(null==n||null===(i=n.referrerInfo)||void 0===i||null===(a=i.extraData)||void 0===a?void 0:a.ret))Object(u.n)("chooseExternalFile",e,"user cancel");else if("fail"===(null==n||null===(c=n.referrerInfo)||void 0===c||null===(s=c.extraData)||void 0===s?void 0:s.ret)){var v,g;Object(u.n)("chooseExternalFile",e,"".concat((null==n||null===(v=n.referrerInfo)||void 0===v||null===(g=v.extraData)||void 0===g?void 0:g.message)||"unknown error"))}else Object(u.n)("chooseExternalFile",e,"extraData is invalid");else Object(u.n)("chooseExternalFile",e,"user cancel");t.offMethod(pt),pt=null},t.onMethod(pt)},fail:function(t){Object(u.n)("chooseExternalFile",e,"navigateToMiniProgram fail")}})}else Object(u.n)("chooseExternalFile",e,"param.from is invaild");else Object(u.n)("chooseExternalFile",e,"param.from shoule be a string")}};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ot=new l.a,Ct={8e3:[16e3,48e3],11025:[16e3,48e3],12e3:[24e3,64e3],16e3:[24e3,96e3],22050:[32e3,128e3],24e3:[32e3,128e3],32e3:[48e3,192e3],44100:[64e3,32e4],48e3:[64e3,32e4]};Object(u.B)("onRecorderStateChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,Ot.emit("onRecorderStateChange_".concat(t),e)}));var It=function(e){Object(u.v)("operateRecorder",wt({},e))},Et={start:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=wt({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},e);if(-1===Object.keys(Ct).map((function(e){return parseInt(e,10)})).indexOf(t.sampleRate))throw new Error('invalid sampleRate "'.concat(t.sampleRate,'", sampleRate should be one of ').concat(JSON.stringify(Object.keys(Ct))));if(t.encodeBitRate>Ct[t.sampleRate][1]||t.encodeBitRate<Ct[t.sampleRate][0])throw new Error('invalid encodeBitRate "'.concat(t.encodeBitRate,'", encodeBitRate should be greater than ').concat(Ct[t.sampleRate][0]," and less than ").concat(Ct[t.sampleRate][1]));t.operationType="start",t.fail=function(e){Ot.emit("onRecorderStateChange_error",e)},It(t)},pause:function(){It({operationType:"pause",fail:function(e){Ot.emit("onRecorderStateChange_error",e)}})},resume:function(){It({operationType:"resume",success:function(){Ot.emit("onRecorderStateChange_resume")},fail:function(e){Ot.emit("onRecorderStateChange_error",e)}})},stop:function(){It({operationType:"stop",fail:function(e){Ot.emit("onRecorderStateChange_error",e)}})},onStart:function(e){Ot.removeAllListeners("onRecorderStateChange_start"),Ot.on("onRecorderStateChange_start",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onResume:function(e){Ot.removeAllListeners("onRecorderStateChange_resume"),Ot.on("onRecorderStateChange_resume",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()}))},onPause:function(e){Ot.removeAllListeners("onRecorderStateChange_pause"),Ot.on("onRecorderStateChange_pause",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()}))},onStop:function(e){Ot.removeAllListeners("onRecorderStateChange_stop"),Ot.on("onRecorderStateChange_stop",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)}))},onFrameRecorded:function(e){Ot.removeAllListeners("onRecorderStateChange_frameRecorded"),Ot.on("onRecorderStateChange_frameRecorded",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)}))},onError:function(e){Ot.removeAllListeners("onRecorderStateChange_error"),Ot.on("onRecorderStateChange_error",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)}))},onInterruptionBegin:function(e){Ot.removeAllListeners("onRecorderStateChange_interruptionBegin"),Ot.on("onRecorderStateChange_interruptionBegin",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)}))},onInterruptionEnd:function(e){Ot.removeAllListeners("onRecorderStateChange_interruptionEnd"),Ot.on("onRecorderStateChange_interruptionEnd",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)}))}},Tt={getRecorderManager:function(){return Et},startRecord:function(e){Object(u.v)("startRecord",e)},stopRecord:function(e){Object(u.v)("stopRecord",e)}};function kt(e){return(kt="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function At(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}function Pt(e){var t=Rt();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(e,t){return!t||"object"!==kt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nt(e){var t="function"==typeof Map?new Map:void 0;return(Nt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Dt(e,arguments,Bt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Mt(r,e)})(e)}function Dt(e,t,n){return(Dt=Rt()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Mt(o,n.prototype),o}).apply(null,arguments)}function Rt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt,Ft=function(e){xt(n,e);var t=Pt(n);function n(e){var r;return At(this,n),(r=t.call(this,"APP-SERVICE-SDK:".concat(e))).type="AppServiceSdkKnownError",r}return n}(Nt(Error)),Ut=function(e){xt(n,e);var t=Pt(n);function n(e){var r;return At(this,n),(r=t.call(this,e)).type="ThirdScriptError",r}return n}(Nt(Error)),qt=new l.a,Wt={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0};Object(u.B)("onBackgroundAudioNext",(function(){qt.emit("onBackgroundAudioNext")})),Object(u.B)("onBackgroundAudioPrev",(function(){qt.emit("onBackgroundAudioPrev")})),Object(u.B)("onBackgroundAudioStateChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state;"play"!==t&&"pause"!==t&&"stop"!==t||Object(u.C)("client_bg_audio_state_change",{play:"play"===t,audioId:"bg_audio"}),delete e.state,"play"===t?(Wt.paused=!1,p.b.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(p.b.possessingBackgroundAudioPlayer=!1,qt.emit("onBackgroundAudioStateChange_stop",e)):("pause"===t||"stop"===t)&&(Wt.paused=!0),qt.emit("onBackgroundAudioStateChange_".concat(t),e)}));var Vt={play:function(){Gt({operationType:"play"})},pause:function(){Gt({operationType:"pause"})},seek:function(e){if("number"!=typeof e)throw new Error("qq.backgroundAudio.seek(currentTime): unexpected type ".concat(Object(u.I)(e)));Gt({currentTime:e,operationType:"seek"})},stop:function(){Gt({operationType:"stop"})},onCanplay:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_canplay"),qt.on("onBackgroundAudioStateChange_canplay",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onCanplay callback function")()}))},onWaiting:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_waiting"),qt.on("onBackgroundAudioStateChange_waiting",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onWaiting callback function")()}))},onError:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_error"),qt.on("onBackgroundAudioStateChange_error",(function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onError callback function")(t)}))},onPlay:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_play"),qt.on("onBackgroundAudioStateChange_play",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPlay callback function")()}))},onPause:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_pause"),qt.on("onBackgroundAudioStateChange_pause",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPause callback function")()}))},onSeeking:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_seeking"),qt.on("onBackgroundAudioStateChange_seeking",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onSeeking callback function")()}))},onSeeked:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_seeked"),qt.on("onBackgroundAudioStateChange_seeked",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onSeeked callback function")()}))},onEnded:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_ended"),qt.on("onBackgroundAudioStateChange_ended",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onEnded callback function")()}))},onStop:function(e){qt.removeAllListeners("onBackgroundAudioStateChange_stop"),qt.on("onBackgroundAudioStateChange_stop",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onStop callback function")()}))},onTimeUpdate:function(e){var t=this;void 0===Lt&&(Lt=setInterval((function(){var e=Wt.currentTime;Ht("currentTime",(function(){"active"===p.b.runningStatus&&!1!==p.b.possessingBackgroundAudioPlayer&&t.currentTime!==e&&qt.emit("onBackgroundAudioStateChange_timeupdate")}))}),250)),qt.removeAllListeners("onBackgroundAudioStateChange_timeupdate"),qt.on("onBackgroundAudioStateChange_timeupdate",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onTimeUpdate callback function")()}))},onNext:function(e){qt.removeAllListeners("onBackgroundAudioNext"),qt.on("onBackgroundAudioNext",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onNext callback function")()}))},onPrev:function(e){qt.removeAllListeners("onBackgroundAudioPrev"),qt.on("onBackgroundAudioPrev",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPrev callback function")()}))}};function Gt(e){Object(u.v)("operateBackgroundAudio",e)}function Ht(e,t){if(!1!==p.b.possessingBackgroundAudioPlayer){var n=Wt[e];return Object(u.v)("getBackgroundAudioState",{success:function(r){void 0===r.paused&&(r.paused=!0),Wt=Object(u.c)(Wt,r),n=Wt[e],"function"==typeof t&&t(n)},fail:function(){},complete:function(){}}),n}}["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol"].forEach((function(e){Object.defineProperty(Vt,e,{get:function(){return"src"===e&&Vt.srcCloudId?Vt.srcCloudId:"coverImgUrl"===e&&Vt.coverCloudId?Vt.coverCloudId:Ht(e)},set:function(t){["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol"].indexOf(e)>-1&&("src"===e?Object(u.q)([t],"audio",(function(n){/^(cloud):\/\//.test(t)?Vt.srcCloudId=t:Vt.srcCloudId="",$t(e,n[0])})):"coverImgUrl"===e?Object(u.q)([t],"image",(function(n){/^(cloud):\/\//.test(t)?Vt.coverCloudId=t:Vt.coverCloudId="",$t(e,n[0])})):$t(e,t))}})}));var Yt={};function $t(e,t){if("src"===e&&!t)throw new Error("invalid qq.backgroundAudio.src: ".concat(t));if("active"!==p.b.runningStatus&&!1===p.b.possessingBackgroundAudioPlayer)throw new Ft("Can not set qq.backgroundAudio.".concat(e,", background audio is preempted."));Yt[e]=t,1===Object.keys(Yt).length&&setTimeout((function(){var e=Object(u.c)({},Yt);if(Yt.src)Yt=Object(u.c)({},Wt,Yt);else{var t={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0},n=!0;for(var r in Wt)if(Wt[r]!=t[r]){n=!1;break}if(Wt=Object(u.c)({},Wt,e),n)return void(Yt={})}Object(u.v)("setBackgroundAudioState",Object(u.c)({},Yt,{success:function(){Wt=Object(u.c)({},Wt,e)},fail:function(e){var t=e.errMsg;throw new Error(t.replace(/^setBackgroundAudioState: fail /,""))},complete:function(){}})),Yt={}}),0)}var zt=new l.a;Object(u.B)("onMusicPlay",(function(e){p.b.possessingBackgroundAudioPlayer=!0,zt.emit("onBackgroundAudioPlay"),e&&(Wt=Object(u.c)(Wt,e))}));var Kt={getBackgroundAudioManager:function(){return Vt},getBackgroundAudioPlayerState:function(e){if(!1===p.b.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else Object(u.v)("getMusicPlayerState",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},playBackgroundAudio:function(){Object(u.v)("operateMusicPlayer",Object(u.c)({operationType:"play"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},pauseBackgroundAudio:function(){Object(u.v)("operateMusicPlayer",Object(u.c)({operationType:"pause"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},seekBackgroundAudio:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("seekBackgroundAudio",e,{position:1})&&Object(u.v)("operateMusicPlayer",Object(u.c)({operationType:"seek"},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},stopBackgroundAudio:function(){Object(u.v)("operateMusicPlayer",Object(u.c)({operationType:"stop"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},onBackgroundAudioPlay:function(e){zt.removeAllListeners("onBackgroundAudioPlay"),zt.on("onBackgroundAudioPlay",(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.onBackgroundAudioPlay callback function")()}))},onBackgroundAudioPause:function(e){Object(u.B)("onMusicPause",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},onBackgroundAudioStop:function(e){Object(u.B)("onMusicEnd",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))}},Jt=function(e){var t,n=e.name,r=e.scene,o=e.strategy,i=e.timeDiffToLastTap,c=void 0===i?0:i;void 0!==a&&(t=a.getCurrentPagesByDomain("").find((function(e){return e.__wxWebviewId__===p.b.currentWebviewId}))||{});var s=[n,r,Reporter.getAppType(),t?t.route:"",o||0,c].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"APIRecycle",value:s,force:!0})},Xt=function(e,t){var n=[e,t].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:n})};function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("operateWXData",r,{apiName:""})){var o={api_name:r.apiName,data:r.reqData||{},operate_directly:e};n&&(o.plugin_appid=r.pluginId),Object(u.v)("operateWXData",Zt({data:o},r),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){(null==e?void 0:e.data)&&(u.x&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),e.respData=e.data,delete e.data)}})}}},nn=tn(!0),rn=tn(!1),on=tn(!1,void 0,!0),an=c(6);function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ln=!1,fn=0;Object(u.E)("tapAnyWhere",(function(e){fn=e.timeStamp,ln=!0})),Object(d.b)((function(){fn=0,ln=!1}));var dn=function(){fn=Date.now(),ln=!0},pn=[];__wxConfig.onReady((function(){Array.isArray(__wxConfig.navigateToMiniProgramAppIdList)&&(pn=__wxConfig.navigateToMiniProgramAppIdList)}));var hn=function(e){var t="_checkBeforeNavigateToMiniProgram";return new Promise((function(n,r){var o;(o=e,new Promise((function(e,t){rn({apiName:"webapi_getnavigatewxaappinfo",reqData:{target_appid:o.appId},success:function(t){var n=JSON.parse(t.respData.data),r=n.action_code,o=n.skip_local_check;e({actionCode:r,skipLocalCheck:o,reason:n.reason,wording:n.wording})},fail:function(e){t(e)}})}))).then((function(o){var i=o.actionCode,a=o.skipLocalCheck,c=o.reason,s=o.wording;1!==i&&2!==i?(Object(u.e)(t,e,!1,c,null,{},!1),r({errMsg:c})):function(e,t){return new Promise((function(n,r){!Object(u.f)("navigateToMiniProgramConfig")||u.y?t?n():-1<pn.indexOf(e)?n({sourcetype:4}):r({errMsg:'appId "'.concat(e,'" is not in navigateToMiniProgramAppIdList')}):n()}))}(e.appId,a).then((function(){var r,o,a,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(r=s,o=i,a=e.appId,1===o?Promise.resolve():new Promise((function(e,t){Object(u.v)("showModal",{title:"",content:r,confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000",success:function(n){n.confirm?(Xt(1,a),e()):(Xt(2,a),t({errMsg:"cancel"}))},fail:function(){Xt(3,a),t()}})}))).then((function(){Object(u.e)(t,e,!0,"",null,{sourcetype:c.sourcetype}),n(c)}))})).catch((function(n){var o=n.errMsg;Object(u.e)(t,e,!1,o,null,{},!1),r({errMsg:o})}))}),(function(){Object(u.e)(t,e,!0),n()}))}))},vn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("navigateToMiniProgram",e,{appId:""})&&hn({appId:e.appId}).then((function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};delete e.sourcetype,delete e.preScene,delete e.preSceneNote,7!==__wxConfig.appType&&(delete e.scene,delete e.sceneNote);var n=Object(an.c)();n?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=n):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&0<e.path.trim().length?Object(u.v)("navigateToMiniProgram",sn(sn(sn({},e),t),{},{path:Object(u.H)(e.path).trim()})):Object(u.v)("navigateToMiniProgram",sn(sn(sn({},e),t),{},{path:void 0}))}(e,{sourcetype:t.sourcetype})}),(function(t){var n=t.errMsg;Object(u.e)("navigateToMiniProgram",e,!1,n)}))},gn=function(){Object(u.v)("navigateBackMiniProgram",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},yn=function(e,t){var n;for(n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];;){var o=t.match(/^[-+a-zA-Z0-9]+:\/\//);if(!o)break;var i=o[0];if("plugin://"===i){var c=i.length,s=t.indexOf("/",c);if(0<=s){var l=t.slice(c,s),f=__qqConfig.plugins&&__qqConfig.plugins[l]?__qqConfig.plugins[l].provider:l;t=t.slice(0,c)+f+t.slice(s)}var d=t.indexOf("?");d<0&&(d=t.length);var p=t.slice(0,d),h=r.Component._list[p];if(!h)throw new Ft('Page "'.concat(p,'" is not found'));t=h.is+t.slice(d)}else{if("plugin-private://"!==i)throw new Ft('Unknown URL protocol "'.concat(i,'"'));var v=t.indexOf("?");v<0&&(v=t.length);var g=t.slice(0,v);t="/".concat(a.convertComponentAliasToRoute(g)).concat(t.slice(v))}}return Object(u.s)(e,t,n)},_n=function(e){if("string"!=typeof e)return e;var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e}),{}),o=[];for(var i in r)r.hasOwnProperty(i)&&o.push("".concat(i,"=").concat(encodeURIComponent(r[i])));return 0<o.length?"".concat(n,"?").concat(o.join("&")):e},bn=function(e,t,n){var r=t.replace(/\.html\?.*|\.html$/,"");return!!a.hasPageRoute(r)||(Object(u.n)(e,n,'page "'.concat(Object(u.p)(t),'" is not found')),!1)},mn=function(e){Object(u.h)("redirectTo",e,{url:""})&&(e.url=yn(p.b.lastRoute,e.url),e.url=_n(e.url),bn("redirectTo",e.url,e)&&(p.b.navigatorLock=!0,Object(u.v)("redirectTo",e,{afterFail:function(){p.b.navigatorLock=!1}})))},wn=function(e){if("active"===p.b.runningStatus){if(!Object(u.h)("reLaunch",e,{url:""}))return;if(e.url=yn(p.b.lastRoute,e.url),e.url=_n(e.url),!bn("reLaunch",e.url,e))return;p.b.navigatorLock=!0,Object(u.v)("reLaunch",e,{afterFail:function(){p.b.navigatorLock=!1}})}else Object(u.n)("reLaunch",e,"can not invoke reLaunch in background")},Sn=function(e){Object(u.h)("navigateTo",e,{url:""})&&(e.url=yn(p.b.lastRoute,e.url),e.url=_n(e.url),bn("navigateTo",e.url,e)&&(bn("navigateTo",e.url,e)&&(p.b.navigatorLock=!0),Object(u.v)("navigateTo",e,{afterFail:function(){p.b.navigatorLock=!1}})))},On=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("qq.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),e.url=yn(p.b.lastRoute,e.url),e.url=_n(e.url),bn("switchTab",e.url,e)&&(p.b.navigatorLock=!0,Object(u.v)("switchTab",e,{afterFail:function(){p.b.navigatorLock=!1}})))},Cn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta),e.delta<1&&(e.delta=1)),"function"==typeof a.getCurrentPagesByDomain&&a.getCurrentPagesByDomain("").length<=1||Object(u.v)("navigateBack",e)},In=new l.a;Object(u.B)("onPageReload",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,In.emit("onPageReload",e)}));var En=function(e,t){In.once("onBeforeUnloadPage_".concat(e),(function(e){"function"==typeof t&&t(e)}))},Tn={},kn={},An=function(e){var t=kn[e],n=Tn[e];(null==n?void 0:n.length)&&t&&t.bindmessage&&p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"message",target:t.target,currentTarget:t.target,timeStamp:Date.now()-t.createdTimestamp,detail:{data:n}},eventName:t.bindmessage,webviewId:e,nodeId:t.nodeId})},xn=function(e,t){var n=e.name,r=e.arg;u.x&&(t=p.b.currentWebviewId),"navigateBack"===n?Cn({delta:r.delta}):"navigateTo"===n?Sn({url:r.url}):"redirectTo"===n?mn({url:r.url}):"reLaunch"===n?wn({url:r.url}):"switchTab"===n?On({url:r.url}):"postMessage"===n?Tn[t]&&Tn[t].push(r):"navigateBackMiniProgram"===n&&gn({extraData:r.extraData,complete:function(e){console.log(e)}})};Object(u.E)("webViewInserted",(function(e,t){var n=t,r=An;kn[t]=e,Tn[t]=[],En(t,(function(e){An(e),delete kn[e],delete Tn[e]})),In.on("onBeforeShareAppMessage_".concat(n),(function(e){"function"==typeof r&&r(e)}))})),Object(u.E)("webViewRemoved",(function(e,t){An(t),delete kn[t],delete Tn[t]})),Object(u.B)("onWebInvokeAppService",xn),Object(u.B)("WEB_INVOKE_APPSERVICE",xn);var Pn={navigateToWithRelatedInfo:function(e){a.DisplayReporter.setEventRelatedInfo(e._relatedInfo),Sn(e)},navigateTo:Sn,redirectTo:mn,switchTab:On,navigateBack:Cn,reLaunch:wn,onPageReload:function(e){In.on("onPageReload",(function(t){t.path&&(t.path=Object(u.p)(t.path)),"function"==typeof e&&e(t)}))},_triggerBeforeUnloadPage:function(e){In.emit("onBeforeUnloadPage_".concat(e),e),In.removeAllListeners("onBeforeShareAppMessage_".concat(e))},_triggerBeforeShareAppMessage:function(e){In.emit("onBeforeShareAppMessage_".concat(e),e)},onBeforeUnloadPage:En};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){Dn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn,Mn,Bn={},Ln={},Fn=0;Object(d.f)((function(e){var t=e.webviewId;Fn=t,Ln[t]||(Ln[t]=!0,Object(d.i)(t,(function(e){delete Ln[e],delete Bn[e]})))})),Object(u.B)("onRewardedVideoStateChange",(function(e){var t=e.compId,n=e.state;"error"===n&&(n="_error"),void 0===t&&(t=Fn),Bn[t]&&(delete e.compId,delete e.state,Bn[t].emitter.emit(n,e)),"close"===n&&(Rn=Number(new Date),Mn=!1)})),Object(u.B)("onRewardedVideoShowDone",(function(e){var t=e.compId,n=e.state;void 0===t&&(t=Fn),Bn[t]&&Bn[t].emitter.emit("promise_".concat(n),e)}));var Un=function(e){var t=this;e=Nn({adUnitId:""},e),this.adUnitId=e.adUnitId,this.compId=Fn,this.emitter=new f.b,u.y&&console.warn("开发者工具上qq.createRewardedVideoAd接口为测试数据，请在真机上验证最终效果。"),Object(u.v)("createRewardedVideoAd",{adUnitId:this.adUnitId,compId:this.compId,fail:function(e){var n=e.errMsg,r=e.errCode,o=void 0===r?1003:r;n.indexOf("no permission")>-1&&(o=1007),setTimeout((function(){t.emitter.emit("_error",{errCode:o,errMsg:n})}))}})};Un.prototype.load=function(){var e=this;return new Promise((function(t,n){e.emitter.on("promise_load",(function r(o){"ok"===o.status?t():(delete o.compId,delete o.state,delete o.status,n(o)),e.emitter.off("promise_load",r)})),Object(u.v)("operateRewardedAd",{compId:e.compId,type:"load"})}))},Un.prototype.show=function(){var e=this;return Mn=!0,new Promise((function(t,n){e.emitter.on("promise_show",(function r(o){"ok"===o.status?t():n(),e.emitter.off("promise_show",r)})),Object(u.v)("operateRewardedAd",{compId:e.compId,type:"show"})}))},Un.prototype.onError=function(e){this.emitter.on("_error",e)},Un.prototype.offError=function(e){this.emitter.off("_error",e)},Un.prototype.onLoad=function(e){this.emitter.on("load",e)},Un.prototype.offLoad=function(e){this.emitter.off("load",e)},Un.prototype.onClose=function(e){this.emitter.on("close",e)},Un.prototype.offClose=function(e){this.emitter.off("close",e)};var qn={},Wn={},Vn=0,Gn=0;Object(d.f)((function(e){var t=e.webviewId;Vn=t,Wn[t]||(Wn[t]=!0,Object(d.i)(t,(function(e){delete Wn[e],delete qn[e]})))})),Object(u.B)("onAppBoxClose",(function(e){var t=e.id;for(var n in qn)qn[n].id===t&&qn[n].emitter.emit("close")}));var Hn=function(e){e=Nn({adUnitId:""},e),this.id=Gn++,this.adUnitId=e.adUnitId,this.compId=Vn,this.emitter=new f.b,this.isDestroy=!1,this.isLoad=!1,u.y&&console.warn("开发者工具上qq.createAppBox接口为测试数据，请在真机上验证最终效果。")},Yn=function(e,t,n){var r=n.errCode,o=n.errMsg;r&&0!==r?t({errCode:r,errMsg:o.replace(":ok",":fail")}):e({errCode:r,errMsg:o})};Hn.prototype.load=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"load:fail 广告盒子实例已销毁"}):Vn===e.compId?Object(u.v)("operateAppBox",{id:e.id,compId:e.compId,adUnitId:e.adUnitId,type:"load",success:function(r){e.isLoad=!0,Yn(t,n,r)},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"load:fail 广告盒子实例不能跨页面使用"})}))},Hn.prototype.show=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"show:fail 广告盒子实例已销毁"}):e.isLoad?Vn===e.compId?Object(u.v)("operateAppBox",{id:e.id,compId:e.compId,adUnitId:e.adUnitId,type:"show",success:function(e){Yn(t,n,e)},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"show:fail 广告盒子实例不能跨页面使用"}):n({errMsg:"show:fail 请先调用广告盒子load方法"})}))},Hn.prototype.destroy=function(){var e=this;return new Promise((function(t,n){e.isDestroy?n({errMsg:"destroy:fail 广告盒子实例已销毁"}):Vn===e.compId?Object(u.v)("operateAppBox",{id:e.id,compId:e.compId,type:"destroy",adUnitId:e.adUnitId,success:function(r){e.isDestroy=!0,e.emitter.off("close"),qn[e.compId]=void 0,Yn(t,n,r)},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"destroy:fail 广告盒子实例不能跨页面使用"})}))},Hn.prototype.onError=function(){console.warn("onError方法已废弃")},Hn.prototype.offError=function(){console.warn("offError方法已废弃")},Hn.prototype.onLoad=function(){console.warn("onLoad方法已废弃")},Hn.prototype.offLoad=function(){console.warn("offLoad方法已废弃")},Hn.prototype.onClose=function(e){this.emitter.on("close",e)},Hn.prototype.offClose=function(e){this.emitter.off("close",e)};var $n,zn,Kn={},Jn={},Xn=0;Object(d.f)((function(e){var t=e.webviewId;Xn=t,Jn[t]||(Jn[t]=!0,Object(d.i)(t,(function(e){Kn[e]&&(Object(u.C)("InterstitialAd",{operateType:"destroy"},[e]),zn&&($n=Number(new Date),zn=!1)),delete Jn[e],delete Kn[e]})))}));var Qn=function(e){e.adUnitId?(e=Nn({adUnitId:""},e),this.adUnitId=e.adUnitId,this.compId=Xn,this.emitter=new f.b,e.operateType="create",u.y&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。"),Object(u.C)("InterstitialAd",e,[Xn])):console.error("缺少adUnitId参数")};Qn.prototype.load=function(){return this._destroyed?new Promise((function(e,t){t({errMsg:"插屏广告实例已销毁",errCode:2005})})):new Promise((function(e,t){Object(u.C)("InterstitialAd",{operateType:"load"},[Xn]),e()}))},Qn.prototype.destroy=function(){var e=this;return new Promise((function(t,n){e._destroyed=!0,Object(u.C)("InterstitialAd",{operateType:"destroy"},[Xn]),delete Kn[Xn],t()}))},Qn.prototype.show=function(){var e=this;return e._destroyed?new Promise((function(e,t){t({errMsg:"插屏广告实例已销毁",errCode:2005})})):e._error?new Promise((function(t,n){n(e._error)})):e._loaded?Number(new Date)-Rn<=0?new Promise((function(e,t){t({errMsg:"距离小程序激励视频广告上次播放时间间隔不足，不允许展示插屏广告",errCode:2002})})):Number(new Date)-$n<=3e4?new Promise((function(e,t){t({errMsg:"距离小程序插屏广告上次播放时间间隔不足，不允许展示插屏广告",errCode:2002})})):zn||Mn?new Promise((function(e,t){t({errMsg:"当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告",errCode:2003})})):Number(new Date)-a.gTimeMark.appLaunchTime<=3e4?new Promise((function(e,t){t({errMsg:"小程序启动一定时间内不允许展示插屏广告",errCode:2001})})):Xn!==e.compId?new Promise((function(e,t){t({errMsg:"插屏广告实例不允许跨页面调用",errCode:2005})})):(Object(u.C)("InterstitialAd",{operateType:"show"},[Xn]),zn=!0,new Promise((function(e,t){e()}))):new Promise((function(e,t){t({errMsg:"广告还没加载完成，建议onLoad之后再调用show方法",errCode:2005})}))},Qn.prototype.onError=function(e){var t=this;t._errorCallback=function(n){t._error=n,e(n)},t.emitter.on("_error",t._errorCallback)},Qn.prototype.offError=function(e){this.emitter.off("_error",this._errorCallback)},Qn.prototype.onLoad=function(e){var t=this;t._loadCallback=function(n){t._error=!1,t._loaded=!0,e(n)},t.emitter.on("onLoad",t._loadCallback)},Qn.prototype.offLoad=function(e){this.emitter.off("onLoad",this._loadCallback)},Qn.prototype.onClose=function(e){this._closeCallback=function(t){$n=Number(new Date),zn=!1,e(t)},this.emitter.on("close",this._closeCallback)},Qn.prototype.offClose=function(e){this.emitter.off("close",this._closeCallback)},Object(u.E)("InterstitialAd",(function(e){switch(e.operateType){case"onLoad":Kn[Xn]&&Kn[Xn].emitter.emit("onLoad");break;case"close":Kn[Xn]&&Kn[Xn].emitter.emit("close");break;case"error":Kn[Xn]&&Kn[Xn].emitter.emit("_error",e.data);break;case"promiseError":Kn[Xn]&&Kn[Xn].emitter.emit("promiseError",e.data)}}));var Zn={createRewardedVideoAd:function(e){return Bn[Fn]||(Bn[Fn]=new Un(e)),Bn[Fn]},createAppBox:function(e){return qn[Vn]||(qn[Vn]=new Hn(e)),qn[Vn]},createInterstitialAd:function(e){return Kn[Xn]||(Kn[Xn]=new Qn(e)),Kn[Xn]}},er={onAddToFavorites:function(e){Object(u.B)("onAddToFavorites",e)},addToFavorites:function(e,t){Object(u.v)("addToFavorites",e,t)}};function tr(e){return(tr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function nr(e){if(!Array.isArray(e)||e.some((function(e){return"string"!=typeof e||0===e.length})))return"invalid keyList"}var rr={subscribeAppMsg:function(e){var t=e||{},n=t.tmplIds,r=t.fail,o=t.complete,i="subscribeAppMsg",a=null;void 0!==n&&(Array.isArray(n)?n.length>3?a={errMsg:"subscribeAppMsg:fail tmplIds个数超过限制，最多三个"}:i="subscribeOnceAppMsg":a={errMsg:"subscribeAppMsg:fail tmplIds参数类型错误"}),a?("function"==typeof r&&r(a),"function"==typeof o&&o(a)):(Object(u.v)(i,e,{beforeAll:function(e){(null==e?void 0:e.errMsg)&&(e.errMsg=e.errMsg.replace("subscribeOnceAppMsg","subscribeAppMsg"))}}),Reporter.reportApiCall({apiname:i}))},requestSubscribeSystemMessage:function(e){var t=e||{},n=t.msgTypeList,r=t.fail,o=t.complete,i="requestSubscribeSystemMessage",a=null;Array.isArray(n)?0===n.length?a={errCode:10001,errMsg:"".concat(i," :fail parameter error: msgTypeList should have at least 1 item")}:n.length>3?a={errCode:10001,errMsg:"".concat(i," :fail parameter error: msgTypeList should not have more than 3 item")}:n.findIndex((function(e){return"string"!=typeof e}))>=0&&(a={errCode:10004,errMsg:"".concat(i," :fail parameter error: each element of the array msgTypeList should be string")}):a={errCode:10001,errMsg:"".concat(i," :fail parameter error: msgTypeList should be Array")},a?("function"==typeof r&&r(a),"function"==typeof o&&o(a)):Object(u.v)(i,e),Reporter.reportApiCall({apiname:i})}};function or(e){return(or="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var ir={addRecentColorSign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="addRecentColorSign";e.path=a.getCurrentRoute()||"",Object(u.v)(t,e),Reporter.reportApiCall({apiname:t})},isColorSignExistSync:function(){var e=!1;return Object(u.v)("isColorSignExistSync",{success:function(t){"object"!==or(t)&&console.error("isColorSignExistSync unkonw client error"),t.errMsg&&t.errMsg.indexOf(":ok")>=0&&(e=!0)},fail:function(e){console.error("isColorSignExistSync fail:",e)}}),Reporter.reportApiCall({apiname:"isColorSignExistSync"}),e}};function ar(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(n),!0).forEach((function(t){sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ar(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var lr,fr=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},dr={},pr=function(e){return function(e){return"[object Undefined]"===Object.prototype.toString.call(e)||void 0===e}(dr[e])?new Promise((function(t,n){Object(u.v)("getPermissionBytes",{indexes:[e],success:function(r){if(r.permissionBytes){var o=1===r.permissionBytes[0];dr[e]=o,t(o)}else n("no permission")},fail:function(e){n(e.errMsg)}})})):Promise.resolve(dr[e])};function hr(e){var t=e.api,n=e.url;return("devtools"==__wxConfig.platform?__wxConfig.urlCheck:!0!==__wxConfig.debug)?new Promise((function(e,r){Object(u.v)("checkNetworkAPIURL",{api:t,url:n,success:e,fail:r})})):Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!1})}if(u.y){var vr=1;__wxConfig.onReady((function(){["close","error","listening","message"].forEach((function(e){Object(u.B)("onUDPSocket".concat(fr(e)),(function(t){var n=t.socketId;delete t.socketId,Object(f.a)("jsapi-udp-".concat(n,"-").concat(e)).emit(t)}))}))})),lr=function(){function e(){var t,n=this;if(ur(this,e),this._id=vr++,Object(u.v)("createUDPSocket",{socketId:this._id,fail:function(e){t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((function(e){var t=Object(f.a)("jsapi-udp-".concat(n._id,"-").concat(e));n["on".concat(fr(e))]=t.onMethod,n["off".concat(fr(e))]=t.offMethod}))}return Object(u.l)(e,[{key:"bind",value:function(){var e;return Object(u.v)("bindUDPSocket",{socketId:this._id,success:function(t){e=t.port},fail:function(e){throw new Error(e.errMsg)}}),e}},{key:"send",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{},r="udp://".concat(n.address);return hr({api:"udp",url:r}).then((function(e){var r;[,null].includes(n.message)||n.message.constructor!==ArrayBuffer?ArrayBuffer.isView(n.message)&&(n.type="arrayBuffer",n.message=n.message.buffer):n.type="arrayBuffer",e.isInDomainList,e.isLocalHost,e.isInLAN,r="arrayBuffer"===n.type?Object(u.b)(n.message):n.message,e.isInDomainList||e.isInLAN&&!e.isLocalHost?Object(u.v)("sendUDPSocketMessage",cr(cr({},n),{},{socketId:t._id,message:r,success:function(e){},fail:function(e){var t=e.errMsg;Object(f.a)("jsapi-udp-".concat(this._id,"-error")).emit({errMsg:"send: fail ".concat(t)})}})):Object(f.a)("jsapi-udp-".concat(t._id,"-error")).emit({errMsg:"send: fail invalid address:".concat(n.address)})}))}},{key:"close",value:function(){var e;if(Object(u.v)("closeUDPSocket",{socketId:this._id,fail:function(t){e=t.errMsg}}),e)throw new Error(e)}}]),e}()}if(u.z){var gr=("undefined"!=typeof NativeGlobal?NativeGlobal:{}).UDP,yr=new WeakMap,_r=new WeakMap,br=new WeakMap,mr=1;lr=function(){function e(){var t=this;if(ur(this,e),!gr)return null;var n=new gr;if(null===n)return null;var r=mr++;br.set(this,{}),["close","error","listening","message"].forEach((function(e){var o=Object(f.a)("jsbinding-udp-".concat(r,"-").concat(e));n["on".concat(e)]=function(){o.emit.apply(o,arguments),"error"===e?Reporter.reportIDKey({key:"UDPError"}):"message"===e&&Reporter.reportIDKey({key:"receiveUDPMessage"})},br.set(t,_extends(br.get(t),Object(u.D)({},e,o))),t["on".concat(fr(e))]=o.onMethod,t["off".concat(fr(e))]=o.offMethod})),yr.set(this,n),_r.set(this,r)}return Object(u.l)(e,[{key:"bind",value:function(){return de.batchReportRealtimeAction("bindUDP","",1,0,"","",!1,0),Reporter.reportIDKey({key:"bindUDP"}),yr.get(this).bind()}},{key:"send",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};pr(606).then((function(e){if(!1!==e){var r="udp://".concat(n.address);hr({api:"udp",url:r}).then((function(e){var o;if(e.isInDomainList,e.isLocalHost,e.isInLAN,o=ArrayBuffer.isView(n.message)?n.message.buffer:n.message,e.isInDomainList||e.isInLAN&&!e.isLocalHost)return yr.get(t).send(cr(cr({},n),{},{message:o})),.99<Math.random()&&de.batchReportRealtimeAction("sendUDP",r,1,0,"","",!1,Object(u.r)(n.message)),void Reporter.reportIDKey({key:"sendUDPMessage"});Reporter.reportIDKey({key:"sendUDPMessageToInvalidAddress"}),Object(f.a)("jsbinding-udp-".concat(_r.get(t),"-error")).emit({errMsg:"invalid address:".concat(n.address)})}))}else Object(f.a)("jsbinding-udp-".concat(_r.get(t),"-error")).emit({errMsg:"send socket fail: no permission",errCode:-3})})).catch((function(e){Object(f.a)("jsbinding-udp-".concat(_r.get(t),"-error")).emit({errMsg:"send: fail ".concat(e)})}))}},{key:"close",value:function(){return yr.get(this).close()}}]),e}()}function wr(e){return(wr="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e,t){return!t||"object"!==wr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t,n){return t&&Er(e.prototype,t),n&&Er(e,n),e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}u.x&&(__wxConfig.onReady((function(){Object(u.B)("onUDPTaskEventCallback",(function(e){var t=e.udpTaskId,n=e.event;delete e.udpTaskId,Object(f.a)("jsapi-udp-".concat(t,"-").concat(n)).emit(e)}))})),lr=function(){function e(){var t,n=this;if(ur(this,e),Object(u.v)("createUDPTask",{success:function(e){void 0!==e.udpTaskId?n._id=e.udpTaskId:t="createUDPSocket:fail udpTaskId is empty"},fail:function(e){t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach((function(e){var t=Object(f.a)("jsapi-udp-".concat(n._id,"-").concat(e));n["on".concat(fr(e))]=t.onMethod,n["off".concat(fr(e))]=t.offMethod}))}return Object(u.l)(e,[{key:"bind",value:function(){var e;return Object(u.v)("operateUDPTask",{operation:"bind",udpTaskId:this._id,success:function(t){e=t.port},fail:function(e){throw new Error(e.errMsg)}}),e}},{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="udp://".concat(t.address);return hr({api:"udp",url:n}).then((function(n){n.isInDomainList||n.isInLAN&&!n.isLocalHost?Object(u.v)("operateUDPTask",cr(cr({},t),{},{operation:"send",udpTaskId:e._id,fail:function(t){var n=t.errMsg;Object(f.a)("jsapi-udp-".concat(e._id,"-error")).emit({errMsg:"".concat(n)})}})):Object(f.a)("jsapi-udp-".concat(e._id,"-error")).emit({errMsg:"send: fail invalid address:".concat(t.address)})}))}},{key:"close",value:function(){var e,t=this;if(Object(u.v)("operateUDPTask",{operation:"close",udpTaskId:this._id,fail:function(n){e=n.errMsg,Object(f.a)("jsapi-udp-".concat(t._id,"-error")).emit({errMsg:"".concat(e)})}}),e)throw new Error(e)}}]),e}());var Ar={},xr={},Pr={},jr={},Nr=1;Object(u.E)("editorInsert",(function(e,t){var n=e.domId,r=e.editorId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),Ar[c]=r,Pr[t]||(Pr[t]=!0,Object(d.i)(t,(function(e){delete Pr[e],Object.keys(Ar).forEach((function(t){new RegExp("^".concat(e)).test(t)&&delete Ar[t]})),Object.keys(xr).forEach((function(t){new RegExp("^api_".concat(e)).test(t)&&delete xr[t]})),Object.keys(xr).forEach((function(t){new RegExp("^SQ_".concat(e)).test(t)&&delete xr[t]}))})))})),Object(u.E)("editorRemoved",(function(e,t){var n=e.domId,r=e.editorId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),delete Ar[c];var s="SQ_".concat(t,"_").concat(r);delete xr["api_".concat(t,"_").concat(i,"_").concat(n,"_").concat(a)],delete xr[s]})),Object(u.E)("doEditorActionCallback",(function(e,t){var n=e.callbackId;if(n&&void 0!==jr[n]){delete e.callbackId;var r=jr[n];e.errMsg&&-1<e.errMsg.indexOf("ok")?"function"==typeof r.success&&r.success(e):"function"==typeof r.fail&&r.fail(e),"function"==typeof r.complete&&r.complete(e),delete jr[n]}}));var Dr=function(){function e(t){Ir(this,e),this.editorId=t}return Tr(e,[{key:"format",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;this._execCommand("format",{name:e,value:n,needCallBack:!1})}},{key:"scrollIntoView",value:function(){this._execCommand("scrollIntoView",{needCallBack:!1})}},{key:"_execCommandWithId",value:function(e,t,n){if(n.needCallBack){var r={};Object.keys(n).forEach((function(e){"function"==typeof n[e]&&(r[e]=n[e],delete n[e])}));var o="callback".concat(this.webviewId,"_").concat(e,"_").concat(Nr++);jr[o]=r,n.callbackId=o}delete n.needCallBack,this.action={method:t,args:n},Object(u.C)("editor_".concat(this.webviewId,"_").concat(e,"_actionChanged"),this.action,[this.webviewId])}}]),e}();["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","focus","blur"].forEach((function(e){Dr.prototype[e]=function(t){this._execCommand(e,function(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{},o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),o.forEach((function(t){kr(e,t,r[t])}))},r=1;r<arguments.length;r++)n(r);return e}({},t,{needCallBack:!0}))}}));var Rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Or(this,n)}}(n);function n(e,r){var o;return Ir(this,n),(o=t.call(this,e)).webviewId=r,o}return Tr(n,[{key:"_execCommand",value:function(e,t){this._execCommandWithId(this.editorId,e,t)}}]),n}(Dr);function Mr(e,t){var n="SQ_".concat(t,"_").concat(e);if(xr[n])return xr[n];var r=new Rr(e,t);return xr[n]=r,r}function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){Fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ur=__qqConfig.platform,qr={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};function Wr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="canvas_".concat(e,"_").concat(t,"_").concat(n,"_");return r&&r!==o.getRootNodeId(e)&&(i+=r),i}function Vr(e){var t=[],n=1;return Object(u.E)(e,(function(e){var n=-1;t.forEach((function(t,r){var o=t[0],i=t[1];o.cid===e.cid&&o.canvasId===e.canvasId&&(i(e),n=r)})),n>=0&&t.splice(n,1)})),function(e,r){e.cid=n++,t.push([e,r])}}var Gr={},Hr={};function Yr(e){return"number"==typeof e}function $r(e){var t=null,n=null,r=null,o=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4),16),255];if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e)))return n=t[1].slice(0,1),r=t[1].slice(1,2),o=t[1].slice(2,3),[n=parseInt(n+n,16),r=parseInt(r+r,16),o=parseInt(o+o,16),255];if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e){return Math.min(255,parseInt(e.trim()))})).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map((function(e,t){return 3==t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim()))}));var i=e.toLowerCase();if(qr[i]){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(qr[i]),n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4,6),16);var a=parseInt(t[1].slice(6,8),16);return[n,r,o,a=0<=a?a:255]}return console.group("非法颜色: ".concat(e)),console.error("不支持颜色：".concat(e)),console.groupEnd(),[0,0,0,255]}function zr(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){t.push(zr(e))})),t}if("object"!=Object(u.I)(e))return e;var n={};for(var r in e)n[r]=zr(e[r]);return n}function Kr(e,t,n){"string"==typeof n?e.actions.push({method:t,data:["normal",$r(n)]}):"object"==Object(u.I)(n)&&n instanceof Xr?e.actions.push({method:t,data:[n.type,n.data,n.colorStop]}):n instanceof Zr&&e.actions.push({method:t,data:["pattern",n.image,n.repetition]})}function Jr(e,t){if("devtools"!==Ur&&!/(wxfile|qqfile):\/\//.test(t))if(e.pluginId||e.nodeId){var n=e.pluginId.split("/")[0],r=o.getNodeById(e.nodeId,e.webviewId),i=(null==r?void 0:r.is)||"";t=n?o.getPluginRoutePrefix(n)+Object(u.s)(i,t,!1).replace(/\.html$/,""):Object(u.s)(i,t,!1).replace(/\.html$/,"")}else t=Object(u.s)(p.b.lastRoute,t,!1).replace(/.html$/,"");return t}var Xr=function(){function e(t,n){Object(u.j)(this,e),this.type=t,this.data=n,this.colorStop=[]}return Object(u.l)(e,[{key:"addColorStop",value:function(e,t){this.colorStop.push([e,$r(t)])}}]),e}(),Qr=function e(t){Object(u.j)(this,e),this.width=t},Zr=function e(t,n){Object(u.j)(this,e),this.image=t,this.repetition=n},eo=function(){function e(t,n,r,o){if(Object(u.j)(this,e),this.actions=[],this.path=[],this.subpath=[],this.webviewId=t,this.canvasId=n,this.pluginId=o,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=Wr(t,n,o,r),Gr[this._id]=Gr[this._id]||[],this.drawingState=Gr[this._id],Hr[this._id]=Hr[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===Ur?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this.state=Hr[this._id],"devtools"===Ur){var i=document.createElement("canvas");this._context=i.getContext("2d")}}return Object(u.l)(e,[{key:"getActions",value:function(){var e=zr(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}},{key:"clearActions",value:function(){this.actions=[],this.path=[],this.subpath=[]}},{key:"draw",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.canvasId,r=zr(this.actions),o=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?bo({isWidgetCanvas:!0,actions:r,reserve:e}):bo({canvasId:n,actions:r,reserve:e,useHardwareAccelerate:o,complete:t},this.webviewId,this.pluginId,this.nodeId)}},{key:"createLinearGradient",value:function(e,t,n,r){return new Xr("linear",[e,t,n,r])}},{key:"createCircularGradient",value:function(e,t,n){return new Xr("radial",[e,t,n])}},{key:"createPattern",value:function(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=Jr(this,e),new Zr(e,t);console.error("Failed to execute 'createPattern' on 'CanvasContext': The provided type ('".concat(t,"') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'."))}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}},{key:"measureText",value:function(e){var t;return"devtools"===Ur?(this._context.font=this.state.font,t=this._context.measureText(e)):Object(u.v)("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete:function(e){t={width:e.width||0}}}),new Qr(t.width||0)}},{key:"save",value:function(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}},{key:"restore",value:function(){this.actions.push({method:"restore",data:[]}),Hr[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===Ur?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},this.state=Hr[this._id]}},{key:"getLineDash",value:function(){return this.state.lineDash}},{key:"beginPath",value:function(){this.path=[],this.subpath=[]}},{key:"moveTo",value:function(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}},{key:"closePath",value:function(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}},{key:"lineTo",value:function(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}},{key:"quadraticCurveTo",value:function(e,t,n,r){this.path.push({method:"quadraticCurveTo",data:[e,t,n,r]}),this.subpath.push([n,r])}},{key:"bezierCurveTo",value:function(e,t,n,r,o,i){this.path.push({method:"bezierCurveTo",data:[e,t,n,r,o,i]}),this.subpath.push([o,i])}},{key:"arc",value:function(e,t,n,r,o){var i=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if("android"!==Ur)return this.path.push({method:"arc",data:[e,t,n,r,o,i]}),void this.subpath.push([e,t]);var a=e+Math.cos(r)*n,c=t+Math.sin(r)*n;if(this.subpath.push([a,c]),i&&r-o>=2*Math.PI||!i&&o-r>=2*Math.PI)this.subpath.push([a,c]);else{var s=e+Math.cos(o)*n,u=t+Math.sin(o)*n;this.subpath.push([s,u])}this.path.push({method:"arc",data:[e,t,n,r,o,i]})}},{key:"rect",value:function(e,t,n,r){this.path.push({method:"rect",data:[e,t,n,r]}),this.subpath=[[e,t]],"android"===Ur&&this.path.push({method:"closePath",data:[]})}},{key:"arcTo",value:function(e,t,n,r,o,i){if("android"!==Ur&&!i)return this.path.push({method:"arcTo",data:[e,t,n,r,o]}),void this.subpath.push([n,r]);var a,c,s,u,l,f,d=this.subpath[this.subpath.length-1],p=d[0],h=d[1];if(p===e&&h===t||e===n&&t===r||0===o)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(p===e&&p===n||h===t&&h===r)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var v=Math.sqrt,g=Math.acos,y=Math.sin,_=Math.tan,b=(Math.cos,Math.atan),m=(Math.abs,Math.PI),w=function(e){return Math.pow(e,2)},S=p-e,O=h-t,C=n-e,I=r-t,E=g((S*C+O*I)/(v(w(S)+w(O))*v(w(C)+w(I))))/2,T=Math.round(o/y(E)*1e6)/1e6,k=Math.round(o/_(E)*1e6)/1e6;if(p-e==0)a=e,c=0<h-t?t+k:t-k;else if(h-t==0)a=0<p-e?e+k:e-k,c=t;else{var A=(h-t)/(p-e),x=h-A*p;c=A*(a=(v(w(S)+w(O))*k+S*e+O*t-x*O)/(S+A*O))+x}if(n-e==0)s=e,u=0<r-t?t+k:t-k;else if(r-t==0)s=0<n-e?e+k:e-k,u=t;else{var P=(r-t)/(n-e),j=r-P*n;u=P*(s=(v(w(C)+w(C))*k+C*e+I*t-j*I)/(C+P*I))+j}var N=(a+s)/2-e,D=(c+u)/2-t;if(0===D)l=e,f=0<D?t+T:t-T;else{var R=D/N,M=t-R*e;f=R*(l=(v(w(N)+w(D))*T+e*N+t*D-M*D)/(N+R*D))+M}l=Math.round(1e6*l)/1e6;var B=c-(f=Math.round(1e6*f)/1e6),L=a-l,F=m-2*E,U=b(B/L);0===B&&L<0&&(U=Math.PI);var q=(a-l)*(u-f)-(c-f)*(s-l);this.path.push({method:"arc",data:[l,f,o,U,0<q?U+F:U-F,q<0]}),this.subpath.push([s,u])}},{key:"clip",value:function(){this.actions.push({method:"clip",data:zr(this.path)})}},{key:"lineDashOffset",set:function(e){if("devtools"!==Ur){var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}else this.actions.push({method:"setLineDashOffset",data:[e]})}},{key:"globalCompositeOperation",set:function(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}},{key:"shadowBlur",set:function(e){"devtools"!==Ur?(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e):this.actions.push({method:"setShadowBlur",data:[e]})}},{key:"shadowColor",set:function(e){var t;"devtools"!==Ur?(t="ios"===Ur&&0===this.state.shadowBlur?[]:$r(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t):this.actions.push({method:"setShadowColor",data:[e]})}},{key:"shadowOffsetX",set:function(e){"devtools"!==Ur?(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e):this.actions.push({method:"setShadowOffsetX",data:[e]})}},{key:"shadowOffsetY",set:function(e){"devtools"!==Ur?(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e):this.actions.push({method:"setShadowOffsetY",data:[e]})}},{key:"font",set:function(e){var t=this,n=e.match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/),r=n[1].trim().split(/\s/),o=parseFloat(n[3]),i=n[7],a=[],c="";if(this.state.font=e,n){if(r.forEach((function(e,n){["italic","oblique","normal"].indexOf(e)>-1?(a.push({method:"setFontStyle",data:[e]}),t.state.fontStyle=e):["bold","normal"].indexOf(e)>-1?(a.push({method:"setFontWeight",data:[e]}),t.state.fontWeight=e):0===n?u.apply(t):1===n&&s.apply(t)})),1===r.length&&(["bold"].indexOf(r[0])>-1?u.apply(this):s.apply(this)),c=a.map((function(e){return e.data[0]})).join(" "),this.state.fontSize=o,this.state.fontFamily=i,"devtools"===Ur)return c="".concat(c," ").concat(o,"px ").concat(i),void this.actions.push({method:"setFont",data:[c]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[o]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function s(){a.push({method:"setFontWeight",data:["normal"]}),this.state.fontWeight="normal"}function u(){a.push({method:"setFontStyle",data:["normal"]}),this.state.fontStyle="normal"}},get:function(){return this.state.font}},{key:"fillStyle",set:function(e){Kr(this,"setFillStyle",e)}},{key:"strokeStyle",set:function(e){Kr(this,"setStrokeStyle",e)}},{key:"globalAlpha",set:function(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}},{key:"textAlign",set:function(e){this.actions.push({method:"setTextAlign",data:[e]})}},{key:"lineCap",set:function(e){this.actions.push({method:"setLineCap",data:[e]})}},{key:"lineJoin",set:function(e){this.actions.push({method:"setLineJoin",data:[e]})}},{key:"lineWidth",set:function(e){this.actions.push({method:"setLineWidth",data:[e]})}},{key:"miterLimit",set:function(e){this.actions.push({method:"setMiterLimit",data:[e]})}},{key:"textBaseline",set:function(e){this.actions.push({method:"setTextBaseline",data:[e]})}}]),e}();[].concat(["scale","rotate","translate","setTransform","transform"],["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"]).forEach((function(e){eo.prototype[e]="fill"==e||"stroke"==e?function(){this.actions.push({method:"".concat(e,"Path"),data:zr(this.path)})}:"fillRect"===e?function(e,t,n,r){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,n,r]}]})}:"strokeRect"===e?function(e,t,n,r){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,n,r]}]})}:"fillText"===e||"strokeText"===e?function(t,n,r,o){if(void 0===t)throw new Ut("The first parameter of fillText and strokeText should be a string");var i=[t.toString(),n,r];"number"==typeof o&&i.push(o),this.actions.push({method:e,data:i})}:"drawImage"==e?function(t,n,r,o,i,a,c,s,u){var l;t=Jr(this,t),void 0===u&&(a=n,c=r,s=o,u=i,i=o=r=n=void 0),l=Yr(n)&&Yr(r)&&Yr(o)&&Yr(i)?[t,a,c,s,u,n,r,o,i]:Yr(s)&&Yr(u)?[t,a,c,s,u]:[t,a,c],this.actions.push({method:e,data:l})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}})),["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"].forEach((function(e){"setFillStyle"==e||"setStrokeStyle"==e?eo.prototype[e]=function(){var t=arguments[0];Kr(this,e,t)}:"setGlobalAlpha"===e?eo.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"==e?eo.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);t[3]="ios"===Ur&&0===t[2]?[]:$r(t[3]),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"==e?eo.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=t[0]||[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?eo.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,"".concat(e,"px")),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:eo.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}}));var to={},no={},ro={},oo={},io=0,ao=0,co=4500,so=Date.now,uo=Vr("onCanvasMethodCallback"),lo=Vr("onDrawCanvas");function fo(){for(var e in ro)-1<e.indexOf("canvas_".concat(p.b.currentWebviewId,"_"))&&delete ro[e]}function po(e,t,n){var r={errMsg:"".concat(e,": ").concat(n||"fail canvas is empty")},o=Reporter.surroundThirdByTryCatch(t.fail||u.A,"at api ".concat(e," fail callback function")),i=Reporter.surroundThirdByTryCatch(t.complete||u.A,"at api ".concat(e," complete callback function"));o(r),i(r)}function ho(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=Wr(p.b.currentWebviewId,e.canvasId,n,t),o=Object(u.c)({},e);if("number"==typeof ro[r]){if(o.canvasId=ro[r],o.jsInvokedAt=Date.now(),o.x=Number(o.x)||0,o.y=Number(o.y)||0,o.width=Number(o.width)||0,o.height=Number(o.height)||0,0===o.width)return void po("canvasGetImageData",e,"the source width is 0");if(0===o.height)return void po("canvasGetImageData",e,"the source height is 0");if(u.y)o.method="getImageData",uo(o,(function(t){var n={width:t.width,height:t.height,data:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8ClampedArray(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}(t.data)};"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)})),Object(u.C)("invokeCanvasMethod",o);else{var i=o.success,a=o.fail;o.success=function(e){"[object ArrayBuffer]"===Object.prototype.toString.call(e.data)?(e.width=o.width,e.height=o.height,e.data=new Uint8ClampedArray(e.data),"function"==typeof i&&i(e)):(delete e.data,e.errMsg="canvasGetImageData: fail","function"==typeof a&&a(e))},Object(u.v)("canvasGetImageData",o)}}else po("canvasGetImageData",e)}function vo(e,t){ho(e,(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"")}function go(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=Wr(p.b.currentWebviewId,e.canvasId,n,t),o=Object(u.c)({},e);"number"==typeof o.width?o.data&&"[object Uint8ClampedArray]"===Object.prototype.toString.call(o.data)?"number"==typeof ro[r]?(o.canvasId=ro[r],o.jsInvokedAt=Date.now(),o.x=Number(o.x)||0,o.y=Number(o.y)||0,o.height="number"==typeof o.height?o.height:o.data.length/o.width/4|0,u.y?(o.data=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return window.__global.btoa(t)}(o.data),o.method="putImageData",Object(u.C)("invokeCanvasMethod",o),"function"==typeof e.success&&e.success({errMsg:"canvasPutImageData:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"canvasPutImageData:ok"})):(o.data=o.data.buffer,Object(u.v)("canvasPutImageData",o))):po("canvasPutImageData",e):po("canvasPutImageData",e,"data argument must be an Uint8ClampedArray"):po("canvasPutImageData",e,"invalid width argument")}function yo(e,t){go(e,(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"")}function _o(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,i=5<arguments.length?arguments[5]:void 0,a=6<arguments.length?arguments[6]:void 0;if(u.y){var c={actions:t,reserve:n,canvasId:e};lo(c,(function(e){"function"==typeof a&&a({errMsg:e.errMsg})})),Object(u.C)("canvasActionsChanged",c)}else Object(u.v)("drawCanvas",{canvasId:e,reserve:n,useHardwareAccelerate:r,actions:t,success:o,fail:i,complete:a})}function bo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.b.currentWebviewId,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=e.isWidgetCanvas,i=e.canvasId,a=e.actions,c=e.reserve,s=e.useHardwareAccelerate,l=e.success,f=e.fail,d=e.complete,h=so();if(Array.isArray(a)){if(o){if(h-io<co){var v={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return 500<(ao+=1)&&(ao=0,console.warn(v.errMsg)),void("function"==typeof f&&f(v))}return io=h,void Object(u.v)("drawCanvas",{canvasId:void 0,reserve:c,actions:a,success:l,fail:f,complete:d})}if(i){var g=Wr(t,i,n,r);if("number"==typeof ro[g]){var y=ro[g];_o(y,a,c,s,l,f,d)}else oo[g]=oo[g]||[],oo[g]=oo[g].concat({actions:a,reserve:c,useHardwareAccelerate:s,success:l,fail:f,complete:d})}}}function mo(e){bo(e)}"undefined"!=typeof __widgetConfig__&&(co="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),Object(u.E)("canvasInsert",(function(e,t){var n=e.canvasId,r=e.canvasNumber,o=e.pluginId,i=e.data,a=e.position,c=e.nodeId,s=e.compPath,u=Wr(t,n,o,c);to[r]={lastTouches:[],data:i,compPath:s},ro[u]=r,no[r]=a,Array.isArray(oo[u])&&(oo[u].forEach((function(e){_o(r,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)})),delete oo[u])})),Object(u.E)("canvasUpdate",(function(e,t){var n=e.canvasNumber,r=e.position;no.hasOwnProperty(n)&&(no[n]=r)})),Object(u.E)("canvasRemove",(function(e,t){var n=Wr(t,e.canvasId,e.pluginId,e.nodeId);ro[n]&&delete ro[n]}));var wo=null,So=function(e,t){var n=Object(u.c)({},t);n.success=t.success,n.fail=t.fail,n.complete=t.complete;var r,o,i=e.pixelRatio,a=300,c=150;no.hasOwnProperty(t.canvasId)&&(a=no[t.canvasId].width,c=no[t.canvasId].height),u.z?(r=a,o=c,r*=i,o*=i,n.x=n.x?n.x*i:0,n.y=n.y?n.y*i:0,(n.x<0||n.x>r)&&(n.x=0),(n.y<0||n.y>o)&&(n.y=0),n.width=n.width?Math.min(r-n.x,n.width*i):r-n.x,n.height=n.height?Math.min(o-n.y,n.height*i):o-n.y,n.destWidth=n.destWidth?n.destWidth/i:n.width/i,n.destHeight=n.destHeight?n.destHeight/i:n.height/i):(r=a,o=c,n.x=n.x?n.x:0,n.y=n.y?n.y:0,(n.x<0||n.x>r)&&(n.x=0),(n.y<0||n.y>o)&&(n.y=0),n.width=n.width?Math.min(r-n.x,n.width):r-n.x,n.height=n.height?Math.min(o-n.y,n.height):o-n.y,n.destWidth=n.destWidth?n.destWidth:n.width*i,n.destHeight=n.destHeight?n.destHeight:n.height*i),Object(u.v)("canvasToTempFilePath",n)};function Oo(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(e.canvasId){var r,o=Wr(p.b.currentWebviewId,e.canvasId,n,t);"number"==typeof ro[o]?(e.canvasId=ro[o],(r=e).fileType=-1<["jpg","png"].indexOf(r.fileType)?r.fileType:"png",r.quality="jpg"===r.fileType?r.quality<0||1<r.quality?1:r.quality:1,r.jpgQuality=r.quality,u.y?(r.method="toDataURL",uo(r,(function(e){Object(u.v)("base64ToTempFilePath",Object(u.c)({base64Data:e.dataUrl},r),{beforeAll:function(e){e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})})),Object(u.C)("invokeCanvasMethod",r)):(wo||(wo=de.getStaticSystemInfoSync()),So(wo,r))):po("canvasToTempFilePath",e)}}function Co(e,t){Oo(e,(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"")}var Io=function(){return new eo},Eo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return new eo(e,t,n,r)},To=function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return Eo(p.b.currentWebviewId,e,n)};function ko(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ao=["app-service.js","game.js","subContext.js"],xo=1,Po=[],jo=new WeakMap,No=new WeakMap,Do={};__safeway__.worker.onWorkerMsg((function(e,t){var n=Do[e],r=No.get(n);t.__log__&&t.logs?console[t.level](t.logs):n&&"function"==typeof r&&r(t)}));var Ro={add:function(e){e&&Po.indexOf(e)<0&&Po.push(e)},remove:function(e){var t=Po.indexOf(e);0<=t&&Po.splice(t,1)},get size(){return Po.length}};__wxConfig.onReady((function(){var e,t;"number"==typeof(null===(e=__wxConfig)||void 0===e||null===(t=e.wxAppInfo)||void 0===t?void 0:t.maxWorkerConcurrent)&&(xo=__wxConfig.wxAppInfo.maxWorkerConcurrent)}));var Mo=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jo.set(this,t),Do[t]=this,this.postMessage({__cmd__:"requireScript",__script__:n}),Ro.add(this)}var t,n;return t=e,(n=[{key:"postMessage",value:function(e){var t=jo.get(this);__safeway__.worker.postMsgToWorker(t,e)}},{key:"onMessage",value:function(e){No.set(this,e)}},{key:"terminate",value:function(){var e=jo.get(this);__safeway__.worker.terminate(e),Ro.remove(this),jo.delete(this),No.delete(this),delete Do[e]}}])&&ko(t.prototype,n),e}(),Bo=c(5);function Lo(e){return(Lo="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wo=["tcb-api.tencentcloudapi.com","api-report.q.qq.com","q.qq.com","qun.qq.com"],Vo=["1109664704","1109907872"],Go=(Number.isNaN,Number.isFinite||function(e){return function(e){return"Number"===Object(u.t)(e)}(e)&&Go(e)});function Ho(e,t){return!t||"object"!==Object(u.I)(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $o(e,t){return($o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(null==t?void 0:t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$o(e,t)}function Ko(e,t,n){return(Ko=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&$o(o,n.prototype),o}).apply(null,arguments)}function Jo(e){var t="function"==typeof Map?new Map:void 0;return(Jo=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ko(e,arguments,Yo(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),$o(r,e)})(e)}function Xo(e,t){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"==e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}__wxConfig.onReady((function(){if(__wxConfig.plugins){var e=[];for(var t in __wxConfig.plugins)__wxConfig.plugins[t]&&"dev"===__wxConfig.plugins[t].version?e.push({plugin_id:__wxConfig.plugins[t].provider,inner_version:"0"}):e.push({plugin_id:__wxConfig.plugins[t].provider,inner_version:__wxConfig.plugins[t].version});__wxConfig.appContactInfo=_extends(__wxConfig.appContactInfo,{call_plugin_info:e})}_extends(__wxConfig,__wxConfig)}));var Qo=Xo((function(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];if("Array"==t||"Object"==t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"==t||"Number"==t||"Boolean"==t?e.toString():"Date"==t?e.getTime().toString():"Undefined"==t?"undefined":"Null"==t?"null":"";return{data:e,dataType:t}}),"anyTypeToString"),Zo=Xo((function(e,t){return"String"==t?e:"Array"==t||"Object"==t?JSON.parse(e):"Number"==t?parseFloat(e):"Boolean"==t?"true"==e:"Date"==t?new Date(parseInt(e)):"Undefined"==t?void 0:"Null"==t?null:""}),"stringToAnyType"),ei=function(e){function t(e){var n;return Object(u.j)(this,t),(n=Ho(this,Yo(t).call(this,"APP-SERVICE-SDK:".concat(e)))).type="AppServiceSdkKnownError",n}return zo(t,Jo(Error)),t}(),ti=function(e){function t(e){var n;return Object(u.j)(this,t),(n=Ho(this,Yo(t).call(this,String(e)))).type="ThirdScriptError",n}return zo(t,Jo(Error)),t}();function ni(e,t,n){0!=("Object"===Object(u.t)(e))&&t!=n&&e.hasOwnProperty(t)&&(e[n]=e[t],delete e[t])}var ri=function(e,t){return J[t][e]};function oi(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){};return function(i){n=o(i),Object(u.v)("operateWXData",Uo(Uo({},i),{},{data:Uo(Uo({api_name:t},r),n?{data:n}:void 0)}),{beforeAll:function(t){t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess:function(e){if(u.x&&"string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){throw console.log("JSON.parse error.jsonstr:".concat(e.data)),t}var t;(e.data||(e.data={}),e.data.data)&&(e.rawData=e.data.data,e=_extends(e,JSON.parse(e.data.data)))}})}}var ii=!1;function ai(e){ii=!!e.state,e.success&&e.success({state:ii})}function ci(e,t,n){var r=ri(e,"ui");if(0<r&&ii)return!1;if(20<=r)if(void 0===a){if(t)return!1}else{var o=a.getCurrentRoute()||"";if(null==n?void 0:n.isNativeInvoke)return!0;if(/^\/?__wx__\//.test(o))return!1;var i=o.match(/(?:^|\/)__plugin__\/(.*?)\//);if((i?i[1]:"")!==t&&30<=r)return!1}return!0}var si=!1;function ui(e){si="tap"===e}function li(){si=!1}function fi(e){var t=this;return function(){ui("tap");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(t,r),li()}}function di(e,t){return function(n){var r=this,o=ri(e,"tap"),i=n;if(10!==o||si||(Jt({name:e,scene:0,strategy:1}),!u.y&&Object(u.f)(e))){(20===o&&si||30===o)&&("function"==typeof n?i=fi.call(this,n):"object"===Object(u.I)(n)&&(i=Uo({},n),["success","fail","complete"].forEach((function(e){"function"==typeof i[e]&&(i[e]=fi.call(r,i[e]))}))));for(var a=arguments.length,c=new Array(1<a?a-1:0),s=1;s<a;s++)c[s-1]=arguments[s];var l=t.apply(this,[i].concat(c));return 4===__wxConfig.appType&&li(),l}n&&(n.fail||n.complete)&&setTimeout((function(){Object(u.n)(e,n,"can only be invoked by user TAP gesture.")}),0)}}function pi(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=gi,o=r.data;if(o&&"function"==typeof p.b.webviewEventCallback){var i=JSON.parse(o);if(i.bindkeyboardheightchange)try{p.b.webviewEventCallback({data:{type:"keyboardheightchange",target:i.target,currentTarget:i.target,timeStamp:Date.now(),touches:[],detail:{duration:e.duration||0,height:e.height||0}},eventName:i.bindkeyboardheightchange,webviewId:n||p.b.currentWebviewId,nodeId:i.nodeId})}catch(e){throw e.type="AppServiceSdkKnownError",e.message="bind key input error",e}}}var hi,vi=[],gi=null;Object(u.E)("onInputComponentData",(function(e){gi=e,vi.forEach((function(e){pi(e,e.webviewId)})),vi=[]})),Object(u.E)("removeInputComponent",(function(e){gi&&(gi.inputId,e.inputId)})),Object(u.B)("onKeyboardHeightChange",(function(e,t){var n=t||0;gi?(pi(e,n),gi.inputId===e.inputId&&0===e.height&&(gi=null)):vi.push({inputId:e.inputId,height:e.height,duration:e.duration,webviewId:n})})),Object(u.B)("onKeyboardValueChange",(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.value;if(Object(u.C)("setKeyboardValue",{value:n,cursor:e.cursor,inputId:e.inputId},[t]),e.data&&"function"==typeof p.b.webviewEventCallback){var r=JSON.parse(e.data);if(r.bindinput){var o;try{o=p.b.webviewEventCallback({data:{type:"input",target:r.target,currentTarget:r.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor,keyCode:e.keyCode}},eventName:r.bindinput,webviewId:t,nodeId:r.nodeId})}catch(e){throw new ei("bind key input error")}if(r.setKeyboardValue)if(null==o||!1===o);else if("Object"===Object(u.t)(o)){var i={inputId:e.inputId};n!=o.value&&(i.value=String(o.value)),isNaN(parseInt(o.cursor))||(i.cursor=parseInt(o.cursor),void 0===i.value&&(i.value=n),i.cursor>i.value.length&&(i.cursor=-1)),Object(u.v)("setKeyboardValue",i)}else n!=o&&Object(u.v)("setKeyboardValue",{value:String(o),cursor:-1,inputId:e.inputId})}}}));var yi,_i,bi=new l.a,mi={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:W.ShareInfoStorage,emitter:bi};function wi(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t||e.query?e.query:p.b.query)||{},e.path=Object(u.p)(t||e.path?e.path:p.b.lastRoute),e.referrerInfo=e.referrerInfo||{},(e.isLaunch=t)||(1044===e.scene?p.b.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:p.b.lastShareInfo=void 0),mi.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(mi.appId=e.referrerInfo.appId),"object"===Object(u.I)(e.shareInfo)&&null!==e.shareInfo){var n=e.shareInfo;n.shareTicket&&(Object(u.v)("showUpdatableMessageSubscribeButton",{shareTicket:n.shareTicket,complete:function(e){}}),e.shareTicket=n.shareTicket,mi.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function Si(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0===n.scene?n.scene=hi:hi=n.scene;var r=n.scene;if((null==n||null===(e=n.referrerInfo)||void 0===e?void 0:e.extraData)&&"string"==typeof n.referrerInfo.extraData)try{var o=JSON.parse(n.referrerInfo.extraData);o&&"object"===Lo(o)&&(n.referrerInfo.extraData=o,o.ad_scene_2019&&(r=o.ad_scene_2019))}catch(n){console.log("getLaunchOptionsSync e.referrerInfo.extraData is not a jsonstring")}return(null==n||null===(t=n.extendData)||void 0===t?void 0:t.ad_scene_2019)&&(r=n.extendData.ad_scene_2019),1103===r?r=1001:1104===r&&(r=1089),{path:n.path,query:n.query,scene:r,shareTicket:n.shareTicket,entryDataHash:n.entryDataHash,extendData:n.extendData,entryDataHash:n.entryDataHash,referrerInfo:n.referrerInfo.appId?{appId:n.referrerInfo.appId,extraData:n.referrerInfo.extraData}:{},forwardMaterials:n.forwardMaterials}}var Oi,Ci=Date.now(),Ii=Date.now(),Ei=0;function Ti(e){Ii=Date.now(),(e=wi(e,!1)).__public=Si(e),yi=e,d.c.emit(e)}Object(u.E)("getAppEnterForegroundInfo",(function(e){var t=e.callbackId;Object(u.C)("appEnterForegroundInfoGot",{data:{info:yi,sceneHistory:mi.sceneHistory,appId:mi.appId},callbackId:t})})),Object(u.B)("onAppEnterForeground",(function(e){1!==e.reLaunch&&!0!==e.reLaunch?Ti(e):mi.emitter.once("onAppRoute",(function(){Ti(e)})),Object(u.C)("onAppEnterForeground",e)})),Object(u.B)("onAdBack",(function(e){Object(u.C)("onAdBack",e)})),Object(u.B)("onAppEnterBackground",(function(e){Ei+=Date.now()-Ii,e||(e={}),d.a.emit(e),Object(u.C)("onAppEnterBackground",e)})),Object(u.B)("onAppRoute",(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e.path=Object(u.p)(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,p.b.lastRoute=e.path,"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType)for(var n in e.query)try{e.query[n]=decodeURIComponent(e.query[n])}catch(e){}p.b.query=e.query,"navigateBack"!==e.openType&&"redirectTo"!==e.openType||fo(),p.b.currentWebviewId=e.webviewId,Object(u.C)("onAppRoute",e,[]),mi.emitter.emit("onAppRoute"),d.h.emit(e)}));var ki=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("authorize",e,{scope:""})&&Object(u.v)("authorize",Object(u.c)(e,{scope:[e.scope]}),{beforeAll:function(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}})},Ai=oi("getOpenDeviceId","webapi_getdeviceinfo"),xi=(oi("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",{},{},(function(e){var t=e.todayPlayedTime;return{today_played_seconds:void 0===t?0:t}}),(function(e){e.result=!e.is_healthy,delete e.is_healthy})),parseInt(Date.now()/1e3)),Pi={},ji={},Ni=new l.a,Di={},Ri=0;Object(u.E)("mapInsert",(function(e,t){var n,r=e.domId,i=e.mapId,a=e.pluginId,c=e.bindregionchange,s=e.bindtap,u=e.showLocation,l=e.bindpoitap,f=e.target,p=e.nodeId,h="".concat(t,"_").concat(a,"_").concat(r,"_");p&&p!==o.getRootNodeId(t)&&(h+=p),Pi[h]=i,ji["".concat(t,"_").concat(i)]={bindregionchange:c,bindtap:s,showLocation:u,bindpoitap:l,target:f,nodeId:p},Ni.emit("mapInsert"),Di[n=t]||(Di[n]=!0,Object(d.i)(n,(function(e){delete Di[e],Object.keys(Pi).forEach((function(t){new RegExp("^".concat(e)).test(t)&&(delete ji["".concat(e,"_").concat(Pi[t])],delete Pi[t])}))})))})),Object(u.E)("mapRemove",(function(e,t){var n=e.domId,r=e.mapId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),delete Pi[c],delete ji["".concat(t,"_").concat(r)]}));var Mi=function(){function e(t,n,r,o){var i=this;if(Object(u.j)(this,e),"string"!=typeof t)throw new ti("Parameter 1 should be a string");this.domId=t,this.pluginId=o,this.webviewId=n,this.nodeId=r,this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={},Object(u.E)("doMapActionCallback",(function(e,t){var n=e.callbackId;n&&"function"==typeof i[n]&&(i[n](e),delete i[n])}))}return Object(u.l)(e,[{key:"_invoke",value:function(e,t){var n=ji["".concat(this.webviewId,"_").concat(t.mapId)];if("moveToMapLocation"!==e||!n||n.showLocation)if(u.y||-1!==["includeMapPoints","getMapMarker"].indexOf(e)){t.method=e;var r="callback".concat(this.webviewId,"_").concat(t.mapId,"_").concat(Ri++);this[r]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(-1<e.errMsg.indexOf(":ok")?"function"==typeof t.success&&t.success(e):-1<e.errMsg.indexOf(":fail")&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=r,Object(u.C)("doMapAction".concat(t.mapId),t,[this.webviewId])}else Object(u.v)(e,t);else console.warn("only show-location set to true can invoke moveToLocation")}},{key:"_invokeMethod",value:function(e,t){var n=this,r="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId);"number"==typeof Pi[r]||Pi[r]?(t.mapId=Pi[r],this._invoke(e,t)):Ni.on("mapInsert",(function(){t.mapId=Pi[r],n._invoke(e,t)}))}},{key:"getCenterLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapCenterLocation",e)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapScale",e)}},{key:"getRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapRegion",e)}},{key:"moveToLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("moveToMapLocation",e)}},{key:"translateMarker",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.markerId;if(void 0!==n)if(t.destination)if(this._translating[n])this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t];else{var r={markerId:n,keyFrames:[{longitude:t.destination.longitude,latitude:t.destination.latitude,duration:t.duration||1e3}],success:function(n){"function"==typeof t.success&&t.success.call(e,n),"function"==typeof t.animationEnd&&t.animationEnd.call(e)},fail:function(r){e._delayTranslate[n]=[],"function"==typeof t.fail&&t.fail.call(e,r)},complete:function(){e._translating[n]=!1;var t=e._delayTranslate[n];(null==t?void 0:t.length)&&e.translateMarker(t.shift())}},o=this._lastMarkerPos[n],i=t.destination;if(t.autoRotate||"number"!=typeof t.rotate){var a=void 0,c=void 0;if(o){var s=i.latitude-o.latitude,u=i.longitude-o.longitude,l=s/u||0;a=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(l)/Math.PI))*(s>0?-1:1)}else if(!this._isGetMarkerPos[n])return this._translating[n]=!0,this._invokeMethod("getMapMarker",{markerId:n,success:function(t){e._lastMarkerPos[n]=t.pos},complete:function(){e._isGetMarkerPos[n]=!0,e._translating[n]=!1;var t=e._delayTranslate[n];(null==t?void 0:t.length)&&e.translateMarker(t.shift())}}),void(this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t]);"number"==typeof this._lastMarkerDeg[n]&&(c=a-this._lastMarkerDeg[n],Math.abs(c)>180&&(c=c>0?c-360:c+360),Math.abs(c)>3&&t.autoRotate&&r.keyFrames.unshift({rotate:c,duration:Math.abs(c)<10?100:500})),(Math.abs(c)>3&&t.autoRotate||void 0===this._lastMarkerDeg[n])&&(this._lastMarkerDeg[n]=a)}else{var f=t.rotate-(this._lastMarkerDeg[n]||0);Math.abs(f)>3&&(Math.abs(f)>180&&(f=f>0?f-360:f+360),r.keyFrames.unshift({rotate:f,duration:Math.abs(f)<10?100:500}),this._lastMarkerDeg[n]=t.rotate)}o&&o.latitude===i.latitude&&o.longitude===i.longitude&&(r.keyFrames.pop(),t.autoRotate&&(r.keyFrames=[])),r.keyFrames.length>0?(this._translating[n]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout((function(){r.success(),r.complete()})),this._lastMarkerPos[n]=t.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}},{key:"includePoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.points&&e.points instanceof Array){e.points.forEach((function(e){e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)}));var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}},{key:"setIndoorFloor",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.buildingId?t.floorName?this._invokeMethod("setMapIndoorFloor",t):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}},{key:"getIndoorFloor",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapIndoorFloor",t)}},{key:"getRotate",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapRotate",t)}},{key:"getSkew",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapSkew",t)}},{key:"eraseLines",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.lines&&t.lines instanceof Array?this._invokeMethod("eraseMapLines",t):console.warn("MapContext.eraseLines: require lines")}}]),e}(),Bi=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return Reporter.reportApiCall({apiname:"createMapContext"}),new Mi(e,t,n,r)};Object(u.B)("onMapMarkerClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(dn(),e.data&&"function"==typeof p.b.webviewEventCallback){var n=JSON.parse(e.data);n.bindmarkertap&&p.b.webviewEventCallback({data:{type:"markertap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindmarkertap,webviewId:t,nodeId:n.nodeId})}})),Object(u.B)("onMapCalloutClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(dn(),e.data&&"function"==typeof p.b.webviewEventCallback){var n=JSON.parse(e.data);n.bindcallouttap&&p.b.webviewEventCallback({data:{type:"callouttap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindcallouttap,webviewId:t,nodeId:n.nodeId})}})),Object(u.B)("onMapLabelClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(dn(),e.data&&"function"==typeof p.b.webviewEventCallback){var n=JSON.parse(e.data);n.bindlabeltap&&p.b.webviewEventCallback({data:{type:"labeltap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindlabeltap,webviewId:t,nodeId:n.nodeId})}})),Object(u.B)("onMapControlClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(dn(),e.data&&"function"==typeof p.b.webviewEventCallback){var n=JSON.parse(e.data);n.bindcontroltap&&p.b.webviewEventCallback({data:{type:"controltap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{controlId:n.controlId},controlId:n.controlId},eventName:n.bindcontroltap,webviewId:t,nodeId:n.nodeId})}})),Object(u.B)("onMapRegionChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=ji["".concat(t,"_").concat(e.mapId)];(null==n?void 0:n.bindregionchange)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{type:e.type},type:e.type,causedBy:e.causedBy||""},eventName:n.bindregionchange,webviewId:t,nodeId:n.nodeId})})),Object(u.B)("onMapClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;dn();var n=ji["".concat(t,"_").concat(e.mapId)];(null==n?void 0:n.bindtap)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"tap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude}},eventName:n.bindtap,webviewId:t,nodeId:n.nodeId})})),Object(u.B)("onMapPoiClick",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;dn();var n=ji["".concat(t,"_").concat(e.mapId)];(null==n?void 0:n.bindpoitap)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{name:e.name,longitude:e.longitude,latitude:e.latitude}},eventName:n.bindpoitap,webviewId:t,nodeId:n.nodeId})}));var Li={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"};__wxConfig.onReady((function(){4!==__wxConfig.appType&&["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach((function(e){Object(u.B)(e,(function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=JSON.parse(t.data||"{}"),o=r.canvasNumber,i=r.type;if("TextView"!==i&&"ImageView"!==i)if(to.hasOwnProperty(o)){var a=to[o].data,c=function(e,t,n){var r=[],o=[];if("onTouchStart"===t){for(var i in e)r.push(e[i]);var a={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};o.push(a),r.push(a)}else if("onTouchMove"===t)for(var c in e){var s=e[c],u=!1;for(var l in n.touches){var f={x:n.touches[l].x,y:n.touches[l].y,identifier:n.touches[l].id};if(f.identifier===s.identifier&&(s.x!==f.x||s.y!==f.y)){r.push(f),o.push(f),u=!0;break}}u||r.push(s)}else if("onTouchEnd"===t){var d={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var p in e){var h=e[p];h.identifier===d.identifier?o.push(d):r.push(h)}}else if("onTouchCancel"===t)for(var v in n.touches){var g={x:n.touches[v].x,y:n.touches[v].y,identifier:n.touches[v].id};o.push(g)}else if("onLongPress"===t){var y={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var _ in e)e[_].identifier===y.identifier?r.push(y):r.push(e[_]);o.push(y)}return{touches:r,changedTouches:o}}(a.lastTouches,e,t),s=c.touches,u=c.changedTouches;a.lastTouches=s,a[e]&&"function"==typeof p.b.webviewEventCallback&&("onTouchMove"===e&&0===u.length||p.b.webviewEventCallback({data:{type:Li[e],timeStamp:new Date-a.startTime,target:a.target,touches:s,changedTouches:u},eventName:a[e],webviewId:n,nodeId:r.nodeId}))}else console.error("No such canvas ".concat(o," register in ").concat(n,", but trigger ").concat(e," event."))}))}))}));var Fi=["onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoLoadedData","onVideoLoadedMetaData","onVideoLoadStart","onVideoSeeked","onVideoSeeking","onVideoProgress"];__wxConfig.onReady((function(){u.x&&__wxConfig.useXWebVideo&&(Fi=Fi.map((function(e){return e.replace("on","onXWeb")})).concat(Fi)),4!==__wxConfig.appType&&Fi.forEach((function(e){Object(u.B)(e,(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,r="bind".concat(e.replace("XWeb","").substring(7).toLowerCase()),o=JSON.parse(t.data),i=o.handlers,a=o.event,c=o.createdTimestamp,s=o.nodeId;"onVideoFullScreenChange"===e&&Object(u.C)("videoFullScreenChange",t,[n]);var l=JSON.parse(t.data);switch(t.videoPlayerId=t.videoPlayerId||(null==l?void 0:l.videoPlayerId)||"-1000",e){case"onVideoLoadedMetaData":Object(u.C)("onVideoLoadedMetaData".concat(t.videoPlayerId),{},[n]);break;case"onVideoWaiting":Object(u.C)("onVideoWaiting".concat(t.videoPlayerId),{},[n]);break;case"onVideoError":Object(u.C)("onVideoError".concat(t.videoPlayerId),{errMsg:t.errMsg},[n]);break;case"onVideoPlay":Object(u.C)("onVideoPlay".concat(t.videoPlayerId),{},[n]);break;case"onVideoPause":Object(u.C)("onVideoPause".concat(t.videoPlayerId),{},[n]);break;case"onVideoEnded":Object(u.C)("onVideoEnded".concat(t.videoPlayerId),{},[n]);break;case"onVideoFullScreenChange":Object(u.C)("onVideoFullScreenChange".concat(t.videoPlayerId),{fullScreen:t.fullScreen},[n]);break;case"onVideoProgress":Object(u.C)("onVideoProgress".concat(t.videoPlayerId),{buffered:t.buffered},[n])}if(i[r]&&"function"==typeof p.b.webviewEventCallback){var f={type:r.substring(4),target:a.target,currentTarget:a.currentTarget,timeStamp:(t.timeStamp||Date.now())-c,detail:{}};if("bindtimeupdate"===r&&(f.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===r){var d=t.direction;d=0===d||180===d||"vertical"===d?"vertical":"horizontal",f.detail={fullScreen:t.fullScreen,direction:d}}"binderror"===r?f.detail={errMsg:t.errMsg}:"bindprogress"===r&&(f.detail={buffered:t.buffered}),p.b.webviewEventCallback({data:f,eventName:i[r],webviewId:n,nodeId:s})}}))}))})),Object(u.B)("onScrollViewScroll",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof p.b.webviewEventCallback){var n=JSON.parse(e.data);n.bindscroll&&p.b.webviewEventCallback({data:{type:"scroll",target:n.target,currentTarget:n.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-n.timeStamp},eventName:n.bindscroll,webviewId:t,nodeId:n.nodeId})}}));var Ui,qi,Wi={},Vi={},Gi={},Hi=[],Yi={},$i=new l.a,zi=new WeakMap,Ki=(Ui=[],qi=1,Object(u.E)("onOperateCameraCallback",(function(e){Ui.forEach((function(t){var n=t[0],r=t[1];n.cid===e.cid&&n.cameraId===e.cameraId&&r(e)})),Ui=[]})),function(e,t){e.cid=qi++,Ui.push([e,t])});Object(u.E)("cameraInserted",(function(e,t){var n=e.cameraId,r=e.pluginId,o=e.bindings;Wi["".concat(t,"_").concat(r)]=n,Vi["".concat(t,"_").concat(n)]=o,$i.emit("cameraInsert")})),Object(u.E)("cameraUpdated",(function(e,t){var n=e.cameraId,r=e.hidden;Gi["".concat(t,"_").concat(n)]=r})),Object(u.E)("cameraRemoved",(function(e,t){var n=e.cameraId,r=e.pluginId;delete Wi["".concat(t,"_").concat(r)],delete Vi["".concat(t,"_").concat(n)],delete Gi["".concat(t,"_").concat(n)]})),Object(d.g)((function(e){if(void 0!==a&&"function"===a.getCurrentPagesByDomain){var t=a.getCurrentPagesByDomain("").map((function(e){return e.__wxWebviewId__}));Object.keys(Wi).forEach((function(e){var n=e.split("_").shift();-1===t.indexOf(Number(n))&&(delete Vi["".concat(n,"_").concat(Wi[e])],delete Gi["".concat(n,"_").concat(Wi[e])],delete Wi[e],Yi[n]&&(Yi[n].forEach((function(e){clearTimeout(e)})),delete Yi[n]))}))}})),Object(u.B)("onCameraVideoTaken",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;Hi.forEach((function(n){n(e,t)}))}));var Ji=function(){function e(t,n){Object(u.j)(this,e),this.webviewId=t,this.pluginId=n}return Object(u.l)(e,[{key:"_invoke",value:function(e,t){t.type=e,u.y?(Ki(t,(function(n){var r=n.imageData,o=n.videoData;function i(t,n){Object(u.v)("base64ToTempFilePath",Uo({fileType:"jpg",base64Data:r},t),{beforeAll:function(r){"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}o?Object(u.v)("base64ToTempFilePath",{fileType:"webm",base64Data:o,complete:function(e){i(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):i(t)})),Object(u.C)("operateCamera",t,[this.webviewId])):Object(u.v)("operateCamera",t)}},{key:"_invokeMethod",value:function(e,t){var n=this,r="".concat(this.webviewId,"_").concat(this.pluginId);if("number"==typeof Wi[r]||Wi[r]){var o=Vi["".concat(this.webviewId,"_").concat(Wi[r])];if(o.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===o.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=Wi[r],this._invoke(e,t)}else $i.once("cameraInsert",(function(){n._invokeMethod(e,t)}))}},{key:"takePhoto",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t="".concat(this.webviewId,"_").concat(this.pluginId);if(Gi["".concat(this.webviewId,"_").concat(Wi[t])])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));this._invokeMethod("takePhoto",e)}},{key:"startRecord",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};ki({scope:"scope.record",success:function(){zi.set(e,!0),e._startRecord(t)},fail:function(){"function"==typeof t.fail&&t.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof t.complete&&t.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}},{key:"_startRecord",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(zi.get(this)){var n="".concat(this.webviewId,"_").concat(this.pluginId);if(Gi["".concat(this.webviewId,"_").concat(Wi[n])])return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r=t.timeoutCallback,o=t.fail;if(t.fail=function(t){e._isRecording=!1,clearTimeout(a),"function"==typeof o&&o(t)},this._invokeMethod("startRecord",t),!this._isRecording){this._isRecording=!0;var i="number"==typeof t.timeout?Math.max(0,t.timeout):30,a=this._timer=setTimeout((function(){e._isRecording&&(e.stopRecord({complete:r||function(){}}),e._isRecording=!1)}),1e3*i);0===i?clearTimeout(a):Yi[this.webviewId]?Yi[this.webviewId].push(a):Yi[this.webviewId]=[a];var c=this._videoTaken=function(t,n){var o="".concat(n,"_").concat(e.pluginId);if(t.cameraId===Wi[o]){var i=Hi.indexOf(c);-1<i&&Hi.splice(i,1),e._isRecording&&(delete t.cameraId,"function"==typeof r&&r(t),e._isRecording=!1,clearTimeout(a))}};Hi.push(c)}}}},{key:"stopRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Hi.indexOf(this._videoTaken);-1<t&&(Hi.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}}]),e}();function Xi(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return new Ji(t,r)}Object(u.B)("onCameraNeedAuthCancel",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Vi["".concat(t,"_").concat(e.cameraId)];(null==n?void 0:n.binderror)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"error",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:n.binderror,webviewId:t,nodeId:n.nodeId}),n&&(n.isCancelAuth=!0)})),Object(u.B)("onCameraStop",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Vi["".concat(t,"_").concat(e.cameraId)];(null==n?void 0:n.bindstop)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"stop",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{}},eventName:n.bindstop,webviewId:t,nodeId:n.nodeId})})),Object(u.B)("onCameraScanCode",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Vi["".concat(t,"_").concat(e.cameraId)];if((null==n?void 0:n.bindscancode)&&"function"==typeof p.b.webviewEventCallback){var r={data:{type:"scancode",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{type:e.type,result:e.result,rawData:e.rawData,charSet:e.charSet}},eventName:n.bindscancode,webviewId:t,nodeId:n.nodeId};"barcode"==e.type&&(delete r.data.detail.rawData,delete r.data.detail.charSet),p.b.webviewEventCallback(r)}}));var Qi={"":null},Zi=function(e,t,n){return t?void 0!==Qi["".concat(t,":").concat(e)]?n():(Object(u.w)("getPluginPermissionBytes",{pluginId:t,apiName:e},null,(function(r){Qi["".concat(t,":").concat(e)]=r.bytes,n()})),null):n()},ea=function(e,t){return t?Qi["".concat(t,":").concat(e)]:null},ta=u.y,na={},ra={},oa={},ia={},aa=new l.a,ca=new l.a,sa={},ua={},la=new WeakMap,fa={},da={},pa=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot"],ha={},va={};Object(u.E)("xWebLivePlayerSupported",(function(e,t){var n=e.insert2XWebEnabled,r=e.viewId;va["".concat(t,"_").concat(r)]=n})),["xWebLivePlayerInsert","livePlayerInsert"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.domId,r=e.playerId||e.viewId,i=e.pluginId,a=e.data,c=e.nodeId,s="".concat(t,"_").concat(i,"_").concat(n,"_");c&&c!==o.getRootNodeId(t)&&(s+=c),na[s]=r,oa["".concat(t,"_").concat(r)]=a||{},Zi("operateLivePlayer",i,(function(){aa.emit("livePlayerInsert")})),function(e){sa[e]||(sa[e]=!0,Object(d.i)(e,(function(e){delete sa[e],Object.keys(na).forEach((function(t){new RegExp("^".concat(e)).test(t)&&(delete oa["".concat(e,"_").concat(na[t])],delete na[t])})),delete ka[e]})))}(t),function(e){var t=ka[e];if(ka[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];Aa(r[0],r[1],r[2])}}(t)}))})),["xWebExternalElementInserted","externalElementInserted"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.externalElementId||e.viewId,r=e.data,o=e.domId,i=e.pluginId,a="".concat(t,"_").concat(o);ra[a]=n,ia["".concat(t,"_").concat(n)]=r||{},Zi("operateExternalElement",i,(function(){ca.emit("externalElementInserted")})),function(e){ua[e]||(ua[e]=!0,Object(d.i)(e,(function(e){delete ua[e],Object.keys(ra).forEach((function(t){new RegExp("^".concat(e)).test(t)&&(delete ia["".concat(e,"_").concat(ra[t])],delete ra[t])})),delete ha[e]})))}(t),function(e){var t=ha[e];if(ha[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];xa(r[0],r[1],r[2])}}(t)}))})),["xWebLivePlayerRemoved","livePlayerRemoved"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.domId,r=e.playerId||e.viewId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),delete na[c],delete oa["".concat(t,"_").concat(r)];var s="SQ_".concat(t,"_").concat(r);delete fa["api_".concat(n,"_").concat(t,"_").concat(a,"_").concat(i)],delete fa[s]}))})),["xWebExternalElementRemoved","externalElementRemoved"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.domId,r=e.externalElementId||e.viewId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),delete na[c],delete oa["".concat(t,"_").concat(r)];var s="SQ_".concat(t,"_").concat(r);delete da["api_".concat(n,"_").concat(t,"_").concat(a,"_").concat(i)],delete da[s]}))}));var ga=u.x&&__wxConfig.useXWebLive,ya=u.x&&__wxConfig.useXWebElement;__wxConfig.onReady((function(){ga=u.x&&__wxConfig.useXWebLive,ya=u.x&&__wxConfig.useXWebElement}));var _a=function e(){Object(u.j)(this,e)},ba=function(){function e(){var t=this;Object(u.j)(this,e);var n=this.exportContext=new _a;pa.forEach((function(e){return n[e]=t[e].bind(t)}))}return Object(u.l)(e,[{key:"play",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this._getAppStatus();t===p.a.LOCK||t===p.a.BACK_GROUND||this._invokeMethod("play",[],e)}},{key:"stop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("stop",[],e)}},{key:"mute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("mute",[],e)}},{key:"pause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("pause",[],e)}},{key:"resume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("resume",[],e)}},{key:"requestFullScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.direction;if(ta)return console.warn("开发者工具暂不支持 LivePlayerContext.requestFullScreen 接口，请到客户端调试。"),"function"==typeof e.fail&&e.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof e.complete&&e.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));var n=this._getPlayerId(),r=this.webviewId;va["".concat(r,"_").concat(n)]?this._invokeWebviewMethod("xWebLivePlayerRequestFullScreen",{direction:e.direction},e):(-1<[0,90,-90].indexOf(t)?this._invokeMethod("requestFullScreen",[t],e):this._invokeMethod("requestFullScreen",[],e),la.set(this,!0))}},{key:"exitFullScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(ta)return console.warn("开发者工具暂不支持 LivePlayerContext.exitFullScreen 接口，请到客户端调试。"),"function"==typeof e.fail&&e.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof e.complete&&e.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));var t=this._getPlayerId(),n=this.webviewId;va["".concat(n,"_").concat(t)]?this._invokeWebviewMethod("xWebLivePlayerExitFullScreen",[],e):(this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),la.set(this,!1))}},{key:"showStatusBar",value:function(){Object(u.v)("showStatusBar",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!la.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}Object(u.v)("hideStatusBar",e)}},{key:"snapshot",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(ta)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),"function"==typeof t.fail&&t.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof t.complete&&t.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));this._invokeMethod("snapshot",[],t)}},{key:"_getPlayerId",value:function(){var e="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId);return na[e]}},{key:"_invokeWebviewMethod",value:function(e,t,n){var r="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId),o=na[r];"function"==typeof n.success&&setTimeout((function(){n.success({errMsg:"operateLivePlayer:ok"})}),0),"function"==typeof n.complete&&setTimeout((function(){n.complete({errMsg:"operateLivePlayer:ok"})}),0),Object(u.C)(e,_extends({viewId:o},t),[this.webviewId])}},{key:"_invokeMethodWithId",value:function(e,t,n,r){var o=this;if("number"==typeof e&&void 0!==ea("operateLivePlayer",this.pluginId)){var i=r.success;ta&&(r.type=t,r.playerId=e,r.permissionBytes=ea("operateLivePlayer",this.pluginId)||void 0,i=function(e){Object(u.C)("operateLivePlayer",r,[o.webviewId]),"function"==typeof r.success&&r.success(e)});var a=ga?"operateXWebLivePlayer":"operateLivePlayer",c=ga?{viewId:e}:{livePlayerId:e};Object(u.v)(a,_extends({data:n,type:t,permissionBytes:ea("operateLivePlayer",this.pluginId)||void 0,success:i,fail:r.fail,complete:r.complete},c))}else aa.once("livePlayerInsert",(function(){o._invokeMethod(t,n,r)}))}},{key:"_getAppStatus",value:function(){return p.b.appStatus}},{key:"_getHanged",value:function(){return p.b.hanged}}]),e}(),ma=function(e){function t(e,n,r,o){var i;if(Object(u.j)(this,t),i=Ho(this,Yo(t).call(this)),"string"!=typeof e)throw new ti("Parameter 1 should be a string");return i.domId=e,i.webviewId=n,i.nodeId=r,i.pluginId=o,i}return zo(t,ba),Object(u.l)(t,[{key:"_invokeMethod",value:function(e,t,n){var r="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId),o=na[r];this._invokeMethodWithId(o,e,t,n)}}]),t}(),wa=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.domId=t,this.webviewId=n,this.nodeId=r;var o=this;this.exportContext={call:function(e){var t=this,n="".concat(o.webviewId,"_").concat(o.domId),r=ra[n];if("number"==typeof r&&void 0!==ea("operateExternalElement",o.pluginId)){var i=ya?"operateXWebExternalElement":"operateExternalElement",a=ya?{viewId:r}:{externalElementId:r},c=e.success,s=e.fail,l=e.complete,f=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["success","fail","complete"]);Object(u.v)(i,_extends({data:f,type:"call",permissionBytes:ea("operateExternalElement",this.pluginId)||void 0,success:c,fail:s,complete:l},a))}else ca.once("externalElementInserted",(function(){t.call(e)}))}}},Sa=function(e){function t(e,n){var r;return Object(u.j)(this,t),(r=Ho(this,Yo(t).call(this))).playerId=e,r.webviewId=n,r}return zo(t,ba),Object(u.l)(t,[{key:"_invokeMethod",value:function(e,t,n){var r=this.playerId;this._invokeMethodWithId(r,e,t,n)}}]),t}();function Oa(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o="api_".concat(e,"_").concat(t,"_").concat(n,"_").concat(r);if(fa[o])return fa[o].exportContext;var i=new ma(e,t,n,r);return(fa[o]=i).exportContext}function Ca(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="api_".concat(e,"_").concat(t,"_").concat(n);if(da[r])return da[r].exportContext;var o=new wa(e,t,n);return(da[r]=o).exportContext}function Ia(e,t){var n="SQ_".concat(t,"_").concat(e);if(fa[n])return fa[n].exportContext;var r=new Sa(e,t);return(fa[n]=r).exportContext}var Ea={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus",onLivePlayerAudioVolumeNotify:"bindaudiovolumenotify",onLivePlayerMetadata:"bindmetadatachange"},Ta={onXWebLivePlayerEvent:"bindstatechange",onXWebLivePlayerNetStatus:"bindnetstatus",onXWebLivePlayerAudioVolume:"bindaudiovolumenotify",onXWebLivePlayerMetadata:"bindmetadatachange"},ka={};function Aa(e,t,n){var r=t.viewId||t.livePlayerId,o=va["".concat(n,"_").concat(r)],i=oa["".concat(n,"_").concat(r)],a=o?Ta[e]:Ea[e];if(!i)return ka[n]=ka[n]||[],void ka[n].push([e,t,n]);if(i.handlers[a]&&"function"==typeof p.b.webviewEventCallback){var c={};switch(e){case"onLivePlayerEvent":case"onXWebLivePlayerEvent":c.code=t.errCode,c.message=t.errMsg,Object(u.C)("onLivePlayerStateChange".concat(t.livePlayerId),{code:t.errCode},[n]);break;case"onLivePlayerAudioVolumeNotify":c.volume=t.info.volume,Object(u.C)("onLivePlayerAudioVolumeNotify".concat(t.livePlayerId),{volume:c.volume},[n]);break;case"onLivePlayerNetStatus":case"onXWebLivePlayerNetStatus":t.info=t.info||{},c.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT},Object(u.C)("onLivePlayerNetStatusChange".concat(t.livePlayerId),{info:c.info},[n]);break;case"onLivePlayerAudioVolume":case"onXWebLivePlayerAudioVolume":c.volume=t.volume||t.info.volume;break;case"onLivePlayerMetadata":case"onXWebLivePlayerMetadata":c.code=t.errCode,c.message=t.errMsg}if(o&&("onXWebLivePlayerEvent"===e||"onXWebLivePlayerNetStatus"===e)){var s=t.info;"onXWebLivePlayerEvent"===e&&(s={code:t.errCode,message:t.errMsg}),Object(u.C)("xWebLivePlayerStateChange",{type:e,detail:{info:s},viewId:t.viewId},[n])}p.b.webviewEventCallback({data:{type:a.replace("bind",""),target:i.target,currentTarget:i.target,timeStamp:Date.now()-i.createdTimeStamp,touches:[],detail:c},eventName:i.handlers[a],webviewId:n,nodeId:i.nodeId})}}function xa(e,t,n){var r=t.viewId||t.externalElementId;n||(console.warn("dispatchExternalElementEvent no webviewId"),n=Object.keys(ia)[0].split("_")[0]);var o="".concat(n,"_").concat(r),i=ia[o];if(!i)return ha[n]=ha[n]||[],void ha[n].push([e,t,n]);"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"bindexternalelementevent".replace("bind",""),target:i.target,currentTarget:i.target,timeStamp:Date.now()-i.createdTimeStamp,touches:[],detail:t},eventName:i.handlers.bindexternalelementevent,webviewId:n,nodeId:i.nodeId})}["onLivePlayerEvent","onLivePlayerNetStatus","onLivePlayerAudioVolumeNotify","onLivePlayerMetadata"].concat(["onXWebLivePlayerEvent","onXWebLivePlayerNetStatus","onXWebLivePlayerAudioVolume","onXWebLivePlayerMetadata"]).forEach((function(e){Object(u.B)(e,(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;Aa(e,t,n)}))})),["onExternalElementEvent","onXWebExternalElementEvent"].forEach((function(e){Object(u.B)(e,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;xa(e,t,n)}))})),Object(u.E)("xWebLivePlayerFullScreenEvent",(function(e,t){var n=e.viewId,r=e.data,o=oa["".concat(t,"_").concat(n)];(null==o?void 0:o.handlers.bindfullscreenchange)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"fullscreenchange",target:o.target,currentTarget:o.target,timeStamp:Date.now()-o.createdTimeStamp,touches:[],detail:{fullScreen:r.fullScreen,direction:0===r.direction||180===r.direction||"vertical"===r.direction?"vertical":"horizontal"}},eventName:o.handlers.bindfullscreenchange,webviewId:t,nodeId:o.nodeId})})),Object(u.B)("onLivePlayerFullScreenChange",(function(e,t){Object(u.C)("videoFullScreenChange",e,[t]),Object(u.C)("videoFullScreenChange".concat(e.livePlayerId),{fullScreen:e.fullScreen},[t]);var n=oa["".concat(t,"_").concat(e.livePlayerId)];(null==n?void 0:n.handlers.bindfullscreenchange)&&"function"==typeof p.b.webviewEventCallback&&p.b.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:t,nodeId:n.nodeId})}));var Pa={},ja={},Na=new l.a,Da={};function Ra(e,t){var n,r,o,i=this,a="".concat(this.webviewId,"_").concat(this.pluginId);"number"==typeof Pa[a]?(ga?t.viewId=Pa[a]:t.livePusherId=Pa[a],t.type=e,n=e,r=t,o=ga?"operateXWebLivePusher":"operateLivePusher",u.y?console.warn("开发者工具暂不支持调用 LivePusherContext.".concat(n," 方法")):Object(u.v)(o,r)):Na.once("livePusherInserted",(function(){Ra.call(i,e,t)}))}["xWebLivePusherInserted","livePusherInserted"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.viewId,r=e.pusherId,o=n||r,i=e.pluginId,a=e.data,c="".concat(t,"_").concat(i);Pa[c]=o,ja["".concat(t,"_").concat(o)]=a,Zi("operateLivePusher",i,(function(){Na.emit("livePusherInserted")})),function(e){Da[e]||(Da[e]=!0,Object(d.i)(e,(function(e){delete Da[e],Object.keys(Pa).forEach((function(t){new RegExp("^".concat(e)).test(t)&&(delete ja["".concat(e,"_").concat(Pa[t])],delete Pa[t])})),delete Ua[e]})))}(t),function(e){var t=Ua[e];if(Ua[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];qa(r[0],r[1],r[2])}}(t)}))})),["xWebLivePusherRemoved","livePusherRemoved"].forEach((function(e){Object(u.E)(e,(function(e,t){var n=e.pusherId,r=e.pluginId,o=e.viewId,i=ga?o:n;delete Pa["".concat(t,"_").concat(r)],delete ja["".concat(t,"_").concat(i)]}))}));var Ma=function(){function e(t,n){Object(u.j)(this,e),this.webviewId=t,this.pluginId=n}return Object(u.l)(e,[{key:"start",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"start",e)}},{key:"stop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"stop",e)}},{key:"pause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"pause",e)}},{key:"resume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"resume",e)}},{key:"switchCamera",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"switchCamera",e)}},{key:"snapshot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"snapshot",e)}},{key:"toggleTorch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"toggleTorch",e)}},{key:"playBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("LivePusherContext.playBGM",e,{url:""})&&Ra.call(this,"playBGM",e)}},{key:"stopBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"stopBGM",e)}},{key:"pauseBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"pauseBGM",e)}},{key:"resumeBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"resumeBGM",e)}},{key:"setBGMVolume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("LivePusherContext.setBGMVolume",e,{volume:0})&&Ra.call(this,"setBGMVolume",e)}},{key:"startPreview",value:function(e){Ra.call(this,"startPreview",e||{})}},{key:"stopPreview",value:function(e){Ra.call(this,"stopPreview",e||{})}},{key:"setMICVolume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("LivePusherContext.setMICVolume",e,{volume:0})&&Ra.call(this,"setMICVolume",e)}},{key:"setAudioVolumeType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("LivePusherContext.setAudioVolumeType",e,{audioVolumeType:0})&&Ra.call(this,"setAudioVolumeType",e)}},{key:"setAudioReverbType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("LivePusherContext.setAudioReverbType",e,{audioReverbType:0})&&Ra.call(this,"setAudioReverbType",e)}},{key:"setBGMPosition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"setBGMPosition",e)}},{key:"sendMessage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"sendMessage",e)}},{key:"startAudioRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.maxDuration=6e4,Ra.call(this,"startAudioRecord",e)}},{key:"stopAudioRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Ra.call(this,"stopAudioRecord",e)}}]),e}();function Ba(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return new Ma(t,r)}var La={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus",onLivePusherBGMStart:"bindbgmstart",onLivePusherBGMProgress:"bindbgmprogress",onLivePusherBGMComplete:"bindbgmcomplete",onLivePusherError:"binderror"},Fa={onXWebLivePusherEvent:"bindstatechange",onXWebLivePusherNetStatus:"bindnetstatus",onXWebLivePusherBGMStart:"bindbgmstart",onXWebLivePusherBGMProgress:"bindbgmprogress",onXWebLivePusherBGMComplete:"bindbgmcomplete",onXWebLivePusherError:"binderror"},Ua={};function qa(e,t,n){var r=t.viewId||t.livePusherId,o=ja["".concat(n,"_").concat(r)],i=ga?Fa[e]:La[e];if(!o)return Ua[n]=Ua[n]||[],void Ua[n].push([e,t,n]);if(o.handlers[i]&&"function"==typeof p.b.webviewEventCallback){var a={};switch(e){case"onLivePusherEvent":case"onXWebLivePusherEvent":a.code=t.errCode,a.message=t.errMsg,Object(u.C)("onLivePusherStateChange".concat(t.livePusherId),{code:t.errCode},[n]);break;case"onLivePusherNetStatus":case"onXWebLivePusherNetStatus":t.info=t.info||{},a.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT},Object(u.C)("onLivePusherNetStatusChange".concat(t.livePusherId),{info:a.info},[n]);break;case"onLivePusherBGMProgress":case"onXWebLivePusherBGMProgress":a.progress=t.progress,a.duration=t.duration;break;case"onLivePusherBGMComplete":case"onXWebLivePusherBGMComplete":a.errCode=t.errCode;break;case"onLivePusherError":case"onXWebLivePusherError":a.errCode=t.errCode,a.errMsg=t.errMsg,a.data=t.data,Object(u.C)("onLivePusherError".concat(t.livePusherId),{errcode:t.errcode},[n])}if("onXWebLivePusherEvent"===e){var c={code:t.errCode,message:t.errMsg};Object(u.C)("xWebLivePusherStateChange",{type:e,detail:{info:c},viewId:t.viewId},[n])}p.b.webviewEventCallback({data:{type:i.replace("bind",""),target:o.target,currentTarget:o.target,timeStamp:Date.now()-o.createdTimeStamp,touches:[],detail:a},eventName:o.handlers[i],webviewId:n,nodeId:o.nodeId})}}["onLivePusherEvent","onLivePusherNetStatus","onLivePusherBGMStart","onLivePusherBGMProgress","onLivePusherBGMComplete","onLivePusherError"].concat(["onXWebLivePusherEvent","onXWebLivePusherNetStatus","onXWebLivePusherBGMStart","onXWebLivePusherBGMProgress","onXWebLivePusherBGMComplete","onXWebLivePusherError"]).forEach((function(e){Object(u.B)(e,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;qa(e,t,n)}))}));var Wa={},Va=new l.a,Ga={};Object(u.E)("audioInsert",(function(e,t){var n,r=e.audioId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(r,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),Wa[c]=!0,Va.emit("audioInsert_".concat(c)),Ga[n=t]||(Ga[n]=!0,Object(d.i)(n,(function(e){delete Ga[e],Object.keys(Wa).forEach((function(t){new RegExp("^".concat(e)).test(t)&&delete Wa[t]}))})))})),Object(u.E)("audioRemove",(function(e,t){var n=e.audioId,r=e.pluginId,i=e.nodeId,a="".concat(t,"_").concat(r,"_").concat(n,"_");i&&i!==o.getRootNodeId(t)&&(a+=i),delete Wa[a]}));var Ha=function(){function e(t,n,r,o){if(Object(u.j)(this,e),"string"!=typeof t)throw new ti("Parameter 1 should be a string");this.audioId=t,this.webviewId=n,this.pluginId=o,this.nodeId=r}return Object(u.l)(e,[{key:"setSrc",value:function(e){this._sendAction({method:"setSrc",data:e})}},{key:"play",value:function(){var e=this._getAppStatus();this._getHanged(),e===p.a.LOCK||this._sendAction({method:"play"})}},{key:"pause",value:function(){this._sendAction({method:"pause"})}},{key:"seek",value:function(e){this._sendAction({method:"setCurrentTime",data:e})}},{key:"_ready",value:function(e){var t="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.audioId,"_").concat(this.nodeId);Wa[t]?e():Va.on("audioInsert_".concat(t),(function(){e()}))}},{key:"_sendAction",value:function(e){var t=this;this._ready((function(){Object(u.C)("audio_".concat(t.pluginId,"_").concat(t.audioId,"_").concat(t.nodeId,"_actionChanged"),e,[t.webviewId])}))}}]),e}();function Ya(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=new Ha(e,t,n,r);return o._getAppStatus=function(){return p.b.appStatus},o._getHanged=function(){return p.b.hanged},d.b.call(this,(function(){o.pause()})),o}var $a=u.y,za={},Ka=new l.a,Ja={},Xa=new WeakMap,Qa={},Za=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar"];function ec(e){Ja[e]||(Ja[e]=!0,Object(d.i)(e,(function(e){delete Ja[e],Object.keys(za).forEach((function(t){new RegExp("^".concat(e)).test(t)&&delete za[t]}))})))}Object(u.E)("videoPlayerInsert",(function(e,t){var n=e.domId,r=e.videoPlayerId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),za[c]=r,Ka.emit("videoPlayerInsert"),ec(t)})),Object(u.E)("xWebVideoInserted",(function(e,t){var n=e.domId,r=e.viewId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),za[c]=r,Ka.emit("videoPlayerInsert"),ec(t)})),Object(u.E)("videoPlayerRemoved",(function(e,t){var n=e.domId,r=e.videoPlayerId,i=e.pluginId,a=e.nodeId,c="".concat(t,"_").concat(i,"_").concat(n,"_");a&&a!==o.getRootNodeId(t)&&(c+=a),delete za[c];var s="SQ_".concat(t,"_").concat(r);delete Qa["api_".concat(n,"_").concat(t,"_").concat(a,"_").concat(i)],delete Qa[s]})),Object(u.E)("xWebVideoRemoved",(function(e,t){var n=e.domId,r=e.pluginId,i=e.nodeId,a="".concat(t,"_").concat(r,"_").concat(n,"_");i&&i!==o.getRootNodeId(t)&&(a+=i),delete za[a]})),Object(u.E)("xWebVideoSupported",(function(e){var t=e.isXWebSupported;__wxConfig.useXWebVideo=__wxConfig.useXWebVideo&&t})),__wxConfig.onReady((function(){__wxConfig.global&&__wxConfig.global.window&&"seperated"===__wxConfig.global.window.renderingMode&&(__wxConfig.useXWebVideo=!1)}));var tc=function e(){Object(u.j)(this,e)},nc=function(){function e(){var t=this;Object(u.j)(this,e);var n=this.exportContext=new tc;Za.forEach((function(e){return n[e]=t[e].bind(t)}))}return Object(u.l)(e,[{key:"play",value:function(){var e=this._getAppStatus();e===p.a.LOCK||e===p.a.BACK_GROUND||this._invokeMethod("play")}},{key:"pause",value:function(){this._invokeMethod("pause")}},{key:"stop",value:function(){this._invokeMethod("stop")}},{key:"seek",value:function(e){this._invokeMethod("seek",[e])}},{key:"sendDanmu",value:function(e){var t=e.text,n=e.color;this._invokeMethod("sendDanmu",[t,n])}},{key:"playbackRate",value:function(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e||this._invokeMethod("playbackRate",[e])}},{key:"requestFullScreen",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).direction;-1<[0,90,-90].indexOf(e)?this._invokeMethod("requestFullScreen",[e]):this._invokeMethod("requestFullScreen"),Xa.set(this,!0)}},{key:"exitFullScreen",value:function(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),Xa.set(this,!1)}},{key:"showStatusBar",value:function(){Object(u.v)("showStatusBar",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u.x){var t="hideStatusBar:ok";return"function"==typeof e.success&&e.success({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}if(!Xa.get(this)){var n="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:n}),void("function"==typeof e.complete&&e.complete({errMsg:n}))}Object(u.v)("hideStatusBar",e)}},{key:"_invokeMethodWithId",value:function(e,t,n){var r=this;"number"==typeof e?function(){$a?(this.action={method:t,data:n},this._sendAction(e)):u.x&&__wxConfig.useXWebVideo?-1<["requestFullScreen","exitFullScreen","sendDanmu","seek","stop"].indexOf(t)?Object(u.C)("video_".concat(this.webviewId,"_").concat(e,"_actionChanged"),{method:t,data:n},[this.webviewId]):Object(u.v)("operateXWebVideo",{viewId:e,type:t,data:n}):Object(u.v)("operateVideoPlayer",{data:n,videoPlayerId:e,type:t})}.apply(this):Ka.once("videoPlayerInsert",(function(){r._invokeMethod(t,n)}))}},{key:"_sendActionWithEvnetName",value:function(e){Object(u.C)(e,this.action,[this.webviewId])}},{key:"_getAppStatus",value:function(){return p.b.appStatus}},{key:"_getHanged",value:function(){return p.b.hanged}}]),e}(),rc=function(e){function t(e,n,r,o){var i;if(Object(u.j)(this,t),i=Ho(this,Yo(t).call(this)),"string"!=typeof e)throw new ti("Parameter 1 should be a string");return i.domId=e,i.webviewId=n,i.pluginId=o,i.nodeId=r,i}return zo(t,nc),Object(u.l)(t,[{key:"_invokeMethod",value:function(e,t){var n="".concat(this.webviewId,"_").concat(this.pluginId,"_").concat(this.domId,"_").concat(this.nodeId),r=za[n];this._invokeMethodWithId(r,e,t)}},{key:"_sendAction",value:function(e){this._sendActionWithEvnetName("video_".concat(this.pluginId,"_").concat(this.domId,"_").concat(e,"_").concat(this.nodeId,"_actionChanged"))}}]),t}(),oc=function(e){function t(e,n){var r;return Object(u.j)(this,t),(r=Ho(this,Yo(t).call(this))).videoPlayerId=e,r.webviewId=n,r}return zo(t,nc),Object(u.l)(t,[{key:"_invokeMethod",value:function(e,t){var n=this.videoPlayerId;this._invokeMethodWithId(n,e,t)}},{key:"_sendAction",value:function(e){this._sendActionWithEvnetName("video_selector_query_".concat(e,"_actionChanged"))}}]),t}();function ic(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o="api_".concat(e,"_").concat(t,"_").concat(n,"_").concat(r);if(Qa[o])return Qa[o].exportContext;var i=new rc(e,t,n,r);return(Qa[o]=i).exportContext}function ac(e,t){var n="SQ_".concat(t,"_").concat(e);if(Qa[n])return Qa[n].exportContext;var r=new oc(e,t);return(Qa[n]=r).exportContext}d.b.call(void 0,(function(){Object.keys(Qa).forEach((function(e){Qa[e].pause()}))}));var cc="undefined"!=typeof NativeGlobal?NativeGlobal:{},sc=0,uc=new WeakMap,lc=new WeakMap,fc=new WeakMap,dc=new WeakMap,pc=new WeakMap,hc=new WeakMap,vc=new WeakMap,gc=new WeakMap,yc={},_c=new l.a,bc=function(){function e(t,n){var r=n.taskType,o=n.beforeSend,i=n.beforeSuccess;Object(u.j)(this,e);var a=sc++;uc.set(this,a),fc.set(this,"waiting"),dc.set(this,t),pc.set(this,r),vc.set(this,o),gc.set(this,i),function(){var e=pc.get(this);return yc[e].currentTaskCount>=yc[e].maxTaskCount}.call(this)?yc[r].taskQueue.push({id:a,item:this}):mc.call(this)}return Object(u.l)(e,[{key:"abort",value:function(){var e=this;if("waiting"===fc.get(this)){var t=yc[pc.get(this)].taskQueue.findIndex((function(t){return t.id===uc.get(e)}));-1<t&&(yc[pc.get(this)].taskQueue.splice(t,1),yc[pc.get(this)].currentTaskCount-=1),fc.set(this,"done")}else{var n;Object(u.v)("operate".concat(pc.get(this),"Task"),(Object(u.D)(n={},"".concat(pc.get(this).toLowerCase(),"TaskId"),lc.get(this)),Object(u.D)(n,"operationType","abort"),n))}}},{key:"onProgressUpdate",value:function(e){var t=this;_c.on("".concat(String(pc.get(this))+lc.get(this),"progressUpdate"),(function(n){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at ".concat(pc.get(t),"Task.onProgressUpdate callback function"))(n)}))}},{key:"offProgressUpdate",value:function(e){"function"==typeof e?_c.off("".concat(String(pc.get(this))+lc.get(this),"progressUpdate"),e):_c.removeAllListeners("".concat(String(pc.get(this))+lc.get(this),"progressUpdate"))}},{key:"onHeadersReceived",value:function(e){var t=this;_c.on("".concat(String(pc.get(this))+lc.get(this),"headersReceived"),(function(n){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at ".concat(pc.get(t),"Task.onHeadersReceived callback function"))(n)}))}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?_c.off("".concat(String(pc.get(this))+lc.get(this),"headersReceived"),e):_c.removeAllListeners("".concat(String(pc.get(this))+lc.get(this),"headersReceived"))}}]),e}();function mc(){var e=dc.get(this),t=pc.get(this);fc.set(this,"sending"),hc.set(this,Date.now());var n=function(){var e,t=this,n=pc.get(this),r=dc.get(this),o={data:r.data,url:r.url,header:r.header,method:r.method,__skipDomainCheck__:r.__skipDomainCheck__,success:function(e){var r=e["".concat(n.toLowerCase(),"TaskId")];lc.set(t,r),yc[n].currentTaskCount+=1,yc[n].taskIdMap[r]=t},fail:function(o){e=o.errMsg,wc.call(t,{taskType:n,options:r,errMsg:e,success:!1})},complete:function(){fc.set(t,"done")}};return Object(u.v)("create".concat(n,"Task"),vc.get(this)(o)),e}.call(this);n?Object(u.e)(yc[t].functionName,{success:e.success,fail:e.fail,complete:e.complete},!1,n):function(){var e=this,t=lc.get(this),n=dc.get(this),r=pc.get(this),o=yc[r].functionName;_c.on("".concat(String(r)+t,"success"),(function(t){gc.get(e).call(e,t),Object(u.e)(o,{success:n.success,fail:n.fail,complete:n.complete},!0,null,null,t)})),_c.on("".concat(String(r)+t,"fail"),(function(e){Object(u.e)(o,{success:n.success,fail:n.fail,complete:n.complete},!1,e.errMsg)}))}.call(this)}function wc(e){var t=e.taskType,n=e.options,r=e.errMsg,o=e.success,i=void 0===o||o,a=e.dataLength,c=void 0===a?0:a,s=n.url,u=i?1:2,l=Date.now()-hc.get(this),f=n.__skipDomainCheck__;de.batchReportRealtimeAction(yc[t].functionName,s,u,l,r,"",f,c)}function Sc(e,t){var n="".concat(t.toLowerCase(),"TaskId"),r=e[n],o=e.state;if(delete e.state,delete e[n],_c.emit(String(t)+r+o,e),"success"===o||"fail"===o){yc[t].currentTaskCount-=1,0<yc[t].taskQueue.length&&mc.call(yc[t].taskQueue.shift().item);var i=yc[t].taskIdMap[r],a=dc.get(i);i&&(wc.call(i,{taskType:t,options:a,errMsg:e.errMsg,success:"success"===o?1:2,dataLength:Object(u.r)(a.data)}),function(){var e=pc.get(this),t=lc.get(this);delete yc[e].taskIdMap[t],_c.removeAllListeners("".concat(String(e)+t,"success")),_c.removeAllListeners("".concat(String(e)+t,"fail")),_c.removeAllListeners("".concat(String(e)+t,"complete"))}.call(i))}}function Oc(e,t){var n=this,r=yc[e]?yc[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Object(u.B)("on".concat(e,"TaskStateChange"),(function(t){Sc.call(n,t,e)})),yc[e]=_extends(r,t)}var Cc=Object(f.a)("AudioInterruptionBegin"),Ic=(Cc.onMethod,Cc.offMethod,Cc.internalOnMethod,Cc.internalOffMethod,Object(f.a)("AudioInterruptionEnd")),Ec=(Ic.onMethod,Ic.offMethod,Ic.internalOnMethod,Ic.internalOffMethod,!1);Object(u.B)("onAudioInterruptionBegin",(function(e){!1===Ec&&Cc.emit(e)})),Object(u.B)("onAudioInterruptionEnd",(function(e){!1===Ec&&Ic.emit(e)}));var Tc=function(){return Ec},kc=new WeakMap,Ac=new WeakMap,xc=new WeakMap,Pc=new WeakMap,jc=new WeakMap,Nc=new WeakMap,Dc=new Set,Rc=new Map,Mc={};cc.EventHandler&&(cc.EventHandler.onbindingobjectdestruct=function(e){var t=Mc[e];Object(u.v)("getAudioState",{audioId:t,success:function(e){Dc.delete(t),!0===e.paused&&Object(u.v)("destroyAudioInstance",{audioId:t,complete:function(e){}})}})});var Bc=function(e,t){var n=this;Ac.set(this,_extends(Ac.get(this),Object(u.D)({},e,t))),"src"===e&&Ac.set(this,_extends(Ac.get(this),{paused:!0})),Pc.get(this)&&(setTimeout((function(){Uo(Uo({},Ac.get(n)),jc.get(n)),kc.get(n);var r=Uo(Uo(Uo({},Ac.get(n)),jc.get(n)),{},{timestamp:Date.now(),audioId:kc.get(n),success:function(){Ac.set(n,_extends(Ac.get(n),Object(u.D)({},e,t)))},fail:function(){Lc.call(n)},complete:function(e){}});Tc()&&(r.autoplay=!1),Object(u.v)("setAudioState",r),Pc.set(n,!0)}),0),Pc.set(this,!1)),jc.set(this,_extends(jc.get(this),Object(u.D)({},e,t))),Ac.get(this)},Lc=function(e,t){var n=this,r=Ac.get(this)[e];return Object(u.v)("getAudioState",{audioId:kc.get(this),success:function(o){delete o.errMsg,Ac.set(n,_extends(Ac.get(n),o)),r=o[e],"function"==typeof t&&t(r)}}),r},Fc=function(e){var t=kc.get(this);Object(u.v)("operateAudio",Uo({timestamp:Date.now(),audioId:t,fail:function(e){var t=e.errMsg;Gc("error",{errMsg:t,errCode:-1})}},e),{beforeAll:function(t){e.operationType}})},Uc=function(){};__wxConfig.onReady((function(){Uc=function(e){var t,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=__wxConfig.appLaunchInfo,c="";c=Object.keys(a.query||[]).map((function(e){return"".concat(e,"=").concat(a.query[e])})).join("&"),c=encodeURIComponent(c);var s=[Math.round(Date.now()/1e3),a.scene,"",a.sessionid||a.sessionId,a.path,c,de._getCurrentNetworkType(),(null===(t=n)||void 0===t||null===(r=t.version)||void 0===r?void 0:r.version)||"",5,o,i,e].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:s})}}));var qc=new l.a;Object(u.B)("onAudioStateChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.state=e.state.toLowerCase();var t=e.state,n=e.audioId;delete e.audioId,delete e.state,qc.emit("".concat(n,"_onAudioStateChange_").concat(t),e);var r=Rc.get(n);Lc.call(r,"src",(function(){var n=Ac.get(r),o=parseInt(n.currentTime/1e3),i=parseInt(n.duration/1e3);switch(t){case"canplay":Uc(n.src,121,[n.autoplay?2:1,i].join(";"));break;case"waiting":Uc(n.src,122,[o,i,n.buffered].join(";"));break;case"ended":Uc(n.src,123,n.duration);break;case"error":Uc(n.src,124,e.errCode);break;case"seeking":Uc(n.src,125,[o,i,n.buffered].join(";"))}}))}));var Wc,Vc=function(e,t){var n="".concat(kc.get(this),"_onAudioStateChange_").concat(e);if("function"==typeof t){var r=Nc.get(t);qc.off(n,r)}else qc.removeAllListeners(n)},Gc=function(e,t){qc.emit("".concat(kc.get(this),"_onAudioStateChange_").concat(e),t)},Hc=function(){function e(){var t,n=this;if(Object(u.j)(this,e),Ac.set(this,{}),jc.set(this,{}),xc.set(this,void 0),Pc.set(this,!0),Object(u.v)("createAudioInstance",{timestamp:Date.now(),success:function(e){if(Dc.add(e.audioId),kc.set(n,e.audioId),Rc.set(e.audioId,n),Ac.set(n,{src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0}),cc.BindingObject){var t=new cc.BindingObject;n.__bindingObject=t,Mc[t.__id]=e.audioId}else Object(u.I)(cc.BindingObject)},fail:function(e){t=e.errMsg},complete:function(e){}}),t)throw new Error(t);["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach((function(e){n["on".concat(e)]=function(t){(function(e,t){var n=this,r="".concat(kc.get(this),"_onAudioStateChange_").concat(e),o=function(r){"play"!==e&&"stop"!==e&&"pause"!==e||Object(u.C)("client_audio_state_change",{play:"play"===e,audioId:kc.get(n)});var o="play"!==e;Ac.set(n,_extends(Ac.get(n),{paused:o})),Reporter.surroundThirdByTryCatch(t,"at audioContext.on".concat(e," callback function"))(r)};Nc.set(t,o),qc.on(r,o)}).call(n,e.toLowerCase(),t)},n["off".concat(e)]=function(t){Vc.call(n,e.toLowerCase(),t)}})),this.onPlay((function(){}))}return Object(u.l)(e,[{key:"play",value:function(){var e=this;!1===Tc()&&setTimeout((function(){Fc.call(e,{operationType:"play"})}),0)}},{key:"pause",value:function(){var e=this;setTimeout((function(){Fc.call(e,{operationType:"pause"})}),0)}},{key:"stop",value:function(){var e=this;setTimeout((function(){Fc.call(e,{operationType:"stop"})}),0)}},{key:"seek",value:function(e){var t=this;"number"!=typeof e||e<0?Gc("error",{errMsg:"Failed to seek, the currentTime ".concat(e," is invalid.")}):setTimeout((function(){Fc.call(t,{operationType:"seek",currentTime:1e3*e})}),0)}},{key:"destroy",value:function(){var e=kc.get(this);["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach((function(t){var n="".concat(e,"_onAudioStateChange_").concat(t);qc.removeAllListeners(n)})),Dc.delete(e),Object(u.v)("destroyAudioInstance",{audioId:e})}},{key:"onTimeUpdate",value:function(e){var t=this,n="".concat(kc.get(this),"_onAudioStateChange_timeupdate");void 0===xc.get(this)&&xc.set(this,setInterval((function(){if("active"===p.b.runningStatus&&!0!==Ac.get(t).paused&&1!==Ac.get(t).paused){var e=Ac.get(t).currentTime;Lc.call(t,"currentTime",(function(t){t!==e&&qc.emit(n)}))}}),250)),qc.removeAllListeners(n),qc.on(n,(function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")()}))}},{key:"offTimeUpdate",value:function(e){Vc.call(this,"timeupdate",e)}},{key:"src",get:function(){return this.cloudId?this.cloudId:Lc.call(this,"src")},set:function(e){var t=this;"string"==typeof e&&0!==e.length?Object(u.q)([e],"audio",(function(n){/^(cloud):\/\//.test(e)?t.cloudId=e:t.cloudId="",e=n[0],Bc.call(t,"src",e)})):Gc.call(this,"error",{errMsg:"Failed to set src, the src ".concat(e," is invalid.")})}},{key:"startTime",get:function(){return Lc.call(this,"startTime")/1e3},set:function(e){"number"==typeof e?Bc.call(this,"startTime",1e3*e):Gc("error",{errMsg:"Failed to set startTime, the startTime ".concat(e," is invalid.")})}},{key:"autoplay",set:function(e){"boolean"==typeof e&&Bc.call(this,"autoplay",e)},get:function(){return Lc.call(this,"autoplay")}},{key:"loop",set:function(e){"boolean"==typeof e&&Bc.call(this,"loop",e)},get:function(){return Lc.call(this,"loop")}},{key:"obeyMuteSwitch",set:function(e){"boolean"==typeof e&&Bc.call(this,"obeyMuteSwitch",e)},get:function(){return Lc.call(this,"obeyMuteSwitch")}},{key:"volume",set:function(e){"number"!=typeof e||e<0||1<e||Bc.call(this,"volume",e)},get:function(){return Lc.call(this,"volume")}},{key:"paused",get:function(){return Lc.call(this,"paused")}},{key:"duration",get:function(){return Lc.call(this,"duration")/1e3}},{key:"currentTime",get:function(){return Lc.call(this,"currentTime")/1e3}},{key:"buffered",get:function(){return Lc.call(this,"buffered")/1e3}}],[{key:"pauseAllAudio",value:function(){Dc.forEach((function(e){Object(u.v)("operateAudio",{timestamp:Date.now(),audioId:e,operationType:"pause",complete:function(e){}})}))}}]),e}(),Yc=function(){return new Hc},$c=Bo.c.pluginInfos,zc=[],Kc=function(e){var t=e.version;return{customVersion:e.customVersion,version:t,domains:{},hostSign:{}}},Jc={setPrivateExtraData:function(e){try{a.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}},getCurrentRoute:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).success({currentRoute:p.b.lastRoute})},setWxInterfaceDisabled:ai,navigateTo:Pn.navigateTo,navigateToWithRelatedInfo:Pn.navigateToWithRelatedInfo,redirectTo:Pn.redirectTo,switchTab:Pn.switchTab,navigateBack:Pn.navigateBack,reLaunch:Pn.reLaunch,reportAPIRecycle:Jt,getPassCookieString:an.c,getPluginContactList:function(e){void 0===Wc?zc.push(e.success):e.success(Wc)},_checkBeforeNavigateToMiniProgram:hn,getCloudFileUrl:function(e){Hd.cloud.getTempFileURL(e)}},Xc=function(e,t,n,r){Object(u.C)("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[r])};Object(u.E)("invokeAppServiceMethod",(function(e,t){var r=e.name,o=e.type,i=e.args,a=e.callbackId;try{if("bridge"===o)Object(u.a)(r,i,(function(e){e.errMsg=e.errMsg||"".concat(r,":ok"),-1!==e.errMsg.indexOf("".concat(r,":ok"))?Xc(e,!0,a,t):Xc(e,!1,a,t)}));else{i.success=function(e){Xc(e,!0,a,t)},i.fail=function(e){Xc(e,!1,a,t)};var c=("wx"===o?n[r]:Jc[r])(i);c instanceof Promise&&c.catch((function(e){}))}}catch(e){var s={errMsg:"".concat(r,": fail ").concat(e.message)};Xc(s,!1,a,t)}})),Object(u.B)("onStartReportPageData",(function(){var e=(void 0!==a?a.getCurrentPagesByDomain(""):[]).find((function(e){return e.__wxWebviewId__===p.b.currentWebviewId}));e&&Object(u.v)("reportPageData",{isUserReport:!0,pageData:JSON.stringify(e.data),pageRoute:e.__route__,complete:function(e){}})})),u.y&&Object(u.E)("SPECIAL_PAGE_EVENT",(function(e){var t=e.data,n=e.eventName,r=e.ext,o=e.nodeId,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(t&&"input"==t.type&&"function"==typeof p.b.webviewEventCallback){var a=p.b.webviewEventCallback({data:t,eventName:n,webviewId:i,nodeId:o}),c=t.detail.value;if(null==r?void 0:r.setKeyboardValue)if(void 0===a);else if("Object"===Object(u.t)(a)){var s={};c!=a.value&&(s.value=String(a.value)),isNaN(parseInt(a.cursor))||(s.cursor=parseInt(a.cursor)),Object(u.C)("setKeyboardValue",s,[i])}else c!=a&&Object(u.C)("setKeyboardValue",{value:String(a),cursor:-1},[i])}}));var Qc=1,Zc={};Object(u.E)("pageScrollDone",(function(e){if(!(e.callbackId<0||void 0===Zc[e.callbackId])){var t=Zc[e.callbackId];delete Zc[e.callbackId],delete e.callbackId,e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo","pageScrollTo");var n=0===e.errMsg.indexOf("".concat("pageScrollTo",":ok")),r=0===e.errMsg.indexOf("".concat("pageScrollTo",":fail"));n?"function"==typeof t.success&&t.success(e):r&&"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.fail(e)}})),Object(u.E)("insertHTMLWebView",(function(e){var t=0===e.errMsg.indexOf("".concat("insertHTMLWebView",":ok")),n=0===e.errMsg.indexOf("".concat("insertHTMLWebView",":fail"));t||n&&console.warn(e.errMsg)}));var es={onWebviewEvent:function(e,t){p.b.webviewEventCallback=e,Object(u.E)("PAGE_EVENT",(function(t){var n=t.data,r=t.eventName,o=t.nodeId,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e({data:n,eventName:r,webviewId:i,nodeId:o})}))},onNativeEvent:function(e){["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach((function(t){Object(u.B)(t,(function(n,r){e({data:n,eventName:t,webviewId:r})}))}))}},ts=function(e){var t=a.getCurrentPagesByDomain(""),n=t[t.length-1].__wxWebviewId__;e.hasOwnProperty("page")&&e.page.hasOwnProperty("__wxWebviewId__")&&(n=e.page.__wxWebviewId__);var r={};for(var o in e)"function"==typeof e[o]&&(r[o]=e[o],delete e[o]);e.callbackId=Qc,Zc[Qc]=r,Qc++,Object(u.C)("pageScrollTo",e,[n])},ns=function(){Object(u.v)("startPullDownRefresh",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},rs=function(e){Object(u.v)("stopPullDownRefresh",e)},os=0,is={},as=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};is[os]={success:e.success,fail:e.fail,complete:e.complete},Object(u.C)("setPageStyle",{callbackId:os,style:e.style},[p.b.currentWebviewId]),os+=1};function cs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object(u.E)("callbackSetPageStyle",(function(e){var t=e.res,n=e.callbackId,r=t.errMsg,o=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=is[n];delete is[n],"object"===Object(u.I)(a)&&(o?"function"==typeof a.success&&a.success(t):i&&"function"==typeof a.fail&&a.fail(t),"function"==typeof a.complete&&a.complete(t))}));var ss=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.j)(this,e),this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==t.duration?t.duration:400,timingFunction:void 0!==t.timingFunction?t.timingFunction:"linear",delay:void 0!==t.delay?t.delay:0},transformOrigin:t.transformOrigin||"50% 50% 0"}}return Object(u.l)(e,[{key:"export",value:function(){var e=this.actions;return this.actions=[],{actions:e}}},{key:"step",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.currentStepAnimates.forEach((function(t){"style"!==t.type?e.currentTransform[t.type]=t:e.currentTransform["".concat(t.type,".").concat(t.args[0])]=t})),this.actions.push({animates:Object.keys(this.currentTransform).reduce((function(t,n){return cs(t).concat([e.currentTransform[n]])}),[]),option:{transformOrigin:void 0!==t.transformOrigin?t.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==t.duration?t.duration:this.option.transition.duration,timingFunction:void 0!==t.timingFunction?t.timingFunction:this.option.transition.timingFunction,delay:void 0!==t.delay?t.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}},{key:"matrix",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return this.currentStepAnimates.push({type:"matrix",args:[e,t,n,r,o,i]}),this}},{key:"matrix3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,c=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,s=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,u=9<arguments.length&&void 0!==arguments[9]?arguments[9]:0,l=10<arguments.length&&void 0!==arguments[10]?arguments[10]:1,f=11<arguments.length&&void 0!==arguments[11]?arguments[11]:0,d=12<arguments.length&&void 0!==arguments[12]?arguments[12]:0,p=13<arguments.length&&void 0!==arguments[13]?arguments[13]:0,h=14<arguments.length&&void 0!==arguments[14]?arguments[14]:0,v=15<arguments.length&&void 0!==arguments[15]?arguments[15]:1;return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,r,o,i,a,c,s,u,l,f,d,p,h,v]}),this.stepping=!1,this}},{key:"rotate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}},{key:"rotate3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,r]}),this.stepping=!1,this}},{key:"rotateX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}},{key:"rotateY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}},{key:"rotateZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}},{key:"scale",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length?arguments[1]:void 0;return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}},{key:"scale3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this}},{key:"scaleX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}},{key:"scaleY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}},{key:"scaleZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}},{key:"skew",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}},{key:"skewX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}},{key:"skewY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}},{key:"translate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}},{key:"translate3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this}},{key:"translateX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}},{key:"translateY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}},{key:"translateZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}},{key:"opacity",value:function(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}},{key:"backgroundColor",value:function(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}},{key:"width",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}},{key:"height",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}},{key:"left",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}},{key:"right",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}},{key:"top",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}},{key:"bottom",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}]),e}(),us=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("createAnimation",e,{}))return new ss(e)},ls=[],fs=null,ds=null,ps=!1,hs="",vs=0,gs=0;Object(u.B)("onViewDidResize",(function(e){var t,n;n=!0,(fs=t=e).deviceOrientation!==hs&&(n=!1,t.deviceOrientation&&(hs=t.deviceOrientation)),t.size.windowWidth!==vs&&(n=!1,vs=t.size.windowWidth),t.size.windowHeight!==gs&&(n=!1,gs=t.size.windowHeight),n||(ps=!0),ds||(ds=setTimeout((function(){var e=ps;ps=!1,ds=null,e&&ls.forEach((function(e){Reporter.surroundThirdByTryCatch(e,"at onWindowResize callback function")(fs)}));var t=a.getCurrentPagesByDomain(""),n=t[t.length-1];n&&"function"==typeof n.onResize&&Reporter.surroundThirdByTryCatch((function(){n.__callPageLifeTime__("onResize",fs)}),"at Resize callback function")()}),16))}));var ys=function(e){return/^#[0-9a-fA-F]{6}$/.test(e)},_s=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(e=Uo({},e)).backgroundColor&&!ys(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!ys(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!ys(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&Object(u.v)("setBackgroundColor",e)},bs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};-1!==["dark","light"].indexOf(e.textStyle)?Object(u.v)("setBackgroundTextStyle",e):Object(u.n)("setBackgroundTextStyle",e,'invalid textStyle "'.concat(e.textStyle,'"'))},ms=function(e,t,n){setTimeout((function(){Object(u.C)("callbackMiniProgramFunction",{callbackId:t,argArr:n},[e])}),0)};Object(u.E)("callMiniProgramFunction",(function(e,t){var n=e.callbackId,r=e.paths,o=e.funcName,i=e.argArr,a=null;"object"!==Object(u.I)(r)&&(r=[r]);for(var c=0;c<r.length;c++){var l=r[c];".js"!==l.slice(-3)&&(l+=".js");try{a=s(l)}catch(e){}if(a)break}a?"function"!=typeof a[o]?ms(t,n,[{errMsg:"callMiniProgramFunction:fail Function not found"}]):(i.push((function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];ms(t,n,r)})),a[o].apply({},i)):ms(t,n,[{errMsg:"callMiniProgramFunction:fail File not found"}])}));var ws=!1,Ss=[],Os=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!0===ws?Ss.push(e):(ws=!0,Object(u.v)("getLocation",e,{beforeSuccess:function(t){e.altitude||delete t.altitude},beforeAll:function(){ws=!1},afterAll:function(e){Ss.forEach((function(t){"function"==typeof t.complete&&Reporter.surroundThirdByTryCatch(t.complete,"at getLocation complete callback function")(e)})),Ss=[]},afterSuccess:function(e){Ss.forEach((function(t){"function"==typeof t.success&&Reporter.surroundThirdByTryCatch(t.success,"at getLocation success callback function")(e)}))},afterFail:function(e){Ss.forEach((function(t){"function"==typeof t.fail&&Reporter.surroundThirdByTryCatch(t.fail,"at getLocation fail callback function")(e)}))}}))},Cs=function(){Object(u.v)("chooseLocation",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},Is=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("openLocation",e,{latitude:1,longitude:1})&&Object(u.v)("openLocation",e)},Es=!1,Ts=function(){if(!__wxConfig.ext)return{};try{return JSON.parse(JSON.stringify(__wxConfig.ext))}catch(e){return{}}},ks=1,As={};Object(u.E)("responseComponentInfo",(function(e){var t=e.reqId,n=As[t];n&&(delete As[t],n(e.res))}));var xs=function(){function e(t,n,r,o){Object(u.j)(this,e),this._selectorQuery=t,this._component=n,this._selector=r,this._single=o}return Object(u.l)(e,[{key:"fields",value:function(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}},{key:"boundingClientRect",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}},{key:"scrollOffset",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}},{key:"context",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}}]),e}(),Ps={};function js(e,t){return Ps[t]||(Ps[t]=(n=t,function(){function e(t){if(Object(u.j)(this,e),null==t?void 0:t.page)this._component=this._defaultComponent=t.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var n=a.getCurrentPagesByDomain("");this._defaultComponent=n[n.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}return Object(u.l)(e,[{key:"in",value:function(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}},{key:"select",value:function(e){return new xs(this,this._component,e,!0)}},{key:"selectAll",value:function(e){return new xs(this,this._component,e,!1)}},{key:"selectViewport",value:function(){return new xs(this,0,"",!0)}},{key:"_push",value:function(e,t,r,i,a){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var c=n?"":o.getRootNodeId(this._webviewId);this._queue.push({component:null!=t?0===t?0:t.__wxExparserNodeId__:c,selector:e,single:r,fields:i}),this._queueCb.push(a||null)}},{key:"exec",value:function(e){var t,r,o,i,a=this;t=this._webviewId,r={pluginId:n,queue:this._queue},o=function(t){var n=a._queueCb;t.forEach((function(e,t){!function e(t,n){if(t)if(Array.isArray(t))t.forEach((function(t){return e(t,n)}));else{var r=t.contextTagName,o=t.contextId,i=t.contextCanvasId;r&&("wx-video"===r&&(t.context=ac(o,p.b.currentWebviewId)),"wx-live-player"===r&&(t.context=Ia(o,p.b.currentWebviewId)),"wx-canvas"===r&&i&&(t.context=To(i,n)),"wx-editor"===r&&(t.context=Mr(o,p.b.currentWebviewId)),delete t.contextTagName,delete t.contextId,delete t.contextCanvasId)}}(e,a._component),"function"==typeof n[t]&&Reporter.surroundThirdByTryCatch((function(){n[t].call(a,e)}),"at SelectorQuery callback function")()})),"function"==typeof e&&Reporter.surroundThirdByTryCatch((function(){e.call(a,t)}),"at SelectorQuery callback function")()},i=ks++,null!=t?(As[i]=o,Object(u.C)("requestComponentInfo",{reqId:i,reqs:r},[t])):console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")}}]),e}())),new Ps[t](e);var n}var Ns=1,Ds={},Rs=function(e,t,n){var r=Ns++;Ds[r]=n,Object(u.C)("requestComponentObserver",{reqId:r,req:t},[e])};Object(u.E)("responseComponentObserver",(function(e){var t=e.reqId,n=Ds[t];e.reqEnd&&delete Ds[t],n&&(e.reqEnd||n(e.res))}));var Ms={};function Bs(e,t,n){var r;return Ms[n]||(Ms[n]=(r=n,function(){function e(t,n){if(Object(u.j)(this,e),this._component=t,this._options=n,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,t)this._webviewId=t.__wxWebviewId__;else{var r=a.getCurrentPagesByDomain("");this._webviewId=r[r.length-1].__wxWebviewId__}}return Object(u.l)(e,[{key:"relativeTo",value:function(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}},{key:"relativeToViewport",value:function(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}},{key:"observe",value:function(e,t){var n=this;if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var i=this._component;Rs(this._webviewId,{type:"addIntersectionObserver",pluginId:r,nodeId:i?i.__wxExparserNodeId__:o.getRootNodeId(this._webviewId),targetSelector:e,relativeInfo:this._relativeInfo,options:this._options},(function(e){n._disconnected||(e.observerId&&(n._observerId=e.observerId),e.info&&t.call(n,e.info))}))}},{key:"disconnect",value:function(){Rs(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}}]),e}())),new Ms[n](e,t)}var Ls=[],Fs=null;function Us(){var e=Ls;Ls=[],Fs=null;for(var t=0,n=e.length;t<n;t++){var r,o=e[t];o&&(o=Reporter.surroundThirdByTryCatch(o,"at api nextTick callback function")),null===(r=o)||void 0===r||r()}}Oc("Request",{maxTaskCount:10,functionName:"request"}),__wxConfig.onReady((function(){try{"number"==typeof __wxConfig.wxAppInfo.maxRequestConcurrent&&Oc("Request",{maxTaskCount:__wxConfig.wxAppInfo.maxRequestConcurrent})}catch(e){}}));var qs=function(e){function t(e){return Object(u.j)(this,t),Ho(this,Yo(t).call(this,e,{taskType:"Request",beforeSend:function(t){return t.responseType=e.responseType,t},beforeSuccess:function(t){var n,r,o;return"string"==typeof(n=t).data&&65279===n.data.charCodeAt(0)&&(n.data=n.data.substr(1)),(r=t).statusCode=parseInt(r.statusCode),"object"===Object(u.I)((o=t).header)&&(o.header=Object.keys(o.header).reduce((function(e,t){return Array.isArray(o.header[t])?e[t]=o.header[t].join(","):"string"==typeof o.header[t]&&(e[t]=o.header[t]),e}),{})),"json"===e.dataType&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t),t}}))}return zo(t,bc),t}(),Ws=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=Uo({__skipDomainCheck__:!1},e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("request",t,{url:""}))if(!1!==Object(u.i)(t.url))if("function"!=typeof t.data){var n,r,o=Object(u.t)(t.header);t.header=t.header||{},t.header=Object(u.k)(t.header),"Undefined"!==o&&"Object"!==o&&(console.warn("qq.request: header must be an object"),t.header={}),t.header=Object.keys(t.header).reduce((function(e,n){return"content-type"===n.toLowerCase()?e[n.toLowerCase()]=t.header[n]:e[n]=t.header[n],e}),{});var i,a="text";t.responseType&&(a=t.responseType.toLowerCase());var c=t.header||{},s="GET";"string"==typeof t.method&&(s=t.method.toUpperCase()),t.dataType=t.dataType||"json",c["content-type"]=c["content-type"]||"application/json",i=void 0===t.data?"":"string"!=typeof t.data&&"ArrayBuffer"!==Object(u.t)(t.data)?-1<c["content-type"].indexOf("application/x-www-form-urlencoded")?Object(u.J)(t.data,!0):-1<c["content-type"].indexOf("application/json")||"object"===Object(u.I)(t.data)?JSON.stringify(t.data):t.data.toString():t.data;var l=t.url.match(/^https?:\/\/([^\/\?]*)[\/\?]?/i),f=l?l[1]:"";if("GET"===s&&f&&-1!==Wo.indexOf(f)&&-1!==t.url.indexOf("_wnscgi=1")&&!Vo.includes(null===(n=__qqConfig)||void 0===n||null===(r=n.accountInfo)||void 0===r?void 0:r.appId))return t.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/".concat(t.url.replace(/^https?:\/\//i,"")),void P.wnsRequest(t,"wnsCgiRequest");"GET"===s&&(t.url=function(e,t){if("string"==typeof e&&"object"===Object(u.I)(t)&&null!==t&&0<Object.keys(t).length){var n=e.split("?");return"".concat(n[0],"?").concat(Object(u.J)(Object(u.c)((n[1]||"").split("&").reduce((function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e}),{}),Object.keys(t).reduce((function(e,n){return"object"===Object(u.I)(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e}),{}))))}return e}(t.url,t.data));try{return new qs(Uo(Uo({},t),{},{header:c,method:s,responseType:a,data:i,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){Object(u.n)("request",t,e.message)}}else Object(u.n)("request",t,"data should not be Function");else Object(u.n)("request",t,'invalid url "'.concat(t.url,'"'))}},Vs=Ws(),Gs=Ws({__skipDomainCheck__:!0});Oc("Upload",{maxTaskCount:10,functionName:"uploadFile"}),__wxConfig.onReady((function(){try{"number"==typeof __wxConfig.wxAppInfo.maxUploadConcurrent&&Oc("Upload",{maxTaskCount:__wxConfig.wxAppInfo.maxUploadConcurrent})}catch(e){}}));var Hs=function(e){function t(e){return Object(u.j)(this,t),Ho(this,Yo(t).call(this,e,{taskType:"Upload",beforeSend:function(t){return t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t},beforeSuccess:function(e){return e}}))}return zo(t,bc),t}(),Ys=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=Uo({__skipDomainCheck__:!1},e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!==Object(u.I)(t.header)&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!==Object(u.I)(t.formData)&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var n={},r={};t.header&&(n=Object(u.k)(t.header)),t.formData&&(r=Object(u.k)(t.formData));try{return new Hs(Uo(Uo({},t),{},{header:n,formData:r,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(n){Object(u.n)("uploadFile",t,n.message)}}}},$s=Ys(),zs=Ys({__skipDomainCheck__:!0}),Ks=0,Js=new WeakMap,Xs=new WeakMap,Qs=new WeakMap,Zs=(new WeakMap,new WeakMap),eu={},tu=new l.a;Object(u.B)("onSocketTaskStateChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.socketTaskId,r=eu[n];if(r){var o=Js.get(r);if(delete e.state,delete e.socketTaskId,r){if("open"===t){r.readyState=r.OPEN;var i=Qs.get(r).url,a=Date.now()-Zs.get(r),c=e.statusCode,s=Qs.get(r).__skipDomainCheck__;de.batchReportRealtimeAction("connectSocket",i,1,a,"",c,s,0)}else"close"!==t&&"error"!==t||(r.readyState=r.CLOSED);tu.emit(String(o)+t,e),tu.emit("onSocket".concat(t[0].toUpperCase()+t.substr(1)),e,r),"close"===t&&(delete eu[n],tu.removeAllListeners("".concat(o,"open")),tu.removeAllListeners("".concat(o,"close")),tu.removeAllListeners("".concat(o,"error")),tu.removeAllListeners("".concat(o,"message")))}}}));var nu=function(e,t){Js.get(this),tu.on(String(Js.get(this))+e,Reporter.surroundThirdByTryCatch(t,"at socketTask.on".concat(e," callback function")))},ru=function(){function e(t,n){var r,o=this;Object(u.j)(this,e),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var i=Ks++;Js.set(this,i),Qs.set(this,n),Object.defineProperty(this,"__socketInstance__",{value:t,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach((function(e){"function"==typeof n[e]&&(n[e]=Reporter.surroundThirdByTryCatch(n[e],"at api connectSocket ".concat(e," callback function")))})),Zs.set(this,Date.now()),Object(u.v)("createSocketTask",n,{beforeAll:function(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:function(e){Xs.set(o,e.socketTaskId),eu[e.socketTaskId]=o},beforeFail:function(e){var t=n.url,i=Date.now()-Zs.get(o),a=n.__skipDomainCheck__;r=e.errMsg,de.batchReportRealtimeAction("connectSocket",t,2,i,r,"",a,0)}}),r&&(this.readyState=this.CLOSED,setTimeout((function(){tu.emit("".concat(i,"error"),{errMsg:r})}),0))}return Object(u.l)(e,[{key:"send",value:function(e){var t=this;if(this.readyState===this.OPEN){var n=Date.now();Object(u.v)("operateSocketTask",Uo(Uo({},e),{},{operationType:"send",socketTaskId:Xs.get(this)}),{beforeAll:function(r){if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),.99<Math.random()){var o=Qs.get(t).url,i=-1<r.errMsg.indexOf("ok")?1:2,a=Date.now()-n,c=r.errMsg,s=Qs.get(t).__skipDomainCheck__,l=Object(u.r)(e.data);de.batchReportRealtimeAction("sendSocketMessage",o,i,a,c,"",s,l)}}})}else Object(u.n)("SocketTask.send",e,"SocketTask.readState is not OPEN")}},{key:"close",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("operateSocketTask",Uo(Uo({code:1e3},e),{},{operationType:"close",socketTaskId:Xs.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}},{key:"onOpen",value:function(e){nu.call(this,"open",e)}},{key:"onClose",value:function(e){nu.call(this,"close",e)}},{key:"onMessage",value:function(e){nu.call(this,"message",e)}},{key:"onError",value:function(e){nu.call(this,"error",e)}}]),e}(),ou=new WeakMap,iu={};function au(e,t){var n;return iu[t]||(iu[t]=new WeakMap,tu.on("onSocket".concat(t),(n=t,function(e,t){var r=t.__socketInstance__,o=iu[n].get(r),i=ou.get(r);o&&t===i&&Reporter.surroundThirdByTryCatch(o,"at onSocket".concat(n," callback function"))(e)}))),function(n){Object(u.h)("onSocket".concat(t),n,u.A)&&iu[t].set(e,n)}}var cu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=Uo({__skipDomainCheck__:!1},e);var t={};return{connectSocket:function(n){if(Object(u.h)("connectSocket",n,{url:""}))if(!1!==Object(u.i)(n.url,"websocket")){"object"!==Object(u.I)(n.header)&&void 0!==n.header&&delete n.header;var r={};n.header&&(r=Object(u.k)(n.header)),n.__skipDomainCheck__=e.__skipDomainCheck__;try{var o=ou.get(t),i=new ru(t,Uo(Uo({},n),{},{header:r}));return o&&o.readyState!==o.CLOSED?o.readyState:ou.set(t,i),i}catch(r){Object(u.n)("connectSocket",n,r.message)}}else Object(u.n)("request",n,'invalid url "'.concat(n.url,'"'))},closeSocket:function(e){var n=ou.get(t);for(var r in n&&n.readyState!==n.CLOSED?(n.readyState=n.CLOSED,n.close(e)):Object(u.n)("closeSocket",e,"WebSocket is not connected"),eu){var o=eu[r];o.__socketInstance__===t&&(o.readyState=o.CLOSED,o!==n&&o.close())}},sendSocketMessage:function(e){var n=ou.get(t);n&&n.readyState===n.OPEN?n.send(e):Object(u.n)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:au(t,"Open"),onSocketClose:au(t,"Close"),onSocketMessage:au(t,"Message"),onSocketError:au(t,"Error")}},su=cu(),uu=function(){return cu({__skipDomainCheck__:!0})},lu={_operateWXData:rn,_requestSkipCheckDomain:Gs,_uploadFileSkipCheckDomain:zs,_downloadFileSkipCheckDomain:Je.downloadFileSkipCheckDomain,_socketSkipCheckDomainFactory:uu},fu=(new WeakMap,new WeakMap,new l.a);Object(u.B)("onDownloadAppStateChange",(function(e){var t=e.state,n=e.downloadId;switch(e.appId,delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":fu.emit("".concat(n,":progressUpdate"),e),fu.emit("".concat(n,":success"),e);break;case"download_failed":fu.emit("".concat(n,":fail"),e);break;case"download_progress_changed":fu.emit("".concat(n,":progressUpdate"),e)}"download_succ"!==t&&"download_failed"!==t||(fu.removeAllListeners("".concat(n,":success")),fu.removeAllListeners("".concat(n,":fail")),fu.removeAllListeners("".concat(n,":progressUpdate")))}));var du=function(e){Object(u.h)("saveFile",e,{tempFilePath:""})&&Object(u.v)("saveFile",e)},pu=function(){Object(u.v)("getSavedFileList",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},hu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("getSavedFileInfo",e,{filePath:""})&&Object(u.v)("getSavedFileInfo",e)},vu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("removeSavedFile",e,{filePath:""})&&Object(u.v)("removeSavedFile",e)},gu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Object(u.g)(e,{digestAlgorithm:""});if(t)return void Object(u.n)("getFileInfo",e,"parameter error: ".concat(t));if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void Object(u.n)("getFileInfo",e,'parameter error: invalid digestAlgorithm "'.concat(e.digestAlgorithm,'"'))}Object(u.v)("getFileInfo",e,{})}},yu=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],_u=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("writeFile",e,{filePath:""})&&(e.encoding&&-1===yu.indexOf(e.encoding)?Object(u.n)("writeFile",e,'invalid encoding "'.concat(e.encoding,'"')):Object(u.v)("writeFile",e,{}))},bu=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");if(Object(u.v)("mkdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},mu=u.y?"http://":"qqfile://",wu=[];__wxConfig.onReady((function(){wu=function(){if(u.y)return[];try{var e=[];Object(u.a)("readdirSync",{dirPath:mu},(function(t){t.files&&(e=t.files)}));var t=new RegExp("^".concat(mu)),n=new RegExp("^".concat(mu));return e.filter((function(e){return t.test(e)})).map((function(e){return n.test(e)?e:String(mu)+e}))}catch(e){return[]}}()}));var Su=function(e,t){var n=u.o.get();e.files=e.files.filter((function(e){return new RegExp("^".concat(t)).test(e)||(e=String(t)+e),-1===n.indexOf(e)&&-1===wu.indexOf(e)}))},Ou=function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if(Object(u.v)("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},Cu=function(e){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t;if(Object(u.v)("unlink",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},Iu=function(){function e(t){var n=t.mode,r=t.size,o=t.lastAccessedTime,i=t.lastModifiedTime;Object(u.j)(this,e),this.mode=n,this.size=r,this.lastAccessedTime=o,this.lastModifiedTime=i}return Object(u.l)(e,[{key:"_checkModeProperty",value:function(e){return(61440&this.mode)===e}},{key:"isDirectory",value:function(){return this._checkModeProperty(16384)}},{key:"isFile",value:function(){return this._checkModeProperty(32768)}}]),e}(),Eu=function(e,t){var n=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach((function(t){n=n&&void 0!==e[t]})),n)e.stats=new Iu(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Iu(e.stats[""]);else{var r=[],o=e.stats||e;o[""]||r.push({path:"/",stats:Tu(t)}),Object.keys(o).forEach((function(e){if("errMsg"!==e){var t=o[e];""===e&&(e="/"),r.push({path:e,stats:new Iu(t)}),delete o[e]}})),e.stats=r}},Tu=function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("path must be a string");if(Object(u.v)("statSync",{path:e,recursive:r,success:function(n){Eu(n,e),t=n.stats},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return t},ku=function(e,t){if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var n;if(Object(u.v)("fs_renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},Au=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],xu=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("appendFile",e,{filePath:""})&&(e.encoding&&-1===Au.indexOf(e.encoding)?Object(u.n)("appendFile",e,'invalid encoding "'.concat(e.encoding,'"')):Object(u.v)("fs_appendFile",e,{}))},Pu={saveFile:du,saveFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var n,r;if(Object(u.v)("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){r=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return r},getSavedFileList:pu,getSavedFileInfo:hu,removeSavedFile:vu,getFileInfo:gu,readFile:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("readFile",e,{filePath:""})&&Object(u.v)("readFile",e)},readFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");if(t&&"string"!=typeof t)throw new Error("encoding must be a string");var n,r;if(Object(u.v)("readFileSync",{filePath:e,encoding:t,success:function(e){n=e.data},fail:function(e){r=e.errMsg}}),r)throw new Error(r);return n},writeFile:_u,writeFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===yu.indexOf(n))throw new Error('invalid encoding "'.concat(n,'"'));var r;if(Object(u.v)("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)},mkdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("mkdir",e,{dirPath:""})&&Object(u.v)("mkdir",e)},mkdirSync:bu,rmdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("rmdir",e,{dirPath:""})&&Object(u.v)("rmdir",e)},rmdirSync:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");if(Object(u.v)("rmdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},readdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("readdir",e,{dirPath:""})&&Object(u.v)("readdir",e,{beforeSuccess:function(t){Su(t,e.dirPath)}})},readdirSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,n;if(Object(u.v)("readdirSync",{dirPath:e,success:function(e){t=e.files},fail:function(e){n=e.errMsg}},{beforeSuccess:function(t){Su(t,e)}}),n)throw new Error(n);return t},access:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("access",e,{path:""})&&Object(u.v)("access",e)},accessSync:Ou,unlink:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("unlink",e,{filePath:""})&&Object(u.v)("unlink",e)},unlinkSync:Cu,stat:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("stat",e,{path:""})&&Object(u.v)("stat",e,{beforeSuccess:function(t){Eu(t,e.path)}})},statSync:Tu,unzip:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("unzip",e,{zipFilePath:"",targetPath:""})&&Object(u.v)("unzip",Uo(Uo({},e),{},{targetDirectory:e.targetPath}))},copyFile:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("copyFile",e,{srcPath:"",destPath:""})&&Object(u.v)("fs_copyFile",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},copyFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var n;if(Object(u.v)("fs_copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},rename:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("rename",e,{oldPath:"",newPath:""})&&Object(u.v)("fs_rename",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:ku,appendFile:xu,appendFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===Au.indexOf(n))throw new Error('invalid encoding "'.concat(n,'"'));var r;if(Object(u.v)("fs_appendFileSync",{filePath:e,data:t,encoding:n,fail:function(e){r=e.errMsg}}),r)throw new Error(r)}},ju=void 0,Nu=function(e){return Array.isArray(e)?e.filter((function(e){return"string"==typeof e&&!e.startsWith("__plugins__")})):[]},Du={setStorage:function(e){if(Object(u.h)("setStorage",e,{key:""}))try{var t=Qo(e.data),n=t.data,r=t.dataType;Object(u.v)("setStorage",{key:e.key,data:n,dataType:r,success:e.success,fail:e.fail,complete:e.complete})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"setStorage:fail ".concat(t.message)}),"function"==typeof e.complete&&e.complete({errMsg:"setStorage:fail ".concat(t.message)})}},setStorageSync:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(Object(u.h)("setStorage",e,"")){var n="setStorageSync",r=Qo(t),o=r.data,i=r.dataType,a=!1,c="";if(Object(u.v)(n,{key:e,data:o,dataType:i,fail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a=!0,c=e.errMsg}}),a)throw new ei(c)}},getStorage:function(e){Object(u.h)("getStorage",e,{key:""})&&Object(u.v)("getStorage",e,{beforeSuccess:function(e){e.data=Zo(e.data,e.dataType),delete e.dataType},afterFail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&0<e.errMsg.indexOf("data not found"))return!1}})},getStorageSync:function(e){var t;if(Object(u.h)("getStorageSync",e,""))return Object(u.v)("getStorageSync",{key:e},{beforeAll:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t=Zo(e.data,e.dataType)},afterFail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&0<e.errMsg.indexOf("data not found"))return!1}}),t},getStorageInfo:function(e){Object(u.v)("getStorageInfo",e,{beforeAll:function(e){e.keys=Nu(e.keys)}})},getStorageInfoSync:function(){var e;return Object(u.v)("getStorageInfoSync",{},{beforeAll:function(t){(e=t).keys=Nu(t.keys),delete t.errMsg}}),e},removeStorage:function(e){Object(u.h)("removeStorage",e,{key:""})&&Object(u.v)("removeStorage",e)},removeStorageSync:function(e){Object(u.h)("removeStorageSync",e,"")&&Object(u.v)("removeStorageSync",{key:e})},clearStorage:function(e){Object(u.v)("clearStorage",e)},clearStorageSync:function(){Object(u.v)("clearStorageSync")}},Ru={};["setStorage","getStorage","getStorageInfo","removeStorage","clearStorage"].forEach((function(e){Ru[e]=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!t.key||!t.key.toString().startsWith("__plugins__"))return Du[String(e)](t);Object(u.n)(e,t,'invalid key "'.concat(t.key,'"'))},Ru["".concat(e,"Sync")]=function(t){var n;if(!t||!t.toString().startsWith("__plugins__")){for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=Du["".concat(e,"Sync")]).call.apply(n,[ju,t].concat(o))}};var t="plugin_".concat(e);Ru[t]=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.key&&(t.key="__plugins__/".concat(t.key)),Du[String(e)](t)},Ru["".concat(t,"Sync")]=function(t){var n;t&&(t="__plugins__/".concat(t));for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=Du["".concat(e,"Sync")]).call.apply(n,[ju,t].concat(o))}}));var Mu,Bu,Lu,Fu=Ru,Uu=c(11),qu=c(12),Wu=function(e,t,n){if(!t)return[];var r=Object.keys(n),o=r.indexOf(t);if(-1===o)return[];var i=n[r[o]];return Object.keys(i).filter((function(t){return function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var o=parseInt(e[r]),i=parseInt(t[r]);if(i<o)return 1;if(o<i)return-1}return 0}(t,e)<=0}))},Vu=function(e,t,n){for(var r=void 0,o=0;o<e.length;o++)for(var i=t[e[o]],a=0;a<i.length;a++){var c=i[a];if("string"==typeof c&&c===n){void 0===r&&(r=[]);break}if("object"===Object(u.I)(c)&&c.hasOwnProperty(n)){r=void 0===r?c[n]:r.concat(c[n]);break}}return r},Gu=function(e,t){for(var n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"===Object(u.I)(e[n])&&e[n].hasOwnProperty(t))return e[n][t]}},Hu=function(e,t,n,r){var o,i;if(0===(o=Wu(e,t,Uu)).length)return!1;if(n){var a=Uu[t];if(void 0===(i=Vu(o,a,n)))return!1}return!r||void 0!==Gu(i,r)},Yu=function(e,t,n,r,o){var i,a,c;if(0===(i=Wu(e,t,qu)).length)return!1;if(n){var s=qu[t];if(void 0===(a=Vu(i,s,n)))return!1}return!(r&&void 0===(c=Gu(a,r))||o&&void 0===Gu(c,o))},$u="undefined"!=typeof __initHelper&&1===__initHelper,zu=function(e){try{return Ou.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message}}},Ku=function(){try{return ku.apply(this,arguments)}catch(e){return{errMsg:e.message}}},Ju=function(){try{return{stat:Tu.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message}}},Xu=function(e){var t,n;"string"!=typeof e&&(e=String(e));var r=0;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<127?r+=1:128<=n&&n<=2047?r+=2:2048<=n&&n<=65535&&(r+=3);return r},Qu=!1,Zu=[],el={lastLogNum:1,lastLogSize:0},tl=!1,nl=!1,rl=!1,ol={},il=function(e){return"".concat(Bu,"log").concat(e)},al=Xo((function(e){return 0<=zu(e).errMsg.indexOf("accessSync:ok")})),cl=Xo((function(e){var t=zu(e).errMsg;return 0<=t.indexOf("fail")&&(0<=t.indexOf("access denied")||0<=t.indexOf("no permission"))})),sl=Xo((function(){if(!$u&&Qu&&!tl){var e,t;if(Mu=__wxConfig&&"devtools"===__wxConfig.platform,Bu="".concat((null===(e=__wxConfig)||void 0===e||null===(t=e.env)||void 0===t?void 0:t.USER_DATA_PATH)||(Mu?"http://usr":"qqfile://usr"),"/miniprogramLog/"),!al(Bu))return function(){try{bu.apply(this,arguments)}catch(e){return e.message}}(Bu),tl=!0,void(rl=cl(Bu));if(!(rl=cl(Bu))){for(var n=1;n<=5&&al(il(n));)ol[n]=!0,el.lastLogNum=n,n++;var r=Ju(il(el.lastLogNum));r.stat&&(el.lastLogSize=r.stat.size),tl=!0}}})),ul=Xo((function(){if(!$u&&!rl&&Zu.length&&!nl){for(var e=[],t=0,n=0;n<Zu.length;n++){var r=Xu(Zu[n]);if(102400<r)console.warn("[qq.log warn] each log size exceed 100KB will be discard.");else{if(102400<t+r)break;t+=r,e.push(Zu[n])}}if(e.length){if(1048576<el.lastLogSize+t){if(6<=el.lastLogNum+1)return nl=!0,void setTimeout((function(){!function(){try{Cu.apply(this,arguments)}catch(e){return e.message}}(il(1));for(var e=2;e<=5;e++)Ku(il(e),il(e-1));el.lastLogNum=5,ol[el.lastLogNum]=!1,el.lastLogSize=0,nl=!1}),50);el.lastLogNum++,el.lastLogSize=0}n==Zu.length?Zu=[]:Zu.splice(0,n),ol[el.lastLogNum]||al(il(el.lastLogNum))?xu({filePath:il(el.lastLogNum),data:(el.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log appendFile err ".concat(e.errMsg))},success:function(e){}}):_u({filePath:il(el.lastLogNum),data:(el.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log writeFile err ".concat(e.errMsg))}}),el.lastLogSize+=t}}}));function ll(){Lu&&clearTimeout(Lu),Lu=setTimeout((function(){ul(),Lu=null,ll()}),2e3)}var fl,dl={logApiInvoke:!0};function pl(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return"number"==typeof e.level&&(dl.level=e.level),1===dl.level?dl.logApiInvoke=!1:0===dl.level&&(dl.logApiInvoke=!0),dl}["info","debug","log","warn"].forEach((function(e){dl[e]=function(){if(!$u&&!rl&&Qu&&arguments.length&&(sl(),el)){for(var t,n=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?n.push(arguments[r]):n.push(JSON.stringify(arguments[r]));n.splice(0,0,"".concat((t=new Date).getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate()," ").concat(t.getHours(),":").concat(t.getMinutes(),":").concat(t.getSeconds()),"[".concat(e,"]")),Zu.push(n.join(" "))}}})),dl._getUserLog=function(){for(var e={},t=1;t<=5;t++)e["log".concat(t)]=Ju(il(t));return e},__wxConfig.onReady((function(){$u||(Qu=!0,sl(),Xo(ll)())})),Object(d.b)((function(){$u||ul()}));var hl=[];Object(u.B)("onMemoryWarningReceive",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.x&&e.level<10||(hl.length?hl.forEach((function(t){"function"==typeof t&&t(e)})):"function"==typeof fl&&fl(e))}));var vl,gl=new l.a;Object(u.B)("onUpdateStatusChange",(function(e){var t=(e.state||"").toLowerCase();delete e.state,gl.emit(t,e)}));var yl=[];gl.on("updating",(function(){vl={hasUpdate:!0},bl()})),gl.on("noupdate",(function(){vl={hasUpdate:!1},bl()}));var _l,bl=function(){yl.forEach((function(e){"function"==typeof e&&e(vl)})),yl.length=0},ml=[],wl=!1,Sl=!1;gl.on("updateready",(function(){wl=!0,Ol()}));var Ol=function(){ml.forEach((function(e){"function"==typeof e&&e()})),ml.length=0},Cl=[];gl.on("updatefailed",(function(){_l={},Il()}));var Il=function(){Cl.forEach((function(e){"function"==typeof e&&e(_l)})),Cl.length=0},El={onCheckForUpdate:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),vl?"function"==typeof e&&e(vl):yl.push(e)},onUpdateReady:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),wl?"function"==typeof e&&e():ml.push(e)},onUpdateFailed:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),_l?"function"==typeof e&&e(_l):Cl.push(e)},applyUpdate:function(e){wl&&Sl?Object(u.e)("applyUpdate",e,!1,"applyUpdate has been called"):wl?(Sl=!0,Object(u.v)("updateApp",e)):Object(u.e)("applyUpdate",e,!1,"update is not ready")}};function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Object(u.D)(e,t,n[t])}))}return e}var kl=0,Al=function(e){Date.now()>kl&&(we.showModal({title:"",content:e,confirmText:"确定",showCancel:!1},50),kl=Date.now()+6e4)},xl={2:"插件版本过低，无法提供服务"},Pl=function(e,t,n){if(!Bo.c.pluginInfos)return null;var r=Bo.c.pluginInfos[e];if(!r)return null;var o=r.runningFlag,i=r.banning||{},a=xl[o];return o||i[t]?{all:o,detail:i[t],hint:i.hint||a||n||"由于小程序违规，该服务暂时无法使用"}:null};Bo.c.emitter.on("pluginInfoFetchDone",(function(){if(void 0!==o&&o.initBannedMap){var e={},t=Bo.c.pluginInfos;for(var n in t)e[n]=Pl(n,"components");o.initBannedMap(e)}}));var jl={request:Gs,uploadFile:zs,downloadFile:Je.downloadFileSkipCheckDomain,connectSocket:uu().connectSocket},Nl={request:"_requestSkipCheckDomain",uploadFile:"_uploadFileSkipCheckDomain",downloadFile:"_downloadFileSkipCheckDomain"},Dl={request:qs,uploadFile:Hs,downloadFile:ze,connectSocket:ru},Rl=c(8),Ml=[],Bl=[],Ll=new WeakMap,Fl=new WeakMap,Ul=new WeakMap,ql=new WeakMap,Wl=function e(t,n,r,o){Object(u.j)(this,e),Ll.set(this,t),Fl.set(this,n),Ul.set(this,r),o&&ql.set(this,o),Gl.call(this),this.__pendingTask__=!0},Vl=function(e){var t=[];for(e=e.__proto__;t=cs(t).concat(cs(Object.getOwnPropertyNames(e))),(e=e.__proto__).constructor!==Object;);return t},Gl=function(){var e=this;Vl(this).forEach((function(t){"function"==typeof e.__proto__[t]&&"constructor"!==t&&(e[t]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Bl.push({args:r,method:t,item:e})})}))},Hl=function(){var e,t=Ll.get(this),n=Fl.get(this),r=Ul.get(this),o=ql.get(this);if(void 0!==Object(Bo.b)(t))try{e=o?o.call(t,r):t[n].call(t,r)}catch(e){}null!=e&&function(e){var t=this;null!=e&&Vl(this).forEach((function(n){"function"==typeof t.__proto__[n]&&"constructor"!==n&&(t[n]=function(){return e[n].apply(e,arguments)})}))}.call(this,e),Ll.delete(this),Fl.delete(this),Ul.delete(this),ql.delete(this)},Yl=function(e,t,n,r){Wl.prototype=Dl[t].prototype;var o=new Wl(e,t,n,r);return Ml.push(o),o},$l=c(8),zl={},Kl=!1,Jl=function(e,t){var n=Pl(e,"domains");if(!n)return!1;if(!n.all){for(var r=n.detail,o=$l.parse(t||""),i=!1,a=0;a<r.length;a++){var c=$l.parse(r[a]||"");if(o.protocol===c.protocol&&o.hostname===c.hostname&&o.port===c.port){i=!0;break}}if(!i)return!1}return Al(n.hint),!0},Xl=function(e,t){var n=t.header||{},r=e.hostSign||{};n["X-WECHAT-HOSTSIGN"]=JSON.stringify(r),t.header=n};Object.keys(jl).forEach((function(e){var t;zl[e]=(t=e,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=Object(Bo.b)(this);if(!Kl||!n)return Yl(this,t,e);if(function(e,t){if(void 0===t||void 0===e)return!1;for(var n=Rl.parse(e||""),r=0;r<t.length;r++){var o=t[r]||"",i=Rl.parse(o);if(i.protocol===n.protocol&&i.hostname===n.hostname&&i.port===n.port)return!0}return!1}(e.url,n.domains[t])){if(!Jl(Object(Bo.a)(this),e.url))return Xl(n,e),jl[t](e);var r='url "'.concat(e.url,'" is temporarily rejected.');Object(u.n)(t,e,r)}else{var o='url "'.concat(e.url,"\" not in plugin's domain list.");Object(u.n)(t,e,o)}})}));var Ql=function(e){return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=Object(Bo.b)(this);if(!Kl||!n)return Yl(this,e,t,Zl[Nl[e]]);if(!Jl(Object(Bo.a)(this),t.url))return jl[e](t);var r='url "'.concat(t.url,'" is temporarily rejected.');Object(u.n)(e,t,r)}},Zl={};for(var ef in Nl)Zl[Nl[ef]]=Ql(ef);Bo.c.emitter.on("pluginInfoFetchDone",(function(){Kl=!0,Ml.forEach((function(e){Hl.call(e)})),Bl.forEach((function(e){e.item[e.method].apply(e.item,e.args)})),Ml.length=0,Bl.length=0}));var tf=zl,nf=new WeakMap,rf=function(e,t){var n=this,r=function(r){var o=e[r];if("function"==typeof o){var i=n;n[r]=function(e){var n,a;if(ci(r,t)&&(n=r,!(a=Pl(t,"apis"))||!a.all&&a.detail.indexOf(n)<0||(Al(a.hint),0)))return o.apply(i,arguments);if("Sync"===r.slice(-4))throw new ei("".concat(r,":fail rejected due to no permission currently in plugin"));(null==e?void 0:e.fail)&&setTimeout((function(){Object(u.n)(r,e,"rejected due to no permission currently in plugin")}),0)}}else n[r]=e[r]};for(var o in e)r(o)},of=function(){function t(n,r,o){Object(u.j)(this,t),this.__puid__=Object(u.u)();var i=function(t,n,r,o){var i=Tl({},Zl,{_operateWXData:n.operateWXData});for(var a in i)i[a]=i[a].bind(t);return Tl({},n,{cloud:e.getCloudAPI({sdk:i,identifiers:{pluginId:r,pluginVersion:o}})})}(this,n,Bo.c.pluginIDs[this.__puid__]=r,Bo.c.pluginVersions[this.__puid__]=o);rf.call(this,i,r),function(e){for(var t in __wxConfig.plugins){var n=__wxConfig.plugins[t];n.provider===e&&nf.set(this,n.version)}}.call(this,r)}return Object(u.l)(t,[{key:"getPluginVersion",value:function(){return nf.get(this)}}]),t}(),af={},cf=function(e,t){var n=(e=e.replace("plugin_","")).endsWith("Sync");af[e]=function(e){var r=Object(Bo.a)(this);if(n){e&&(e="".concat(r,"/").concat(e));for(var o=arguments.length,i=new Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.apply(void 0,[e].concat(i))}return e.key&&(e.key="".concat(r,"/").concat(e.key)),t(e)}};for(var sf in Fu)sf.startsWith("plugin_")&&cf(sf,Fu[sf]);var uf=af,lf={createInnerAudioContext:Yc};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createExternalElementContext","createLivePusherContext"].forEach((function(e){lf[e]=function(t,n){var r=Object(Bo.a)(this),o=Object(Bo.d)(this),i=(null==n?void 0:n.__wxExparserNodeId__)?n.__wxExparserNodeId__:"";return np[e].call(this,t,p.b.currentWebviewId,i,"".concat(r,"/").concat(o))}}));var ff,df=lf,pf=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=tn(e,t,!0);return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object(Bo.a)(this);n(_extends({},e,{pluginId:t}))}},hf=pf(!0,"login"),vf=pf(!0,"getUserInfo"),gf=pf(!0,"getSetting"),yf=Bo.c.emitter,_f=Bo.c.pluginInfos,bf=(Object(u.D)(ff={},1,!1),Object(u.D)(ff,3,!1),ff),mf=0,wf=0,Sf=[1,1,2],Of=!1,Cf=!1;bf[2]=!1;var If=function(e){bf[e]=!0,Object.keys(bf).reduce((function(e,t){return e&&bf[t]}),!0)&&!Of&&(yf.emit("pluginInfoFetchDone"),Of=!0)},Ef=function e(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).fromTimer,n=void 0!==t&&t,r=[];for(var o in _f){var i=_f[o];r.push({provider:o,inner_version:i.version})}0!==r.length&&(Object(u.v)("verifyPlugin",{data:{plugins:r},success:function(e){var t=e.data;if(void 0!==t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}!function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.plugin_id,o=$c[r];if(!o)return;o.banning=n.banning,o.runningFlag=n.running_flag_info,o.hostSign={noncestr:n.noncestr||"",timestamp:n.timestamp||"",signature:n.host_sign||""}}}(Array.isArray(t.list)?t.list:[]),t.list,If(3),Tf()}else console.error("[PluginSDK] Plugin data from backend is not available.")},fail:function(t){var r;console.error("[PluginSDK] invokeVerifyPlugin failed: ".concat(t.errMsg)),n||(r=wf<Sf.length?Sf[wf]:(bf[3]||If(3),30),setTimeout(e,1e3*r),wf++)},complete:function(){}}),n||setTimeout((function(){If(3)}),12e4))},Tf=function(){Cf||(setInterval((function(){Ef({fromTimer:!0})}),6e5),Cf=!0)};__wxConfig.onReady((function(){!function(){if(__wxConfig.appContactInfo&&__wxConfig.appContactInfo.call_plugin_info)for(var e=__wxConfig.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var n=e[t],r=n.plugin_id;_f[r]=Kc({version:n.inner_version,customVersion:n.plugin_version||""})}else if(__wxConfig.plugins)for(var o in __wxConfig.plugins){var i=__wxConfig.plugins[o],a=i.provider;_f[a]=Kc({version:0,customVersion:i.version||""})}If(1)}(),function e(t){var n=[],r={};for(var o in _f)n.push(o),r[o]=_f[o].customVersion;0!==n.length&&(Object(u.v)("batchGetContact",{appIds:n,success:function(n){if(function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.appId;if(void 0===n.appId||void 0===n.plugin_list)return;if(!n.plugin_list[0]||!$c[r])return;var o=n.plugin_list[0].PluginNetWork||{},i=n.plugin_list[0].last_version||{};$c[r].domains={request:o.RequestDomain||[],uploadFile:o.UploadDomain||[],downloadFile:o.DownloadDomain||[],connectSocket:o.WsRequestDomain||[]},$c[r].latestCustomVersion=(a=i.custom_version,(c=String(a).split(".",3)).length<3?-1:Number(1e3*c[0]*1e3+1e3*c[1]+Number(c[2])))}var a,c;Wc=e,zc.forEach((function(e){e(Wc)}))}}(n.contactList),0<t){var o=!1;if(!o){var i=0;for(var a in _f){if(0<=_f[a].latestCustomVersion&&r[a]>_f[a].latestCustomVersion){r[a],_f[a].latestCustomVersion,o=!0;break}for(var c in _f[a].domains)_f[a].domains[c]&&(i+=_f[a].domains[c].length)}o||i||(o=!0)}if(o)return void setTimeout((function(){e(t-1)}),1e3)}If(2)},fail:function(t){console.error("[PluginSDK] batchGetContact failed: ".concat(t.errMsg)),mf<1?(setTimeout(e,0),mf++):If(2)}}),setTimeout((function(){If(2)}),12e4))}(5),Ef()}));var kf=Bo.c.pluginInfos,Af={};__wxConfig.onReady((function(){"object"===Object(u.I)(__wxConfig.env)&&_extends(Af,__wxConfig.env)}));var xf,Pf,jf=Af,Nf=function(e,t,n){for(var r in t){if("exportToAppServiceSDK"===r)return;e[r]=t[r]}["onPageReload"].forEach((function(r){t[r]&&(e[r]=function(e){t[r].call(n,e)})}))};function Df(){if(!Pf)throw new Error("getLaunchOptionsSync:fail get launch options");return Pf||{}}Object(u.E)("getLaunchInfo",(function(e){var t=e.callbackId;Object(u.C)("launchInfoGot",{data:{info:mi.appLaunchInfo,sceneHistory:mi.sceneHistory,appId:mi.appId},callbackId:t})})),__wxConfig.onReady((function(){var e=__wxConfig.appLaunchInfo||{};mi.appLaunchInfo=e,mi.appLaunchShareInfo=e.shareInfo,Pf=wi(e,!0),xf=Si(Pf),Pf.__public=xf}));var Rf=Object(f.a)("AppShow"),Mf=Rf.onMethod,Bf=Rf.offMethod,Lf=Rf.internalOnMethod;Object(d.d)((function(e){Rf.emitInternal(e),Rf.emitGlobal(e.__public)})),Object(d.f)((function e(t){if("appLaunch"===t.openType){var n=Df();Rf.emitInternal(n),Rf.emitGlobal(n.__public),Object(d.e)(e)}}));var Ff=Object(f.a)("AppHide"),Uf=Ff.onMethod,qf=Ff.offMethod,Wf=Ff.internalOnMethod;Object(d.b)((function(e){Ff.emitInternal(e),Ff.emitGlobal()}));var Vf=Object(f.a)("AppUnhang"),Gf=Vf.internalOnMethod,Hf=Vf.onMethod;Object(u.B)("onAppUnhang",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Vf.emit(e)})),p.b.appStatus=p.a.FORE_GROUND,p.b.hanged=!1,Lf((function(e){Date.now()})),Wf((function(e){Date.now()})),Object(d.d)((function(){p.b.appStatus=p.a.FORE_GROUND})),Object(d.b)((function(e){"hide"===e.mode?p.b.appStatus=p.a.BACK_GROUND:p.b.appStatus=p.a.LOCK,"close"===e.mode?p.b.hanged=!1:"hang"===e.mode&&(p.b.hanged=!0)})),Hf((function(){p.b.hanged=!1}));var Yf=Object(f.a)("AppRunningStatusChange");Object(u.B)("onAppRunningStatusChange",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};p.b.runningStatus=e.status,Yf.emit(e)}));var $f=Object(f.a)("AppService-Error"),zf=$f.onMethod,Kf=$f.offMethod;Reporter.registerErrorListener((function(e){$f.emit(e)}));var Jf=Object(f.a)("PageNotFound"),Xf=Jf.onMethod,Qf=Jf.offMethod,Zf={page:void 0,time:Date.now(),count:0};function ed(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=__wxConfig.subpackages||__wxConfig.subPackages||[],n=0;n<t.length;n++){var r=t[n];if(0===e.indexOf(r.root))return r}return null}Object(u.B)("onPageNotFound",(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(p.b.lastRoute="",e&&"string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=Object(u.p)(e.path)),e&&"string"==typeof e.query&&(e.query=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(1<o.length)try{t[o[0]]=decodeURIComponent(o[1])}catch(e){}}return t}(e.query)),/^[-_+a-z]+:\/\//i.test(e.rawPath))return Pn.redirectTo({url:e.rawPath.replace(/\.html(\?|$)/i,(function(e){return e.slice(5)}))}),void Object(u.v)("pageNotFoundCallback",{hasHandler:!0,webviewId:t});Zf.page&&Zf.page===e.path?Zf.count++:Zf={page:e.path,time:Date.now(),count:1};var n=!0;Date.now()-Zf.time<=3e3&&3<Zf.count?(n=!1,console.error('onPageNotFound Error: Can not find page "'.concat(e.page,'".'))):Jf.emit(e),Object(u.v)("pageNotFoundCallback",{hasHandler:0<Jf.getGlobalListeners().length&&n,webviewId:t})}));var td,nd=Gf,rd=Xf,od=d.d,id=d.b,ad=Lf,cd=Wf,sd=zf,ud=Df,ld=d.f,fd=d.g,dd=es.onWebviewEvent,pd=new l.a;Object(u.B)("onLoadSubPackageTaskStateChange",(function(e){pd.emit(e.state,e.taskId,e)}));var hd={},vd=new WeakMap,gd=new WeakMap,yd=new WeakMap,_d=(new l.a,[]),bd=[],md=function(e){return hd[e]},wd=function(e){var t=Uo({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};pd.on("success",(function(e,t){td=void 0;var n=md(e);if(delete hd[e],n){var r=t.moduleName,o=gd.get(n),i=wd(t);bd.push(r),function(e){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e+="/"),e+="game.js"),u.y||4!==__wxConfig.appType||__subContextEngine__.getGameContext().evaluateScriptFile(e)}(r),i.errMsg="loadSubpackage:ok","function"==typeof o.success&&o.success(i),"function"==typeof o.complete&&o.complete(i)}Sd()})),pd.on("fail",(function(e,t){td=void 0;var n=md(e);if(delete hd[e],n){var r=gd.get(n),o=wd(t);o.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(o),"function"==typeof r.complete&&r.complete(o)}Sd()})),pd.on("progressUpdate",(function(e,t){var n=md(e);if(n){var r=yd.get(n),o=wd(t);"function"==typeof r&&r(o)}}));var Sd=function(){var e=_d.shift();e&&setTimeout((function(){Od.call(e)}),0)},Od=function(){var e,t=this,n=gd.get(this);if(0<=bd.indexOf(n.name)){var r={errMsg:"loadSubpackage:ok",moduleName:n.name};return"function"==typeof n.success&&n.success(r),void("function"==typeof n.complete&&n.complete(r))}if(td=this,Object(u.v)("createLoadSubPackageTask",{moduleName:n.name,success:function(e){vd.set(t,e.loadTaskId),hd[e.loadTaskId]=t},fail:function(t){td=void 0,t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"),e=t.errMsg,"function"==typeof n.fail&&n.fail(t),"function"==typeof n.complete&&n.complete(t),Sd()}}),e)throw new Error(e.replace("createLoadSubPackageTask:fail ",""))},Cd=function(){function e(t){Object(u.j)(this,e),gd.set(this,t),["success","fail","complete"].forEach((function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api loadSubpackage ".concat(e," callback function")))})),td?_d.push(this):Od.call(this)}return Object(u.l)(e,[{key:"onProgressUpdate",value:function(e){yd.set(this,(function(t){void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)}))}}]),e}(),Id={};__wxConfig.onReady((function(){var e=__wxConfig.preloadRule;e&&Object(d.f)((function(t){var n=t.path;e[n]&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: ".concat(e.packages.join(", ")));var t=e.packages.filter((function(e){return!(e in Id)}));return("all"!==e.network?new Promise((function(e,t){var n=de._getCurrentNetworkType();n?e(n):de.getNetworkType({success:function(n){n.networkType?e(n.networkType):t(new Error("get network type failed."))},fail:t})})).then((function(e){if("wifi"!==e.toLowerCase())return Promise.reject(new Error("network type does not match, '".concat(e,"' !== 'wifi'")))}),(function(e){return Promise.reject(new Error("get network type failed."))})):Promise.resolve()).then((function(){return Promise.all(t.map((function(e){return new Promise((function(n){!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.h)("loadSubPackage",e,{name:""})){var t=__wxConfig.subPackages||__wxConfig.subpackages;if(t){t.forEach((function(t){e.name!==t.alias&&e.name!==t.name||(e.name=t.root)})),e.name.startsWith("/")||(e.name="/".concat(e.name)),e.name.endsWith(".js")||e.name.endsWith("/")||(e.name="".concat(e.name,"/"));try{new Cd(e)}catch(t){Object(u.n)("loadSubpackage",e,t.message)}}else Object(u.n)("loadSubpackage",e,"Your subpackages configuration is invalid.")}}({name:e,success:function(r){Id[e]=!0,n(t)},fail:function(t){var r=new Error(t.errMsg.replace("loadSubpackage:fail",""));r.packageName=e,n(r)}})}))}))).then((function(e){if(0<(e=e.filter((function(e){return e instanceof Error}))).length){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}}))}))}(e[n]).then((function(){console.info("preloadSubpackages: success")}),(function(e){e._detail?(console.group("preloadSubpackages fail: ".concat(e.message)),e._detail.forEach((function(e){console.warn("".concat(e.packageName,": ").concat(e.message))})),console.groupEnd()):console.warn("preloadSubpackages fail: ".concat(e.message))}))}))})),Protect.hijack();var Ed=su.connectSocket,Td=su.closeSocket,kd=su.sendSocketMessage,Ad=su.onSocketOpen,xd=su.onSocketClose,Pd=su.onSocketMessage,jd=su.onSocketError,Nd=Fu.clearStorage,Dd=Fu.clearStorageSync,Rd=Fu.getStorage,Md=Fu.getStorageInfo,Bd=Fu.getStorageInfoSync,Ld=Fu.getStorageSync,Fd=Fu.removeStorage,Ud=Fu.removeStorageSync,qd=Fu.setStorage,Wd=Fu.setStorageSync,Vd={},Gd={getAppConfig:function(e,t){Object(u.v)("getAppConfig",e,t)},onAppConfig:function(e){Object(u.B)("onAppConfig",e)},onPullDownRefresh:function(e){Object(u.B)("onPullDownRefresh",e)},onShareAppMessage:W.onShareAppMessage,onTabItemTap:function(e){Object(u.B)("onTabItemTap",e)},publishAnalyticsConfig:function(e,t){Object(u.C)("analyticsConfig",e,t)},reportRealtimeAction:function(e,t){Object(u.v)("reportRealtimeAction",e,t)},shareAppMessage:function(e,t){Object(u.v)("shareAppMessage",e,t)},shareAppMessageDirectly:function(e,t){Object(u.v)("shareAppMessageDirectly",e,t)},shareAppMessageDirectlyToFriendList:W.shareAppMessageDirectlyToFriendList,shareAppPictureMessage:W.shareAppPictureMessage,shareAppPictureMessageDirectly:W.shareAppPictureMessageDirectly,subscribeAnalyticsReport:function(e){Object(u.E)("analyticsReport",e)},subscribeRecycleStatistics:function(e){Object(u.E)("recycleStatistics",e)},subscribeSavePageState:function(e){Object(u.E)("savePageState",e)},subscribeTapShareButton:function(e){Object(u.E)("tapShareButton",e)},showUpdatableMessageSubscribeButton:function(e,t){Object(u.v)("showUpdatableMessageSubscribeButton",e,t)},onAppUnhang:nd,onPageNotFound:rd,onAppEnterForeground:od,onAppEnterBackground:id,onAppShow:ad,onAppHide:cd,onError:sd,getLaunchOptionsSync:ud,showShareMenu:W.showShareMenu,ShareInfoStorage:W.ShareInfoStorage,setMessageToFriendQuery:W.setMessageToFriendQuery,onShareMessageToFriend:W.onShareMessageToFriend,_getRealRoute:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return Object(u.s)(p.b.lastRoute,e,t)},_triggerBeforeUnloadPage:Pn._triggerBeforeUnloadPage,_triggerBeforeShareAppMessage:Pn._triggerBeforeShareAppMessage,onAppRoute:ld,onAppRouteDone:fd,onPageReload:function(e){Pn.onPageReload.call(this,e)},onWebviewEvent:dd,createPluginWX:ip,publishFunctionalPage:function(e,t){Object(u.C)("functionalPage",e,t)},publishPageScrollTo:function(e,t){Object(u.C)("pageScrollTo",e,t)},publishUpdateAppData:function(e,t){Object(u.C)("__updateAppData",e,t)},subscribeCheckWebviewAliveOk:function(e){Object(u.E)("checkWebviewAliveOk",e)},publishCheckWebviewAlive:function(e,t){Object(u.C)("checkWebviewAlive",e,t)},subscribeSubjectInfo:function(e){Object(u.E)("subjectChangeInfo",e)},reportPv:function(e){Object(u.v)("operateWXData",{data:{api_name:"webapi_report_data",data:e}})},invokeWebviewMethod:u.w,invokeFlutterSetData:H.invokeFlutterSetData,getShareCookieString:an.d,checkAPIAvailable:u.f,reportAPIRecycle:Jt,getLogManager:pl,getSystemInfoSync:de.getSystemInfoSync,getNetworkType:de.getNetworkType,isIsolatedSubpackage:function(){var e=ed(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return!(!(null==e?void 0:e.independent)||!e.isolated)},onCallMethodFromWxs:function(e){Object(u.E)("vdCallComponentMethodForWxs",e)},queryBookshelf:X.queryBookshelf,updateBookshelfReadTime:X.updateBookshelfReadTime,navigateToBookshelf:X.navigateToBookshelf,onAddToFavorites:er.onAddToFavorites,addToFavorites:er.addToFavorites},Hd={drawCanvas:mo,createContext:Io,createCanvasContext:To,canvasToTempFilePath:Co,canvasGetImageData:vo,canvasPutImageData:yo,getAccountInfoSync:function(){return{miniProgram:{appId:__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||""}}},getShareInfo:W.getShareInfo,pageScrollTo:ts,chooseInvoiceTitle:function(){Object(u.v)("chooseInvoiceTitle",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var n=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=_extends(e,n)}catch(e){}}})},chooseInvoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("chooseInvoice",Uo(Uo({},e),{},{timeStamp:xi,nonceStr:String(xi)}),{beforeSuccess:function(e){}})},arrayBufferToBase64:Reporter.surroundThirdByTryCatch(u.b),base64ToArrayBuffer:Reporter.surroundThirdByTryCatch(u.d),openSetting:function(){!function(){Object(u.v)("openSetting",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){var t=e.authSetting||[];e.authSetting=t.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{})}})}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getExtConfig:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){var t={errMsg:"getExtConfig: ok",extConfig:Ts()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)}),0)},chooseMedia:function(){Object(u.v)("chooseMedia",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},chooseMultiMedia:function(){Object(u.v)("chooseMultiMedia",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},chooseWeChatContact:De.chooseWeChatContact,getExtConfigSync:Ts,showShareMenu:W.showShareMenu,hideShareMenu:W.hideShareMenu,updateShareMenu:W.updateShareMenu,setMessageToFriendQuery:W.setMessageToFriendQuery,onShareMessageToFriend:W.onShareMessageToFriend,openUrl:O.openUrl,setNavigationBarColor:we.setNavigationBarColor,setNavigationBarAlpha:we.setNavigationBarAlpha,vibrateShort:De.vibrateShort,vibrateLong:De.vibrateLong,getSetting:function(){Object(u.v)("getSetting",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){e.authSetting=e.authSetting.reduce((function(e,t){return e[t.scope]=1===t.state,e}),{})}})},addPhoneContact:De.addPhoneContacts,setScreenBrightness:De.setScreenBrightness,getScreenBrightness:De.getScreenBrightness,getWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("openWeRunSetting",{checkSupport:!0,success:function(){Object(u.v)("operateWXData",Object(u.c)({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getWeRunData")},beforeSuccess:function(e){u.x&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},getQQRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("openWeRunSetting",{checkSupport:!0,success:function(){Object(u.v)("operateWXData",Object(u.c)({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getQQRunData")},beforeSuccess:function(e){u.x&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getQQRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api getQQRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api getQQRunData fail callback function")(t)}}),Reporter.reportApiCall({apiname:"getQQRunData"})},uploadWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(u.n)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(u.v)("openWeRunSetting",{checkSupport:!1,success:function(){Object(u.v)("uploadWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},addWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(u.n)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(u.v)("openWeRunSetting",{checkSupport:!1,success:function(){Object(u.v)("addWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},canIUse:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:de.SDKVersion;if("string"!=typeof e)throw new ei("canIUse: schema should be an object");var n=e.split(".");return!!Hu.apply(void 0,[t].concat(cs(n)))||!!Yu.apply(void 0,[t].concat(cs(n)))},setPageStyle:as,triggerGettingWidgetData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("triggerGettingWidgetData",e,{cacheKey:""})&&Object(u.v)("triggerGettingWidgetData",e,{})},navigateToMiniProgram:function(e){__wxConfig.accountInfo.appId,0===__wxConfig.appType?ln?(vn(e),Jt({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===fn?-2:Date.now()-fn})):Object(u.e)("navigateToMiniProgram",e,!1,"can only be invoked by user TAP gesture."):vn(e)},navigateToDevMiniProgram:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("navigateToDevMiniProgram",e,{appId:""})&&Object(u.v)("navigateToDevMiniProgram",e,{})},navigateBackMiniProgram:gn,setNavigationBarRightButton:we.setNavigationBarRightButton,onTapNavigationBarRightButton:we.onTapNavigationBarRightButton,setTopBarText:we.setTopBarText,setTabBarBadge:we.setTabBarBadge,removeTabBarBadge:we.removeTabBarBadge,showTabBarRedDot:we.showTabBarRedDot,hideTabBarRedDot:we.hideTabBarRedDot,showTabBar:we.showTabBar,hideTabBar:we.hideTabBar,setTabBarStyle:we.setTabBarStyle,setTabBarItem:we.setTabBarItem,setBackgroundColor:_s,setBackgroundTextStyle:bs,setEnableDebug:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setEnableDebug",e,{enableDebug:!0})&&(Object(u.v)("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 qq.setEnableDebug 打开调试"))},captureScreen:De.captureScreen,onUserCaptureScreen:De.onUserCaptureScreen,setKeepScreenOn:De.setKeepScreenOn,reportIDKey:function(e,t){},reportKeyValue:function(e,t){},setNavigationBarTitle:we.setNavigationBarTitle,showNavigationBarLoading:we.showNavigationBarLoading,hideNavigationBarLoading:we.hideNavigationBarLoading,startPullDownRefresh:ns,stopPullDownRefresh:rs,operateWXData:nn,getOpenDeviceId:Ai,getMenuButtonBoundingClientRect:function(e){var t,n={};if(Object(u.v)("getMenuButtonBoundingClientRect",{success:function(e){_extends(n,e),delete n.errMsg},fail:function(e){t=e.errMsg}}),t)throw new ti(t);return n},redirectTo:Pn.redirectTo,reLaunch:Pn.reLaunch,navigateTo:Pn.navigateTo,switchTab:Pn.switchTab,navigateBack:Pn.navigateBack,onAppShow:Mf,offAppShow:Bf,onAppHide:Uf,offAppHide:qf,onError:zf,offError:Kf,getLaunchOptionsSync:function(){if(!xf)throw new Error("getLaunchOptionsSync:fail get launch options");return xf||{}},onWindowResize:function(e){ls.push(e)},offWindowResize:function(e){ls.splice(ls.indexOf(e),1)},getStorage:Rd,getStorageSync:Ld,setStorage:qd,setStorageSync:Wd,removeStorage:Fd,removeStorageSync:Ud,clearStorage:Nd,clearStorageSync:Dd,getStorageInfo:Md,getStorageInfoSync:Bd,startWifi:u.A,stopWifi:u.A,getWifiList:u.A,getConnectedWifi:u.A,connectWifi:u.A,presetWifiList:u.A,setWifiList:u.A,onGetWifiList:u.A,onWifiConnected:u.A,onEvaluateWifi:u.A,startDownloadAppTask:S.startDownloadAppTask,cancelDownloadAppTask:S.cancelDownloadAppTask,queryDownloadAppTask:S.queryDownloadAppTask,queryAppInfo:S.queryAppInfo,installApp:S.installApp,startApp:S.startApp,shareInvite:C.shareInvite,saveAppToDesktop:O.saveAppToDesktop,showMiniAIOEntrance:P.showMiniAIOEntrance,hideMiniAIOEntrance:P.hideMiniAIOEntrance,addGroupCalendar:K.addGroupCalendar,getGroupAppStatus:K.getGroupAppStatus,modifyGroupCalendar:K.modifyGroupCalendar,removeGroupCalendar:K.removeGroupCalendar,getGroupCalendarDetail:K.getGroupCalendarDetail,openActivity:O.openActivity,getPerformance:U.getPerformance,request:Vs,wnsRequest:P.wnsRequest,notifyNative:P.notifyNative,openScheme:P.openScheme,openQzonePublish:P.openQzonePublish,setOfficialDress:P.setOfficialDress,setCustomDress:P.setCustomDress,getUserInfoExtra:P.getUserInfoExtra,invokeNativePlugin:P.invokeNativePlugin,onNativePluginEvent:P.onNativePluginEvent,getCloudTicket:P.getCloudTicket,detectAbnormalLog:P.detectAbnormalLog,preloadPackage:P.preloadPackage,exitMiniProgram:O.exitMiniProgram,updateQQApp:O.updateQQApp,connectSocket:Ed,closeSocket:Td,sendSocketMessage:kd,onSocketOpen:Ad,onSocketClose:xd,onSocketMessage:Pd,onSocketError:jd,uploadFile:$s,downloadFile:Je.downloadFile,addNativeDownloadTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.z?Object(u.n)("addNativeDownloadTask",e,"iOS not supported"):Object(u.v)("addNativeDownloadTask",e,{})},calRqt:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("calRqt",e,{rqt:""})&&Object(u.v)("calRqt",e)},secureTunnel:function(e){Object(u.v)("secureTunnel",e)},chooseMessageFile:bt.chooseMessageFile,chooseExternalFile:bt.chooseExternalFile,chooseImage:tt.chooseImage,previewImage:tt.previewImage,getImageInfo:tt.getImageInfo,saveImageToPhotosAlbum:tt.saveImageToPhotosAlbum,compressImage:tt.compressImage,startRecord:Tt.startRecord,stopRecord:Tt.stopRecord,playVoice:at.playVoice,pauseVoice:at.pauseVoice,stopVoice:at.stopVoice,onVoicePlayEnd:at.onVoicePlayEnd,chooseVideo:nt.chooseVideo,saveVideoToPhotosAlbum:nt.saveVideoToPhotosAlbum,loadFontFace:it.loadFontFace,getLocation:Os,openLocation:Is,chooseLocation:Cs,startLocationUpdate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("enableLocationUpdate",Uo(Uo({},e),{},{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","startLocationUpdate")}}),Es=!0},stopLocationUpdate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("enableLocationUpdate",Uo(Uo({},e),{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","stopLocationUpdate")}}),Es=!1},onLocationChange:function(e){Es||(Object(u.v)("enableLocationUpdate",{enable:!0}),Es=!0),Object(u.B)("onLocationChange",(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Reporter.surroundThirdByTryCatch(e,"at onLocationChange callback function")(t)}))},getNetworkType:de.getNetworkType,onNetworkStatusChange:de.onNetworkStatusChange,getSystemInfo:de.getSystemInfo,getSystemInfoSync:de.getSystemInfoSync,getQua:de.getQua,getEnvVersion:U.getEnvVersion,getBatteryInfo:De.getBatteryInfo,getBatteryInfoSync:De.getBatteryInfoSync,startAccelerometer:De.startAccelerometer,stopAccelerometer:De.stopAccelerometer,onAccelerometerChange:De.onAccelerometerChange,startCompass:De.startCompass,stopCompass:De.stopCompass,onCompassChange:De.onCompassChange,startDeviceMotionListening:De.startDeviceMotionListening,stopDeviceMotionListening:De.stopDeviceMotionListening,onDeviceMotionChange:De.onDeviceMotionChange,startGyroscope:De.startGyroscope,stopGyroscope:De.stopGyroscope,onGyroscopeChange:De.onGyroscopeChange,reportAction:function(e){Object(u.v)("reportAction",e)},getBackgroundAudioManager:Kt.getBackgroundAudioManager,getRecorderManager:Tt.getRecorderManager,getBackgroundAudioPlayerState:Kt.getBackgroundAudioPlayerState,playBackgroundAudio:Kt.playBackgroundAudio,pauseBackgroundAudio:Kt.pauseBackgroundAudio,seekBackgroundAudio:Kt.seekBackgroundAudio,stopBackgroundAudio:Kt.stopBackgroundAudio,onBackgroundAudioPlay:Kt.onBackgroundAudioPlay,onBackgroundAudioPause:Kt.onBackgroundAudioPause,onBackgroundAudioStop:Kt.onBackgroundAudioStop,joinVoIPChat:Se.joinVoIPChat,exitVoIPChat:Se.exitVoIPChat,subscribeAppMsg:rr.subscribeAppMsg,requestSubscribeSystemMessage:rr.requestSubscribeSystemMessage,addRecentColorSign:ir.addRecentColorSign,isColorSignExistSync:ir.isColorSignExistSync,updateVoIPChatMuteConfig:Se.updateVoIPChatMuteConfig,onVoIPChatMembersChanged:Se.onVoIPChatMembersChanged,onVoIPChatSpeakersChanged:Se.onVoIPChatSpeakersChanged,onVoIPChatInterrupted:Se.onVoIPChatInterrupted,openGroupNotice:K.openGroupNotice,openGroupRemind:K.openGroupRemind,getGroupInfo:K.getGroupInfo,getGroupInfoExtra:K.getGroupInfoExtra,setBackgroundFetchToken:U.setBackgroundFetchToken,getBackgroundFetchToken:U.getBackgroundFetchToken,getBackgroundFetchData:U.getBackgroundFetchData,onBackgroundFetchData:U.onBackgroundFetchData,login:function(e){Object(u.v)("login",e)},checkSession:function(e){Oi&&clearTimeout(Oi),Object(u.v)("refreshSession",e,{beforeSuccess:function(e){Oi=setTimeout((function(){Object(u.v)("refreshSession")}),1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:function(e){e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},authorize:ki,getUserInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.f)("getUserInfo");Object(u.v)("operateWXData",Object(u.c)({},e,{data:{api_name:"webapi_getuserinfo",with_credentials:"boolean"!=typeof e.withCredentials||e.withCredentials,show_confirm:t,data:{lang:e.lang||"en"}}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")},beforeSuccess:function(e){u.x&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}catch(e){}}})},requestPayment:I.requestPayment,requestMidasPayment:I.requestMidasPayment,requestMidasGoodsPay:I.requestMidasGoodsPay,requestMidasMonthCardPay:I.requestMidasMonthCardPay,requestWxPayment:I.requestWxPayment,faceVerifyForPay:function(){Object(u.v)("faceVerifyForPay",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},scanCode:De.scanCode,openQRCode:De.openQRCode,chooseAddress:function(e){Object(u.v)("openAddress",e,{beforeSuccess:function(e){ni(e,"addressPostalCode","postalCode"),ni(e,"proviceFirstStageName","provinceName"),ni(e,"addressCitySecondStageName","cityName"),ni(e,"addressCountiesThirdStageName","countyName"),ni(e,"addressDetailInfo","detailInfo")},beforeAll:function(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},saveFile:du,openDocument:function(e){Object(u.h)("openDocument",e,{filePath:""})&&Object(u.v)("openDocument",e)},getSavedFileList:pu,getSavedFileInfo:hu,getFileInfo:gu,removeSavedFile:vu,getFileSystemManager:function(){return Pu},chooseContact:De.chooseContact,removeUserCloudStorage:function(e){var t=nr(e.keyList);t?Object(u.n)("removeUserCloudStorage",e,t):(Object(u.v)("removeUserCloudStorage",e),Reporter.reportApiCall({apiname:"removeUserCloudStorage"}))},setUserCloudStorage:function(e){Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some((function(e){if("object"!==tr(e)||"string"!=typeof e.key||"string"!=typeof e.value)return!0}))?Object(u.n)("setUserCloudStorage",e,"invalid KVData item"):(Object(u.v)("setUserCloudStorage",e),Reporter.reportApiCall({apiname:"setUserCloudStorage"})):Object(u.n)("setUserCloudStorage",e,"KVDataList.length must greater than 0"):Object(u.n)("setUserCloudStorage",e,"KVDataList must be an Array")},getUserInteractiveStorage:function(e){var t=nr(e.keyList);t?Object(u.n)("getUserInteractiveStorage",e,t):(Object(u.v)("getUserInteractiveStorage",e),Reporter.reportApiCall({apiname:"getUserInteractiveStorage"}))},onInteractiveStorageModified:function(e){Object(u.B)("onInteractiveStorageModified",e),Reporter.reportApiCall({apiname:"onInteractiveStorageModified"})},makePhoneCall:De.makePhoneCall,makeVoIPCall:De.makeVoIPCall,onAppRoute:d.f,onAppRouteDone:d.g,onAppEnterBackground:d.b,onAppEnterForeground:d.d,onAppUnhang:Hf,onPageReload:function(e){Pn.onPageReload.call(Hd,e)},onPageNotFound:Xf,offPageNotFound:Qf,createAnimation:us,createInnerAudioContext:Yc,getAvailableAudioSources:function(e){Object(u.v)("getAvailableAudioSources",e)},setInnerAudioOption:function(e){Object(u.v)("setInnerAudioOption",e)},createAudioContext:function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return Ya.call(Hd,e,p.b.currentWebviewId,n)},createVideoContext:function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return ic.call(Hd,e,p.b.currentWebviewId,n)},createMapContext:function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return Bi.call(Hd,e,p.b.currentWebviewId,n)},createCameraContext:function(){return Xi.call(Hd,null,p.b.currentWebviewId)},createLivePlayerContext:function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return Oa.call(Hd,e,p.b.currentWebviewId,n)},createExternalElementContext:function(e,t){var n=(null==t?void 0:t.__wxExparserNodeId__)&&t.__wxExparserNodeId__!==o.getRootNodeId(p.b.currentWebviewId)?t.__wxExparserNodeId__:"";return Ca.call(Hd,e,p.b.currentWebviewId,n)},createLivePusherContext:function(){return Ba.call(Hd,null,p.b.currentWebviewId)},onWebviewEvent:es.onWebviewEvent,onNativeEvent:es.onNativeEvent,hideKeyboard:function(e){u.y?Object(u.C)("hideKeyboard",{}):Object(u.v)("hideKeyboard",e)},onKeyboardHeightChange:function(e){Object(u.B)("onKeyboardHeightChange",(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Reporter.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)}))},getPublicLibVersion:function(){var e;return Object(u.v)("getPublicLibVersion",{complete:function(t){t.version?e=t.version:delete(e=t).errMsg}}),e},showModal:we.showModal,showToast:we.showToast,hideToast:we.hideToast,showLoading:we.showLoading,hideLoading:we.hideLoading,showActionSheet:we.showActionSheet,hideHomeButton:we.hideHomeButton,reportAnalytics:P.reportAnalytics,reportMonitor:P.reportMonitor,getClipboardData:De.getClipboardData,setClipboardData:De.setClipboardData,createSelectorQuery:function(e){return js(e,"")},createIntersectionObserver:function(e,t){return Bs(e,t,"")},nextTick:function(e){e&&"function"==typeof e&&(Ls.push(e),Fs||(Fs=setTimeout(Us,0)))},updatePerfData:function(e){Object(u.v)("updatePerfData",e)},traceEvent:function(e){Object(u.v)("traceEvent",e)},onMemoryWarning:function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1]?fl=e:hl.push(Reporter.surroundThirdByTryCatch(e,"at onMemoryWarning callback function"))},getUpdateManager:function(){return El},createWorker:function(e){if(function(e){for(var t=0;t<Ao.length;t++)if(e===Ao[t])return!0;return!1}(e))throw new Error('createWorker: Worker "'.concat(e,'" hit black list'));if(Ro.size>=xo)throw new Error("createWorker: exceed max concurrent workers limit.");var t=__safeway__.worker.create("workers.js");if(0<t)return new Mo(t,e);throw-1===t?new Error('createWorker: Worker "'.concat(e,'" does not exists.')):-1===t?new Error("createWorker: worker is not supported in system webview mode"):new Error("createWorker: unknown error. ret:".concat(t))},voiceSplitJoint:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("voiceSplitJoint",e)},uploadSilkVoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("uploadSilkVoice",e)},downloadSilkVoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("downloadSilkVoice",e)},getResPath:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("getResPath",e)},setResPath:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.v)("setResPath",e)},setCookies:an.e,getCookies:an.a,getLabInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("getLabInfo",e,{labId:""})&&Object(u.v)("getLabInfo",e)},setLabInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(u.h)("setLabInfo",e,{labId:"",enabled:Boolean()})&&Object(u.v)("setLabInfo",e)},createUDPSocket:function(){return new lr},createRewardedVideoAd:Zn.createRewardedVideoAd,createAppBox:Zn.createAppBox,createInterstitialAd:Zn.createInterstitialAd,_getCurrentRoutes:function(e){var t=a.getCurrentPages().map((function(e){return e.route}));setTimeout((function(){var n;null==e||null===(n=e.success)||void 0===n||n.call(e,{routes:t})}))},_getLastEnterAppTime:function(e){setTimeout((function(){var t;null==e||null===(t=e.success)||void 0===t||t.call(e,{lastEnterAppTime:Ii})}))},_getStayAppTime:function(e){setTimeout((function(){var t;null==e||null===(t=e.success)||void 0===t||t.call(e,{stayAppTime:Ei+(Date.now()-Ii)})}))},_getAdExtraReportRefer:function(e){_i||(__qqConfig.adReportInfo&&(_i=__qqConfig.adReportInfo),(_i=_i||{}).appStartTime||(_i.appStartTime=Ci),delete __qqConfig.adReportInfo),setTimeout((function(){var t;null==e||null===(t=e.success)||void 0===t||t.call(e,_extends(_i||{},{scene:__qqConfig.appLaunchInfo.scene}))}))},_adExtraReport:function(e){qq.request({url:"https://rpt.gdt.qq.com/mqq_log",method:"POST",data:e,success:function(t){var n;null==e||null===(n=e.success)||void 0===n||n.call(e,t)},fail:function(t){var n;null==e||null===(n=e.fail)||void 0===n||n.call(e,t)}})},getRealtimeLogManager:U.getRealtimeLogManager,env:jf,getLogManager:pl,cloud:e.getCloudAPI(),version:void 0===__libVersionInfo__?{version:"9.9.9"}:__libVersionInfo__,enterContact:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};__wxConfig.onReady((function(){if(2!==__wxConfig.appType&&7!==__wxConfig.appType){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,Object(u.w)("appServiceEnterContact",e,[p.b.currentWebviewId],(function(t){t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact"));var n=0===t.errMsg.indexOf("enterContact:ok");t.errMsg.indexOf("enterContact:fail"),n?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)}))}))},queryBookshelf:X.queryBookshelf,updateBookshelfReadTime:X.updateBookshelfReadTime,navigateToBookshelf:X.navigateToBookshelf};function Yd(e){Vd.__defineGetter__(e,(function(){var t=Hd[e],n=this;if("function"==typeof t)return Xo((function(r){if(ci(e,"",r)){var o=di(e,t);return function(e,t){var n=ri(e,"log");if(!n)return t;var r=0,o="request"===e;return function(){var i=o?" with seq ".concat(r):"";r++;var a=arguments[0];1===n&&a&&"object"===Object(u.I)(a)&&["success","fail"].forEach((function(t){var n=a[t];"function"==typeof n&&(a[t]=function(r){"function"==typeof n&&n.apply(null,arguments),(null==$d?void 0:$d.logApiInvoke)&&$d.log("qq.".concat(e," ").concat(t," callback").concat((null==r?void 0:r.errMsg)?" with msg ".concat(r.errMsg):" ").concat(i))})})),(null==$d?void 0:$d.logApiInvoke)&&$d.log("qq.".concat(e," api invoke").concat(i));var c=t.apply(Hd,arguments);return 2===n&&$d&&$d.logApiInvoke&&$d.log("qq.".concat(e," return")),c}}(e,o).apply(n,arguments)}if("Sync"===e.slice(-4))throw new ei("".concat(e,":fail rejected due to no permission currently"));(null==r?void 0:r.fail)&&setTimeout((function(){Object(u.n)(e,r,"rejected due to no permission currently")}),0)})," at qq.".concat(e));if(!ci(e,""))throw new ei("".concat(e,":fail rejected due to no permission currently"));return t}))}["login","getUserInfo","getShareInfo","getWeRunData","getQQRunData"].forEach((function(e){var t=Hd[e];Hd[e]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){var n=t.timeout;if("number"==typeof n){var r=!1,o=setTimeout((function(){var e={errMsg:"request timeout"};r=!0,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)}),n),i=["success","fail","complete"].reduce((function(e,n){return e[n]=function(e){r||(clearTimeout(o),"function"==typeof t[n]&&t[n](e))},e}),{});e(_extends({},t,i))}else e(t)}(t,e)}})),Object(u.E)("INVOKE_METHOD",(function(e,t){var n=e.name,r=e.args;Hd[n](r,!0)})),Object(u.E)("WEBVIEW_ERROR_MSG",(function(e,t){var n=e.msg;Reporter.triggerErrorMessage(n)})),Object(u.B)("onError",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("thirdScriptError","\n","sdk uncaught third Error","\n",e.message,"\n",e.stack)}));var $d=pl();for(var zd in Hd)Yd(zd);var Kd={canvas:ro,canvasInfo:to,onCanvasMethodCallbackOnce:uo,clearOldWebviewCanvas:fo,createContext:Io,drawCanvasImpl:bo,drawCanvas:mo,canvasToTempFilePath:Co,createCanvasContext:To,drawCanvas4Plugin:function(e,t,n){bo(e,p.b.currentWebviewId,t,n)},canvasToTempFilePath4Plugin:function(e,t,n){Oo(e,n,t)},createCanvasContext4Plugin:function(e,t,n){return Eo(p.b.currentWebviewId,e,n,t)},canvasGetImageData4Plugin:function(e,t,n){ho(e,n,t)},canvasPutImageData4Plugin:function(e,t,n){go(e,n,t)},canvasToDataURL:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Wr(p.b.currentWebviewId,e.canvasId),n=Lr({},e),r=n.success,o=n.complete;n.success=function(e){var t="data:image/".concat(n.fileType||"png",";base64,").concat(e.data);"function"==typeof r&&r({dataURL:t}),"function"==typeof o&&o({dataURL:t})},n.complete=u.A,"number"==typeof ro[t]?(n.canvasId=ro[t],u.y?(n.method="toDataURL",uo(n,(function(e){var t=e.dataUrl;n.success({data:t})})),Object(u.C)("invokeCanvasMethod",n)):Object(u.v)("canvasToData",n)):po("canvasToDataURL",e)},canvasGetImageData:vo,canvasPutImageData:yo},Jd={},Xd=[];for(var Qd in Kd)Qd.endsWith("4Plugin")&&Xd.push(Qd);Xd.forEach((function(e){var t=e.replace("4Plugin","");Jd[t]=function(t,n){var r=Object(Bo.a)(this),o=Object(Bo.d)(this),i=(null==n?void 0:n.__wxExparserNodeId__)?n.__wxExparserNodeId__:"";return Kd[e].call(this,t,"".concat(r,"/").concat(o),i)}}));var Zd,ep,tp=Jd,np={createVideoContext:ic,createSQVideoContext:ac,createCameraContext:Xi,createMapContext:Bi,createInnerAudioContext:Yc,createLivePlayerContext:Oa,createExternalElementContext:Ca,createSQLivePlayerContext:Ia,createLivePusherContext:Ba,createAudioContext:Ya,createSQEditorContext:Mr},rp={onSubpackageReady:function(e){pd.on("success",e)},getSubpackagesConfig:function(){return __wxConfig.subPackages||__wxConfig.subpackages}},op={getAccountInfoSync:function(){var e,t,n=Object(Bo.a)(this);return{miniProgram:{appId:__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||""},plugin:{appId:n||"",version:(e=Bo.c.pluginInfos[n].customVersion,t=Number(e),[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join("."))}}},startDownloadAppTask:S.startDownloadAppTask,cancelDownloadAppTask:S.cancelDownloadAppTask,queryDownloadAppTask:S.queryDownloadAppTask,queryAppInfo:S.queryAppInfo,installApp:S.installApp,startApp:S.startApp,shareInvite:C.shareInvite,saveAppToDesktop:O.saveAppToDesktop,showMiniAIOEntrance:P.showMiniAIOEntrance,hideMiniAIOEntrance:P.hideMiniAIOEntrance,addGroupCalendar:K.addGroupCalendar,getGroupAppStatus:K.getGroupAppStatus,modifyGroupCalendar:K.modifyGroupCalendar,removeGroupCalendar:K.removeGroupCalendar,getGroupCalendarDetail:K.getGroupCalendarDetail,openActivity:O.openActivity,getPerformance:U.getPerformance,request:tf.request,wnsRequest:P.wnsRequest,notifyNative:P.notifyNative,openScheme:P.openScheme,setOfficialDress:P.setOfficialDress,setCustomDress:P.setCustomDress,getUserInfoExtra:P.getUserInfoExtra,openQzonePublish:P.openQzonePublish,invokeNativePlugin:P.invokeNativePlugin,onNativePluginEvent:P.onNativePluginEvent,getCloudTicket:P.getCloudTicket,detectAbnormalLog:P.detectAbnormalLog,exitMiniProgram:O.exitMiniProgram,updateQQApp:O.updateQQApp,uploadFile:tf.uploadFile,downloadFile:tf.downloadFile,connectSocket:tf.connectSocket,getStorage:uf.getStorage,getStorageSync:uf.getStorageSync,removeStorage:uf.removeStorage,removeStorageSync:uf.removeStorageSync,setStorage:uf.setStorage,setStorageSync:uf.setStorageSync,createAudioContext:df.createAudioContext,createCameraContext:df.createCameraContext,createMapContext:df.createMapContext,createVideoContext:df.createVideoContext,createInnerAudioContext:df.createInnerAudioContext,createLivePlayerContext:df.createLivePlayerContext,createLivePusherContext:df.createLivePusherContext,createSelectorQuery:function(e){return js(e,Object(Bo.a)(this))},createIntersectionObserver:function(e,t){return Bs(e,t,Object(Bo.a)(this))},createCanvasContext:tp.createCanvasContext,drawCanvas:tp.drawCanvas,canvasToTempFilePath:tp.canvasToTempFilePath,canvasGetImageData:tp.canvasGetImageData,canvasPutImageData:tp.canvasPutImageData,createAnimation:us,reportAnalytics:P.reportAnalytics,chooseMessageFile:bt.chooseMessageFile,chooseExternalFile:bt.chooseExternalFile,chooseImage:tt.chooseImage,previewImage:tt.previewImage,getImageInfo:function(e){return tt.getImageInfoWithDownloadFile(e,tf.downloadFile.bind(this))},saveImageToPhotosAlbum:tt.saveImageToPhotosAlbum,startRecord:Tt.startRecord,stopRecord:Tt.stopRecord,getRecorderManager:Tt.getRecorderManager,playVoice:at.playVoice,pauseVoice:at.pauseVoice,stopVoice:at.stopVoice,getBackgroundAudioManager:Kt.getBackgroundAudioManager,chooseVideo:nt.chooseVideo,saveVideoToPhotosAlbum:nt.saveVideoToPhotosAlbum,getLocation:Os,openLocation:Is,chooseLocation:Cs,getNetworkType:de.getNetworkType,onNetworkStatusChange:de.onNetworkStatusChange,getSystemInfo:de.getSystemInfo,getSystemInfoSync:de.getSystemInfoSync,getQua:de.getQua,getEnvVersion:U.getEnvVersion,startAccelerometer:De.startAccelerometer,stopAccelerometer:De.stopAccelerometer,onAccelerometerChange:De.onAccelerometerChange,startCompass:De.startCompass,stopCompass:De.stopCompass,onCompassChange:De.onCompassChange,getClipboardData:De.getClipboardData,setClipboardData:De.setClipboardData,makePhoneCall:De.makePhoneCall,makeVoIPCall:De.makeVoIPCall,scanCode:De.scanCode,captureScreen:De.captureScreen,onUserCaptureScreen:De.onUserCaptureScreen,setKeepScreenOn:De.setKeepScreenOn,setScreenBrightness:De.setScreenBrightness,getScreenBrightness:De.getScreenBrightness,vibrateShort:De.vibrateShort,vibrateLong:De.vibrateLong,addPhoneContact:De.addPhoneContact,login:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Uo(Uo({},e),{},{miniprogram_appid:__wxConfig.accountInfo.appId});hf.call(this,{apiName:"webapi_plugin_login",reqData:t,success:function(t){"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},getUserInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Uo(Uo({},e),{},{miniprogram_appid:__wxConfig.accountInfo.appId});vf.call(this,{apiName:"webapi_plugin_getuserinfo",reqData:t,success:function(t){t.userInfo=JSON.parse(t.respData.data),delete t.respData,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},getSetting:function(e){var t=0<arguments.length&&void 0!==e?e:{},n=_extends({},t,{miniprogram_appid:__wxConfig.accountInfo.appId,filter_auth_status:1});gf.call(this,{apiName:"webapi_getpluginuserscope",reqData:n,success:function(e){e.authSetting=(JSON.parse(e.respData.data).auth_item||[]).reduce((function(e,t){return e[t.scope]=1===t.auth_status,e}),{}),delete e.respData,"function"==typeof t.success&&t.success(e)},fail:t.fail,complete:t.complete})},operateWXData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Object(Bo.a)(this);e.pluginId=t,on(e)},showModal:we.showModal,showToast:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.image){if(0!==e.image.indexOf("/"))return void Object(u.n)("showToast",e,"parameter 'image' must be begin with '/'");var t=Object(Bo.a)(this);e=Uo(Uo({},e),{},{image:o.getPluginRoutePrefix(t)+e.image.substr(1)})}we.showToast(e)},hideToast:we.hideToast,showLoading:we.showLoading,hideLoading:we.hideLoading,showActionSheet:we.showActionSheet,hideHomeButton:we.hideHomeButton,pageScrollTo:ts,setPageStyle:as,startPullDownRefresh:ns,stopPullDownRefresh:rs,setNavigationBarTitle:we.setNavigationBarTitle,showNavigationBarLoading:we.showNavigationBarLoading,hideNavigationBarLoading:we.hideNavigationBarLoading,setNavigationBarColor:we.setNavigationBarColor,setNavigationBarAlpha:we.setNavigationBarAlpha,setNavigationBarRightButton:we.setNavigationBarRightButton,onTapNavigationBarRightButton:we.onTapNavigationBarRightButton,getShareInfo:W.getShareInfo,showShareMenu:W.showShareMenu,hideShareMenu:W.hideShareMenu,updateShareMenu:W.updateShareMenu,setBackgroundColor:_s,setBackgroundTextStyle:bs,navigateTo:Pn.navigateTo,redirectTo:Pn.redirectTo,navigateBack:Pn.navigateBack,switchTab:Pn.switchTab,reLaunch:Pn.reLaunch,getBackgroundAudioPlayerState:Kt.getBackgroundAudioPlayerState,playBackgroundAudio:Kt.playBackgroundAudio,pauseBackgroundAudio:Kt.pauseBackgroundAudio,seekBackgroundAudio:Kt.seekBackgroundAudio,stopBackgroundAudio:Kt.stopBackgroundAudio,onBackgroundAudioPlay:Kt.onBackgroundAudioPlay,onBackgroundAudioPause:Kt.onBackgroundAudioPause,onBackgroundAudioStop:Kt.onBackgroundAudioStop,setCookies:an.f,getCookies:an.b,arrayBufferToBase64:Reporter.surroundThirdByTryCatch(u.b),base64ToArrayBuffer:Reporter.surroundThirdByTryCatch(u.d)};function ip(e,t){return new of(op,e,t)}var ap={wx:Vd,createPluginWX:ip,showShareMenu:W.showShareMenu,setMessageToFriendQuery:W.setMessageToFriendQuery,onShareMessageToFriend:W.onShareMessageToFriend,setWxInterfaceDisabled:ai,setWxInterfaceIsInvokeInTap:ui,unsetWxInterfaceIsInvokeInTap:li,_setWxIsInvokeInTapForNavToMiniProgram:dn,_createSelectorQuery:js,_createIntersectionObserver:Bs,pluginInfos:kf,_virtualDOMTunnel:(Zd=u.C,ep=u.E,{vdSync:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.splice(0,0,"vdSync"),Zd.apply(void 0,t)},vdSyncBatch:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.splice(0,0,"vdSyncBatch"),Zd.apply(void 0,t)},onVdSync:function(e){ep("vdSync",e)},onVdSyncBatch:function(e){ep("vdSyncBatch",e)}})};Nf(ap,Gd,Hd),Nf(ap,rp,Hd),Nf(ap,lu,Hd),i.default=ap}]).default,n=t.wx;void 0!==__exportGlobal__&&(__exportGlobal__.wx=n)&&(__exportGlobal__.qq=n);var r=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(3),i=n(4),a=n(5),c=n(14),s=n(15),u=n(18),l=n(21),f=n(20),d=n(22),p=n(23),h=n(19),v=n(16),g=n(24),y=n(2),_=n(25);function b(e){var t="";if(e instanceof Nta.Element&&(e.id&&(t+=' id="'.concat(e.id,'"')),e.slot&&(t+=' slot="'.concat(e.slot,'"')),e.__slotName&&(t+=' name="'.concat(e.__slotName,'"')),e.classList&&(t+=' class="'.concat(e.class,'"')),e.$$&&e.$$.getAttribute("style")&&(t+=' style="'.concat(e.$$.getAttribute("style"),'"'))),e instanceof Nta.VirtualNode)return t;if(e instanceof Nta.Component)return u.listPublicProperties(e).forEach((function(n){t+=" ".concat(n,"=").concat(JSON.stringify(e[n]))})),t;for(var n=e.attributes,r=0;r<n.length;r++)t+=" ".concat(n[r].name,'="').concat(n[r].value,'"');return t}t.FreeTmpl=_,t.precompileTemplate=_.precompiler?_.precompiler.compile:null,t.precompiler=_.precompiler?_.precompiler:null,t.HtmlLLParser=_.htmlParser?_.htmlParser:null,t.dataPath=a,t.dataUtils=o,t.Event=i,t.Element=s,t.TextNode=l,t.NativeNode=f,t.VirtualNode=d,t.ShadowRoot=p,t.Behavior=c,t.Component=u,t.Observer=v,t.DataGroup=h,t.ElementIterator=g,t.registerBehavior=c.create,t.registerElement=u.register,t.createElement=u.create,t.createTextNode=l.create,t.createVirtualNode=d.create,t.appendChild=s.appendChild,t.insertBefore=s.insertBefore,t.removeChild=s.removeChild,t.replaceChild=s.replaceChild,t.addListenerToElement=i.addListenerToElement,t.removeListenerFromElement=i.removeListenerFromElement,t.triggerEvent=i.triggerEvent,t.safeCallback=r.safeCallback,t.addGlobalErrorListener=r.addGlobalErrorListener,t.removeGlobalErrorListener=r.removeGlobalErrorListener,t.globalOptions=y,u._setDefaultTemplateEngine(_),(t.updateDefaultComponent=function(){delete u._list[""],u.register({is:"",options:{writeOnly:!0,allowInWriteOnly:!0,lazyRegistration:!1,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1}})})();var m=t.dumpElementToString=function(e,t,n){var r,o,i=null;y.hasDOMBackend&&(i=window);var a=0,c="";for(a=n=n||0;a;a--)c+="  ";var s="";if(e instanceof Nta.Element)s+="".concat(c,"<").concat(e.$$?"".concat(e.$$.tagName.toLowerCase(),":"):"").concat(e.is).concat(b(e),">"),s+=e instanceof Nta.VirtualNode?" [Exp-Virtual]":e instanceof Nta.NativeNode?" [Exp-Native]":" [Exp-Component]",s+="\n".concat(m(t?e.__wxSlotChildren:e.childNodes,t,n+1));else if(e instanceof Nta.TextNode)s+="".concat(c+e.textContent," [Exp-Text]\n");else if((null===(r=i)||void 0===r?void 0:r.HTMLElement)&&e instanceof i.HTMLElement)s+="".concat(c,"<").concat(e.tagName.toLowerCase()).concat(b(e),"> [DOM-Element]"),s+="\n".concat(m(t&&e.__wxSlotChildren||e.childNodes,t,n+1));else if((null===(o=i)||void 0===o?void 0:o.Text)&&e instanceof i.Text)s+="".concat(c+e.textContent," [DOM-Text]\n");else if(void 0!==e.length)for(a=0;a<e.length;a++)s+=m(e[a],t,n);else s="".concat(c,"[unknown node]\n");return s};t.dumpElement=function(e,t){console.log(m(e,t))}},function(e,t,n){function r(e){this.empty=!0,this._type=e,this._arr=[],this._index=0}var o=n(2);r.create=function(e){return new r(e)},r.prototype.add=function(e){var t=this._index++;return this._arr.push({id:t,func:e}),this.empty=!1,t},r.prototype.remove=function(e){var t=this._arr,n=0;if("function"==typeof e){for(n=0;n<t.length;n++)if(t[n].func===e)return t.splice(n,1),this.empty=!t.length,!0}else for(n=0;n<t.length;n++)if(t[n].id===e)return t.splice(n,1),this.empty=!t.length,!0;return!1},r.prototype.call=function(e,t,n){for(var r=this._arr,o=!1,a=0;a<r.length;a++)!1===i(this._type,r[a].func,e,t,n)&&(o=!0);if(o)return!1};var i=r.safeCallback=function(e,t,n,r,i){try{return t.apply(n,r)}catch(s){var c="[Exparser] [Error] [Component] ".concat(e||"Error Listener"," Error @ ");(null==n?void 0:n.is)&&(c+=n.is),c+="#".concat(t.name||"(anonymous)"),null==i||i.triggerLifeTime("error",[s]),function(e,t){if(!t.type||!1!==a.call(null,[e,t])){if(o.throwGlobalError)throw e;console.error(e.stack)}}(s,{message:c,type:e,element:n,method:t,args:r})}},a=r.create();r.addGlobalErrorListener=function(e){return a.add(e)},r.removeGlobalErrorListener=function(e){return a.remove(e)},e.exports=r},function(e,t){var n={lazyRegistration:!0,publicProperties:!1,domain:"",writeOnly:!1,allowInWriteOnly:!1,classPrefix:null,addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,separateInnerData:!0,randomizeTagName:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,documentBackend:"undefined"!=typeof window&&"undefined"!=typeof document?"dom":"none",hasDOMBackend:!("undefined"==typeof window||"undefined"==typeof document)};e.exports=n},function(e,t){var n=Object.prototype.hasOwnProperty;t.deepCopy=function(e,t){return function e(t,r){var o=_typeof(t);if("object"==o&&null!==t){var i=r?r.get(t):void 0;if(void 0!==i)return i;if(t instanceof Array){i=[],null==r||r.set(t,i);for(var a=0;a<t.length;a++)i[a]=e(t[a],r)}else for(var c in i={},null==r||r.set(t,i),t)n.call(t,c)&&(i[c]=e(t[c],r));return i}if("symbol"!=o)return t}(e,t&&"undefined"!=typeof WeakMap?new WeakMap:null)}},function(e,t,n){function r(){}var o=n(1);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}});var i=null;r._setElementSystem=function(e){i=e,r._setElementSystem=null};var a=null;r._setComponent=function(e){a=e,r._setComponent=null};var c=Date.now();function s(e,t,n,r){for(var o=e,a=[],c=e;c;){if(o!==c&&(a.push(e),e=c),o=c.parentNode,!1===r(c,e))return;if(c.__wxHost){if(n)break;e=a.pop()||c.__wxHost,o=c=c.__wxHost}else{var s=!0;c instanceof i&&(s=!1),c=s||n?c.parentNode:c.__wxSlotParent}}}r.setInitTimeStamp=function(e){return c=void 0===e?Date.now():e},r.getInitTimeStamp=function(e){return c},r.create=function(e,t,n){var o=(n=n||{}).originalEvent,i=n.extraFields||{},a=Date.now()-c,s=new r;for(var u in s.currentTarget=null,s.type=e,s.timeStamp=a,s.detail=t,s.bubbles=!!n.bubbles,s.composed=!!n.composed,s.__originalEvent=o,s.__hasCapture=!!n.capturePhase,s.__stopped=!1,s.__dispatched=!1,i)s[u]=i[u];return s},r.prototype.preventDefault=function(){this.__originalEvent&&this.__originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.__stopped=!0},r.prototype.isStopped=function(){return!!this.__stopped},r.dispatchEvent=function(e,t){if(!t.__dispatched){var n=function(e,n){var r=t.currentTarget=n instanceof i?n.__methodCaller:n;!1===e.call(r,[t],n instanceof a?n:void 0)&&(t.__originalEvent&&t.__originalEvent.preventDefault(),t.__stopped=!0)};t.__dispatched=!0,e.__wxElement&&e.__wxHost!==e.__wxElement&&(e=e.__wxElement).shadowRoot instanceof i&&(e=e.shadowRoot),t.target=e instanceof i?e.__methodCaller:e;var r=t.type,o=!t.composed;if(t.__hasCapture){var c=[];s(e,0,o,(function(e,t){return e.__wxCaptureEvents&&e.__wxCaptureEvents[r]&&c.push([e,t]),!0}));for(var u=c.length-1;0<=u;u--){var l=c[u],f=l[0],d=l[1];if(t.target=d instanceof i?d.__methodCaller:d,n(f.__wxCaptureEvents[r],f),t.__stopped)break}}if(t.target=e instanceof i?e.__methodCaller:e,!t.__stopped){var p=!t.bubbles;s(e,0,o,(function(e,o){return t.target=o instanceof i?o.__methodCaller:o,e.__wxEvents&&e.__wxEvents[r]&&n(e.__wxEvents[r],e),!p&&!t.__stopped}))}}},r.triggerEvent=function(e,t,n,o){var i=r.create(t,n,o);r.dispatchEvent(e,i)},r.addListenerToElement=function(e,t,n,r){return r&&(r.useCapture||r.capture)?(e.__wxCaptureEvents||(e.__wxCaptureEvents=Object.create(null)),e.__wxCaptureEvents[t]||(e.__wxCaptureEvents[t]=o.create("Event Listener")),e.__wxCaptureEvents[t].add(n)):(e.__wxEvents||(e.__wxEvents=Object.create(null)),e.__wxEvents[t]||(e.__wxEvents[t]=o.create("Event Listener")),e.__wxEvents[t].add(n))},r.removeListenerFromElement=function(e,t,n,r){return r&&(r.useCapture||r.capture)?void(e.__wxCaptureEvents&&e.__wxCaptureEvents[t]&&e.__wxCaptureEvents[t].remove(n)):void(e.__wxEvents&&e.__wxEvents[t]&&e.__wxEvents[t].remove(n))},e.exports=r},function(e,t,n){var r=n(6),o=" \n\r\t\f",i=null;t.parseMultiPaths=function(e){return i||(i=r.create({MULTIPLE_PATHS:[{id:"arrayConcat",states:["MULTIPLE_PATHS",",","SINGLE_PATH"]},{id:"array",states:["SINGLE_PATH"]}],SINGLE_PATH:[{id:"arrayConcat",states:["SINGLE_PATH",".","VAR_NAME"]},{id:"arrayConcat",states:["SINGLE_PATH","[","INT","]"]},{id:"array",states:["VAR_NAME"]},{id:"_jump",states:["SINGLE_PATH",o]}],VAR_NAME:[{id:"_blank",states:[o,"VAR_NAME"]},{id:"_jump",states:["VAR_NAME",o]},{id:"_raw",states:["*","*"]},{id:"_raw",states:["_a-zA-Z","VAR_NAME_AFTER"]}],VAR_NAME_AFTER:[{id:"_raw",states:["_a-zA-Z0-9","VAR_NAME_AFTER"]},{id:"_raw",states:["NULL"]}],INT:[{id:"_blank",states:[o,"INT"]},{id:"_jump",states:["INT",o]},{id:"toNumber",states:["0-9","INT_AFTER"]}],INT_AFTER:[{id:"_raw",states:["0-9","INT_AFTER"]},{id:"_raw",states:["NULL"]}]},{arrayConcat:function(e){return e[0].push(e[2]),e[0]},array:function(e){return e},toNumber:function(e){return parseInt(e[0]+e[1],10)}})),i.parse("MULTIPLE_PATHS",e)},t.parseSinglePath=function(e){for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,c=0;c<t;c++){var s=e[c];if("\\"===s)c+1<t&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1]||"\\"===e[c+1])?(r+=e[c+1],c++):r+="\\";else if("."===s)r&&(n.push(r),r="");else if("["===s){if(r&&(n.push(r),r=""),0===n.length)throw new Error("The path string should not start with []: ".concat(e));i=!(a=!0)}else if("]"===s){if(!i)throw new Error("There should be digits inside [] in the path string: ".concat(e));a=!1,n.push(o),o=0}else if(a){if(s<"0"||"9"<s)throw new Error("Only digits (0-9) can be put inside [] in the path string: ".concat(e));i=!0,o=10*o+s.charCodeAt(0)-48}else r+=s}if(r&&n.push(r),0===t)throw new Error("The path string should not be empty");return n}},function(e,t,n){function r(){}function o(e,t){var n=i._llparser_create_descriptor(e,0),r=!1;"^"===t[0]&&(r=!0);for(var o=r?1:0;o<t.length;o++){var a=t.charCodeAt(o);if("-"===t[o+1]){var c=t.charCodeAt(o+2);a<=c?(i._llparser_descriptor_add_range(n,a,c),o+=2):i._llparser_descriptor_add_char(n,a)}else i._llparser_descriptor_add_char(n,a)}return r&&i._llparser_descriptor_revert(n),n}var i=null,a=r.stats={all:0,copyIn:0,parse:0,constructOut:0};r.create=function(e,t,a){i||(i=n(7));var c,s=new r;a=a||16384;var u=s._llp=i._llparser_create(a,256,256),l={},f={},d="";for(d in l.ALL=i._llparser_create_descriptor(u,0),i._llparser_descriptor_set_all(l.ALL),l.NULL=i._llparser_create_descriptor(u,0),i._llparser_descriptor_set_nil(l.NULL),e)l[d]=(c=u,i._llparser_create_descriptor(c,1));for(d in e)for(var p=e[d],h=l[d],v=0;v<p.length;v++){for(var g=p[v].id,y=p[v].states,_=[],b=0;b<y.length;b++){var m=y[b];l[m]||(l[m]=o(u,m)),_.push(l[m])}var w=0;"_raw"===g?w=1:"_jump"===g?w=65536:"_blank"===g&&(w=65537);var S=i._llparser_add_rule(u,w,h,_.length,_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7]);0===w&&(f[S]=t[g])}return i._llparser_prepare(u),s._inputPtr=i._llparser_get_input_buffer(u),s._resultPtr=i._llparser_get_result(u),s._stateIdMap=l,s._ruleCbMap=f,s._charCountLimit=a,s},r.prototype.parse=function(e,t){var n=Date.now();i.stringToUTF16(t,this._inputPtr,2*this._charCountLimit+2),a.copyIn=a.copyIn+Date.now()-n,n=Date.now();var r=i._llparser_parse(this._llp,this._stateIdMap[e]);if(a.parse=a.parse+Date.now()-n,n=Date.now(),r)throw new Error("Parsing failed at character position ".concat(r-1,' near "').concat(t.slice(r-20,r),'"'));var o=function(e,t,n,r,o){for(var i=[],a={i:0,r:0,n:!1,cc:-1,c:[]},c=a,s=o.pos,u=!1,l=!1,f=!1;;){var d=t[s],p=t[s+1];if(p<0?(l=!0,p=-p-1):l=!1,0<=d){f=!0;var h=n.slice(d,p);c.c.push(h),u=l}else{if(-1===d&&0===p)break;f=!1;var v=-d,g=p,y={i:c.c.length-(u?1:0),r:v,n:l,cc:g,c:[]};if(u){var _=c.c.length-1,b=c.c[_];y.c.push(b),c.c[_]=y}else c.c.push(y);i.push(c),c=y,u=!1}if(!f||!u)for(;c.c.length===c.cc;){u=c.n;var m=i.pop();if(m.c[c.i]=r[c.r].call(e,c.c),c=m,u)break}s+=2}return a.c[0]}(this,i.HEAP32,t,this._ruleCbMap,{pos:this._resultPtr>>2});return a.constructOut=a.constructOut+Date.now()-n,o},r.prototype.destroy=function(){i._llparser_destroy(this._llp)},e.exports=r},function(e,t,n){(function(t,r){var o;o||(o="undefined"!=typeof Module?Module:{}),e.exports={},function(o){function i(e){var t;return t||(t=16),Math.ceil(e/t)*t}function a(e,t){e||d("Assertion failed: ".concat(t))}function c(e,t){return 0<e%t&&(e+=t-e%t),e}function s(){o.HEAP8=b=new Int8Array(j),o.HEAP16=w=new Int16Array(j),o.HEAP32=S=new Int32Array(j),o.HEAPU8=m=new Uint8Array(j),o.HEAPU16=new Uint16Array(j),o.HEAPU32=new Uint32Array(j),o.HEAPF32=O=new Float32Array(j),o.HEAPF64=C=new Float64Array(j)}function u(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.f;"number"==typeof n?void 0===t.b?o.dynCall_v(n):o.dynCall_vi(n,t.b):n(void 0===t.b?null:t.b)}}}function l(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}function f(){function e(){if(!o.calledRun&&(o.calledRun=!0,!T)){if(B||(B=!0,u(D)),u(R),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)M.unshift(o.postRun.shift());u(M)}}if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)N.unshift(o.preRun.shift());u(N),o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout((function(){setTimeout((function(){o.setStatus("")}),1),e()}),1)):e())}function d(e){throw o.onAbort&&o.onAbort(e),e=void 0!==e?(y(e),_(e),JSON.stringify(e)):"",T=!0,"abort(".concat(e,"). Build with -s ASSERTIONS=1 for more info.")}var p,h,v,g={};for(p in o)o.hasOwnProperty(p)&&(g[p]=o[p]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,t){throw t},o.preRun=[],o.postRun=[],o.read=function(e,r){if(String.prototype.startsWith?e.startsWith(le):0===e.indexOf(le)){var o=e.slice(le.length);try{var i=t.from(o,"base64")}catch(e){i=new t(o,"base64")}o=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}else o=void 0;return o||(h||(h=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}())),v||(v=n(13)),e=v.normalize(e),o=h.readFileSync(e)),r?o:o.toString()},o.readBinary=function(e){return(e=o.read(e,!0)).buffer||(e=new Uint8Array(e)),a(e.buffer),e},1<r.argv.length&&(o.thisProgram=r.argv[1].replace(/\\/g,"/")),o.arguments=r.argv.slice(2),void 0!==e&&(e.exports=o),r.on("uncaughtException",(function(e){if(!(e instanceof l))throw e})),r.on("unhandledRejection",(function(){r.exit(1)})),o.quit=function(e){r.exit(e)},o.inspect=function(){return"[Emscripten Module object]"};var y=o.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),_=o.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||y);for(p in g)g.hasOwnProperty(p)&&(o[p]=g[p]);g=void 0;var b,m,w,S,O,C,I,E,T=0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf8"),"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var k=I=p=I=0;o.reallocBuffer||(o.reallocBuffer=function(e){try{if(ArrayBuffer.a)var t=ArrayBuffer.a(j,e);else{var n=b;t=new ArrayBuffer(e),new Int8Array(t).set(n)}}catch(e){return!1}return!!ye(t)&&t});try{var A=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get);A(new ArrayBuffer(4))}catch(i){A=function(e){return e.byteLength}}var x=o.TOTAL_STACK||262144,P=o.TOTAL_MEMORY||16777216;if(P<x&&_("TOTAL_MEMORY should be larger than TOTAL_STACK, was ".concat(P,"! (TOTAL_STACK=").concat(x,")")),o.buffer)var j=o.buffer;else j=new ArrayBuffer(P),o.buffer=j;s();var N=[],D=[],R=[],M=[],B=!1;o.preloadedImages={},o.preloadedAudios={},g=null;var L,F,U,q,W,V,G,H,Y,$,z,K,J,X,Q,Z,ee,te,ne,re,oe,ie,ae,ce,se,ue,le="data:application/octet-stream;base64,";k=520,D.push();var fe=k;function de(e,t,n,r){t|=0,n|=0,r|=0;var o=0,i=0,a=0,c=0,s=0;if((0|Y[(e|=0)>>2])!=(0|t)&&(Y[e>>2]=t,e=0|Y[e+136>>2]))if(r)do{c=0|Y[8+(0|Y[e>>2])>>2],1==(0|Y[c+4>>2])&&de(c,t,n,r),a=0;do{do{if(0|W[c+8+a>>0]){if(i=0|Y[(s=n+(a<<2)|0)>>2]){if(i>>>0<=(o=0|Y[r>>2])>>>0)break}else o=0|Y[r>>2];Y[s>>2]=o}}while(0);a=a+1|0}while(128!=(0|a));e=0|Y[e+4>>2]}while(0!=(0|e));else do{c=0|Y[8+(0|Y[e>>2])>>2],1==(0|Y[c+4>>2])&&de(c,t,n,e),a=0;do{do{if(0|W[c+8+a>>0]){if(i=0|Y[(s=n+(a<<2)|0)>>2]){if(i>>>0<=(o=0|Y[e>>2])>>>0)break}else o=0|Y[e>>2];Y[s>>2]=o}}while(0);a=a+1|0}while(128!=(0|a));e=0|Y[e+4>>2]}while(0!=(0|e))}function pe(e){var t;e|=0;var n=0,r=0,o=0,i=0,a=0,c=0,s=0,u=0,l=0,f=0,d=0,p=0,h=0,v=0,g=0,y=0,_=0,b=0,m=0,w=0;ee=(t=ee)+16|0,p=t;do{if(e>>>0<245){if(e=(l=e>>>0<11?16:e+11&-8)>>>3,3&(r=(d=0|Y[2])>>>e)|0)return o=0|Y[(r=8+(e=48+((n=(1&r^1)+e|0)<<1<<2)|0)|0)>>2],(0|(a=0|Y[(i=o+8|0)>>2]))==(0|e)?Y[2]=d&~(1<<n):(Y[a+12>>2]=e,Y[r>>2]=a),w=n<<3,Y[o+4>>2]=3|w,Y[(w=o+w+4|0)>>2]=1|Y[w>>2],ee=t,0|i;if((f=0|Y[4])>>>0<l>>>0){if(0|r)return n=((n=r<<e&((n=2<<e)|0-n))&0-n)-1|0,a=0|Y[(e=8+(n=48+((o=((r=(n>>>=s=n>>>12&16)>>>5&8)|s|(a=(n>>>=r)>>>2&4)|(e=(n>>>=a)>>>1&2)|(o=(n>>>=e)>>>1&1))+(n>>>o)|0)<<1<<2)|0)|0)>>2],(0|(r=0|Y[(s=a+8|0)>>2]))==(0|n)?(e=d&~(1<<o),Y[2]=e):(Y[r+12>>2]=n,Y[e>>2]=r,e=d),c=(w=o<<3)-l|0,Y[a+4>>2]=3|l,Y[4+(i=a+l|0)>>2]=1|c,Y[a+w>>2]=c,0|f&&(o=0|Y[7],r=48+((n=f>>>3)<<1<<2)|0,e&(n=1<<n)?n=0|Y[(e=r+8|0)>>2]:(Y[2]=e|n,e=(n=r)+8|0),Y[e>>2]=o,Y[n+12>>2]=o,Y[o+8>>2]=n,Y[o+12>>2]=r),Y[4]=c,Y[7]=i,ee=t,0|s;if(a=0|Y[3]){for(r=(a&0-a)-1|0,u=0|Y[312+(((o=(r>>>=i=r>>>12&16)>>>5&8)|i|(c=(r>>>=o)>>>2&4)|(s=(r>>>=c)>>>1&2)|(u=(r>>>=s)>>>1&1))+(r>>>u)<<2)>>2],u=(-8&Y[(s=r=u)+4>>2])-l|0;(e=0|Y[r+16>>2])||(e=0|Y[r+20>>2]);)s=(i=(c=(-8&Y[(r=e)+4>>2])-l|0)>>>0<u>>>0)?e:s,u=i?c:u;if(s>>>0<(c=s+l|0)>>>0){i=0|Y[s+24>>2],n=0|Y[s+12>>2];do{if((0|n)==(0|s)){if(!(n=0|Y[(e=s+20|0)>>2])&&!(n=0|Y[(e=s+16|0)>>2])){r=0;break}for(;;)if(r=0|Y[(o=n+20|0)>>2])n=r,e=o;else{if(!(r=0|Y[(o=n+16|0)>>2]))break;n=r,e=o}Y[e>>2]=0,r=n}else r=0|Y[s+8>>2],Y[r+12>>2]=n,Y[n+8>>2]=r,r=n}while(0);do{if(0|i){if(n=0|Y[s+28>>2],(0|s)==(0|Y[(e=312+(n<<2)|0)>>2])){if(!(Y[e>>2]=r)){Y[3]=a&~(1<<n);break}}else if(!(Y[((0|Y[(w=i+16|0)>>2])==(0|s)?w:i+20|0)>>2]=r))break;Y[r+24>>2]=i,0|(n=0|Y[s+16>>2])&&(Y[r+16>>2]=n,Y[n+24>>2]=r),0|(n=0|Y[s+20>>2])&&(Y[r+20>>2]=n,Y[n+24>>2]=r)}}while(0);return u>>>0<16?(w=u+l|0,Y[s+4>>2]=3|w,Y[(w=s+w+4|0)>>2]=1|Y[w>>2]):(Y[s+4>>2]=3|l,Y[c+4>>2]=1|u,Y[c+u>>2]=u,0|f&&(o=0|Y[7],r=48+((n=f>>>3)<<1<<2)|0,(n=1<<n)&d?n=0|Y[(e=r+8|0)>>2]:(Y[2]=n|d,e=(n=r)+8|0),Y[e>>2]=o,Y[n+12>>2]=o,Y[o+8>>2]=n,Y[o+12>>2]=r),Y[4]=u,Y[7]=c),ee=t,0|s+8}d=l}else d=l}else d=l}else if(e>>>0<=4294967231)if(l=-8&(e=e+11|0),o=0|Y[3]){i=0-l|0,u=(e>>>=8)?16777215<l>>>0?31:l>>>(7+(u=14-((s=(520192+(y=e<<(d=(e+1048320|0)>>>16&8))|0)>>>16&4)|d|(u=(245760+(y<<=s)|0)>>>16&2))+(y<<u>>>15)|0)|0)&1|u<<1:0,r=0|Y[312+(u<<2)>>2];e:do{if(r)for(e=0,s=l<<(31==(0|u)?0:25-(u>>>1)|0),a=0;;){if((c=(-8&Y[r+4>>2])-l|0)>>>0<i>>>0){if(!c){e=r,i=0,y=65;break e}e=r,i=c}if(a=0==(0|(y=0|Y[r+20>>2]))|(0|y)==(0|(r=0|Y[r+16+(s>>>31<<2)>>2]))?a:y,!r){r=a,y=61;break}s<<=1}else r=0,e=0,y=61}while(0);if(61==(0|y)){if(0==(0|r)&0==(0|e)){if(!(e=((e=2<<u)|0-e)&o)){d=l;break}d=(e&0-e)-1|0,r=(e=0)|Y[312+(((a=(d>>>=c=d>>>12&16)>>>5&8)|c|(s=(d>>>=a)>>>2&4)|(u=(d>>>=s)>>>1&2)|(r=(d>>>=u)>>>1&1))+(d>>>r)<<2)>>2]}r?y=65:(s=e,c=i)}if(65==(0|y))for(a=r;;){if(i=(r=(d=(-8&Y[a+4>>2])-l|0)>>>0<i>>>0)?d:i,e=r?a:e,(r=0|Y[a+16>>2])||(r=0|Y[a+20>>2]),!r){s=e,c=i;break}a=r}if(0!=(0|s)&&c>>>0<((0|Y[4])-l|0)>>>0&&s>>>0<(f=s+l|0)>>>0){a=0|Y[s+24>>2],n=0|Y[s+12>>2];do{if((0|n)==(0|s)){if(!(n=0|Y[(e=s+20|0)>>2])&&!(n=0|Y[(e=s+16|0)>>2])){n=0;break}for(;;)if(r=0|Y[(i=n+20|0)>>2])n=r,e=i;else{if(!(r=0|Y[(i=n+16|0)>>2]))break;n=r,e=i}Y[e>>2]=0}else w=0|Y[s+8>>2],Y[w+12>>2]=n,Y[n+8>>2]=w}while(0);do{if(a){if(e=0|Y[s+28>>2],(0|s)==(0|Y[(r=312+(e<<2)|0)>>2])){if(!(Y[r>>2]=n)){o&=~(1<<e),Y[3]=o;break}}else if(!(Y[((0|Y[(w=a+16|0)>>2])==(0|s)?w:a+20|0)>>2]=n))break;Y[n+24>>2]=a,0|(e=0|Y[s+16>>2])&&(Y[n+16>>2]=e,Y[e+24>>2]=n),(e=0|Y[s+20>>2])&&(Y[n+20>>2]=e,Y[e+24>>2]=n)}}while(0);e:do{if(c>>>0<16)w=c+l|0,Y[s+4>>2]=3|w,Y[(w=s+w+4|0)>>2]=1|Y[w>>2];else{if(Y[s+4>>2]=3|l,Y[f+4>>2]=1|c,n=(Y[f+c>>2]=c)>>>3,c>>>0<256){r=48+(n<<1<<2)|0,(e=0|Y[2])&(n=1<<n)?n=0|Y[(e=r+8|0)>>2]:(Y[2]=e|n,e=(n=r)+8|0),Y[e>>2]=f,Y[n+12>>2]=f,Y[f+8>>2]=n,Y[f+12>>2]=r;break}if(n=312+((r=(n=c>>>8)?16777215<c>>>0?31:c>>>(7+(r=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(r=(245760+(w<<=b)|0)>>>16&2))+(w<<r>>>15)|0)|0)&1|r<<1:0)<<2)|0,Y[f+28>>2]=r,Y[4+(e=f+16|0)>>2]=0,Y[e>>2]=0,!((e=1<<r)&o)){Y[3]=e|o,Y[n>>2]=f,Y[f+24>>2]=n,Y[f+12>>2]=f,Y[f+8>>2]=f;break}n=0|Y[n>>2];t:do{if((-8&Y[n+4>>2]|0)!=(0|c)){for(o=c<<(31==(0|r)?0:25-(r>>>1)|0);e=0|Y[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&Y[e+4>>2]|0)==(0|c)){n=e;break t}o<<=1,n=e}Y[r>>2]=f,Y[f+24>>2]=n,Y[f+12>>2]=f,Y[f+8>>2]=f;break e}}while(0);w=0|Y[(m=n+8|0)>>2],Y[w+12>>2]=f,Y[m>>2]=f,Y[f+8>>2]=w,Y[f+12>>2]=n,Y[f+24>>2]=0}}while(0);return ee=t,0|s+8}d=l}else d=l;else d=-1}while(0);if(d>>>0<=(r=0|Y[4])>>>0)return n=r-d|0,e=0|Y[7],15<n>>>0?(w=e+d|0,Y[7]=w,Y[4]=n,Y[w+4>>2]=1|n,Y[e+r>>2]=n,Y[e+4>>2]=3|d):(Y[4]=0,Y[7]=0,Y[e+4>>2]=3|r,Y[(w=e+r+4|0)>>2]=1|Y[w>>2]),ee=t,0|e+8;if(d>>>0<(c=0|Y[5])>>>0)return b=c-d|0,Y[5]=b,m=(w=0|Y[8])+d|0,Y[8]=m,Y[m+4>>2]=1|b,Y[w+4>>2]=3|d,ee=t,0|w+8;if(s=d+48|0,(l=(a=(e=0|Y[120]?0|Y[122]:(Y[122]=4096,Y[121]=4096,Y[123]=-1,Y[124]=-1,Y[125]=0,Y[113]=0,Y[120]=-16&p^1431655768,4096))+(u=d+47|0)|0)&(i=0-e|0))>>>0<=d>>>0)return ee=t,(w=0)|w;if(0|(e=0|Y[112])&&(p=(f=0|Y[110])+l|0)>>>0<=f>>>0|e>>>0<p>>>0)return ee=t,(w=0)|w;e:do{if(4&Y[113])n=0,y=143;else{r=0|Y[8];t:do{if(r){for(o=456;!((e=0|Y[o>>2])>>>0<=r>>>0&&(e+(0|Y[(g=o+4|0)>>2])|0)>>>0>r>>>0);){if(!(e=0|Y[o+8>>2])){y=128;break t}o=e}if((n=a-c&i)>>>0<2147483647)if((0|(e=0|ge(0|n)))==((0|Y[o>>2])+(0|Y[g>>2])|0)){if(-1!=(0|e)){c=n,a=e,y=145;break e}}else o=e,y=136;else n=0}else y=128}while(0);do{if(128==(0|y))if(-1!=(0|(r=0|ge(0)))&&(n=r,v=(n=(0==((v=(h=0|Y[121])-1|0)&n|0)?0:(v+n&0-h)-n|0)+l|0)+(h=0|Y[110])|0,d>>>0<n>>>0&n>>>0<2147483647)){if(0|(g=0|Y[112])&&v>>>0<=h>>>0|g>>>0<v>>>0){n=0;break}if((0|(e=0|ge(0|n)))==(0|r)){c=n,a=r,y=145;break e}o=e,y=136}else n=0}while(0);do{if(136==(0|y)){if(r=0-n|0,!(n>>>0<s>>>0&n>>>0<2147483647&-1!=(0|o))){if(-1==(0|o)){n=0;break}c=n,a=o,y=145;break e}if(2147483647<=(e=u-n+(e=0|Y[122])&0-e)>>>0){c=n,a=o,y=145;break e}if(-1==(0|ge(0|e))){ge(0|r),n=0;break}c=e+n|0,a=o,y=145;break e}}while(0);Y[113]=4|Y[113],y=143}}while(0);if(!(143==(0|y)&&l>>>0<2147483647)||-1==(0|(m=0|ge(0|l)))|1^(b=(d+40|0)>>>0<(_=(g=0|ge(0))-m|0)>>>0)|m>>>0<g>>>0&-1!=(0|m)&-1!=(0|g)^1||(c=b?_:n,a=m,y=145),145==(0|y)){n=(0|Y[110])+c|0,(Y[110]=n)>>>0>(0|Y[111])>>>0&&(Y[111]=n),u=0|Y[8];e:do{if(u){for(n=456;;){if((0|a)==((e=0|Y[n>>2])+(o=0|Y[(r=n+4|0)>>2])|0)){y=154;break}if(!(i=0|Y[n+8>>2]))break;n=i}if(154==(0|y)&&0==(8&Y[n+12>>2]|0)&&u>>>0<a>>>0&e>>>0<=u>>>0){Y[r>>2]=o+c,m=u+(b=0==(7&(b=u+8|0)|0)?0:0-b&7)|0,b=(w=(0|Y[5])+c|0)-b|0,Y[8]=m,Y[5]=b,Y[m+4>>2]=1|b,Y[u+w+4>>2]=40,Y[9]=Y[124];break}for(a>>>0<(0|Y[6])>>>0&&(Y[6]=a),r=a+c|0,n=456;;){if((0|Y[n>>2])==(0|r)){y=162;break}if(!(e=0|Y[n+8>>2]))break;n=e}if(162==(0|y)&&0==(8&Y[n+12>>2]|0)){Y[n>>2]=a,Y[(f=n+4|0)>>2]=(0|Y[f>>2])+c,l=(f=a+(0==(7&(f=a+8|0)|0)?0:0-f&7)|0)+d|0,s=(n=r+(0==(7&(n=r+8|0)|0)?0:0-n&7)|0)-f-d|0,Y[f+4>>2]=3|d;t:do{if((0|u)==(0|n))w=(0|Y[5])+s|0,Y[5]=w,Y[8]=l,Y[l+4>>2]=1|w;else{if((0|Y[7])==(0|n)){w=(0|Y[4])+s|0,Y[4]=w,Y[7]=l,Y[l+4>>2]=1|w,Y[l+w>>2]=w;break}if(1==(3&(e=0|Y[n+4>>2])|0)){c=-8&e,o=e>>>3;n:do{if(e>>>0<256){if(e=0|Y[n+8>>2],(0|(r=0|Y[n+12>>2]))==(0|e)){Y[2]=Y[2]&~(1<<o);break}Y[e+12>>2]=r,Y[r+8>>2]=e;break}a=0|Y[n+24>>2],e=0|Y[n+12>>2];do{if((0|e)==(0|n)){if(e=0|Y[(o=4+(r=n+16|0)|0)>>2])r=o;else if(!(e=0|Y[r>>2])){e=0;break}for(;;)if(o=0|Y[(i=e+20|0)>>2])e=o,r=i;else{if(!(o=0|Y[(i=e+16|0)>>2]))break;e=o,r=i}Y[r>>2]=0}else w=0|Y[n+8>>2],Y[w+12>>2]=e,Y[e+8>>2]=w}while(0);if(!a)break;o=312+((r=0|Y[n+28>>2])<<2)|0;do{if((0|Y[o>>2])==(0|n)){if(0|(Y[o>>2]=e))break;Y[3]=Y[3]&~(1<<r);break n}if(!(Y[((0|Y[(w=a+16|0)>>2])==(0|n)?w:a+20|0)>>2]=e))break n}while(0);if(Y[e+24>>2]=a,0|(o=0|Y[(r=n+16|0)>>2])&&(Y[e+16>>2]=o,Y[o+24>>2]=e),!(r=0|Y[r+4>>2]))break;Y[e+20>>2]=r,Y[r+24>>2]=e}while(0);n=n+c|0,i=c+s|0}else i=s;if(Y[(n=n+4|0)>>2]=-2&Y[n>>2],Y[l+4>>2]=1|i,n=(Y[l+i>>2]=i)>>>3,i>>>0<256){r=48+(n<<1<<2)|0,(e=0|Y[2])&(n=1<<n)?n=0|Y[(e=r+8|0)>>2]:(Y[2]=e|n,e=(n=r)+8|0),Y[e>>2]=l,Y[n+12>>2]=l,Y[l+8>>2]=n,Y[l+12>>2]=r;break}n=i>>>8;do{if(n){if(16777215<i>>>0){o=31;break}o=i>>>(7+(o=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(o=(245760+(w<<=b)|0)>>>16&2))+(w<<o>>>15)|0)|0)&1|o<<1}else o=0}while(0);if(n=312+(o<<2)|0,Y[l+28>>2]=o,Y[4+(e=l+16|0)>>2]=0,!((e=(Y[e>>2]=0)|Y[3])&(r=1<<o))){Y[3]=e|r,Y[n>>2]=l,Y[l+24>>2]=n,Y[l+12>>2]=l,Y[l+8>>2]=l;break}n=0|Y[n>>2];n:do{if((-8&Y[n+4>>2]|0)!=(0|i)){for(o=i<<(31==(0|o)?0:25-(o>>>1)|0);e=0|Y[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&Y[e+4>>2]|0)==(0|i)){n=e;break n}o<<=1,n=e}Y[r>>2]=l,Y[l+24>>2]=n,Y[l+12>>2]=l,Y[l+8>>2]=l;break t}}while(0);w=0|Y[(m=n+8|0)>>2],Y[w+12>>2]=l,Y[m>>2]=l,Y[l+8>>2]=w,Y[l+12>>2]=n,Y[l+24>>2]=0}}while(0);return ee=t,0|f+8}for(n=456;!((e=0|Y[n>>2])>>>0<=u>>>0&&u>>>0<(w=e+(0|Y[n+4>>2])|0)>>>0);)n=0|Y[n+8>>2];for(n=(e=(e=(i=w+-47|0)+(0==(7&(e=i+8|0)|0)?0:0-e&7)|0)>>>0<(i=u+16|0)>>>0?u:e)+8|0,m=a+(b=0==(7&(b=a+8|0)|0)?0:0-b&7)|0,b=(r=c+-40|0)-b|0,Y[8]=m,Y[5]=b,Y[m+4>>2]=1|b,Y[a+r+4>>2]=40,Y[9]=Y[124],Y[(r=e+4|0)>>2]=27,Y[n>>2]=Y[114],Y[n+4>>2]=Y[115],Y[n+8>>2]=Y[116],Y[n+12>>2]=Y[117],Y[114]=a,Y[115]=c,Y[117]=0,Y[116]=n,n=e+24|0;Y[(n=(m=n)+4|0)>>2]=7,(m+8|0)>>>0<w>>>0;);if((0|e)!=(0|u)){if(a=e-u|0,Y[r>>2]=-2&Y[r>>2],Y[u+4>>2]=1|a,n=(Y[e>>2]=a)>>>3,a>>>0<256){r=48+(n<<1<<2)|0,(e=0|Y[2])&(n=1<<n)?n=0|Y[(e=r+8|0)>>2]:(Y[2]=e|n,e=(n=r)+8|0),Y[e>>2]=u,Y[n+12>>2]=u,Y[u+8>>2]=n,Y[u+12>>2]=r;break}if(r=312+((o=(n=a>>>8)?16777215<a>>>0?31:a>>>(7+(o=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(o=(245760+(w<<=b)|0)>>>16&2))+(w<<o>>>15)|0)|0)&1|o<<1:0)<<2)|0,Y[u+28>>2]=o,Y[u+20>>2]=0,!((n=(Y[i>>2]=0)|Y[3])&(e=1<<o))){Y[3]=n|e,Y[r>>2]=u,Y[u+24>>2]=r,Y[u+12>>2]=u,Y[u+8>>2]=u;break}n=0|Y[r>>2];t:do{if((-8&Y[n+4>>2]|0)!=(0|a)){for(o=a<<(31==(0|o)?0:25-(o>>>1)|0);e=0|Y[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&Y[e+4>>2]|0)==(0|a)){n=e;break t}o<<=1,n=e}Y[r>>2]=u,Y[u+24>>2]=n,Y[u+12>>2]=u,Y[u+8>>2]=u;break e}}while(0);w=0|Y[(m=n+8|0)>>2],Y[w+12>>2]=u,Y[m>>2]=u,Y[u+8>>2]=w,Y[u+12>>2]=n,Y[u+24>>2]=0}}else 0==(0|(w=0|Y[6]))|a>>>0<w>>>0&&(Y[6]=a),Y[114]=a,Y[115]=c,Y[117]=0,Y[11]=Y[120],Y[10]=-1,Y[15]=48,Y[14]=48,Y[17]=56,Y[16]=56,Y[19]=64,Y[18]=64,Y[21]=72,Y[20]=72,Y[23]=80,Y[22]=80,Y[25]=88,Y[24]=88,Y[27]=96,Y[26]=96,Y[29]=104,Y[28]=104,Y[31]=112,Y[30]=112,Y[33]=120,Y[32]=120,Y[35]=128,Y[34]=128,Y[37]=136,Y[36]=136,Y[39]=144,Y[38]=144,Y[41]=152,Y[40]=152,Y[43]=160,Y[42]=160,Y[45]=168,Y[44]=168,Y[47]=176,Y[46]=176,Y[49]=184,Y[48]=184,Y[51]=192,Y[50]=192,Y[53]=200,Y[52]=200,Y[55]=208,Y[54]=208,Y[57]=216,Y[56]=216,Y[59]=224,Y[58]=224,Y[61]=232,Y[60]=232,Y[63]=240,Y[62]=240,Y[65]=248,Y[64]=248,Y[67]=256,Y[66]=256,Y[69]=264,Y[68]=264,Y[71]=272,Y[70]=272,Y[73]=280,Y[72]=280,Y[75]=288,Y[74]=288,Y[77]=296,Y[76]=296,m=a+(b=0==(7&(b=a+8|0)|0)?0:0-b&7)|0,b=(w=c+-40|0)-b|0,Y[8]=m,Y[5]=b,Y[m+4>>2]=1|b,Y[a+w+4>>2]=40,Y[9]=Y[124]}while(0);if(d>>>0<(n=0|Y[5])>>>0)return b=n-d|0,Y[5]=b,m=(w=0|Y[8])+d|0,Y[8]=m,Y[m+4>>2]=1|b,Y[w+4>>2]=3|d,ee=t,0|w+8}return w=0|ce(),Y[w>>2]=12,ee=t,(w=0)|w}function he(e){var t=0,n=0,r=0,o=0,i=0,a=0,c=0,s=0;if(e|=0){n=e+-8|0,o=0|Y[6],s=n+(t=-8&(e=0|Y[e+-4>>2]))|0;do{if(1&e)a=c=n;else{if(r=0|Y[n>>2],!(3&e))return;if(i=r+t|0,(a=n+(0-r)|0)>>>0<o>>>0)return;if((0|Y[7])==(0|a)){if(3==(3&(t=0|Y[(e=s+4|0)>>2])|0))return Y[4]=i,Y[e>>2]=-2&t,Y[a+4>>2]=1|i,void(Y[a+i>>2]=i);c=a,t=i;break}if(n=r>>>3,r>>>0<256){if(e=0|Y[a+8>>2],(0|(t=0|Y[a+12>>2]))==(0|e)){Y[2]=Y[2]&~(1<<n),c=a,t=i;break}Y[e+12>>2]=t,Y[t+8>>2]=e,c=a,t=i;break}o=0|Y[a+24>>2],e=0|Y[a+12>>2];do{if((0|e)==(0|a)){if(e=0|Y[(n=4+(t=a+16|0)|0)>>2])t=n;else if(!(e=0|Y[t>>2])){e=0;break}for(;;)if(n=0|Y[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|Y[(r=e+16|0)>>2]))break;e=n,t=r}Y[t>>2]=0}else c=0|Y[a+8>>2],Y[c+12>>2]=e,Y[e+8>>2]=c}while(0);if(o){if(t=0|Y[a+28>>2],(0|Y[(n=312+(t<<2)|0)>>2])==(0|a)){if(!(Y[n>>2]=e)){Y[3]=Y[3]&~(1<<t),c=a,t=i;break}}else if(!(Y[((0|Y[(c=o+16|0)>>2])==(0|a)?c:o+20|0)>>2]=e)){c=a,t=i;break}Y[e+24>>2]=o,0|(n=0|Y[(t=a+16|0)>>2])&&(Y[e+16>>2]=n,Y[n+24>>2]=e),(t=0|Y[t+4>>2])&&(Y[e+20>>2]=t,Y[t+24>>2]=e),c=a,t=i}else c=a,t=i}}while(0);if(!(s>>>0<=a>>>0)&&1&(r=0|Y[(e=s+4|0)>>2])){if(2&r)Y[e>>2]=-2&r,Y[c+4>>2]=1|t,o=Y[a+t>>2]=t;else{if((0|Y[8])==(0|s)){if(s=(0|Y[5])+t|0,Y[5]=s,Y[8]=c,Y[c+4>>2]=1|s,(0|c)!=(0|Y[7]))return;return Y[7]=0,void(Y[4]=0)}if((0|Y[7])==(0|s))return s=(0|Y[4])+t|0,Y[4]=s,Y[7]=a,Y[c+4>>2]=1|s,void(Y[a+s>>2]=s);o=(-8&r)+t|0,n=r>>>3;do{if(r>>>0<256){if(t=0|Y[s+8>>2],(0|(e=0|Y[s+12>>2]))==(0|t)){Y[2]=Y[2]&~(1<<n);break}Y[t+12>>2]=e,Y[e+8>>2]=t;break}i=0|Y[s+24>>2],e=0|Y[s+12>>2];do{if((0|e)==(0|s)){if(e=0|Y[(n=4+(t=s+16|0)|0)>>2])t=n;else if(!(e=0|Y[t>>2])){n=0;break}for(;;)if(n=0|Y[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|Y[(r=e+16|0)>>2]))break;e=n,t=r}Y[t>>2]=0,n=e}else n=0|Y[s+8>>2],Y[n+12>>2]=e,Y[e+8>>2]=n,n=e}while(0);if(0|i){if(e=0|Y[s+28>>2],(0|Y[(t=312+(e<<2)|0)>>2])==(0|s)){if(!(Y[t>>2]=n)){Y[3]=Y[3]&~(1<<e);break}}else if(!(Y[((0|Y[(r=i+16|0)>>2])==(0|s)?r:i+20|0)>>2]=n))break;Y[n+24>>2]=i,0|(t=0|Y[(e=s+16|0)>>2])&&(Y[n+16>>2]=t,Y[t+24>>2]=n),0|(e=0|Y[e+4>>2])&&(Y[n+20>>2]=e,Y[e+24>>2]=n)}}while(0);if(Y[c+4>>2]=1|o,Y[a+o>>2]=o,(0|c)==(0|Y[7]))return void(Y[4]=o)}if(e=o>>>3,o>>>0<256)return n=48+(e<<1<<2)|0,(t=0|Y[2])&(e=1<<e)?e=0|Y[(t=n+8|0)>>2]:(Y[2]=t|e,t=(e=n)+8|0),Y[t>>2]=c,Y[e+12>>2]=c,Y[c+8>>2]=e,void(Y[c+12>>2]=n);e=312+((r=(e=o>>>8)?16777215<o>>>0?31:o>>>(7+(r=14-((i=(520192+(s=e<<(a=(e+1048320|0)>>>16&8))|0)>>>16&4)|a|(r=(245760+(s<<=i)|0)>>>16&2))+(s<<r>>>15)|0)|0)&1|r<<1:0)<<2)|0,Y[c+28>>2]=r,Y[c+20>>2]=0,t=(Y[c+16>>2]=0)|Y[3],n=1<<r;e:do{if(t&n){e=0|Y[e>>2];t:do{if((-8&Y[e+4>>2]|0)!=(0|o)){for(r=o<<(31==(0|r)?0:25-(r>>>1)|0);t=0|Y[(n=e+16+(r>>>31<<2)|0)>>2];){if((-8&Y[t+4>>2]|0)==(0|o)){e=t;break t}r<<=1,e=t}Y[n>>2]=c,Y[c+24>>2]=e,Y[c+12>>2]=c,Y[c+8>>2]=c;break e}}while(0);s=0|Y[(a=e+8|0)>>2],Y[s+12>>2]=c,Y[a>>2]=c,Y[c+8>>2]=s,Y[c+12>>2]=e,Y[c+24>>2]=0}else Y[3]=t|n,Y[e>>2]=c,Y[c+24>>2]=e,Y[c+12>>2]=c,Y[c+8>>2]=c}while(0);if(s=(0|Y[10])-1|0,!(0|(Y[10]=s))){for(e=464;e=0|Y[e>>2];)e=e+8|0;Y[10]=-1}}}}function ve(e,t,n){var r;t|=0;var o=0,i=0,a=0;if(r=(e|=0)+(n|=0)|0,t&=255,67<=(0|n)){for(;3&e;)W[e>>0]=t,e=e+1|0;for(i=(o=-4&r|0)-64|0,a=t|t<<8|t<<16|t<<24;(0|e)<=(0|i);)Y[e>>2]=a,Y[e+4>>2]=a,Y[e+8>>2]=a,Y[e+12>>2]=a,Y[e+16>>2]=a,Y[e+20>>2]=a,Y[e+24>>2]=a,Y[e+28>>2]=a,Y[e+32>>2]=a,Y[e+36>>2]=a,Y[e+40>>2]=a,Y[e+44>>2]=a,Y[e+48>>2]=a,Y[e+52>>2]=a,Y[e+56>>2]=a,Y[e+60>>2]=a,e=e+64|0;for(;(0|e)<(0|o);)Y[e>>2]=a,e=e+4|0}for(;(0|e)<(0|r);)W[e>>0]=t,e=e+1|0;return r-n|0}function ge(e){var t,n;return 0<(0|(e|=0))&(0|(t=(n=0|Y[Z>>2])+e|0))<(0|n)|(0|t)<0?(ae(),se(12),-1):(0|(Y[Z>>2]=t))>(0|ie())&&0==(0|oe())?(Y[Z>>2]=n,se(12),-1):0|n}E=k+=16,I=p=i(k=k+4+15&-16),I+=x,S[E>>2]=i(I),o.a={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:A},o.c={abort:d,assert:a,enlargeMemory:function(){var e=o.usingWasm?65536:16777216,t=2147483648-e;if(S[E>>2]>t)return!1;var n=P;for(P=Math.max(P,16777216);P<S[E>>2];)P=P<=536870912?c(2*P,e):Math.min(c((3*P+2147483648)/4,e),t);return(e=o.reallocBuffer(P))&&e.byteLength==P?(o.buffer=j=e,s(),!0):(P=n,!1)},getTotalMemory:function(){return P},abortOnCannotGrowMemory:function(){d("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value ".concat(P,", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 "))},___errno_location:function(){_("missing function: __errno_location"),d(-1)},___setErrNo:function(e){return o.___errno_location&&(S[o.___errno_location()>>2]=e),e},_emscripten_memcpy_big:function(e,t,n){return m.set(m.subarray(t,t+n),e),e},DYNAMICTOP_PTR:E,tempDoublePtr:fe,ABORT:T,STACKTOP:p,STACK_MAX:I},L=o.a,F=o.c,U=j,q=L.Int8Array,W=new q(U),V=L.Int16Array,G=new V(U),H=L.Int32Array,Y=new H(U),new($=L.Uint8Array)(U),new(z=L.Uint16Array)(U),new(K=L.Uint32Array)(U),new(J=L.Float32Array)(U),new(X=L.Float64Array)(U),Q=L.byteLength,Z=0|F.DYNAMICTOP_PTR,F.tempDoublePtr,F.ABORT,ee=0|F.STACKTOP,F.STACK_MAX,te=0,L.NaN,L.Infinity,ne=0,L.Math.floor,L.Math.abs,L.Math.sqrt,L.Math.pow,L.Math.cos,L.Math.sin,L.Math.tan,L.Math.acos,L.Math.asin,L.Math.atan,L.Math.atan2,L.Math.exp,L.Math.log,L.Math.ceil,re=L.Math.imul,L.Math.min,L.Math.max,L.Math.clz32,F.abort,F.assert,oe=F.enlargeMemory,ie=F.getTotalMemory,ae=F.abortOnCannotGrowMemory,ce=F.___errno_location,se=F.___setErrNo,ue=F._emscripten_memcpy_big,A={_emscripten_replace_memory:function(e){return!(16777215&Q(e)||Q(e)<=16777215||2147483648<Q(e)||(W=new q(e),G=new V(e),Y=new H(e),new $(e),new z(e),new K(e),new J(e),new X(e),U=e,0))},_free:he,_llparser_add_rule:function(e,t,n,r,o,i,a,c,s,u,l,f){var d,p,h;return t|=0,n|=0,r|=0,o|=0,i|=0,a|=0,c|=0,s|=0,u|=0,l|=0,f|=0,d=0|Y[28+(e|=0)>>2],p=0|Y[e>>2],Y[e>>2]=1+p,Y[(h=d+(44*p|0)|0)>>2]=n,(0|(Y[d+(44*p|0)+4>>2]=r))<=0?Y[d+(44*p|0)+40>>2]=t:(Y[d+(44*p|0)+8>>2]=o,(1!=(0|r)&&(Y[d+(44*p|0)+12>>2]=i,2<(0|r))&&(Y[d+(44*p|0)+16>>2]=a,3!=(0|r))&&(Y[d+(44*p|0)+20>>2]=c,4<(0|r))&&(Y[d+(44*p|0)+24>>2]=s,5!=(0|r))&&(Y[d+(44*p|0)+28>>2]=u,6<(0|r))?(Y[d+(44*p|0)+32>>2]=l,7!=(0|r)):0)&&(Y[d+(44*p|0)+36>>2]=f),Y[d+(44*p|0)+40>>2]=t,1!=(0|Y[n+4>>2])||(a=0|Y[e+40>>2],c=0|Y[(s=e+8|0)>>2],Y[s>>2]=c+1,Y[(s=a+(c<<3)|0)>>2]=h,u=n+136|0,Y[a+(c<<3)+4>>2]=Y[u>>2],Y[u>>2]=s)),0|h},_llparser_create:function(e,t,n){var r,o,i,a,c,s,u=0;return t=(s=0==(0|(t|=0))?256:t)<<9,(0|(i=0|pe(o=52+(r=(u=0==(0|(e|=0))?256:e)<<1)+(u<<3)+(c=140*s|0)+(s<<10)+(e=44*(a=0==(0|(n|=0))?256:n)|0)+(n=0|re(s<<3,a))|0))?3&Y[i-4>>2]|0:0)&&ve(0|i,0,0|o),Y[12+i>>2]=u,Y[16+i>>2]=s,Y[20+i>>2]=a,u=52+i|0,u=(Y[24+i>>2]=u)+c|0,u=(Y[28+i>>2]=u)+e|0,u=(Y[32+i>>2]=u)+t|0,u=(Y[36+i>>2]=u)+t|0,u=(Y[40+i>>2]=u)+n|0,Y[44+i>>2]=u,Y[48+i>>2]=u+r,0|i},_llparser_create_descriptor:function(e,t){var n,r;return t|=0,n=0|Y[24+(e|=0)>>2],e=0|Y[(r=e+4|0)>>2],Y[r>>2]=e+1,Y[n+(140*e|0)+4>>2]=0!=(0|t)&1,n+(140*e|0)|0},_llparser_descriptor_add_char:function(e,t){W[8+(e|=0)+(t|=0)>>0]=1},_llparser_descriptor_add_range:function(e,t,n){(0|(n|=0))<(0|(t|=0))||ve((e|=0)+(t+8)|0,1,1-t+((0|t)<(0|n)?n:t)|0)},_llparser_descriptor_revert:function(e){e|=0;var t=0,n=0;for(t=1;W[(n=e+8+t|0)>>0]=0==(0|W[n>>0])&1,127!=(0|(t=t+1|0)););},_llparser_descriptor_set_all:function(e){Y[4+(e|=0)>>2]=-1,W[e+135>>0]=1},_llparser_descriptor_set_nil:function(e){Y[4+(e|=0)>>2]=-2,W[e+8>>0]=1},_llparser_destroy:function(e){he(e|=0)},_llparser_get_input_buffer:function(e){return 0|Y[44+(e|=0)>>2]},_llparser_get_result:function(e){return 0|Y[48+(e|=0)>>2]},_llparser_parse:function(e,t){var n,r,o,i;e|=0,t|=0;var a=0;if(ee=(o=ee)+16|0,Y[(a=(n=o)+4|0)>>2]=0,t=(Y[n>>2]=0)|function e(t,n,r,o,i,a,c){t|=0,n|=0,r|=0,i|=0,a|=0,c|=0;var s,u,l,f,d=0,p=0,h=0,v=0,g=0,y=0,_=0,b=0,m=0,w=0,S=0,O=0,C=0;if(C=0|Y[(o|=0)>>2],v=127<(65535&(v=0|G[r+(C<<1)>>1]))?1:65535&v,(0|(f=c+-4|0))<(0|(l=0|Y[i>>2])))return-1;if(1!=(0|(p=0|Y[(h=n+4|0)>>2]))){do{if(v){if(d=C+1|0,-1==(0|p)?(Y[o>>2]=d,p=0|Y[h>>2]):d=C,!p){if(0|W[n+8+v>>0]){d=d+1|0,Y[o>>2]=d;break}return-1}}else d=C}while(0);return a||(C=d-(-2!=(0|Y[h>>2])&1)|0,t=0|Y[t+48>>2],a=0|Y[i>>2],Y[i>>2]=a+1,Y[t+(a<<2)>>2]=C,o=0|Y[o>>2],a=0|Y[i>>2],Y[i>>2]=a+1,Y[t+(a<<2)>>2]=o),0|(0|Y[i>>2])-1}if(u=t+24|0,p=(0|Y[t+32>>2])+(((n-(0|Y[u>>2])|0)/140|0)<<7<<2)|0,(v+-1|0)>>>0<126?(d=0|Y[p+(v<<2)>>2])?_=d:O=15:O=v?15:16,15==(0|O)&&((d=0|Y[p+508>>2])?_=d:O=16),16==(0|O)){if(!(d=0|Y[p>>2]))return-1;_=d}m=(s=0!=(0|a))||0!=(0|Y[_+40>>2])?0:(Y[i>>2]=2+l,l),b=_+4|0;e:do{if(0<(0|Y[b>>2])){if(g=_+40|0,s){for(d=0;;){if((0|e(t,0|Y[_+8+(d<<2)>>2],r,o,i,a,c))<=-1){d=-1;break}if((0|(d=d+1|0))>=(0|Y[b>>2])){d=0;break e}}return 0|d}for(y=(d=v=0)|Y[g>>2];;){if(p=v+65536|0,(0|(h=0|e(t,0|Y[_+8+(v<<2)>>2],r,o,i,0!=(0|y)&(0|y)!=(0|p)&1,c)))<0){d=-1;break}if(d=(0|(y=0|Y[g>>2]))==(0|p)?h:d,(0|(v=v+1|0))>=(0|Y[b>>2]))break e}return 0|d}d=0}while(0);e:do{if(!s)switch(0|Y[_+40>>2]){case 0:S=0|Y[t+48>>2],Y[S+(m<<2)>>2]=0-_,Y[S+((d=m+1|0)<<2)>>2]=Y[b>>2];break e;case 1:S=0|Y[t+48>>2],d=0|Y[i>>2],Y[i>>2]=d+1,Y[S+(d<<2)>>2]=C,d=0|Y[i>>2],w=0|Y[o>>2],Y[i>>2]=d+1,Y[S+(d<<2)>>2]=w;break e;default:break e}}while(0);if((0|Y[i>>2])>(0|f))return-1;w=t+36|0,S=t+48|0,v=m;e:for(;;){if(h=(0|Y[w>>2])+(((n-(0|Y[u>>2])|0)/140|0)<<7<<2)|0,((p=127<(65535&(p=0|G[r+(Y[o>>2]<<1)>>1]))?1:65535&p)-1|0)>>>0<126)(p=0|Y[h+(p<<2)>>2])||(O=37);else{if(!p){O=55;break}O=37}if(37==(0|O)&&!(p=(O=0)|Y[h+508>>2])){O=55;break}t:do{if(s)m=v;else{h=0|Y[p+40>>2];n:do{if((0|h)<65536){switch(0|h){case 0:break;default:break n}m=(0|Y[S>>2])+(d<<2)|0,Y[m>>2]=~Y[m>>2],m=0|Y[i>>2],Y[i>>2]=m+2;break t}switch(0|h){case 65536:m=v;break t}}while(0);Y[i>>2]=l,m=v}}while(0);if(1<(0|Y[(b=p+4|0)>>2]))if(_=p+40|0,s){h=1;do{if((0|e(t,0|Y[p+8+(h<<2)>>2],r,o,i,a,c))<=-1){d=-1,O=55;break e}h=h+1|0}while((0|h)<(0|Y[b>>2]))}else{y=1,g=0|Y[_>>2];do{if(h=y+65536|0,(0|(v=0|e(t,0|Y[p+8+(y<<2)>>2],r,o,i,0!=(0|g)&(0|g)!=(0|h)&1,c)))<0){d=-1,O=55;break e}d=(0|(g=0|Y[_>>2]))==(0|h)?v:d,y=y+1|0}while((0|y)<(0|Y[b>>2]))}t:do{if(!s)switch(0|Y[p+40>>2]){case 0:_=0|Y[S>>2],Y[_+(m<<2)>>2]=0-p,Y[_+((d=m+1|0)<<2)>>2]=Y[b>>2];break t;case 1:b=0|Y[S>>2],d=0|Y[i>>2],Y[i>>2]=d+1,Y[b+(d<<2)>>2]=C,d=0|Y[i>>2],_=0|Y[o>>2],Y[i>>2]=d+1,Y[b+(d<<2)>>2]=_;break t;default:break t}}while(0);if((0|Y[i>>2])>(0|f)){d=-1,O=55;break}v=m}return 55==(0|O)?0|d:0}(e,t,0|Y[(r=e+44|0)>>2],n,a,0,Y[e+12>>2]<<1),i=0|Y[e+48>>2],e=0|Y[a>>2],Y[a>>2]=e+1,Y[i+(e<<2)>>2]=-1,e=0|Y[a>>2],Y[a>>2]=e+1,-1<((Y[i+(e<<2)>>2]=0)|t)){if(e=0|Y[n>>2],!(0|G[(0|Y[r>>2])+(e<<1)>>1]))return ee=o,(a=0)|a}else e=0|Y[n>>2];return ee=o,0|e+1},_llparser_prepare:function(e){var t=0,n=0,r=0,o=0,i=0,a=0,c=0,s=0,u=0,l=0,f=0,d=0,p=0,h=0,v=0,g=0;if(!((0|(t=0|Y[(o=4+(e|=0)|0)>>2]))<=0)){for(i=e+24|0,h=e+32|0,r=0;n=(l=0|Y[i>>2])+(140*r|0)|0,1==(0|Y[l+(140*r|0)+4>>2])&&(de(n,n,(0|Y[h>>2])+(r<<7<<2)|0,0),t=0|Y[o>>2]),(0|(r=r+1|0))<(0|t););if(!((0|t)<=0)){l=e+36|0,u=i=0|Y[i>>2],e=0;do{if(a=i+(140*e|0)|0,1==(0|Y[i+(140*e|0)+4>>2])&&(d=((Y[a>>2]=0)|Y[l>>2])+(e<<7<<2)|0,0|(f=0|Y[i+(140*e|0)+136>>2]))){o=f;do{if(c=0|Y[o>>2],(0|Y[(s=c)+8>>2])==(0|a))if(r=0|Y[c+12>>2],1==(0|Y[r+4>>2]))for(r=(0|Y[h>>2])+(((r-u|0)/140|0)<<7<<2)|0,n=0;(0|Y[r+(n<<2)>>2]?0==(0|(g=0|Y[(p=d+(n<<2)|0)>>2]))|c>>>0<g>>>0:0)&&(Y[p>>2]=s),128!=(0|(n=n+1|0)););else for(n=0;(0|W[r+8+n>>0]?0==(0|(g=0|Y[(v=d+(n<<2)|0)>>2]))|c>>>0<g>>>0:0)&&(Y[v>>2]=s),128!=(0|(n=n+1|0)););o=0|Y[o+4>>2]}while(0!=(0|o))}e=e+1|0}while((0|e)!=(0|t))}}},_malloc:pe,_memcpy:function(e,t,n){var r,o;e|=0,t|=0;var i=0;if(8192<=(0|(n|=0)))return 0|ue(0|e,0|t,0|n);if(o=0|e,r=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|o;W[e>>0]=0|W[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(i=(n=-4&r|0)-64|0;(0|e)<=(0|i);)Y[e>>2]=Y[t>>2],Y[e+4>>2]=Y[t+4>>2],Y[e+8>>2]=Y[t+8>>2],Y[e+12>>2]=Y[t+12>>2],Y[e+16>>2]=Y[t+16>>2],Y[e+20>>2]=Y[t+20>>2],Y[e+24>>2]=Y[t+24>>2],Y[e+28>>2]=Y[t+28>>2],Y[e+32>>2]=Y[t+32>>2],Y[e+36>>2]=Y[t+36>>2],Y[e+40>>2]=Y[t+40>>2],Y[e+44>>2]=Y[t+44>>2],Y[e+48>>2]=Y[t+48>>2],Y[e+52>>2]=Y[t+52>>2],Y[e+56>>2]=Y[t+56>>2],Y[e+60>>2]=Y[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|n);)Y[e>>2]=Y[t>>2],e=e+4|0,t=t+4|0}else for(n=r-4|0;(0|e)<(0|n);)W[e>>0]=0|W[t>>0],W[e+1>>0]=0|W[t+1>>0],W[e+2>>0]=0|W[t+2>>0],W[e+3>>0]=0|W[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|r);)W[e>>0]=0|W[t>>0],e=e+1|0,t=t+1|0;return 0|o},_memset:ve,_sbrk:ge,establishStackSpace:function(e,t){ee=e|=0},getTempRet0:function(){return 0|ne},runPostSets:function(){},setTempRet0:function(e){ne=e|=0},setThrew:function(e,t){te||(te=e|=0)},stackAlloc:function(e){var t;return ee=15+(ee=(t=ee)+(e|=0)|0)&-16,0|t},stackRestore:function(e){ee=e|=0},stackSave:function(){return 0|ee}};var ye=o._emscripten_replace_memory=A._emscripten_replace_memory;if(o._free=A._free,o._llparser_add_rule=A._llparser_add_rule,o._llparser_create=A._llparser_create,o._llparser_create_descriptor=A._llparser_create_descriptor,o._llparser_descriptor_add_char=A._llparser_descriptor_add_char,o._llparser_descriptor_add_range=A._llparser_descriptor_add_range,o._llparser_descriptor_revert=A._llparser_descriptor_revert,o._llparser_descriptor_set_all=A._llparser_descriptor_set_all,o._llparser_descriptor_set_nil=A._llparser_descriptor_set_nil,o._llparser_destroy=A._llparser_destroy,o._llparser_get_input_buffer=A._llparser_get_input_buffer,o._llparser_get_result=A._llparser_get_result,o._llparser_parse=A._llparser_parse,o._llparser_prepare=A._llparser_prepare,o._malloc=A._malloc,o._memcpy=A._memcpy,o._memset=A._memset,o._sbrk=A._sbrk,o.establishStackSpace=A.establishStackSpace,o.getTempRet0=A.getTempRet0,o.runPostSets=A.runPostSets,o.setTempRet0=A.setTempRet0,o.setThrew=A.setThrew,o.stackAlloc=A.stackAlloc,o.stackRestore=A.stackRestore,o.stackSave=A.stackSave,o.asm=A,o.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return b[e>>0];case"i16":return w[e>>1];case"i32":case"i64":return S[e>>2];case"float":return O[e>>2];case"double":return C[e>>3];default:d("invalid type for getValue: ".concat(t))}return null},o.stringToUTF16=function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var o=0;o<n;++o)w[t>>1]=e.charCodeAt(o),t+=2;return w[t>>1]=0,t-r},g&&((String.prototype.startsWith?g.startsWith(le):0===g.indexOf(le))||("function"==typeof o.locateFile?g=o.locateFile(g):o.memoryInitializerPrefixURL&&(g=o.memoryInitializerPrefixURL+g)),A=o.readBinary(g),m.set(A,8)),(l.prototype=Error()).constructor=l,o.run=f,o.abort=d,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();o.noExitRuntime=!0,f()}(e.exports)}).call(t,n(8).Buffer,n(12))},function(e,t,n){(function(e){"use strict";function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"!=typeof e)return a(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return s(this,e)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=u(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),a=(e=o(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|l(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?o(e,0):u(e,t);if("Buffer"===t.type&&D(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function s(e,t){if(c(t),e=o(e,t<0?0:0|l(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|l(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x".concat(r().toString(16)," bytes"));return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e="".concat(e));var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return A(e).length;t="".concat(t).toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:h(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):h(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function h(e,t,n,r,o){function i(e,t){return 1===c?e[t]:e.readUInt16BE(t*c)}var a,c=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s/=c=2,u/=2,n/=2}if(o){var l=-1;for(a=n;a<s;a++)if(i(e,a)===i(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*c}else-1!==l&&(a-=a-l),l=-1}else for(s<n+u&&(n=s-u),a=n;0<=a;a--){for(var f=!0,d=0;d<u;d++)if(i(e,a+d)!==i(t,d)){f=!1;break}if(f)return a}return-1}function v(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?o<(r=Number(r))&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var c=parseInt(t.substr(2*a,2),16);if(isNaN(c))return a;e[n+a]=c}return a}function g(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function y(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,c,s,u=e[o],l=null,f=239<u?4:223<u?3:191<u?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&127<(s=(31&u)<<6|63&i)&&(l=s);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(s=(15&u)<<12|(63&i)<<6|63&a)&&(s<55296||57343<s)&&(l=s);break;case 4:i=e[o+1],a=e[o+2],c=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&c)&&65535<(s=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&c)&&s<1114112&&(l=s)}null===l?(l=65533,f=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function b(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function m(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||o<n)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0".concat(r.toString(16)):r.toString(16);return i}function w(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function C(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function E(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,r,o){return o||E(e,0,n,4),N.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,o){return o||E(e,0,n,8),N.write(e,t,n,r,52,8),n+8}function A(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function x(e){return j.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}var j=n(9),N=n(10),D=n(11);t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return s(null,e)},i.allocUnsafeSlow=function(e){return s(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!D(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?y(this,0,e):function(e,t,n){var r,o,i,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return m(this,t,n);case"utf8":case"utf-8":return y(this,t,n);case"ascii":return _(this,t,n);case"latin1":case"binary":return b(this,t,n);case"base64":return r=this,i=n,0===(o=t)&&i===r.length?j.fromByteArray(r):j.fromByteArray(r.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,n);default:if(a)throw new TypeError("Unknown encoding: ".concat(e));e="".concat(e).toLowerCase(),a=!0}}.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer ".concat(e,">")},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),c=(n>>>=0)-(t>>>=0),s=Math.min(a,c),u=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){a=u[f],c=l[f];break}return a<c?-1:c<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o,i,a,c,s,u,l=this.length-t;if((void 0===n||l<n)&&(n=l),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var f=!1;;)switch(r){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return s=t,u=n,P(A(e,this.length-s),this,s,u);case"ascii":return g(this,e,t,n);case"latin1":case"binary":return g(this,e,t,n);case"base64":return this,a=t,c=n,P(x(e),this,a,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,i=n,P(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(e,this.length-o),this,o,i);default:if(f)throw new TypeError("Unknown encoding: ".concat(r));r="".concat(r).toLowerCase(),f=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),N.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),N.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),N.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),N.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=0,a=1,c=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===c&&0!==this[t+i-1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);O(this,e,t,n,o-1,-o)}var i=n-1,a=1,c=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===c&&0!==this[t+i+1]&&(c=1),this[t+i]=(e/a>>0)-c&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");var o;r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;0<=o;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: ".concat(r))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var c=i.isBuffer(e)?e:A(new i(e,r).toString()),s=c.length;for(a=0;a<n-t;++a)this[a+t]=c[a%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(o[(c=r)>>18&63]+o[c>>12&63]+o[c>>6&63]+o[63&c]);var c;return i.join("")}t.byteLength=function(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o},t.toByteArray=function(e){for(var t,r=n(e),o=r[0],c=r[1],s=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,c)),u=0,l=0<c?o-4:o,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===c&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,s[u++]=255&t),1===c&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],c=0,s=n-i;c<s;c+=16383)a.push(r(e,c,s<c+16383?s:c+16383));return 1==i?(t=e[n-1],a.push("".concat(o[t>>2]+o[t<<4&63],"=="))):2==i&&(t=(e[n-2]<<8)+e[n-1],a.push("".concat(o[t>>10]+o[t>>4&63]+o[t<<2&63],"="))),a.join("")};for(var o=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=c.length;s<u;++s)o[s]=c[s],i[c.charCodeAt(s)]=s;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,c=8*o-r-1,s=(1<<c)-1,u=s>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=c;0<l;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===s)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,c,s,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),2<=(t+=1<=a+f?d/s:d*Math.pow(2,1-f))*s&&(a++,s/=2),l<=a+f?(c=0,a=l):1<=a+f?(c=(t*s-1)*Math.pow(2,o),a+=f):(c=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[n+p]=255&c,p+=h,c/=256,o-=8);for(a=a<<o|c,u+=o;0<u;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){h&&f&&(h=!1,f.length?p=f.concat(p):v=-1,p.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=p.length;t;){for(f=p,p=[];++v<t;){var n;null===(n=f)||void 0===n||n[v].run()}v=-1,t=p.length}f=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var u,l,f,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var p=[],h=!1,v=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function o(e){return i.exec(e).slice(1)}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;-1<=i&&!o;i--){var a=0<=i?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t="".concat(a,"/").concat(t),o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),(function(e){return!!e})),!o).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(r(e.split("/"),(function(e){return!!e})),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),c=a,s=0;s<a;s++)if(o[s]!==i[s]){c=s;break}var u=[];for(s=c;s<o.length;s++)u.push("..");return(u=u.concat(i.slice(c))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(12))},function(e,t,n){function r(){}function o(){}var i=n(1),a=n(2),c=n(5),s=["created","ready","attached","moved","detached","saved","restored","error"],u=[String,Number,Boolean,Object,Array,null],l=c.parseMultiPaths,f=(o.matchTypeWithValue=function(e,t){if(e===String){if("string"!=typeof t)return!1}else if(e===Number){if(!Number.isFinite(t))return!1}else if(e===Boolean){if("boolean"!=typeof t)return!1}else if(e===Object){if(null===t||t.constructor!==Object)return!1}else if(e===Array){if(t.constructor!==Array)return!1}else if(void 0===t)return!1;return!0},function(e,t){for(var n in t)hasOwnProperty.call(e,n)?"object"!==_typeof(e[n])||"object"!==_typeof(t[n])||null===t[n]||t[n]instanceof Array?e[n]=t[n]:f(e[n],t[n]):e[n]=t[n]});o.create=function(e){var t=new o;return t.is=e.is||"",t.using=e.using||{},t.generics=e.generics||{},t.template=e.template,t.externalClasses=e.externalClasses||[],t.data="object"===_typeof(e.data)?{}:null,t.properties=Object.create(null),t.methods=Object.create(null),t.listeners=Object.create(null),t.relations=Object.create(null),t.ancestors=[],t.initiator=e.initiator,t.lifetimes=Object.create(null),t.pageLifetimes=Object.create(null),t.observers=[],t.options={publicProperties:!!(e.options&&void 0!==e.options.publicProperties?e.options.publicProperties:a.publicProperties)},t.definitionFilter=e.definitionFilter,((t._unprepared=e).options&&void 0!==e.options.lazyRegistration?e.options.lazyRegistration:a.lazyRegistration)||o.prepare(t),e.is&&(o._list[e.is]=t),t},o.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var n=e.ancestors,i="",a=0;for(a=0;a<(t.behaviors||[]).length;a++){var c=t.behaviors[a],d=c;for(i in"string"==typeof d&&(d=o._list[c]),d._unprepared&&o.prepare(d),"object"===_typeof(d.data)&&(null===e.data?e.data=d.data:f(e.data,d.data)),d.generics){var p=d.generics[i];"object"!==_typeof(p)&&(p={}),e.generics[i]={default:p.default}}for(i in d.properties)e.properties[i]=d.properties[i];for(i in d.relations)e.relations[i]=d.relations[i];for(i in d.methods)e.methods[i]=d.methods[i];for(var h=0;h<d.ancestors.length;h++)n.indexOf(d.ancestors[h])<0&&n.push(d.ancestors[h])}for(i in"object"===_typeof(t.data)&&(null===e.data?e.data=t.data:f(e.data,t.data)),t.properties){var v=t.properties[i];0<=u.indexOf(v)?v={type:v}:u.indexOf(v.type)<0&&v.optionalTypes&&0<v.optionalTypes.length&&(v.type=v.optionalTypes[0]),void 0===v.value&&(v.type===String?v.value="":v.type===Number?v.value=0:v.type===Boolean?v.value=!1:v.type===Array?v.value=[]:v.value=null),e.properties[i]={type:v.type,optionalTypes:v.optionalTypes,value:v.value,filter:v.filter,observer:v.observer,public:!!(void 0===v.public?e.options.publicProperties:v.public),observeAssignments:!!v.observeAssignments}}if(t.lifetimes&&"object"===_typeof(t.lifetimes))for(i in t.lifetimes)e.lifetimes[i]=t.lifetimes[i];for(a=0;a<s.length;a++)void 0===e.lifetimes[s[a]]&&(e.lifetimes[s[a]]=t[s[a]]);for(i in t.listeners)e.listeners[i]=t.listeners[i];var g=t.observers;if(g instanceof Array)for(a=0;a<g.length;a++){var y=g[a];e.observers.push({paths:l(y.fields||"**"),observer:y.observer})}else for(i in g)e.observers.push({paths:l(i),observer:g[i]});if(t.pageLifetimes&&"object"===_typeof(t.pageLifetimes))for(i in t.pageLifetimes)e.pageLifetimes[i]=t.pageLifetimes[i];for(i in t.relations){var _=t.relations[i];e.relations[i]={target:_.target||i,type:_.type,linked:_.linked||r,linkChanged:_.linkChanged||r,unlinked:_.unlinked||r,linkFailed:_.linkFailed||r}}for(i in t.methods)"function"==typeof t.methods[i]&&(e.methods[i]=t.methods[i]);n.push(e)}},o._list=Object.create(null),o.prototype.hasBehavior=function(e){this._unprepared&&o.prepare(this);for(var t=0;t<this.ancestors.length;t++)if(e instanceof o){if(this.ancestors[t]===e)return!0}else if(this.ancestors[t]===o._list[e])return!0;return!1},o.prototype._getAllListeners=function(){for(var e={},t=this.ancestors,n=0;n<t.length;n++){var r=this.ancestors[n];for(var o in r.listeners)Object.prototype.hasOwnProperty.call(e,o)?e[o].push(r.listeners[o]):e[o]=[r.listeners[o]]}return e},o.prototype._addObserversToDataProxy=function(e){for(var t=this.ancestors,n=0;n<t.length;n++)for(var r=this.ancestors[n].observers,o=0;o<r.length;o++){var i=r[o];e.addObserver(i.observer,i.paths)}},o.prototype._getAllLifeTimeFuncs=function(){var e={},t=this.ancestors;s.forEach((function(t){e[t]=i.create("Lifetime Method")}));for(var n=0;n<t.length;n++){var r=t[n];for(var o in r.lifetimes)r.lifetimes[o]&&(e[o]||(e[o]=i.create("Lifetime Method")),e[o].add(r.lifetimes[o]))}return e},o.prototype._getAllPageLifeTimeFuncs=function(){for(var e={},t=this.ancestors,n=0;n<t.length;n++){var r=t[n];for(var o in r.pageLifetimes)r.pageLifetimes[o]&&(e[o]||(e[o]=i.create("Page Lifetime Method")),e[o].add(r.pageLifetimes[o]))}return e},o.callDefinitionFilter=function(e){var t=e.definitionFilter,n=[];return e.behaviors instanceof Array&&e.behaviors.forEach((function(t){(t="string"==typeof t?o._list[t]:t)&&t.definitionFilter&&(n.push(t.definitionFilter),t.definitionFilter.call(null,e))})),"function"==typeof t?function(e){t(e,n)}:null},e.exports=o},function(e,t,n){function r(e){s(this,e||null)}var o=n(4),i=n(16),a=n(17),c=n(2);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0},id:{get:function(){return this.__id},set:function(e){var t=String(e);if(this.__id!==t){if(this.__id=t,this.ownerShadowRoot){var n=this.ownerShadowRoot.__wxHost;n.__idCacheDirty=!0,this.__domElement&&n.__componentOptions.writeIdToDOM&&(this.__domElement.id=t)}c.writeExtraInfoToAttr&&this.__domElement&&this.__domElement.setAttribute("exparser:info-attr-id",t),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"id"})}},configurable:!0},slot:{get:function(){return this.__slot},set:function(e){e=String(e),this.__slot!==e&&(this.__inheritSlots||(this.__slot=e,y(this),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"slot"})))},configurable:!0},attributes:{get:function(){var e=[];if(!this.__attributes)return e;for(var t in this.__attributes)e.push({name:t,value:this.__attributes[t]});return e},set:function(){},configurable:!0},class:{get:function(){return this.classList.getClassNames()},set:function(e){this.classList&&this.classList.setClassNames(e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"class"})},configurable:!0},style:{get:function(){return this.__domElement?this.__domElement.style:null},set:function(e){return m.call(this,e)},configurable:!0}}),o._setElementSystem(r),a._setElementSystem(r);var s=r.initialize=function(e,t){e.__id="",e.__slot="",e.__virtual=!1,e.__inheritSlots=!1,e.__attributes=null,e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=null,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,(e.__methodCaller=e).__relationHandler=null,e.__createdInOwnerShadowRoot=null,(e.__domElement=t)&&(t.__wxElement=e)};function u(e){if(!e.parentNode||e.parentNode.__attached){!function e(t){if(t instanceof r){t.__attached=!0,t.__lifeTimeFuncs&&t.__lifeTimeFuncs.attached.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("attached"),t.__attachedObservers&&!t.__attachedObservers.empty&&i._callSingleObserver(t,"__attachedObservers",{type:"attachStatus",target:t,status:"attached"}),t.shadowRoot instanceof r&&e(t.shadowRoot);for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o])}}(e)}}function l(e){if(e.__attached){!function e(t){if(t instanceof r){for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o]);t.shadowRoot instanceof r&&e(t.shadowRoot),t.__attached=!1,t.__lifeTimeFuncs&&t.__lifeTimeFuncs.detached.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("detached"),t.__attachedObservers&&!t.__attachedObservers.empty&&i._callSingleObserver(t,"__attachedObservers",{type:"attachStatus",target:t,status:"detached"})}}(e)}}function f(e,t,n){if(e.__childObservers&&!e.__childObservers.empty||e.__subtreeObserversCount){var r,o=[n];r="add"===t?{type:"childList",target:e,addedNodes:o}:"remove"===t?{type:"childList",target:e,removedNodes:o}:{type:"childList",target:e,addedNodes:o,removedNodes:o},i._callObservers(e,"__childObservers",r)}}function d(e,t,n){var o=e.ownerShadowRoot,i=!1,s=!1,u=!1,l=!1;return function e(f){if(f.__createdInOwnerShadowRoot&&t&&f.__createdInOwnerShadowRoot!==t)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(f.ownerShadowRoot=t,f instanceof r){if(t){var d=t.__wxHost.__componentOptions;f.__domElement&&f.__id&&d.writeIdToDOM!==!(!o||!o.__wxHost.__componentOptions.writeIdToDOM)&&(d.writeIdToDOM?f.__domElement.id=f.__id:f.__domElement.id=""),f.classList instanceof a&&(f.classList._setOwnerOptions(t.__wxHost.classList,d.classPrefix,d.addGlobalClass),c.writeExtraInfoToAttr&&f.__domElement&&f.__domElement.setAttribute("exparser:info-class-prefix",d.classPrefix&&"".concat(d.classPrefix,"--")))}n&&(f.__id&&(o&&(i=!0),t&&(u=!0)),void 0!==f.__slotName&&(o&&(s=!0),t&&(l=!0)));for(var p=f.childNodes,h=0;h<p.length;h++)e(p[h])}}(e),i&&(o.__wxHost.__idCacheDirty=!0),s&&(o.__slotCacheDirty=!0),u&&(t.__wxHost.__idCacheDirty=!0),l&&(t.__slotCacheDirty=!0),o}function p(e){var t;e.__slotCacheDirty=!1;var n=e.__wxHost,o=Object.create(null);t=void 0!==n.__singleSlot?{"":n.__singleSlot}:n.__slots;(function e(t){void 0!==t.__slotName&&(o[t.__slotName]||(o[t.__slotName]=t));for(var n=t.childNodes,i=0;i<n.length;i++)n[i]instanceof r&&e(n[i])})(e),void 0!==n.__singleSlot?n.__singleSlot!==o[""]&&(o[""]&&(o[""].__wxSlotChildren=n.childNodes),g(n,o,t,!0),n.__singleSlot&&(n.__singleSlot.__wxSlotChildren=[]),n.__singleSlot=o[""]||null):(g(n,o,t,!1),n.__slots=o)}function h(e,t,n,r){for(var o=function e(t,r,o){var i=t.childNodes,a=0;for(r&&(a=i.indexOf(r)+(o?0:1));a<i.length;a++){var c=i[a];if(c.__slot===n)return c;if(c.__inheritSlots){var s=e(c,null,!1);if(s)return s}}return null};t!==e;t=t.parentNode){var i=o(t.parentNode,t,r);if(i)return i;r=!1}return null}function v(e,t,n,o){var a=o?n:t;return function(e,t,n,o){var a,c,s;if(void 0!==e.__slotName)return!1;var v=-1;if(n&&(v=e.childNodes.indexOf(n))<0)return!1;o&&t===n&&(o=!1);var g=null,y=e,m=e;if(t){g=t.parentNode;var w=(t.parentNode=e).__subtreeObserversCount;if(g){var S=g.childNodes.indexOf(t);g.childNodes.splice(S,1),g===e&&S<v&&v--,w-=g.__subtreeObserversCount}w&&i._updateSubtreeCaches(t,w)}for(var O=e;null===(C=O)||void 0===C?void 0:C.__inheritSlots;){var C;O=O.parentNode}for(var I=!O||!O.__slots,E=!I||e.__inheritSlots,T=g;null===(k=T)||void 0===k?void 0:k.__inheritSlots;){var k;T=T.parentNode}var A=!T||!T.__slots,x=!A||(null===(a=g)||void 0===a?void 0:a.__inheritSlots);if(I)void 0!==e.__singleSlot&&(y=m=e.__singleSlot),y?_(y,t,n,o,E,x,v):t.__wxSlotParent&&_(t.__wxSlotParent,null,t,!0,x,!1),t&&!A&&t.__inheritSlots&&b(t,(function(e,t){_(e,t,null,!1,!0,!0,-1)}));else{var P="";if(t&&(P=t.__slot||"",y=O.__slots[P]||null),n&&(m=O.__slots[n.__slot||""]||null),n&&m&&o&&_(m,null,n,o,!0,!1),t)if(y){var j=n?h(O,n,P,!o):null;_(y,t,j,!1,!0,x)}else t.__wxSlotParent&&_(t.__wxSlotParent,null,t,!0,x,!1);n&&o&&n.__inheritSlots&&b(n,(function(e,t){_(e,t,null,!1,!0,!0,-1)})),(null==t?void 0:t.__inheritSlots)&&b(t,(function(e,t){var r=t.__slot||"",i=O.__slots[r]||null;if(i){var a=n?h(O,n,r,!o):null;_(i,t,a,!1,!0,!0)}else t.__wxSlotParent&&_(t.__wxSlotParent,null,t,!0,!0,!1)}))}o&&(e.__subtreeObserversCount&&i._updateSubtreeCaches(n,-e.__subtreeObserversCount),n.parentNode=null),-1===v&&(v=e.childNodes.length),t?e.childNodes.splice(v,o?1:0,t):e.childNodes.splice(v,o?1:0);var N=null,D=null;return o&&null!==n.ownerShadowRoot&&(N=d(n,null,!0)),t&&t.ownerShadowRoot!==t.parentNode.ownerShadowRoot&&(D=d(t,t.parentNode.ownerShadowRoot,!0)),o&&((null===(c=N)||void 0===c?void 0:c.__slotCacheDirty)&&p(N),n.ownerShadowRoot&&n.ownerShadowRoot.__slotCacheDirty&&p(n.ownerShadowRoot)),t&&((null===(s=D)||void 0===s?void 0:s.__slotCacheDirty)&&p(D),t.ownerShadowRoot&&t.ownerShadowRoot.__slotCacheDirty&&p(t.ownerShadowRoot)),o&&(l(n),f(e,"remove",n)),t&&(g?function(e){if(!e.__attached)return u(e);!function e(t){if(t instanceof r){for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o]);t.shadowRoot instanceof r&&e(t.shadowRoot),t.__lifeTimeFuncs&&t.__lifeTimeFuncs.moved.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("moved")}}(e)}(t):u(t),g===e?f(e,"move",t):(g&&f(g,"remove",t),f(e,"add",t))),!0}(e,t,n,o)?a:null}r._clone=function(e,t,n){for(var r in e.__id=t.__id,e.__slot=t.__slot,e.__virtual=t.__virtual,e.__inheritSlots=t.__inheritSlots,e.__attributes=Object.create(null),t.__attributes)e.__attributes[r]=t.__attributes[r];e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=null,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,(e.__methodCaller=e).__relationHandler=null,(e.__domElement=n)&&(n.__wxElement=e)},r._updateIdMap=function(e){var t=e.shadowRoot;if(e.__idCacheDirty){e.__idCacheDirty=!1;var n=e.__idCache=Object.create(null);!function e(t){t.__id&&(n[t.__id]||(n[t.__id]=t));for(var o=t.childNodes,i=0;i<o.length;i++)o[i]instanceof r&&e(o[i])}(t)}};var g=function(e,t,n,r){var o=e.childNodes,i=0;if(r){var a=t[""];if(a)for(;i<o.length;i++)_(a,o[i],null,!1,!1,!1,-1);else if(a=n[""])for(;i<o.length;i++)_(a,null,o[i],!0,!1,!1,i)}else{var c=function e(r){for(var o=0;o<r.length;o++){var i=r[o],a=i.__slot||"",c=t[a];c?_(c,i,null,!1,!0,!0):(c=n[a])&&_(c,null,i,!0,!0,!0),i.__inheritSlots&&e(i.childNodes)}};c(o)}},y=function(e){for(var t=e.parentNode;null===(n=t)||void 0===n?void 0:n.__inheritSlots;){var n;t=t.parentNode}if(t&&void 0===t.__singleSlot){var r=e.__slot||"",o=t.__slots[r];if(o){var i=h(t,e,r,!1);_(o,e,i,!1,!0,!0)}else(o=e.__wxSlotParent)&&_(o,null,e,!0,!0,!0)}},_=function(e,t,n,o,i,a,s){if(o&&(n.__wxSlotParent=null),i&&(s=e.__wxSlotChildren.indexOf(n)),t){var u=t.__wxSlotParent;if(t.__wxSlotParent=e,u&&a){var l=u.__wxSlotChildren.indexOf(t);u.__wxSlotChildren.splice(l,1),u===e&&l<s&&s--}}(function(e,t,n,o,i){var a=e;if(a instanceof r){for(;a.__virtual;){var c=a.__wxSlotParent;if(!c){a=null;break}if(t&&!n){var s=c.__wxSlotChildren.indexOf(a);n=c.__wxSlotChildren[s+1]}a=c}a instanceof r&&(a=a.__domElement)}if(a){var u=o,l=null,f=null;if(t)if(t.__virtual){var d=document.createDocumentFragment();(function e(t){for(var n=0;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];r.__virtual?e(r):d.appendChild(r.__domElement)}})(t),l=d}else l=t.__domElement;if(n)if(n.__virtual){var p=e,h=0;if(o){(function e(t){for(var n=0;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];r.__virtual?e(r):a.removeChild(r.__domElement)}})(n),u=!1,h=i+1}else p=n.__wxSlotParent,h=n===t?i:p.__wxSlotChildren.indexOf(n);if(t){var v=function e(t,n){for(;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];if(!r.__virtual)return r;var o=e(r,0);if(o)return o}};n=null;for(var g=p;!(n=v(g,h))&&g.__virtual;g=g.__wxSlotParent)h=g.__wxSlotParent.__wxSlotChildren.indexOf(g)+1;n&&(f=n.__domElement)}}else f=n.__domElement;u?l?a.replaceChild(l,f):a.removeChild(f):l&&(f?a.insertBefore(l,f):a.appendChild(l))}else if(null==t?void 0:t.__wxSlotParent){!function e(t){if(t.__virtual)for(var n=0;n<t.__wxSlotChildren.length;n++)e(t.__wxSlotChildren[n]);else{var r,o=t.__domElement;null==o||null===(r=o.parentNode)||void 0===r||r.removeChild(o)}}(t)}})(e,t,n,o,s),c.writeExtraInfoToAttr&&(o&&n instanceof r&&n.__domElement&&n.__domElement.removeAttribute("exparser:info-in-slot-of"),t instanceof r&&t.__domElement&&(void 0!==e.__slotName&&e.ownerShadowRoot?t.__domElement.setAttribute("exparser:info-in-slot-of",e.ownerShadowRoot.__wxHost.__componentInstanceId):t.__domElement.removeAttribute("exparser:info-in-slot-of"))),i&&(-1===s&&(s=e.__wxSlotChildren.length),t?e.__wxSlotChildren.splice(s,o?1:0,t):e.__wxSlotChildren.splice(s,o?1:0))},b=function e(t,n){for(var r=t.childNodes,o=0;o<r.length;o++){var i=r[o];n(t,i),i.__inheritSlots&&e(i,n)}};r._attachShadowRoot=function(e){var t=e.__wxHost;t.__wxSlotChildren=[e],_(t,e,null,!1,!1,0),d(e,e,!1)},r.appendChild=function(e,t){return v(e,t,null,!1)},r.insertBefore=function(e,t,n){return v(e,t,n,!1)},r.removeChild=function(e,t){return v(e,null,t,!0)},r.replaceChild=function(e,t,n){return v(e,t,n,!0)},r.prototype.appendChild=function(e){return v(this,e,null,!1)},r.prototype.insertBefore=function(e,t){return v(this,e,t,!1)},r.prototype.removeChild=function(e){return v(this,null,e,!0)},r.prototype.replaceChild=function(e,t){return v(this,e,t,!0)},r.prototype.triggerEvent=function(e,t,n){o.triggerEvent(this,e,t,n)},r.prototype.dispatchEvent=function(e){o.dispatchEvent(this,e)},r.prototype.addListener=function(e,t,n){o.addListenerToElement(this,e,t,n)},r.prototype.removeListener=function(e,t,n){o.removeListenerFromElement(this,e,t,n)},r.setMethodCaller=function(e,t){e.__methodCaller=t},r.getMethodCaller=function(e){return e.__methodCaller},r.prototype.getAttribute=function(e){if(!this.__attributes)return null;var t=this.__attributes[e];return void 0===t?null:t},r.prototype.setAttribute=function(e,t){this.__attributes||(this.__attributes=Object.create(null)),t=String(t),this.__attributes[e]=t,this.__domElement&&this.__domElement.setAttribute(e,t)},r.prototype.removeAttribute=function(e){this.__attributes&&(delete this.__attributes[e],this.__domElement&&this.__domElement.removeAttribute(e))};var m=r.prototype.setNodeStyle=function(e){if(this.__domElement&&this.__createdInOwnerShadowRoot&&this.__createdInOwnerShadowRoot.__childrenPropsFilter){var t=this.__createdInOwnerShadowRoot.__childrenPropsFilter.style;if("function"==typeof t)return void this.__domElement.setAttribute("style",t.call(this,e))}this.__domElement&&this.__domElement.setAttribute("style",e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"style"})};function w(e,t){var n=e.match(/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!n)return null;var r=n[1].slice(1),o=n[2].split(".");return o.shift(),r||o.length?{id:r,classes:o,relation:t||""}:null}function S(e,t,n){if(n.__virtual)return!1;for(var r=e.union,o=0;o<r.length;o++){var i=r[o];if(C(t,n,i,i.length-1,">"))return!0}return!1}r.replaceDocumentElement=function(e,t){e.__attached||(t.parentNode.replaceChild(e.__domElement,t),u(e))},r.pretendAttached=function(e){e.__attached||u(e)},r.pretendDetached=function(e){e.__attached&&l(e)},r.isAttached=function(e){return e.__attached},r.setSlotName=function(e,t){if(t=null==t?"":String(t),void 0===e.__slotName){if(0!==e.childNodes.length||0!==e.__wxSlotChildren.length)return;e.__wxSlotChildren=[]}e.__slotName=t,e.ownerShadowRoot&&p(e.ownerShadowRoot)},r.setInheritSlots=function(e){e.__singleSlot||e.__slots||e.__wxSlotChildren.length||(e.__wxSlotChildren=[],e.__inheritSlots=!0)},r.getInheritSlots=function(e){return e.__inheritSlots};var O=r.parseSelector=function(e){for(var t=String(e||"").split(","),n=[],r=!1,o=0;o<t.length;o++){for(var i=t[o].split(/( |\t|>+)/g),a=[],c="",s=0;s<i.length;s++){var u=i[s];if(u&&" "!==u&&"\t"!==u)if(">"!==u[0]){var l=w(u,c);if(c="",!l)break;a.push(l)}else{if(""!==c)break;">>>"===(c=u)&&(r=!0)}}s===i.length&&a.length&&n.push(a)}return n.length?{crossShadow:r,union:n}:null},C=function e(t,n,r,o,i){if(n===t)return!1;var a=r[o],c=!0;a.id&&a.id!==n.__id&&(c=!1);for(var s=a.classes,u=0;c&&u<s.length;u++)n.classList.contains(s[u])||(c=!1);if(!c&&">"===i)return!1;var l=n;if(c&&0===o){if(null===t)return!0;for(l=l.parentNode;l;l=l.parentNode)if(l===t)return!0;if(">>>"!==i)return!1;l=n,c=!1}for(var f=c?a.relation:i;(l=l.parentNode?l.parentNode:">>>"===f?l.__wxHost:">>>"===i?(c=!1,l.__wxHost):null)===t&&(l=null),null===(d=l)||void 0===d?void 0:d.__virtual;)var d;if(!l)return!1;if(c){if(e(t,l,r,o-1,f))return!0;if(">>>"!==i)return!1}return e(t,l,r,o,i)},I=function e(t,n,o,i,a){if(S(n,o,i)&&(t.push(i),a))return!0;if(i.shadowRoot&&n.crossShadow&&(i.ownerShadowRoot?i.ownerShadowRoot.__wxHost.__componentOptions.domain:c.domain)===i.__componentOptions.domain&&e(t,n,o,i.shadowRoot,a)&&a)return!0;for(var s=i.childNodes,u=0;u<s.length;u++)if(s[u]instanceof r&&e(t,n,o,s[u],a)&&a)return!0;return!1};r.prototype.querySelector=function(e){var t="object"===_typeof(e)?e:O(e);if(!t)return null;var n=[];return I(n,t,this,this,!0),n[0]||null},r.prototype.querySelectorAll=function(e){var t="object"===_typeof(e)?e:O(e),n=[];return t?(I(n,t,this,this,!1),n):[]},r.matchSelector=function(e,t){var n="object"===_typeof(e)?e:O(e);return!!n&&S(n,null,t)},r.prototype.matchSelector=function(e,t){var n="object"===_typeof(e)?e:O(e);return!!n&&S(n,this,t)},e.exports=r},function(e,t,n){function r(){}var o=n(1);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;return t._cb=e,t._noSubtreeCb=function(t){t.target===this&&e.call(this,t)},t._binded=[],t},r.prototype.observe=function(e,t){var n=0,r=(t=t||{}).subtree?this._cb:this._noSubtreeCb;t.properties&&(e.__propObservers||(e.__propObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__propObservers,id:e.__propObservers.add(r),subtree:t.subtree?e:null}),n++),t.childList&&(e.__childObservers||(e.__childObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__childObservers,id:e.__childObservers.add(r),subtree:t.subtree?e:null}),n++),t.characterData&&(e.__textObservers||(e.__textObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__textObservers,id:e.__textObservers.add(r),subtree:t.subtree?e:null}),n++),t.subtree&&i(e,n),t.attachStatus&&(e.__attachedObservers||(e.__attachedObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__attachedObservers,id:e.__attachedObservers.add(r),subtree:null}))},r.prototype.disconnect=function(){for(var e=this._binded,t=0;t<e.length;t++){var n=e[t];n.funcArr.remove(n.id),n.subtree&&i(n.subtree,-1)}this._binded=[]};var i=r._updateSubtreeCaches=function(e,t){e.__subtreeObserversCount+=t;var n=e.childNodes;if(n)for(var r=0;r<n.length;r++)i(n[r],t)};r._callObservers=function(e,t,n){for(;e[t]&&e[t].call(e,[n]),(e=e.parentNode)&&e.__subtreeObserversCount;);},r._callSingleObserver=function(e,t,n){e[t]&&e[t].call(e,[n])},e.exports=r},function(e,t){function n(){}var r=null;n._setElementSystem=function(e){r=e,n._setElementSystem=null};var o=Object.prototype.hasOwnProperty;function i(e){var t="",n=e._rawNames,r=e._prefix,i=e._owner?e._owner._resolvedAlias:null,a=e._addOriginalClass;r&&(r+="--");for(var c=0;c<n.length;c++){var s=n[c];c&&(t+=" "),i&&o.call(i,s)?t+=i[s]:(a&&(t+="".concat(s," ")),t+=r+s)}return t}function a(e){var t=e._elem.__domElement;if(t){var n=i(e);n?t.setAttribute("class",n):t.removeAttribute("class")}}n.create=function(e,t){var r=new n;for(var o in r._prefix="",r._alias=t,r._resolvedAlias={},t)r._resolvedAlias[o]="";return r._rawNames=[],r._elem=e,r._owner=null,r};var c=function e(t){var o=t.classList;o instanceof n&&(o._alias&&s(o),a(o));for(var i=t.childNodes,c=0;c<i.length;c++)i[c]instanceof r&&e(i[c])},s=function(e){var t=e._owner;if(!t)return!1;var n=!1;for(var i in e._alias){var a=e._alias[i];if(o.call(t._alias,a)){var s=t._resolvedAlias[a];e._resolvedAlias[i]!==s&&(n=!0,e._resolvedAlias[i]=s)}else{var u=e._prefix&&a?"".concat(e._prefix,"--").concat(a):a;e._resolvedAlias[i]!==u&&(n=!0,e._resolvedAlias[i]=u)}}n&&e._elem.shadowRoot instanceof r&&c(e._elem.shadowRoot)};n.prototype.toggle=function(e,t){var n=this._rawNames.indexOf(e);void 0===t&&(t=n<0),t?n<0&&(this._rawNames.push(e),a(this)):0<=n&&(this._rawNames.splice(n,1),a(this))},n.prototype.contains=function(e){return 0<=this._rawNames.indexOf(e)},n.prototype._setOwnerOptions=function(e,t,n){this._prefix!==(this._prefix=t)&&(this._addOriginalClass=n,this._owner=e,this._alias&&s(this),a(this))},n.prototype._setAlias=function(e,t){this._alias[e]=t;var n=this._owner;n&&o.call(n._alias,t)?this._resolvedAlias[e]=n._resolvedAlias[t]:this._resolvedAlias[e]=this._prefix&&t?"".concat(this._prefix,"--").concat(t):t,c(this._elem.shadowRoot)},n.prototype.setClassNames=function(e){e=null==e?"":String(e),this._rawNames=e.match(/-?[_0-9a-z][-_0-9a-z]*/gi)||[],a(this)},n.prototype.getClassNames=function(){return i(this)},e.exports=n},function(e,t,n){function r(){}var o=n(1),i=n(3),a=n(19),c=n(4),s=n(14),u=n(15),l=n(20),f=n(16),d=n(17),p=n(2),h=n(5),v=c.addListenerToElement,g=h.parseSinglePath,y=i.deepCopy;function _(){}r.prototype=Object.create(u.prototype,{constructor:{value:r,writable:!0,configurable:!0},data:{get:function(){return this.__dataProxy._data},set:function(e){var t=this.__dataProxy;for(var n in e)t.scheduleReplace([n],e[n]);t.doUpdates()},configurable:!0},$:{get:function(){return u._updateIdMap(this),this.__idCache},set:function(){}}}),_.prototype=Object.create(Object.prototype),c._setComponent(r);var b=null;function m(e,t,n){t.__relationLinks||(t.__relationLinks={});for(var r=t.__relationLinks[n]=[],o=0;o<e.length;o++)r.push(null)}function w(e,t,n,i,a){for(var c=r.prototype.hasBehavior,u="parent"===i,l="shadowHost"===i,f=0;f<e.length;f++){var d,p=e[f];if(d="object"!==_typeof(p.target)?s._list[p.target]:p.target){var h=t[f],v=null;if(!a)for(var g=l?n.ownerShadowRoot&&n.ownerShadowRoot.__wxHost:n.parentNode;g;g=l?g.ownerShadowRoot&&g.ownerShadowRoot.__wxHost:g.parentNode)if(!g.__virtual){if(c.call(g,d)){var y;y=u?g.__relationMap.child:l?g.__relationMap.shadowContent:g.__relationMap.descendant;for(var _=0;_<y.length;_++){var b,m=y[_];if((b="object"!==_typeof(m.target)?s._list[m.target]:m.target)&&c.call(n,b)){v={parent:g,relation:m};break}}}if(u||v)break}t[f]=v,!h||v&&h.parent===v.parent||(o.safeCallback("Relation Unlinked Callback",h.relation.unlinked,h.parent.__methodCaller,[n.__methodCaller],h.parent),o.safeCallback("Relation Unlinked Callback",p.unlinked,n.__methodCaller,[h.parent.__methodCaller],n)),!v||h&&h.parent===v.parent||(o.safeCallback("Relation Linked Callback",v.relation.linked,v.parent.__methodCaller,[n.__methodCaller],v.parent),o.safeCallback("Relation Linked Callback",p.linked,n.__methodCaller,[v.parent.__methodCaller],n)),h&&v&&h.parent===v.parent&&(o.safeCallback("Relation Link Changed Callback",v.relation.linkChanged,v.parent.__methodCaller,[n.__methodCaller],v.parent),o.safeCallback("Relation Link Changed Callback",p.linkChanged,n.__methodCaller,[v.parent.__methodCaller],n)),a||v||o.safeCallback("Relation Link Failed Callback",p.linkFailed,n.__methodCaller,[],n)}}}r._setDefaultTemplateEngine=function(e){b=e,r._setDefaultTemplateEngine=null},a.setPropUpdater((function(e,t,n,r){var i=e[0],a=this.__propData[i];if(n=function(e,t,n){if(n)for(var r=0;r<n.length;r++)if(s.matchTypeWithValue(n[r],e))return e;return t===String?null==e?"":String(e):t===Number?isFinite(e)?Number(e):0:t===Boolean?!!e:t===Array?e instanceof Array?e:[]:t===Object?"object"===_typeof(e)?e:null:void 0===e?null:e}(n,t.type,t.optionalTypes),t.filter){var c=o.safeCallback("Property Filter",t.filter,this.__methodCaller,r?[]:[n,a,e],this);void 0!==c&&(n=c)}return this.__propData[i]=n,this.__domElement&&this.__componentOptions.reflectToAttributes&&this.__propPublic[i]&&function(e,t,n){var r=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),o=_typeof(n);"boolean"==o?n?e.__domElement.setAttribute(r,""):e.__domElement.removeAttribute(r):"object"==o?e.__domElement.setAttribute(r,JSON.stringify(n)):e.__domElement.setAttribute(r,n)}(this,i,n),n})),a.setPropObserver((function(e,t,n,r,i){if(r.observeAssignments||e!==t){var a=n[0];r.observer&&o.safeCallback("Property Observer",r.observer,this.__methodCaller,i?[]:[e,t,n],this),r.public&&(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&f._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:a})}}));function S(e,t){return function(n){return e.call(t.__methodCaller,n,t)}}r._list={},r.register=function(e){var t=e.options||{},n=s.create(e),o=void 0!==t.classPrefix?t.classPrefix:p.classPrefix;null!=o||(o=n.is||"");var i=new _;return i._unprepared=n,i.is=e.is||"",i.behavior=n,i.protoFunc=null,i.props=null,i.template=null,i.innerEvents=null,i.generics=n.generics,i.initiator=n.initiator||null,i.options={domain:t.domain||p.domain,writeOnly:!!(void 0!==t.writeOnly?t.writeOnly:p.writeOnly),allowInWriteOnly:!!(void 0!==t.allowInWriteOnly?t.allowInWriteOnly:p.allowInWriteOnly),classPrefix:o,addGlobalClass:!!(void 0!==t.addGlobalClass?t.addGlobalClass:p.addGlobalClass),templateEngine:t.templateEngine||p.templateEngine||b,renderingMode:t.renderingMode||p.renderingMode,multipleSlots:!!(void 0!==t.multipleSlots?t.multipleSlots:p.multipleSlots),reflectToAttributes:!!(void 0!==t.reflectToAttributes?t.reflectToAttributes:p.reflectToAttributes),writeFieldsToNode:!!(void 0!==t.writeFieldsToNode?t.writeFieldsToNode:p.writeFieldsToNode),writeIdToDOM:!!(void 0!==t.writeIdToDOM?t.writeIdToDOM:p.writeIdToDOM),separateInnerData:!!(void 0!==t.separateInnerData?t.separateInnerData:p.separateInnerData),randomizeTagName:!!(void 0!==t.randomizeTagName?t.randomizeTagName:p.randomizeTagName)},n._unprepared||r.prepare(i),void 0!==e.is&&(r._list[n.is]=i),i},r.isPrepared=function(e){return!e._unprepared},r.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var n=e.options,o={};t._unprepared&&s.prepare(t),n.writeOnly&&(o.data={value:null});var i=e.props={};Object.keys(t.properties).forEach((function(e){var r=t.properties[e];i[e]={type:r.type,optionalTypes:r.optionalTypes,value:r.value,filter:"function"==typeof r.filter?r.filter:null==r.filter?null:t.methods[r.filter],observer:"function"==typeof r.observer?r.observer:null==r.observer?null:t.methods[r.observer],public:r.public,observeAssignments:r.observeAssignments},n.writeFieldsToNode&&(o[e]={enumerable:!0,get:function(){return this.__propData[e]},set:function(t){var n=this.__dataProxy;n.scheduleReplace([e],t),n.doUpdates()}})}));var c=(e.protoFunc=function(){}).prototype=Object.create(r.prototype,o);if(c.is=e.is,c.__componentOptions=n,c.__using=t.using,e.dataGroupObserverTree=a._createObserverTree(i),t._addObserversToDataProxy(e.dataGroupObserverTree),c.__behavior=t,n.writeFieldsToNode)for(var u in t.methods)c[u]=t.methods[u];c.__lifeTimeFuncs=t._getAllLifeTimeFuncs(),c.__pageLifeTimeFuncs=t._getAllPageLifeTimeFuncs();var l=t.relations,f=c.__relationMap={};for(var d in l){var p=l[d],h=p.type;f[h]?f[h].push(p):f[h]=[p]}var v=[];f.parent&&v.push((function(e){w(this.__relationMap.parent,this.__relationLinks.parent,this,"parent","detached"===e)})),f.ancestor&&v.push((function(e){w(this.__relationMap.ancestor,this.__relationLinks.ancestor,this,"ancestor","detached"===e)})),f.shadowHost&&v.push((function(e){w(this.__relationMap.shadowHost,this.__relationLinks.shadowHost,this,"shadowHost","detached"===e)})),e.relationHandler=function(e){for(var t=0;t<v.length;t++)v[t].call(this,e)};var g={},y={},_=t.data,b="";for(b in _)y[b]=_[b];for(b in i){var m=i[b];y[b]=m.value,g[b]=m.public}var S=n.templateEngine;e.template=S.create(t,y,n),c.__propPublic=g;var O=t._getAllListeners(),C=e.innerEvents=[];for(var I in O){for(var E=O[I],T=I.indexOf("."),k=I.slice(T+1),A=T<1?"":I.slice(0,T),x=[],P=0;P<E.length;P++){var j=E[P];"function"!=typeof j&&(j=null==j?null:t.methods[j]),x.push(j)}C.push({id:A,name:k,funcs:x})}}};var O=1,C=Object.prototype.hasOwnProperty,I=r._advancedCreate=function(e,t,n,i,c){var s=t;s._unprepared&&r.prepare(s);var l=s.options,f=new s.protoFunc,h=s.generics;f.__generics=h?function(e,t){var n={};for(var o in e){var i=e[o],a=t[o];"object"!==_typeof(a)&&(a=r._list[a]),"object"!==_typeof(a)&&null!=i.default&&(a=r._list[i.default]),a&&(n[o]=a)}return n}(h,i||{}):{};var g=null;"dom"===p.documentBackend?(g=document.createElement(e),u.initialize(f,g)):u.initialize(f,null),n&&(f.__createdInOwnerShadowRoot=n);var _=0,b=f.__externalClassAlias={};if(s.behavior.externalClasses){var w=s.behavior.externalClasses;for(_=0;_<w.length;_++)b[w[_]]=""}f.classList=d.create(f,b),p.writeExtraInfoToAttr&&g&&(f.__componentInstanceId=O++,g.setAttribute("exparser:info-component-id",f.__componentInstanceId));var C=f.__templateInstance=s.template.createInstance(f,c);f.__propData=C.data;var I=l.separateInnerData;f.__innerData=I?y(f.__propData):null,f.__dataProxy=a._advancedCreate(f,f.__propData,f.__innerData,s.dataGroupObserverTree,(function(e,t,n,r){f.__templateInstance.updateValues(f,I?f.__innerData:f.__propData,e,t,n,r)})),C.beforeUpdateValues&&f.__dataProxy.setBeforeUpdateCb((function(e){f.__templateInstance.beforeUpdateValues(f,I?f.__innerData:f.__propData,e)})),l.writeOnly&&f.__dataProxy.setHidingValue(!0),f.__idCacheDirty=!1,f.__idCache=C.idMap,f.$$=g,null===C.slots[""]&&(C.slots[""]=g),s.options.multipleSlots?f.__slots=C.slots:(f.__singleSlot=C.slots[""]||null,f.__singleSlot&&(f.__singleSlot.__wxSlotChildren=f.childNodes)),C.shadowRoot instanceof u?(f.shadowRoot=C.shadowRoot,u._attachShadowRoot(C.shadowRoot)):(((f.shadowRoot=g).__wxHost=f).__domElement.appendChild(C.shadowRoot),f.__wxSlotChildren=[g],g.__wxSlotParent=f);for(var E=C.listeners,T=0;T<E.length;T++){var k=E[T];v(k.target,k.name,S(k.func,f))}var A=s.innerEvents;for(_=0;_<A.length;_++){var x=A[_],P=x.id?"this"===x.id?f:f.__idCache[x.id]:f.shadowRoot;if(P)for(var j=x.name,N=x.funcs,D=0;D<N.length;D++)v(P,j,S(N[D],f))}var R=f.__relationMap;return R.parent&&(m(R.parent,f,"parent"),f.__relationHandler=s.relationHandler),R.ancestor&&(m(R.ancestor,f,"ancestor"),f.__relationHandler=s.relationHandler),R.shadowHost&&(m(R.shadowHost,f,"shadowHost"),f.__relationHandler=s.relationHandler),s.initiator&&o.safeCallback("Component Initiator",s.initiator,f.__methodCaller,[],f),f.__lifeTimeFuncs.created.call(f.__methodCaller,[],f),f};r.create=function(e,t,n){return"object"===_typeof(e)?I(e.is,e,null,null,n):e?e.indexOf("-")<0&&!t?l.create(e):I(e.toLowerCase(),t||C.call(r._list,e)&&r._list[e]||r._list[""],null,null,n):I("virtual",r._list[""],null,null,n)},r.listProperties=function(e){var t=[];for(var n in e.__propPublic)void 0!==e.__propPublic[n]&&t.push(n);return t},r.listPublicProperties=function(e){var t=[];for(var n in e.__propPublic)!0===e.__propPublic[n]&&t.push(n);return t},r.hasProperty=function(e,t){return void 0!==e.__propPublic[t]},r.hasPublicProperty=function(e,t){return!0===e.__propPublic[t]},r.getMethodsFromDef=function(e){return e.behavior._unprepared&&s.prepare(e.behavior),e.behavior.methods},r.getMethod=function(e,t){return e.__behavior.methods[t]},r.getComponentOptions=function(e){return e.__componentOptions},r.prototype.triggerLifeTime=function(e,t){this.__lifeTimeFuncs[e].call(this.__methodCaller,t||[])},r.prototype.triggerPageLifeTime=function(e,t){!function e(t,n,o){if(t instanceof u){if(t instanceof r){t.__pageLifeTimeFuncs[n]&&t.__pageLifeTimeFuncs[n].call(t.__methodCaller,o||[]);for(var i=t.childNodes,a=0;a<i.length;a++)e(i[a],n,o);t=t.shadowRoot}for(i=t.childNodes,a=0;a<i.length;a++)e(i[a],n,o)}}(this,e,t)},r.prototype.hasBehavior=function(e){return"object"!==_typeof(e)&&Object.prototype.hasOwnProperty.call(this.__using,e)&&(e=this.__using[e]),!!this.__behavior&&this.__behavior.hasBehavior(e)},r.prototype.getRootBehavior=function(){return this.__behavior},r.prototype.getRelationNodes=function(e){var t=this.__behavior.relations[e];if(!t)return null;if("parent"!==t.type&&"ancestor"!==t.type&&"shadowHost"!==t.type)return function(e,t){var n=[],o=t.type,i="child"===o,a="shadowContent"===o;return function o(c){for(var s=c.childNodes,l=0;l<s.length;l++){var f=s[l];if(f instanceof u)if(f.__virtual)o(f);else{var d;if(f.__relationLinks)if(d=i?f.__relationLinks.parent:a?f.__relationLinks.shadowHost:f.__relationLinks.ancestor)for(var p=0;p<d.length;p++){var h=d[p];if(h&&h.parent===e&&h.relation===t){n.push(f);break}}a&&f instanceof r&&o(f.shadowRoot),i||o(f)}}}(a?e.shadowRoot:e),n}(this,t);for(var n=this.__relationMap[t.type],o=0;o<n.length&&n[o]!==t;o++);return this.__relationLinks[t.type][o]?[this.__relationLinks[t.type][o].parent]:[]},r.prototype.hasExternalClass=function(e){return C.call(this.__externalClassAlias,e)},r.prototype.setExternalClass=function(e,t){this.classList._setAlias(e,t)},r.prototype.replaceDataOnPath=function(e,t){this.__dataProxy.scheduleReplace(e,t)},r.getInnerData=function(e){return e.__innerData},r.getDataProxy=function(e){return e.__dataProxy},r.replaceWholeData=function(e,t,n){e.__propData=t,e.__dataProxy.replaceWholeData(t,n)},r.prototype.applyDataUpdates=function(){this.__dataProxy.doUpdates()},r.prototype.setData=function(e){var t=this.__dataProxy;for(var n in e)t.scheduleReplace(g(n),e[n]);t.doUpdates()},e.exports=r},function(e,t,n){function r(e,t,n,r,o){this._data=t,this._innerData=n,this._comp=e,this._updateCb=o,this._beforeUpdateCb=null,this._hidingValue=!1,this._changes=[],this._doingUpdates=null,this._propFields=r._propFields,this._observers=r._observers,this._observerTree=r._observerTree,this._relatedObserverTreeObj=r,this._observerStatus=[]}var o=n(1),i=n(3),a=null,c=null,s=Object.prototype.hasOwnProperty,u=i.deepCopy;function l(e){this._propFields=e,this._observerIdInc=0,this._observers=[],this._observerTree={}}function f(e,t,n){for(var r=e,o=0;o<t.length;o++){var i=t[o];if("**"===i)return r["**"]||(r["**"]=[]),void r["**"].push(n);r[i]||(r[i]={}),r=r[i]}r["~"]||(r["~"]=[]),r["~"].push(n)}function d(e,t,n){for(var r=0;r<t.length;r++)f(e,t[r],n)}function p(e,t,n){for(var r=e,o=0,i="";o<t.length&&"**"!==(i=t[o]);o++){if(!r)return;r=r[i]}var a="**"===i?r["**"]:r["~"];if(a)for(o=0;o<a.length;o++)if(a[o]===n){a.splice(o,1);break}}function h(e,t,n){for(var r=0;r<t.length;r++)p(e,t[r],n)}function v(e,t,n){for(var r=[],i=n.pathObj,a=0;a<i.length;a++){for(var c=i[a],s=t,u=0;u<c.length;u++){var l=c[u];if("**"===l)break;if("object"!==_typeof(s)){s=void 0;break}s=s[l]}r[a]=s}o.safeCallback("Data Observer",n.func,e.__methodCaller,r,e)}function g(e,t,n){for(var r=e,o=0;o<n.length;o++){if(r["**"])for(var i=r["**"],a=0;a<i.length;a++)t[i[a]]=!0;var c=n[o];if("number"==typeof c){if(!s.call(r,c)){r=null;break}}else if(!/^[_a-zA-Z]/.test(c)||!s.call(r,c)){r=null;break}r=r[c]}r&&_(r,t)}function y(e,t,n,r,o){for(var i=0;i<e.length;i++){var a=e[i],c=t[i];c&&c&&(t[i]=!1,v(n,o?void 0:r,a))}}r._advancedCreate=function(e,t,n,o,i){return new r(e,t,n,o,i)},r._createObserverTree=function(e){return new l(e)},r.create=function(e,t,n){return new r({__methodCaller:e},t,null,new l({}),n)},r.setPropUpdater=function(e){a=e},r.setPropObserver=function(e){c=e},r.prototype.replaceWholeData=function(e,t){this._data=e},r.prototype.setHidingValue=function(e){this._hidingValue=!!e},r.prototype.setBeforeUpdateCb=function(e){this._beforeUpdateCb=e},l.prototype.addObserver=function(e,t){var n=this._observerIdInc++;return this._observers[n]={pathObj:t,func:e},d(this._observerTree,t,n),n},l.prototype.removeObserver=function(e){var t=this._observers[e];h(this._observerTree,t.pathObj,e),this._observers[e]=null},l.prototype.moveObserver=function(e,t){var n=this._observers[e];h(this._observerTree,n.pathObj,e),n.pathObj=t,d(this._observerTree,t,e)},r.prototype.getObserverTree=function(){return this._relatedObserverTreeObj};var _=function e(t,n){var r=null,o=0;for(var i in t)if("~"!==i)if("**"!==i)e(t[i],n);else for(r=t["**"],o=0;o<r.length;o++)n[r[o]]=!0;else for(r=t["~"],o=0;o<r.length;o++)n[r[o]]=!0};r.prototype.scheduleReplace=function(e,t,n){this._changes.push([e,t,n])},r.prototype.setChanges=function(e){this._changes=e},r.prototype.getChanges=function(){return this._changes},r.prototype.doUpdates=function(e){var t=this._propFields,n=this._comp,r=this._hidingValue,o=!!this._doingUpdates,i=this._relatedObserverTreeObj._observerIdInc,l=null,f=null,d=null;d=i?(o||(this._doingUpdates={changedPaths:[],changedValues:[],combinedChanges:[]}),l=this._doingUpdates.changedPaths,f=this._doingUpdates.changedValues,this._doingUpdates.combinedChanges):(l=[],f=[],[]);var p=this._changes;this._changes=[];for(var h=0;h<p.length;h++){var v=p[h],_=v[0],b=v[1],m=b,w=void 0,S=_[0],O=t[S];if(O&&1===_.length)w=this._data[S],b=a.call(this._comp,_,O,b,this._hidingValue),m=this._innerData?this._innerData[S]=u(b):b,v[1]=m,this._data[S]=b;else{for(var C=this._data,I=S,E=null,T=1;T<_.length;T++)"number"==typeof(E=_[T])&&isFinite(E)?s.call(C,I)&&C[I]instanceof Array||(C[I]=[]):(!s.call(C,I)||null===C[I]||"object"!==_typeof(C[I])||C[I]instanceof Array)&&(C[I]={}),C=C[I],I=E;if(C[I]=b,this._innerData){for(C=this._innerData,I=S,T=1;T<_.length;T++)"number"==typeof(E=_[T])&&isFinite(E)?s.call(C,I)&&C[I]instanceof Array||(C[I]=[]):(!s.call(C,I)||null===C[I]||"object"!==_typeof(C[I])||C[I]instanceof Array)&&(C[I]={}),C=C[I],I=E;m=C[I]=u(b),v[1]=m}}g(this._observerTree,this._observerStatus,_),l.push(_),f.push([m,w,b]),d.push(v)}if(!o){if(this._beforeUpdateCb&&this._beforeUpdateCb(e),i){for(var k=0;k=d.length,y(this._observers,this._observerStatus,n,this._data,r),k!==d.length;);this._doingUpdates=null}this._updateCb(l,f,d,e);for(var A=0;A<f.length;A++){var x=f[A];if(x){var P=l[A],j=t[P[0]];j&&c.call(n,x[2],x[1],P,j,r)}}}},e.exports=r},function(e,t,n){function r(){}var o=n(15),i=n(17),a=n(2);r.prototype=Object.create(o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;t.is=e.toLowerCase();var n=null;return"dom"===a.documentBackend&&(n=document.createElement(e)),o.initialize(t,n),t.$$=n,t.classList=i.create(t,null),t},r.cloneNode=function(e){var t=new r;t.is=e.is;var n=null;return e.__domElement&&(n=document.importNode?document.importNode(e.__domElement,!1):e.__domElement.cloneNode(!1)),o._clone(t,e,n),t.$$=n,t.classList=i.create(t,null),t},e.exports=r},function(e,t,n){function r(){}var o=n(16),i=n(2);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;t.__slot="";var n=null;return"dom"===i.documentBackend?(n=document.createTextNode(e||"")).__wxElement=t:t.__textContent=e,t.$$=t.__domElement=n,t.__subtreeObserversCount=0,t.parentNode=null,t.ownerShadowRoot=null,t},Object.defineProperty(r.prototype,"textContent",{get:function(){return this.__domElement?this.__domElement.textContent:this.__textContent},set:function(e){this.__domElement?this.__domElement.textContent=e:this.__textContent=String(e),(this.__textObservers&&!this.__textObservers.empty||this.__subtreeObserversCount)&&o._callObservers(this,"__textObservers",{type:"characterData",target:this})}}),e.exports=r},function(e,t,n){function r(e){a(this,e)}var o=n(15),i=n(2);r.prototype=Object.create(o.prototype);var a=r.initialize=function(e,t){e.is=t||"";var n=null;"dom"===i.documentBackend&&(n=void 0),o.initialize(e,n),e.__virtual=!0};r.create=function(e){return new r(e)},e.exports=r},function(e,t,n){function r(e){a.initialize(this,"shadow"),this.__wxHost=e,this.__childrenPropsFilter=null,this.__slotCacheDirty=!1,this.ownerShadowRoot=null}var o=n(15),i=n(18),a=n(22),c=n(21),s=Object.prototype.hasOwnProperty;r.prototype=Object.create(a.prototype),r.create=function(e){var t=new r(e);if(e.__createdInOwnerShadowRoot&&e.__createdInOwnerShadowRoot.__childrenPropsFilter)if(t.__childrenPropsFilter)for(var n in e.__createdInOwnerShadowRoot.__childrenPropsFilter)t.__childrenPropsFilter[n]||(t.__childrenPropsFilter[n]=e.__createdInOwnerShadowRoot.__childrenPropsFilter[n]);else t.__childrenPropsFilter=e.__createdInOwnerShadowRoot.__childrenPropsFilter;return t},r.prototype.createComponent=function(e,t,n,r){var o=null;o=void 0===t?e:t;var a=this.__wxHost;return"object"!==_typeof(o)&&(s.call(a.__using,o)?o=a.__using[o]:s.call(a.__generics,o)&&(o=a.__generics[o]),"object"!==_typeof(o)&&(o=i._list[o]||i._list[""])),n&&(n=function(e,t){var n={};for(var r in e){var o=e[r];"object"!==_typeof(o)&&(s.call(t.__using,o)?o=t.__using[o]:s.call(t.__generics,o)&&(o=t.__generics[o]||i._list[""]),n[r]=o)}return n}(n,a)),"object"===_typeof(e)&&(e=o.is),a.__componentOptions.randomizeTagName&&(e=function(){for(var e=Date.now(),t="exparser-",n=0;n<8;n++){var r=(e+Math.floor(26*Math.random()))%26;e=Math.floor(e/26),t+="abcdefghijklmnopqrstuvwxyz"[r]}return t}()),a.__componentOptions.writeOnly&&!o.options.allowInWriteOnly&&(o=i._list[""]),i._advancedCreate(e,o,this,n,r)},r.prototype.tagNameUsed=function(e){var t=this.__wxHost;return!!s.call(t.__using,e)||!!s.call(t.__generics,e)},r.prototype.getHostNode=function(){return this.__wxHost},r.prototype.createTextNode=function(e){return c.create(e)},r.prototype.createVirtualNode=function(e){return a.create(e)},r.prototype.getElementById=function(e){return o._updateIdMap(this.__wxHost),this.__wxHost.__idCache[e]},e.exports=r},function(e,t,n){function r(){}var o=n(15),i=n(21);r.create=function(e,t,n){var a=new r;if(!(e instanceof o||e instanceof i))throw new Error("ElementIterator can only be used for exparser.Element or exparser.TextNode");a._elem=e,a._elemTypeLimit=n||o;var c=t.split("-");if("shadow"===c[0])a._composed=!1;else{if("composed"!==c[0])throw new Error("Unrecognized iterator type: ".concat(t));a._composed=!0}if("ancestors"===c[1])a._relation="ancestors",a._order=0;else{if("descendants"!==c[1])throw new Error("Unrecognized iterator type: ".concat(t));if(a._relation="descendants","root"!==c[2])throw new Error("Unrecognized iterator type: ".concat(t));if("first"===c[3])a._order=-1;else{if("last"!==c[3])throw new Error("Unrecognized iterator type: ".concat(t));a._order=1}}return a};r.prototype.forEach=function(e){return"ancestors"===this._relation?function(e,t,n,r){for(;e;e=n&&(e.__wxSlotParent||e.__wxHost)||e.parentNode)if(e instanceof t&&!1===r(e))return!1;return!0}(this._elem,this._elemTypeLimit,this._composed,e):function e(t,n,r,o,i){if(o<0&&t instanceof n&&!1===i(t))return!1;var a=r&&t.__wxSlotChildren||t.childNodes;if(a)for(var c=0;c<a.length;c++)if(!1===e(a[c],n,r,o,i))return!1;return!(0<o&&t instanceof n&&!1===i(t))}(this._elem,this._elemTypeLimit,this._composed,this._order,e)},e.exports=r},function(e,t,n){(function(t){function r(){}var o=n(2),i=n(1),a=n(15),c=n(20),s=n(22),u=n(21),l=n(23),f=n(18),d=n(26),p=n(27);function h(){}function v(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function g(e,t){if(null!==e&&"object"===_typeof(e)&&k.call(e,t))return e[t]}function y(e,t,n,r){if(k.call(t,n)){var o=t[n];if("function"==typeof o)return i.safeCallback("Template Method",o,e,r)}}function _(e,t){return[{t:1,n:"slot",a:[],c:[],p:null}]}function b(e,t,n){e.classList.toggle(t,!!n)}function m(e,t,n){e[t]=n}function w(e,t,n){var r=e.__dataProxy;r.scheduleReplace([t],n),r.doUpdates()}function S(e,t,n){e.class=n}function O(e,t,n){e.setAttribute("style",n)}function C(e,t,n){e.setAttribute("class",n)}function I(e,t,n){e.textContent=n}function E(e,t,n){e.dataset||(e.dataset={}),e.dataset[t]=n}function T(e,t,n){return[{t:1,n:"slot",v:!0,sn:"",a:[],c:[]}]}r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),h.prototype=Object.create(Object.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),r.precompiler=null,r.htmlParser=null;var k=Object.prototype.hasOwnProperty,A={t:1,n:'"slot"',v:!0,sn:"",a:[],c:[],p:null},x={$:function(e,t,n){!0===n?e.setAttribute(t,""):!1===n||null==n?e.removeAttribute(t):e.setAttribute(t,n)},":":m,c:b,s:function(e,t,n){var r=e.style;r&&(r[t]=n)},d:E};function P(e,t){return function(n){if(this[e](n),t)return!1}}r.create=function(e,n,o){var i=void 0===e.template?T:e.template,a=i;"function"!=typeof i&&(a=void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node?r.precompileAndGetCreator(i):_);var c=Object.create(r.prototype);return c._initValuesJSON=JSON.stringify(n),c._tagTreeRoot=j(a,n,e.methods,o),c._renderingMode=o.renderingMode,c};var j=function(e,t,n,r){var i="native"===r.renderingMode,a=i,s=!1;Object.create(null);i&&!o.hasDOMBackend&&(e=_);var u={},l=e(g,y,n);return function e(n){for(var r=0;r<n.length;r++){var o=n[r];if(3!==o.t){var l=o.n,f=!(i||"string"==typeof l&&l.indexOf("-")<0);"slot"===l&&""===o.sn&&(s=!0),o.n=l;var d=o.st;(null==d?void 0:d.e)&&(d.o=O,a&&(d.v=d.e(t,u,null)));var h=o.cl;(null==h?void 0:h.e)&&(h.o=i?C:S,a&&(h.v=h.e(t,u,null)));var g=null;f||(o.p=g=i?document.createElement(o.n):c.create(o.n),d&&void 0!==d.v&&g.setAttribute("style",d.v),i&&h&&void 0!==h.v&&g.setAttribute("class",h.v));for(var y=o.a,_=0;_<y.length;_++){var E=y[_];if(E.d)i||p[E.n].register(E.n,E,o);else{i||("bind"===E.n.slice(0,4)?(E.evCatch=!1,E.ev=v(E.n.slice(4)),":"===E.ev[0]&&(E.ev=E.ev.slice(1))):"catch"===E.n.slice(0,5)&&(E.evCatch=!0,E.ev=v(E.n.slice(5)),":"===E.ev[0]&&(E.ev=E.ev.slice(1))));var T=E.o;if(f)T?E.o="&"===T?x[":"]:x[T]:(E.o=x[":"],E.n=v(E.n)),E.o===m&&(E.o=w),a&&E.e&&(E.v=E.e(t,u,null));else if(!E.ev){var k=x;E.o=T?"&"===T?k[":"]:k[T]:k.$,a?(E.e&&(E.v=E.e(t,u,null)),E.o===b&&!i||E.o(g,E.n,E.v)):E.e||E.o(g,E.n,E.v)}}}e(o.c),i&&(1!==o.c.length||void 0===o.c[0].sn||o.c[0].compressed||(o.sn=o.c[0].sn,o.compressed=!0,o.c.pop()))}else o.e&&(o.o=I,o.c=a?o.e(t,u,null):"")}}(l),i&&(s||l.push(A),1!==l.length||""!==l[0].sn||l[0].compressed||l.pop()),l};r.prototype.createInstance=function(e){var t=Object.create(h.prototype),n=JSON.parse(this._initValuesJSON),r=Object.create(null),i=Object.create(null),v=[],g=d.create("",null,null,null,null,[],(function(e,t){})),y=null;if("native"===this._renderingMode)"dom"===o.documentBackend&&(y=document.createDocumentFragment()),function e(t,n,r,o,i,a){for(var c=null,s=0,u=null,l=0;l<t.length;l++){var f=t[l];if(void 0===f.n)c=document.createTextNode(f.c),f.e&&d.addBindings(i,a,f.b,c,f),n.appendChild(c);else{var p=f.cl,h=f.st,v=f.a;for(c=f.v?document.createElement("virtual"):document.importNode?document.importNode(f.p,!1):f.p.cloneNode(!1),s=0;s<v.length;s++)(u=v[s]).e&&d.addBindings(i,a,u.b,c,u);n.appendChild(c),f.id&&(r[f.id]=c),(null==p?void 0:p.e)&&d.addBindings(i,a,p.b,c,p),(null==h?void 0:h.e)&&d.addBindings(i,a,h.b,c,h),void 0!==f.sn&&(o[f.sn]=c),e(f.c,c,r,o,i,a)}}}(this._tagTreeRoot,y,r,i,g,{}),i[""]||(i[""]=null);else{if(y=l.create(e),e.__createdInOwnerShadowRoot&&e.__createdInOwnerShadowRoot.__childrenPropsFilter)if(y.__childrenPropsFilter)for(var _ in e.__createdInOwnerShadowRoot.__childrenPropsFilter)y.__childrenPropsFilter[_]||(y.__childrenPropsFilter[_]=e.__createdInOwnerShadowRoot.__childrenPropsFilter[_]);else y.__childrenPropsFilter=e.__createdInOwnerShadowRoot.__childrenPropsFilter;(function e(t,n,r,o,i,l,h,v){for(var g=null,y=0,_=null,S=0;S<t.length;S++){var O=h,C=t[S];if(3===C.t)g=C.e?u.create(C.e(o,i,null)):u.create(C.c),C.e&&d.addBindings(l,O,C.b,g,C),a.appendChild(r,g);else{var I=C.cl,T=C.st,k=C.a,A=!1;for(y=0;y<k.length;y++)if((_=k[y]).d){var x=p[_.n].create(_.n,_,C,o,i,l,O,v,n,e,r);if(p[_.n].requireBlock){g=x,a.appendChild(r,g),A=!0;break}}if(A)continue;if(C.v)g=s.create(C.n);else if(C.p){for(g=c.cloneNode(C.p),y=0;y<k.length;y++)(_=k[y]).d||(_.ev?v(g,_.ev,_.v,_.evCatch):_.o===m?g.__domElement&&(_.o(g.__domElement,_.n,_.e(o,i,null)),d.addBindings(l,O,_.b,g.__domElement,_)):(_.e&&_.o(g,_.n,_.e(o,i,null)),!_.e&&_.o!==b&&_.o!==E||d.addBindings(l,O,_.b,g,_)));(null==T?void 0:T.e)&&(g.setAttribute("style",T.e(o,i,null)),d.addBindings(l,O,T.b,g,T))}else{if(C.cpf){var P={},j=n.__wxHost;for(var N in C.cpf)R=N,M=C.cpf[R],P[R]=j.__behavior.methods[M];n.__childrenPropsFilter=P}for(g=n.createComponent(C.n,void 0,C.g,void 0),y=0;y<k.length;y++)if(!(_=k[y]).d){var D=_.v;_.o===w&&f.hasPublicProperty(g,_.n)?(_.e&&(D=_.e(o,i,null),d.addBindings(l,O,_.b,g,_)),_.e?w(g,_.n,D):g.__behavior.properties[_.n].type===Boolean?w(g,_.n,!0):w(g,_.n,D)):_.ev?v(g,_.ev,D,_.evCatch):_.o!==w&&(_.e&&(D=_.e(o,i,null),d.addBindings(l,O,_.b,g,_)),_.o(g,_.n,D))}T&&(T.e?(g.__domElement.setAttribute("style",T.e(o,i,null)),d.addBindings(l,O,T.b,g.__domElement,T)):g.__domElement.setAttribute("style",T.v))}C.id&&(g.id=C.id),I&&(I.e?g.class=I.e(o,i,null):g.class=I.v,I.o&&d.addBindings(l,O,I.b,g,I)),C.sl&&(g.slot=C.sl),void 0!==C.sn&&a.setSlotName(g,C.sn),a.appendChild(r,g),e(C.c,n,g,o,i,l,O,v)}}var R,M})(this._tagTreeRoot,y,y,n,{},g,{},(function(e,t,n,r){y.__wxHost?e.addListener(t,P(n,r).bind(y.__wxHost)):v.push({target:e,name:t,func:P(n,r)})})),function e(t,n,r){for(var o=t.childNodes,i=0;i<o.length;i++){var a=o[i];a instanceof u||(a.__id&&(n[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),e(a,n,r))}}(y,r,i)}return t.data=n,t.shadowRoot=y,t.idMap=r,t.slots=i,t.listeners=v,t._topScope=g,t},h.prototype.updateValues=function(e,t,n){for(var r=a.getMethodCaller(e),o=0;o<n.length;o++){var i=n[o];d.updateBinding(this._topScope,i,t,{},r)}},e.exports=r}).call(t,n(12))},function(e,t){var n={create:function(e,t,n,o,i,a,c){for(var s={inc:1,name:e,exp:o,lp:i,scopes:{},targets:{},children:null,lu:c,__scopeBinded:[]},u=0;u<a.length;u++){var l=a[u];null===l[0]?r(t,l,null,s):r(n[l[0]],l,null,s)}return s},proxyTopScope:function(e){var t={inc:1,linked:e,scopes:{},targets:{},children:null,__scopeBinded:[]};return r(e,[null],null,t),t},proxySubScopes:function(e){var t={};for(var n in e)t[n]={inc:1,linked:e[n],scopes:{},targets:{},children:null,__scopeBinded:[]},r(e[n],[null],null,t[n]);return t}},r=n.addBinding=function(e,t,n,r){for(var o=e,i=1;i<t.length;i++){var a=t[i];o.children||(o.children=Object.create(null));var c=o.children;c[a]||(c[a]={scopes:{},targets:{},children:null}),o=c[a]}var s=e.inc++;return n?o.targets[s]=[n,r]:(o.scopes[s]=r).__scopeBinded.push([o,s]),s};function o(e,t,n,r,o){if(e.linked)i(e,t,n,r,o);else{var a=r[e.name];r[e.name]=e.exp(n,r,o),i(e,t,n,r,o),r[e.name]=a}}n.addBindings=function(e,t,n,o,i){for(var a=0;a<n.length;a++){var c=n[a];c[0]?r(t[c[0]],c,o,i):r(e,c,o,i)}},n.updateLvaluePath=function(e,t){e.lp=t},n.removeBindingsForScope=function(e){for(var t=e.__scopeBinded,n=0;n<t.length;n++){var r=t[n];delete r[0].scopes[r[1]]}};var i=n.updateBinding=function(e,t,n,r,i){for(var a=e,c=0,s=0;s<t.length;s++){for(c in a.scopes)o(a.scopes[c],t,n,r,i);var u=t[s];if(!a.children)return;var l=a.children;if(!l[u])return;a=l[u]}!function e(t){for(c in t.targets){var a=t.targets[c],s=a[1];s.o(a[0],s.n,s.e(n,r,i))}for(c in t.scopes)o(t.scopes[c],[],n,r,i);for(c in t.children)e(t.children[c])}(a)};e.exports=n},function(e,t,n){e.exports={if:n(28),elif:n(28),else:n(28),for:n(30),key:n(31),"for-index":n(32),"for-item":n(33),alias:n(34)}},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,n){},create:function(e,t,n,i,a,c,s,u,l,f,d){var p=r.create("wx:".concat(e));p.__wxIfCondValue=!0,p.__wxIfNextNode=null,p.__wxIfHasTrueCond=!0;var h=null;function v(e){var t;p.__wxIfCondValue=!!e,p.__wxIfHasTrueCond=p.__wxIfCondValue||(null===(t=h)||void 0===t?void 0:t.__wxIfHasTrueCond),g()}"if"!==e&&("wx:if"!==(h=d.childNodes[d.childNodes.length-1]).is&&"wx:elif"!==h.is?h=null:h.__wxIfNextNode=p),n.id&&(p.id=n.id);var g=p.__wxIfUpdateNode=function(){var e,t=p.__wxIfCondValue;if((null===(e=h)||void 0===e?void 0:e.__wxIfHasTrueCond)&&(t=!1),t&&!p.childNodes.length){var r=o.proxyTopScope(c),d=o.proxySubScopes(s);p.__wxTopScope=r,p.__wxSubScopes=d,f(n.c,l,p,i,a,r,d,u)}else if(!t&&p.childNodes.length){for(var v in o.removeBindingsForScope(p.__wxTopScope),p.__wxSubScopes)o.removeBindingsForScope(p.__wxSubScopes[v]);for(;p.childNodes.length;)p.removeChild(p.childNodes[0])}p.__wxIfNextNode&&p.__wxIfNextNode.__wxIfUpdateNode()};return"else"===e?v(!0):(o.addBindings(c,s,t.b,p,{e:t.d,o:function(e,t,n){v(n)}}),v(t.d(i,a,null))),p}}},function(e,t){t.TAG_TYPES={TAG_START:1,TAG_END:-1,TEXT:3,COMMENT:8},t.RUNTIME_NAMES={MEMBER:"m",CALL:"f",METHODS:"e",CALLER:"c",TOP_SCOPE:"t",SUB_SCOPE:"s"};var n=t.STRING_UNESCAPE_MAP={n:"\n",r:"\r",b:"\b",f:"\f",t:"\t",v:"\v",'"':'"',"'":"'","\\":"\\","\r":"\r","\n":"\n"},r=t.STRING_ESCAPE_MAP={},o="";for(var i in n)o+=n[r[n[i]]=i];t.STRING_ESCAPE_REGEXP=new RegExp("[".concat(o,"]"),"g")},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,addDefaultAttrs:[{n:"wx:for-index",v:"index"},{n:"wx:for-item",v:"item"}],register:function(e,t,n){},create:function(e,t,n,i,a,c,s,u,l,f){var d=n._wxForIndex||"index",p=n._wxForItem||"item",h=n._wxKey,v=r.create("wx:for:list");function g(e,t,i,a,h){var g=r.create("wx:for:item"),y=o.proxyTopScope(c),_=o.proxySubScopes(s);g.__wxTopScope=y,g.__wxSubScopes=_,g.__wxForToRemove=!1,g.__wxForKeyStr="";var b=o.create(d,y,_,null,null,[]),m=o.create(p,y,_,null,[i],[]);return _[d]=b,_[p]=m,t[d]=i,t[p]=a,f(n.c,l,g,e,t,y,_,u),void 0===h?v.appendChild(g):v.insertBefore(g,h),g}function y(e,t,n,r,a,c){var s=e.__wxSubScopes[p];o.updateLvaluePath(s,[r]),a&&(c?v.insertBefore(e,c):v.appendChild(e));var u=e.__wxSubScopes[d];n[d]=r,o.updateBinding(u,[],i,n,t)}function _(e){for(var t in o.removeBindingsForScope(e.__wxTopScope),v.__wxSubScopes)o.removeBindingsForScope(e.__wxSubScopes[t]);v.removeChild(e)}n.id&&(v.id=n.id),o.create("",c,s,(function(e,n,r){var o=t.d(e,n,null);return b(o,e,n,r),o}),t.l,t.b);var b=function(e,t,n,r){var i="",a=e;"object"===_typeof(e)&&null!==e||(a=[]);var c,s,u,l,f,d,b={};for(i in n)b[i]=n[i];var m=0;if(h){var w=[],S=e instanceof Array,O=[];if(!S){var C=a;for(i in a=[],C)a.push(C[i]),O.push(i)}for(m=0;m<a.length;m++)w.push(String(a[m][h]));if(0===a.length)for(;v.childNodes.length;)_(v.childNodes[0]);else{var I=Object.create(null),E=Object.create(null),T=v.childNodes,k=null,A="";for(m=0;m<T.length;m++)0<=I[A=(k=T[m]).__wxForKeyStr]?(_(k),m--):(I[A]=m,(E[A]=k).__wxForToRemove=!0);var x=-1,P=0,j=1,N=[];for(0<=(P=I[a[0][h]])||(P=-1),T[P]&&(T[P].__wxForToRemove=!1),m=1;m<a.length;m++)0<=(j=I[a[m][h]])&&(x<P&&(P<j||j<x)&&(N.push(T[P]),x=P),T[P=j]&&(T[P].__wxForToRemove=!1));for(x<P&&N.push(T[P]),m=0;m<T.length;m++)(k=T[m]).__wxForToRemove&&(_(k),m--);var D=N.shift(),R=0;for(m=0;m<a.length;m++){var M=a[m],B=E[M[h]];if(E[M[h]]=null,B){var L=!0;if(B===D){for(;T[R]!==D;)R++;R++,D=N.shift(),L=!1}y(k=B,r,b,S?m:O[m],L,T[R]),L&&T[R]===k&&R++,c=k,s=[],u=t,l=b,f=a[m],d=r,l[p]=f,o.updateBinding(c.__wxSubScopes[p],s,u,l,d)}else k=g(t,b,S?m:O[m],a[m],T[R]),R++,k.__wxForKeyStr=String(M[h])}}}else{for(;v.childNodes.length;)_(v.childNodes[0]);if(e instanceof Array)for(m=0;m<a.length;m++)g(t,b,m,a[m]);else for(i in a)g(t,b,i,a[i])}};return b(t.d(i,a,null),i,a,null),v}}},function(e,t){e.exports={attachedToBlock:!0,register:function(e,t,n){n._wxKey=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,n){n._wxForIndex=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,n){n._wxForItem=t.d},create:function(){}}},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,n){},create:function(e,t,n,i,a,c,s,u,l,f){var d=t.s[0],p=o.create(d,c,s,t.d,t.l,t.b),h={},v="";for(v in s)h[v]=s[v];h[d]=p;var g={};for(v in a)g[v]=a[v];g[d]=t.d(i,a,null);var y=r.create("wx:alias");return n.id&&(y.id=n.id),f(n.c,l,y,i,g,c,h,u),y}}}]);r.addGlobalErrorListener((function(e,t){return Reporter.thirdErrorReport({error:e,extend:t.message.replace(/^\[exparser\] \[(error|warning)\]/i,"")}),!1})),r.globalOptions.createFakeDomElement=!1,r.globalOptions.inDocument=!1,r.globalOptions.documentBackend="none",r.updateDefaultComponent();var o=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.PATCH_TYPE={NONE:0,TEXT:1,VNODE:2,PROPS:3,REORDER:4,INSERT:5,REMOVE:6,INSERTBEFORE:7,REMOVE_AND_INSERTBEFORE:8,REMOVE_CHILD:9},t.WX_KEY="wxKey",t.RPX_RATE=20,t.BASE_DEVICE_WIDTH=750,t.INLINE_STYLE=["placeholderStyle","hoverStyle","style"],t.SYNC_EVENT_NAME={WX_EVENT:11,REQUEST_SAVE:12,COMPONENT_DEF:21,SAVE_STATE:22,RESTORE_STATE:23,LAYOUT_READY:31,SET_DATA_CALLBACK:32,FLOW_SET_DATA:33,FLUSH_BLOCKED:43,FLOW_GROUP:41,FLOW_GROUP_END:42,FLOW_DEPTH:2,FLOW_INITIAL_CREATION:3,FLOW_UPDATE:6,FLOW_DATA_OBSERVER:8,FLOW_APPLY_PROPERTY:4,FLOW_MINIPULATE_CHILD:7,FLOW_CREATE_NODE:5,FLOW_REPEAT:9,REQUEST_TAB:51,COMPONENT_DEF_TAB:52,FLOW_CREATE_TAB:53,DESTROY_TAB:54,REQUEST_BROADCAST_VIEW_ID:61,RESPONSE_BROADCAST_VIEW_ID:62,BANNING_MAP:90,CALL_METHOD_FROM_WXS:50}},function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var r=null,o={},i=-1,a=null,c=!1,s=null,u=null;function l(){(r=f()?t._virtualDOMTunnel:__webViewSDK__._virtualDOMTunnel).onVdSync((function(e,t){p(e,t)})),r.onVdSyncBatch((function(e,t){for(var n=0;n<e.length;n++)p(e[n],t)}))}var f=function(){return!0};n.isDataThread=f,n.inDevtoolsWebview=function(){return c},n.setInDevtoolsWebView=function(){c=!0},f()&&"undefined"!=typeof __clientsubcontext&&__clientsubcontext?__subContextEngine__.onInitReady(l):l(),n.queueSendingData=function(e,t,n){n!==u&&d(),u=n,s?s.push([e].concat(t)):s=[[e].concat(t)]};var d=function(){s&&r.vdSyncBatch(s,void 0!==u?[u]:void 0),u=null,s=null};n.flushSendingData=d;var p=function(e,t){var n,r,c=e.shift();if(""===c)return i=t,void(null===(n=a)||void 0===n||n(t));var s=null;o[t=t||0]&&(s=o[t][c]),!s&&o.$GLOBAL&&(s=o.$GLOBAL[c]),null===(r=s)||void 0===r||r(e,c,t)};n.sendData=function(e,t,n){r.vdSync([e].concat(t),void 0!==n?[n]:void 0)},n.setDataListener=function(e,t,n){if(""===e)return a=t,void(0<=i&&a(i));o[n=n||0]||(o[n]={}),o[n][e]=t},n.removeDataListeners=function(e){delete o[e]}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}(function(e){Object.defineProperty(t,"__esModule",{value:!0}),Object.assign;var o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)};t.isObject=function(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e},t.isEmptyObject=function(e){for(var t in e)return!1;return!0},t.isVirtualNode=function(e){return e&&"WxVirtualNode"===e.type},t.isVirtualText=function(e){return e&&"WxVirtualText"===e.type},t.isUndefined=function(e){return"[object Undefined]"===Object.prototype.toString.call(e)||void 0===e},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},t.getPrototype=function(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0},t.getDataType=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]},t.getPageConfig=function(){var e={};if(window.__wxConfig&&window.__wxConfig.window)e=window.__wxConfig.window;else{var t={};window.__wxConfig&&window.__wxConfig.global&&window.__wxConfig.global.window&&(t=window.__wxConfig.global.window);var n={};window.__wxConfig&&window.__wxConfig.page&&window.__wxConfig.page[window.__route__]&&window.__wxConfig.page[window.__route__].window&&(n=window.__wxConfig.page[window.__route__].window),e=_extends({},t,n)}return e},t.getWxmlVersionTag=function(t){var n=("undefined"==typeof window?e:window).__wcc_version_info__;if(n)return n[t]},t.guid=function(){return Math.floor(4294967296*(1+Math.random())).toString(16).slice(1)},t.dfsComponents=function e(t,n,o){t instanceof r.Component&&(0<n&&o(t),n&&t.shadowRoot instanceof r.Element&&e(t.shadowRoot,n,o),n<0&&o(t));for(var i=t.childNodes,a=0;a<i.length;a++)i[a]instanceof r.Element&&e(i[a],n,o)}}).call(t,function(){return this}())},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(23)),i=a(n(12));function a(e){return(null==e?void 0:e.__esModule)?e:{default:e}}var c={},s=(function(e,t,n){n&&r(e,n)}(u,0,[{key:"create",value:function(e){var t=new u(e);return t.viewId=e,c[e]=t}},{key:"destroy",value:function(e){delete c[e]}},{key:"get",value:function(e){return c[e]}},{key:"listViewId",value:function(){var e=[];for(var t in c)e.push(c[t].viewId);return e}}]),u);function u(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.listenerInited=!1,this.root=null,this.tabRoot=null,this.tabDestroyed=!1,this.usedDef=null,this.tabUsedDef=null,this.statesData=null,this.layoutReadyFuncs=[],this.operationFlow=new i.default(e,this),this.nodeId=new o.default,this.rootNodeId="",this.tabNodeId="",this.rootCompName="",this.tabCompName=""}t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.restorePageState=t.savePageState=void 0;var o=r(0),i=r(1),a=r(2),c=r(14),s=r(6),u={id:null,prev:null,data:[]};function l(e){d(e),e.compExtraDataMap={};var t=0;window.__TAB_BAR__&&(a.dfsComponents(window.__TAB_BAR__,1,(function(n){n.triggerLifeTime("saved",[e]),s.saveNodeExtraData(e.compExtraDataMap,n,t++)})),s.saveTabRootExtraData(e.compExtraDataMap)),a.dfsComponents(window.__DOMTree__,1,(function(n){n.triggerLifeTime("saved",[e]),s.saveNodeExtraData(e.compExtraDataMap,n,t++)})),s.saveRootExtraData(e.compExtraDataMap)}function f(){__webViewSDK__.publish("recycleStatistics",c.getComponentCount());var e={};l(e),i.sendData(o.SYNC_EVENT_NAME.REQUEST_SAVE,e)}i.setDataListener(o.SYNC_EVENT_NAME.SAVE_STATE,(function(){"function"==typeof n.webViewReadyToTerminate&&n.webViewReadyToTerminate({})})),i.setDataListener(o.SYNC_EVENT_NAME.RESTORE_STATE,(function(e){var t,n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),3!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e),r=n[0],o=n[1],i=n[2];if(null===(t=r)||void 0===t?void 0:t.isSplitData){var a=r.splitInfo,c=a.id,s=a.index,l=a.total,f=a.data;if(1!==s&&(s!==u.prev+1||c!==u.id))return u.id=null,u.prev=null,void(u.data=[]);if(s!==l)return u.id=c,u.prev=s,void u.data.push(f);u.data.push(f);var d=u.data.join("");try{d=JSON.parse(d)}catch(e){console.error("Expected parse completed data with split data but got error"),Reporter.errorReport({key:"webviewScriptError",error:new Error("Expected parse completed data with split data but got error")}),d=null}if(u.id=null,u.prev=null,u.data=[],!d)return;r=d[0],o=d[1],i=d[2]}h.restoring=r||{},h.idDataMap=o,h.compIdArr=i,h.compIdArrIndex=0}));var d=t.savePageState=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop;e.__page__={scrollTop:t}},p=t.restorePageState=function(e){var t=e.__page__;if(t){var n=parseInt(t.scrollTop,10);requestAnimationFrame((function(){document.body.scrollTop=document.documentElement.scrollTop=n}))}},h={restoring:null,idDataMap:null,compIdArr:null,compExtraDataMap:null,compIdArrIndex:0,registerSavingListener:function(){window.__forceSaveStates__=f,"function"==typeof n.onWebViewWillManuallyTerminate&&n.onWebViewWillManuallyTerminate(f)},callSavedLifeTimes:l,callRestoredLifeTimes:function(e){p(e);var t=0;window.__TAB_BAR__&&((0,a.dfsComponents)(window.__TAB_BAR__,1,(function(n){n.triggerLifeTime("restored",[e]),(0,s.restoreNodeExtraData)(e.compExtraDataMap,n,t++)})),(0,s.restoreTabRootExtraData)(e.compExtraDataMap)),(0,a.dfsComponents)(window.__DOMTree__,1,(function(n){n.triggerLifeTime("restored",[e]),(0,s.restoreNodeExtraData)(e.compExtraDataMap,n,t++)})),(0,s.restoreRootExtraData)(e.compExtraDataMap)}};t.default=h},function(e,t,n){var o;Object.defineProperty(t,"__esModule",{value:!0}),t.initBannedListener=t.checkAndBanComponent=t.banNode=t.banComponentNode=t.sendBannedMap=t.initBannedMap=void 0;var i=n(0),a=n(1),c=(o=n(3))&&o.__esModule?o:{default:o};function s(e,t){d(e),function(e,t){l||(l=r.registerElement({options:{renderingMode:"native"}}));var n=r.createElement("wx-hint",l),o=document.createElement("div");o.innerHTML=t.hint,n.$$.appendChild(o),e.appendChild(n,e.childNodes[0])}(e,t)}var u=null,l=null;t.initBannedMap=function(e){0!==Object.keys(e).length&&(u=e,c.default.listViewId().forEach((function(t){a.sendData(i.SYNC_EVENT_NAME.BANNING_MAP,[e],t)})))},t.sendBannedMap=function(e){u&&a.sendData(i.SYNC_EVENT_NAME.BANNING_MAP,[u],e)},t.banComponentNode=function(e){e.$$.style.display="none"};var f=t.banComponentNode,d=function(e){!function e(t){t instanceof r.Component?f(t):t instanceof r.VirtualNode?t.childNodes.forEach((function(t){e(t)})):t instanceof r.TextNode&&(t.textContent=""),t.__banned=!0}(e)};t.banNode=d,t.checkAndBanComponent=function(e){if(u){var t=r.Component.getComponentOptions(e).domain.split("/",1)[0],n=e.shadowRoot;u[t]&&s(n,u[t])}},t.initBannedListener=function(){(0,a.setDataListener)(i.SYNC_EVENT_NAME.BANNING_MAP,(function(e){!function(e){u||(u=e,function e(t){if(t instanceof r.Component){var n=r.Component.getComponentOptions(t).domain;if("//"!==n){var o=n.split("/",1)[0],i=t.shadowRoot;u[o]?s(i,u[o]):e(i)}}t instanceof r.Element&&t.childNodes.forEach((function(t){e(t)}))}(window.__DOMTree__))}(function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),1!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e)[0])}))}},function(e,o,i){function c(e){return(c="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.joinClassOrStyle=o.restoreTabRootExtraData=o.saveTabRootExtraData=o.restoreRootExtraData=o.saveRootExtraData=o.restoreNodeExtraData=o.saveNodeExtraData=o.callMethodFromWxsCallback=o.triggerWxsObserver=o.getWxsHandlerInstance=o.triggerPageRerender=o.wxsDeepDecopy=o.wxsDeepCopy=o.getWxsGdc=o.setWxsGdc=void 0;var s="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)},u=i(1),l=p(i(3));p(i(13));var f=i(0),d=p(i(4));function p(e){return(null==e?void 0:e.__esModule)?e:{default:e}}function h(e){return e instanceof r.Component&&r.Component.getComponentOptions(e).domain}var v=!1,g=null;o.setWxsGdc=function(e){"function"==typeof e&&(g=e)},o.getWxsGdc=function(){return"function"==typeof g?g:null},o.wxsDeepCopy=function(e,t){return g?g(e,"nv_",t?2:void 0):e};var y=o.wxsDeepCopy;o.wxsDeepDecopy=function(e){return g?g(e):e};var _=o.wxsDeepDecopy,b=0,m=!1;o.triggerPageRerender=function(){!u.isDataThread()&&m&&0===b&&(m=!1,document.dispatchEvent(new CustomEvent("pageReRender",{})))};var w=o.triggerPageRerender,S=null,O=[];o.getWxsHandlerInstance=function(e,t){var o=t?e.ownerShadowRoot?e.ownerShadowRoot.__wxHost:window.__DOMTree__:e;return v=!!e.ownerShadowRoot,function e(t,o){var i=t,a=h(i),c=function(e){return e instanceof r.Component&&"//"===r.Component.getComponentOptions(e).domain}(i),l={selectAllComponents:function(n){if(o!==a)return[];var r=v?t.shadowRoot.querySelectorAll(n):t.querySelectorAll(n),i=[];return r.forEach((function(t){i.push(y(e(t,o),!0))})),i},selectComponent:function(n){if(o!==a)return null;var r=v?t.shadowRoot.querySelector(n):t.querySelector(n);return r?y(e(r,o),!0):null},removeClass:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if((0,u.isDataThread)()||!i||!t.length)return this;var r=i.__wxsClass?i.__wxsClass.split(/\s+/):[],o=[];return t.forEach((function(e){(e=e.replace(/^\s+|\s+$/g,""))&&i.classList.contains(e)&&(i.classList.toggle(e),m=!0,o.push(e))})),o.forEach((function(e){r.forEach((function(t,n){return t!==e||(r.splice(n,1),!1)}))})),i.__wxsClass=r.join(" "),this},addClass:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if((0,u.isDataThread)()||!i||!t.length)return this;var r=i.__wxsClass||"",o=[];return t.forEach((function(e){(e=e.replace(/^\s+|\s+$/g,""))&&(i.classList.contains(e)||(i.classList.toggle(e),o.push(e),m=!0))})),i.__wxsClass=r+(r?" ":"")+o.join(" "),this},hasClass:function(e){return!((0,u.isDataThread)()||!i)&&i.classList.contains(e)},setStyle:function(e){if((0,u.isDataThread)()||!i)return this;if(e===i.__wxsStyle)return this;var t=[];if("object"===(void 0===e?"undefined":s(e)))for(var n in e=e?_(e):{})e.hasOwnProperty(n)&&t.push("".concat(n,":").concat(e[n]));else t=[String(e)];return t=window.wx.transformRpx(t.join(";"),!0),i.setNodeStyle(A(";",i.__transformedPropValue+i.__animationStyleStr,t)),i.__wxsStyle=t,m=!0,this},getDataset:function(){return i?y(i.dataset):null},getState:function(){return i?(i.__wxsState=i.__wxsState||{},i.__wxsState):null},triggerEvent:function(e,n,r){return c||!t||(n=n?_(n):n,r=r?_(r):r,b++,i.triggerEvent(e,n,r),b--),this},callMethod:function(e,r){var o=1<arguments.length&&void 0!==r?r:{};return u.isDataThread()||!e||(o=_(o),v?u.sendData(f.SYNC_EVENT_NAME.CALL_METHOD_FROM_WXS,[window.__webviewId__,(null==t?void 0:t.__wxTmplId)||0,e,o]):n.callMethodFromWxs([window.__webviewId__,(null==t?void 0:t.__wxTmplId)||0,e,o])),this},requestAnimationFrame:function(e){return u.isDataThread()||"function"!=typeof e||function(e){u.isDataThread()||"function"!=typeof e||(O.push(e),S||(S=window.requestAnimationFrame((function(){S=null;var e=O;O=[],e.forEach((function(e){e(),w()}))}))))}(e),this}};return Object.freeze(l),l}(o,h(o))};var C=o.getWxsHandlerInstance,I=null,E=[];o.triggerWxsObserver=function(e,t){!e.wxsObserver||(0,u.isDataThread)()||d.default.restoring||(E.push({node:e,props:t}),I||(I=window.requestAnimationFrame((function(){I=null;var e=E;E=[],e.forEach((function(e){T(e.node,e.props)}))}))))};var T=function(e,t){try{for(var n in e.wxsObserver)if(t.hasOwnProperty(n)&&e.wxsObserver[n]&&"function"==typeof e.wxsObserver[n].observer){var r=e.wxsObserver[n].value;e.wxsObserver[n].observer(y(t[n]),y(r),y(C(e,!0),!0),y(C(e),!0)),e.wxsObserver[n].value=t[n]}}catch(e){console.error("[WXS observer] error:".concat(e))}},k=o.callMethodFromWxsCallback=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),4!==n.length);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e),n=t[0],o=t[1],i=t[2],c=t[3];if(c||(c={}),o){var s=l.default.get(n);if(!s)return;var u=s.nodeId.getNodeById(o);if(!u)return;var f=r.Element.getMethodCaller(u);f&&"function"==typeof f[i]&&f[i](c)}else{var d=a.getCurrentPagesByDomain("");if(!d.length)return;var p=d[d.length-1];p&&"function"==typeof p[i]&&p[i](c)}};u.isDataThread()&&t.onCallMethodFromWxs(k),o.saveNodeExtraData=function(e,t,n){if(t.__wxsStyle||t.__wxsClass){var r={wxsStyle:t.__wxsStyle,wxsClass:t.__wxsClass,index:n,wxsState:_(t.__wxsState)};if(t.ownerShadowRoot&&l.default.instance){var o=l.default.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);e._custom=e._custom||{},(e=e._custom)[o]=e[o]||{},e=e[o]}e[t.is]=e[t.is]||[],e[t.is].push(r)}},o.restoreNodeExtraData=function(e,t,n){if(e){var r=null;if(t.ownerShadowRoot&&l.default.instance&&e._custom){var o=l.default.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);if(!(e=e._custom)[o])return;e=e[o]}e[t.is]&&e[t.is].length&&e[t.is][0]&&e[t.is][0].index===n&&(r=e[t.is].shift()),r&&function(e,t){e.__wxsStyle=t.wxsStyle,e.__wxsClass=t.wxsClass,e.__wxsState=y(t.wxsState),t.wxsStyle&&e.setNodeStyle(A(";",e.__transformedPropValue+e.__animationStyleStr,t.wxsStyle)),t.wxsClass&&(e.class=A(" ",e.class,t.wxsClass))}(t,r)}},o.saveRootExtraData=function(e){if(!(0,u.isDataThread)()&&e){var t=v?l.default.instance.nodeId.getNodeById(l.default.instance.rootNodeId):window.__DOMTree__;t&&(e.wxsPageState=t.__wxsState)}},o.restoreRootExtraData=function(e){if(!(0,u.isDataThread)()&&e){var t=v?l.default.instance.nodeId.getNodeById(l.default.instance.rootNodeId):window.__DOMTree__;t&&(t.__wxsState=e.wxsPageState)}},o.saveTabRootExtraData=function(e){if(!(0,u.isDataThread)()&&e){var t=window.__TAB_BAR__;t&&(e.wxsTabRootState=_(t.__wxsState))}},o.restoreTabRootExtraData=function(e){if(!(0,u.isDataThread)()&&e){var t=window.__TAB_BAR__;t&&(t.__wxsState=y(e.wxsTabRootState))}};var A=o.joinClassOrStyle=function(e,t,n){return t?n?t+e+n:t||"":n||""}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=[];t.registerResizer=function(e,t){void 0===e.__resizer?(e.__resizer=t,r.push(e)):e.__resizer=t},t.unregisterResizer=function(e){if(void 0!==e.__resizer){e.__resizer=void 0;var t=r.indexOf(e);r.splice(t,1)}},t.registerResizeListener=function(){n.onWindowResize((function(e){var t=e.size,n={width:t.windowWidth,height:t.windowHeight};if(window.__rpxRecalculatingFuncs__){window.__rpxRecalculatingFuncs__.forEach((function(e){e(n)}));for(var o=document.getElementsByTagName("style"),i=0;i<o.length;i++)"string"==typeof o[i].getAttribute("wxss:path")&&(o[i].innerHTML="".concat(o[i].innerHTML,".wx-trigger-chrome-media-query-update { height: ").concat(Math.random(),"px; }"))}for(var a=0;a<r.length;a++)r[a].__resizer(n)}))}},function(e,t,o){function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},c=o(0),s=o(11),u=o(1),l=v(o(3)),f=o(7),d=o(5),p=v(o(4)),h=o(6);function v(e){return(null==e?void 0:e.__esModule)?e:{default:e}}function g(e){return(0,u.isDataThread)()&&e instanceof r.Component?l.default.get(e.__wxWebviewId__).nodeId.getNodeById(e.__wxExparserNodeId__):e}function y(e,t,n){var o=g(e);return n&&o instanceof r.VirtualNode&&(o.id||Object.getOwnPropertyNames(o.dataset).length||(o=g(n))),{id:t?"":o.id,offsetLeft:o.$$&&!t?o.$$.offsetLeft:0,offsetTop:o.$$&&!t?o.$$.offsetTop:0,dataset:t?{}:o.dataset}}function _(e,t,n){var o=g(e);return n&&o instanceof r.VirtualNode&&(o.id||Object.getOwnPropertyNames(o.dataset).length||(o=g(n))),{id:t?"":o.id,dataset:t?{}:o.dataset}}function b(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:r.identifier,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY,force:r.force||0})}return t}}function m(e,t,n,o,i,a,s){var l=a?"__wxEventCaptureHandleName":"__wxEventHandleName";t[l]||(t[l]=Object.create(null)),void 0===t[l][n]&&t.addListener(n,(function(o){var a=t[l][n];if(a){o._hasListeners=!0;var f=t.ownerShadowRoot;if(f){var d=f.getHostNode(),p=r.Component.getComponentOptions(d).writeOnly;if(!p||o._allowWriteOnly)if(u.isDataThread()){if(s&&"function"==typeof a)return void console.warn('Appservice can not use wxs function to handle event "'.concat(o.type,'".'));var v=r.Element.getMethodCaller(d);"function"!=typeof v[a]?console.warn('Component "'.concat(d.is,'" does not have a method "').concat(a,'" to handle event "').concat(o.type,'".')):v[a]({type:o.type,timeStamp:o.timeStamp,target:_(o.target,p,this),currentTarget:_(this,p,null),detail:o.detail,touches:o.touches,changedTouches:o.changedTouches,_requireActive:o._requireActive})}else if(s)if("function"==typeof a&&h.getWxsGdc()){(event={type:o.type,timeStamp:o.timeStamp,target:y(o.target,p,this),currentTarget:y(this,p,null),detail:o.detail,touches:b(o.touches),changedTouches:b(o.changedTouches)}).instance=h.getWxsHandlerInstance(t);var g=a(h.wxsDeepCopy(event,!0),h.wxsDeepCopy(h.getWxsHandlerInstance(t,!0),!0));if(h.triggerPageRerender(),!1===g)return g}else console.warn('Component "'.concat(d.is,'" does not have a wxs function to handle event "').concat(o.type,'".'));else{var m={type:o.type,timeStamp:o.timeStamp,target:y(o.target,p,this),currentTarget:y(this,p,null),detail:o.detail,touches:b(o.touches),changedTouches:b(o.changedTouches),_requireActive:o._requireActive,_relatedInfo:o._relatedInfo};u.sendData(c.SYNC_EVENT_NAME.WX_EVENT,[e.nodeId.getNodeId(d),a,m])}}return!i&&void 0}}),{capture:a}),t[l][n]=s?o:null==o?"":String(o),t.__eventHandlerChangeListener__&&t.__eventHandlerChangeListener__(n,t[l][n],a)}var w=void 0!==n&&n.transformRpx,S=r.Component.getComponentOptions;t.setEventHandlerChangeListener=function(e,t){e.__eventHandlerChangeListener__=t},t.applyProperties=function(e,t,o){var i=u.isDataThread()?e.__treeManager__:l.default.instance,v=0,g=e instanceof r.Component,y=g&&"//"===S(e).domain,_=r.Component.getDataProxy(e);function b(c){var l=t[c],b=null;if("slot"===e.is&&e instanceof r.VirtualNode&&"name"===c)return r.Element.setSlotName(e,l),"continue";if("id"===c)return e.id=null==l?"":l,"continue";if("slot"===c)return e.slot=null==l?"":l,"continue";if(g&&"class"===c)return e.class=e.__wxsClass?(0,h.joinClassOrStyle)(" ",null==l?"":l,e.__wxsClass):null==l?"":l,"continue";if(g&&"style"===c){if(e.$$){var S="";if(e.__animationStyle){var O=e.__animationStyle,C={transition:O.transition,transform:O.transform,transitionProperty:O.transitionProperty,transformOrigin:O.transformOrigin};C["-webkit-transition"]=C.transition,C["-webkit-transform"]=C.transform,C["-webkit-transition-property"]=C.transitionProperty,C["-webkit-transform-origin"]=C.transformOrigin,S=Object.keys(C).filter((function(e){return!(/transform|transition/i.test(e)&&""===C[e]||""===e.trim()||void 0===C[e]||""===C[e]||!isNaN(parseInt(e)))})).map((function(e){return"".concat(e.replace(/([A-Z]{1})/g,(function(e){return"-".concat(e.toLowerCase())})),":").concat(C[e])})).join(";")}var I=w(l,!0);e.setNodeStyle(e.__wxsStyle?(0,h.joinClassOrStyle)(";",I+S,e.__wxsStyle):I+S),e.__transformedPropValue=I,e.__animationStyleStr=S,I!==l?(0,f.registerResizer)(e,(function(){var t=w(l,!0);e.setNodeStyle((0,h.joinClassOrStyle)(";",t+S,e.__wxsStyle)),e.__transformedPropValue=t})):e.__resizer&&(0,f.unregisterResizer)(e),e.__banned&&(0,d.banComponentNode)(e)}return"continue"}if(g&&r.Component.hasPublicProperty(e,c))return!y&&p.default.restoring||(_.scheduleReplace([c],l,null!=o?o[c]:null),y?_.doUpdates():v++),"continue";if(/^data-/.test(c)){var E=(0,s.dashToCamelCase)(c.slice(5).toLowerCase());return e.dataset[E]=l,e.setAttribute(c,l),"continue"}if("$gdc"===c)return(0,h.setWxsGdc)(l),"continue";if((b=c.match(/^\$wxs:(capture-)?(bind|catch):?(.+)$/))&&("function"==typeof l||!l))return m(i,e,b[3],l,"catch"===b[2],b[1],!0),(0,u.inDevtoolsWebview)()&&!(0,u.isDataThread)()&&e.setAttribute("exparser:info-attr-".concat(c.slice(4)),l.name),"continue";if(b=c.match(/^(capture-)?(bind|catch):?(.+)$/))return m(i,e,b[3],l,"catch"===b[2],b[1]),(0,u.inDevtoolsWebview)()&&!(0,u.isDataThread)()&&e.setAttribute("exparser:info-attr-".concat(c),l),"continue";if("on"===c.slice(0,2))return m(i,e,c.slice(2),l,!1,!1),"continue";if(g&&"animation"===c){if(e.$$&&null!==l&&"object"===(void 0===l?"undefined":a(l))&&l.actions&&0<l.actions.length){var T=function(){if(k<x){var t=n.animationToStyle(A[k]),r=t.transition,o=t.transitionProperty,i=t.transform,a=t.transformOrigin,c=t.style;e.$$.style.transition=r,e.$$.style.transitionProperty=o,e.$$.style.transform=i,e.$$.style.transformOrigin=a,e.$$.style.webkitTransition=r,e.$$.style.webkitTransitionProperty=o,e.$$.style.webkitTransform=i,e.$$.style.webkitTransformOrigin=a;var s=function(){for(var t in c)e.$$.style[t]=w(" ".concat(c[t]),!0)};s(),(0,f.registerResizer)(e,s),e.__animationStyle={transition:r,transform:i,transitionProperty:o,transformOrigin:a},e.__banned&&(0,d.banComponentNode)(e)}},k=0,A=l.actions,x=l.actions.length;e.addListener("transitionend",(function(){k+=1,T()})),T()}return"continue"}if(b=c.match(/^\$wxs:change:(.+)$/))return e.wxsObserver=e.wxsObserver||{},e.wxsObserver[b[1]]=e.wxsObserver[b[1]]||{},e.wxsObserver[b[1]].observer=l,"continue";var P=(0,s.camelToDashCase)(c);return g&&e.hasExternalClass(P)?(e.setExternalClass(P,l),"continue"):void 0}for(var O in e.dataset=e.dataset||{},t)b(O);if(v&&_.doUpdates(v),!u.isDataThread()&&e.wxsObserver&&h.getWxsGdc()&&h.triggerWxsObserver(e,t),e.__component__&&!p.default.restoring)if(u.isDataThread())i.operationFlow.push([c.SYNC_EVENT_NAME.FLOW_APPLY_PROPERTY]);else if(i.operationFlow.iterator.nextStep()[0]!==c.SYNC_EVENT_NAME.FLOW_APPLY_PROPERTY)throw new Error("Framework inner error (expect FLOW_APPLY_PROPERTY but get another)")}},function(e,n,o){var i;Object.defineProperty(n,"__esModule",{value:!0}),n.reportFlowFlushCombined=n.reportFlowCombined=n.reportFlow=n.addGenFuncTime=n.addFlowCount=n.reportPluginNodeCreation=void 0;var a=o(1),c=(i=o(3))&&i.__esModule?i:{default:i},s={},u=(n.reportPluginNodeCreation=function(e,n){var o=r.Component.getComponentOptions(e).domain;if("/"!==o&&"//"!==o&&o){var i=o.split("/",1)[0],u=(0,a.isDataThread)()?n:c.default.instance,l=u.viewId;if(s[l]||(s[l]={}),!s[l][i]){s[l][i]=!0;var f=[i,t.pluginInfos[i].version,u.rootCompName,t.getLaunchOptionsSync().sessionid||t.getLaunchOptionsSync().sessionId||"",0,""].map(encodeURIComponent).join(",");void 0!==Reporter&&(Reporter.reportKeyValue({key:"PluginDisplay",value:f,force:!0}),Reporter.reportIDKey({key:"pluginDisplayInPage",force:!0}))}}},0),l=0,f=0,d=(n.addFlowCount=function(){u+=1},n.addGenFuncTime=function(e){l+=1,f+=e},n.reportFlow=function(e,t,n,r){var o=n-t,i=n-e,c=Math.ceil(f/(l||1)),s=[u,1,o,l,c,(0,a.isDataThread)()?1:2,i,r].map(encodeURIComponent).join(",");void(f=l=u=0)!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:s,force:!0})},0),p=0,h=0,v=0,g=0,y=0;n.reportFlowCombined=function(e,t,n){return d+=u,h+=n-t,v+=l,g+=f,y+=n-e,f=l=u=0,p+=1},n.reportFlowFlushCombined=function(e){var t=Math.ceil(h/(p||1)),n=Math.ceil(g/(v||1)),r=Math.ceil(y/(p||1)),o=[d,p,t,v,n,(0,a.isDataThread)()?1:2,r,e].map(encodeURIComponent).join(",");void 0!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:o,force:!0})}},function(e,t,o){function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function a(e){return{id:e.id,offsetLeft:e.$$.offsetLeft,offsetTop:e.$$.offsetTop,dataset:e.dataset}}function c(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:r.identifier,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY,force:r.force||0})}return t}}function s(e,t,n,r,o,i){var s=o?"__wxEventCaptureHandleName":"__wxEventHandleName";e[s]||(e[s]=Object.create(null)),void 0===e[s][t]&&e.addListener(t,(function(n){if(e[s][t]){if(n._hasListeners=!0,i)if("function"==typeof e[s][t]&&(0,h.getWxsGdc)()){var o={type:n.type,timeStamp:n.timeStamp,target:a(n.target),currentTarget:a(this),detail:n.detail,touches:c(n.touches),changedTouches:c(n.changedTouches)};o.instance=(0,h.getWxsHandlerInstance)(e);var u=e[s][t]((0,h.wxsDeepCopy)(o,!0),(0,h.wxsDeepCopy)((0,h.getWxsHandlerInstance)(e,!0),!0));if((0,h.triggerPageRerender)(),!1===u)return u}else console.warn('Page does not have a wxs function to handle event "'.concat(n.type,'".'));else{var l={type:n.type,timeStamp:n.timeStamp,target:a(n.target),currentTarget:a(this),detail:n.detail,touches:c(n.touches),changedTouches:c(n.changedTouches),_requireActive:n._requireActive,_relatedInfo:n._relatedInfo};window.wx.publishPageEvent(e[s][t],l)}return!r&&void 0}}),{capture:o}),e[s][t]=n}Object.defineProperty(t,"__esModule",{value:!0}),t.removeProperty=t.applyProperties=void 0;var u="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)},l=o(11),f=o(0),d=o(7),p=o(1),h=o(6),v=/^data-/,g=n.transformRpx;t.applyProperties=function(e,t){function o(o){var i=t[o],a=null,c=r.Component.hasProperty(e,o);if(v.test(o)){var _=(0,l.dashToCamelCase)(o.substring(5).toLowerCase());e.dataset[_]=i,e.$$.setAttribute(o,i)}else if("id"===o)e.$$.id=null==i?"":i,e.id=null==i?"":i;else if("class"===o)e.class=e.__wxsClass?(0,h.joinClassOrStyle)(" ",null==i?"":i,e.__wxsClass):null==i?"":i;else if(void 0===i)y(e,o);else if("style"===o){var b="";if(e.__animationStyle){var m=e.__animationStyle,w={transition:m.transition,transform:m.transform,transitionProperty:m.transitionProperty,transformOrigin:m.transformOrigin};w["-webkit-transition"]=w.transition,w["-webkit-transform"]=w.transform,w["-webkit-transition-property"]=w.transitionProperty,w["-webkit-transform-origin"]=w.transformOrigin,b=Object.keys(w).filter((function(e){return!(/transform|transition/i.test(e)&&""===w[e]||""===e.trim()||void 0===w[e]||""===w[e]||!isNaN(parseInt(e)))})).map((function(e){return"".concat(e.replace(/([A-Z]{1})/g,(function(e){return"-".concat(e.toLowerCase())})),":").concat(w[e])})).join(";")}var S=g(i,!0);e.setNodeStyle(e.__wxsStyle?(0,h.joinClassOrStyle)(";",S+b,e.__wxsStyle):S+b),e.__transformedPropValue=S,e.__animationStyleStr=b,S!==i?(0,d.registerResizer)(e,(function(){var t=g(i,!0);e.setNodeStyle((0,h.joinClassOrStyle)(";",t+b,e.__wxsStyle)),e.__transformedPropValue=t})):e.__resizer&&(0,d.unregisterResizer)(e)}else if(c)-1!==f.INLINE_STYLE.indexOf(o)?e[o]=g(i,!0):e[o]=i;else if("$gdc"===o)(0,h.setWxsGdc)(i);else if(!(a=o.match(/^\$wxs:(capture-)?(bind|catch):?(.+)$/))||"function"!=typeof i&&i)if(a=o.match(/^(capture-)?(bind|catch):?(.+)$/))s(e,a[3],i,"catch"===a[2],a[1]),(0,p.inDevtoolsWebview)()&&e.setAttribute("exparser:info-attr-".concat(o),i);else if("on"===o.slice(0,2))s(e,o.slice(2),i,!1,!1);else if("animation"===o){if(null!==i&&"object"===(void 0===i?"undefined":u(i))&&i.actions&&0<i.actions.length){var O=function(){if(C<E){var t=n.animationToStyle(I[C]),r=t.transition,o=t.transitionProperty,i=t.transform,a=t.transformOrigin,c=t.style;e.$$.style.transition=r,e.$$.style.transitionProperty=o,e.$$.style.transform=i,e.$$.style.transformOrigin=a,e.$$.style.webkitTransition=r,e.$$.style.webkitTransitionProperty=o,e.$$.style.webkitTransform=i,e.$$.style.webkitTransformOrigin=a;var s=function(){for(var t in c)e.$$.style[t]=g(" ".concat(c[t]),!0)};s(),(0,d.registerResizer)(e,s),e.__animationStyle={transition:r,transform:i,transitionProperty:o,transformOrigin:a}}},C=0,I=i.actions,E=i.actions.length;e.addListener("transitionend",(function(){C+=1,O()})),O()}}else(a=o.match(/^\$wxs:change:(.+)$/))&&(e.wxsObserver=e.wxsObserver||{},e.wxsObserver[a[1]]=e.wxsObserver[a[1]]||{},e.wxsObserver[a[1]].observer=i);else s(e,a[3],i,"catch"===a[2],a[1],!0)}for(var i in e.dataset=e.dataset||{},t)o(i);e.wxsObserver&&(0,h.getWxsGdc)()&&(0,h.triggerWxsObserver)(e,t)};var y=t.removeProperty=function(e,t){r.Component.hasProperty(e,t)?e[t]=void 0:"bind"===t.slice(0,4)?s(e,t.slice(4),""):"catch"===t.slice(0,5)?s(e,t.slice(5),"",!0):"on"===t.slice(0,2)?s(e,t.slice(2),""):"style"===t&&e.$$.removeAttribute(t)}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={},r=/-[a-z]/g,o=/([A-Z])/g;t.dashToCamelCase=function(e){return n[e]?n[e]:n[e]=e.indexOf("-")<=0?e:e.replace(r,(function(e){return e[1].toUpperCase()}))},t.camelToDashCase=function(e){return n[e]||(n[e]=e.replace(o,"-$1").toLowerCase())}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(0),a=n(1);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=(r(u,[{key:"_consumeHead",value:function(){return this._arr.shift()}},{key:"nextStepType",value:function(){return this._arr[0][0]}},{key:"nextStep",value:function(){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH;)this._startCb(this._treeManager);if(this._arr[0][0]!==i.SYNC_EVENT_NAME.FLOW_REPEAT)return this._arr.shift();var e=this._arr[0][2];return--this._arr[0][1]||this._arr.shift(),[e]}},{key:"nextStepIf",value:function(e){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH;)this._startCb(this._treeManager);return this._arr[0][0]===e?this._arr.shift():null}},{key:"expectStart",value:function(){var e=this._arr.shift();if(this._depth++,e[0]!==i.SYNC_EVENT_NAME.FLOW_DEPTH||e[1]!==this._depth)throw new Error("Expect START descriptor with depth ".concat(this._depth," but get another"));return e[2]}},{key:"expectEnd",value:function(){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH&&this._arr[0][1]!==this._depth-1;)this._startCb(this._treeManager);var e=this._arr.shift();if(this._depth--,e[0]!==i.SYNC_EVENT_NAME.FLOW_DEPTH||e[1]!==this._depth)throw new Error("Expect END descriptor with depth ".concat(this._depth," but get another"))}},{key:"skipToEnd",value:function(){for(;this._arr[0];)if(this._arr[0][0]!==i.SYNC_EVENT_NAME.FLOW_DEPTH)this._consumeHead();else{if(this._arr[0][1]===this._depth-1)break;this._startCb(this._treeManager)}}},{key:"getQueueLength",value:function(){return this._arr.length}},{key:"getDepth",value:function(){return this._depth}}]),u);function u(e,t,n){c(this,u),this._treeManager=e,this._arr=t,this._depth=0,this._startCb=n}var l=(r(f,[{key:"flushBlocked",value:function(){if(this._blocked)for(;this._blocked.length;)try{var e=this._blocked.shift();this.iterator=new s(this._treeManager,e,f._startCb),f._startCb(this._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{})),a.sendData(i.SYNC_EVENT_NAME.SET_DATA_CALLBACK,[this._pendingSetDataCallbacks]),this._pendingSetDataCallbacks=0}catch(e){console.error(e.message),Reporter.errorReport({key:"webviewScriptError",error:e})}}},{key:"unblock",value:function(){this.flushBlocked(),this._blocked=null}},{key:"start",value:function(){this.flush(),this._depth++,a.queueSendingData(i.SYNC_EVENT_NAME.FLOW_DEPTH,[this._depth,Date.now()],this._viewId)}},{key:"dedupe",value:function(){var e=this._cache;if(this._curWinSize){if(2===e.length){var t=e[1][2];if(e[0][0]!==t){var n=e.pop(),r=n.shift();a.queueSendingData(r,n,this._viewId)}else e.shift(),e[0][1]++}}else{var o=0;if(2<e.length&&e[0][0]===e[1][0]&&e[0][0]===e[2][0]&&(o=1),o){var c=e[0][0];e.splice(0,3),this.flush(),this._curWinSize=1,e.unshift([i.SYNC_EVENT_NAME.FLOW_REPEAT,3,c])}else if(3<e.length){var s=e.pop(),u=s.shift();a.queueSendingData(u,s,this._viewId)}}}},{key:"push",value:function(e){this._cache.unshift(e),1!==e.length?this.flush():this.dedupe()}},{key:"flush",value:function(){for(this._curWinSize=0;this._cache.length;){var e=this._cache.pop(),t=e.shift();a.queueSendingData(t,e,this._viewId)}}},{key:"end",value:function(){this.flush(),this._depth--,a.queueSendingData(i.SYNC_EVENT_NAME.FLOW_DEPTH,this._depth,this._viewId),0===this._depth&&a.flushSendingData()}}],[{key:"setStartOperation",value:function(e){f._startCb=e}}]),f);function f(e,t){var n=this;function r(e,t){if(n._received.push([t].concat(e)),t===i.SYNC_EVENT_NAME.FLOW_DEPTH&&(n._depth=e[0],0===n._depth)){var r=n._received;n._received=[],n._blocked?n._blocked.push(r):(n.iterator=new s(n._treeManager,r,f._startCb),f._startCb(n._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{})),a.sendData(i.SYNC_EVENT_NAME.SET_DATA_CALLBACK,[n._pendingSetDataCallbacks]),n._pendingSetDataCallbacks=0)}}for(var o in c(this,f),this._viewId=e,this._treeManager=t,this._depth=0,this._curWinSize=0,this._pendingSetDataCallbacks=0,this._received=[],this._cache=[],this._blocked=[],i.SYNC_EVENT_NAME)"FLOW_"===o.slice(0,5)&&("FLOW_SET_DATA"===o?a.setDataListener(i.SYNC_EVENT_NAME[o],(function(){n._pendingSetDataCallbacks++}),e):a.setDataListener(i.SYNC_EVENT_NAME[o],r,e))}t.default=l},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(24),i={},a=(function(e,t,n){n&&r(e,n)}(c,0,[{key:"getAppData",value:function(){return i}},{key:"mergeData",value:function(e,t){if(null===t)return e;var n=JSON.parse(JSON.stringify(e));for(var r in t){var i=(0,o.parsePath)(r),a=(t[r],(0,o.getObjectByPath)(e,i,!1)),c=a.obj,s=a.key,u=(0,o.getObjectByPath)(n,i,!0),l=u.obj,f=u.key,d=u.changed;c&&(c[s]=t[r]),l&&(l[f]=d?t[r]:{__value__:t[r],__wxspec__:!0})}return n}}]),c);function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c)}t.default=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentCount=function(){var e={compCount:0,customCompCount:0,nativeCompCount:0,rootCustomCompCount:0,rootInternalCompCount:0};try{!function e(t,n,o){if(t instanceof r.Component){t!==window.__DOMTree__&&(n.compCount++,t.hasBehavior("wx-base")?(o&&n.rootInternalCompCount++,t.hasBehavior("wx-native")&&n.nativeCompCount++):o&&n.rootCustomCompCount++);var i=t===window.__DOMTree__&&o;t.shadowRoot instanceof r.Element&&e(t.shadowRoot,n,i)}for(var a=t.childNodes,c=0,s=a.length;c<s;c++){var u=(a[c]instanceof r.VirtualNode||t===window.__DOMTree__||t===window.__DOMTree__.shadowRoot)&&o;a[c]instanceof r.Element&&e(a[c],n,u)}}(window.__DOMTree__,e,!0)}catch(e){}var t=e.rootCustomCompCount,n=e.rootInternalCompCount,o=t+n;return{compCount:e.compCount,customCompCount:e.customCompCount,nativeCompCount:e.nativeCompCount,rootCompCount:o,rootCustomCompCount:t,rootCustomCompRatio:o?~~(100*t/o):0,rootInternalCompCount:n}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDomIndex=function(e,t,r){if(r&&0!=r.length){r=r.sort((function(e,t){return e-t}));var o={};return n(e,t,r,o,0),o}return{}};var n=t.mapIndexToDom=function e(t,n,o,i,a){if(t){r(o,a,a)&&(i[a]=t);var c=n.children;if(c)for(var s=t.childNodes,u=0;u<c.length;++u){var l=c[u],f=++a+(l.descendants||0);r(o,a,f)&&e(s[u],l,o,i,a),a=f}}},r=t.oneOfIndexesInRange=function(e,t,n){for(var r=0,o=e.length-1;r<=o;){var i=o+r>>1,a=e[i];if(a<t)r=1+i;else{if(!(n<a))return!0;o=i-1}}return!1}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=(function(e,t,n){t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t)}(o,[{key:"render",value:function(e){return((null==e?void 0:e.document)||r).createTextNode(this.text)}}]),o);function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.text=String(e)}n.prototype.type="WxVirtualText",t.default=n},function(e,o,i){function c(e){return(c="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.removeView=o.attachView=o.addView=o.sendTabBarCreationRequest=o.runComponentDef=o.initViewThread=o.getRootNodeId=o.getNodeId=o.getNodeById=o.Page=o.Component=o.Behavior=o.publishDomainComponents=o.getDomainByPluginId=void 0;var s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u="function"==typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)};o.CustomComponent=J;var l=i(0),f=i(1),d=i(18),p=i(20),h=S(i(3)),v=S(i(12)),g=i(2),y=S(i(4)),_=i(35),b=i(5),m=i(9),w=i(6);function S(e){return(null==e?void 0:e.__esModule)?e:{default:e}}function O(e,t){if($.test(t))return t;var n=e.match($),r="";n&&(r=n[0],e=e.slice(r.length)),0===t.indexOf("/")&&(e="");var o=e.split("/");o.pop();for(var i=t.split("/");i.length;){var a=i.shift();""!==a&&"."!==a&&(".."!==a?o.push(a):o.pop())}return r+o.join("/")}function C(e,t){var n={},r=(t["".concat(e,".json")]||{}).usingComponents;for(var o in r)n["wx-".concat(o)]=O(e,String(r[o]));return n}function I(e,t,n){var o=t.match(/^plugin-private:\/\/(.*?)\//);if(!o)return!1;var i=o[1];if(K(i,"0")!==e)return!1;var a=n.match(/^plugin:\/\/(.*?)\//);if(!a)return!1;var c=a[1];return K(c,"0")===e&&(r.Component._list[n]?(console.error('"'.concat(n,'" has been used as another component or page. Please do not register multiple components or pages with the same alias.')),!1):(r.Component._list[n]=r.Component._list[t],q[n]=t,!0))}function E(e,t,n){if("wx://"!==t.slice(0,5)){var r=W[t];if(!r)throw new Error('"'.concat(t,'" is not a behavior registered by Behavior()'));e[0].unshift(r),n[t]=!0;var o=H[r.is];if(o)for(var i=0;i<o.length;i++){var a=o[i];n[a]||E(e,a,n)}}}function T(e,t,n,r){z.call(q,t)&&(t=q[t]);var o=U[t];if(!o)throw new Error('Component is not found in path "'.concat(t,'"').concat(r?' (using by "'.concat(r,'")'):""));"wx://"!==t.slice(0,5)&&e[1].unshift(o),n[t]=!0;var i=V[o.is],a=G[o.is];for(var c in i){var s=i[c];n[s]||T(e,s,n,t)}for(var u in a){var l=a[u].default;l&&(n[l]||T(e,l,n,t))}var f=H[o.is];if(f)for(var d=0;d<f.length;d++){var p=f[d];n[p]||E(e,p,n)}}function k(e,t){var n={};for(var r in e.properties){var o=e.properties[r];null===o?n[r]={type:null}:o===Number||o===String||o===Boolean||o===Object||o===Array?n[r]={type:o.name}:void 0!==o.public&&!o.public||(n[r]={type:null===o.type?null:o.type.name,value:o.value})}return{is:e.is,using:e.using,generics:e.generics,behaviors:e.behaviors,data:e.data,properties:n,externalClasses:e.externalClasses,template:t,options:{domain:e.options.domain,writeOnly:e.options.writeOnly||void 0,multipleSlots:e.options.multipleSlots||void 0,writeIdToDOM:e.options.writeIdToDOM||void 0,styleIsolation:e.options.styleIsolation||void 0,addGlobalClass:e.options.addGlobalClass||void 0,hasObservers:!!e.observers}}}function A(e){if(e.behaviors){for(var t=[],n=0;n<e.behaviors.length;n++){var r=String(e.behaviors[n]);if("/"!==r[0]&&"wx://"!==r.slice(0,5))throw new Error("Behaviors should be constructed with Behavior()");t.push(r)}e.behaviors=t,H[e.is]=t}else e.behaviors=null}function x(e){return r.Component.getComponentOptions(e).domain.split("/",1)[0]}function P(e){return F.get(e)}function j(e,t,n){var o=r.Component.getComponentOptions(t).domain,i=r.Component.getMethod(t,"__export__"),a=o===e?r.Element.getMethodCaller(t):null;if(i){var c=o===e?n:null,s=i.call(r.Element.getMethodCaller(t),c);return void 0===s?a:s}return a}function N(e,t,n){var o=P(e),i=r.Component.getComponentOptions(o).domain,a=o.shadowRoot;if(n)return a.querySelectorAll(t).map((function(t){return j(i,t,e)}));var c=a.querySelector(t);return c?j(i,c,e):null}function D(e,t,n){e!==ee&&Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}var R=r.dataUtils.deepCopy,M={lazyRegistration:!0,publicProperties:!0},B={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",templateEngine:d.Tmpl,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!0,randomizeTagName:!1},L={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",renderingMode:"full",templateEngine:d.Tmpl,multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!1,randomizeTagName:!1},F="undefined"!=typeof WeakMap?new WeakMap:{},U={},q={},W={},V={},G={},H={},Y=1,$=/^[-+a-z]+:\/\//i,z=Object.prototype.hasOwnProperty,K=function(e,t){return"".concat(e,"/").concat(t)};function J(){}function X(e,t){e.using=V[e.is]=C(e.is,t),e.generics=G[e.is]=function(e,t){var n={},r=(t["".concat(e,".json")]||{}).componentGenerics;for(var o in r){var i=r[o];"object"===(void 0===i?"undefined":u(i))?n["wx-".concat(o)]={default:O(e,String(i.default||""))}:null!=i&&(n["wx-".concat(o)]={})}return n}(e.is,t),A(e);var n="".concat(e.is,".wxml");e.template={func:t[n]||null},U[e.is]=k(e,n);var o=r.registerElement(e),i=Object.create(ee,{constructor:{value:J}});r.Behavior.prepare(o.behavior);var a=o.behavior.methods;for(var c in a)i[c]=a[c];return i}function Q(e){m.addFlowCount();var t=Date.now(),n=e.operationFlow.iterator,o=n.expectStart();if(n.nextStepType()===l.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION)ne(e,!1),m.reportFlow(o,t,Date.now(),2);else if(n.nextStepType()===l.SYNC_EVENT_NAME.FLOW_CREATE_TAB)ne(e,!0),m.reportFlow(o,t,Date.now(),3);else{var i=n.nextStep();if(i[0]===l.SYNC_EVENT_NAME.FLOW_UPDATE){var a=e.nodeId.getNodeById(i[1]),c=i[2];a?c.length&&(r.Component.getDataProxy(a).setChanges(c),a.applyDataUpdates()):n.skipToEnd()}else{if(i[0]!==l.SYNC_EVENT_NAME.FLOW_GROUP)throw new Error("Framework inner error (expect FLOW_UPDATE or FLOW_GROUP but get another)");if(n.nextStep()[0]!==l.SYNC_EVENT_NAME.FLOW_GROUP_END)throw new Error("Framework inner error (expect FLOW_GROUP_END but get another)")}te&&5===m.reportFlowCombined(o,t,Date.now())&&(te=!1,m.reportFlowFlushCombined(1))}n.expectEnd()}function Z(e,t){t||y.default.registerSavingListener();for(var o=s(e,4),i=o[0],a=o[1],c=o[2],u=o[3],l=0;l<i.length;l++){var f=i[l];f.options=M,r.registerBehavior(f)}for(var d=[],p=0;p<a.length;p++)d.push(a[p].is);for(var h=function(e,t){for(var n={},r={},o=[],i=0;i<e.length;i++){var a=e[i],c=r[a]=a.split(/[^a-z0-9]+/i),s=c[c.length-1];z.call(n,s)?(n[s].push(a),o.push(s)):n[s]=[a]}for(var u=2;o.length;u++){var l=o;o=[];for(var f=0;f<l.length;f++){var d=l[f];if(z.call(n,d)){var p=n[d];delete n[d];for(var h=0;h<p.length;h++){var v=p[h],g=r[v].slice(-u).join("-");z.call(n,g)?(n[g].push(v),g!==d&&o.push(g)):n[g]=[v]}}}}var y={};for(var _ in n){var b=n[_],m=0<=Number(_[0])?"x-".concat(_):_;if(1===b.length)y[b[0]]=t+m;else for(var w=0;w<b.length;w++)y[b[w]]="".concat(t+m,"-").concat(w)}return y}(d,t?"custom-tab-bar-":""),v=n.getPlatform(),g=0;g<a.length;g++){var _=a[g];for(var b in _.properties)_.properties[b].type=re[_.properties[b].type];var m=_.is!==c||t?h[_.is]:"",w=_.options,S=!(!w.writeIdToDOM&&(_.is!==c||t));_.options=L,_.options.multipleSlots=w.multipleSlots||!1,_.options.writeOnly=w.writeOnly||!1,_.options.writeIdToDOM=S,_.options.domain=w.domain;var O=_.options.randomizeTagName=!1;if(w.styleIsolation){var C=w.styleIsolation;"page-"===C.slice(0,5)&&(O=!0,C=C.slice(5)),"isolated"===C?(m=h[_.is],_.options.addGlobalClass=!1):"strong-isolated"===C?(m=h[_.is],_.options.addGlobalClass=!1,_.options.randomizeTagName=!0):"apply-shared"===C?(m=h[_.is],_.options.addGlobalClass=!0):"shared"===C&&"/"===w.domain?(m="",_.options.addGlobalClass=!1):O=!1}else _.options.addGlobalClass=w.addGlobalClass||!1;if(_.options.classPrefix=m,O&&__webviewEngine__.disableStyleElement("app.wxss"),w.hasObservers&&(_.observers={"**":function(){}}),_.template={func:__wxAppCode__[_.template]},"ios"===v){var I=!1;for(var E in _.using)if("wx-"!==E.slice(0,3)){I=!0;break}if(I){var T={};for(var k in _.using)T["wx-".concat(k)]=_.using[k];_.using=T}}r.registerElement(_);var A=__wxAppCode__["".concat(_.is,".wxss")];A&&(_.is!==c||t)&&A(m&&"".concat(m,"--"),{allowIllegalSelector:S})}for(var x in null==u&&(u={}),u)r.Component._list[x]=r.Component._list[u[x]]}o.getDomainByPluginId=K,o.publishDomainComponents=function(e,t){for(var n in t)I(e,t[n],n)},o.Behavior=function(e){var t="/".concat(Y++,"/").concat((0,g.guid)()),n={};for(var o in e)n[o]="data"===o?R(e[o]):e[o];return n.is=t,A(n),n.options=M,W[t]=k(n),n.definitionFilter=r.Behavior.callDefinitionFilter(n),r.registerBehavior(n),n.is},J.prototype=Object.create(Object.prototype,{is:{get:function(){return P(this).is},set:function(e){D(this,"is",e)}},id:{get:function(){var e=P(this);return r.Component.getComponentOptions(e).writeOnly?"":e.id},set:function(e){D(this,"id",e)}},dataset:{get:function(){var e=P(this);return r.Component.getComponentOptions(e).writeOnly?null:e.dataset},set:function(e){D(this,"dataset",e)}},properties:{get:function(){return this.__data__},set:function(e){D(this,"properties",e)}},data:{get:function(){return this.__data__},set:function(e){D(this,"data",e)}},setData:{get:function(){return function(e,n){var o,i,a,c,s=P(this),u=s.__treeManager__;return f.isDataThread()&&__qqConfig.useFlutter&&(a=(i=(o=s)instanceof r.Component)&&!0===r.Component.getComponentOptions(o).writeIdToDOM,c="//"===r.Component.getComponentOptions(o).domain,!i||a||c)&&t.invokeFlutterSetData("flutterSetData",e,[s.__methodCaller.__wxWebviewId__],n),"function"==typeof n&&(u.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_SET_DATA]),u.layoutReadyFuncs.push(n.bind(this))),s.setData(e)}},set:function(e){D(this,"setData",e)}},groupSetData:{get:function(){return function(e){var t=P(this).__treeManager__;t.operationFlow.start(Date.now()),t.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_GROUP]);var n=null;try{e.call(this)}catch(e){n=e}if(t.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_GROUP_END]),t.operationFlow.end(),n)throw n}},set:function(e){D(this,"setData",e)}},replaceDataOnPath:{get:function(){var e=this;return function(t,n){return P(e).replaceDataOnPath(t,n)}},set:function(e){D(this,"replaceDataOnPath",e)}},mergeDataOnPath:{get:function(){var e=this;return function(t,n){return P(e).mergeDataOnPath(t,n)}},set:function(e){D(this,"mergeDataOnPath",e)}},applyDataUpdates:{get:function(){var e=this;return function(){return P(e).applyDataUpdates()}},set:function(e){D(this,"applyDataUpdates",e)}},hasBehavior:{get:function(){var e=this;return function(t){return P(e).hasBehavior(t)}},set:function(e){D(this,"hasBehavior",e)}},triggerEvent:{get:function(){var e=this;return function(t,n,r){return P(e).triggerEvent(t,n,r)}},set:function(e){D(this,"triggerEvent",e)}},createSelectorQuery:{get:function(){var e=this;return function(){return t._createSelectorQuery({},x(P(e))).in(e)}},set:function(e){D(this,"createSelectorQuery",e)}},createIntersectionObserver:{get:function(){var e=this;return function(n){return t._createIntersectionObserver(e,n,x(P(e)))}},set:function(e){D(this,"createIntersectionObserver",e)}},selectComponent:{get:function(){var e=this;return function(t){var n=P(e);return r.Component.getComponentOptions(n).writeOnly?null:N(e,t,!1)}},set:function(e){D(this,"selectComponent",e)}},selectAllComponents:{get:function(){var e=this;return function(t){var n=P(e);return r.Component.getComponentOptions(n).writeOnly?[]:N(e,t,!0)}},set:function(e){D(this,"selectAllComponents",e)}},getRelationNodes:{get:function(){var e=this;return function(t){return function(e,t){var n=P(e).getRelationNodes(t);return null===n?null:n.map((function(e){return r.Element.getMethodCaller(e)}))}(e,t)}},set:function(e){D(this,"getRelationNodes",e)}},getTabBar:{get:function(){return function(){var e=P(this).__treeManager__;return e.tabDestroyed||!e.tabRoot?null:r.Element.getMethodCaller(e.tabRoot)}},set:function(e){D(this,"getTabBar",e)}}});var ee=J.prototype,te=!0;o.Component=function e(t,n,o,i){var a=i||__wxAppCurrentFile__,c=o||__wxAppCode__,s=c["".concat(a,"on")];if(a&&s){if(s.component&&"simple"===s.component.type){var u=a.slice(0,-3);return function(e,t,n,r,o){var i={is:t,using:C(t,o),properties:e.properties,externalClasses:e.externalClasses,options:B},a=e.options||{};i.options=B,i.options.multipleSlots=a.multipleSlots||!1,i.options.writeOnly=!0,i.options.writeIdToDOM=!1,i.options.domain="simple://".concat(r||"/"),i.options.styleIsolation=a.styleIsolation||"",i.options.addGlobalClass=a.addGlobalClass||!1,U[t]=k(i,"".concat(t,".wxml"))}(t,u,0,n,c),u}var l=r.Behavior.callDefinitionFilter(t),f={is:a.slice(0,-3),properties:t.properties,data:R(t.data),methods:t.methods,behaviors:t.behaviors,lifetimes:t.lifetimes,pageLifetimes:t.pageLifetimes,created:t.created,attached:t.attached,ready:t.ready,moved:t.moved,detached:t.detached,saved:t.saved,restored:t.restored,relations:t.relations?function(e,t){for(var n in t){var r=t[n];r.target=null!=r.target?String(r.target):O(e,String(n))}return t}(a,t.relations):void 0,externalClasses:t.externalClasses,observers:t.observers,definitionFilter:l,options:B,initiator:function(){this.__customConstructor__=e;var t=Object.create(p);F.set(t,this),r.Element.setMethodCaller(this,t),Object.defineProperties(t,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},d=t.options||{};f.options=B,f.options.multipleSlots=d.multipleSlots||!1,f.options.writeOnly=d.writeOnly||!1,f.options.domain=(d.writeOnly?"wo://":"")+(n||"/"),f.options.styleIsolation=d.styleIsolation||"",f.options.addGlobalClass=d.addGlobalClass||!1;var p=X(f,c);return f.is}console.error("Component constructors should be called while initialization. A constructor call has been ignored.")},o.Page=function e(t,n,o,i){var a=i||__wxAppCurrentFile__;if(a){var c=o||__wxAppCode__,s=Object.create(null),u=Object.create(null);for(var l in t)"data"!==l&&("function"==typeof t[l]?u[l]=t[l]:s[l]=t[l]);var f={is:a.slice(0,-3),data:R(t.data),methods:u,options:B,initiator:function(){this.__customConstructor__=e;var t=Object.create(d);F.set(t,this),r.Element.setMethodCaller(this,t),Object.defineProperties(t,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}};f.options.multipleSlots=!1,f.options.writeOnly=!1,f.options.writeIdToDOM=!0,f.options.domain=n||"/",f.options.styleIsolation="shared",f.options.addGlobalClass=!1;var d=X(f,c);return d.__freeData__=s,f.is}console.error("Page constructors should be called while initialization. A constructor call has been ignored.")},o.getNodeById=function(e,t){if((0,f.isDataThread)()){var n=h.default.get(t);return n?n.nodeId.getNodeById(e):null}return h.default.instance?h.default.instance.nodeId.getNodeById(e):null},o.getNodeId=function(e,t){return(0,f.isDataThread)()?h.default.get(t).nodeId.getNodeId(e):h.default.instance?h.default.instance.nodeId.getNodeId(e):""},o.getRootNodeId=function(e){if((0,f.isDataThread)()){var t=h.default.get(e);return t?t.rootNodeId:""}return h.default.instance.rootNodeId};var ne=function(e,t){var n=e.operationFlow.iterator,o=n.nextStep(),i=o[1],a=o[2],c=null;if(t?(e.tabNodeId=a,window.__TAB_BAR__=r.createElement("tab-bar",r.Component._list[i]),c=window.__TAB_BAR__):(e.rootNodeId=a,window.__DOMTree__=r.createElement("body",r.Component._list[i]),c=window.__DOMTree__),e.nodeId.allocNodeId(c,a),c.setAttribute("is",i),y.default.restoring){var s=y.default.idDataMap[e.nodeId.getNodeId(c)];r.Component.replaceWholeData(c,s,null),y.default.callRestoredLifeTimes(y.default.restoring),y.default.restoring=null,y.default.idDataMap=null}if((o=n.nextStep())[0]!==(t?l.SYNC_EVENT_NAME.FLOW_CREATE_TAB:l.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION))throw new Error("Framework inner error (expect FLOW_INITIAL_CREATION but get another)");if(e.nodeId.addNode(c),t){var u=r.createElement("wx-tab-bar-wrapper",r.Component._list["wx://tab-bar-wrapper"]);u.appendChild(c),document.documentElement.insertBefore(u.$$,document.body),r.Element.pretendAttached(u),e.tabDestroyed&&u.removeChild(c)}else document.body=c.$$;r.Element.pretendAttached(c)};o.initViewThread=function(){v.default.setStartOperation(Q),h.default.instance=new h.default(0)};var re={String:String,Number:Number,Boolean:Boolean,Object:Object,Array:Array,null:null},oe=!1,ie=!1,ae=null,ce=null;function se(e,n){n.listenerInited||(n.listenerInited=!0,f.setDataListener(l.SYNC_EVENT_NAME.WX_EVENT,(function(o){var i=o[2],c=o[1],s=n.nodeId.getNodeById(o[0]);if(s){var u=r.Element.getMethodCaller(s);if(i._requireActive){var l=a.getCurrentPagesByDomain("");if(l[l.length-1].__wxWebviewId__!==e)return;delete i._requireActive}i._relatedInfo&&(a.DisplayReporter.setEventRelatedInfo(i._relatedInfo),delete i._relatedInfo),"function"!=typeof u[c]?console.warn('Component "'.concat(s.is,'" does not have a method "').concat(c,'" to handle event "').concat(i.type,'".')):(t.setWxInterfaceIsInvokeInTap(i.type),r.safeCallback("Event Handler",u[c],u,[i],s),t.unsetWxInterfaceIsInvokeInTap())}}),e),f.setDataListener(l.SYNC_EVENT_NAME.SET_DATA_CALLBACK,(function(e){var t=s(e,1)[0],r=n.layoutReadyFuncs,o=r.slice(0,t);r.splice(0,t);for(var i=0;i<o.length;i++)o[i]()}),e),f.setDataListener(l.SYNC_EVENT_NAME.REQUEST_SAVE,(function(t){var n=s(t,1)[0];_.saveView(e,n)}),e),f.setDataListener(l.SYNC_EVENT_NAME.CALL_METHOD_FROM_WXS,(function(e){w.callMethodFromWxsCallback(e)}),e))}f.setDataListener(l.SYNC_EVENT_NAME.COMPONENT_DEF,(function(e){ie?Z(e,!1):ae=e}),0),f.setDataListener(l.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,(function(e){ie||oe?Z(e,!0):ce=e}),0),o.runComponentDef=function(){ie=!0,le(),ae&&(Z(ae,!1),ae=null),ce&&(Z(ce,!0),ce=null)};var ue=!1,le=function(){ue||(ue=!0,f.sendData(l.SYNC_EVENT_NAME.REQUEST_TAB,[]))};function fe(e,t,n){var r=!0,o=__wxConfig.tabBar&&__wxConfig.tabBar.list;o instanceof Array&&((0<=o.map((function(e){return null==e?void 0:e.pagePath})).indexOf(t)||0<=o.map((function(e){return null==e?void 0:e.pagePath})).indexOf("".concat(t,".html")))&&(r=!1),r&&(e.tabDestroyed=!0,f.sendData(l.SYNC_EVENT_NAME.DESTROY_TAB,[],n)))}function de(e,t){var n=!1;if(__wxConfig.tabBar&&!0===__wxConfig.tabBar.custom&&(n=!0),n){var o=h.default.get(e)||h.default.create(e);se(e,o),o.tabRoot||o.tabDestroyed||(function(e,t,n){var o=[[],[],n=p.convertRouteToComponentAlias(n),{}];T(o,n,Object.create(null),""),f.sendData(l.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,o,e),t.tabCompName=n,t.tabNodeId=g.guid(),t.operationFlow.start(),t.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_CREATE_TAB,n,t.tabNodeId]);var i=r.createElement("tab-bar",r.Component._list[n],t);t.tabRoot=i,t.tabUsedDef=o,r.Element.getMethodCaller(i).__wxExparserNodeId__=t.nodeId.allocNodeId(i,t.tabNodeId),t.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_CREATE_TAB]),t.nodeId.addNode(i)}(e,o,"custom-tab-bar/index"),r.Element.pretendAttached(o.tabRoot),o.operationFlow.end(),t&&f.sendData(l.SYNC_EVENT_NAME.FLUSH_BLOCKED,[],e),o.rootCompName&&fe(o,o.rootCompName,e))}}o.sendTabBarCreationRequest=le,f.isDataThread()||("undefined"!=typeof __wxAppCode__?(oe=!0,le()):window.__mainPageFrameReady__=function(){oe=!0,le()}),f.isDataThread()||f.setDataListener(l.SYNC_EVENT_NAME.DESTROY_TAB,(function(){h.default.instance.tabDestroyed=!0,window.__TAB_BAR__&&window.__TAB_BAR__.parentNode.removeChild(window.__TAB_BAR__)}),0),f.isDataThread()?f.setDataListener(l.SYNC_EVENT_NAME.REQUEST_TAB,(function(e,t,n){__wxConfig.onReady((function(){de(n,!0)}))}),"$GLOBAL"):f.setDataListener(l.SYNC_EVENT_NAME.FLUSH_BLOCKED,(function(){h.default.instance.operationFlow.flushBlocked()}),0),o.addView=function(e,t){var n=h.default.get(e)||h.default.create(e);n.operationFlow.unblock();try{de(e,!1)}catch(e){Reporter.thirdErrorReport({error:e})}fe(n,t,e),se(e,n);var o=[[],[],t=p.convertRouteToComponentAlias(t),q];T(o,t,Object.create(null),""),f.sendData(l.SYNC_EVENT_NAME.COMPONENT_DEF,o,e),b.sendBannedMap(e),n.rootCompName=t,n.rootNodeId=g.guid(),n.operationFlow.start(),n.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION,t,n.rootNodeId]);var i=r.createElement("body",r.Component._list[t],n);return m.reportPluginNodeCreation(i,n),n.root=i,n.usedDef=o,r.Element.getMethodCaller(i).__wxExparserNodeId__=n.nodeId.allocNodeId(i,n.rootNodeId),n.operationFlow.push([l.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION]),n.nodeId.addNode(i),i},o.attachView=function(e){var t=h.default.get(e);t&&(r.Element.pretendAttached(t.root),t.root.__treeManager__.operationFlow.end())},o.removeView=function(e){var t=h.default.get(e);t&&(r.Element.pretendDetached(t.root),h.default.destroy(e),f.removeDataListeners(e))}},function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Tmpl=void 0;var i=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)},s=n(0),u=y(n(29)),l=y(n(19)),f=n(2),d=n(1),p=n(34),h=y(n(4)),v=y(n(3)),g=n(9);function y(e){return(null==e?void 0:e.__esModule)?e:{default:e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(t,n){var r=Date.now(),o=t?t(n,null,e):m;return g.addGenFuncTime(Date.now()-r),o.tag="shadow",function e(t){if(f.isString(t)||Number(t)===t&&Number(t)%1==0)return new l.default(String(t));var n=[];return t.children.forEach((function(t){n.push(e(t))})),function(e,t,n){return"wx-slot"===e&&(e="slot"),new u.default(e,t,n)}("wx-slot"===t.tag?"slot":t.tag,t,n)}(o)}t.buildVirtualTree=b;var m={tag:"shadow",children:[]},w=r.dataUtils.deepCopy,S=t.Tmpl=(i(O,[{key:"createInstance",value:function(e,t){var n=new C,o=t;if(d.isDataThread()||(o=v.default.instance),n._generateFunc=this._generateFunc,n.data=w(this._initValues),n.idMap=Object.create(null),n.slots=Object.create(null),h.default.restoring){if(h.default.compIdArrIndex>=h.default.compIdArr.length)throw new Error("Component count unmatched while page recovering");o.nodeId.allocNodeId(e,h.default.compIdArr[h.default.compIdArrIndex++]);var i=h.default.idDataMap[o.nodeId.getNodeId(e)];n._virtualTree=b(this._generateFunc,i)}else n._virtualTree=this._virtualTree;return n.shadowRoot=n._virtualTree.render(e,null,t),function e(t,n,o){for(var i=t.childNodes,a=0;a<i.length;a++){var c=i[a];c instanceof r.TextNode||(c.__id&&(n[c.__id]=c),void 0!==c.__slotName&&(o[c.__slotName]=c),e(c,n,o))}}(n.shadowRoot,n.idMap,n.slots),n.listeners=[],this._isSimpleComponent||(e.__component__=!0),d.isDataThread()&&(e.__treeManager__=o,(n.shadowRoot.__treeManager__=o).operationFlow.push([s.SYNC_EVENT_NAME.FLOW_SET_DATA]),o.layoutReadyFuncs.push((function(){e.triggerLifeTime("ready")}))),n}}]),O);function O(){_(this,O)}S.create=function(e,t,n){var r=new S;return r._initValues=t,r._data=t,r._generateFunc=function(e){return"object"===(void 0===e?"undefined":c(e))&&e?((0,d.isDataThread)()||"undefined"==typeof window||(window.__usingDelayedGwx__=2|(window.__usingDelayedGwx__||0)),e.shift().apply(null,e)):((0,d.isDataThread)()||"undefined"==typeof window||(window.__usingDelayedGwx__=1|(window.__usingDelayedGwx__||0)),e)}(e.template.func),r._virtualTree=b(r._generateFunc,r._data),r._isSimpleComponent="simple://"===n.domain.slice(0,9),r};var C=(i(I,[{key:"beforeUpdateValues",value:function(e,t,n){if(!d.isDataThread()&&"number"==typeof n){var o=v.default.instance.operationFlow.iterator.nextStepIf(s.SYNC_EVENT_NAME.FLOW_DATA_OBSERVER);if(o){var i=o[1];e&&i.length&&(r.Component.getDataProxy(e).setChanges(i),e.applyDataUpdates())}}}},{key:"updateValues",value:function(e,t,n,r,o,i){if(!h.default.restoring){var a=null,c="number"!=typeof i;if(d.isDataThread())if(a=e.__treeManager__,c){a.operationFlow.start(Date.now());var u=[];o.forEach((function(e){void 0!==e[1]?u.push(e):console.error('Setting data field "'.concat(e[0].join("."),'" to undefined is invalid.'))})),a.operationFlow.push([s.SYNC_EVENT_NAME.FLOW_UPDATE,a.nodeId.getNodeId(e),w(u)])}else{for(var l=[],v=i;v<o.length;v++){var g=o[v];void 0!==g[1]?l.push(g):console.error('Setting data field "'.concat(g[0].join("."),'" to undefined is invalid.'))}a.operationFlow.push([s.SYNC_EVENT_NAME.FLOW_DATA_OBSERVER,w(l)])}var y=!f.getWxmlVersionTag("propValueDeepCopy"),_=p.mergeDataWithSpec(t,o,!0,!1,y),m=b(this._generateFunc,_);p.mergeDataWithSpec(t,o,!1,c,!1);var S=this._virtualTree.diff(m);this._virtualTree=m,S.apply(this.shadowRoot),c&&d.isDataThread()&&a.operationFlow.end()}}}]),I);function I(){_(this,I)}}).call(t,function(){return this}())},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,o=((n=[{key:"render",value:function(){return r.createTextNode(this.text)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(i.prototype,n),i);function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.text=String(e)}o.prototype.type="WxVirtualText",t.default=o},function(e,t){function n(){var e;o={};var t=void 0;if(null===(e=__wxConfig)||void 0===e?void 0:e.subPackages)t=__wxConfig.subPackages;else{if("undefined"==typeof window||!window||!window.__subPackages)return;t=window.__subPackages}t.length&&t.forEach((function(e){if(e){var t=e.root||"";if(t&&"/"!==t.slice(-1)&&(t+="/"),e.plugins)for(var n in e.plugins)if(Object.prototype.hasOwnProperty.call(e.plugins,n)){var r=e.plugins[n]&&e.plugins[n].provider;r&&(o[r]=t)}}}))}Object.defineProperty(t,"__esModule",{value:!0});var o=null;t.convertRouteToComponentAlias=function(e){var t=e.match(/(?:^|\/)__(wx|plugin)__\/(.*)$/);return t?"wx"===t[1]?"wx://".concat(t[2]):"plugin-private://".concat(t[2]):e},t.convertComponentAliasToRoute=function(e){return o||n(),(r.Component._list[e]&&r.Component._list[e].is||e).replace(/^plugin-private:\/\/([0-9a-zA-Z]+)\//,(function(e,t){return"".concat(o[t]||"","__plugin__/").concat(t,"/")})).replace(/^wx:\/\//,"__wx__/")},t.getPluginRoutePrefix=function(e){return o||n(),"".concat(o[e]||"","__plugin__/").concat(e,"/")}},function(e,t,o){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=C(o(22)),c=C(o(16)),s=C(o(13)),u=o(2),l=o(14),f=C(o(3)),d=o(17),p=o(1),h=o(36),v=o(7),g=o(5),y=o(37),_=C(o(4)),b=o(20),m=o(8),w=o(18),S=o(38),O=o(39);function C(e){return(null==e?void 0:e.__esModule)?e:{default:e}}"undefined"!=typeof navigator&&/qqdevtools/.test(navigator.userAgent)&&p.setInDevtoolsWebView(),p.inDevtoolsWebview()&&(r.globalOptions.writeExtraInfoToAttr=!0),d.initViewThread(),v.registerResizeListener(),g.initBannedListener();var I=(function(e,t,n){n&&i(e,n)}(E,0,[{key:"createVirtualTree",value:function(e,t){var n=e(s.default.getAppData(),t);return n.tag="body",function e(t){if((0,u.isString)(t)||Number(t)===t&&Number(t)%1==0)return new c.default(String(t));var n=[];return t.children.forEach((function(t){n.push(e(t))})),new a.default(t.tag,t.attr,t.n,t.wxKey,t.wxVkey,t.wxXCkey,t.extraAttr,t.wxScopeData,n,t.isStatic,t.rawHash)}(n)}},{key:"render",value:function(e){return e.render()}},{key:"diff",value:function(e,t){return e.diff(t)}},{key:"apply",value:function(e,t){return e.apply(t)}},{key:"getMergeDataFunc",value:function(){return s.default.mergeData}},{key:"startInitRender",value:function(e){n._checkDeviceWidth(!0),(this.customComponentMode=e)&&((0,d.runComponentDef)(),f.default.instance.operationFlow.unblock())}}]),E);function E(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,E)}I.customComponentMode=!1,I.CustomComponent=d.CustomComponent,I.Component=d.Component,I.Page=d.Page,I.Behavior=d.Behavior,I.convertComponentAliasToRoute=b.convertComponentAliasToRoute,I.convertRouteToComponentAlias=b.convertRouteToComponentAlias,I.getNodeById=d.getNodeById,I.addView=d.addView,I.removeView=d.removeView,I.attachView=d.attachView,I.restoreView=d.restoreView,I.getNodeId=d.getNodeId,I.getRootNodeId=d.getRootNodeId,I.scheduleIntersectionUpdate=h.scheduleIntersectionUpdate,I.addIntersectionObserver=h.addIntersectionObserver,I.removeIntersectionObserver=h.removeIntersectionObserver,I.callSavedLifeTimes=_.default.callSavedLifeTimes,I.callRestoredLifeTimes=_.default.callRestoredLifeTimes,I.getComponentCount=l.getComponentCount,I.publishDomainComponents=d.publishDomainComponents,I.getPluginRoutePrefix=b.getPluginRoutePrefix,I.spreadScopeDataToDOMNode=y.spreadScopeDataToDOMNode,I.setEventHandlerChangeListener=m.setEventHandlerChangeListener,I.buildComponentVirtualTree=w.buildVirtualTree,I.initBannedMap=g.initBannedMap,p.isDataThread()&&(S(),O()),e.exports=I},function(e,t,n){var o;function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),c=n(10),s=n(25),u=(o=n(16))&&o.__esModule?o:{default:o};n(0);var l=(function(e,t,n){t&&i(e.prototype,t)}(f,[{key:"render",value:function(){var e=null;if("virtual"!==this.tagName)e=r.createElement(this.tagName);else{var t="virtual";1===this.wxXCkey||3===this.wxXCkey?t="wx:if":2!==this.wxXCkey&&4!==this.wxXCkey||(t="wx:for"),(e=r.VirtualNode.create(t)).__wxVkey__=this.wxVkey}if(this.extraAttr)for(var n in this.extraAttr)e.setAttribute(n,this.extraAttr[n]);return void 0!==this.wxScopeData&&(e.__wxScopeData__=this.wxScopeData),c.applyProperties(e,this.props),this.children.forEach((function(t){var n=t.render();e.appendChild(n)})),this.elm=e,e}},{key:"diff",value:function(e){return(0,s.diff)(this,e)}}]),f);function f(e,t,n,r,o,i,c,s,l,d,p){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),this.tagName=e||"div",this.props=t||{},this.children=l||[],this.newProps=n||[],this.extraAttr=c,this.wxScopeData=s,this.wxVkey=o,this.wxXCkey=i,this.isStatic=!!d,this.rawHash=p||"",this.elm=void 0,a.isUndefined(r)||a.isNull(r)?this.wxKey=void 0:this.wxKey=String(r);for(var h=this.descendants=0;h<this.children.length;++h){var v=this.children[h];(0,a.isVirtualNode)(v)?this.descendants+=v.descendants:(0,a.isString)(v)?this.children[h]=new u.default(v):(0,a.isVirtualText)(v)||console.log("invalid child",e,t,l,v),++this.descendants}}l.prototype.type="WxVirtualNode",t.default=l},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=(function(e,t,n){t&&o(e.prototype,t)}(c,[{key:"getAll",value:function(){return this._idNodeMap}},{key:"getNodeById",value:function(e){return this._idNodeMap[e]}},{key:"getNodeId",value:function(e){return e.__wxTmplId}},{key:"allocNodeId",value:function(e,t){var n=t||(0,i.guid)();return e.__wxTmplId=n,this._idNodeMap[e.__wxTmplId]=e,n}},{key:"addNode",value:function(){}},{key:"removeNode",value:function(e){if(e.__wxTmplId&&delete this._idNodeMap[e.__wxTmplId],e.childNodes)for(var t=0;t<e.childNodes.length;t++)this.removeNode(e.childNodes[t]);e.shadowRoot instanceof r.Element&&this.removeNode(e.shadowRoot)}}]),c);function c(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this._idNodeMap={}}t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectByPath=t.parsePath=void 0;var r=n(2);t.parsePath=function(e){for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,c=0;c<t;c++){var s=e[c];if("\\"===s)c+1<t&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1])?(r+=e[c+1],c++):r+="\\";else if("."===s)r&&(n.push(r),r="");else if("["===s){if(r&&(n.push(r),r=""),0===n.length)throw new Error("path can not start with []: ".concat(e));i=!(a=!0)}else if("]"===s){if(!i)throw new Error("must have number in []: ".concat(e));a=!1,n.push(o),o=0}else if(a){if(s<"0"||"9"<s)throw new Error("only number 0-9 could inside []: ".concat(e));i=!0,o=10*o+s.charCodeAt(0)-48}else r+=s}if(r&&n.push(r),0===n.length)throw new Error("path can not be empty");return n},t.getObjectByPath=function(e,t,n){for(var o=void 0,i=void 0,a=e,c=!1,s=0;s<t.length;s++)Number(t[s])===t[s]&&t[s]%1==0?"Array"!==(0,r.getDataType)(a)&&(a=n&&!c?(c=!0,o[i]={__value__:[],__wxspec__:!0},o[i].__value__):(o[i]=[],o[i])):"Object"!==(0,r.getDataType)(a)&&(a=n&&!c?(c=!0,o[i]={__value__:{},__wxspec__:!0},o[i].__value__):(o[i]={},o[i])),i=t[s],(a=(o=a)[t[s]])&&a.__wxspec__&&(a=a.__value__,c=!0);return{obj:o,key:i,changed:c}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.appendPatch=t.diffProps=t.diffChildren=t.diffNode=t.diff=void 0;var r=c(n(26)),o=c(n(27)),i=n(2),a=(n(28),n(0));function c(e){return(null==e?void 0:e.__esModule)?e:{default:e}}t.diff=function(e,t){var n={};return s(e,t,n,0),new o.default(e,n)};var s=t.diffNode=function(e,t,n,o){if(e!==t){var c=n[o];if(null==t)c=f(c,new r.default(a.PATCH_TYPE.REMOVE,e));else if(i.isVirtualNode(t))if(i.isVirtualNode(e))if(e.tagName===t.tagName&&e.wxKey===t.wxKey){if(e.isStatic&&t.isStatic&&e.rawHash==e.rawHash)return void(t.elm=e.elm);if("virtual"===e.tagName&&e.wxVkey!==t.wxVkey)c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else{var s=l(t.props,t.newProps);s&&(c=f(c,new r.default(a.PATCH_TYPE.PROPS,e,s))),void 0!==t.wxScopeData&&(c=f(c,new r.default(a.PATCH_TYPE.EXTRA_DATA,e,{__wxScopeData__:t.wxScopeData}))),c=u(e,t,n,c,o),t.elm=e.elm}}else c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else{if(!i.isVirtualText(t))throw console.log("unknow node type",e,t),{message:"unknow node type",node:t};t.text!==e.text&&(c=f(c,new r.default(a.PATCH_TYPE.TEXT,e,t)),t.elm=e.elm)}c&&(n[o]=c)}},u=t.diffChildren=function(e,t,n,o,c){for(var u,l,y,_,b,m=e.children.slice(0),w=t.children,S=0,O=0,C=m.length-1,I=w.length-1,E=m[0],T=w[0],k=m[C],A=w[I],x=[],P=c,j=0;j<=C;j++)x.push(++P),b=m[j],i.isVirtualNode(b)&&(P+=b.descendants);for(;S<=C&&O<=I;)p(m[S])?E=m[++S]:p(m[C])?k=m[--C]:h(E,T)?(s(E,T,n,x[S]),E=m[++S],T=w[++O]):h(k,A)?(s(k,A,n,x[C]),k=m[--C],A=w[--I]):(p(l)&&(l=v(w,O,I)),p(d(E.wxKey)?l[E.wxKey]:g(E,w,O,I))?(o=f(o,new r.default(a.PATCH_TYPE.REMOVE_CHILD,E)),E=m[++S]):(p(u)&&(u=v(m,S,C)),p(y=(y=d(T.wxKey)?u[T.wxKey]:g(T,m,S,C))>=S?y:void 0)?o=f(o,new r.default(a.PATCH_TYPE.INSERTBEFORE,T,E)):h(_=m[y],T)?(s(_,T,n,x[y]),m[y]=void 0,d(T.wxKey)&&(u[T.wxKey]=void 0),o=f(o,new r.default(a.PATCH_TYPE.REMOVE_AND_INSERTBEFORE,_,E))):o=f(o,new r.default(a.PATCH_TYPE.INSERTBEFORE,T,E)),T=w[++O]));return S>C?o=function(e,t,n,o,i){for(;t<=n;++t)i=f(i,new r.default(a.PATCH_TYPE.INSERTBEFORE,e[t],o));return i}(w,O,I,p(w[I+1])?null:w[I+1],o):O>I&&(o=function(e,t,n,o){for(;t<=n;++t){var i=e[t];d(i)&&(o=f(o,new r.default(a.PATCH_TYPE.REMOVE_CHILD,i)))}return o}(m,S,C,o)),o},l=t.diffProps=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];n[o]=e[o]}return(0,i.isEmptyObject)(n)?void 0:n},f=t.appendPatch=function(e,t){return e?(e.push(t),e):[t]};function d(e){return null!=e}function p(e){return null==e}function h(e,t){return e.wxKey===t.wxKey&&e.tagName===t.tagName&&!("virtual"===e.tag&&e.wxVkey!==t.wxVkey)}function v(e,t,n){var r,o,i={},a={};for(r=t;r<=n;++r)d(o=e[r].wxKey)&&(p(i[o])?a[o]||(i[o]=r):(console.warn("For developer:Do not set same key {".concat(o,"} in qq:key.")),a[o]=!0,delete i[o]));return i}function g(e,t,n,r){for(var o=n;o<r;o++){var i=t[o];if(d(i)&&h(e,i))return o}}},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=n(0),a=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(c,[{key:"apply",value:function(e){switch(this.type){case i.PATCH_TYPE.TEXT:return c.stringPatch(e,this.patch);case i.PATCH_TYPE.VNODE:return c.vNodePatch(e,this.patch);case i.PATCH_TYPE.PROPS:return c.applyProperties(e,this.patch,this.vNode.props);case i.PATCH_TYPE.EXTRA_DATA:return c.setExtraData(e,this.patch);case i.PATCH_TYPE.REORDER:return c.reorderChildren(e,this.patch);case i.PATCH_TYPE.INSERT:return c.insertNode(e,this.patch,this.vNode);case i.PATCH_TYPE.REMOVE:return c.removeNode(e);case i.PATCH_TYPE.INSERTBEFORE:return c.insertBefore(e,this.vNode,this.patch);case i.PATCH_TYPE.REMOVE_AND_INSERTBEFORE:return c.removeAndInsertBefore(e,this.vNode,this.patch);case i.PATCH_TYPE.REMOVE_CHILD:return c.removeChild(e,this.vNode);default:return e}}}],[{key:"stringPatch",value:function(e,t){var n=e.parentNode,r=t.render();return n&&r!==e&&n.replaceChild(r,e),r}},{key:"vNodePatch",value:function(e,t){var n=e.parentNode,r=t.render();return n&&r!==e&&n.replaceChild(r,e),r}},{key:"applyProperties",value:function(e,t,n){return o.applyProperties(e,t,n),e}},{key:"setExtraData",value:function(e,t){for(var n in t)e[n]=t[n];return e}},{key:"reorderChildren",value:function(e,t){var n=t.removes,r=t.inserts,o=e.childNodes,i={};return n.forEach((function(t){var n=o[t.index];t.key&&(i[t.key]=n),e.removeChild(n)})),r.forEach((function(t){var n=i[t.key];e.insertBefore(n,o[t.index])})),e}},{key:"insertNode",value:function(e,t){var n=t.render();return e&&e.appendChild(n),e}},{key:"removeNode",value:function(e){var t=e.parentNode;return null==t||t.removeChild(e),null}},{key:"insertBefore",value:function(e,t,n){if(e){var r=t.render();(null==n?void 0:n.elm)?e.insertBefore(r,n.elm):e.appendChild(r)}return e}},{key:"removeAndInsertBefore",value:function(e,t,n){e&&(e.removeChild(t.elm),e.insertBefore(t.elm,n.elm))}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t.elm)}}]),c);function c(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),this.type=Number(e),this.vNode=t,this.patch=n}t.default=a},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o,i,a=n(15),c=(o=s,(i=[{key:"apply",value:function(e){var t=this;if(0===this.patchIndexes.length)return e;var n=a.getDomIndex(e,this.oldTree,this.patchIndexes);return this.patchIndexes.forEach((function(e){var r=n[e];r&&t.patches[e].forEach((function(e){e.apply(r)}))})),e}}])&&r(o.prototype,i),s);function s(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.oldTree=e,this.patches=t,this.patchIndexes=Object.keys(this.patches).map((function(e){return Number(e)}))}t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getItemKey=t.makeKeyAndFreeIndexes=t.listDiff=void 0;var r=n(2),o=(t.listDiff=function(e,t){function n(e,t,n){return e.splice(t,1),{index:t,key:n}}var a=o(e),c=a.keyIndexes;if(a.freeIndexes,(0,r.isEmptyObject)(c))return{children:t,moves:null};var s=o(t),u=s.keyIndexes,l=s.freeIndexes;if((0,r.isEmptyObject)(u))return{children:t,moves:null};for(var f=[],d=0,p=0,h=0;h<e.length;++h){var v=e[h],g=i(v);if(g)if(u.hasOwnProperty(g)){var y=u[g];f.push(t[y])}else++p,f.push(null);else if(d<l.length){var _=l[d];f.push(t[_]),++d}else++p,f.push(null)}for(var b=l[d]||t.length,m=0;m<t.length;++m){var w=t[m];i(w)?c.hasOwnProperty(i(w))||f.push(w):b<=m&&f.push(w)}for(var S=f.slice(0),O=0,C=[],I=[],E=0;E<t.length;){for(var T=t[E],k=i(T),A=S[O],x=i(A);null===A;)C.push(n(S,O,x)),A=S[O],x=i(A);x===k?(++O,++E):k?(x?u[x]===E+1?I.push({key:k,index:E}):(C.push(n(S,O,x)),(A=S[O])&&i(A)===k?++O:I.push({key:k,index:E})):I.push({key:k,index:E}),++E):C.push(n(S,O,x))}for(;O<S.length;){var P=S[O],j=i(P);C.push(n(S,O,j))}return C.length===p&&0==I.length?{children:f,moves:null}:{children:f,moves:{removes:C,inserts:I}}},t.makeKeyAndFreeIndexes=function(e){for(var t={},n=[],r=0;r<e.length;++r){var o=e[r],c=i(o);c?t.hasOwnProperty(c)?(console.warn("For developer:Do not set same key {".concat(c,"} in wx:key.")),a(o),n.push(r)):t[c]=r:n.push(r)}return{keyIndexes:t,freeIndexes:n}}),i=t.getItemKey=function(e){if(e)return e.wxKey},a=function(e){e.wxKey=void 0}},function(e,t,n){function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(2),c=n(8),s=n(30),u=n(9),l=v(n(19)),f=n(1),d=v(n(3)),p=n(5),h=v(n(4));function v(e){return(null==e?void 0:e.__esModule)?e:{default:e}}var g=(function(e,t,n){t&&o(e.prototype,t)}(y,[{key:"render",value:function(e,t,n){var o=null;if("shadow"===this.tagName)t=o=r.ShadowRoot.create(e);else if("virtual"===this.tagName){var a="virtual";1===this.wxXCkey||3===this.wxXCkey?a="wx:if":2!==this.wxXCkey&&4!==this.wxXCkey||(a="wx:for"),o=r.VirtualNode.create(a),r.Element.setInheritSlots(o),f.isDataThread()?o.__treeManager__=n:o.__wxVkey__=this.wxVkey}else if("slot"===this.tagName)o=r.VirtualNode.create("slot"),r.Element.setSlotName(o,"");else{var s=t.tagNameUsed(this.tagName);f.isDataThread()&&!s?(o=r.VirtualNode.create(this.tagName)).__treeManager__=n:(o=t.createComponent(this.tagName,void 0,this.generics,n),(0,f.isDataThread)()&&(0,u.reportPluginNodeCreation)(o,n))}if(3!==this.wxXCkey&&4!==this.wxXCkey||(o.__wxDynamicSync__=4===this.wxXCkey?"wx:for":"wx:if"),!f.isDataThread()){if(this.extraAttr)for(var l in this.extraAttr)o.setAttribute(l,this.extraAttr[l]);void 0!==this.wxScopeData&&(o.__wxScopeData__=this.wxScopeData)}if(o.__component__)if(f.isDataThread())r.Element.getMethodCaller(o).__wxExparserNodeId__=n.nodeId.allocNodeId(o,""),n.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_CREATE_NODE,n.nodeId.getNodeId(o)]);else{if(n=d.default.instance,h.default.restoring){var v=h.default.idDataMap[n.nodeId.getNodeId(o)];r.Component.replaceWholeData(o,v,null)}else{var g=n.operationFlow.iterator.nextStep();if(g[0]!==i.SYNC_EVENT_NAME.FLOW_CREATE_NODE)throw new Error("Framework inner error (expect FLOW_CREATE_NODE but get another)");n.nodeId.allocNodeId(o,g[1])}f.inDevtoolsWebview()&&o.setAttribute("exparser:info-custom-component",o.__componentInstanceId),p.checkAndBanComponent(o),o.setAttribute("is",o.is)}return c.applyProperties(o,this.props,this.specProps),this.children.forEach((function(e){var r=e.render(null,t,n);o.appendChild(r)})),this.elm=o,o}},{key:"diff",value:function(e){return(0,s.diff)(this,e)}}]),y);function y(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),this.tagName=e||"",this.props=t.attr||{},this.specProps=t.raw||{},this.children=n||[],this.newProps=t.n||[],this.wxVkey=t.wxVkey,this.wxXCkey=t.wxXCkey,this.isStatic=!!t.isStatic,this.rawHash=t.rawHash||"",this.elm=null,this.generics=t.generics,(0,f.isDataThread)()||(this.extraAttr=t.extraAttr,this.wxScopeData=t.wxScopeData);var r=t.wxKey;(0,a.isUndefined)(r)||(0,a.isNull)(r)?this.wxKey=void 0:this.wxKey=String(r);for(var o=this.descendants=0;o<this.children.length;++o){var i=this.children[o];(0,a.isVirtualNode)(i)?this.descendants+=i.descendants:(0,a.isString)(i)?this.children[o]=new l.default(i):(0,a.isVirtualText)(i)||console.log("invalid child",e,this.props,n,i),++this.descendants}}g.prototype.type="WxVirtualNode",t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.appendPatch=t.diffProps=t.diffChildren=t.diffNode=t.diff=void 0;var r=c(n(31)),o=c(n(32)),i=n(2),a=(n(33),n(0));function c(e){return(null==e?void 0:e.__esModule)?e:{default:e}}t.diff=function(e,t){var n={};return s(e,t,n,0),new o.default(e,n)};var s=t.diffNode=function(e,t,n,o){if(e!==t){var c=n[o];if(null==t)c=f(c,new r.default(a.PATCH_TYPE.REMOVE,e));else if(i.isVirtualNode(t))if(i.isVirtualNode(e))if(e.tagName===t.tagName&&e.wxKey===t.wxKey){if(e.isStatic&&t.isStatic&&e.rawHash==e.rawHash)return void(t.elm=e.elm);if("virtual"===e.tagName&&e.wxVkey!==t.wxVkey)c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else{var s=l(t.props,t.newProps);s&&(c=f(c,new r.default(a.PATCH_TYPE.PROPS,e,s,t))),void 0!==t.wxScopeData&&(c=f(c,new r.default(a.PATCH_TYPE.EXTRA_DATA,e,{__wxScopeData__:t.wxScopeData}))),c=u(e,t,n,c,o),t.elm=e.elm}}else c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else c=f(c,new r.default(a.PATCH_TYPE.VNODE,e,t));else{if(!i.isVirtualText(t))throw console.log("unknow node type",e,t),{message:"unknow node type",node:t};t.text!==e.text&&(c=f(c,new r.default(a.PATCH_TYPE.TEXT,e,t)),t.elm=e.elm)}c&&(n[o]=c)}},u=t.diffChildren=function(e,t,n,o,c){for(var u,l,y,_,b,m=e.children.slice(0),w=t.children,S=0,O=0,C=m.length-1,I=w.length-1,E=m[0],T=w[0],k=m[C],A=w[I],x=[],P=c,j=0;j<=C;j++)x.push(++P),b=m[j],i.isVirtualNode(b)&&(P+=b.descendants);for(;S<=C&&O<=I;)p(m[S])?E=m[++S]:p(m[C])?k=m[--C]:h(E,T)?(s(E,T,n,x[S]),E=m[++S],T=w[++O]):h(k,A)?(s(k,A,n,x[C]),k=m[--C],A=w[--I]):(p(l)&&(l=v(w,O,I)),p(d(E.wxKey)?l[E.wxKey]:g(E,w,O,I))?(o=f(o,new r.default(a.PATCH_TYPE.REMOVE_CHILD,E)),E=m[++S]):(p(u)&&(u=v(m,S,C)),p(y=(y=d(T.wxKey)?u[T.wxKey]:g(T,m,S,C))>=S?y:void 0)?o=f(o,new r.default(a.PATCH_TYPE.INSERTBEFORE,T,E)):h(_=m[y],T)?(s(_,T,n,x[y]),m[y]=void 0,d(T.wxKey)&&(u[T.wxKey]=void 0),o=f(o,new r.default(a.PATCH_TYPE.REMOVE_AND_INSERTBEFORE,_,E))):o=f(o,new r.default(a.PATCH_TYPE.INSERTBEFORE,T,E)),T=w[++O]));return S>C?o=function(e,t,n,o,i){for(;t<=n;++t)i=f(i,new r.default(a.PATCH_TYPE.INSERTBEFORE,e[t],o));return i}(w,O,I,p(w[I+1])?null:w[I+1],o):O>I&&(o=function(e,t,n,o){for(;t<=n;++t){var i=e[t];d(i)&&(o=f(o,new r.default(a.PATCH_TYPE.REMOVE_CHILD,i)))}return o}(m,S,C,o)),o},l=t.diffProps=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];n[o]=e[o]}return(0,i.isEmptyObject)(n)?void 0:n},f=t.appendPatch=function(e,t){return e?(e.push(t),e):[t]};function d(e){return null!=e}function p(e){return null==e}function h(e,t){return e.wxKey===t.wxKey&&e.tagName===t.tagName&&!("virtual"===e.tag&&e.wxVkey!==t.wxVkey)}function v(e,t,n){var r,o,i={},a={};for(r=t;r<=n;++r)d(o=e[r].wxKey)&&(p(i[o])?a[o]||(i[o]=r):(console.warn("For developer:Do not set same key {".concat(o,"} in qq:key.")),a[o]=!0,delete i[o]));return i}function g(e,t,n,r){for(var o=n;o<r;o++){var i=t[o];if(d(i)&&h(e,i))return o}}},function(e,t,n){var r;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(8),c=(r=n(3))&&r.__esModule?r:{default:r},s=n(1),u=n(5);function l(e){if(s.isDataThread())e.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_MINIPULATE_CHILD]);else if(e.operationFlow.iterator.nextStep()[0]!==i.SYNC_EVENT_NAME.FLOW_MINIPULATE_CHILD)throw new Error("Framework inner error (expect FLOW_MINIPULATE_CHILD but get another)")}var f=(function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(d,[{key:"apply",value:function(e){switch(this.type){case i.PATCH_TYPE.TEXT:return d.stringPatch(e,this.patch);case i.PATCH_TYPE.VNODE:return d.vNodePatch(e,this.patch);case i.PATCH_TYPE.PROPS:return d.applyProperties(e,this.patch,this.newVNode.specProps);case i.PATCH_TYPE.EXTRA_DATA:return d.setExtraData(e,this.patch);case i.PATCH_TYPE.REORDER:return d.reorderChildren(e,this.patch,this.newVNode.children);case i.PATCH_TYPE.INSERT:return d.insertNode(e,this.patch);case i.PATCH_TYPE.REMOVE:return d.removeNode(e);case i.PATCH_TYPE.INSERTBEFORE:return d.insertBefore(e,this.vNode,this.patch);case i.PATCH_TYPE.REMOVE_AND_INSERTBEFORE:return d.removeAndInsertBefore(e,this.vNode,this.patch);case i.PATCH_TYPE.REMOVE_CHILD:return d.removeChild(e,this.vNode);default:return e}}}],[{key:"stringPatch",value:function(e,t){var n=e.parentNode,r=t.render();return n&&r!==e&&n.replaceChild(r,e),e.__banned&&(0,u.banNode)(r),r}},{key:"vNodePatch",value:function(e,t){var n=s.isDataThread()?e.__treeManager__:c.default.instance,r=e.parentNode,o=t.render(null,r.ownerShadowRoot,n);return r&&o!==e&&("wx:for"===r.__wxDynamicSync__||"wx:if"===e.__wxDynamicSync__?(n.nodeId.addNode(o),r.replaceChild(o,e),l(n),n.nodeId.removeNode(e)):r.replaceChild(o,e),e.__banned&&u.banNode(o)),o}},{key:"applyProperties",value:function(e,t,n){return a.applyProperties(e,t,n),e}},{key:"setExtraData",value:function(e,t){for(var n in t)e[n]=t[n];return e}},{key:"reorderChildren",value:function(e,t,n){var r=(0,s.isDataThread)()?e.__treeManager__:c.default.instance,o=t.removes,i=t.inserts,a=e.childNodes,f=[];return i.forEach((function(e){f.push({node:void 0!==e.oldIndex?a[e.oldIndex]:null,before:0<=e.pos?a[e.pos]:void 0,index:e.index})})),o.forEach((function(t){var n=a[t];e.removeChild(n),"wx:for"===e.__wxDynamicSync__&&(l(r),r.nodeId.removeNode(n))})),f.forEach((function(t){var o=t.node,i=t.before,a=t.index;null===o&&(o=n[a].render(null,e.ownerShadowRoot,r)),"wx:for"===e.__wxDynamicSync__?(r.nodeId.addNode(o),e.insertBefore(o,i),l(r)):e.insertBefore(o,i)})),e.__banned&&u.banNode(e),e}},{key:"insertNode",value:function(e,t){var n=(0,s.isDataThread)()?e.__treeManager__:c.default.instance,r=t.render(null,e.ownerShadowRoot,n);return e&&("wx:for"===e.__wxDynamicSync__||"wx:if"===r.__wxDynamicSync__?(n.nodeId.addNode(r),e.appendChild(r),l(n)):e.appendChild(r)),e.__banned&&(0,u.banNode)(r),e}},{key:"removeNode",value:function(e){var t=(0,s.isDataThread)()?e.__treeManager__:c.default.instance,n=e.parentNode;return n&&(n.removeChild(e),"wx:for"!==n.__wxDynamicSync__&&"wx:if"!==e.__wxDynamicSync__||(l(t),t.nodeId.removeNode(e))),null}},{key:"insertBefore",value:function(e,t,n){var r=(0,s.isDataThread)()?e.__treeManager__:c.default.instance;if(e){var o=t.render(null,e.ownerShadowRoot,r);"wx:for"===e.__wxDynamicSync__||"wx:if"===o.__wxDynamicSync__?(r.nodeId.addNode(o),(null==n?void 0:n.elm)?e.insertBefore(o,n.elm):e.appendChild(o),l(r)):(null==n?void 0:n.elm)?e.insertBefore(o,n.elm):e.appendChild(o),e.__banned&&u.banNode(o)}return e}},{key:"removeAndInsertBefore",value:function(e,t,n){var r=(0,s.isDataThread)()?e.__treeManager__:c.default.instance;return e&&(e.removeChild(t.elm),"wx:for"===e.__wxDynamicSync__&&(l(r),r.nodeId.removeNode(t)),"wx:for"===e.__wxDynamicSync__?(r.nodeId.addNode(t),e.insertBefore(t.elm,n.elm),l(r)):e.insertBefore(t.elm,n.elm),e.__banned&&u.banNode(t)),e}},{key:"removeChild",value:function(e,t){var n=(0,s.isDataThread)()?e.__treeManager__:c.default.instance;return e&&(e.removeChild(t.elm),"wx:for"===e.__wxDynamicSync__&&(l(n),n.nodeId.removeNode(t))),e}}]),d);function d(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),this.type=Number(e),this.vNode=t,this.patch=n,this.newVNode=r}t.default=f},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),i=(function(e,t,n){t&&r(e.prototype,t)}(a,[{key:"apply",value:function(e){var t=this;if(0===this.patchIndexes.length)return e;var n=(0,o.getDomIndex)(e,this.oldTree,this.patchIndexes);return this.patchIndexes.forEach((function(e){var r=n[e];r&&t.patches[e].forEach((function(e){e.apply(r)}))})),e}}]),a);function a(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.oldTree=e,this.patches=t,this.patchIndexes=Object.keys(this.patches).map((function(e){return Number(e)}))}t.default=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty,r=(t.listDiff=function(e,t){for(var i=r(e).keyIndexes,a=r(t),c=a.keyIndexes,s=a.freeIndexes,u=[],l=[],f=[],d=0,p=0,h=0;h<e.length;++h){var v=e[h],g=o(v);if(g)if(n.call(c,g)){var y=c[g];u.push(t[y])}else l.push(h-p),++p,u.push(null);else if(d<s.length){var _=s[d];u.push(t[_]),++d}else l.push(h-p),++p,u.push(null)}for(var b=u,m=0,w=[],S=0;S<t.length;){for(var O=t[S],C=o(O),I=b[m],E=o(I);null===I;)I=b[++m],E=o(I);m>=b.length?(f.push({oldIndex:i[C],index:S,pos:-1}),++m,++S):E===C?(w.push(m),++m,++S):C?(E?c[E]===S+1?f.push({oldIndex:i[C],index:S,pos:m}):(I=b[++m])&&o(I)===C?(w.push(m),++m):(--m,f.push({oldIndex:i[C],index:S,pos:m})):f.push({oldIndex:i[C],index:S,pos:m}),++S):++m}for(var T=0,k=0;k<f.length;k++){var A=f[k].pos;if(-1===A)break;for(;T<w.length&&A>w[T];)T++;T>=w.length?f[k].pos=-1:f[k].pos=w[T]}return{children:u,moves:{removes:l,inserts:f}}},t.makeKeyAndFreeIndexes=function(e){for(var t={},r=[],a=0;a<e.length;++a){var c=e[a],s=o(c);s?n.call(t,s)?(console.warn('For developer:Do not set same key "'.concat(s,'" in wx:key.')),i(c),r.push(a)):t[s]=a:r.push(a)}return{keyIndexes:t,freeIndexes:r}}),o=t.getItemKey=function(e){if(e)return e.wxKey},i=function(e){e.wxKey=void 0}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},i=Object.prototype.hasOwnProperty,a=r.dataUtils.deepCopy;t.mergeData=function(e,t,n,r){for(var c=0;c<t.length;c++){for(var s=t[c],u=s[0],l=s[1],f=e,d=u[0],p=1;p<u.length;p++){var h=u[p];"number"==typeof h&&isFinite(h)?i.call(f,d)&&f[d]instanceof Array||(f[d]=[]):(!i.call(f,d)||null===f[d]||"object"!==o(f[d])||f[d]instanceof Array)&&(f[d]={}),f=f[d],d=h}var v=f[d];f[d]=r?a(l):l,n[c]=[f[d],v]}},t.mergeDataWithSpec=function(e,t,n,r,c){for(var s=c?a(e):e,u=0;u<t.length;u++){for(var l=t[u],f=l[0],d=l[1],p=l[2],h=s,v=f[0],g=1;g<f.length;g++)if(null!=(h=h[v])&&h.__wxspec__&&(h=h.__value__),v=f[g],null!=h&&!i.call(h,v)){h=null;break}null!=h&&i.call(h,v)&&(n?null!=p&&"object"===(void 0===d?"undefined":o(d))&&d instanceof Array==p instanceof Array?h[v]={__value__:p,__wxspec__:!0}:null!=h[v]&&h[v].__wxspec__||(h[v]={__value__:h[v],__wxspec__:!0}):h[v]=r?a(d,!1):d)}return s}},function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.restoreView=t.saveView=void 0;var o=n(0),i=n(1),a=n(2),c=(r=n(3))&&r.__esModule?r:{default:r},s=Date.now();t.saveView=function(e,t){var n=c.default.get(e);n&&(n.statesData=t,n.tabRoot&&a.dfsComponents(n.tabRoot,1,(function(e){e.triggerLifeTime("saved")})),a.dfsComponents(n.root,1,(function(e){e.triggerLifeTime("saved")})),i.sendData(o.SYNC_EVENT_NAME.SAVE_STATE,[],e))},t.restoreView=function(e){var t=c.default.get(e);if(t){var n=t.nodeId.getAll(),r={},u=[],l=function(e){var o=t.nodeId.getNodeId(e);u.push(o),r[o]=n[o].data};t.tabRoot&&!t.tabDestroyed&&a.dfsComponents(t.tabRoot,1,l),a.dfsComponents(t.root,1,l);var f=[t.statesData||{},r,u],d=JSON.stringify(f),p=d.length;if(349184<p){for(var h=[],v=0;v<p;)h.push(d.substr(v,349184)),v+=349184;for(var g=++s,y=0,_=h.length;y<_;y++)i.sendData(o.SYNC_EVENT_NAME.RESTORE_STATE,[{isSplitData:!0,splitInfo:{id:g,index:y+1,total:_,data:h[y]}}],e)}else i.sendData(o.SYNC_EVENT_NAME.RESTORE_STATE,f,e);if(t.statesData=void 0,!t.tabDestroyed&&t.tabRoot){i.sendData(o.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,t.tabUsedDef,e);var b=t.tabRoot;t.operationFlow.start(),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_CREATE_TAB,b.is,t.nodeId.getNodeId(b)]),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_CREATE_TAB]),t.operationFlow.end()}i.sendData(o.SYNC_EVENT_NAME.COMPONENT_DEF,t.usedDef,e);var m=t.root;t.operationFlow.start(),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION,m.is,t.nodeId.getNodeId(m)]),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION]),t.operationFlow.end(),t.tabRoot&&(0,a.dfsComponents)(t.tabRoot,1,(function(e){e.triggerLifeTime("restored")})),a.dfsComponents(t.root,1,(function(e){e.triggerLifeTime("restored")}))}}},function(e,t,n){function o(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function i(e,t){var n={left:e.left<t.left?t.left:e.left,top:e.top<t.top?t.top:e.top,right:e.right>t.right?t.right:e.right,bottom:e.bottom>t.bottom?t.bottom:e.bottom,width:0,height:0};return n.right>n.left?n.width=n.right-n.left:n.right=n.left=n.bottom=n.top=0,n.bottom>n.top?n.height=n.bottom-n.top:n.right=n.left=n.bottom=n.top=0,n}function a(e){var t=e.targetNode,n=e.relatives,r=e.thresholds,a=e.minWidthOrHeight,c=e.cb,s=e.currentRatio,u=function(e){for(var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,r=null,o=0;o<e.length;o++){var a=e[o],c=a.node,s=a.margins,u=c?c.$$.getBoundingClientRect():{left:0,top:0,right:t,bottom:n,width:t,height:n},l={left:u.left-s.left,top:u.top-s.top,right:u.right+s.right,bottom:u.bottom+s.bottom};r=r?i(r,l):l}return r}(n),l=o(t.$$.getBoundingClientRect());l.right-l.left<a&&(l.right=l.left+a,l.width=a),l.bottom-l.top<a&&(l.bottom=l.top+a,l.height=a);var f=i(u,l),d=l.width*l.height,p=d?f.width*f.height/d:0;e.currentRatio=p;var h=void 0===s;p!==s&&r.forEach((function(e){if(h)return!1;(p<=e&&e<=s||e<=p&&s<=e)&&(h=!0)})),h&&c.call(t,{id:t.id,dataset:t.dataset,time:Date.now(),boundingClientRect:l,intersectionRatio:p,intersectionRect:o(f),relativeRect:u})}Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIntersectionUpdate=t.removeIntersectionObserver=t.addIntersectionObserver=void 0;var c=n(2),s={},u={},l={},f=n(1),d=(t.addIntersectionObserver=function(e,t,n,o,i){var f=null;if((o=o||{}).observeAll)f=e.querySelectorAll(t);else{var d=e.querySelector(t);f=d?[d]:[]}f.length||console.warn('For developer:Node "'.concat(t,'" is not found. Intersection observer will not trigger.'));var p=[];return n.forEach((function(t){var n=t.selector,r=t.margins,o=null==n?null:e.querySelector(n);o||null==n?p.push({node:o,margins:function(e){return{left:(e=e||{}).left||0,top:e.top||0,right:e.right||0,bottom:e.bottom||0}}(r)}):console.warn('For developer:Node "'.concat(n,'" is not found. The relative node for intersection observer will be ignored.'))})),p.length||console.warn("For developer:Intersection observer will be ignored because no relative nodes are found."),function(e,t,n,o,i,f){var d=(0,c.guid)();if(!e.length||!t.length)return d;var p=e.length;return l[d]=p,e.forEach((function(e,c){var h="".concat(d,"#").concat(c),v={targetNode:e,relatives:t,thresholds:n,currentRatio:o,minWidthOrHeight:i,cb:f},g=r.Observer.create((function(e){"attached"===e.status?(s[h]=v,requestAnimationFrame((function(){a(v)}))):"detached"===e.status&&(delete s[h],g.disconnect(),delete u[h],--p||delete l[d])}));(u[h]=g).observe(e,{attachStatus:!0}),r.Element.isAttached(e)&&(s[h]=v,requestAnimationFrame((function(){a(v)})))})),d}(f,p,o.thresholds||[0],o.initialRatio||0,o.minWidthOrHeight||0,i)},t.removeIntersectionObserver=function(e){var t=l[e];delete l[e];for(var n=0;n<t;n++){var r="".concat(e,"#").concat(n),o=u[r];if(!o)break;delete s[r],o.disconnect(),delete u[r]}},!1),p=t.scheduleIntersectionUpdate=function(){d||(d=!0,requestAnimationFrame((function(){d=!1,function(){for(var e in s)a(s[e])}()})))};f.isDataThread()||"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("pageReRender",(function(){p()})),window.addEventListener("scroll",(function(){p()}),{capture:!0,passive:!0}))},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.spreadScopeDataToDOMNode=function(){!function e(t,n){if(t instanceof r.Element){void 0!==t.__wxScopeData__&&(n=t.__wxScopeData__),void 0!==n&&t instanceof r.Component&&t.setAttribute("wx:scope-data",JSON.stringify(n));var o=!1;t instanceof r.Component&&!(t.shadowRoot instanceof r.Element)&&(o=!0);for(var i=o?t.childNodes:t.__wxSlotChildren,a=0;a<i.length;a++)e(i[a],n)}}(window.__DOMTree__,void 0)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}e.exports=function(){r.registerBehavior({is:"wx://form-field",properties:{name:{type:String,public:!0},value:{type:null,public:!0}}}),r.registerBehavior({is:"wx://style-filter"}),r.registerBehavior({is:"wx://request-filter"}),r.registerBehavior({is:"wx://request-sender"}),r.registerBehavior({is:"wx://component-export",definitionFilter:function(e){"function"==typeof e.export&&("object"===n(e.methods)?e.methods.__export__=e.export:e.methods={__export__:e.export})}})}},function(e,t,n){var r=n(17);e.exports=function(){var e={domain:"//",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1};["functional-page","open-api-redirecting-page"].forEach((function(t){(0,r.Component)({options:e,properties:{}},"//",function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"wx://".concat(t,".json"),{usingComponents:{}}),"wx://".concat(t,".js"))}))}}]),i=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._selectorQuery=t,this.boundingClientRect=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{id:!0,dataset:!0,rect:!0,size:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.context=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{context:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.fields=function(e,t){return this._selectorQuery.push({component:n,selector:r,single:o,fields:e}),this._selectorQuery.pushCb(t),this._selectorQuery},this.node=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{node:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.scrollOffset=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{scrollOffset:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery}},o="devtools"===__qqConfig.platform,i=0,a={};__safeway__.bridge.subscribe("flutterCustomComponentResponseComponentInfo",(function(e){var t,n=(t=o&&e.data?e.data:e).componentId,r=t.data.reqId;if(n){var i=null==a?void 0:a[r];"function"==typeof i&&(i(t.data.res),delete a[r])}}));var c=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._queue=[],this._cbQueue=[],this._webviewId=getCurrentPages()[0].__wxWebviewId__,this.push=function(e){this._queue.push(e)},this.pushCb=function(e){this._cbQueue.push(e)},this.in=function(e){return this._webviewId!==getCurrentPages()[0].__wxWebviewId__&&console.log("SelectorQuery could not work in components in different pages."),this},this.select=function(e){return new r(this,t.componentId,e,!0)},this.selectAll=function(e){return new r(this,t.componentId,e,!1)},this.exec=function(e){!function(e,t){var n=i+=1;if(0!==e.length){a[n]=t;var r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__;__safeway__.bridge.publish("flutterCustomComponentRequestComponentInfo",{data:{reqId:n,reqs:{queue:e}}},[o])}}(this._queue,function(t){this._cbQueue.map((function(e,n){"function"==typeof e&&t[n]&&e(t[n])})),"function"==typeof e&&e(t),this._queue=[],this._cbQueue=[]}.bind(this))}};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=0,l={},f="devtools"===__qqConfig.platform,d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._component=t,this._options=n,this._relativeInfo=[],this._observerId=0,this._disconnected=!1}var t,n;return t=e,(n=[{key:"relativeTo",value:function(e,t){return this._relativeInfo.push({selector:e,margins:t}),this}},{key:"relativeToViewport",value:function(e){return this._relativeInfo.push({selector:null,margins:e}),this}},{key:"observe",value:function(e,t){var n=this;return p({nodeId:this._component.componentId,options:this._options,targetSelector:e,relativeInfo:this._relativeInfo,type:"addIntersectionObserver"},(function(e){n._disconnected||(e.observerId?n._observerId=e.observerId:e.info&&t.call(n,e.info))})),this}},{key:"disconnect",value:function(){return p({observerId:this._observerId,type:"removeIntersectionObserver"}),this._disconnected=!0,this}}])&&s(t.prototype,n),e}(),p=function(e,t){var n=u+=1;if(e){t&&"function"==typeof t&&(l[n]=t);var r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__;__safeway__.bridge.publish("flutterCustomComponentRequestComponentObserver",{data:{reqId:n,req:e}},[o])}};__safeway__.bridge.subscribe("flutterCustomComponentResponseComponentObserver",(function(e){var t,n=(t=f&&e.data?e.data:e).componentId,r=t.data.reqId;if(n){var o=null==l?void 0:l[r];"function"==typeof o&&o(t.data.res),e.reqEnd&&delete l[r]}}));var h=d,v=function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object.keys(n).map((function(o){t[o]&&"[object Object]"===t[o].toString()?e(t[o],n[o],r):t[o]&&n[o]&&!r?t[o]=t[o]:t[o]=n[o]})),t};function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y,_,b={},m=v,w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.properties=t.properties||{},this.data=t.data||{},this.methods=t.methods,this.behaviors=t.behaviors,this.behaviorsLifeTimes={},this.initOutLifeTime(t),this.initProperties(),this.initBehaviors(this.behaviors)}var t,n;return t=e,(n=[{key:"initOutLifeTime",value:function(e){e.created&&(this.created=e.created),e.attached&&(this.attached=e.attached),e.ready&&(this.ready=e.ready),e.moved&&(this.moved=e.moved),e.detached&&(this.detached=e.detached)}},{key:"initProperties",value:function(){var e=this;Object.keys(this.properties).map((function(t){var n=e.properties[t].observer;e.properties[t]=n&&"function"==typeof n?{value:e._initPropertyValue(e.properties[t]),observer:n}:e._initPropertyValue(e.properties[t])}))}},{key:"initBehaviors",value:function(e){var t=this;Array.isArray(e)&&(e.reverse(),null==e||e.map((function(e){var n=b[e];"[object Object]"===Object.prototype.toString.call(n)&&(n.behaviorsLifeTimes&&(t.behaviorsLifeTimes=_extends({},t.behaviorsLifeTimes,n.behaviorsLifeTimes)),n.methods&&(t.methods=_extends({},n.methods,t.methods)),t.behaviorsLifeTimes[e]={created:n.created||function(){},attached:n.attached||function(){},ready:n.ready||function(){},moved:n.moved||function(){},detached:n.detached||function(){}},n.data&&m(t.data,n.data,!1),n.properties&&(t.properties=_extends({},n.properties,t.properties)))})))}},{key:"_initPropertyValue",value:function(e){return void 0!==e.value?e=e.value:e.type&&"function"==typeof e.type?e=e.type():"function"==typeof e&&(e=e()),e}}])&&g(t.prototype,n),e}();function S(e){return(S="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.show="show",e.hide="hide"}(y||(y={})),function(e){e.created="created",e.attached="attached",e.ready="ready",e.moved="moved",e.detached="detached"}(_||(_={}));var k="devtools"===__qqConfig.platform,A={},x={},P={},j={},N=0,D={},R=v,M=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,t)).componentId="",n.componentAlias=e,n.pageLifetimes=t.pageLifetimes,n.lifetimes=t.lifetimes,j[e]=_extends({},n.properties),_extends(E(n),n.methods),n.props=n.properties,n.behavior={data:n.data},n.properties=_extends({},n.properties,n.data),n.data=_extends({},n.data,n.properties),n}return t=o,(n=[{key:"createObserver",value:function(){var e=this,t={},n=j[this.componentAlias];return Object.keys(n).map((function(r){if(n[r]&&n[r].observer&&"function"==typeof n[r].observer){var o=n[r].value;Object.defineProperty(t,r,{enumerable:!0,get:function(){return o},set:function(t){o=t,n[r].observer.apply(e,[t])}})}else t[r]=n[r]})),t}},{key:"setData",value:function(e,t){var n=this,r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__,i=N++;t&&(D[i]=t),Object.keys(e).map((function(t){if(t.indexOf(".")){var r=function e(t,n){var r=t.split("."),o={};return o[r[r.length-1]]=n,r.pop(),-1===t.indexOf(".")?o:e(r.join("."),o)}(t,e[t]);R(n.data,r),R(n.properties,r)}else _extends(n.data,e),_extends(n.properties,e)})),__safeway__.bridge.publish("flutterCustomComponentSetData",{data:{componentId:this.componentId,data:e,callbackId:i}},[o])}},{key:"triggerEvent",value:function(e,t,n){var r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__;__safeway__.bridge.publish("flutterCustomComponentTriggerEvent",{data:{componentId:this.componentId,data:{eventName:e,data:{detail:t,option:n}}}},[o])}},{key:"createSelectorQuery",value:function(){return new c(this)}},{key:"createIntersectionObserver",value:function(e){return new h(this,e)}}])&&O(t.prototype,n),o}(w);__safeway__.bridge.subscribe("flutterCustomComponentRegister",(function(e){var t=k&&e.data?e.data:e,n=t.componentId,r=t.componentPath;if(A[r]){x[n]=Object.create(A[r],{componentId:{value:n}});var o=x[n],i=o.createObserver.apply(o),a=new WeakMap;a.set(o,i),P[n]=a,Object.keys(i).map((function(e){o.data[e]=i[e],o.properties[e]=i[e]}))}})),__safeway__.bridge.subscribe("flutterCustomComponentTriggerPageLifetimes",(function(e){var t=k&&e.data?e.data:e,n=t.componentId,r=t.pageLifetimes,o=x[n];o&&B(r,o.pageLifetimes)&&o.pageLifetimes[r].apply(o)})),__safeway__.bridge.subscribe("flutterCustomComponentTriggerLifetimes",(function(e){var t=k&&e.data?e.data:e,n=t.componentId,r=t.lifetimes,o=x[n];if(o){for(var i in o.behaviorsLifeTimes){var a=o.behaviorsLifeTimes[i];B(r,a)&&a[r].apply(o)}B(r,o.lifetimes)&&o.lifetimes[r].apply(o),B(r,o)&&o[r].apply(o)}"detached"===r&&delete x[n]})),__safeway__.bridge.subscribe("flutterCustomComponentSyncPropertiesValue",(function(e){var t=k&&e.data?e.data:e,n=t.componentId,r=t.properties,o=x[n];if(o){var i=_extends({},o.data,r);o.data=i,o.properties=i,Object.keys(o.properties).map((function(e){r[e]&&(P[n].get(o)[e]=r[e])}))}})),__safeway__.bridge.subscribe("flutterCustomComponentTriggerEvent",(function(e){var t,n=(t=k&&e.data?e.data:e).componentId,r=t.data,o=x[n];if(o&&o.methods){var i=o.methods[r.eventName];i&&"function"==typeof i?i.apply(o,[r.data]):console.warn('Component "'.concat(o.componentAlias,'" does not have a method "').concat(r.eventName,'" to handle event'))}})),__safeway__.bridge.subscribe("flutterCustomComponentSetDataCallBack",(function(e){var t=e.callbackId,n=D[t];delete D[t],n&&"function"==typeof n&&n()}));var B=function(e,t){return t&&e in t&&"function"==typeof t[e]};function L(e){return(L="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return q(this,n)}}(n);function n(){return F(this,n),t.apply(this,arguments)}return n}(w);t.default={behaviorHolder:function(e){var t=new V(e),n=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyz0123456789",n="",r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n}(7);return b[n]=t,n},componentHolder:function(e,t){var n=new M(e,t);return A["/".concat(e)]=n,String(e)},__flutterComponentMap__:A}}]).default;!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),__qqConfig.platform,__qqConfig.platform,__qqConfig.platform,Object.prototype.toString;var r,o=function(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}},i=function(e,t){"function"==typeof e&&e(t)},a=function(e,t,n){__safeway__.bridge.invoke(e,t,n)},c=function(e){var t=Date.now(),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};n=_extends({},n);var c={};Object.keys(n).forEach((function(t){"function"==typeof n[t]&&(c[t]=Reporter.surroundThirdByTryCatch(n[t],"at api ".concat(e," ").concat(t," callback function")),delete n[t])}));var s={};Object.keys(r).forEach((function(t){"function"==typeof r[t]&&(s[t]=o(r[t],"at api ".concat(e," ").concat(t," callback function")),s[t]._argumentsLength=r[t].length)})),a(e,n,(function(n){n.errMsg=n.errMsg||"".concat(e,":ok");var r=0===n.errMsg.indexOf("".concat(e,":ok")),o=0===n.errMsg.indexOf("".concat(e,":cancel")),a=0===n.errMsg.indexOf("".concat(e,":fail"));if("function"==typeof s.beforeAll&&s.beforeAll(n),r){var u=function(){i(c.success,n),i(s.afterSuccess,n)};"function"==typeof s.beforeSuccess?2===s.beforeSuccess._argumentsLength?s.beforeSuccess(n,u):(s.beforeSuccess(n),u()):u()}else if(o)n.errMsg=n.errMsg.replace("".concat(e,":cancel"),"".concat(e,":fail cancel")),i(c.fail,n),i(s.beforeCancel,n),i(c.cancel,n),i(s.afterCancel,n);else if(a){i(s.beforeFail,n),i(c.fail,n);var l=!0;"function"==typeof s.afterFail&&(l=s.afterFail(n)),!1!==l&&Reporter.reportIDKey({key:"".concat(e,"_fail")})}if("function"==typeof c.complete&&c.complete(n),"function"==typeof s.afterAll&&s.afterAll(n),"api_report"!==e){var f=Date.now();Reporter.reportJSAPI({api:e,ret:r?"ok":a?"fail":"cancel",errMsg:n.errMsg,callStartTime:t,callEndTime:f,type:"service"})}}))},s=[];function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e){return(l="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}r=function(e){var t=e.res,n=e.callbackId,r=s[n];delete s[n],null==r||r(t)},__safeway__.bridge.subscribe("callbackWebviewMethod",(function(e,t){var n=e.data,o=e.options,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=(null==o?void 0:o.timestamp)||0,c=Date.now();r(n),Reporter.speedReport({key:"webview2AppService",data:n||{},timeMark:{startTime:a,endTime:c,nativeTime:i.nativeTime||0}})})),__safeway__.bridge.subscribe("flutterExecuteWxsFunction",(function(e){var t,n,r=e.data,o=r.module,i=r.method,a=e.data.event,s=a.nodeId;!function e(t,n){Object.keys(t).forEach((function(r){if(isNaN(parseInt(r,10))){var o=n(r);t[o]=t[r],delete t[r],"object"===l(t[o])&&e(t[o],(function(e){return"nv_".concat(e)}))}else"object"===l(t[r])&&e(t[r],(function(e){return"nv_".concat(e)}))}))}(a,(function(e){return"nv_".concat(e)}));var d=getCurrentPages(),p=d[d.length-1],h=p.__wxWebviewId__,v=function(e){var t,n=_extends(e,{webviewId:h});return c("flutterWxsSelectComponentSync",{data:n},{beforeAll:function(e){e.nodeId?t=e.nodeId:e.nodeIds&&(t=e.nodeIds)}}),t},g=function(e,t,n){c("flutterCallComponentDescriptorMethod",{data:{method:e,arguments:t,nodeId:n,webviewId:h}})},y=function(e,t,n){var r;return c("flutterCallComponentDescriptorMethodSync",{data:{method:e,arguments:t,nodeId:n,webviewId:h}},{beforeAll:function(t){r=t[e]}}),r},_=function(){function e(t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.selector=t,this.nodeId=n,this}var t,n;return t=e,(n=[{key:"nv_setStyle",value:function(e){g("setStyle",e,this.nodeId)}},{key:"nv_hasClass",value:function(e){return y("hasClass",e,this.nodeId)}},{key:"nv_addClass",value:function(e){g("addClass",e,this.nodeId)}},{key:"nv_removeClass",value:function(e){g("removeClass",e,this.nodeId)}},{key:"nv_getDataset",value:function(){return y("getDataset",{},this.nodeId)}},{key:"nv_callMethod",value:function(e,t){t&&Object.keys(t).forEach((function(e){if("string"==typeof e&&e.startsWith("nv_")){var n=e.substring(3);t[n]=t[e],delete t[e]}})),m.nv_callMethod.apply(this,[e,t])}}])&&u(t.prototype,n),e}(),b={nv_selectComponent:function(e){var t=v({selectAll:!1,selector:e});return new _(e,t||"")},nv_selectAllComponents:function(e){var t=v({selectAll:!0,selector:e}),n=[];return null==t||t.forEach((function(t){n.push(new _(e,t))})),n},nv_setStyle:function(e){g("setStyle",e,s)},nv_hasClass:function(e){return y("hasClass",e,s)},nv_addClass:function(e){g("addClass",e,s)},nv_removeClass:function(e){g("removeClass",e,s)},nv_getDataset:function(){return y("getDataset",{},s)},nv_callMethod:function(e,t){p&&"function"==typeof p[e]&&p[e].apply(this,[t])}},m={nv_selectComponent:function(e){var t=v({selectAll:!1,selector:e});return new _(e,t||"")},nv_selectAllComponents:function(e){var t=v({selectAll:!0,selector:e}),n=[];return null==t||t.forEach((function(t){n.push(new _(e,t))})),n},nv_setStyle:function(e){g("setStyle",e,s)},nv_hasClass:function(e){return y("hasClass",e,s)},nv_addClass:function(e){g("addClass",e,s)},nv_removeClass:function(e){g("removeClass",e,s)},nv_getDataset:function(){return y("getDataset",{},s)},nv_callMethod:function(e,t){p&&"function"==typeof p[e]&&p[e].apply(this,[t])}};a.nv_instance=m;var w={f:f};__wxAppCode__["pages/index/index.wxml"]({},{},w);var S=null===(t=w.f)||void 0===t||null===(n=t[o])||void 0===n?void 0:n[i];if("function"==typeof S)return S(a,b)})),__safeway__.bridge.subscribe("flutterExecuteQCSCFunction",(function(e){var t=e.data,n=t.method,r=t.args,o=void 0===r?[]:r;if("undefined"==typeof qcsc||"function"!=typeof qcsc[n])return-1;var i=qcsc[n].apply(null,o);return i instanceof ArrayBuffer?WeixinNativeBuffer.new(i):ArrayBuffer.isView(i)&&i.buffer?WeixinNativeBuffer.new(i.buffer):i}))}]);var a=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,a,c){"use strict";function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}c.r(a);var f,d={},p={},h=null,v=null,g=null,y=[],_=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.showOptions={},this.hideOptions={},this.route=t,this.pageType=n||0,this.deferred=[],this.showTimeStamp=null,this.pageReadyTime=null,this.showReferpagepath="",this.isentrance=0,this.isInitialLoading=!0}return l(e,null,[{key:"setOnLaunch",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=_extends(d,n),f=t.getSystemInfoSync(),d.publicLibVersion=f.SDKVersion,e._assignForClientOnShow(d,n)}},{key:"setOnAppShow",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d=_extends(d,t),e._assignForClientOnShow(d,t)}},{key:"setOnAppHide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p=_extends(p,e)}},{key:"setEventRelatedInfo",value:function(e){h=e}},{key:"_assignForClientOnShow",value:function(e,t){e.scene_note=t.scene_note||t.sceneNote||"",e.referpagepath=t.referpagepath||"",e.usedstate=t.usedstate||t.usedState,e.prescene=t.prescene,e.prescene_note=t.prescene_note||t.presceneNote||"",e.clickTimestamp=Date.now()}},{key:"_getNetworkType",value:function(e){t.getNetworkType({success:function(t){var n=t.networkType;"none"===n&&(n="offline"),e(n)},fail:function(){e("")}})}}]),l(e,[{key:"checkShowOptions",value:function(){var e=this.showOptions;e.scene=d.scene||0,e.scene_note=d.scene_note,e.sessionid=d.sessionid||d.sessionId,e.usedstate=d.usedstate,e.referpagepath=d.referpagepath,e.clickTimestamp=d.clickTimestamp,e.prescene=d.prescene,e.prescene_note=d.prescene_note,e.apptype=Reporter.getAppType(),e.publicLibVersion=d.publicLibVersion;var t=d.query,n=[];t&&"object"===s(t)&&Object.keys(t).forEach((function(e){n.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e])))})),e.query=n.join("&")}},{key:"checkHideOptions",value:function(){var e=p,t=this.hideOptions;t.targetAction=e.targetAction||0,t.targetPagePath=e.targetPagePath||"",void 0!==e.usedstate&&(t.usedstate=e.usedstate),void 0!==e.usedState&&(t.usedstate=e.usedState)}},{key:"_checkDeferred",value:function(){for(var e=this.deferred;e.length;)e.pop()()}},{key:"_reportShowPage",value:function(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0);var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportWithWxData(e)}},{key:"_reportHidePage",value:function(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0);var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportWithWxData(e)}},{key:"_submit",value:function(){Reporter.submit(),setTimeout((function(){Reporter.submit()}),100)}},{key:"_reportWithWxData",value:function(e){var n="",r=2;if(__qqConfig){var o=__qqConfig.accountInfo,i=__qqConfig.envVersion;o&&(n=o.appId||""),"release"===i?r=1:"trial"===i&&(r=3)}if(!(y.indexOf(n)<0)){var a=[16309,f.model||"",f.brand||"",f.platform||"",f.system||"",f.language||"",n,"",r,e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,"",0,e.clickTimestamp,""].map(encodeURIComponent).join(":#:");try{t.reportPv({kv:a})}catch(e){}}}},{key:"setReadyTime",value:function(e){this.pageReadyTime=e,this._checkDeferred()}},{key:"reportShowPage",value:function(){var t=this;this._checkDeferred(),this.checkShowOptions();var n=this.route,r=this.pageType,o=this.showOptions,i=o.referpagepath||"",a=o.clickTimestamp,c=0;v&&v!==n&&(i="".concat(v,".html"),a=Date.now());var s=h;h=null;var u={anchorTargetText:"",anchorRelatedText:""};this.isInitialLoading&&s&&s.anchorTapTime&&a-s.anchorTapTime<1e3&&(u.anchorTargetText=s.anchorTargetText,u.anchorRelatedText=s.anchorRelatedText),v=n,this.showTimeStamp=Date.now(),this.showReferpagepath=i,g!==o.sessionid&&(g=o.sessionid,c=1),this.isInitialLoading=!1,this.isentrance=c,e._getNetworkType((function(e){var s=_extends({},o,u,{event_id:1,pagepath:"".concat(n,".html"),networktype:e,staytime:0,referpagepath:i,targetAction:0,targetPagePath:"",isentrance:c,pagetype:r,clickTimestamp:a});t.pageReadyTime?t._reportShowPage(s):t.deferred.push((function(){t._reportShowPage(s)}))}))}},{key:"reportHidePage",value:function(t,n){var r=this;this._checkDeferred(),this.checkShowOptions(),this.checkHideOptions();var o=this.route,i=this.pageType,a=this.showOptions,c=this.hideOptions,s=this.showReferpagepath||"",u=this.showTimeStamp?Date.now()-this.showTimeStamp:0,l=void 0!==c.usedstate?c.usedstate:a.usedstate,f=c.targetAction,d=c.targetPagePath;t&&(f=n?1:2,d="".concat(t,".html")),this.showTimeStamp=null,e._getNetworkType((function(e){var t=_extends({},a,{event_id:2,pagepath:"".concat(o,".html"),usedstate:l,networktype:e,staytime:u,referpagepath:s,targetAction:f,targetPagePath:d,isentrance:r.isentrance||0,pagetype:i,anchorTargetText:"",anchorRelatedText:""});r._reportHidePage(t)}))}}]),e}();function b(e){return(b="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function S(e){var t=E();return function(){var n,r=k(e);if(t){var o=k(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){var t="function"==typeof Map?new Map:void 0;return(C=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return I(e,arguments,k(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),T(r,e)})(e)}function I(e,t,n){return(I=E()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&T(o,n.prototype),o}).apply(null,arguments)}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var A=function(e,t){for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e},x=function(){},P=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]},j=function(e){return"[object Object]"===Object.prototype.toString.call(e)},N=function(e,t){console.group("".concat(new Date," ").concat(e)),console.error(t),console.groupEnd()},D=function(e,t){console.group("".concat(new Date," ").concat(e)),console.warn(t),console.groupEnd()},R=function(e){var t;(null===(t=__qqConfig)||void 0===t?void 0:t.debug)&&console.info(e)},M=function(e,t){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type)throw e;"thirdScriptError"===e.type?Reporter.errorReport({key:"thirdScriptError",error:e,extend:t}):Reporter.errorReport({key:"jsEnginScriptError",error:e,extend:t})}},B=function(e,t){return function(){try{for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(e,r)}catch(e){return M(e,t),function(){}}}},L=function(e){w(n,e);var t=S(n);function n(e){var r;return m(this,n),(r=t.call(this,"APP-SERVICE-Engine:".concat(e))).type="AppServiceEngineKnownError",r}return n}(C(Error)),F=function(e){w(n,e);var t=S(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).type="thirdScriptError",r}return n}(C(Error)),U=function(){return!!("undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("appservice"))},q=function(e){if("String"!==P(e))throw N("数据路径错误","Path must be a string"),new L("Path must be a string");for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,c=0;c<t;c++){var s=e[c];if("\\"===s)c+1<t&&("."===e[c+1]||"["===e[c+1]||"]"===e[c+1])?(r+=e[c+1],c+=1):r+="\\";else if("."===s)r&&(n.push(r),r="");else if("["===s){if(r&&(n.push(r),r=""),0===n.length)throw N("数据路径错误","Path can not start with []: ".concat(e)),new L("Path can not start with []: ".concat(e));a=!0,i=!1}else if("]"===s){if(!i)throw N("数据路径错误","Must have number in []: ".concat(e)),new L("Must have number in []: ".concat(e));a=!1,n.push(o),o=0}else if(a){if(s<"0"||"9"<s)throw N("数据路径错误","Only number 0-9 could inside []: ".concat(e)),new L("Only number 0-9 could inside []: ".concat(e));i=!0,o=10*o+s.charCodeAt(0)-48}else r+=s}if(r&&n.push(r),0===n.length)throw N("数据路径错误","Path can not be empty"),new L("Path can not be empty");return n},W=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r={},o=e;try{for(var i=0;i<n.length;i++)Number(n[i])===n[i]&&n[i]%1==0?Array.isArray(o)&&(r[t]=[],o=r[t]):j(o)||(r[t]={},o=r[t]),t=n[i],r=o,o=o[n[i]]}catch(e){throw new F("setData 数据路径错误，错误路径：".concat(n.join("."),"，错误key：").concat(t))}return{obj:r,key:t}},V=function(e,t){for(var n=q(t),r=void 0,o=void 0,i=e,a=0;a<n.length;a++)Number(n[a])===n[a]&&n[a]%1==0?Array.isArray(i)||(i=[]):j(i)||(i={}),o=n[a],r=i,i=i[n[a]];return{obj:r,key:o}};function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var H,Y,$,z=t.getLogManager(),K=["onLaunch","onShow","onHide","onError","onUnlaunch","onPageNotFound"],J=function(e){for(var t=0;t<K.length;++t)if(K[t]===e)return!0;return!1},X=function(e){return"getCurrentPage"===e},Q=function e(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G(this,e),K.forEach((function(e){n[e]=function(){var t=r[e]||x;Reporter.__route__="App",Reporter.__method__=e,R("App: ".concat(e," have been invoked"));try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t.apply(n,i),(null==z?void 0:z.logApiInvoke)&&z.log("App ".concat(e," have been invoked"))}catch(t){Reporter.thirdErrorReport({error:t,extend:"at App lifeCycleMethod ".concat(e," function")})}}}));var o=function(e){X(e)?D("关键字保护","App's ".concat(e," is write-protected")):J(e)||("function"==typeof r[e]?n[e]=function(){var t;Reporter.__route__="App",Reporter.__method__=e;try{for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t=r[e].apply(n,i)}catch(t){Reporter.thirdErrorReport({error:t,extend:"at App ".concat(e," function")})}return t}:n[e]=r[e])};for(var i in r)o(i);"function"==typeof this.onError&&t.onError(this.onError),"function"==typeof this.onPageNotFound&&t.onPageNotFound(this.onPageNotFound);var a=t.getLaunchOptionsSync();this.onLaunch(a.__public),this.onShow(a.__public)},Z=[],ee={},te=function(e){e=e||ee,Z.forEach((function(t){t.preventOnShow||t.app.onShow(e),t.preventOnShow=!1})),ee=e},ne=function(){Z.forEach((function(e){e.app.onHide()}))};t.onAppUnhang((function(){})),t.onAppHide((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.mode}));var re={},oe=B((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_extends(e,re),re={},H=new Q(e),Z.push({app:H,preventOnShow:!0})}),"create app instance"),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.allowDefault?H||re:H},ae=function(){return Y},ce=function(e){Y=e};t.onAppShow((function(e){if(Y=e.referrerInfo&&e.referrerInfo.privateExtraData){var n=Ot();Y.functionalPage&&n&&t.publishFunctionalPage(Y.functionalPage,[n])}e.referrerInfo&&e.referrerInfo.openapiInvokeData&&($=e.referrerInfo.openapiInvokeData)}));var se={},ue={},le=[],fe=!1,de=!1,pe=!1,he=[],ve=0,ge=0,ye=0,_e=0,be=0,me=0,we=null,Se=null,Oe=function(e,n){if("start"!==e.action&&"start_and_report"!==e.action&&(ue[e.eventID]={eventID:e.eventID,data:{},extra:e.extra}),ue[e.eventID]){var i,a,c,s=n||wt()&&wt().page;(function(e,t){Object.keys(e.data||{}).forEach((function(e){var n,i=a.data[e],a=(null==t?void 0:t.data)||{},c=!1;if("$"!==i.charAt(0)||void 0===(n=function(e){var t=0;switch(e){case"PAGE_TIME":return(t=ye?Date.now()-ye-_e:0)>=0?t:null;case"APP_TIME":return(t=ve?Date.now()-ve-ge:0)>=0?t:null;case"CURRENT_PAGE":return Se||null;case"LAST_PAGE":return we||null;default:return}}(i.substr(1))))if(0!==i.indexOf("$APP")){if(t&&(a.page===t.__route__||"ANY_PAGE"===a.page)){if(0===i.indexOf("$DATASET")){var s=i.replace("$DATASET.","");(n=W(a.dataset||{},q(s))).obj&&void 0!==n.obj[n.key]&&(ue[a.eventID].data[e]=n.obj[n.key],c=!0)}if(0===i.indexOf("$COMP")&&"number"==typeof a.nodeId){var u=o.getNodeById(a.nodeId,a.webviewId);if(!u)return void console.warn('[自定义分析] 找不到自定义组件里的 "'.concat(a.element,'" 节点'));var l=r.Element.getMethodCaller(u);l&&(i=i.replace("$COMP.",""),a=l.data)}if(-1<i.indexOf("[]")){if((a.index||[]).forEach((function(e){i=i.replace("[]","[".concat(e,"]"))})),-1<i.indexOf("[-1]")||-1<i.indexOf("[]"))return void console.warn("[自定义分析] 取不到下标，请检查配置（".concat(i,"）"));var f=i.match(/\[(\d+)\]\.\$INDEX$/);f&&(ue[a.eventID].data[e]=Number(f[1]),c=!0)}if(void 0===(n=V(a,i)).obj||void 0===n.key||void 0===n.obj[n.key])return void(c||console.warn("[自定义分析] 取不到该字段，请检查配置（".concat(i,"）")));ue[a.eventID].data[e]=n.obj[n.key]}}else{var d=a.data[e],p=ie()||{},h=d.replace("$APP.",""),v=V(p,h);if(v.obj&&void 0!==v.obj[v.key]){var g=v.obj[v.key];"number"!=typeof g&&"string"!=typeof g&&"boolean"!=typeof g||(ue[a.eventID].data[e]=g)}}else null!==n&&(ue[a.eventID].data[e]=n)}))})(e,s),"report"!==e.action&&"start_and_report"!==e.action||(i=e.eventID,a=null==s?void 0:s.__route__,c=[],Object.keys(ue[i].data).forEach((function(e){c.push({id:e,value:ue[i].data[e]})})),ue[i].data=c,ue[i].page=a,ue[i].version=(void 0!==__libVersionInfo__?__libVersionInfo__.version:0)||0,ue[i].uid=Date.now().toString(16)+Math.random().toString(16).substr(2),ue[i].type=0,U()||(console.info("[自定义分析] 上报成功"),console.info(ue[i])),t.reportRealtimeAction({actionData:JSON.stringify(ue[i])}),delete ue[i])}},Ce=function(e,t){var n={};try{n=JSON.parse(e.data)}catch(e){n={}}var r=wt();se=function(e){var t={};return"[object Array]"!==Object.prototype.toString.call(e)||e.forEach((function(e){var n=e.eventTarget;"[object Object]"===Object.prototype.toString.call(n)&&(n=[n]),n.forEach((function(n){var r=n.trigger||"click";t[r]||(t[r]=[]),("click"!==r||/^([\.#][a-zA-Z_][^\.#]* ?)+$/.test(n.element&&n.element.trim()))&&t[r].push({eventID:e.eventID,page:n.page,element:n.element&&n.element.trim(),data:n.data,action:n.action,extra:e.extra})}))})),t}(n),ue={},t||le.forEach((function(e){Ie(e,null==r?void 0:r.page,!0)})),Ie("pageReady",null==r?void 0:r.page)},Ie=function(e,n,r){if("pageReady"===e&&n)!function(e){if(e){var n=e.__route__,r=se.click,o=[];r&&(r.forEach((function(e){(e.page!==n&&"ANY_PAGE"!==e.page||!e.element)&&o.push({eventID:e.eventID,page:e.page,element:e.element,action:e.action})})),0!==o.length&&t.publishAnalyticsConfig(o,[e.__wxWebviewId__]))}}(n);else if(fe)le.push(e);else{if("launch"===e&&!de)return ve=Date.now(),fe=!0,de=!0,le.push(e),void t.getAppConfig({type:1,complete:B((function(e){fe=!1,e.data&&(console.info("[自定义分析] 配置拉取成功"),Ce(e))}))});if(pe){r||("enterPage"===e?(ye=Date.now(),_e=0,Se=null==n?void 0:n.__route__):"leavePage"===e?we=null==n?void 0:n.__route__:"background"===e?be=Date.now():"foreground"===e&&(me=Date.now(),be&&me>be&&(_e+=me-be,ge+=me-be)));var o=se[e];if(o){var i=["enterPage","leavePage","pageLoad","pageUnload","pullDownRefresh","switchTab"];o.forEach((function(t){t&&(-1<i.indexOf(e)?(n&&t.page===(null==n?void 0:n.__route__)||"ANY_PAGE"===t.page)&&Oe(t,n):Oe(t))}))}}else he.push([e,n,r])}};function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t.subscribeAnalyticsReport((function(e,t){var n,r,o=e,i=se.click;if(i&&("start"===o.action||"start_and_report"===o.action||ue[o.eventID])){for(var a=St(""),c=0;c<a.length;c++){var s=a[c];if(s.__wxWebviewId__===t){r=s;break}}if(r){for(var u=0;u<i.length;u++){var l=i[u];if(o.eventID===l.eventID&&(o.page===l.page||"ANY_PAGE"===l.page)&&o.element===l.element){l.dataset=o.dataset||{},n=A({},l);break}}n&&(n.index=o.index,n.nodeId=o.nodeId,n.webviewId=t,Oe(n,r))}}})),t.onAppConfig(B((function(e){console.info("[自定义分析] 收到最新配置"),1===Number(e.type)&&Ce(e,!0)}))),t.onAppRouteDone((function(){pe=!0,he.forEach((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Ie.apply(null,t)}))}));var Te=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,r;return n=e,(r=[{key:"emit",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};__qqConfig.useFlutter?(null==e?void 0:e.data)&&t.invokeFlutterSetData("flutterSetData",e.data,[n],r):t.invokeWebviewMethod("appDataChange",e,[n],r)}}])&&Ee(n.prototype,r),e}());function ke(e){return(ke="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var Ae=Object.prototype.toString,xe="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t,n=ke(e);if(null===e||"function"!==n&&"object"!==n)throw new TypeError("obj must be an Object");var r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r},Pe="function"==typeof Symbol?function(e){return Object.getOwnPropertySymbols(e)}:function(){return[]};function je(e,t){if("[object Array]"!==Ae.call(e))throw new TypeError("array must be an Array");var n,r,o;for(n=0,r=e.length;n<r;++n)if((o=e[n])===t||o!=o&&t!=t)return n;return-1}function Ne(e,t){if("function"!=typeof t)throw new TypeError("customizer is must be a Function");if("function"==typeof e)return e;var n=Ae.call(e);if("[object Array]"===n)return[];if("[object Object]"===n&&e.constructor===Object)return{};if("[object Date]"===n)return new Date(e.getTime());if("[object RegExp]"===n){var r=String(e),o=r.lastIndexOf("/");return new RegExp(r.slice(1,o),r.slice(o+1))}var i=t(e);return void 0!==i?i:null}function De(e){var t=ke(e);return null!==e&&"object"!==t&&"function"!==t?e:null}function Re(e,t){var n=De(e);return null!==n?n:Ne(e,t)}function Me(e){}var Be=function e(t,n,r,o,i){if(null===t)return null;var a=De(t);if(null!==a)return a;var c,s=xe(t).concat(Pe(t)),u=void 0,l=void 0,f=void 0,d=void 0,p=void 0,h=void 0,v=void 0;for(u=0,c=s.length;u<c;++u)p=void 0,h=void 0,v=void 0,-1===(d=je(o,f=t[l=s[u]]))?(h=null!==(p=Re(f,n))?p:f,null!==f&&/^(?:function|object)$/.test(void 0===f?"undefined":ke(f))&&(o.push(f),i.push(h))):v=i[d],r[l]=v||e(f,n,h,o,i);return r},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Me;if(null===e)return null;var n=De(e);if(null!==n)return n;var r=Ne(e,t),o=null!==r?r:e,i=[e],a=[o];return Be(e,t,o,i,a)};function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ue=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload","onResize"],qe=["__wxWebviewId__","__route__"],We=["route"],Ve=t.getLogManager(),Ge=function(){function e(n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this,a={__wxWebviewId__:r,__route__:o};qe.forEach((function(e){Object.defineProperty(i,e,{set:function(){D("关键字保护","should not change the protected attribute ".concat(e))},get:function(){return a[e]}})})),n.data=n.data||{},j(n.data)||N("Page data error","Page.data must be an object");var c=JSON.stringify(n.data);this.data=JSON.parse(c),this.__viewData__=JSON.parse(c),this.__displayReporter=new _(o,1),this.__callPageLifeTime__=function(e){var t,n=(this[e]||x).bind(this);if(Reporter.__route__=this.__route__,Reporter.__method__=e,"onShow"===e)this.__displayReporter.reportShowPage(),dt(r);else if("onReady"===e)this.__displayReporter.setReadyTime(Date.now());else if("onHide"===e||"onUnload"===e){var o=this.__toRoute__,i=this.__isBack__,a=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,a||this.__displayReporter.reportHidePage(o,i),pt(r)}R("".concat(this.__route__,": ").concat(e," have been invoked"));try{for(var c=Date.now(),s=arguments.length,u=new Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];t=n.apply(this,u);var f=Date.now()-c;1e3<f&&Reporter.slowReport({key:"pageInvoke",cost:f,extend:"at ".concat(this.__route__," page lifeCycleMethod ").concat(e," function")}),(null==Ve?void 0:Ve.logApiInvoke)&&Ve.log("page ".concat(this.__route__," ").concat(e," have been invoked"))}catch(t){Reporter.thirdErrorReport({error:t,extend:"at ".concat(this.__route__," page lifeCycleMethod ").concat(e," function")})}return t},Ue.forEach((function(e){i[e]=function(){for(var t=(n[e]||x).bind(this),r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.apply(this,o)}.bind(i)}));var s=function(e){var t=e;-1!==qe.indexOf(t)?D("关键字保护","Page's ".concat(e," is write-protected")):function(e){for(var t=0;t<Ue.length;++t)if(Ue[t]===e)return!0;return"data"===e}(t)||("Function"===P(n[e])?i[e]=function(){var t;Reporter.__route__=this.__route__,Reporter.__method__=e;try{for(var r=Date.now(),o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t=n[e].apply(this,i);var c=Date.now()-r;1e3<c&&Reporter.slowReport({key:"pageInvoke",cost:c,extend:"at ".concat(this.__route__," page ").concat(e," function")})}catch(t){Reporter.thirdErrorReport({error:t,extend:"at ".concat(this.__route__," page ").concat(e," function")})}return t}.bind(i):i[e]=Le(n[e]))};for(var u in n)s(u);var l={route:o};We.forEach((function(e){Object.prototype.hasOwnProperty.call(i,e)||(i[e]=l[e])})),"function"==typeof n.onShareAppMessage&&t.showShareMenu()}var n,r;return n=e,(r=[{key:"setData",value:function(e,t){var n=this;try{var r=P(e);if("Object"!==r)return void N("类型错误","setData accepts an Object rather than some ".concat(r));Object.keys(e).forEach((function(t){void 0===e[t]&&N("Page setData warning",'Setting data field "'.concat(t,'" to undefined is invalid.'));var r=q(t),o=W(n.data,r),i=o.obj,a=o.key;if(i&&(i[a]=Le(e[t])),void 0!==e[t]){var c=W(n.__viewData__,r),s=c.obj,u=c.key;s&&(s[u]=Le(e[t]))}})),Te.emit({data:e},this.__wxWebviewId__,t)}catch(e){M(e)}}},{key:"pageScrollTo",value:function(e){t.publishPageScrollTo(e,[this.__wxWebviewId__])}}])&&Fe(n.prototype,r),e}();function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,i;return n=e,i=[{key:"create",value:function(e,n){var i=o.addView(e,n),a=r.Element.getMethodCaller(i);if(a.__wxWebviewId__=e,a.__route__=n,a.route=n,a.__displayReporter=new _(n,2),i.__customConstructor__===o.Page){var c=i.getRootBehavior().methods,s=a.__freeData__;for(var u in c)a[u]=c[u].bind(a);for(var l in s)a[l]=Le(s[l])}return a.__callPageLifeTime__=function(t){var n,r=this[t]||x;if(Reporter.__route__=this.__route__,Reporter.__method__=t,"onShow"===t)a.__displayReporter.reportShowPage(),dt(e);else if("onReady"===t)a.__displayReporter.setReadyTime(Date.now());else if("onHide"===t||"onUnload"===t){var o=this.__toRoute__,c=this.__isBack__,s=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,s||a.__displayReporter.reportHidePage(o,c),pt(e)}for(var u=arguments.length,l=new Array(u>1?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];"onShow"===t?i.triggerPageLifeTime("show",l):"onHide"===t?i.triggerPageLifeTime("hide",l):"onResize"===t&&i.triggerPageLifeTime("resize",l),R("".concat(this.__route__,": ").concat(t," have been invoked"));try{var d=Date.now();n=r.apply(this,l);var p=Date.now()-d;1e3<p&&Reporter.slowReport({key:"pageInvoke",cost:p,extend:'at "'.concat(this.__route__,'" page lifeCycleMethod ').concat(t," function")})}catch(e){Reporter.thirdErrorReport({error:e,extend:'at "'.concat(this.__route__,'" page lifeCycleMethod ').concat(t," function")})}return n},Ue.forEach((function(e){var t=a[e];a[e]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t||x).apply(this,n)}.bind(a)})),"function"==typeof a.onShareAppMessage&&t.showShareMenu(),{page:a,node:i}}},{key:"destroy",value:function(e){o.removeView(e.__wxWebviewId__)}}],null&&He(n.prototype,null),i&&He(n,i),e}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)})(e)}var ze,Ke,Je=Object.prototype.hasOwnProperty,Xe=Date.now(),Qe=t.ShareInfoStorage,Ze=t._getRealRoute,et=t._triggerBeforeUnloadPage,tt=t._triggerBeforeShareAppMessage;delete t.ShareInfoStorage;var nt={},rt={},ot={},it=[],at=[],ct="",st=!1,ut={},lt={},ft=function(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?"".concat(t,"?").concat(n):t};t.subscribeCheckWebviewAliveOk((function(e,t){1===lt[t]&&(lt[t]=2)}));var dt=function(e){Reporter.reportIDKey({key:"pageOnShow"}),lt[e]=1;var n=0;!function r(){1===lt[e]&&(t.publishCheckWebviewAlive({},[e]),(n+=1)<3?setTimeout(r,500):setTimeout((function(){1===lt[e]&&Reporter.reportIDKey({key:"clientRestoreWebview_fail"})}),2e3))}()},pt=function(e){delete lt[e]},ht=function(e){var t;Reporter.__route__=this.__route__,Reporter.__method__=e;try{for(var n=Date.now(),r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t=this[e].apply(this,o);var a=Date.now()-n;1e3<a&&Reporter.slowReport({key:"pageInvoke",cost:a,extend:"at ".concat(this.__route__," page ").concat(e," function")})}catch(t){Reporter.thirdErrorReport({error:t,extend:"at ".concat(this.__route__," page ").concat(e," function")})}return t},vt=function(e,n,r){t.setWxInterfaceIsInvokeInTap(r.type);var o=ht.call(e,n,r);return t.unsetWxInterfaceIsInvokeInTap(),o},gt=function(e){var n=t.isIsolatedSubpackage(e);!st&&n?ne():st&&!n&&te(),st=n},yt=!0;t.onAppShow((function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(n.isLaunch&&Ie("launch"),_t(n.path),e=n.path,(st=t.isIsolatedSubpackage(e))||te(n.__public||n),Ie("foreground"),yt||n.reLaunch)yt=!1;else{var r=St("");r.length&&(r[r.length-1].__callPageLifeTime__("onShow"),Ie("enterPage",r[r.length-1],!0))}})),t.onAppHide((function(){var e=St("");e.length&&(e[e.length-1].__callPageLifeTime__("onHide"),Ie("leavePage",e[e.length-1],!0)),st||ne(),Ie("background")}));var _t=function(e){ct=e};t.appServiceEnd=function(){if(0!=__qqConfig.useFlutter){for(var e=Object.keys(rt),t={},n=function(n){var r=e[n];t[r]={},void 0!==rt[r].behavior&&void 0!==rt[r].behavior.data?t[r].data=rt[r].behavior.data:void 0!==rt[r].data&&(t[r].data=rt[r].data),rt[r].props&&"[object Object]"===Object.prototype.toString.call(rt[r].props)&&Object.keys(rt[r].props).map((function(e){t[r].properties||(t[r].properties={}),t[r].properties[e]=rt[r].props[e]}))},r=e.length-1;r>=0;r--)n(r);__safeway__.bridge.invoke("flutter_launch",t)}},__qqConfig.onReady((function(){var e,t=__qqConfig.page||{},n=__qqConfig.global?__qqConfig.global.window:{};Object.keys(t).forEach((function(e){t[e].window=_extends({},n,t[e].window)})),__qqConfig.tabBar&&__qqConfig.tabBar.list&&"object"===$e(__qqConfig.tabBar.list)&&"function"==typeof __qqConfig.tabBar.list.forEach&&__qqConfig.tabBar.list.forEach((function(e){at.push(e.pagePath)})),__qqConfig.appLaunchInfo&&"string"==typeof __qqConfig.appLaunchInfo.path&&_t(__qqConfig.appLaunchInfo.path),Ke=(null===(e=__qqConfig.appLaunchInfo)||void 0===e?void 0:e.scene)||0}));var bt={appLaunchTime:0,appFgTime:0,appRouteTime:0,newPageTime:0,pageReadyTime:0},mt=function(e,t,n){Reporter.speedReport({key:e,timeMark:{startTime:t,endTime:n}})},wt=function(){return ze},St=function(e){var t=[];return it.forEach((function(n){e&&function(e){if(/^__wx__\//.test(e=e||""))return"//";var t=e.match(/(?:^|\/)__plugin__\/(.*?)\//);return t?t[1]:"/"}(n.route)!==e?t.push(null):t.push(n.page)})),t},Ot=function(){if(0!==it.length)return it[it.length-1].webviewId},Ct=function(e,t){return e.__wxExparserNodeId__&&Je.call(Object.getPrototypeOf(e),t)||Je.call(e,t)},It=function(e){return!!/(?:^|\/)__(wx|plugin)__\//.test(e)||!!("undefined"!=typeof __wxAppCode__&&__wxAppCode__["".concat(e,".json")]||{}).usingComponents},Et=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=a.__wxRoute||__wxRoute;if(!a.__wxRouteBegin&&!__wxRouteBegin){if(!c)throw N("Page 注册错误",'Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json'),new L('Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json');throw N("Page 注册错误","Please do not register multiple Pages in ".concat(c,".js")),new L("Please do not register multiple Pages in ".concat(c,".js"))}a.__wxRouteBegin?a.__wxRouteBegin=!1:__wxRouteBegin=!1;var s=o.convertRouteToComponentAlias(c),u=o.convertComponentAliasToRoute(s);if("Object"!==P(e))throw N("Page 注册错误","Options is not object: ".concat(JSON.stringify(e)," in ").concat(c,".js")),new L("Options is not object: ".concat(JSON.stringify(e)," in ").concat(c,".js"));if(R("Register Page: ".concat(s)),It(u)){var l=o.Page(e,t,n,i);rt[u]=r.Component._list[l]}else rt[u]=e;ot[u]=!0},Tt={isInit:!1};t.subscribeSubjectInfo((function(e){Tt.isInit=e.isInit}));var kt=B((function(e,t,n,r,o){var i,a,c,s,u,l,f,d,p,h;R("Update view with init data");var v=e.page,g={};g.wechatLibVersion=(void 0!==__libVersionInfo__?__libVersionInfo__.version:"")||"",g.webviewId=t,g.enablePullUpRefresh=Ct(v,"onReachBottom"),g.enablePageScroll=Ct(v,"onPageScroll"),g.onReachBottomDistance=function(e){try{if("number"==typeof __qqConfig.page["".concat(e,".html")].window.onReachBottomDistance)return __qqConfig.page["".concat(e,".html")].window.onReachBottomDistance}catch(e){return 50}return 50}(v.__route__),g.statesData=o,g.scene=Ke,g.route=v.__route__,g.query=v.options,g.lastRoute=e.lastRoute,g.lastQuery=e.lastQuery,g.wxConfig={accountInfo:(null===(i=__qqConfig)||void 0===i?void 0:i.accountInfo)||{},appContactInfo:(null===(a=__qqConfig)||void 0===a?void 0:a.appContactInfo)||{},appLaunchInfo:(null===(c=__qqConfig)||void 0===c?void 0:c.appLaunchInfo)||{}},g.windowConfig=(null===(s=__qqConfig)||void 0===s?void 0:s.page)&&__qqConfig.page["".concat(v.__route__,".html")]&&__qqConfig.page["".concat(v.__route__,".html")].window||{},g.debug=null===(u=__qqConfig)||void 0===u?void 0:u.debug,g.appId=null===(l=__qqConfig)||void 0===l||null===(f=l.accountInfo)||void 0===f?void 0:f.appId,g.appLaunchTime=bt.appLaunchTime,g.appFgTime=bt.appFgTime,g.isTabBarPage=e.isTabBarPage,g.isMainTabBarPage=e.isMainTabBarPage,g.navigationStyle=null===(d=__qqConfig)||void 0===d||null===(p=d.global)||void 0===p||null===(h=p.window)||void 0===h?void 0:h.navigationStyle,g.packageType=function(e){var t,n;if(null===(t=__qqConfig)||void 0===t||null===(n=t.subPackages)||void 0===n?void 0:n.length){for(var r=0;r<__qqConfig.subPackages.length;r++){var o=__qqConfig.subPackages[r];if(0===e.indexOf(o.root))return o.independent?"independent":"normal"}return"main"}return"none"}(v.__route__),g.needGetSubjectInfo=!Tt.isInit,g.subPackages=__qqConfig.subPackages;var y={data:n?void 0:v.__viewData__,ext:g,options:{firstRender:!0,usingCustomComponents:n,timestamp:r,path:v.__route__}};if(o){var _=JSON.stringify(y),b=_.length;if(349184<b){for(var m=[],w=0;w<b;)m.push(_.substr(w,349184)),w+=349184;for(var S=++Xe,O=0,C=m.length;O<C;O++)Te.emit({isSplitData:!0,splitInfo:{id:S,index:O+1,total:C,data:m[O]}},t);return void Ie("pageReady",v)}}Te.emit(y,t),Ie("pageReady",v)})),At=function(e){return-1!==at.indexOf(e.route)||-1!==at.indexOf("".concat(e.route,".html"))},xt=function(e,n,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=null;Je.call(rt,e)?c=rt[e]:D("Page route 错误","Page[".concat(e,"] not found. May be caused by: 1. Forgot to add page route in app.json. 2. Invoking Page() in async task."));var s=It(e),u=null;if(bt.newPageTime=Date.now(),_t(e),s){if(!c)return void N("Page route 错误","Page is not constructed because it is not found. path:".concat(e,", validPath:").concat(Object.keys(rt).join(",")));u=Ye.create(n,e)}var l=s?u.page:new Ge(c||{},n,e),f=Le(i);if((ze={page:l,webviewId:n,route:e,lastRoute:ze?ze.route:"",lastQuery:ze?ze.page.options:{},node:s?u.node:void 0}).isTabBarPage=At(ze),ze.isMainTabBarPage=a.isMainTabBarPage||!1,it.push(ze),s){var d=u.node,p={},h=!1;if(Object.keys(f).forEach((function(e){r.Component.hasProperty(d,e)&&(p[e]=decodeURIComponent(f[e]),h=!0)})),h&&d.setData(p),o.attachView(n),/^__wx__\//.test(e)){var v={};if(/^__wx__\/open-api-redirecting-page/.test(e))v=$||{};else if(/^__wx__\/functional-page/.test(e)){var g=ae();(null==g?void 0:g.functionalPage)&&(v=_extends({},g.functionalPage,{accountInfo:__qqConfig.accountInfo}))}l.setData(v)}}l.options=f,kt(ze,n,s,bt.newPageTime,void 0),U()&&(__wxAppData[e]=l.data,__wxAppData[e].__webviewId__=n,t.publishUpdateAppData()),l.__callPageLifeTime__("onLoad",i),l.__callPageLifeTime__("onShow"),nt[n]={page:l,route:e,statesData:null},Ie("pageLoad",l),Ie("enterPage",l),mt("appRoute2newPage",bt.appRouteTime,bt.newPageTime)},Pt=function(e,t){e.page.__toRoute__=t,e.page.__callPageLifeTime__("onHide"),Ie("leavePage",e.page)},jt=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];et(e.webviewId),e.page.__toRoute__=n,e.page.__isBack__=r,e.page.__notReportHide__=o,e.page.__callPageLifeTime__("onUnload"),e.node&&Ye.destroy(e.page),U()&&(delete __wxAppData[e.route],t.publishUpdateAppData()),delete nt[e.webviewId],(it=it.slice(0,it.length-1)).length?_t(it[it.length-1].route):_t(""),Ie("pageUnload",e.page),Ie("leavePage",e.page)},Nt=function(e,t){if(R("On page reload: ".concat(e)),Je.call(nt,t)){var n,r,i,a,c=It(e),s=nt[t].statesData;nt[t].statesData=void 0,o.restoreView(t),kt(nt[t],t,c,Date.now(),s||{}),n=t,a=[(r={pageCount:it.length,pageType:c?2:1}).pageCount,r.pageType,(i=ut[n]||{}).rootCompCount||0,i.rootCustomCompCount||0,i.rootCustomCompRatio||0,i.rootInternalCompCount||0].map(encodeURIComponent).join(","),ut[n]={},Reporter.reportKeyValue({key:"WebviewRestore",value:a}),Reporter.submit()}else N("Page reload(system error)","Can not find webviewId ".concat(t))};t.onAppRoute(B((function(e){!function(e,n,o,i){if(R("On app route: ".concat(e)),bt.appRouteTime=Date.now(),"navigateTo"===i)ze&&Pt(ze,e),gt(e),Je.call(nt,n)?N("Page route 错误(system error)","navigateTo with an already exist webviewId ".concat(n)):xt(e,n,o);else if("redirectTo"===i)ze&&jt(ze,e),gt(e),Je.call(nt,n)?N("Page route 错误(system error)","redirectTo with an already exist webviewId ".concat(n)):xt(e,n,o);else if("navigateBack"===i){for(var a=!1,c=nt[n]&&nt[n].route,s=it.length-1;0<=s;s--){var u=it[s];if(u.webviewId===n){a=!0,ze=u;break}jt(u,c,!0)}if(gt(c),a){ze.page.__callPageLifeTime__("onShow"),Ie("enterPage",ze.page);var l=ae();ce({}),(null==l?void 0:l.functionalPage)&&n&&t.publishFunctionalPage(l.functionalPage,[n])}else N("Page route 错误(system error)","navigateBack with an unexist webviewId ".concat(n))}else if("switchTab"===i){var f=!0,d=!0;if(0!==it.length){for(;1<it.length;)jt(it[it.length-1],e),f=!1;if(it[0].webviewId===n)ze=it[0],f||ze.page.__callPageLifeTime__("onShow");else if(At(it[0])?(d=!1,f&&Pt(it[0],e)):jt(it[0],e),Je.call(nt,n)){var p=nt[n].page;it=[ze={webviewId:n,route:e,page:p}],p.__callPageLifeTime__("onShow"),Ie("enterPage",p),Ie("switchTab",p)}else it=[],xt(e,n,o,{isMainTabBarPage:d})}else xt(e,n,o)}else if("appLaunch"===i)!function(e,t,n){bt.appLaunchTime=Date.now(),bt.appFgTime=Date.now(),function(){var e=__qqConfig.pages;if(void 0!==e)for(var t=0;t<e.length;t++){var n=e[t],o=r.Component._list[n];o&&!r.Component.isPrepared(o)&&r.Component.prepare(o)}}(),Je.call(nt,t)?N("Page route 错误(system error)","appLaunch with an already exist webviewId ".concat(t)):xt(e,t,n,{isMainTabBarPage:At({route:e})})}(e,n,o);else if("reLaunch"===i||"autoReLaunch"===i){var h=!1;for("reLaunch"===i&&(h=!0);0<it.length;){var v=!0;h&&(v=!1,h=!1),jt(it[it.length-1],e,!1,v)}gt(e),xt(e,n,o,{isMainTabBarPage:At({route:e})})}else N("Page route 错误(system error)","Illegal open type: ".concat(i))}(e.path,e.webviewId,e.query||{},e.openType)}),"onAppRoute")),t.onPageReload(B((function(e){var t=e.path,n=e.webviewId;Nt(t,n)}),"onPageReload")),t.onWebviewEvent(B((function(e){var t=e.webviewId,n=e.eventName,i=e.data;return function(e,t,n,i){if(Je.call(nt,e)){var a=nt[e],c=a.page;if("__DOMReady"===n)return bt.pageReadyTime=Date.now(),R("Invoke event onReady in page: ".concat(a.route)),c.__callPageLifeTime__("onReady"),void mt("newPage2pageReady",bt.newPageTime,bt.pageReadyTime);if(i._requireActive){var s=it[it.length-1];if(!s||s.webviewId!==e)return}if(i._relatedInfo&&_.setEventRelatedInfo(i._relatedInfo),t){var u=o.getNodeById(t,e);if(!u)return;var l=r.Element.getMethodCaller(u);return R("Invoke event ".concat(n," in component: ").concat(u.is)),Ct(l,n)?vt(l,n,i):void D("事件警告","Do not have ".concat(n," handler in component: ").concat(u.is,". Please make sure that ").concat(n," handler has been defined in ").concat(u.is,"."))}if(R("Invoke event ".concat(n," in page: ").concat(a.route)),Ct(c,n))return vt(c,n,i);D("事件警告","Do not have ".concat(n," handler in current page: ").concat(a.route,". Please make sure that ").concat(n," handler has been defined in ").concat(a.route,", or ").concat(a.route," has been added into app.json"))}}(t,e.nodeId,n,i)}),"onWebviewEvent")),t.onAppEnterForeground((function(e){bt.appFgTime=Date.now(),0!==e.scene&&"0"!==e.scene&&(Ke=e.scene)})),t.onPullDownRefresh(B((function(e,t){if(Je.call(nt,t)){var n=nt[t],r=n.page;Ct(r,"onPullDownRefresh")&&(R("Invoke event onPullDownRefresh in page: ".concat(n.route)),ht.call(r,"onPullDownRefresh"),Ie("pullDownRefresh",r))}else D("事件警告","onPullDownRefresh WebviewId: ".concat(t," not found"))}),"onPullDownRefresh"));var Dt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Je.call(nt,n)){var o=nt[n].page,i=ft(o.route),a={path:i,title:"",target:t?t.target:void 0,fromShareButton:!0};void 0!==e&&(a.shareTarget=e),(null==r?void 0:r.chatDataHash)&&(a.chatDataHash=r.chatDataHash),0<Object.keys(o.options).length&&(i+="?".concat(Object.keys(o.options).map((function(e){return"".concat(e,"=").concat(o.options[e])})).join("&"))),B(Rt,"onShareAppMessage")(a,n)}else D("事件警告","tapShareButton WebviewId: ".concat(n," not found"))},Rt=function(e,n){if(null!=nt[n]){var r;tt(n);var i,a=function(e,t){var n,r=e,i=nt[t],a=i.page;if(Ct(a,"onShareAppMessage")&&(n="onShareAppMessage"),n){R("Invoke event ".concat(n," in page: ").concat(i.route)),"devtools"===__qqConfig.platform&&console.warn("在开发者工具中仅模拟转发界面，不会发送实际转发请求，请在真机上进行转发功能完整测试");var c={from:e.fromShareButton?"button":"menu",target:e.target,shareTarget:e.shareTarget};e.webViewUrl&&(c.webViewUrl=e.webViewUrl);var s=ht.call(a,n,c)||{};Reporter.reportApiCall({apiname:"userOnShareAppMessage"}),"miniapp"!==s.shareType&&"picture"!==s.shareType&&(s.shareType="miniapp"),r.shareType=s.shareType,r.shareTarget=e.shareTarget,"miniapp"===s.shareType&&(r.title=s.title&&"string"==typeof s.title?s.title:e.title,r.desc=s.desc&&"string"==typeof s.desc?s.desc:e.desc,r.path=(s.path&&"string"==typeof s.path?ft(o.convertComponentAliasToRoute(s.path)):e.path)||"",r.shareTemplateId=s.shareTemplateId&&"string"==typeof s.shareTemplateId?s.shareTemplateId:e.shareTemplateId||"",r.shareTemplateData=s.shareTemplateData&&"object"===$e(s.shareTemplateData)?s.shareTemplateData:e.shareTemplateData||{},r.entryDataHash=s.entryDataHash&&"string"==typeof s.entryDataHash?s.entryDataHash:e.entryDataHash||"",r.chatDataHash=e.chatDataHash||""),s.generalWebpageUrl&&"string"==typeof s.generalWebpageUrl&&(r.generalWebpageUrl=s.generalWebpageUrl),"string"==typeof s.imageUrl&&(s.imageUrl&&!/^(http|https|wxfile|qqfile):\/\//.test(s.imageUrl)?r.imageUrl=Ze(s.imageUrl,!1):r.imageUrl=s.imageUrl),s.cacheKey&&(r.cacheKey=s.cacheKey),r.path&&0<r.path.length&&"/"===r.path[0]&&(r.path=r.path.substr(1)),r.success=s.success,r.cancel=s.cancel,r.fail=s.fail,r.complete=s.complete,Ie("share",a)}return r}(e,n);"picture"===a.shareType?!0===e.fromShareButton?(a.shareTarget,r="shareAppPictureMessageDirectly",(i=t.getShareCookieString())&&(a.messageExtraData=a.messageExtraData||{},a.messageExtraData.cookies=i)):r="shareAppPictureMessage":!0===e.fromShareButton?(r=6===a.shareTarget?"shareAppMessageDirectlyToFriendList":"shareAppMessageDirectly",(i=t.getShareCookieString())&&(a.messageExtraData=a.messageExtraData||{},a.messageExtraData.cookies=i)):r="shareAppMessage",a.useDefaultSnapshot=!0,!U()&&t.checkAPIAvailable("share")||(a=_extends({},a),["success","fail","cancel","complete"].some((function(e){return"function"==typeof a[e]}))&&t.reportAPIRecycle({name:r,strategy:1})),Reporter.reportApiCall({apiname:"onShareAppMessage",param:e.fromShareButton?"button":"menu",param2:a.shareTarget}),a.shareTemplateId&&Reporter.reportApiCall({apiname:"arkShare",param:a.shareTemplateId}),2===a.shareTarget&&Reporter.reportApiCall({apiname:"qqFastShare"}),t[r](a,{beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage").replace("shareAppPictureMessage","shareAppMessage").replace("shareAppMessageDirectly","shareAppMessage").replace("shareAppMessageDirectlyToFriendList","shareAppMessage"),void 0!==e.shareInfos&&0<e.shareInfos.length&&(e.shareTickets=e.shareInfos.filter((function(e){return e.shareKey&&e.shareName})).map((function(e){return t.showUpdatableMessageSubscribeButton({shareKey:e.shareKey}),Qe.set(e.shareKey,e.shareName)}))),delete e.shareInfos}})}};t.onShareAppMessage(B((function(e,t){Rt(e,t)}),"onShareAppMessage")),t.onAddToFavorites(B((function(e,n){!function(e,n){var r=nt[n],o="onAddToFavorites";if(r){var i=r.page,a={};if(Ct(i,o)){R("Invoke event ".concat(o," in page: ").concat(r.route)),"devtools"===__qqConfig.platform&&console.warn("在开发者工具中不支持收藏页面，请在真机上进行收藏功能完整测试");var c={from:e.fromFavoritesButton?"button":"menu",target:e.target,webviewUrl:e.webviewUrl},s=ht.call(i,o,c)||{};["title","imageUrl","query"].forEach((function(e){"string"==typeof s[e]&&(a[e]=s[e])})),["success","fail","complete"].forEach((function(e){"function"==typeof s[e]&&(a[e]=s[e])}));var u=a.imageUrl;u&&!/^(http|https|wxfile|qqfile):\/\//.test(u)&&(a.imageUrl=Ze(u,!1))}a.path=ft(i.route),a.query?a.path+="?".concat(a.query):0<Object.keys(i.options||{}).length&&(a.path+="?".concat(Object.keys(i.options).map((function(e){return"".concat(e,"=").concat(i.options[e])})).join("&"))),t.addToFavorites(a)}}(e,n)}),"onAddToFavorites")),t.subscribeTapShareButton((function(e,t){var r=e.target&&e.target.shareType;if("number"==typeof r&&4&r)delete e.target.shareType,Dt(2,e,t);else if("number"==typeof r&&32&r)delete e.target.shareType,Dt(6,e,t);else if("number"==typeof r&&(1&r||2&r||8&r||16&r)){U()&&console.warn("在开发者工具中仅模拟转发界面，不会发送实际转发请求，请在真机上进行转发功能完整测试"),delete e.target.shareTyp;var o=2&r,i=8&r,a=16&r,c=[],s={};1&r&&(s[c.length]=0,c.push("qq")),o&&(s[c.length]=1,c.push("qzone")),i&&(s[c.length]=3,c.push("wechatFriends")),a&&(s[c.length]=4,c.push("wechatMoment")),1===c.length?Dt(s[0],e,t):n.showActionSheet({itemList:c,actionSheetType:1,success:function(n){var r=n.tapIndex;s[r]||!n.chatDataHash?Dt(s[r],e,t):Dt(5,e,t,{chatDataHash:n.chatDataHash})}})}else Dt(-1,e,t)})),t.subscribeSavePageState(B((function(e,t){Je.call(nt,t)?nt[t].statesData=e:D("事件警告","onPageWillManuallyTerminate WebviewId: ".concat(t," not found"))}),"savePageState")),t.subscribeRecycleStatistics(B((function(e,t){if(Je.call(nt,t)){var n=nt[t],r=_extends({pageCount:it.length,pageType:It(n.route)?2:1},e),o=r.pageCount,i=r.pageType,a=void 0===r.rootCompCount?0:r.rootCompCount,c=void 0===r.rootCustomCompCount?0:r.rootCustomCompCountc,s=void 0===r.rootCustomCompRatio?0:r.rootCustomCompRatiol,u=void 0===r.rootInternalCompCount?0:r.rootInternalCompCount,l=[o,i].map(encodeURIComponent).join(",");ut[t]={rootCompCount:a,rootCustomCompCount:c,rootCustomCompRatio:s,rootInternalCompCount:u},Reporter.reportKeyValue({key:"WebviewRecycle",value:l}),Reporter.submit()}}),"recycleStatistics")),t.onTabItemTap(B((function(e,n){if(t._setWxIsInvokeInTapForNavToMiniProgram(),Je.call(nt,n)){var r=nt[n],o=r.page;if(void 0!==__qqConfig&&__qqConfig.tabBar&&__qqConfig.tabBar.list&&__qqConfig.tabBar.list[e.index]){var i={index:e.index,pagePath:(__qqConfig.tabBar.list[e.index].pagePath||"").replace(/\.html$/,""),text:__qqConfig.tabBar.list[e.index].text};if(i.pagePath!==r.route)return;Je.call(o,"onTabItemTap")&&(R("Invoke event onTabItemTap in page: ".concat(r.route)),t.setWxInterfaceIsInvokeInTap("tap"),ht.call(o,"onTabItemTap",i),t.unsetWxInterfaceIsInvokeInTap())}}}),"tabItemTap"));var Mt={use:{}},Bt=!0;t.onAppShow((function(e){if(Bt){Bt=!1,_.setOnLaunch(t.getLaunchOptionsSync());try{!function(e){var t=r.Component._list,n=e.pages||[],o=e.page||{},i=n.length,a=0,c=0,s=0,u=0,l=9999,f=0;Object.keys(r.Component._list).forEach((function(e){e&&"wx://functional-page"!==e&&!o["".concat(e,".html")]&&(c++,/(^|\/)miniprogram_npm\//g.test(e)&&s++)})),n.forEach((function(e){if(((e["".concat(e,".html")]||{}).window||{}).usingComponents){a++;var n=t[e];if(!n)return;var r=n.behavior,o=r.using||{},i=r.generics||{},c=Object.keys(o).length+Object.keys(i).length;u<c&&(u=c),c<l&&(l=c),f+=c}}));var d=[i,a,c,s,u,l=9999===l?0:l,f=a?f/a:0,JSON.stringify(Mt)].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"CustomComponent",value:d,force:!0}),Reporter.submit()}(__wxConfig)}catch(e){}}else _.setOnAppShow(e)})),t.onAppHide((function(e){_.setOnAppHide(e)}));var Lt=function(e){try{var t;(null===(t=e.options)||void 0===t?void 0:t.addGlobalClass)&&(Mt.use[1]=1),e.pageLifetimes&&(Mt.use[2]=1),e.lifetimes&&(Mt.use[3]=1),e.definitionFilter&&(Mt.use[4]=1),e.behaviors&&e.behaviors.forEach((function(e){"wx://component-export"===e&&(Mt.use[5]=1)}))}catch(e){}},Ft=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=!1;(a.__wxRouteBegin||__wxRouteBegin)&&(c=!0),a.__wxRouteBegin?a.__wxRouteBegin=!1:__wxRouteBegin=!1;var s=o.Component(e,t,n,i),u=o.convertComponentAliasToRoute(s);return s&&(rt[u]=r.Component._list[s]),ot[u]=c,String(s)};"function"==typeof logxx&&logxx("app-service-engine start"),a.default={App:oe,Page:function(e){Et(e)},Component:function(e){if(Lt(e),__qqConfig.useFlutter){var t=_extends({},e);delete t.behaviors;var n=Ft(t);i.componentHolder(n,e);var r="/".concat(n);return i.__flutterComponentMap__[r]&&(rt[n]=i.__flutterComponentMap__[r]),n}return Ft(e)},Behavior:function(e){return Lt(e),__qqConfig.useFlutter?i.behaviorHolder(e):o.Behavior(e)},getApp:ie,DisplayReporter:_,__createPluginGlobal:function(e,n){var r="".concat(e,"/").concat(n),i={__wxAppCode__:{},__wxAppCurrentFile__:""};return i.wx=t.createPluginWX(e,n),i.Page=function(e){Et(e,r,i.__wxAppCode__,i.__wxAppCurrentFile__,i)},i.getCurrentPages=function(){return St(e)},i.Component=function(e){return Ft(e,r,i.__wxAppCode__,i.__wxAppCurrentFile__,i)},i.Behavior=function(e){return o.Behavior(e,r,i.__wxAppCode__,i.__wxAppCurrentFile__)},i.publishDomainComponents=function(e){return o.publishDomainComponents(r,e)},i},hasPageRoute:function(e){return!!function(e){for(var t=0;t<__qqConfig.pages.length;t++)if(__qqConfig.pages[t]===e)return!0;return!1}(e)||void 0!==ot[e]},convertComponentAliasToRoute:o.convertComponentAliasToRoute,getCurrentRoute:function(){return ct},getCurrentPages:function(){return St("/")},getCurrentPagesByDomain:St,forcePageReload:function(){var e=it[it.length-1],t=e.route,n=e.webviewId;Nt(t,n)},gTimeMark:bt,setPrivateExtraData:ce}}]).default;void 0!==__exportGlobal__&&(__exportGlobal__.Page=a.Page,__exportGlobal__.Component=a.Component,__exportGlobal__.Behavior=a.Behavior,__exportGlobal__.__webview_engine_version__=.02,__exportGlobal__.App=a.App,__exportGlobal__.getApp=a.getApp,__exportGlobal__.getCurrentPages=a.getCurrentPages,__exportGlobal__.__pageComponent=null);var c=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requirePlugin=t.definePlugin=void 0;var r=n(1),o=n(5);t.definePlugin=r.definePlugin,t.requirePlugin=o.requirePlugin},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.definePlugin=t.innerDefineFactory=void 0;var o=n(2),i=(r=n(3))&&r.__esModule?r:{default:r},c=n(4),s=i.default.plugin;t.innerDefineFactory=function(e){return function(t,n){var r=s[e];if(void 0===r)throw new Error('Sorry, plugin "'.concat(e,'" is not defined.'));r[t]={status:o.MODULE_STATUS_UNLOAD,factory:n}}},t.definePlugin=function(e,t){var n=(0,c.parseSchema)(e);if(!n||!n.pluginId||!n.version)throw new Error('schema must match "plugin://{name}/{version}"');var r=(0,c.getModKey)(n),i=function(e){if(void 0===a||"function"!=typeof a.__createPluginGlobal)throw new Error("Create plugin global failed.");return a.__createPluginGlobal(e.pluginId,e.version)}(n);s[r]={status:o.MODULE_STATUS_UNLOAD,factory:t,mods:{},global:i}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_STATUS_LOADED=2,t.MODULE_STATUS_UNLOAD=1},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={app:{},plugin:{}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^plugin:\/\/([A-Za-z0-9_-]+)[\/]?(.*)/;t.parseSchema=function(e){var t=e.match(n);if(t&&3===t.length)return{pluginId:t[1],version:"0",modId:1<=t[2].length?t[2]:void 0}},t.getModKey=function(e){return"".concat(e.pluginId,"/").concat(e.version)},t.getModDir=function(e){var t=e.match(/(.*)\/([^\/]+)?$/);return(null==t?void 0:t[1])?t[1]:"./"}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.requirePlugin=void 0;var o=n(1),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(2),c=n(4),s=i.default.plugin,u=function(e){for(var t=[],n=e.split("/"),r=0,o=n.length;r<o;++r){var i=n[r];if(""!=i&&"."!=i)if(".."==i){if(0==t.length){t=null;break}t.pop()}else r+1<o&&".."==n[r+1]?r++:t.push(i)}return t},l=function(e,t){var n=s[e],r=u("".concat(t,"/index.js")).join("/");return(null==n?void 0:n[r])?r:(r=u(t).join("/"),/\.js$/.test(r)||(r+=".js"),(null==n?void 0:n[r])?r:"")},f=function(e,t){var n=(0,c.getModDir)(t);return function(t){if("string"!=typeof t)throw new Error("require args must be a string.");var r=u(t.startsWith("/")?t:"".concat(n,"/").concat(t));if(!r)throw new Error("can't find module : ".concat(t));try{var o=r.join("/");return o=function(e,t,n,r){var o=t,i=s[e];if(/\.js$/.test(o)||(o+=".js"),"string"==typeof o&&i&&i[o])return o;var a=u(n);if(!a)throw new Error("can't find module : ".concat(r));for(var c=t.substring(a.join("/").length),f=void 0;a.length;){var d="".concat(a.join("/"),"/miniprogram_npm").concat(c);if(f=l(e,d))break;a.pop()}return f||(c="/"===c[0]?c:"/".concat(c),f=l(e,"miniprogram_npm".concat(c))),f||t}(e,o,n,t),d(e,o)}catch(t){throw t}}},d=function(e,t){!function(e){if("string"!=typeof e)throw new Error("require args must be a string")}(t);var n=s[e];if(void 0===n)throw new Error('Plugin "'.concat(e,'" is not defined.'));var r=n[t];if(void 0===r)throw new Error('Plugin module "'.concat(t,'" is not defined.'));if(r.status===a.MODULE_STATUS_UNLOAD){var o=void 0,i=r.factory,c={exports:{}};i&&(o=i(f(e,t),c,c.exports)),r.exports=c.exports||o,r.status=a.MODULE_STATUS_LOADED}return r.exports};t.requirePlugin=function(e){!function(){if(void 0===__wxConfig||void 0===__wxConfig.plugins)throw new Error("This application has not registered any plugins yet.")}(),function(e){if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")}(e);var t=(0,c.parseSchema)(e),n=void 0===t;n&&(t=function(e){var t=__wxConfig.plugins[e];if(void 0===t)throw new Error('Plugin "'.concat(e,'" has not registered.'));return{pluginId:t.provider,version:"0"}}(e));var r=(0,c.getModKey)(t),i=s[r];if(void 0===i)throw new Error('Plugin "'.concat(r,'" is not defined.'));return i.status===a.MODULE_STATUS_UNLOAD&&(i.exports=function(e,t){var n,r=t.factory,i=t.global,a={exports:{}};if(!r)return a.exports;var c=r((0,o.innerDefineFactory)(e),(n=e,function(e){return d(n,e)}),a,a.exports,i,i.wx,void 0,i.Page,i.Component,i.Behavior,void 0,i.getCurrentPages);return a.exports||c}(r,i),i.status=a.MODULE_STATUS_LOADED),n?"function"==typeof i.exports?i.exports():void 0:i.exports}}]);!function(e){var n={};define=function(e,t){n[e]={status:1,factory:t}};var r=function(e){if(e&&__wxConfig.subPackages)for(var t=0,n=__wxConfig.subPackages.length;t<n;t++)if(0===e.indexOf(__wxConfig.subPackages[t].root))return __wxConfig.subPackages[t]},o=function(e){for(var t=[],n=e.split("/"),r=0,o=n.length;r<o;++r){var i=n[r];if(""!=i&&"."!=i)if(".."==i){if(0==t.length){t=null;break}t.pop()}else r+1<o&&".."==n[r+1]?r++:t.push(i)}return t},i=function(e){var t=o("".concat(e,"/index.js")).join("/");return n[t]?t:(t=o(e).join("/"),/\.js$/.test(t)||(t+=".js"),n[t]?t:"")},a=function(e){var t,a=(t=e.match(/(.*)\/([^/]+)?$/))&&t[1]?t[1]:"./";return function(t){if("string"!=typeof t)throw new Error("require args must be a string");var c=o("".concat(a,"/").concat(t));if(!c)throw new Error("can't find module : ".concat(t));try{var s=c.join("/");s=function(e,t,r){var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&n[a])return a;var c=o(t);if(!c)throw new Error("can't find module : ".concat(r));for(var s,u=e.substring(c.join("/").length);c.length;){var l="".concat(c.join("/"),"/miniprogram_npm").concat(u);if(s=i(l))break;c.pop()}return s||(u="/"===u[0]?u:"/".concat(u),s=i(l="miniprogram_npm".concat(u))),s||e}(s,a,t);var u=function(e){return"functional-pages"===o(e)[0]};if(u(s)!==u(e)&&Reporter.thirdErrorReport({error:new Error('should not require across "functional-pages" folder'),extend:'at require("'.concat(t,'") in ').concat(e)}),"devtools"===__wxConfig.platform&&__wxConfig.subPackages){var l=r(s),f=r(e);if(l&&l!==f)throw new Error("should not require ".concat(t," in ").concat(e," because they are in diffrent subPackages"))}return require(s)}catch(t){throw t}}};require=function(e){if("string"!=typeof e)throw new Error("require args must be a string");var t=n[e];if(!t){var r=-1===e.indexOf("/")?"".concat(e,"/index.js"):e;/\.js$/.test(r="miniprogram_npm/".concat(r))||(r+=".js"),t=n[r]}if(!t)throw new Error('module "'.concat(e,'" is not defined'));if(1===t.status){var o=t.factory,i={exports:{}};t.exports=i.exports,t.status=2;var c=void 0;o&&(c=o(a(e),i,i.exports)),t.exports=i.exports||c}return t.exports},appServiceEnd=function(){t.appServiceEnd()}}();var s=require;if(__exportGlobal__.definePlugin=c.definePlugin,__exportGlobal__.requirePlugin=c.requirePlugin,"function"==typeof __passWAServiceGlobal__){var u={};u.__appServiceEngine__=a,u.__appServiceSDK__=t,u.__virtualDOM__=o,u.__subContextEngine__=__subContextEngine__,u.Reporter=Reporter,u.exparser=r,u.WeixinJSBridge=WeixinJSBridge,u.Protect=Protect,__passWAServiceGlobal__(u)}"undefined"!=typeof __qqConfig&&"function"==typeof __qqConfig.onReady&&__qqConfig.onReady((function(){"function"==typeof checkCanProxyReport&&void 0!==MiniAppProxyReport&&checkCanProxyReport()&&(n=MiniAppProxyReport.getProxy(n,"app")),void 0!==__exportGlobal__&&(__exportGlobal__.wx=n)&&(__exportGlobal__.qq=n)}))};function __doWAServiceInit__(){var e;"undefined"!=typeof window&&(window.MutationObserver=null,window.WebKitMutationObserver=null),"undefined"!=typeof wx&&wx.version&&(e=wx.version),__waServiceInit__(),e&&void 0!==__exportGlobal__&&__exportGlobal__.wx&&(__exportGlobal__.wx.version=e)}MutationObserver=null;var isAndroid=!1;void 0!==__wxConfig&&void 0!==__wxConfig.platform&&"android"===__wxConfig.platform.toLowerCase()&&(isAndroid=!0),isAndroid?(__subContextEngine__.isIsolateContext(),__subContextEngine__.isIsolateContext()||__doWAServiceInit__()):__doWAServiceInit__(),__subContextEngine__.initAppRelatedContexts(__exportGlobal__)}();var __WAServiceEndTime__=Date.now();