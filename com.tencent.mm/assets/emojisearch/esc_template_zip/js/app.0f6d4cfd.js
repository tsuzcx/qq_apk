(function(e){function t(t){for(var o,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},a=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0370":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"client-image",class:{placeholder:!(e.loadedThumb||e.loaded)},style:{backgroundImage:"url("+e.imageUrl+")",backgroundSize:e.backgroundSize}},[e.loaded?e._e():n("Icon",{attrs:{name:"loading-white"}})],1)},r=[],a=(n("a9e3"),n("e25e"),n("3f88")),i={props:{item:Object,imgWrpWidth:Number,isProduct:Boolean},data:function(){return{imageUrl:this.$props.item.thumb||"",loaded:!1,loadedThumb:!1,backgroundSize:"",ratio:2}},created:function(){var e=this;this.id="".concat(Math.random()).substr(2,10);var t=new Image,n=this;t.onload=function(){var e=t.width,o=t.height,r=0;if(r=Math.max(e,o),r>n.imgWrpWidth&&(r>=140||n.isProduct));else{var a=t.width/n.ratio;t.height,n.ratio;n.backgroundSize="".concat(parseInt(Math.max(30,a)/n.imgWrpWidth*1e4)/100,"%")}t=null,n.loadedThumb=!0},t.src=this.imageUrl,a["a"].$on(this,a["b"].onSearchImageListReady,(function(t){if(t[e.id]){var n=t[e.id],o=new Image;o.onload=function(){e.$data.imageUrl=n,e.$data.loaded=!0,o=null},o.src=n}})),a["e"].dispatch("api/getSearchImageList",{id:this.id,item:this.$props.item})}},s=i,c=(n("281d"),n("2877")),u=Object(c["a"])(s,o,r,!1,null,"93c3dab4",null);t["default"]=u.exports},"06c50":function(e,t,n){},"0895":function(e,t,n){"use strict";n("a08e")},"0c3d":function(e,t,n){"use strict";n("304c")},1051:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"online-image",class:{placeholder:!(e.loadedThumb||e.loadedOrigin)},style:{backgroundImage:"url("+(e.loadedOrigin||e.loadedThumb)+")"}},[e.loadedOrigin?e._e():n("Icon",{attrs:{name:"loading-white"}})],1)},r=[],a={props:{thumb:String,origin:String},data:function(){return{loadedThumb:"",loadedOrigin:""}},watch:{thumb:function(e){var t=this;this.asyncLoadImage(e,(function(e){t.loadedThumb=""}),(function(e){t.loadedThumb=e}))},origin:function(e){var t=this;this.asyncLoadImage(e,(function(e){t.loadedOrigin=""}),(function(e){t.loadedOrigin=e}))}},created:function(){var e=this;this.asyncLoadImage(this.thumb,(function(t){e.loadedThumb=""}),(function(t){e.loadedThumb=t})),this.asyncLoadImage(this.origin,(function(t){e.loadedOrigin=""}),(function(t){e.loadedOrigin=t}))},methods:{asyncLoadImage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e){t&&t(e);var o=new Image;o.onload=function(){n&&n(e),o=null},o.src=e}}}},i=a,s=(n("c0a9"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"26e6ea19",null);t["default"]=c.exports},1191:function(e,t,n){},"12f9":function(e,t,n){},"1d2b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"block-title"},[n("span",[e._v(e._s(e.block.title))])])},r=[],a={props:["block"]},i=a,s=(n("82ef"),n("2877")),c=Object(s["a"])(i,o,r,!1,null,"49795935",null);t["default"]=c.exports},"1e01":function(e,t,n){"use strict";n("12f9")},"22dd":function(e,t,n){"use strict";n("bfd2")},2323:function(e,t,n){var o={"./BlockHeader.vue":"1d2b","./ClientImage.vue":"0370","./Icon.vue":"cdae","./OnlineImage.vue":"1051","./ScrollBox.vue":"caee"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="2323"},2395:function(e,t,n){},"25d4":function(e,t,n){},"281d":function(e,t,n){"use strict";n("d77d")},"2bc5":function(e,t,n){"use strict";n("1191")},"304c":function(e,t,n){},"320a":function(e,t,n){"use strict";n("6afc")},"3f88":function(e,t,n){"use strict";n.d(t,"e",(function(){return oe})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return ae})),n.d(t,"f",(function(){return I})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));n("ac1f"),n("5319"),n("99af"),n("1276"),n("d3b7"),n("159b"),n("b64b");var o=n("2b0e"),r=n("2f62"),a=n("ade3"),i=n("5530"),s=n("53ca"),c=(n("e9c4"),n("c975"),!1),u=[],l={hasEmojiWebSearchJSApi:function(){return"object"===Object(s["a"])(window.emojiWebSearchJSApi)},ready:function(e){"object"===("undefined"===typeof WeixinJSBridge?"undefined":Object(s["a"])(WeixinJSBridge))&&"function"===typeof window.WeixinJSBridge.invoke?e():document.addEventListener("WeixinJSBridgeReady",e,!1)},invoke:function(e,t,n,o){if(this.hasEmojiWebSearchJSApi()&&"function"===typeof window.emojiWebSearchJSApi[e]){var r=window.emojiWebSearchJSApi[e](JSON.stringify(t||{}));n&&n(r?JSON.parse(r):void 0)}else{var a=function(){window.WeixinJSBridge.invoke(e,Object.assign({timeStamp:+new Date},t||{}),n)};this.ready((function(){o?a():setTimeout(a,0)}))}},on:function(e,t){if(!t)throw new Error("WXJS.on need callback.");this.hasEmojiWebSearchJSApi()?window[e.replace(/:/g,"_")]=t:this.ready((function(){window.WeixinJSBridge.on(e,t)}))},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.hasEmojiWebSearchJSApi()?console.log(e):this.invoke("log",{msg:e,level:t})}},d="[emo-search-web]",p={hasEmojiWebSearchJSApi:l.hasEmojiWebSearchJSApi,ready:l.ready,invoke:function(e,t,n,o){c&&u.indexOf(e)<0&&console.log("%c DevLog","color: #10aeff","WXJS invoke ".concat(e,", args: "),t),l.log("".concat(d," WXJS invoke ").concat(e,", args: ").concat(JSON.stringify(t),".")),l.invoke(e,t,(function(t){l.log("".concat(d," WXJS invoke ").concat(e,", resp: ").concat(JSON.stringify(t),".")),n&&n(t)}),o)},on:function(e,t){l.on(e,(function(n){c&&u.indexOf(e)<0&&console.log("%c DevLog","color: #10aeff","WXJS on ".concat(e,", data: "),n),t&&t(n)}))},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";l.log("".concat(d," ").concat(e),t)}},h=n("78fa"),f=n.n(h),m=new f.a("global"),g={onUiInit:"onUiInit",onSearchDataReady:"onSearchDataReady",onMMWebSearchDataReady:"onMMWebSearchDataReady",onSearchImageListReady:"onSearchImageListReady",onSearchInputChange:"onSearchInputChange",onSearchInputConfirm:"onSearchInputConfirm",viewChange:"viewChange"};n("7db0");function v(e,t){var n={};m.$on(this,t,(function(e){if(e){var o=e.requestId;o&&n[o]?(clearTimeout(n[o].timeout),n[o].resolve(e),delete n[o]):p.log("This ".concat(t," mismatch. Revice requestId is: ").concat(o,", local requestIds is: ").concat(JSON.stringify(Object.keys(n))))}else p.log("".concat(t," resp is empty!"))})),this.send=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(o,{timeout:1e4});var r=t.requestId||"".concat(Math.random()).substr(2,10);return new Promise((function(a,i){p.invoke(e,Object.assign({requestId:r},t));var s=setTimeout((function(){delete n[r],i(new Error(JSON.stringify({reason:"timeout",requestId:r})))}),o.timeout);n[r]={resolve:a,timeout:s}}))}}n("00b4"),n("a9e3"),n("d81d"),n("25f0");var y={TRANSITION_END_EVENT:function(){var e=document.createElement("fakeelement"),t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}(),PARENT_TYPE:{UN_KNOW:0,SUG:1,MORE:8,SEARCH_HISTORY:13,HOT_WORD:49,ENTER_INPUT_CONFIRM:53},ITEM_TYPE:{BIZ:1,ARTICLE:2,STICKERS_BANNER:12,SPECFIC_QA:13,MEDICAL_ENCYCLOPEDIA:23,WIDGET:53,VIDEO_ACCOUNT:62,APP_ACC:64,WEAPP:64,VIDEO:73,STICKERS_SINGLE:256,STICKERS_ALL:384,MUSIC:512,SLOT_MACHINE:78,PEDIA:16777728,MEDICAL_PEDIA:90},FONT_WORD_TYPE:{FONT_BOX:1,DESC_BOX:2,BTNS_BOX:3},VIEW:{RESULT:"result",TEACH:"teach"},LOCAL_STORAGE:{TEACH_HISTORY:"TEACH_HISTORY"},LOAD_MORE_STATUS:{LOADING:"LOADING",NO_MORE:"NO_MORE",ERROR:"ERROR"},JUMP_TYPE:{BIZ:1,WEAPP:2,H5:3,VERTICAL:4,TOP_STORY:6,VIDEO_ACCT_PROFILE:7,TOP_STORY_VIDEO_FLOW:8,VIDEO_ACCT_FEED:9},STICKER_TYPE:{UNKNOWN:0,ALBUM:1,ALBUM_EMOTICON:2,ITEM_EMOTICON:3,CUSTOM_EMOTICON:4}},b=!1,S="console"===Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BUILD,I={log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";p.log(e,t)},devLog:function(){if(b){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.info.apply(this,["%c DevLog","color: #10aeff"].concat(t))}else S&&console.info.apply(this.args)},isEmpty:function(e){return void 0===e||null===e||(Array.isArray(e)||"string"===typeof e?!e.length:"object"===Object(s["a"])(e)?!Object.keys(e).length:e)},object2params:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return encodeURIComponent(e)},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};if("object"!==Object(s["a"])(e))return"";var o=[];return Object.keys(e).forEach((function(r){o.push("".concat(n(r),"=").concat(t(e[r])))})),o.join("&")},addParamsToURLSearch:function(e,t){if(!e)return"";var n="string"===typeof t?t:this.object2params(t);return/\?/.test(e)?e.replace(/\?/,"?".concat(n,"&")):/#/.test(e)?e.replace(/#/,"?".concat(n,"#")):"".concat(e,"?").concat(n)},deepClone:function(e){var t=this;if(!e)return e;var n,o=[Number,String,Boolean];return o.forEach((function(t){e instanceof t&&(n=t(e))})),"undefined"===typeof n&&("[object Array]"===Object.prototype.toString.call(e)?(n=[],e.forEach((function(e,o){n[o]=t.deepClone(e)}))):"object"===Object(s["a"])(e)?e.nodeType&&"function"===typeof e.cloneNode?n=e.cloneNode(!0):e.prototype?n=e:e instanceof Date?n=new Date(e):(n={},Object.keys(e).forEach((function(o){n[o]=t.deepClone(e[o])}))):n=e),n},xss:function(e){return"string"!==typeof e?e:(e=e||"",e.replace(/<(?!(em|\/em|br|br\/|<|>)).*?>/gi,(function(e){return e=e||"",e.replace(/</g,"&lt;").replace(/>/g,"&gt;")})))},setCache:function(e,t){localStorage.setItem("tag-search:".concat(e),JSON.stringify(t))},getCache:function(e){try{return JSON.parse(localStorage.getItem("tag-search:".concat(e)))}catch(t){console.error(t),this.log("localStorage ".concat(e," parse error, ").concat(t.name,", ").concat(t.message,", ").concat(t.stack))}},clearCaceh:function(e){localStorage.removeItem("tag-search:".concat(e))},genWeAppSubScene:function(e){return[1,e.adBuffer,e.clickId,e.widgetStatBuffer,e.isWidget,e.widgetId,e.widgetAppId,e.type,e.subType,e.scene].map((function(e){return"undefined"===typeof e?"":e})).join(":")},composeParentSid:function(e){return e=Object.assign({t:y.PARENT_TYPE.UN_KNOW,s:"",did:"",rid:""},e),[e.t,e.s,e.did,e.rid].join(":")},isDarkMode:function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},getScrollTop:function(){return document.body.scrollTop||document.documentElement.scrollTop},setScrollTop:function(e){document.body.scrollTop=e,document.documentElement.scrollTop=e},getStyle:function(e,t){var n,o=e.ownerDocument||document,r=o.defaultView;return r&&r.getComputedStyle?(t=t.replace(/([A-Z])/g,"-$1").toLowerCase(),r.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?(t=t.replace(/\-(\w)/g,(function(e,t){return t.toUpperCase()})),n=e.currentStyle[t],/^\d+(em|pt|%|ex)?$/i.test(n)?function(t){var n=e.style.left,o=e.runtimeStyle.left;return e.runtimeStyle.left=e.currentStyle.left,e.style.left=t||0,t="".concat(e.style.pixelLeft,"px"),e.style.left=n,e.runtimeStyle.left=o,t}(n):n):void 0},loadjs:function(e){return new Promise((function(t,n){var o=window.document.createElement("script");o.onload=t,o.onerror=n,o.src=e,window.document.head.appendChild(o)}))},throttle:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=0;return function(){if(!(+new Date-n<t)){n=+new Date;for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];e.apply(this,r)}}},generateGuuId:function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}));return t}},T="getSearchData",k="onSearchDataReady",w=new v(T,k);function _(e,t){t.forEach((function(t){var n=e.find((function(e){return e.key===t.key}));n?Object.assign(n,t):e.push(t)}))}function E(e,t){var n=e.rootState,o=e.dispatch,r=n.Env;return new Promise((function(e,a){var i="".concat(Math.random()).substr(2,10),s=[{key:"netType",textValue:"wifi"},{key:"currentPage",uintValue:t.currentPage||1},{key:"requestId",textValue:t.requestId||i||""},{key:"widgetVersion",uintValue:r.widgetVersion},{key:"emojiChatSearchExtInfo",textValue:JSON.stringify({ChatId:r.talker,SessionId:r.sessionId,PageBuff:"",Scene:1,QuerySource:t.querySource||1})}];(t.cookies||n.result.cookies)&&_(s,[{key:"cookies",textValue:t.cookies||n.result.cookies}]),(t.parentSearchID||n.parentSearchID)&&_(s,[{key:"parentSearchID",textValue:t.parentSearchID||n.parentSearchID}]),r.queryString.cursorIndex&&_(s,[{key:"cursorIndex",uintValue:+r.queryString.cursorIndex}]),r.extParams.crossExtReqParams&&_(s,r.extParams.crossExtReqParams),t.extReqParams&&_(s,t.extReqParams),t=Object.assign({requestId:i,extReqParams:s,sessionId:r.sessionId,subSessionId:r.subSessionId,version:r.version,wechatVersion:r.wechatVersion,scene:r.scene,sceneActionType:n.sceneActionType,sugId:"",type:r.type,subType:r.subType,query:n.result.query,isHomePage:r.isHomePage,currentPage:1,offset:0,returnQuery:"",searchId:n.result.searchId},t),o("report/reportIDKey",{key:4},{root:!0}),w.send(t).then((function(t){if(t.json)try{t.json=JSON.parse(t.json),I.log("".concat(k," receive, resp: ").concat(JSON.stringify(t)))}catch(n){o("report/reportIDKey",{key:5,rate:1},{root:!0}),console.error(n),I.log("".concat(k," parse error! Data is: ").concat(t.json))}console.log("api send"),e(t)})).catch(a)}))}var O="getMMWebSearchData",x="onMMWebSearchDataReady",P=new v(O,x);function M(e,t){t.forEach((function(t){var n=e.find((function(e){return e.key===t.key}));n?Object.assign(n,t):e.push(t)}))}function D(e,t){var n=e.rootState,o=e.dispatch,r=n.Env;return new Promise((function(e,a){var i="".concat(Math.random()).substr(2,10),s=[{key:"netType",textValue:"wifi"},{key:"currentPage",uintValue:t.currentPage||1},{key:"requestId",textValue:t.requestId||i||""},{key:"widgetVersion",uintValue:r.widgetVersion}];(t.cookies||n.result.cookies)&&M(s,[{key:"cookies",textValue:t.cookies||n.result.cookies}]),(t.parentSearchID||n.parentSearchID)&&M(s,[{key:"parentSearchID",textValue:t.parentSearchID||n.parentSearchID}]),r.queryString.cursorIndex&&M(s,[{key:"cursorIndex",uintValue:+r.queryString.cursorIndex}]),r.extParams.crossExtReqParams&&M(s,r.extParams.crossExtReqParams),t.extReqParams&&M(s,t.extReqParams),t=Object.assign({requestId:i,extReqParams:s,sessionId:r.sessionId,subSessionId:r.subSessionId,version:r.version,wechatVersion:r.wechatVersion,scene:r.scene,sceneActionType:n.sceneActionType,sugId:"",type:r.type,subType:r.subType,query:n.result.query,isHomePage:r.isHomePage,currentPage:1,offset:0,returnQuery:"",searchId:n.result.searchId},t),o("report/reportIDKey",{key:4},{root:!0}),P.send(t).then((function(t){if(t.json)try{t.json=JSON.parse(t.json),t.json.data=t.json.data||[],I.log("".concat(x," receive, resp: ").concat(JSON.stringify(t)))}catch(n){o("report/reportIDKey",{key:5,rate:1},{root:!0}),console.error(n),I.log("".concat(x," parse error! Data is: ").concat(t.json))}console.log("api send"),e(t)})).catch(a)}))}var j,C=null,N=[];function A(e,t){e.rootState,e.dispatch;var n=t.id,o=t.item,r=void 0===o?{}:o;return new Promise((function(e){r.processed||(4===r.type?N.push({id:n,imageUrl:r.thumb||r.encryptUrl||"",raw:r.encryptUrl,emojiType:r.type}):N.push({id:n,imageUrl:r.thumb||"",md5:r.md5,designerId:r.designerId||"",aesKey:r.aesKey,encryptUrl:r.encryptUrl,productUrl:r.productUrl||"",express:r.express,emojiType:r.type}),C&&clearTimeout(C),C=setTimeout((function(){p.invoke("getSearchImageList",{data:N,requestType:1},e),N=[]}),300))}))}function R(e){var t=e.rootState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.Env;return new Promise((function(e){var r=Object.assign({scene:o.scene,sessionId:o.sessionId,requestId:"".concat(Math.random()).substr(2,10),h5Version:o.version,searchId:t.result.searchId,query:t.result.query},n.args);if(n.block){var a=n.block;if(n.item){var i=JSON.parse(JSON.stringify(n.item));i.isGenSticker&&(delete i.productID,delete i.designerId),a=Object.assign({},n.block,{items:[i]})}r.content=a}r.content&&(Object.assign(r.content,{tagSearchByPass:n.byPass}),r.content=JSON.stringify(r.content)),r.screenshot&&"number"===typeof r.screenshot.w&&"number"===typeof r.screenshot.h&&(r.screenshot.h=Math.min(r.screenshot.w/1.25,r.screenshot.h)),p.invoke("setSearchTagResult",r,e)}))}[g.onSearchDataReady,g.onMMWebSearchDataReady,g.onSearchImageListReady,g.onSearchInputChange,g.onSearchInputConfirm].forEach((function(e){p.on(e,(function(t){switch(e){case g.onSearchImageListReady:if(t&&0===t.ret&&t.data){t.data=JSON.parse(t.data);for(var n={},o=0,r=t.data.length;r>o;o++){var a=t.data[o];n[a.id]=a.src}t=n}else t={};break}m.$emit(e,t)}))}));var L={namespaced:!0,actions:(j={getSearchData:E,getMMWebSearchData:D,getSearchImageList:A,setSearchTagResult:R,openWeAppPage:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("openWeAppPage",t,e)}))},openWeAppProfile:function(e,t){var n=e.rootState;e.dispatch;return new Promise((function(e){p.invoke("openWeAppProfile",{searchId:n.result.searchId,scene:n.Env.scene,fromScene:0,type:384,docId:t.docID,weAppUsername:t.weappUserName},e)}))},startSearchItemDetailPage:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("startSearchItemDetailPage",t,e)}))},openSearchWebView:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("openSearchWebView",t,e)}))},openEmotionPage:function(e,t){var n=e.rootState;e.dispatch;return new Promise((function(e){p.invoke("openEmotionPage",Object(i["a"])({scene:n.Env.scene,fromSearchType:1},t),e)}))},enterEmojiStore:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("enterEmojiStore",t,e)}))},openEmojiProductPage:function(e,t){var n=e.rootState;e.dispatch;return new Promise((function(e){p.invoke("openEmojiProductPage",{precedingScene:0,entranceScene:0,fromPop:!0,searchId:n.result.searchId,scene:n.Env.scene,docId:t.docID,productId:t.productID},e)}))},openEmojiDesignerPage:function(e,t){var n=e.rootState;e.dispatch;return new Promise((function(e){p.invoke("openEmojiDesignerPage",{precedingScene:0,entranceScene:0,fromPop:!0,searchId:n.result.searchId,scene:n.Env.scene,docId:t.docID,designerId:t.designerId,designerName:t.designerName,designerThumbUrl:t.designerThumb},e)}))},getSearchDisplayNameList:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("getSearchDisplayNameList",t,e)}))},getSearchAvatarList:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("getSearchAvatarList",t,e)}))},setSearchInputWord:function(e,t){e.rootState,e.dispatch;return new Promise((function(e){p.invoke("setSearchInputWord",{word:t.query,isInputChange:t.isInputChange||!1},e)}))}},Object(a["a"])(j,"getSearchDisplayNameList",(function(e,t){e.rootState,e.dispatch;return new Promise((function(e,n){p.invoke("getSearchDisplayNameList",{data:[{userName:t.userName}]},(function(t){try{var o=JSON.parse(t.data)[0];e({userName:o.userName,displayName:o.displayName,displaySex:o.displaySex})}catch(r){n(r)}}))}))})),Object(a["a"])(j,"hideVKB",(function(e,t){var n=e.rootState;e.dispatch;return new Promise((function(e){n.Env.isAndroid?p.invoke("hideVKB",t,e):e()}))})),j)},B={namespaced:!0,actions:{}};function U(e){return new Promise((function(t){p.invoke("reportSearchStatistics",e,t)}))}function q(e){return new Promise((function(t){p.invoke("reportSearchRealTimeStatistics",e,t)}))}var W={namespaced:!0,actions:{reportKV:function(e,t){e.rootState;var n=t.id,o=t.arr;U({logId:n,logString:o.join(",")})},reportRealTime:function(e,t){var n=e.rootState,o=n.Env;t=Object.assign({parentSearchID:n.parentSearchID,parentType:n.parentType,query:n.result.query,scene:o.scene,sceneActionType:n.sceneActionType,sessionId:o.sessionId,subSessionId:o.queryString.subSessionId||"",type:o.type,subType:o.subType,wechatVersion:o.wechatVersion,isHomePage:o.isHomePage,h5version:o.version,netType:o.netType,suggestionId:""},t),I.devLog("上报数据",t),q({logString:I.object2params(t,void 0,(function(e){return e.toLowerCase()}))})},reportIDKey:function(e,t){e.rootState;var n=t.key,o=t.rate,r=void 0===o?.1:o,a={rkey:n,rate:r,rvalue:1,rid:223074};if(Math.random()<=a.rate){var i=new Image;i.src="https://support.weixin.qq.com/cgi-bin/mmsupport-bin/reportforweb?".concat(I.object2params(a)),setTimeout((function(){i=null}),200)}},reportEventTrack:function(e,t){var n=e.rootState,o=n.Env,r=n.result;U({logId:14904,logString:[t.actionType||0,o.scene,o.sessionId,o.subSessionId,r.searchId,t.offset||0,o.isHomePage?1:0,r.requestId,t.timeStamp||+new Date,o.netType,t.isSuccess||0,r.query.replace(/,/g," "),t.tabId||0,o.type,o.version,o.queryString.isPreload].join(",")})}}},V=(n("498a"),n("a434"),n("3835"));n("841c");function $(e){for(var t={},n=e.split("&"),o=0;o<n.length;o+=1){var r=n[o].split("="),a=Object(V["a"])(r,2),i=a[0],s=a[1];"undefined"===typeof t[i]?t[i]=s:"string"===typeof t[i]?t[i]=[t[i],s]:t[i].push(s)}return t}function F(e){if(e.extParams)try{return JSON.parse(decodeURIComponent(decodeURIComponent(e.extParams)))}catch(t){return{}}return{}}var J=$(window.location.search.substring(1)),H=F(J),G={query:decodeURIComponent(J.toSendText||J.query||"").trim(),searchId:J.searchId||"",cookies:H.cookies||"",requestId:"",blocks:[],gData:{},loadMoreBar:{status:y.LOAD_MORE_STATUS.LOADING},isGettingData:!1,continueFlag:1,currentPage:0,offset:0},K={updateState:function(e,t){var n=Object.keys(e);Object.keys(t).forEach((function(o){n.indexOf(o)<0?console.error('There is no key "'.concat(o,'" in state.')):"blocks"!==o?e[o]=t[o]:console.error('Update blocks needs to use mutation "updateBlocks"')}))},updateBlocks:function(e,t){Array.isArray(t)?e.blocks=t:console.error("blocks must be a array.")},updateBlocksByRet:function(e,t){if(e.blocks.find((function(e){return 1==e.localId}))||e.blocks.push({type:256,items:[],title:"搜索结果",moreText:'搜一搜 <em class="highlight">'.concat(e.query,"</em> 更多表情"),moreInfo:{moreID:"256",tabType:256},query:e.query,vuePage:1,localId:1}),t.data&&t.data.length){var n=e.blocks.find((function(e){return 1==e.localId}));n.items=n.items.concat(t.data)}if(t.genData&&t.genData.length){e.blocks.find((function(e){return 2==e.localId}))||e.blocks.unshift({type:256,items:[],title:"智能表情",moreText:"",moreInfo:{moreID:"256",tabType:256},query:e.query,vuePage:1,localId:2});var o=e.blocks.find((function(e){return 2==e.localId}));o.items=o.items.concat(t.genData)}},updateBlocksByRetInMore:function(e,t){if(t.data&&t.data.length)if(t.isDivide)e.blocks=e.blocks.concat(t.data);else{var n=e.blocks[e.blocks.length-1],o=t.data.splice(0,1)[0];n&&n.type===o.type?(n.items?n.items=n.items.concat(o.items):n.items=o.items,e.blocks=e.blocks.concat(t.data)):e.blocks=e.blocks.concat(o).concat(t.data)}},updateLoadMoreBar:function(e,t){var n=t.status,o=t.text;e.loadMoreBar={status:n,text:o}},resetBlocks:function(e){e.blocks=[]},clearSearchId:function(e){e.searchId=""}},z={getSearchData:function(e,t){var n=e.state,o=e.rootState,r=e.dispatch,a=e.commit;return new Promise((function(e,i){if(!n.isGettingData||t.isNewSearch){var s=I.generateGuuId();a("updateState",{isGettingData:!0,requestId:s}),t.isNewSearch&&(a("updateState",{gData:{},continueFlag:1,currentPage:0,offset:0}),a("resetBlocks"),a("updateLoadMoreBar",{status:y.LOAD_MORE_STATUS.LOADING,text:n.gData.loadingText}),t.query&&a("updateState",{query:t.query})),0===n.offset&&n.blocks.length&&a("updateIsNewSearching",!0,{root:!0}),r("report/reportEventTrack",{actionType:3,offset:n.offset},{root:!0}),r(ae.isMore?"api/getMMWebSearchData":"api/getSearchData",{currentPage:n.currentPage+1,offset:n.offset,query:t.query||o.result.query,querySource:t.querySource||1,requestId:s},{root:!0}).then((function(e){if(n.requestId===e.requestId){var o=e.json;if(r("report/reportEventTrack",{actionType:8,offset:o&&o.offset||0,requestId:e.requestId},{root:!0}),!o||0!==o.ret)return a("updateLoadMoreBar",{status:y.LOAD_MORE_STATUS.ERROR,text:o&&o.retryText}),setTimeout((function(){r("report/reportEventTrack",{actionType:9,offset:o&&o.offset||0,requestId:e.requestId,isSuccess:2},{root:!0})})),void i("!json || json.ret !== 0");if(t.isNewSearch&&a("resetBlocks"),a("updateState",{currentPage:n.currentPage+1}),ae.isMore)o.data.forEach((function(e){e.vuePage=n.currentPage,e.items&&e.items.forEach((function(e){e.vuePage=n.currentPage}))}));else{var s=function(e){var t=[null,e.album,e.albumEmoticon,e.itemEmoticon,e.customEmoticon][e.type]||{},o=t.albumBaseInfo,r=void 0===o?{}:o,a=t.designerBaseInfo,i=void 0===a?{}:a,s=t.articleAbs,c=void 0===s?{}:s,u=t.appAbs,l=void 0===u?{}:u,d=t.bizAbs,p=void 0===d?{}:d;return{docID:e.docID,type:e.type,md5:t.md5,thumb:t.thumb,encryptUrl:t.encryptUrl,aesKey:t.aesKey,meaning:t.meaning,activityId:t.activityId,designerId:i.designerId,designerName:i.designerName,designerThumb:t.designerThumb,productName:r.productName,productID:r.productId,productUrl:r.productUrl,sourceType:t.sourceType,sourceTitle:t.sourceTitle,needSavePhotosAlbum:t.needSavePhotosAlbum,articleSource:c.articleSource,weappUserName:l.weappUserName,weappVersion:l.weappVersion,bizDetail:JSON.parse(p.bizDetail||"{}"),vuePage:n.currentPage,isGenSticker:Boolean(e.tmplEmoticonInfo)}};o.data=(o.data||[]).map(s),o.genData=(o.genData||[]).map(s),o.continueFlag=0}a("updateLoadMoreBar",{status:o.continueFlag?y.LOAD_MORE_STATUS.LOADING:y.LOAD_MORE_STATUS.NO_MORE,text:o.continueFlag?o.loadingText:o.nomoreText}),a("updateState",{gData:o,offset:void 0!==o.offset?o.offset:n.offset,continueFlag:o.continueFlag?1:0,query:o.query,searchId:o.searchID,cookies:o.cookies,requestId:e.requestId}),ae.isMore?a("updateBlocksByRetInMore",o):a("updateBlocksByRet",o),setTimeout((function(){r("report/reportEventTrack",{actionType:9,offset:o&&o.offset||0,requestId:e.requestId,isSuccess:1},{root:!0})}))}})).catch((function(e){console.error(e),t.isNewSearch&&a("resetBlocks"),a("updateLoadMoreBar",{status:y.LOAD_MORE_STATUS.ERROR}),setTimeout((function(){r("report/reportEventTrack",{actionType:9,isSuccess:2},{root:!0})}))})).then((function(){a("updateState",{isGettingData:!1}),a("updateIsNewSearching",!1,{root:!0}),e()}))}else i("isGettingData = true")}))},clearSearchId:function(e){e.state,e.rootState,e.dispatch;var t=e.commit;t("clearSearchId")}},Y={},Z={namespaced:!0,state:G,getters:Y,actions:z,mutations:K};console.log("queryString: ",J),console.log("extParams: ",H);var Q=!1;function X(){var e=67e6,t=[];return window.navigator.userAgent.replace(/MicroMessenger\/([\d.]+)/,(function(n,o){o="".concat(o),o=o.replace(/\./g,""),t.length=9-o.length<0?0:9-o.length,o="".concat(o).concat(t.join("0")),e="".concat(o.substring(0,4),"0000")})),e}function ee(e,t){return t||(t=F(e)),{DEV:Q,version:50000014,wechatVersion:+e.wechatVersion||0,queryString:e,extParams:t,isAndroid:e.platform&&"android"===e.platform.toLocaleLowerCase(),isIos:e.platform&&"ios"===e.platform.toLocaleLowerCase(),scene:+e.scene||0,netType:e.netType||"wifi",sessionId:e.sessionId||"",subSessionId:e.subSessionId||"",type:+e.type||256,subType:+t.subType||+e.subType||0,isHomePage:0,clientVersion:X(),talker:decodeURIComponent(e.talker||""),isMore:Boolean(+e.type)}}function te(e){return e&&e.split(":").length?+e.split(":")[0]:0}var ne=ee(J,H);o["a"].use(r["a"]);var oe=new r["a"].Store({strict:Q,modules:{api:L,cgi:B,report:W,result:Z},state:{Env:ne,parentSearchID:H.parentSearchID||"",sceneActionType:+J.sceneActionType||+ne.extParams.sceneActionType||(J.query?11:1),parentType:te(H.parentSearchID),isNewSearching:!1,inputFinishTimestamp:+new Date},mutations:{mergeQueryString:function(e,t){var n=Object.assign({},J,t);Object.assign(e.Env,ee(n))},updateEnv:function(e,t){Object.assign(e.Env,t)},updateState:function(e,t){Object.keys(t).forEach((function(n){"Env"!==n?"parentSearchID"!==n?e[n]=t[n]:console.error('Update blocks needs to use mutation "updateParentSearchId"'):console.error('Update blocks needs to use mutation "updateEnv"')}))},updateParentSearchId:function(e,t){e.parentSearchID=t,e.parentType=te(t)},resetSceneActionType:function(e){e.sceneActionType=1,console.log("RESET SCENE",e.sceneActionType)},updateIsNewSearching:function(e,t){e.isNewSearching=t}},actions:{onSearchInputChange:function(e,t){var n=e.commit;e.dispatch;return new Promise((function(e){n("updateState",{inputFinishTimestamp:+new Date}),e()}))},onSearchInputConfirm:function(e,t){var n=e.state,o=e.commit,r=e.dispatch;return new Promise((function(e){var a=n.result,i=t.query&&t.query.replace(/^#\s/,"")||"";o("updateParentSearchId",""),r("report/reportEventTrack",{actionType:17,timeStamp:n.inputFinishTimestamp,query:i||a.query}),r("report/reportEventTrack",{requestId:a.requestId,actionType:11,query:i||a.query}),e(i)}))}}}),re=oe.state.Env,ae=re},4213:function(e,t,n){"use strict";n("908f")},"44dd":function(e,t,n){"use strict";n("6696")},"477c":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("1276"),n("e9c4"),n("841c");var o=n("3f88"),r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",class:{android:e.isAndroid},attrs:{id:"app"},on:{"!touchstart":function(t){return e.onTouchStart.apply(null,arguments)}}},[n("keep-alive",[n("router-view")],1)],1)},i=[],s=(n("498a"),n("f7fe")),c=n.n(s),u=n("8c4f"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"teach"},[n("div",{staticClass:"teach-inner",on:{click:e.toEmoStore}},[n("span",[e._v("更多表情")]),n("Icon",{attrs:{name:"access"}})],1)])},d=[],p={data:function(){return{}},methods:{toEmoStore:function(){o["e"].dispatch("api/enterEmojiStore",{talker:o["d"].talker,precedingScene:0,entranceScene:0}),o["e"].dispatch("report/reportKV",{id:21160,arr:[o["d"].sessionId,o["e"].state.result.searchId,0,0,0,2]})}}},h=p,f=(n("7765"),n("2877")),m=Object(f["a"])(h,l,d,!1,null,"0ada4882",null),g=m.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"result",staticClass:"result"},[n("div",{staticClass:"result-hd"}),n("ScrollBox",{staticClass:"result-bd",on:{scroll:e.onScroll,"scroll:end":e.onScrollEnd}},[e._l(e.blocks,(function(t,o){return[n(e.BlockMap[t.type],{key:t.type+"-"+o,tag:"component",attrs:{block:t,"type-pos":o+1}})]}))],2),n("div",{staticClass:"result-ft"},[e.blocks.length||"LOADING"!=e.loadMoreBar.status?e.isMore||"NO_MORE"!=e.loadMoreBar.status?n("LoadMoreBar",{staticClass:"load-more-bar",attrs:{empty:!e.blocks.length,status:e.loadMoreBar.status,text:e.loadMoreBar.text},on:{"tap:retry":e.onTapLoadMoreRetry}}):e._e():n("div",{staticClass:"loading-wrap"},[n("Icon",{attrs:{name:"loading"}})],1)],1)],1)},y=[],b=n("5530"),S=(n("13d5"),n("159b"),n("99af"),n("caad"),n("2532"),!1);try{var I={get passive(){return S={passive:!0},!0}};window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch(vt){S=!1}function T(e,t){var n=this;if("function"!==typeof e)throw"Expose must give a handler function.";t=Object.assign({isBindScrollAtContainer:!1,container:document.body,isHorizontal:!1,attr:"data-expose-id"},t),t.container=t.container||document.body,this.opt=t,this.timeout=null,this.exposedId=[],this.handler=e,this.onScroll=function(){clearTimeout(n.timeout),n.timeout=setTimeout((function(){n.analysis()}),t.dur||200)},this.resetExposeId=function(){n.exposedId=[]},t.isBindScrollAtContainer?t.container.addEventListener("scroll",this.onScroll,S):window.addEventListener("scroll",this.onScroll,S)}T.prototype.analysis=function(e){this.bounceW=window.innerWidth,this.bounceH=window.innerHeight,e&&(this.opt.attr=e);for(var t=this.opt.container.querySelectorAll("[".concat(this.opt.attr,"]")),n=[],o={height:{}},r=0,a=t.length;r<a;++r){var i=t[r],s=i.getBoundingClientRect(),c=+i.getAttribute("data-expose-ratio")||1;if(s.left+s.right!==0&&s.top+s.bottom!==0&&(Math.floor(s.left+s.width)*c<=this.bounceW&&Math.floor(s.top+s.height)*c<=this.bounceH)){var u=i.getAttribute(this.opt.attr);if(!u)continue;this.exposedId.includes(u)||(this.exposedId.push(u),n.push(u)),o.height[u]=s.height}}this.handler(n,o)},T.prototype.destory=function(){this.opt.isBindScrollAtContainer?this.opt.container.removeEventListener("scroll",this.onScroll,!1):window.removeEventListener("scroll",this.onScroll,!1)};var k,w=T,_={mounted:function(){var e=this;this.M_expose=null,this.M_exposeCache={},this.$nextTick((function(){e.M_expose=new w((function(t,n){e.M_exposeHandler(t,n)}),{container:e.$el})}))},methods:{M_flatenSource:function(){var e=this;e.blocks.length&&(e.M_exposeCache=e.blocks.reduce((function(e,t,n){return t.items?t.items.forEach((function(o,r){var a={key:o.docID,type:t.real_type||t.type,resultType:t.resultType||0,subType:t.subType||0,item:o,block:t,typePos:n+1,pos:r+1};e[o.docID]=a,e["".concat(o.docID,"|").concat(t.type)]=a})):e[t.docID]={key:t.docID,type:t.real_type||t.type,resultType:t.resultType||0,subType:t.subType||0,block:t,typePos:n+1,pos:1},e}),{}))},M_exposeHandler:function(e,t){if(e.length){console.log("曝光id:",e.join(" "));var n=this,r=0;n.M_flatenSource();var a=e.reduce((function(e,o){var a=o.split("|")[0],i=n.M_exposeCache[o]||n.M_exposeCache[a];return i&&(r=Math.max(r,i.typePos),i=n.M_makeExpand(i),e.resultsubtypelist+="".concat(i.type,":").concat(i.subType,";"),e.height+="".concat(t.height[o],";"),e.content+="".concat(i.type,":").concat(i.key,":").concat((new Date).getTime()),i.expand&&(e.content+=":".concat(i.expand)),e.content+=";",e.resultType+="".concat(i.type,":").concat(i.resultType,";")),e}),{resultsubtypelist:"",height:"",content:"",resultType:""});o["e"].dispatch("report/reportIDKey",{key:22}),n.M_makeReport(a)}},M_makeExpand:function(e){var t=e.item,n="";switch(e.block.type){case o["c"].ITEM_TYPE.WIDGET:n=encodeURIComponent(JSON.parse(t.boxInfo.providerInfo.relay_info).widget_stat_buffer);break;case o["c"].ITEM_TYPE.BIZ:o["f"].isEmpty(t.links)||(n="withMenu");break;default:n=t&&(t.expand||"")}return Object.assign({expand:n},e)},M_makeReport:function(e){var t=Object(b["a"])({isExpose:1,searchId:o["e"].state.result.searchId,pageNo:this.currentPage||1,requestId:o["e"].state.result.requestId},e);o["e"].dispatch("report/reportRealTime",t)}}},E=n("ade3"),O=(k={},Object(E["a"])(k,o["c"].ITEM_TYPE.STICKERS_SINGLE,"Sticker-Block"),Object(E["a"])(k,o["c"].ITEM_TYPE.STICKERS_ALL,"Sticker-Block"),Object(E["a"])(k,o["c"].ITEM_TYPE.WIDGET,"Widget-Block"),Object(E["a"])(k,o["c"].ITEM_TYPE.STICKERS_BANNER,"Sticker-Block"),k),x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"load-more-bar",class:{"load-more-bar__empty":e.empty}},[e.status===e.Enum.LOAD_MORE_STATUS.ERROR?[n("div",{staticClass:"load-more-bar-inner",on:{click:e.onTapRetry}},[e._v(e._s(e.text||"系统繁忙，点击重试"))])]:e.status===e.Enum.LOAD_MORE_STATUS.NO_MORE?[n("div",{staticClass:"load-more-bar-inner"},[e._v(e._s(e.text||"没有更多的搜索结果"))])]:[n("div",{staticClass:"load-more-bar-inner"},[n("Icon",{attrs:{name:"loading"}}),n("span",[e._v(e._s(e.text||"加载中"))])],1)]],2)},P=[],M={props:{status:String,text:String,empty:Boolean},methods:{onTapRetry:function(){this.$emit("tap:retry")}}},D=M,j=(n("757d"),Object(f["a"])(D,x,P,!1,null,"3c79937a",null)),C=j.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sticker-block"},[e.block.items.length?n("div",{ref:"stickersWrapper",staticClass:"sticker-item-box sticker-item-box_all",on:{touchstart:e.onTouchStart,touchend:e.onTouchEnd,touchcancel:e.onTouchEnd,touchmove:e.onTouchMove}},[e._l(e.block.items,(function(t){return[n("sticker",{key:t.docID+"|"+e.block.type,ref:"stickers",refInFor:!0,staticClass:"sticker-item",attrs:{"data-expose-id":t.docID+"|"+e.block.type,item:t,width:e.imgWrpWidth},nativeOn:{click:function(n){return e.onTapSticker(t)}}})]}))],2):n("div",{staticClass:"nomore-wrap"},[n("div",{staticClass:"nomore-inner"},[e._v(e._s(e.nomoreText))])]),!e.isMore&&e.block.moreText?n("search-more-bar",{attrs:{block:e.block}}):e._e(),n("sticker-pop-over",{ref:"popOver"})],1)},A=[],R=n("3835"),L=n("2909"),B=(n("a9e3"),n("d81d"),n("c740"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.item.encryptUrl&&e.item.aesKey?n("ClientImage",{attrs:{role:"button",item:e.item,"img-wrp-width":e.width,"is-product":!!e.item.productID}}):n("OnlineImage",{attrs:{role:"button",thumb:e.item.thumb,origin:e.item.encryptUrl}})}),U=[],q={props:["item","width"]},W=q,V=Object(f["a"])(W,B,U,!1,null,null,null),$=V.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PopOver",{ref:"popOver",staticClass:"sticker-popover__trigger",attrs:{"class-name":"sticker-popover__outter"},on:{hide:e.onHidePopover},scopedSlots:e._u([{key:"content",fn:function(){return[e.item?n("div",{staticClass:"album-popover"},[n("div",{staticClass:"album-popover__upper"},[n("sticker",{key:e.item.thumb,staticClass:"album-popover__cover",attrs:{item:e.item,width:115}}),e.name?n("div",{staticClass:"album-popover__name"},[e._v(e._s(e.name))]):e._e()],1),e.title?n("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"album-popover__lower",on:{click:function(t){return t.stopPropagation(),e.onClickSource.apply(null,arguments)}}},[n("div",{staticClass:"album-popover__lower-inner"},[n("div",{staticClass:"album-popover__title"},[e._v(e._s(e.title))]),n("Icon",{attrs:{name:"access"}})],1)]):e._e()]):e._e()]},proxy:!0}])})},J=[],H={components:{Sticker:$},data:function(){return{block:null,item:null}},computed:{name:function(){return this.item&&this.item.meaning||""},title:function(){if(!this.item)return"";if(this.item.productID)return this.item.productName?"专辑: ".concat(this.item.productName):"来自专辑";if(this.item.designerId)return this.item.designerName?"艺术家: ".concat(this.item.designerName):"来自艺术家";switch(this.item.sourceType){case 1:case 2:return"来自".concat(this.item.sourceTitle);case 3:return"来自文章"}return""}},methods:{show:function(e,t,n){var r=this;clearTimeout(this.timerHideTrigger);var a=t!=this.item;this.block=e,this.item=t,this.$nextTick((function(){r.$refs.popOver.show(n)})),a&&o["e"].dispatch("report/reportKV",{id:13810,arr:[o["d"].scene,o["e"].state.result.searchId,t.docID,5,0,0,1]})},hide:function(){this.$refs.popOver.hide()},onHidePopover:function(){var e=this;this.timerHideTrigger=setTimeout((function(){e.block=null,e.item=null}),150)},onClickSource:function(){var e=this;setTimeout((function(){e.hide()}),100);var t=function(t){var n=e.item;o["e"].dispatch("report/reportKV",{id:13810,arr:[o["d"].scene,o["e"].state.result.searchId,n.docID,5,t,0,1]})};switch(this.item.sourceType){case 1:if(this.item.weappUserName)return t(4),o["e"].dispatch("api/openWeAppProfile",{docID:this.item.docID,weappUserName:this.item.weappUserName});break;case 2:return t(5),void this.M_jump(Object(b["a"])({type:1},this.item.bizDetail));case 3:return t(3),void this.M_jump({type:2,jumpUrl:this.item.articleSource})}return this.item.productID?(t(1),o["e"].dispatch("api/openEmojiProductPage",{docID:this.item.docID,productID:this.item.productID})):this.item.designerId?(t(2),o["e"].dispatch("api/openEmojiDesignerPage",{docID:this.item.docID,designerId:this.item.designerId,designerName:this.item.designerName,designerThumb:this.item.designerThumb})):void 0}}},G=H,K=(n("1e01"),n("2bc5"),Object(f["a"])(G,F,J,!1,null,"4c28fd26",null)),z=K.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"active",rawName:"v-active"}],staticClass:"search-more-bar",on:{click:e.tapMore}},[n("div",{staticClass:"logo"}),n("div",{staticClass:"title"},[n("span",[e._v("搜一搜 ")]),n("em",{staticClass:"highlight"},[e._v(e._s(e.block.query))]),n("span",[e._v(" 更多表情")])]),n("Icon",{attrs:{name:"access"}})],1)},Z=[],Q={props:["block"],methods:{tapMore:function(){this.M_onTapBlockMore()}}},X=Q,ee=(n("d8b1"),Object(f["a"])(X,Y,Z,!1,null,"2e4125f4",null)),te=ee.exports,ne={components:{Sticker:$,StickerPopOver:z,SearchMoreBar:te},props:{block:Object,typePos:Number},data:function(){return{flagLongPress:!1,imgWrpWidth:(document.body.clientWidth-32-60)/4,isMore:o["d"].isMore}},computed:{nomoreText:function(){return o["e"].state.result.nomoreText||"暂无相关表情结果"}},created:function(){this.onLongPressMoveCheck=o["f"].throttle(this.onLongPressMoveCheck).bind(this)},methods:{onTapSticker:function(e){this.M_onTapAddBtn(e)},onTouchStart:function(e){var t=this;this.isMore||(this.timerLongPress=setTimeout((function(){t.flagLongPress=!0,t.onLongPressMoveCheck(e)}),500))},onTouchEnd:function(){this.isMore||(clearTimeout(this.timerLongPress),this.flagLongPress=!1)},onTouchMove:function(e){this.isMore||(this.onLongPressMoveCheck(e),this.flagLongPress&&e.preventDefault())},onLongPressMoveCheck:function(e){var t=this;if(clearTimeout(this.timerLongPress),this.flagLongPress){var n=Object(L["a"])(new Array(4).keys()).map((function(e){return[(t.imgWrpWidth+20)*e,(t.imgWrpWidth+20)*e+t.imgWrpWidth]})),o=Object(L["a"])(new Array(Math.ceil(this.block.items.length/4)).keys()).map((function(e){return[(t.imgWrpWidth+16)*e,(t.imgWrpWidth+16)*e+t.imgWrpWidth]})),r=e.changedTouches[0],a=r.clientX,i=r.clientY,s=this.$refs.stickersWrapper.getBoundingClientRect(),c=s.x,u=s.y,l=a-c-16,d=i-u-8,p=n.findIndex((function(e){var t=Object(R["a"])(e,2),n=t[0],o=t[1];return n<=l&&l<=o})),h=o.findIndex((function(e){var t=Object(R["a"])(e,2),n=t[0],o=t[1];return n<=d&&d<=o})),f=4*h+p;-1!==p&&-1!==h&&f<this.block.items.length&&this.onLongPressSticker(f)}},onLongPressSticker:function(e){var t=this.block.items[e];t?this.$refs.popOver.show(this.block,t,this.$refs.stickers[e].$el):this.$refs.popOver.hide()}}},oe=ne,re=(n("fa92"),Object(f["a"])(oe,N,A,!1,null,"280de060",null)),ae=re.exports,ie={components:{StickerBlock:ae,LoadMoreBar:C},mixins:[_],data:function(){return{BlockMap:O}},computed:{isMore:function(){return o["e"].state.Env.isMore},blocks:function(){return o["e"].state.result.blocks},loadMoreBar:function(){return o["e"].state.result.loadMoreBar},currentPage:function(){return o["e"].state.result.currentPage},continueFlag:function(){return o["e"].state.result.continueFlag}},watch:{blocks:function(){var e=this;this.$nextTick((function(){if(e.M_expose&&e.M_expose.analysis(),e.blocks.length){var t=e.$refs.result.getBoundingClientRect(),n=t.bottom,o=window.innerHeight||document.documentElement.clientHeight;n<=o&&setTimeout((function(){e.continueFlag&&e.getSearchData()}),100)}}))}},methods:{getSearchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o["e"].dispatch("result/getSearchData",e).catch((function(e){console.error(e)}))},onScroll:function(){this.M_expose&&this.M_expose.analysis()},onScrollEnd:function(){this.continueFlag&&this.getSearchData()},onTapLoadMoreRetry:function(){o["e"].commit("result/updateLoadMoreBar",{status:o["c"].LOAD_MORE_STATUS.LOADING,text:o["e"].state.result.gData.loadingText}),this.getSearchData()}}},se=ie,ce=(n("320a"),Object(f["a"])(se,v,y,!1,null,"326243e6",null)),ue=ce.exports;r["a"].use(u["a"]);var le=new u["a"]({mode:"abstract",routes:[{path:"/".concat(o["c"].VIEW.RESULT),name:o["c"].VIEW.RESULT,component:ue},{path:"/".concat(o["c"].VIEW.TEACH),name:o["c"].VIEW.TEACH,component:g}]}),de={router:le,computed:{isAndroid:function(){return o["d"].isAndroid}},created:function(){var e=this;o["e"].dispatch("report/reportIDKey",{key:0}),o["a"].$on(this,o["b"].onSearchInputChange,c()((function(t){o["e"].dispatch("onSearchInputChange",t).then((function(){e.changeQuery(t.query),e.flagKbFocusing=!0}))}),100)),o["a"].$on(this,o["b"].onSearchInputConfirm,(function(t){e.changeQuery(t.query)})),this.changeQuery(o["e"].state.result.query,o["e"].state.result.query?2:1),o["e"].state.result.query&&o["e"].dispatch("api/setSearchInputWord",{query:o["e"].state.result.query,isInputChange:!1})},methods:{changeQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e=e.trim(),this.lastQuery!==e&&(e?(this.M_changeView(o["c"].VIEW.RESULT,{query:e}),this.getSearchData({isNewSearch:!0,query:e,querySource:t})):this.M_changeView(o["c"].VIEW.TEACH),this.lastQuery=e),r["a"].$popOverTmpl.hide()},getSearchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o["e"].dispatch("result/getSearchData",e).catch((function(e){console.error(e)}))},onTouchStart:function(){this.flagKbFocusing&&(o["e"].dispatch("api/hideVKB"),this.flagKbFocusing=!1)}}},pe=de,he=(n("7c55"),n("44dd"),Object(f["a"])(pe,a,i,!1,null,"28b79398",null)),fe=he.exports,me=(n("5319"),n("00b4"),n("466d"),{data:function(){return{Env:o["d"],Enum:o["c"],Util:o["f"],M_clickZoneValue:this.clickZoneProp}},computed:{dataInfo:function(){return{block:Object.assign({boxID:"",resultType:0,real_type:0,type:0,subType:0},this.block||{}),item:Object.assign({srcUserName:"",expand:""},this.item||{})}},M_moreInfo:function(){return this.block.moreText?{title:this.block.moreText,jumpInfo:{}}:null},M_exposeId:function(){return"".concat(this.item.docID,"|").concat(this.block.type)}},methods:{xss:o["f"].xss,M_changeView:function(e,t){this.$route.name!==e&&(this.$router.replace({name:e,params:t}),o["a"].$emit(o["b"].viewChange))},M_onTapAddBtn:function(e){this.M_clickReport({clickType:10,reportItem:e});var t=this.block,n=this.item||t.items[0],r=this.transformData(t,n),a={block:t,item:e||r},i=function(){var e=n.userName||t.userName,o=n.thumbUrl||t.thumbUrl;return!(!/@app$/.test(e)||o)};if(i()){var s=this.$refs.SetTagSearchInner;if(s){var c=s.getBoundingClientRect();a.args={screenshot:{x:Math.round(c.left),y:Math.round(c.top),w:Math.round(c.width),h:Math.round(c.height)}},a.item.title=r.nickName||r.title}}o["e"].dispatch("api/setSearchTagResult",a)},transformData:function(e,t){if(!t)return{};var n=Object(b["a"])({},t);e.source&&(n.nickName||(n.nickName=e.source.title));var o=n.jumpInfo;o&&n.jumpInfo.userName&&(n.userName||(n.userName=n.jumpInfo.userName),n.weappUrl||(n.weappUrl=n.jumpInfo.weappUrl));var r=n.desc;return r&&Array.isArray(r)&&(n.desc=r.join("")),n.doc_url||(n.jumpUrl?n.doc_url=n.jumpUrl:o&&(n.doc_url=n.jumpInfo.jumpUrl)),n},M_onTapBlockMore:function(){if(this.M_moreInfo){var e=this,t=e.block.moreInfo||{};e.M_clickReport({docId:"more"}),e.M_openSearchWebView({actionType:3,extParams:encodeURIComponent(JSON.stringify({crossExtReqParams:[{key:"subScene",uintValue:e.block.type===o["c"].ITEM_TYPE.APP_ACC?1:0},{key:"subType",uintValue:e.block.subType||0}],parentSearchID:o["f"].composeParentSid({t:o["c"].PARENT_TYPE.MORE,s:o["e"].state.result.searchId,did:"more",rid:o["e"].state.result.requestId}),cookies:o["e"].state.result.cookies,subType:e.block.subType||0,sceneActionType:o["e"].state.sceneActionType})),type:e.block.real_type||e.block.type,subType:e.block.subType,query:o["e"].state.result.query,isMoreButton:!0,docID:"more",scene:78,hideSearchBar:t.hideSearchBar||1,navBarColor:o["f"].isDarkMode()?"#222222":"#FFFFFF",statusBarStyle:o["f"].isDarkMode()?"white":"black",nativeConfig:{title:"更多表情"},navButtonConfig:{leftBarButtonType:"back"}})}},M_openWeAppPage:function(e){var t=e.relativeURL;if(t){var n=t.split("?"),r=n[0],a=n[1];r&&!r.match(/.html$/)&&(a=a?"?".concat(a):"",e.relativeURL="".concat(r,".html").concat(a))}e=Object.assign({scene:o["d"].scene,searchId:o["e"].state.result.searchId},e),o["e"].dispatch("api/openWeAppPage",e)},M_clickReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=Object.assign({boxID:"",resultType:0,real_type:0,type:0,subType:0},t.block||{},e.reportData||{}),r=Object.assign({title:"",jumpUrl:"",docID:""},t.item||{},e.reportItem||{}),a=Object.assign({searchId:o["e"].state.result.searchId,requestId:o["e"].state.result.requestId,reqBusinessType:o["d"].type,pageNo:r.vuePage||n.vuePage,businessType:e.type||n.real_type||n.type,resultSubType:n.subType,title:r.title,jumpUrl:r.jumpUrl||"",docId:r.docID||"",boxId:n.boxID,docPos:t.docPos||0,typePos:t.typePos||0,resultType:n.resultType,expand:r.expand||"",timestamp:Math.floor(+new Date/1e3)},e);o["e"].dispatch("report/reportRealTime",a),o["e"].dispatch("report/reportIDKey",{key:23})},M_composePublishId:function(e){if(!e.jumpUrl)return"";var t,n;try{t=this.block.real_type||this.block.type,n=this.item.docID}catch(r){t=e.type,n=e.docID}return"wes#".concat(o["e"].state.result.searchId,"#").concat(t||"","#").concat(n||"","#").concat(o["d"].isHomePage)},M_startDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=t.item||{},r=e.userName||n.userName,a=e.weappUrl||n.weappUrl;if(r){var i=Object.assign({userName:r,relativeURL:a||"",docId:n.docID,debugMode:n.debugMode||0,subScene:n.subScene||"",cookie:n.cookie||""},e);o["e"].dispatch("api/openWeAppPage",i)}else t.M_jump(e)},M_jump:function(e){var t=this,n=t.item||{},r=Object.assign({scene:o["d"].scene,sceneActionType:o["e"].state.sceneActionType,pos:t.typePos||1,type:t.block&&(t.block.real_type||t.block.type),subType:t.block.subType,srcUserName:t.item&&(t.item.srcUserName||t.item.userName),docId:n.docID,query:o["e"].state.result.query,isCurrentDetailPage:!o["d"].isHomePage,searchId:o["e"].state.result.searchId,cookie:n.cookie||"",jumpUrl:t.item&&(t.item.jumpUrl||""),isFromWebSearch:1},e);r.jumpUrl=o["f"].addParamsToURLSearch(r.jumpUrl,{searchId:r.searchId,scene:r.scene});var a=Object.assign({publishId:this.M_composePublishId(r)},r);o["e"].dispatch("api/startSearchItemDetailPage",a)},M_openSearchWebView:function(e){var t=this,n=(t.item,Object.assign({query:o["e"].state.result.query,scene:o["d"].scene,sceneActionType:o["e"].state.sceneActionType,type:t.block&&(t.block.real_type||t.block.type),subType:t.block.subType,srcUserName:t.item&&(t.item.srcUserName||t.item.userName),searchId:o["e"].state.result.searchId,sessionId:o["d"].sessionId||"",subSessionId:o["d"].subSessionId||"",publishId:t.M_composePublishId(e),isFromWebSearch:1},e));o["e"].dispatch("api/openSearchWebView",n)},M_go:function(e){var t=o["c"].JUMP_TYPE,n=this,r=n.item||{};e?e.jumpInfo&&(e=e.jumpInfo):e=n.item.jumpInfo;var a=e,i=a.jumpType;switch(i||(e.userName?i=t.WEAPP:e.jumpUrl&&(i=t.H5)),i){case t.BIZ:var s=e.basicInfo||{},c=n.M_jump(Object.assign({userName:s.UserName,nickName:s.NickName,type:1,verifyFlag:s.VerifyFlag,brandInfo:JSON.stringify(e.brandInfo||s.BrandInfo||{}),externalInfo:JSON.stringify(e.externalInfo||e.extInfo||{}),jumpUrl:""},e));return c.type=o["c"].JUMP_TYPE.BIZ,c;case t.WEAPP:var u=Object.assign({userName:e.userName,relativeURL:e.weappUrl||"",docId:e.docID||r.docID||"",subScene:r.subScene||"",cookie:r.cookie||"",debugMode:e.debugMode||0,appVersion:e.appVersion||0},e);o["e"].dispatch("api/openWeAppPage",u);break;case t.H5:var l=e,d=l.type;1===e.type&&delete e.type,n.M_jump(Object.assign({jumpUrl:e.jumpUrl,type:2},e)),"undefined"!=typeof d&&(e.type=d);break;case t.VERTICAL:n.M_openSearchWebView(Object.assign({actionType:3,extParams:"",type:0,subType:0,query:o["e"].state.result.query,scene:o["d"].scene,docID:""},e));break;case t.TOP_STORY:n.M_openSearchWebView(Object.assign({actionType:5,query:"看一看",type:2,jumpUrl:"",tagPageType:1,navBarColor:"#FFFFFF",statusBarStyle:"black"},e));break;case t.VIDEO_ACCT_PROFILE:o["e"].dispatch("api/openFinderProfile",e);break;case t.TOP_STORY_VIDEO_FLOW:var p=Object.assign({},e,{videoId:e.videoId||e.docID,videoSize:e.videoSize||0,videoUrls:e.videoUrls||[],source:(e.source?e.source.title||e.source:e.uploader).replace(/<.*?>/g,"")||"",thumbUrl:e.thumbUrl||e.image,scene:e.scene||o["d"].scene,title:(e.shareTitle||e.itemTitle||e.title).replace(/<.*?>/g,""),query:e.query||o["e"].state.result.query,searchId:e.searchId||o["e"].state.result.searchId,relevant_category:e.relevant_category||900002});o["e"].dispatch("api/doGoToRecVideoList",p);break;case t.VIDEO_ACCT_FEED:o["e"].dispatch("api/openFinderFeed",e);break;default:}}}}),ge=(n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.url?n(e.componentName,e._b({tag:"component",staticClass:"ui-image"},"component",e.$props,!1)):e._e()}),ve=[],ye={AUTO:"auto",IMG:"img"},be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui-image-svg",style:e.style})},Se=[],Ie={name:"UiImageSvg",props:{url:{type:String},color:{type:String},size:{type:Number},noRpx:Boolean},computed:{style:function(){var e=this.size?this.noRpx?"".concat(this.size,"px"):"".concat(this.size/16,"rem"):"";return{width:e,height:e,WebkitMaskImage:"url(".concat(this.url,")"),backgroundColor:this.color}}}},Te=Ie,ke=(n("0895"),Object(f["a"])(Te,be,Se,!1,null,"a71293d6",null)),we=ke.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"load-background",rawName:"v-load-background",value:e.url,expression:"url"}],staticClass:"ui-image-image",style:e.style})},Ee=[],Oe={name:"UiImageImage",props:{url:{type:String},size:{type:Number},noRpx:Boolean,backgroundSize:{type:String}},computed:{style:function(){if(this.size){var e=this.size?this.noRpx?"".concat(this.size,"px"):"".concat(this.size/16,"rem"):"";return{width:e,height:e,backgroundSize:this.backgroundSize}}return{backgroundSize:this.backgroundSize}}}},xe=Oe,Pe=(n("4213"),Object(f["a"])(xe,_e,Ee,!1,null,"b72f16e2",null)),Me=Pe.exports,De={name:"UiImage",components:{"ui-image-svg":we,"ui-image-image":Me},props:{url:{type:String,default:""},type:{type:String,default:ye.AUTO},color:{type:String,default:""},size:{type:Number,default:0},noRpx:Boolean,backgroundSize:{type:String,default:""}},computed:{componentName:function(){if(this.type===ye.IMG)return"ui-image-image";var e=this.url.split(".");return e&&e.length>1&&"svg"===e[e.length-1]?"ui-image-svg":"ui-image-image"}}},je=De,Ce=Object(f["a"])(je,ge,ve,!1,null,"51103932",null),Ne=Ce.exports;Ne.install=function(e){e.component(Ne.name,Ne)};var Ae=Ne,Re={Image:Ae},Le=function(e){Object.keys(Re).forEach((function(t){e.component(Re[t].name,Re[t])}))};"undefined"!==typeof window&&window.Vue&&Le(window.Vue);var Be=Object(b["a"])({install:Le},Re),Ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"mask"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"mask",class:e.className,on:{click:function(t){return t.stopPropagation(),e.onTapMask.apply(null,arguments)},touchmove:function(e){e.stopPropagation(),e.preventDefault()}}})])},qe=[],We={data:function(){return{isShow:!1,className:""}},methods:{show:function(e){this.isShow=!0,this.onTap=e.onTap||function(){},this.className=e.className||""},hide:function(){this.isShow=!1},onTapMask:function(){this.onTap()}}},Ve=We,$e=(n("cfce"),Object(f["a"])(Ve,Ue,qe,!1,null,"3c9ccc60",null)),Fe=$e.exports,Je={install:function(e){var t=e.extend(Fe),n=(new t).$mount();document.body.appendChild(n.$el),e.$mask=n}},He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"pop-over-trigger",on:{click:e.show}},[e._t("trigger")],2)},Ge=[],Ke={props:{className:{type:String,default:""},spacingV:{type:Number,default:12},spacingH:{type:Number,default:16}},methods:{show:function(e){e=e||this.$el;var t=r["a"].$popOverTmpl;t.element!==e&&(t.element&&t.hide(),t.childBus=this,t.className=this.className,t.spacingV=this.spacingV,t.spacingH=this.spacingH,t.element=e,t.$slots.default=this.$slots.content,t.$forceUpdate(),t.show())},hide:function(){r["a"].$popOverTmpl.hide()}}},ze=Ke,Ye=(n("0c3d"),Object(f["a"])(ze,He,Ge,!1,null,"12952ea8",null)),Ze=Ye.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],ref:"dialog",class:"pop-over "+e.className,style:e.dialogStyle,on:{touchmove:function(e){e.stopPropagation(),e.preventDefault()},click:e.onTap}},[n("div",{ref:"arrow",class:"pop-over_arrow "+e.arrowDirection,style:e.arrowStyle}),e._t("default")],2)},Xe=[];n("e25e");function et(e,t){return e.style[t]||window.getComputedStyle(e,null).getPropertyValue(t)}var tt={data:function(){return{shouldShow:!1,arrowDirection:"up",element:void 0,className:"",dialogStyle:{},arrowStyle:{}}},methods:{onTap:function(){this.childBus&&this.childBus.$emit("tap")},show:function(){var e=this;r["a"].$mask.show({className:this.className||"pop-over",onTap:function(){e.hide()}}),this.shouldShow=!0,this.$nextTick((function(){var t,n=window.innerWidth||document.documentElement.clientWidth,o=(window.innerHeight||document.documentElement.clientHeight,e.element.getBoundingClientRect()),r=parseInt(et(e.element,"width"))||o.width,a=e.$refs.dialog.getBoundingClientRect(),i=e.$refs.arrow.getBoundingClientRect(),s=a.height,c=o.top-e.spacingV-s,u={},l="transform .15s cubic-bezier(0.175, 0.885, 0.32, 1.1)",d={},p="down";if(c<0&&(c=o.bottom+e.spacingV,p="up"),o.left+r/2<n/2){var h=o.left+r/2-a.width/2,f=0;h<e.spacingH&&(h=e.spacingH),f=o.left+r/2-h-i.width/2,u.left="".concat(Math.round(h),"px"),d.left="".concat(Math.round(f),"px"),t=Math.round(100*f/a.width)}else{var m=n-o.right+r/2-a.width/2,g=0;m<e.spacingH&&(m=e.spacingH),g=n-o.right+r/2-m-i.width/2,u.right="".concat(Math.round(m),"px"),d.right="".concat(Math.round(g),"px"),t=Math.round(100*(a.width-g)/a.width)}t<0&&(t=0),t>100&&(t=100),t+="% ".concat("up"===p?"0":"100%"),Object.assign(u,{top:"".concat(Math.round(c),"px"),transform:"translateY(".concat("up"===p?"-":"","20px) scale(0)"),transformOrigin:t,opacity:0,transition:"".concat(l,", opacity .15s")}),e.arrowDirection=p,e.arrowStyle=d,e.dialogStyle=u,clearTimeout(e.showTimeout),e.showTimeout=setTimeout((function(){Object.assign(e.dialogStyle,{opacity:1,transform:"translateY(0) scale(1)"})}),100)}))},hide:function(){r["a"].$mask.hide(),this.shouldShow=!1,this.dialogStyle={},this.arrowStyle={},this.className="",this.element=void 0,this.childBus&&this.childBus.$emit("hide")}}},nt=tt,ot=(n("22dd"),Object(f["a"])(nt,Qe,Xe,!1,null,"3fed94ea",null)),rt=ot.exports,at={install:function(e){var t=e.extend(rt),n=(new t).$mount();document.body.appendChild(n.$el),e.$popOverTmpl=n,e.component("PopOver",Ze)}},it=n("53ca"),st="active",ct=100;function ut(e,t){var n=e.match(/reload=([^&]*)/);if(n){if(n=parseInt(n[1]),(n+=1)>60)return;e=e.replace(/reload=([^&]*)/,"reload=".concat(n))}else e="".concat(e+(/\?/.test(e)?"&":"?"),"reload=1");var o=new Image;o.onerror=function(){setTimeout((function(){ut(e,t)}),3e3)},o.onload=function(){t&&t(e)},o.src=e}function lt(e){var t=new Image;t.onerror=function(){ut(e,(function(t){[].forEach.call(document.querySelectorAll('[data-thumb-url="'.concat(e,'"]')),(function(e){e.style.backgroundImage="url(".concat(t,")")}))}))},t.src=e}function dt(e,t){t&&(lt(t),e.style.backgroundImage="url(".concat(t,")"),e.setAttribute("data-thumb-url",t))}r["a"].directive("tap",(function(e,t){var n=!0,o=null;"function"===typeof t.value?o=t.value:"object"===Object(it["a"])(t.value)&&(n=void 0!==t.value.active?t.value.active:n,o=t.value.callback);var r=null,a=null,i=null,s=null;function c(){r=null,clearTimeout(a),clearTimeout(i),a=null,i=null,s=null,n&&e.classList.remove(st)}e._onTouchstart&&e.removeEventListener("touchstart",e._onTouchstart),e._onTouchmove&&e.removeEventListener("touchmove",e._onTouchmove),e._onTouchend&&e.removeEventListener("touchend",e._onTouchend),e._onTouchstart=function(o){t.modifiers.stop&&o.stopPropagation(),t.modifiers.prevent&&o.preventDefault(),r=o.targetTouches[0].clientY,n&&(s=new Promise((function(t){clearTimeout(a),a=setTimeout((function(){n&&e.classList.add(st),a=null,clearTimeout(i),i=setTimeout(c,2e3),t()}),ct)})))},e._onTouchmove=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),Math.abs(e.targetTouches[0].clientY-r)<10||c()},e._onTouchend=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),s?s.then((function(){o&&o(),clearTimeout(i),i=setTimeout((function(){c()}),ct)})):null!==r&&(o&&o(),c())},e.addEventListener("touchstart",e._onTouchstart),e.addEventListener("touchmove",e._onTouchmove),e.addEventListener("touchend",e._onTouchend)})),r["a"].directive("load-background",{bind:function(e,t){dt(e,t.value)},update:function(e,t){dt(e,t.value)}});var pt="active",ht=100,ft={install:function(e){e.directive("active",(function(e,t){if(e._onTouchstart&&e.removeEventListener("touchstart",e._onTouchstart),e._onTouchmove&&e.removeEventListener("touchmove",e._onTouchmove),e._onTouchend&&e.removeEventListener("touchend",e._onTouchend),!1!==t.value){var n=null,o=null,r=null,a=null;e._onTouchstart=function(s){t.modifiers.stop&&s.stopPropagation(),t.modifiers.prevent&&s.preventDefault(),n=s.targetTouches[0].clientY,a=new Promise((function(t){clearTimeout(o),o=setTimeout((function(){e.classList.add(pt),o=null,r=setTimeout((function(){i()}),2e3),t()}),ht)}))},e._onTouchmove=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),Math.abs(e.targetTouches[0].clientY-n)<10||i()},e._onTouchend=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),a?a.then((function(){clearTimeout(r),r=setTimeout((function(){i()}),ht)})):null!==n&&i()},e.addEventListener("touchstart",e._onTouchstart),e.addEventListener("touchmove",e._onTouchmove),e.addEventListener("touchend",e._onTouchend)}function i(){n=null,clearTimeout(o),clearTimeout(r),o=null,r=null,a=null,e.classList.remove(pt)}}))}};ft.install(r["a"]);n("4de4");r["a"].filter("xss",o["f"].xss),r["a"].filter("mmss",(function(e){if(!e)return"";var t,n,o;e=+e||0,e=Math.floor(e/1e3),e>3600?(t=Math.floor(e/3600),n=Math.floor(e%3600/60),o=e%3600%60):(n=Math.floor(e/60),o=e%60),t&&t<10&&(t="0".concat(t)),o<10&&(o="0".concat(o)),n<10&&(n="0".concat(n));var r="".concat(n,":").concat(o);return t?"".concat(t,":").concat(r):r}));var mt=n("2323");mt.keys().forEach((function(e){r["a"].component(e.replace(/^\.\/(.*?)\.vue/,"$1"),mt(e).default)}));var gt=n("f6ee");gt.keys().forEach((function(e){var t=gt(e).default;t.name?r["a"].component(t.name,t):console.error("component name is undefined")}));n("9c28");r["a"].config.productionTip=!1,Je.install(r["a"]),at.install(r["a"]),r["a"].use(Be),r["a"].mixin(me),window.BJ_REPORT.init({id:260,uin:o["d"].sessionId&&o["d"].sessionId.split("_")[1]||0,combo:1,delay:1e3,url:"https://badjs.weixinbridge.com/badjs",ignore:[/Script error/i],random:1,repeat:5,onReport:function(e,t){console.error(t),o["f"].log("[Error] ".concat(JSON.stringify(t))),o["e"].dispatch("report/reportIDKey",{key:1,rate:1})},ext:{}}),window.BJ_REPORT.tryJs().spyAll(),r["a"].config.errorHandler=function(e){console.error(e),o["f"].log("[Error] ".concat(JSON.stringify(e.stack))),window.BJ_REPORT.report(e.stack)},o["g"].ready((function(){o["e"].dispatch("report/reportEventTrack",{actionType:2})})),new r["a"]({beforeCreate:function(){document.body.style.webkitTextSizeAdjust="".concat(100*(+o["d"].queryString.fontRatio||1),"%"),document.body.style.textSizeFzFAdjust="".concat(100*(+o["d"].queryString.fontRatio||1),"%"),document.getElementsByTagName("html").item(0).style.webkitTextSizeAdjust="".concat(100*(+o["d"].queryString.fontRatio||1),"%"),document.getElementsByTagName("html").item(0).style.textSizeAdjust="".concat(100*(+o["d"].queryString.fontRatio||1),"%"),o["f"].log("location search: ".concat(location.search)),o["f"].log("ua: ".concat(navigator.userAgent)),o["f"].log("tmplVersion: ".concat(o["d"].version)),o["f"].devLog("location search:",location.search.split("&")),o["g"].on(o["b"].onUiInit,(function(e){o["e"].commit("mergeQueryString",e),o["e"].dispatch("report/reportEventTrack",{actionType:13})}))},render:function(e){return e(fe)}}).$mount("#app")},6696:function(e,t,n){},"6afc":function(e,t,n){},"6afe":function(e,t,n){},"757d":function(e,t,n){"use strict";n("6afe")},7765:function(e,t,n){"use strict";n("25d4")},"78fa":function(e,t,n){n("c975"),n("a434"),n("99af"),n("d3b7"),n("159b");var o=!1;function r(e){this.name="__".concat(e,"Bus"),this.listeners=[]}r.prototype.$on=function(e,t,n){e[this.name]||(e[this.name]={},this.listeners.push(e[this.name]));var o=e[this.name];o[t]||(o[t]=[]),o[t].push(n)},r.prototype.$off=function(e,t,n){var o=e[this.name];if(o){var r=o[t];if(r){var a=r.indexOf(n);a<0||(r.splice(a,1),r.length||delete o[t])}}},r.prototype.$once=function(e,t,n){var o=this;function r(a){o.$off(e,t,r),n&&n(a)}this.$on(e,t,r)},r.prototype.$offAll=function(e,t){var n=e[this.name];if(n)if(t){if(!n[t])return;delete n[t]}else{delete e[this.name];var o=this.listeners.indexOf(n);if(o<0)return;this.listeners.splice(o,1)}},r.prototype.$emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;o&&(a=console).log.apply(a,["%c EventBus[EMIT]","color: #07C160",e].concat(n));this.listeners.forEach((function(t){t[e]&&t[e].forEach((function(e){e.apply(void 0,n)}))}))},e.exports=r},"7c55":function(e,t,n){"use strict";n("2395")},"7e67":function(e,t,n){"use strict";n("f9f6")},"7eb0":function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),a=n("21a1"),i=n.n(a),s=new r.a({id:"loading-white",use:"loading-white-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="loading-white">\n    <title>画板</title>\n    <defs>\n        <linearGradient x1="94.0869141%" y1="0%" x2="94.0869141%" y2="90.559082%" id="loading-white_linearGradient-1">\n            <stop stop-color="#FFF" stop-opacity="0" offset="0%" />\n            <stop stop-color="#FFF" stop-opacity="0.3" offset="100%" />\n        </linearGradient>\n        <linearGradient x1="100%" y1="8.67370605%" x2="100%" y2="90.6286621%" id="loading-white_linearGradient-2">\n            <stop stop-color="#FFF" offset="0%" />\n            <stop stop-color="#FFF" stop-opacity="0.3" offset="100%" />\n        </linearGradient>\n    </defs>\n    <g id="loading-white_画板" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.9">\n        <g id="loading-white_LoadingWithe">\n            <path d="M12,0 C18.627417,0 24,5.372583 24,12 C24,18.627417 18.627417,24 12,24 L12,21.9 C17.467619,21.9 21.9,17.467619 21.9,12 C21.9,6.53238098 17.467619,2.1 12,2.1 L12,0 Z" id="loading-white_路径" fill="url(#loading-white_linearGradient-1)" />\n            <path d="M12,0 L12,2.1 C6.53238098,2.1 2.1,6.53238098 2.1,12 C2.1,17.467619 6.53238098,21.9 12,21.9 L12,24 C5.372583,24 0,18.627417 0,12 C0,5.372583 5.372583,0 12,0 Z" id="loading-white_路径" fill="url(#loading-white_linearGradient-2)" />\n            <circle id="loading-white_Oval" fill="#FFF" cx="12.15" cy="1.05" r="1.05" />\n        </g>\n    </g>\n</symbol>'});i.a.add(s);t["default"]=s},"82ef":function(e,t,n){"use strict";n("477c")},"908f":function(e,t,n){},a08e:function(e,t,n){},a2e2:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),a=n("21a1"),i=n.n(a),s=new r.a({id:"access",use:"access-usage",viewBox:"0 0 12 24",content:'<symbol viewBox="0 0 12 24" xmlns="http://www.w3.org/2000/svg" id="access">\n  <path fill="currentColor" d="M2.45405845,6.58064919 L3.51471863,5.51998901 L9.29361566,11.298886 C9.68374096,11.6890113 9.6872014,12.318069 9.29361566,12.7116547 L3.51471863,18.4905518 L2.45405845,17.4298916 L7.87867966,12.0052704 L2.45405845,6.58064919 Z" />\n</symbol>'});i.a.add(s);t["default"]=s},bfd2:function(e,t,n){},c0a9:function(e,t,n){"use strict";n("eb73")},caee:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scroll-box"},[e._t("default")],2)},r=[],a=(n("a9e3"),{props:{intervalTime:{type:Number,default:200}},activated:function(){this.activated=!0},deactivated:function(){this.activated=!1},mounted:function(){var e=this,t=this,n=window.innerHeight||document.documentElement.clientHeight;this.activated=!0,this.scrollTimeout=null,window.addEventListener("scroll",(function(){clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout((function(){t.activated&&(e.$emit("scroll"),t.$el.getBoundingClientRect().bottom<n&&e.$emit("scroll:end"))}),e.intervalTime)}),!1)}}),i=a,s=n("2877"),c=Object(s["a"])(i,o,r,!1,null,null,null);t["default"]=c.exports},cdae:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:"svg-icon-"+e.name+" "+e.className,attrs:{viewBox:e.viewBox}},[n("use",{attrs:{"xlink:href":"#"+e.id}})])},r=[],a=(n("d3b7"),n("159b"),n("ddb0"),n("2b0e")),i={},s=n("cfd9");s.keys().forEach((function(e){var t=s(e).default;i[t.id]=t}));var c=a["a"].extend({props:{name:{type:String,required:!0},className:{type:String,default:""}},computed:{viewBox:function(){return i[this.name].viewBox},id:function(){return i[this.name].id}}}),u=c,l=(n("7e67"),n("2877")),d=Object(l["a"])(u,o,r,!1,null,null,null);t["default"]=d.exports},cfce:function(e,t,n){"use strict";n("df28")},cfd9:function(e,t,n){var o={"./access.svg":"a2e2","./loading-white.svg":"7eb0","./loading.svg":"e96b"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="cfd9"},d77d:function(e,t,n){},d8b1:function(e,t,n){"use strict";n("edea")},df28:function(e,t,n){},e96b:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),a=n("21a1"),i=n.n(a),s=new r.a({id:"loading",use:"loading-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="loading">\n    <title>画板</title>\n    <defs>\n        <linearGradient x1="94.0869141%" y1="0%" x2="94.0869141%" y2="90.559082%" id="loading_linearGradient-1">\n            <stop stop-color="var(--FG)" stop-opacity="0" offset="0%" />\n            <stop stop-color="var(--FG)" stop-opacity="0.3" offset="100%" />\n        </linearGradient>\n        <linearGradient x1="100%" y1="8.67370605%" x2="100%" y2="90.6286621%" id="loading_linearGradient-2">\n            <stop stop-color="var(--FG)" offset="0%" />\n            <stop stop-color="var(--FG)" stop-opacity="0.3" offset="100%" />\n        </linearGradient>\n    </defs>\n    <g id="loading_画板" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" opacity="0.9">\n        <g id="loading_LoadingWithe">\n            <path d="M12,0 C18.627417,0 24,5.372583 24,12 C24,18.627417 18.627417,24 12,24 L12,21.9 C17.467619,21.9 21.9,17.467619 21.9,12 C21.9,6.53238098 17.467619,2.1 12,2.1 L12,0 Z" id="loading_路径" fill="url(#loading_linearGradient-1)" />\n            <path d="M12,0 L12,2.1 C6.53238098,2.1 2.1,6.53238098 2.1,12 C2.1,17.467619 6.53238098,21.9 12,21.9 L12,24 C5.372583,24 0,18.627417 0,12 C0,5.372583 5.372583,0 12,0 Z" id="loading_路径" fill="url(#loading_linearGradient-2)" />\n            <circle id="loading_Oval" fill="var(--FG)" cx="12.15" cy="1.05" r="1.05" />\n        </g>\n    </g>\n</symbol>'});i.a.add(s);t["default"]=s},eb73:function(e,t,n){},edea:function(e,t,n){},f6ee:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="f6ee"},f9f6:function(e,t,n){},fa92:function(e,t,n){"use strict";n("06c50")}});