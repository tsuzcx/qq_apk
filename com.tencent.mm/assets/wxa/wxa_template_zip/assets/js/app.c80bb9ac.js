(function(e){function t(t){for(var n,o,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,o=1;o<i.length;o++){var c=i[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},a={app:0},s=[];function o(e){return r.p+"assets/js/"+({"../../temp/JsBridgeForDev":"../../temp/JsBridgeForDev"}[e]||e)+"."+{"../../temp/JsBridgeForDev":"a82b7bbd"}[e]+".js"}function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=a[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=n);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=o(e);var l=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(u);var i=a[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,i[1](l)}a[e]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=l;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("cd49")},"01ee":function(e,t,i){"use strict";var n=i("57b1"),a=i.n(n);a.a},"01f8":function(e,t,i){"use strict";var n=i("c347"),a=i.n(n);a.a},"05c6":function(e,t,i){"use strict";var n=i("d973"),a=i.n(n);a.a},"05fd":function(e,t,i){},"09af":function(e,t,i){"use strict";var n=i("c79f"),a=i.n(n);a.a},"0af9":function(e,t,i){},"0e37":function(e,t,i){"use strict";var n=i("507a"),a=i.n(n);a.a},"0f1a":function(e,t,i){"use strict";var n=i("79ee"),a=i.n(n);a.a},1037:function(e,t,i){"use strict";var n=i("8def"),a=i.n(n);a.a},1111:function(e,t,i){},1413:function(e,t,i){},"17d0":function(e,t,i){"use strict";var n=i("4847"),a=i.n(n);a.a},"19bf":function(e,t,i){},"1e51":function(e,t,i){},"1e62":function(e,t,i){"use strict";var n=i("3f47"),a=i.n(n);a.a},"1ea2":function(e,t,i){},2122:function(e,t,i){},2395:function(e,t,i){},"23a1":function(e,t,i){"use strict";var n=i("742c"),a=i.n(n);a.a},"284f":function(e,t,i){"use strict";var n=i("e10a"),a=i.n(n);a.a},"2acd":function(e,t,i){"use strict";var n=i("41f4"),a=i.n(n);a.a},"326a":function(e,t,i){"use strict";var n=i("8c4d"),a=i.n(n);a.a},"33d9":function(e,t,i){"use strict";var n=i("1413"),a=i.n(n);a.a},"36b0":function(e,t,i){},"3a16":function(e,t,i){"use strict";var n=i("1e51"),a=i.n(n);a.a},"3a96":function(e,t,i){"use strict";var n=i("652a"),a=i.n(n);a.a},"3f47":function(e,t,i){},"3f79":function(e,t){e.exports="data:image/gif;base64,R0lGODlhIAAgAPcAAP///7Ozs/v7+9bW1uHh4fLy8rq6uoGBgTQ0NAEBARsbG8TExJeXl/39/VRUVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFCgAAACwAAAAAIAAgAAAI+gABCBxIkOCCAwsKKlzIcOCBhwUJFGiocICBgg8PEBzAkSLBAg8DEMw4sADHAR5HPkQpkKTAkwRSDjTwkIFDiAAInJRJkMHDiwBcwuQ5cMABnxMfOsi5c6DOATFfMmCQcGCAnwp1ljwJdeCCqVNZGq3akGvHnmCnRvVodu3GtDZTPnW78CsDlnJ5EgBKtC9RsxxNLjBAuHBfwBwLK+Yr8+QCmAMGL/ZLWSZdipcZzvW4OaXZiQpNcuUJuGBpzHifclyruuvLy6oJdmbq+uVqAE1PgiYqWuzZ2Idv4z47vLbcpsWdIvcsPHlR4szxOneamWEBussrZzVOMSAAIfkEBQoAAAAsAAAAABgAEgAACIAAAQgcSLAggAEGEypkAIAhQQMLFEZUOJDBgQMJGWgs6FDggosYDWrsmBCkgYQLNhLsaAAkxYYMJhIkAFJmxoYEBFps6FIgAQMGEFZUWbBlToEDgAI9SoCB0JdIlUIsADXhT6lVFSY9mVVhgaddw3odQLYs2KpmzYolUHZBWbEBAQAh+QQFCgAAACwBAAAAHQAOAAAIiQABCBxIcOAABgUTKlwoEGHCAQwHEoBIkIFFggEiEjRggGJDAA4BUAzJkKMBAgMthiSpcYDJlApZMlzAceTFAiBFFsSpkIBJnAgRGvg40MCBA0MHDEA5kGYAj00JLjh69KRSpTwLDI14kOpRg1cJMNXo9QBUkVfPLjR6IGNPpWM1MoibUKxGjQEBACH5BAUKAAAALAcAAAAZABEAAAiBAAEIHAiAgAGCCBMqBLDAwAKEDxcWIIDQgEWCDDIuHDCg4sWBGjdyLDDQ4kGQDCImJMCxo0CTAheEXAigJUUAMAkwALCTpkCbOD/OROjyJ8ebBAf0rLk04QCkCpHuDOCTZs+mVSHGzOrTAEmuYMMmPEC27AGVYM2aFQuArAOzCwICACH5BAUKAAAALA4AAAASABgAAAiCAAEsIACgoMGDCAcsQAhgAEGGAhcsNLjAgAGIEScCIGDxIkSJGjsOwAiy4ICOGDMCKNDx4UeJDQMY0CiQAYOUBgoctMmAJkabAICmDBr05tCdRo8edKm0adOkKW9KdXrAIIORTpsaYHrUwIEDAah+/eoT4gAGYw9AxZnWo9IAZAEEBAAh+QQFCgAAACwOAAAAEgAeAAAImQABDCgAoKDBgwgFDkjIsOCAhwcHLFjQ8OFCgxMvJrRoUCLFihALTvzIkCOAkQ0dhswY0YABAgwJaCTg0qXGhgtqGiDZUOfLlB1tAkU4cKhRowySKhUIlAEAp1Cdplya9KjVgwStfjRw1SCDmw0JBDg4lqGBAzAFVm3I4IDbgwacggVAwO0BnkDPvrVql+vRAXav2s161CXDgAAh+QQFCgAAACwPAAEAEQAfAAAIjAABCBwIgEABgggTDhiQsGGBhQ0jLiQQkSCBhQwrCrwIUePGjgM5ehSIcQDFihwxaiyZUSPHkyMJwBxJE6GBmzgXaMTJ00DFngZ01hxKcwADBkI9Hj1ac+nShjpbCjyaVKBPpgN1MhB4oCuAgyQjdj1AEGvCsQO3VkRLk+1UtWcPOFDY0K3HBQeqagwIACH5BAUKAAAALAgADgAYABIAAAh9AAEIHEiwIIABCBMOKGCw4UCFCh06TLggIQGJGDNiHKAxowEDHDsa/EjyosiBBRaQNLBA5AAGJgmsDHnwgIGGDAwO+GgSAIMDB3ISJMCgKMYFQA+YFApgAVOHSW86LNpyZFKCT30aNZi0KsasAq9iPVDQa1mpA3OCPUmzY0AAIfkEBQoAAAAsAgASAB0ADgAACIkAAQgcSLCgQQAEDhIkwEChQQIDBiQ8aODAAQMOCUbcWECjxY8ZNW6MKJDBxwMMBmQkgHHgSJYnWyZcYHCAAQM0B0JUWfFAAII/AWBkQBRAgZsGJj4sqBJAQ6dQAdi8GXLgU4JFBS642bRqVKhXWVINWbQr0asAtrasihatS6UOu2IN6pXt2owBAQAh+QQFCgAAACwAAA8AGQARAAAIgAAXHBhI8ACAgwgTKjxYsODChwkFEnQwEKLFixgxFjCQseOCjg8ZgIQYIGEAAhgHQGTAQOXBlgsJDJiZ0CVHhCxFAjDAE4DMmQUSBlXIEiHPmz9dWmT5cWfPgzMHoHy4oKjRp1BpLk14tKbWhVav3kQ4FWJThAsMnB2p0EDZhAEBACH5BAUKAAAALAEACAARABgAAAh3AAccOGAAgMGDCA8aGDhwQcKHABgOZDAAIsIFEg9YTBhgYMGNHEGKHEmypMmTKDcuYMCgJEuWIF++BLmyJcICHx+ydHhwgQEDFQcINUggIYGfBgoAEFoRItKmTCEOQHow6kOkRQ1aTfizqdahDwl4/ToWpFgAAQEAIfkEBQoAAAAsAAACAA4AHQAACIoAAQgcCGCBAYIIBx44wCAhwoUHBjgcGADiRIULD15cYJFgQ4IQP3qUCIDAgQAEUYokMHHAR5ETFwiUeRFAAY01WzLYyROmwJ49E7rcCYBnzqMISV4cYMCAUoQEmkp1aFDqggJCrQ4kMACrwKhOCQ4Yy1Kg14EFxg4o61At24Rcx9ZUm1NuzgJvAwIAOw=="},"41f4":function(e,t,i){},4770:function(e,t,i){"use strict";var n=i("7992"),a=i.n(n);a.a},"480f":function(e,t,i){"use strict";var n=i("9a7b"),a=i.n(n);a.a},4847:function(e,t,i){},"4d64":function(e,t,i){},"4e8e":function(e,t,i){"use strict";var n=i("5ad4"),a=i.n(n);a.a},"507a":function(e,t,i){},"50be":function(e,t,i){"use strict";var n=i("36b0"),a=i.n(n);a.a},"538c":function(e,t,i){"use strict";var n=i("19bf"),a=i.n(n);a.a},"56d5":function(e,t,i){},"57b1":function(e,t,i){},"58ec":function(e,t,i){"use strict";var n=i("05fd"),a=i.n(n);a.a},"59b9":function(e,t,i){"use strict";var n=i("b85e"),a=i.n(n);a.a},"5a06":function(e,t,i){"use strict";var n=i("4d64"),a=i.n(n);a.a},"5a3b":function(e,t,i){"use strict";var n=i("9c44"),a=i.n(n);a.a},"5ad4":function(e,t,i){},"61b6":function(e,t,i){"use strict";var n=i("bdfd"),a=i.n(n);a.a},"628d":function(e,t,i){},"652a":function(e,t,i){},"6a3f":function(e,t,i){"use strict";var n=i("af41"),a=i.n(n);a.a},"6a48":function(e,t,i){"use strict";var n=i("628d"),a=i.n(n);a.a},"6caf":function(e,t,i){},"6f0c":function(e,t,i){"use strict";var n=i("9124"),a=i.n(n);a.a},"742c":function(e,t,i){},7511:function(e,t,i){},"75ef":function(e,t,i){},7992:function(e,t,i){},"79ee":function(e,t,i){},"7c55":function(e,t,i){"use strict";var n=i("2395"),a=i.n(n);a.a},"7f76":function(e,t,i){},"7ff1":function(e,t,i){},"812f":function(e,t,i){"use strict";var n=i("0af9"),a=i.n(n);a.a},"850d":function(e,t,i){},"85a8":function(e,t,i){},"85d1":function(e,t,i){},8706:function(e,t,i){"use strict";var n=i("56d5"),a=i.n(n);a.a},"893d":function(e,t,i){"use strict";var n=i("e057"),a=i.n(n);a.a},"8bac":function(e,t,i){},"8c4d":function(e,t,i){},"8c5b":function(e,t,i){},"8def":function(e,t,i){},"8e8e":function(e,t,i){"use strict";var n=i("e4f3"),a=i.n(n);a.a},"8ef7":function(e,t,i){function n(e){var t=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];return t[new Date(1e3*(e||(new Date).getTime()/1e3)).getMonth()]}function a(e){var t=new Date(1e3*(e||(new Date).getTime()/1e3)).getDate();return t<10?"0"+t:t}function s(e){var t=new Date(1e3*(e||(new Date).getTime()/1e3)),i=t.getFullYear(),n=t.getMonth()+1,a=t.getDate();return[i+"年",(n<10?"0":"")+n+"月",(a<10?"0":"")+a+"日"].join("")}function o(e){var t=new Date(1e3*(e||(new Date).getTime()/1e3)),i="日一二三四五六".split("");return"星期"+i[t.getDay()]}function r(e){var t=new Date,i=new Date(t.toString().replace(/\d+:\d+:\d/,"00:00:00")),n=parseInt(i.getTime()/1e3),a=(new Date(1e3*(n-86400)),new Date(1e3*e),n-e);return a>86400?a>31536e3?Math.floor(a/31536e3)+"年前":a>=2592e3?Math.floor(a/2592e3)+"月前":a>=14515200?Math.floor(a/14515200)+"周前":Math.floor(a/86400)+"天前":a<=0?"今天":"昨天"}function c(e,t){wx.setStorage({key:e,data:t,fail:function(i){console.log("setStorage res",i),wx.clearStorageSync(),wx.setStorageSync(e,t)}})}function l(e){return wx.getStorageSync(e)}function u(e){return wx.removeStorageSync(e)}function p(){wx.clearStorageSync()}function d(e){var t=e.toLowerCase(),i={wifi:0,uninet:2,uniwap:2,cmnet:2,cmwap:2,ctnet:2,ctwap:2,"2g":2,"3g":3,"3gnet":3,"3gwap":3,nonwifi:3,"4g":4,lte:4,ctlte:4,"3g+":4,"4gnet":4};return t in i?i[t]+"":"1"}function h(e){return"string"!==typeof e||e.length<4?"":parseInt(e.slice(2,4),10)}i("a15b"),i("fb6a"),i("a434"),i("a9e3"),i("d3b7"),i("ac1f"),i("25f0"),i("5319"),i("1276");var m=!1;function g(e){!1===m||"function"!=typeof e?Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?wx.getSystemInfo({complete:function(t){t=t||{},t.device=/iOS\s\d+\./i.test(t.system||"")?"iphone":"android",t.model=t.model||"",t.clientVersion=f(t.version||"0"),t.sdkVersion=f(t.SDKVersion||"0"),wx.getNetworkType({complete:function(i){t.networktype=d(i.networkType),m=t,"function"==typeof e&&e(m)}})}}):e({}):e(m)}function f(e){e=e||"";for(var t=e.replace(/[^0-9\.]+/g,"").split(/[^0-9]+/).splice(0,3),i=0,n=[1e3,100,1],a=0,s=t.length;a<s;a++)i+=(t[a]-0)*n[a];return i}function v(e){var t=/^\d+$/i.test(""+e);if(t)return Number(e);try{t=parseInt(e)}catch(i){t=0}return isNaN(t)?0:t}function _(e){return e.replace(/\/\d+$/,"/0")}function b(){var e=getCurrentPages(),t=e.length;return t>1?e[t-2]:{}}function y(e){var t=e&&e.currentTarget&&e.currentTarget.dataset?e.currentTarget.dataset:e&&e.target&&e.target.dataset?e.target.dataset:{};return t}function I(e){try{var t=wx.getSystemInfoSync()||{};e.errMsg&&/^request:fail/.test(e.errMsg)&&e.errMsg&&/^request:fail/.test(e.errMsg)&&("6.5.6"!==t.version&&"6.5.7"!==t.version||!/Android/i.test(t.system)||wx.showModal({title:"",content:"系统繁忙，请稍后再试(-1000)",confirmText:"好的",showCancel:!1}))}catch(i){console.log("handleRequestError : "+i.message)}}function A(e){if(e=e||{},"query"in e&&"string"==typeof e.query){var t=e.query.substr(1,e.query.length-2)+", ",i=/(\w+)=(.*?), (?:\w+=)?/i,n=null,a={};while(n=i.exec(t))a[n[1]]=n[2],t=t.substr(n[1].length+n[2].length+3);e.query=a,i=t=n=""}}function S(e,t,i){var n;return function(){var a=arguments;n||(n=setTimeout((function(){e.apply(i,a),n=null}),t))}}function x(e,t,i){var n;return function(){var a=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,a)}),t)}}e.exports={setKeyValue:c,getKeyValue:l,delKeyValue:u,clearKeyValue:p,stripThumbImg:_,getReportObj:g,intVersion:f,intNumber:v,formatTime:r,getYMD:s,getWeekDay:o,fullDay:a,getAnchorType:h,dataset:y,fullMonth:n,getPageFrom:b,fixQueryStr:A,handleRequestError:I,throttle:S,debounce:x}},9086:function(e,t,i){},"90d2":function(e,t,i){"use strict";var n=i("6caf"),a=i.n(n);a.a},9124:function(e,t,i){},"93ce":function(e,t,i){"use strict";var n=i("85a8"),a=i.n(n);a.a},"94bb":function(e,t,i){},"96ec":function(e,t,i){"use strict";var n=i("e729"),a=i.n(n);a.a},"9a7b":function(e,t,i){},"9c44":function(e,t,i){},a074:function(e,t,i){"use strict";var n=i("7511"),a=i.n(n);a.a},a5e9:function(e,t,i){},a6b6:function(e,t,i){},a807:function(e,t,i){"use strict";var n=i("7ff1"),a=i.n(n);a.a},a8aa:function(e,t,i){"use strict";var n=i("de4b"),a=i.n(n);a.a},aa27:function(e,t,i){"use strict";var n=i("94bb"),a=i.n(n);a.a},af41:function(e,t,i){},b207:function(e,t,i){"use strict";var n=i("a6b6"),a=i.n(n);a.a},b241:function(e,t,i){"use strict";var n=i("85d1"),a=i.n(n);a.a},b2b6:function(e,t,i){"use strict";var n=i("8c5b"),a=i.n(n);a.a},b85e:function(e,t,i){},bdfd:function(e,t,i){},c12b:function(e,t,i){"use strict";var n=i("d0a4"),a=i.n(n);a.a},c347:function(e,t,i){},c487:function(e,t,i){},c58b:function(e,t,i){"use strict";var n=i("9086"),a=i.n(n);a.a},c5d6:function(e,t,i){"use strict";var n=i("a5e9"),a=i.n(n);a.a},c79f:function(e,t,i){},c8bd:function(e,t,i){},cccf:function(e,t,i){"use strict";var n=i("850d"),a=i.n(n);a.a},cd49:function(e,t,i){"use strict";i.r(t);i("99af"),i("c975"),i("a15b"),i("a434"),i("ac1f"),i("1276"),i("e260"),i("e6cf"),i("cca6"),i("a79d");var n,a,s,o=i("2b0e"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("svg-icons",{staticStyle:{display:"none"}}),e.isDev?i("div",{staticClass:"search-header-for-dev"},[i("div",{staticClass:"page-sel-ctn"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.currentRoute,expression:"currentRoute"}],staticClass:"page-sel",attrs:{title:"searchScene"},on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.currentRoute=t.target.multiple?i:i[0]},e.onPageChange]}},[e._l(e.pageRoutes,(function(t,n){return[i("option",{key:n,domProps:{value:t.name}},[e._v(e._s(t.title))])]}))],2)]),i("div",{staticClass:"search-input-ctn"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.searchStr,expression:"searchStr"}],staticClass:"search-input",attrs:{type:"text",placeholder:"请输入搜索词"},domProps:{value:e.searchStr},on:{focus:e.onSearchInput,keyup:e.onSearchConfirm,input:[function(t){t.target.composing||(e.searchStr=t.target.value)},e.onSearchInput]}})])]):e._e(),i("div",[i("router-view",{ref:"currentPage"})],1)],1)},c=[],l=(i("caad"),i("fb6a"),i("b0c0"),i("2532"),i("5319"),i("498a"),i("5530")),u={History:{name:"History",path:"/history"},HistorySub:{name:"HistorySub",path:"/history_sub"},Result:{name:"Result",path:"/result"},ResultSub:{name:"ResultSub",path:"/result_sub"},Suggestion:{name:"Suggestion",path:"/suggestion"},SuggestionSub:{name:"SuggestionSub",path:"/suggestion_sub"},HotNews:{name:"HotNews",path:"/hot_news"},Recommend:{name:"Recommend",path:"/(pages/)?recommend(/index.html)?"},LeaderBoard:{name:"LeaderBoard",path:"/(pages/)?leaderboard(/index.html)?"},CategoryList:{name:"CategoryList",path:"/(pages/)?categorylist(/index.html)?"},CategoryDetail:{name:"CategoryDetail",path:"/(pages/)?categorydetail(/index.html)?"},LaunchedGameList:{name:"GameLaunchedList",path:"/(pages/)?launchedgamelist(/index.html)?"}},p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[e._v("history")]),i("desc",[e._v("Created with Sketch.")]),i("g",{attrs:{id:"history",stroke:"none","stroke-width":"1"}},[i("g",{attrs:{id:"3.Icons/Outlined/time"}},[i("g",{attrs:{id:"Icons/Tint-Color/Black",transform:"translate(2.000000, 2.000000)"}},[i("path",{attrs:{d:"M10,0 C15.5228475,0 20,4.4771525 20,10 C20,15.5228475 15.5228475,20 10,20 C4.4771525,20 0,15.5228475 0,10 C0,4.4771525 4.4771525,0 10,0 Z M10,1.2 C5.1398942,1.2 1.2,5.1398942 1.2,10 C1.2,14.8601058 5.1398942,18.8 10,18.8 C14.8601058,18.8 18.8,14.8601058 18.8,10 C18.8,5.1398942 14.8601058,1.2 10,1.2 Z M10.5999997,4 L10.599,9.502 L14.4911685,13.3941125 L13.6426403,14.2426407 L9.4,10 L9.39999962,10 L9.39999962,4 L10.5999997,4 Z",id:"图标颜色"}})])])])]),i("svg",{attrs:{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[i("title",[e._v("close")]),i("desc",[e._v("Created with Sketch.")]),i("g",{attrs:{id:"close",stroke:"none","stroke-width":"1"}},[i("g",{attrs:{transform:"translate(4 4)"}},[i("polygon",{attrs:{points:"8 6.943 1.807 .75 .75 1.807 6.943 8 .75 14.193 1.807 15.25 8 9.057 14.193 15.25 15.25 14.193 9.057 8 15.25 1.807 14.193 .75"}})])])]),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("title",[e._v("unselected")]),i("desc",[e._v("Created with Sketch.")]),i("circle",{attrs:{id:"unselected",cx:"10",cy:"10",r:"7.5",fill:"none"}})]),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"}},[i("title",[e._v("selected")]),i("desc",[e._v("Created with Sketch.")]),i("path",{attrs:{id:"selected","fill-rule":"evenodd",d:"M10,1.66666667 C14.6023729,1.66666667 18.3333333,5.39762709 18.3333333,10 C18.3333333,14.6023729 14.6023729,18.3333333 10,18.3333333 C5.39762709,18.3333333 1.66666667,14.6023729 1.66666667,10 C1.66666667,5.39762709 5.39762709,1.66666667 10,1.66666667 Z M13.6856283,7.11666663 L9.0195311,11.7827639 L6.71461466,9.47784741 L5.83333333,10.3591287 L8.3145324,12.8421224 L8.3145324,12.8421224 L8.40872234,12.925548 C8.80094956,13.2306538 9.36817865,13.2030344 9.72863721,12.842525 L9.72863721,12.842525 L14.571068,8.00210627 L13.6856283,7.11666663 Z"}})])])},d=[],h={name:"SVGIcons"},m=h,g=i("2877"),f=Object(g["a"])(m,p,d,!1,null,"6ee0f6b3",null),v=f.exports,_=(i("4160"),i("d3b7"),i("53ca"));i("a9e3"),i("25f0"),i("466d"),i("841c"),i("159b");function b(){var e=window.navigator.userAgent,t=e.match(/MicroMessenger\/([\d.]+)/);return(t&&t[1]&&t[1].split(".")||["7","5","2"]).slice(0,3)}function y(){var e=b();e&&e.length>=3&&1==e[2].length&&(e[2]="0"+e[2]);var t=e.join(""),i=8-t.length;while(i-- >0)t+="0";return Number(t)}function I(e){var t=b(),i=t.concat("0");while(i.length<4)i.push("0");var n=e.ios?"1":"2";return i.forEach((function(e){var t=parseInt(e).toString(16);1==t.length&&1!=n.length&&(t="0"+t),n+=t})),parseInt(n,16)}function A(){var e=navigator.userAgent,t={},i=e.match(/(Android);?[\s\/]+([\d.]+)?/),n=e.match(/(iPad).*OS\s([\d_]+)/),a=!n&&e.match(/(iPhone\sOS)\s([\d_]+)/);return i&&(t.android=!0,t.version=i[2]),a&&(t.ios=!0,t.version=a[2].replace(/_/g,".")),n&&(t.ios=!0,t.version=t.version=n[2].replace(/_/g,".")),t.device=t.ios?1:2,t}function S(){for(var e={},t=window.location.search.substring(1),i=t.split("&"),n=0;n<i.length;n++){var a=i[n].split("="),s=a[1];switch(a[0]){case"scene":e.scene=Number(s);break;case"sceneActionType":e.sceneActionType=Number(s);break;case"type":e.type=Number(s);break;case"fontRatio":e.fontRatio=Number(s);break;case"version":e.version=Number(s);break;case"subType":e.subType=Number(s);break;case"isWeAppMore":e.isWeAppMore=Boolean("1"===s);break;case"query":e.query=decodeURIComponent(s);break;case"WASessionId":e.WASessionId=s;break;case"sessionId":e.sessionId=s;break;case"subSessionId":e.subSessionId=s;break;case"netType":e.netType=s;break;case"searchId":e.searchId=s;break;case"searchID":e.searchID=s;break;case"recommendId":e.recommendId=s;break;case"recommendID":e.recommendID=s;break;case"platform":e.platform=s;break;case"lang":e.lang=s;break;case"extParams":if(s){console.log("extParams str",s);try{e.extParams=JSON.parse(decodeURIComponent(s))}catch(o){e.extParams={}}}else e.extParams={};break}}return e}function x(e){var t=e.WASessionId||"",i=e.sessionId||"",n=t&&t.split("_").length>1?t.split("_")[1]:"",a=i&&i.split("_").length>1?i.split("_")[1]:"";return n&&n.indexOf("-")<0?parseInt(n):a&&a.indexOf("-")<0?parseInt(a):parseInt(n||a)}(function(e){e[e["SUG_TYPE_DEFAULT"]=0]="SUG_TYPE_DEFAULT",e[e["SUG_TYPE_SUGGESTION_CLICK"]=1]="SUG_TYPE_SUGGESTION_CLICK",e[e["SUG_TYPE_SUGGESTION_FILL"]=2]="SUG_TYPE_SUGGESTION_FILL",e[e["SUG_TYPE_SUGGESTION_CLICK_NONE"]=3]="SUG_TYPE_SUGGESTION_CLICK_NONE",e[e["SUG_TYPE_HISTORY_CLICK"]=4]="SUG_TYPE_HISTORY_CLICK"})(n||(n={})),function(e){e[e["SERVICE"]=1]="SERVICE",e[e["MAINPAGE"]=2]="MAINPAGE",e[e["WIKI"]=3]="WIKI"}(a||(a={})),function(e){e[e["RICH_WIKI"]=1020]="RICH_WIKI",e[e["NORMAL_WIKI"]=1021]="NORMAL_WIKI",e[e["INDUSTRY_SERVICE"]=1022]="INDUSTRY_SERVICE",e[e["IMAGE"]=1023]="IMAGE",e[e["ARTICLE"]=1024]="ARTICLE",e[e["VIDEO"]=1027]="VIDEO",e[e["RELATED_SEARCH"]=1033]="RELATED_SEARCH",e[e["IMAGE_WIKI"]=1034]="IMAGE_WIKI",e[e["WEIBO"]=1035]="WEIBO",e[e["BANNER"]=1037]="BANNER",e[e["JUMP"]=1038]="JUMP",e[e["CAR_SERIES"]=1039]="CAR_SERIES",e[e["GAME_RECOMMENT"]=901]="GAME_RECOMMENT",e[e["GAME_FRIEND_HOT_PLAY"]=902]="GAME_FRIEND_HOT_PLAY",e[e["GAME_CATEGORY_RECOMMEND"]=903]="GAME_CATEGORY_RECOMMEND",e[e["GAME_LADERBOARD"]=904]="GAME_LADERBOARD",e[e["GAME_RELEATED"]=905]="GAME_RELEATED"}(s||(s={}));var w,C=y(),k=S(),T=A(),O=I(T),E=x(k),L={queryString:k,osInfo:T,uin:E,openVConsoleCmd:"//gubed_search",isSub:!1,isSubFirstIn:!1,BOX_DISPLAY_TYPE:s,firstInHistory:!1,SUB_SUG_TYPE:n,EXT_TYPE:a,SCENE_ACTION_TYPE_NORMAL:1,SCENE_ACTION_TYPE_HISTORY:7,SUG_CLICK_TYPE_UNKNOWN:0,SUG_CLICK_TYPE_SEARCH:1,SUG_CLICK_TYPE_FILL:2,SUG_CLICK_TYPE_NONE:3,SUG_CLICK_TYPE_HOT:5,SUG_CLICK_TYPE_RELATED:6,SUG_CLICK_TYPE_HOT_RST:7,SUG_CLICK_TYPE_HOT_RANK:8,SUG_REQUEST_TYPE_NET:0,SUG_ITEM_TYPE_WORD:1,SUG_ITEM_TYPE_MAXIMUM:4,isBackButtonClick:0,SEARCH_ITEM_SUBTYPE_ALL:3,subScene:2001,cookieStr:"",query:"",subQuery:"",lang:k.lang||"zh_CN",fontRatio:k.fontRatio||1,version:k.version||parseInt("__VERSION__")||0,scene:k.scene||0,isWeAppMore:k.isWeAppMore,type:k.type||0,subType:k.subType||0,sceneActionType:k.sceneActionType||1,searchId:k.searchId||k.searchID||"",recommendId:k.recommendId||k.recommendID||"",platform:decodeURIComponent(k.platform||"iOS").toLowerCase(),historyExposureLogId:15090,historyClickLogId:16188,isSupportPlayAllMusic:C>=6316e4,clientVersion:C,clientVersionForHttpReq:O,sessionId:k.WASessionId||k.sessionId||"",subSessionId:k.subSessionId||"",isSupportUpdateSessionId:T.ios&&C>=6606e4,isSupportOpenH5SubSearch:T.ios&&O>385879040||T.android&&O>=654315008,requestId:"",netType:k.netType||"",widgetTimeIdDic:{},isDevelop:!1,isBeta:!1,isDebug:!1,isRelease:!0,auth:{uin:"",key:"",passticket:""},SearchTimeStamp:+new Date},j=i("4328"),P=i.n(j),D=i("bc3a"),N=i.n(D),R=[];L.isDevelop&&i.e("../../temp/JsBridgeForDev").then(i.bind(null,"74ac")).then((function(e){w=window.WeixinJSBridge=e.default,R.forEach((function(e){e()}))}));var M=N.a.create({baseURL:L.isRelease?"https://mp.weixin.qq.com":"https://wxardm.weixin.qq.com",timeout:0,maxContentLength:4e6});M.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),M.interceptors.response.use((function(e){return 200!==e.status?(console.info("请求错误！"),Promise.reject()):e.data}),(function(e){return console.info("network error！"),Promise.reject(e)}));var H={wxJsApiReady:function(e){var t=this;this.hasOriginalJsBridge()?(w=window.WeixinJSBridge,e()):L.isDevelop?R.push(e):document.addEventListener("WeixinJSBridgeReady",(function(){t.hasOriginalJsBridge()&&(w=window.WeixinJSBridge,e())}),!1)},hasOriginalJsBridge:function(){return"object"==Object(_["a"])(window.WeixinJSBridge)&&"function"==typeof window.WeixinJSBridge.invoke},hasWxJsBridge:function(){return"object"==Object(_["a"])(w)&&"function"==typeof w.invoke},on:function(e,t){w.on(e,t)},invoke:function(e,t,i){w.invoke(e,t||{},i||function(){})},post:function(e,t){return t.cookie||(t.cookie=encodeURIComponent(L.cookieStr||"")),M({url:e,method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:P.a.stringify(t)})}},B=i("d89f"),W=(i("d81d"),i("b64b"),{"下拉刷新":{zh_HK:"下拉刷新",zh_TW:"下拉刷新",en:"Pull down to update"},"加载中...":{zh_HK:"加載中...",zh_TW:"加載中...",en:"Loading..."},"提示":{zh_HK:"提示",zh_TW:"提示",en:"Tip"},"取消":{zh_HK:"取消",zh_TW:"取消",en:"Cancel"},"播放":{zh_HK:"播放",zh_TW:"播放",en:"Play"},"当前你处于非Wi-Fi网络环境中，继续播放将消耗流量，是否继续播放":{zh_HK:"目前網絡處於非Wi-Fi環境，繼續播放將消耗流量，是否繼續播放？",zh_TW:"目前網路處於非Wi-Fi環境，繼續播放將消耗流量，是否繼續播放？",en:"Data network enabled. Playing songs may incur data traffic. Continue playing?"},"正在搜索":{zh_HK:"正在搜尋",zh_TW:"搜尋中",en:"Searching",es:"Buscando",hi:"खोज रहा है",pl:"Wyszukiwanie",de:"Suche läuft...",ru:"Поиск",ko:"검색 중",ms:"Mencari",pt:"Buscando",ja:"検索中",th:"กำลังค้นหา",tr:"Aranıyor",he:"מחפש",it:"Ricerca in corso",id:"Mencari",vi:"Đang tìm kiếm...",ar:"بحث",fr:"Recherche",mm:"ရွာေနသည္"},"查看全部":{zh_HK:"查看全部",zh_TW:"查看全部",en:"More"},"相关搜索":{zh_HK:"相關搜尋",zh_TW:"相關搜尋",en:"Related search"},"分享了一个链接":{zh_HK:"分享了一個連結",zh_TW:"分享一個連結",en:"shared a link",es:"compartió vínculo",hi:"एक लिंक साझा किया",pl:"udostępnia łącze",de:"hat einen Link geteilt",ru:"поделился ссылкой",ko:"링크 공유",ms:"pautan dikongsi",pt:"compartilhou um link",ja:"リンクを共有しました",th:"แชร์ลิงก์แล้ว",tr:"bir bağlantı paylaştı",he:"שיתף קישור",it:"ha condiviso un collegamento",id:"berbagi tautan",vi:"đã chia sẻ liên kết",ar:"شارك رابطًا",fr:"a partagé un lien",mm:"လင့္ခ္တစ္ခု မွ်ေဝလိုက္ပါသည္"},"分享了一首歌":{zh_HK:"分享了一首歌",zh_TW:"分享一首歌",en:"shared a song",es:"compartió una canción",hi:"एक गाना साझा किया",pl:"udostępnia piosenkę",de:"hat einen Song geteilt",ru:"предложил(а) песню",ko:"님이 노래를 공유했습니다.",ms:"berkongsi lagu",pt:"compartilhou uma música",ja:"歌を共有しました",th:"แชร์เพลง",tr:"bir şarkı paylaştı",he:"שיתף שיר",it:"ha condiviso una canzone",id:"berbagi lagu",vi:"đã chia sẻ bài hát",ar:"شارك أغنية",fr:"a partagé un morceau",mm:"သီခ်င္းတစ္ပုဒ္ မွ်ေဝလုိက္ပါသည္"},"分享了一个视频":{zh_HK:"分享了一段影片",zh_TW:"分享一個影片",en:"shared a video",es:"compartió un video",hi:"एक वीडियो साझा किया",pl:"udostępnia wideo",de:"hat ein Video geteilt",ru:"предложил(а) видео",ko:"님이 영상을 공유했습니다.",ms:"berkongsi video",pt:"compartilhou um vídeo",ja:"動画を共有しました",th:"แบ่งปันวีดีโอหนึ่งวีดีโอแล้ว",tr:"bir video paylaştı",he:"שיתף וידאו",it:"ha condiviso un video",id:"berbagi video",vi:"đã chia sẻ video",ar:"شارك مقطع فيديو",fr:"a partagé une vidéo",mm:"ဗီဒီယုိတစ္ကာ မွ်ေဝလုိက္ပါသည္"},"分享了一套表情":{zh_HK:"分享了一套貼圖",zh_TW:"分享一套貼圖",en:"shared a set of stickers",es:"compartió un conjunto de calcomanías",hi:"एक स्टिकर सेट साझा किया है",pl:"udost. zestaw naklejek",de:"Ich habe einige Aufkleber geteilt.",ru:"предоставлен набор стикеров",ko:"스티커 모음을 공유했습니다.",ms:"berkongsi satu set pelekat",pt:"compartilhou stickers",ja:"共有されたステッカーセット",th:"แบ่งชุดสติ๊กเกอร์แล้ว",tr:"bir çıkartma seti paylaştı",he:"שיתף/ה ערכת מדבקות",it:"ha condiviso un gruppo di sticker",id:"berbagi koleksi Sticker",vi:"đã chia sẻ một bộ nhãn dán",ar:"شارك مجموعة من الملصقات",fr:"a partagé un ensemble d'autocollants",mm:"စတစ္ကာပံုတစ္စံုကုိမွ်ေဝလုိက္ပါသည္"},"分享了一件商品":{zh_HK:"分享了一件商品",zh_TW:"分享一件商品",en:"shared a product",es:"compartióun producto",hi:"एकउत्पादसाझाकिया",pl:"udostępnia produkt",de:"hat ein Produkt geteilt",ru:"предложил (а)продукт",ko:"제품을공유했습니다.",ms:"berkongsi produk",pt:"compartilhou um produto",ja:"製品を共有しました",th:"แชร์ผลิตภัณฑ์",tr:"birürün paylaştı",he:"שיתףמוצר",it:"ha condiviso un prodotto",id:"berbagi produk",vi:"đãchia sẻsản phẩm",ar:"شاركمنتجًا",fr:"a partagéun produit",mm:"ထုတ္ကုန္တစ္ခုကုိမွ်ေဝလုိက္ပါသည္"},"分享了一张卡券":{zh_HK:"分享了一張優惠券",zh_TW:"分享一張優惠券",en:"shared a coupon",es:"compartióun cupón",hi:"कूपनसाझाकियाहै",pl:"udost.kupon",de:"hat einen Gutschein geteilt",ru:"предоставленкупон",ko:"쿠폰을공유했습니다.",ms:"berkongsi kupon",pt:"compartilhou um cupom",ja:"クーポンを共有しました",th:"แชร์คูปองแล้ว",tr:"bir kupon paylaştı",he:"שיתף / הקופון",it:"ha condiviso un coupon",id:"berbagi kupon",vi:"đãchia sẻphiếu mua hàng",ar:"شارككوبون",fr:"a partagéun bon",mm:"ကူပြန္တစ္ခုမွ်ေဝခဲ့သည္"},"正在看一个节目":{zh_HK:"正在看一個節目",zh_TW:"正在觀賞一個節目",en:"is watching a show",es:"estáviendo un programa",hi:"एककार्यक्रमदेखरहा / रहीहै",pl:"ogląda program",de:"sieht eine Sendung",ru:"просматриваетшоу",ko:"쇼프로그램시청중입니다.",ms:"sedang menonton persembahan",pt:"estáassistindo a um programa",ja:"が番組を見ています",th:"กำลังดูการแสดง",tr:"bir program izliyor",he:"צופהבתוכנית",it:"sta guardando un programma",id:"sedang menonton pertunjukan",vi:"đang xem chương trình biểu diễn",ar:"يقومبمشاهدةبرنامج",fr:"regarde un programme",mm:"႐ိွဴးပြဲတစ္ခုကိုၾကည့္ေနသည္"},"分享了一本书":{zh_HK:"分享了一本書",zh_TW:"分享一本書",en:"shared a book",es:"compartióun libro",hi:"एकपुस्तकसाझाकी",pl:"udostępnia książkę",de:"hat ein Buch geteilt",ru:"предложил (а)книгу",ko:"책을공유했습니다.",ms:"berkongsi buku",pt:"compartilhou um livro",ja:"本を共有しました",th:"แชร์หนังสือ",tr:"bir kitap paylaştı",he:"שיתףספר",it:"ha condiviso un libro",id:"berbagi buku",vi:"đãchia sẻsách",ar:"شارككتابًا",fr:"a partagéun livre",mm:"စာအုပ္တစ္အုပ္ကိုမွ်ေဝထားသည္"},"分享了一张专辑":{zh_HK:"分享了一張專輯",zh_TW:"分享一張專輯",en:"shared a music album",es:"compartióunálbum de música",hi:"एकसंगीतएल्बमसाझाकिया",pl:"udostępnia album muzyczny",de:"hat ein Musikalbum geteilt",ru:"предложил (а)музыкальныйальбом",ko:"음악앨범을공유했습니다.",ms:"berkongsi album muzik",pt:"compartilhou umálbum de música",ja:"音楽アルバムを共有しました",th:"แชร์อัลบั้มเพลง",tr:"bir müzik albümüpaylaştı",he:"שיתףאלבוםמוסיקה",it:"ha condiviso un album musicale",id:"berbagi album musik",vi:"đãchia sẻalbum nhạc",ar:"شاركألبومًاموسيقيًا",fr:"a partagéun album de musique",mm:"သီခ်င္းေခြတစ္ေခြကိုမွ်ေဝထားသည္"},"分享了一部电影":{zh_HK:"分享了一部電影",zh_TW:"分享一部電影",en:"shared a movie",es:"compartióuna película",hi:"एकफ़िल्मसाझाकी",pl:"udostępnia film",de:"hat einen Film geteilt",ru:"предложил (а)фильм",ko:"영화를공유했습니다.",ms:"berkongsi filem",pt:"compartilhou um filme",ja:"映画を共有しました",th:"แชร์ภาพยนตร์",tr:"bir film paylaştı",he:"שיתףסרט",it:"ha condiviso un filmato",id:"berbagi film",vi:"đãchia sẻphim",ar:"شاركفيلمًا",fr:"a partagéun film",mm:"႐ုပ္႐ွင္တစ္ကားကိုမွ်ေဝထားသည္"},"没有结果":{zh_HK:"沒有結果",zh_TW:"沒有結果",en:"No results found"},"无法连接网络":{zh_HK:"無法連接網絡",zh_TW:"無法連接網路",en:"Unable to connect network",es:"No se puede conectar a la red",hi:"नेटवर्ककनेक्‍टकरनेमेंअसमर्थ",pl:"Nie można połączyćz siecią",de:"Verbinden des Netzwerks nicht möglich",ru:"Ошибкаподключенияксети",ko:"네트워크에연결할수없음",ms:"Tidak dapat menyambung rangkaian",pt:"Não foi possível se conectaràrede",ja:"ネットワークに接続できません",th:"ไม่สามารถเชื่อมต่อเครือข่ายได้",tr:"Ağa bağlanılamıyor",he:"לאניתןלהתחבראלהרשת",it:"Impossibile connettersi alla rete",id:"Tidak dapat tersambung ke jaringan",vi:"Không thểkết nối mạng",ar:"يتعذرالاتصالبالشبكة",fr:"Connexion au réseau impossible",mm:"ကြန္ရက္ႏွင့္ခ်ိတ္ဆက္၍မရႏုိင္ပါ။"},"在":{zh_HK:"在",zh_TW:"在",en:"In",es:"En",hi:"भीतर",pl:"Za",de:"In",ru:"Через",ko:"In",ms:"Masuk",pt:"Em",ja:"で",th:"ใน",tr:"İçinde:",he:"תוך",it:"In",id:"Di",vi:"Trong",ar:"في",fr:"In",mm:"ဖုန္း"},"共%s张":{zh_HK:"共%s張",zh_TW:"共%s張",en:" %s moment(s)",es:" %s momento(s)",hi:" %sक्षण",pl:" %s chwila(e)",de:" %s Moment(e)",ru:"Моментов: %s",ko:" %s개모멘트",ms:" %s detik - detik",pt:" %s momento(s)",ja:" %s個のモーメンツ",th:" %s Moments",tr:" %s an",he:" %sרגעים",it:" %s momento / i",id:" %s momen",vi:" %s khoảnh khắc",ar:" %sلحظة (لحظات)",fr:" %s moment(s)",mm:" %s Posts "},"QQ号":{zh_HK:"QQ ID",zh_TW:"QQ ID",en:"QQ ID",es:"ID de QQ",hi:"QQ ID",pl:"QQ ID",de:"QQ - ID",ru:"QQ ID",ko:"QQ ID",ms:"ID QQ",pt:"ID de QQ",ja:"QQ ID",th:"QQไอดี",tr:"QQ Kimliği",he:"מזההQQ",it:"ID QQ",id:"ID QQ",vi:"QQ ID",ar:"مُعرِّفQQ",fr:"ID QQ",mm:"QQ ID "},"手机号":{zh_HK:"手機號碼",zh_TW:"手機號碼",en:"Mobile",es:"Móvil",hi:"मोबाइल",pl:"Telefon",de:"Mobilgerät",ru:"Моб.",ko:"휴대폰",ms:"Mudah Alih",pt:"Celular",ja:"携帯",th:"มือถือ",tr:"Cep Telefonu",he:"נייד",it:"Cellulare",id:"Ponsel",vi:"Diđộng",ar:"الهاتفالمحمول",fr:"Mobile",mm:"မိုဘုိင္း"},"微信号":{zh_HK:"WeChat ID",zh_TW:"WeChat ID",en:"WeChat ID",es:"ID de WeChat",hi:"WeChat ID",pl:"WeChat ID",de:"WeChat - ID",ru:"WeChat ID",ko:"WeChat ID",ms:"ID WeChat",pt:"WeChat ID",ja:"WeChat ID",th:"WeChatไอดี",tr:"WeChat Kimliği",he:"מזההWeChat",it:"ID WeChat",id:"ID WeChat",vi:"WeChat ID",ar:"مُعرِّفWeChat",fr:"ID WeChat",mm:"WeChat ID "},"关注微信公众号，获取更多服务和资讯":{zh_HK:"透過關注WeChat官方帳號，你可以獲取它們提供的各種服務和資訊。",zh_TW:"透過關注WeChat官方帳號，你可以獲得它們所提供的各種服務和資訊。",en:"Get different kinds of services and information by following WeChat Official Accounts."},"1分钟内":{zh_HK:"1分鐘內",zh_TW:"1分鐘內",en:"just now",es:"justo ahora",hi:"अभी",pl:"przed chwilą",de:"soeben",ru:"сейчас",ko:"방금",ms:"baru tadi",pt:"agora mesmo",ja:"少し前",th:"เมื่อสักครู่",tr:"şimdi",he:"עכשיו",it:"adesso",id:"baru saja",vi:"vừa mớiđây",ar:"الآنفقط",fr:"juste maintenant",mm:"ယခုေလးတင္"},"%s分钟前":{zh_HK:"%s分鐘前",zh_TW:"%s分鐘前",en:"%s minutes ago",es:"hace %s minutos",hi:"%sमिनटपहले",pl:"%s minuty temu",de:"Vor %s Minuten",ru:"%sмин.назад",ko:"%s분전",ms:"%s minit lalu",pt:"%s minutos atrás",ja:"%s分前",th:"%sนาทีที่ผ่านมา",tr:"%s dakikaönce",he:"לפני%sדקות",it:"%s minuti fa",id:"%s menit yang lalu",vi:"%s phút trước",ar:"منذ %s دقيقة",fr:"Il y a %s minutes",mm:"လြန္ခဲ့သည့္%sမိနစ္က"},"%s小时前":{zh_HK:"%s小時前",zh_TW:"%s小時前",en:"%s hours ago",es:"hace %s horas",hi:"%sघंटेपहले",pl:"%s godziny temu",de:"Vor %s Stunden",ru:"%sч.назад",ko:"%s시간전",ms:"%s jam lalu",pt:"%s horas atrás",ja:"%s時間前",th:"%sชั่วโมงที่ผ่านมา",tr:"%s saatönce",he:"לפני%sשעות",it:"%s ore fa",id:"%s jam yang lalu",vi:"%s tiếng khác",ar:"منذ%sساعات",fr:"Il y a %s heures",mm:"လြန္ခဲ့သည့္%sနာရီက"},"昨天":{zh_HK:"昨天",zh_TW:"昨天",en:"Yesterday",es:"Ayer",hi:"कल",pl:"Wczoraj",de:"Gestern",ru:"Вчера",ko:"어제",ms:"Semalam",pt:"Ontem",ja:"昨日",th:"เมื่อวาน",tr:"Dün",he:"אתמול",it:"Ieri",id:"Kemarin",vi:"Hôm qua",ar:"أمس",fr:"Hier",mm:"မေန႔က"},"%s天前":{zh_HK:"%s天前",zh_TW:"%s天前",en:"%s days ago",es:"hace %s días",hi:"%sदिनपहले",pl:"%s dni temu",de:"Vor %s Tagen",ru:"%sдн.назад",ko:"%s일전",ms:"%s hari lalu",pt:"%s dias atrás",ja:"%s日前",th:"%sวันที่ผ่านมา",tr:"%s günönce",he:"לפני%sימים",it:"%s giorni fa",id:"%s hari yang lalu",vi:"%s ngày trước",ar:"منذ%sأيام",fr:"il y a %s jours",mm:"လြန္ခဲ့ေသာ%sရက္"},"经常搜索的公众号":{zh_HK:"經常搜尋的官方帳號",zh_TW:"經常搜尋的官方帳號",en:"Most Searched Official Accounts"},"不限":{zh_HK:"不限",zh_TW:"不限",en:"All"},"确定":{zh_HK:"確定",zh_TW:"確定",en:"OK"},"按时间筛选":{zh_HK:"按時間篩選",zh_TW:"按時間篩選",en:"Sort by time"},"码农时间":{zh_HK:"码农时间h",zh_TW:"码农时间t",en:"coder time"},"年picker":{zh_HK:"年",zh_TW:"年",en:""},"1月":{zh_HK:"1月",zh_TW:"1月",en:"Jan"},"2月":{zh_HK:"2月",zh_TW:"2月",en:"Feb"},"3月":{zh_HK:"3月",zh_TW:"3月",en:"Mar"},"4月":{zh_HK:"4月",zh_TW:"4月",en:"Apr"},"5月":{zh_HK:"5月",zh_TW:"5月",en:"May"},"6月":{zh_HK:"6月",zh_TW:"6月",en:"Jun"},"7月":{zh_HK:"7月",zh_TW:"7月",en:"Jul"},"8月":{zh_HK:"8月",zh_TW:"8月",en:"Aug"},"9月":{zh_HK:"9月",zh_TW:"9月",en:"Sep"},"10月":{zh_HK:"10月",zh_TW:"10月",en:"Oct"},"11月":{zh_HK:"11月",zh_TW:"11月",en:"Nov"},"12月":{zh_HK:"12月",zh_TW:"12月",en:"Dec"},"展开更多":{zh_HK:"展開更多",zh_TW:"展開更多",en:"See More"},"更多":{zh_HK:"更多",zh_TW:"更多",en:"Show More"},"收起":{zh_HK:"收起",zh_TW:"收起",en:"Show Less"},"清空历史":{zh_HK:"清空紀錄",zh_TW:"清空記錄",en:"Clear History"},"搜索历史":{zh_HK:"搜尋紀錄",zh_TW:"搜尋記錄",en:"Search History"},"常用小程序":{zh_HK:"常用小程序",zh_TW:"常用小程序",en:"Frequently Used"},"使用过的小程序":{zh_HK:"使用過的小程序",zh_TW:"使用過的小程序",en:"Used Mini Programs"},"发现更多":{zh_HK:"發現更多",zh_TW:"發現更多",en:"Find More"},"搜索使用过的小程序":{zh_HK:"搜尋使用過的小程序",zh_TW:"搜尋使用過的小程序",en:"Search Used Mini Programs"}}),U=W,q=!1,V={L:function(e,t,i){var n=e;i&&"string"==typeof i&&(e+=i);var a=this.getLang();return e="zh_CN"==a?n:U[e]?void 0===U[e][a]?"string"==typeof U[e]["en"]?U[e]["en"]:n:U[e][a]:n,t&&(e=e.replace("%s",t)),e},getLang:function(){return L.queryString.lang||"zh_CN"},formatReportList:function(e){return encodeURIComponent(e.map((function(e){return JSON.stringify(e)})).join("||||"))},checkShowBlockTitle:function(e){return e.title&&262144!==e.type&&!(16781312===e.type&&22===e.subType)&&!(16781312===e.type&&213===e.subType)&&!(16781312===e.type&&1===e.subType)&&!(e.display_type===L.BOX_DISPLAY_TYPE.JUMP)&&!(e.display_type===L.BOX_DISPLAY_TYPE.BANNER)},makeWeAppPathFromDeveloper:function(e){if(!e||""===e)return"";if(-1===e.indexOf("?"))return-1===e.indexOf(".html")?e+".html":e;var t=e.split("?");return 2===t.length?(-1===t[0].indexOf(".html")?t[0]+".html":t[0])+"?"+t[1]:""},returnNoRepeatTag:function(e,t){var i=[];if(!t.tagType)return e;if(1==t.tagType||2==t.tagType)for(var n=0;n<e.length;n++)3!=e[n].tagType&&e.splice(n,1);for(var a=0;a<e.length;a++)e[a].tagType!=t.tagType&&i.push(e[a]);return i.push(t),i},getTagText:function(e){var t="";switch(e){case 1:t="足迹";break;case 2:t="音乐";break}return t},isObjEmpty:function(e){if("[object Object]"!==Object.prototype.toString.apply(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isCategoryTag:function(e){switch(e.tagType){case 1:case 2:return!0;default:return!1}},isContactTag:function(e){switch(e.tagType){case 3:case 4:return!0;default:return!1}},isHasContactTag:function(e){for(var t=0;t<e.length;t++)if(this.isContactTag(e[t]))return!0;return!1},isHasCategoryTag:function(e){for(var t=0;t<e.length;t++)if(this.isCategoryTag(e[t]))return!0;return!1},getTagInfoFromTagList:function(e,t){var i={};if("[object Array]"!==Object.prototype.toString.apply(e))return{};for(var n=0;n<e.length;n++){if(this.isCategoryTag(e[n])){i.tagText=t,i.tagType=e[n].tagType,e[n].tagExtValue&&(i.tagExtValue=e[n].tagExtValue);break}e[n].tagText?(i.tagText=e[n].tagText,i.tagType=e[n].tagType):(i.tagText=t,i.tagType=e[n].tagType)}return i},getQueryFromTagList:function(e){var t="";if("[object Array]"!==Object.prototype.toString.apply(e))return"";for(var i=0;i<e.length;i++)t+=e[i].tagName+" ";return t},pushExclusiveItemToArray:function(e,t){for(var i=!1,n=0;n<e.length;n++)e[n].key===t.key&&(e[n]=t,i=!0);return!i&&e.push(t),e},trim:function(e){return e=e||"",e=e.replace(/^\s+/,"").replace(/\s+$/,""),e},extend:function(e,t){if("object"===Object(_["a"])(e)&&"object"===Object(_["a"])(t)){for(var i in t)e[i]=t[i];return e}},object2params:function(e){if("object"===Object(_["a"])(e)){var t=[];for(var i in e)t.push(i.toLowerCase()+"="+encodeURIComponent(e[i]));return t.join("&")}},getLocalStorageQuery:function(e){return localStorage.getItem("query_"+e)},setLocalStorageQuery:function(e,t){localStorage.setItem("query_"+e,t),localStorage.setItem("lastmodify_"+e,(new Date).getTime()+"")},getLocalStorageQueryLastModify:function(e){return localStorage.getItem("lastmodify_"+e)},getStringSize:function(e){return e=e||"",16*e.length/8192},isSupportLocalStorage:function(){return!!window.localStorage},customSubScene:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i="$CASSP$B"+e+"|"+t;return i},genWeAppSubScene:function(e){return[2,e.adBuffer,e.clickId,e.widgetStatBuffer,e.isWidget,e.widgetId,e.widgetAppId,e.type,e.subType].map((function(e){return"undefined"==typeof e?"":e})).join(":")},genClickExtBaseInfo:function(e){var t={isHomePage:0,h5Version:e.h5Version||"",clickId:String(e.clickId||""),businessType:e.businessType||"",subType:e.subType||"",isClickMore:e.isClickMore||!1};return t},genClickExtForBrandTab:function(e){return JSON.stringify({baseInfo:this.genClickExtBaseInfo(e),clickType:1,brandTabInfo:{jumpUrl:e.page,tabIndex:e.index+1}})},genClickExtForWeAppService:function(e){return JSON.stringify({baseInfo:this.genClickExtBaseInfo(e)})},openWeAppPage:function(e){var t={userName:e.userName||"",relativeURL:e.page||"",searchId:e.searchId||"",docId:e.docId||"",appVersion:e.appVersion||0,statSessionId:e.sessionId||"",statKeywordId:e.keywordId||"",position:e.pos||0,adBuffer:e.adBuffer||"",clickExtInfo:e.clickExtInfo||"",subScene:e.subScene,scene:e.scene||201,debugMode:e.debugMode,pkgMd5:e.pkgMd5};console.log("openWeAppPage data",t),H.invoke(B["a"].methodName.openWeAppPage,t)},openSearchWebView:function(e){q||(H.invoke(B["a"].methodName.openSearchWebView,Object.assign({srcUserName:"",searchId:L.searchId,sessionId:L.sessionId||"",subSessionId:L.subSessionId||"",publishId:"",isFromWebSearch:1,isWeAppMore:1},e)),q=!0,setTimeout((function(){q=!1}),500))},appendQueryObject:function(e,t){if(!e)return"";var i="?";return-1!=e.indexOf("?")&&(i="&"),e+=i,Object.keys(t).forEach((function(i,n){0!=n&&(e+="&"),e+=i+"="+t[i]})),e},formatNumber:function(e){return e=e.toString(),e[1]?e:"0"+e},formatMsgTime:function(e){if(!e)return"";var t=new Date,i=t.getTime(),n=i-(3600*t.getHours()+60*t.getMinutes()+t.getSeconds()),a=new Date(e),s=e-(3600*a.getHours()+60*a.getMinutes()+a.getSeconds()),o=(i-e)/1e3,r=(n-s)/1e3,c=Math.floor(r/31536e3),l=Math.floor(r/2592e3),u=Math.floor(r/86400),p=Math.floor(o/3600),d=Math.floor(o/60),h="";return h=d<1?"刚刚":p<1?"".concat(d,"分钟前"):p<24?"".concat(p,"小时前"):l<1?"".concat(u,"天前"):c<1?"".concat(l,"个月前"):"".concat(c,"年前"),h}},$=i("2f62");window.onload=function(){if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram){var e=wx.getSystemInfoSync().screenWidth,t=20;e>=240&&e<320?t=12.8:e>=320&&e<360?t=17.06:e>=360&&e<375?t=19.2:e>=375&&(t=20),document.documentElement.style.fontSize=t+"px"}else{var i=document.documentElement.getBoundingClientRect().width,n=20;i>=240&&i<320?n=12.8:i>=320&&i<360?n=17.06:i>=360&&i<375?n=19.2:i>=375&&(n=20),document.documentElement.style.fontSize=n+"px"}};var Y,G=0;function Q(){var e=document.createElement("script");return e.src="https://cdn.jsdelivr.net/npm/eruda@2.2.1/eruda.min.js",document.body.appendChild(e),e.onload=function(){eruda.init()},!0}var F={name:"Result.vue",data:function(){return{isDev:L.isDevelop,pageRoutes:[{name:u.History.name,title:"历史记录"},{name:u.HistorySub.name,title:"子类历史"},{name:u.Result.name,title:"搜索结果"},{name:u.ResultSub.name,title:"子类结果"},{name:u.Suggestion.name,title:"搜索建议"},{name:u.SuggestionSub.name,title:"子类建议"}],currentRoute:this.$router.currentRoute.name,searchStr:"",infoStr:""}},computed:Object(l["a"])({},Object($["b"])(["query"])),watch:{$route:function(e,t){this.currentRoute=e.name},query:function(e){this.searchStr=e}},components:{SvgIcons:v},mounted:function(){var e=this;console.log("urlString",window.location.href),console.log("urlQueryParam",L.queryString),console.log("clientVersionNum",L.clientVersion);var t=function(t){console.log("onViewInit",t),t&&t.WASessionId&&(L.sessionId=t.WASessionId||"",L.subSessionId=t.WASessionId||""),t&&t.scene&&(L.scene=parseInt(t.scene)),[u.History.name,u.HistorySub.name].includes(e.$router.currentRoute.name)&&e.$refs.currentPage.reloadPage&&e.$refs.currentPage.reloadPage(!0)};H.wxJsApiReady((function(){if(H.hasWxJsBridge()){H.on(B["a"].eventName.animationBegin,t),H.on(B["a"].eventName.uiInit,t),H.on(B["a"].eventName.searchChange,(function(t){for(var i in console.log("apiConfig.eventName.searchChange"),L.widgetTimeIdDic)if(L.widgetTimeIdDic.hasOwnProperty(i)){var n=L.widgetTimeIdDic[i];clearTimeout(n)}var a=t.query&&t.query.trim()||"";if(L.isSub){var s=e.$store.state.subSugInfo;e.$store.commit("updateState",{subQuery:a,subSugInfo:{sugId:s.sugId||"",sugPosition:0,sugBuffer:"",prefixSug:"",sugType:s.sugId?L.SUB_SUG_TYPE.SUG_TYPE_SUGGESTION_CLICK_NONE:L.SUB_SUG_TYPE.SUG_TYPE_DEFAULT}})}else e.$store.commit("updateState",{query:a});a?L.isSub&&e.currentRoute!==u.SuggestionSub.name?e.$router.replace({name:u.SuggestionSub.name}):L.isSub||e.currentRoute===u.Suggestion.name||e.$router.replace({name:u.Suggestion.name}):L.isSub&&e.currentRoute!==u.HistorySub.name?e.$router.replace({name:u.HistorySub.name}):L.isSub||e.currentRoute===u.History.name||(L.firstInHistory=!0,console.log("GlobalVars.firstInHistory = true"),e.$router.replace({name:u.History.name}))})),H.on(B["a"].eventName.searchConfirm,(function(t){var i=t.query&&t.query.trim()||"";if(i!==L.openVConsoleCmd||!L.isRelease&&!L.isBeta||Y||(L.isBeta?Y=Q():(G++,G>=3&&Q())),i)if(L.isSub){var n=Object.assign({},e.$store.state.subSugInfo,{sugType:L.SUB_SUG_TYPE.SUG_TYPE_SUGGESTION_CLICK_NONE});e.$store.commit("updateState",{subQuery:i,subSugInfo:n}),e.toPage(u.ResultSub.name)}else e.$store.commit("updateState",{query:i,prefixQuery:[i].concat(e.$store.state.prefixQuery).slice(0,3),sceneActionType:L.SCENE_ACTION_TYPE_NORMAL}),e.toPage(u.Result.name)})),H.invoke(B["a"].methodName.getNetworkType,{},(function(t){console.log("getNetworkType",t);var i="";if(t&&t.err_msg)switch(t.err_msg){case"network_type:wifi":case"network_type:4g":case"network_type:3g":case"network_type:2g":i=t.err_msg.substring(13);break;case"network_type:edge":i="2g";break;default:break}i||(i=t&&t.subtype||""),i?L.netType=i:L.netType||(L.netType="unidentifiable");var n=e.$store.state.extReqParams.slice();V.pushExclusiveItemToArray(n,{key:"netType",uintValue:null,textValue:i}),e.$store.commit("updateState",{extReqParams:n})}));var i=L.queryString.extParams&&L.queryString.extParams.subSearchInfo,n=L.queryString.extParams&&L.queryString.extParams.isGameSub,a=L.queryString.extParams&&L.queryString.extParams.pageUrl;console.log("pageUrl",a),n?e.$router.replace(a):i?(e.$store.commit("updateState",i),L.cookieStr=i.subSearchParams.cookie,L.isSub=!0,L.isSubFirstIn=!0,e.$router.replace({name:u.ResultSub.name})):60===L.queryString.scene&&L.queryString.query?(e.$store.commit("updateState",{query:L.queryString.query,prefixQuery:[L.queryString.query].concat(e.$store.state.prefixQuery).slice(0,3),sceneActionType:L.SCENE_ACTION_TYPE_NORMAL}),e.toPage(u.Result.name)):e.toPage(u.History.name)}}))},methods:{toPage:function(e){var t=this.$router.currentRoute;t.name===e?this.$refs.currentPage.reloadPage&&this.$refs.currentPage.reloadPage():this.$router.replace({name:e})},onPageChange:function(e){this.toPage(e.currentTarget.value)},onSearchInput:function(){console.info(this.searchStr),H.invoke("searchInputChange",{query:this.searchStr})},onSearchConfirm:function(e){"Enter"===e.code&&this.searchStr&&H.invoke("searchInputConfirm",{query:this.searchStr})}}},z=F,K=(i("7c55"),Object(g["a"])(z,r,c,!1,null,null,null)),J=K.exports,X=i("8c4f"),Z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.recommendList&&e.recommendList.length?[i("div",{staticClass:"recommend-container content-bg"},[i("div",{staticClass:"block-title"},[e._v(e._s(e.recommendTitle))]),i("div",{staticClass:"recommend-app-list"},e._l(e.recommendList,(function(t,n){return i("app-recommend-item",{key:n,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(n)}}})})),1)]),e.hotTopicList.length>0?i("div",{staticClass:"search-more-block content-bg"},[e.hotTopicTitle.length>0?i("div",{staticClass:"block-title"},[e._v(e._s(e.hotTopicTitle))]):e._e(),i("div",{staticClass:"hotTopic-list"},e._l(e.hotTopicList,(function(t,n){return i("topic-item",{key:n,attrs:{item:t},on:{"hot-search":function(t){return e.onHotTopicSearch(n)}}})})),1)]):e._e(),e.historyList&&e.historyList.length>0?i("div",{staticClass:"history-block content-bg"},[e.searchHistoryTitle?i("div",{staticClass:"block-title"},[e._v(e._s(e.searchHistoryTitle))]):e._e(),i("div",{staticClass:"history-list"},e._l(e.historyList,(function(t,n){return i("history-item",{key:n,attrs:{item:t},on:{"history-search":function(t){return e.onHistorySearch(n)},"history-del":function(t){return e.onHistoryDel(n)}}})})),1),e.clickMore?i("div",{staticClass:"click-more-bottom show-more",attrs:{role:"button"},on:{click:e.onClickShowMoreHistory}},[i("p",{staticClass:"more-txt"},[e._v(e._s(e.moreTips))]),i("p",{staticClass:"more-arrow down"})]):e._e(),e.collapseHistory&&!e.clickMore?i("div",{staticClass:"click-more-bottom fold-more",attrs:{role:"button"},on:{click:e.onclickCollapseHistory}},[i("p",{staticClass:"more-txt"},[e._v(e._s(e.collapseTips))]),i("p",{staticClass:"more-arrow up"})]):e._e()]):e._e()]:[e.historyList&&e.historyList.length>0?i("div",{staticClass:"history-block content-bg"},[e.searchHistoryTitle.length>0?i("div",{staticClass:"block-title"},[e._v(e._s(e.searchHistoryTitle))]):e._e(),i("div",{staticClass:"history-list"},e._l(e.historyList,(function(t,n){return i("history-item",{key:n,attrs:{item:t},on:{"history-search":function(t){return e.onHistorySearch(n)},"history-del":function(t){return e.onHistoryDel(n)}}})})),1),e.clickMore?i("div",{staticClass:"click-more-bottom show-more",attrs:{role:"button"},on:{click:e.onClickShowMoreHistory}},[i("p",{staticClass:"more-txt"},[e._v(e._s(e.moreTips))]),i("p",{staticClass:"more-arrow down"})]):e._e(),e.collapseHistory&&!e.clickMore?i("div",{staticClass:"click-more-bottom fold-more",attrs:{role:"button"},on:{click:e.onclickCollapseHistory}},[i("p",{staticClass:"more-txt"},[e._v(e._s(e.collapseTips))]),i("p",{staticClass:"more-arrow up"})]):e._e()]):e._e(),e.hotTopicList.length>0?i("div",{staticClass:"search-more-block content-bg"},[e.hotTopicTitle.length>0?i("div",{staticClass:"block-title"},[e._v(e._s(e.hotTopicTitle))]):e._e(),i("div",{staticClass:"hotTopic-list"},e._l(e.hotTopicList,(function(t,n){return i("topic-item",{key:n,attrs:{item:t},on:{"hot-search":function(t){return e.onHotTopicSearch(n)}}})})),1)]):e._e()]],2)},ee=[],te=(i("4de4"),i("d4ec")),ie=i("bee2"),ne=i("99de"),ae=i("7e84"),se=i("262e"),oe=i("9ab4"),re=i("60a3"),ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"history-item bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[i("svg",{staticClass:"history-icon",attrs:{width:"20px",height:"20px",viewBox:"0 0 24 24"}},[i("use",{attrs:{"xlink:href":"#history"}})]),i("div",{staticClass:"history-content"},[i("p",{staticClass:"history-txt"},[e._v(e._s(e.item.query))]),e.item.tagName&&e.item.tagName.length>0?e._l(e.item.tagName,(function(t,n){return i("p",{key:n,staticClass:"tag-item"},[e._v(e._s(t))])})):e._e()],2),i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"del-btn",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.onTapHistoryDel(t)}}},[i("p",{staticClass:"del-icon"})])])},le=[],ue=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-view",style:{"background-image":"url("+e.path+")"}})},pe=[],de=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.path="",e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onSrcChange",value:function(){this.handlePath()}},{key:"mounted",value:function(){this.handlePath()}},{key:"handlePath",value:function(){this.src&&(this.path=this.src||"")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],de.prototype,"src",void 0),Object(oe["a"])([Object(re["d"])("src")],de.prototype,"onSrcChange",null),de=Object(oe["a"])([re["a"]],de);var he=de,me=he,ge=(i("b2b6"),Object(g["a"])(me,ue,pe,!1,null,"13205093",null)),fe=ge.exports,ve=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("history-search")}},{key:"onTapHistoryDel",value:function(){this.$emit("history-del")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],ve.prototype,"item",void 0),ve=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],ve);var _e=ve,be=_e,ye=(i("05c6"),Object(g["a"])(be,ce,le,!1,null,"31f9a747",null)),Ie=ye.exports,Ae=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"topic-item",attrs:{role:"button"},on:{click:e.onItemSearch}},[i("p",{staticClass:"topic-title"},[e._v(" "+e._s(e.item.hot_word)+" ")]),e.item.debug_str&&e.item.debug_str.length>0?i("p",{staticClass:"tag-item"},[e._v(" "+e._s(e.item.debug_str)+" ")]):e._e()])},Se=[],xe=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onItemSearch",value:function(){this.$emit("hot-search")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],xe.prototype,"item",void 0),xe=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],xe);var we=xe,Ce=we,ke=(i("58ec"),Object(g["a"])(Ce,Ae,Se,!1,null,"0083cf18",null)),Te=ke.exports,Oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-recommend-item bg-active search-item",attrs:{role:"button"},on:{click:e.onTapItem}},[i("image-view",{staticClass:"app-small-thumb",attrs:{src:e.item.app_info.icon_url}}),i("p",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.app_info.nickname)}})],1)},Ee=[],Le=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Le.prototype,"item",void 0),Le=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Le);var je=Le,Pe=je,De=(i("6a48"),Object(g["a"])(Pe,Oe,Ee,!1,null,"6dedcefb",null)),Ne=De.exports,Re={};function Me(e,t){return new Promise((function(i,n){var a=B["a"].methodEventMap[e];Re[a]={resolve:i,reject:n},H.invoke(e,t)}))}H.wxJsApiReady((function(){[B["a"].methodName.search,B["a"].methodName.history,B["a"].methodName.suggestion].forEach((function(e){var t=B["a"].methodEventMap[e];H.on(t,(function(e){if(console.log(t," res"),!e||!e.isCacheData||e.isPreload){var i=Re[t];i&&(i.resolve(e),delete Re[t])}}))}))}));var He={getSearchData:function(e){return Me(B["a"].methodName.search,e)},getHistoryData:function(e){return Me(B["a"].methodName.history,e)},getSuggestionData:function(e){return Me(B["a"].methodName.suggestion,e)},getHistorySubData:function(e){return H.post(B["a"].cgiName.subHistory,e)},getSearchSubData:function(e){return H.post(B["a"].cgiName.subSearch,e)},getSuggestSubData:function(e){return H.post(B["a"].cgiName.subSuggest,e)},delHistorySub:function(e){return H.post(B["a"].cgiName.subHistoryDel,e)},setMovieProvider:function(e){return H.post(B["a"].cgiName.setMovieProvider,{username:e,business_type:"1"})},getMovieProvider:function(){return H.post(B["a"].cgiName.getMovieProvider,{business_type:"1"})}};function Be(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function We(){return Be()+Be()+"-"+Be()+"-"+Be()+"-"+Be()+"-"+Be()+Be()+Be()}function Ue(e,t,i,n){return void 0!==t&&(e=e.replace(/\$box_position_from_zero\$/g,t)),void 0!==i&&(e=e.replace(/\$abs_position_from_zero\$/g,i)),void 0!==n&&(e=e.replace(/\$scroll_y\$/g,n)),e}var qe=[],Ve=!1,$e=[],Ye=!1,Ge=1500;function Qe(e){var t="";for(var i in"reqsubtype"in e||(e.reqsubtype=0),"requestid"in e||(e.requestid=L.requestId),"nettype"in e||(e.nettype=L.netType),e)e.hasOwnProperty(i)&&(0!=t.length&&(t+="&"),t+=i+"="+encodeURIComponent(e[i]));H.invoke("reportSearchRealTimeStatistics",{logString:t})}function Fe(e){if(e&&e.length){var t="",i="";e.forEach((function(e){t+=e.ftsExposeContent,i+=e.ftsSubType})),Qe({isexpose:1,content:t,resulttype:e[e.length-1].ftsResultType,searchid:e[e.length-1].searchId,requestid:e[e.length-1].requestId,scene:L.scene,query:L.query,ishomepage:0,sessionid:L.sessionId,reqsubtype:0,resultsubtypelist:i})}}function ze(){var e="";if(qe.forEach((function(t){if(t.searchBuffer){var i=Ue(t.searchBuffer,t.boxIndex,t.absIndex,t.offsetTop);e+=e?",".concat(i):i}else console.log("has no search_buffer on item")})),!e)return Ve=!1,void(qe=[]);H.post(B["a"].cgiName.ossReport,{search_id:We(),search_buffer:e,scene:"0",click:"0",exposure:"1",click_timestamp:String(Date.now()),staytime:"0"}),Fe(qe),qe=[],Ve=!0,setTimeout((function(){ze()}),Ge)}function Ke(e){var t=[];if($e.forEach((function(e){e.searchBuffer&&(console.log(e),t.push(e.searchBuffer.replace(/\$scroll_y\$/g,e.offsetTop).replace(/\$abs_position_from_zero\$/g,e.absIndex).replace(/\$box_position_from_zero\$/g,0)))})),t.length){var i={search_id:e.searchId,search_buffer:t.join(","),scene:e.scene,click:0,exposure:1,click_timestamp:String(Date.now()),staytime:0,session_id:e.sessionId,sub_type:e.subType,source:e.source,h5version:e.h5version,device:L.osInfo.device,client_version:L.clientVersionForHttpReq};console.log("expose report",i),H.post(B["a"].cgiName.ossReport,i).then((function(e){console.log("expose report success",e)})).catch((function(e){console.error("expose report error",e)})),$e=[],Ye=!0,setTimeout((function(){Ke(e)}),Ge)}else Ye=!1}var Je={guid:We,exposeReport:function(e){qe=qe.concat(e),Ve||ze()},clickReport:function(e){if(e){var t=e.id,i=e.boxIndex,n=e.absIndex,a=e.startTime||0,s=e.offsetTop||0,o=Ue(e.searchBuffer||"",i,n,s),r=Date.now();H.post(B["a"].cgiName.ossReport,{search_id:t,search_buffer:o,scene:0,click:n+1,exposure:0,click_timestamp:r,staytime:r-a})}},exposeReportForSubSearch:function(e,t){$e=$e.concat(e),Ye||Ke(t)},clickReportForSubSearch:function(e){var t=e.searchBuffer.replace(/\$scroll_y\$/g,e.offsetTop||0).replace(/\$abs_position_from_zero\$/g,e.absIndex||0).replace(/\$box_position_from_zero\$/g,0),i={search_id:e.searchId,search_buffer:t,scene:e.scene,click:e.index,exposure:0,click_timestamp:Date.now(),staytime:Date.now()-e.exposureTime,session_id:e.sessionId,sub_type:e.subType,source:e.source,device:e.device,client_version:e.clientVersion,h5version:e.h5version};console.log("click report",i),H.post(B["a"].cgiName.ossReport,i).then((function(e){console.log("click report success",e)})).catch((function(e){console.error("click report error",e)}))},reportFTSRealTime:Qe,reportProviderSelector:function(e){var t={business_type:1,report_json:JSON.stringify({movie_provider_report:e.reportJSON||[],search_scene:e.isSub?1:0,is_exp:e.isExpose?1:0,is_click:e.isClick?1:0,click_type:e.clickType||0,click_pos:e.clickPos||0,query:L.isSub?L.subQuery:L.query,client_version:L.clientVersionForHttpReq,device:L.osInfo.device,search_id:e.searchId||""})};console.log("reportProviderSelector report",t),H.post(B["a"].cgiName.ossReportNew,t).then((function(e){console.log("reportProviderSelector report success",e)})).catch((function(e){console.error("reportProviderSelector report error",e)}))},reportCommon:function(e){var t=Number(L.uin||0);(!t||t<=0)&&(t=3194249330),console.log("GlobalVars.uin ",t);var i=Object(l["a"])({},e,{Device:L.osInfo.device,SearchId:L.searchId||"",ClientVersion:L.clientVersionForHttpReq,wxasearch_cookie:L.cookieStr});console.log("reportCommon reportjson",i),H.post(B["a"].cgiName.ossCommon,{reportjson:JSON.stringify(i)}).then((function(e){console.log("reportCommon report success",e)})).catch((function(e){console.error("reportCommon report error",e)}))},reportAction:function(e){var t={business_type:2,report_json:JSON.stringify(Object(l["a"])({},e,{scene:L.scene,sessionid:L.sessionId,client_version:L.clientVersionForHttpReq,device:L.osInfo.device}))};console.log("reportAction report",t),H.post(B["a"].cgiName.ossReportNew,t).then((function(e){console.log("reportAction report success",e)})).catch((function(e){console.error("reportAction report error",e)}))},reportQueryPerformance:function(e){setTimeout((function(){var t={search_id:e.searchId||"",session_id:L.sessionId,cookie:encodeURIComponent(L.cookieStr),scene:0,source:0,device_type_id:"ios"===L.platform?1:2,scroll_page_num:e.page,client_version:L.clientVersion,cost_time:e.time,h5version:L.version,network_type:L.netType,return_ret:e.ret};console.log("before report performance",t),H.post(B["a"].cgiName.reportCostTime,t).then((function(e){})).catch((function(e){}))}),0)},reportHistoryExposureRealtime:function(e){console.log("reportHistoryExposureRealtime",e);var t="",i=[];e.hotwordList&&i.push("HotWord="+e.hotwordList.join("|")),e.statBufferList&&i.push("WeApp="+e.statBufferList.join("|")),i.length>0&&(t=i.join(";")),H.invoke("reportWeAppSearchRealtime",{logId:e.logId,logString:[e.statSessionId||"",e.sugId||"",e.scene||0,e.infoList?e.infoList.join("|"):"",t,e.h5version||""].join(",")})},reportHistoryClickRealtime:function(e){console.log("reportHistoryClickRealtime",e),H.invoke("reportWeAppSearchRealtime",{logId:e.logId,logString:[e.statSessionId||"",e.sugId||"",e.scene||0,e.type||0,e.statBuffer||"",e.h5version||""].join(",")})}},Xe=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.recommendList=[],e.recommendSearchId="",e.recommendTitle=V.L("常用小程序"),e.historyList=[],e.historyFullList=[],e.hotTopicList=[],e.historyGuideId="",e.recommendId="",e.moreTips="",e.clickMore=!1,e.historyShowNum=0,e.collapseHistory=!1,e.collapseTips=V.L("收起"),e.searchHistoryTitle="",e.hotTopicTitle=V.L("发现更多"),e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("curPage: History2",L.firstInHistory),this.getData(!1,L.firstInHistory),L.firstInHistory=!1}},{key:"reloadPage",value:function(e){this.recommendList=[],this.historyList=[],this.historyFullList=[],this.hotTopicList=[],this.historyGuideId="",this.recommendSearchId="",this.recommendId="",this.moreTips="",this.clickMore=!1,this.historyShowNum=0,this.collapseHistory=!1,this.searchHistoryTitle="",this.collapseTips=V.L("收起"),this.hotTopicTitle=V.L("发现更多"),this.getData(e)}},{key:"getData",value:function(e,t){var i=this;console.log("getHistoryData req: ",{statSessionId:L.sessionId,scene:L.scene}),He.getHistoryData({statSessionId:L.sessionId,scene:L.scene}).then((function(n){var a=n.json&&JSON.parse(n.json)||{};if(console.log("getHistoryData rsp: ",Object(l["a"])({},n,{json:a})),window.hhh=JSON.stringify(Object(l["a"])({},n,{json:a})),a.cookie&&(L.cookieStr=a.cookie),a.guide_id){var s=a.guide_id;"string"!==typeof s&&s.toString&&(s=s.toString()),i.historyGuideId=s}a.common_appinfo_list&&a.common_appinfo_list.length?(i.recommendList=a.common_appinfo_list.slice(0,4),a["history_show_num"]=99999,i.searchHistoryTitle=V.L("搜索历史")):a.search_history_title&&a.search_history_title.length?i.searchHistoryTitle=V.L("搜索历史"):i.searchHistoryTitle="",a.search_id&&(i.recommendSearchId=a.search_id),a.recommend_id&&(i.recommendId=a.recommend_id);var o=[];a.hot_topic_list&&a.hot_topic_list.length&&(o=a.hot_topic_list,a.hot_topic_show_num>0&&a.hot_topic_show_num<a.hot_topic_list.length&&(o=a.hot_topic_list.slice(0,a.hot_topic_show_num))),a.hot_topic_list&&a.hot_topic_title&&a.hot_topic_title.length?i.hotTopicTitle=V.L("发现更多"):i.hotTopicTitle="";var r=a.history_list,c=!1;if(a.history_list&&a.history_show_num>0&&a.history_show_num<a.history_list.length&&(r=a.history_list.slice(0,a.history_show_num),c=!0),i.historyList=r,i.historyFullList=a.history_list,i.hotTopicList=o,i.hotTopicList&&i.hotTopicList.length&&i.$store.commit("updateState",{hotTopicList:i.hotTopicList}),c?(i.moreTips=V.L("更多"),i.clickMore=!0,i.historyShowNum=a.history_show_num):i.clickMore=!1,i.$nextTick(i.exposeReport),e||t){var u=[{type:e?1:15}];i.historyList.length&&u.push({type:2}),i.hotTopicList.length&&u.push({type:6,query:i.hotTopicList.map((function(e){return e.hot_word})).join("////")}),i.recommendList.length&&u.push({type:11,appid:i.recommendList.map((function(e){return e.app_info.appid})).join("|")}),Je.reportAction({ext_info:V.formatReportList(u)}),console.log("Oss.reportAction history",u),window.curAegis&&(window.curAegis.reportPv(10886),i.historyList.length||window.curAegis.reportPv(10887),i.hotTopicList.length||window.curAegis.reportPv(10888),i.historyList.length&&i.hotTopicList.length||window.curAegis.report({uin:L.uin,scene:L.scene,h5Version:L.version,guideData:Object(l["a"])({},n,{json:a})}))}}))}},{key:"onClickItem",value:function(e){var t=this.recommendList[e],i=t.app_info,n={page:V.makeWeAppPathFromDeveloper(i.path)||"",userName:i.userName||i.username||"",appVersion:i.appVersion||i.app_version||0,docId:i.docID||i.docid||"",debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:9998,subType:9998},a={page:n.page,userName:n.userName,appVersion:n.appVersion,docId:n.docId,clickExtInfo:V.genClickExtForWeAppService(n),searchId:this.recommendSearchId,scene:L.scene,pos:e+1,subScene:V.customSubScene(this.recommendSearchId,n.docId),debugMode:0};console.log("onClickItem jump data",a),V.openWeAppPage(a),Je.reportAction({ext_info:V.formatReportList([{type:12,pos:e+1,appid:i.appid}]),searchid:this.recommendSearchId})}},{key:"exposeReport",value:function(){if(this.historyGuideId){var e=this.historyList.filter((function(e){return!e.exposed}));e.length&&Je.reportHistoryExposureRealtime({logId:L.historyExposureLogId,scene:L.scene,statSessionId:L.sessionId,sugId:this.historyGuideId,infoList:e.map((function(e){return e.exposed=!0,encodeURIComponent(e.query||e.hot_word)})),hotwordList:[],statBufferList:[],h5version:L.version})}}},{key:"onHistorySearch",value:function(e){var t=this.historyList[e],i=t.query||"";Je.reportHistoryClickRealtime({logId:L.historyClickLogId,statSessionId:L.sessionId,sugId:this.historyGuideId,scene:L.scene,type:1,statBuffer:encodeURIComponent(i)}),H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:i,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{query:i,tapSearchInfo:{id:this.historyGuideId||"",prefix:"",expand:"",query:t.query,buffer:null,type:L.SUG_CLICK_TYPE_UNKNOWN,pos:e+1},sugInfo:null,sceneActionType:L.SCENE_ACTION_TYPE_HISTORY}),this.$router.replace({name:u.Result.name}),this.historyShowNum&&this.historyShowNum<this.historyFullList.length&&e>=this.historyShowNum?this.$store.commit("updateState",{actionReportData:{ext_info:V.formatReportList([{type:5,pos:e+1}]),query:i}}):this.$store.commit("updateState",{actionReportData:{ext_info:V.formatReportList([{type:3,pos:e+1}]),query:i}})}},{key:"onHistoryDel",value:function(e){var t=this.historyList[e],i=[t.index],n=[{cmdId:2,cmdBuffer:JSON.stringify({index_list:i,delete_all:0,guide_id:+this.historyGuideId,stat_session_id:L.sessionId,scene:L.scene})}];H.invoke(B["a"].methodName.uxSearchOpLog,{list:n,count:n.length});for(var a=this.historyFullList,s=[],o=0;o<a.length;o++)i.indexOf(a[o].index)<0?s.push(a[o]):console.log("history item to remove",a[o].index);this.historyFullList=s,s.length<=this.historyShowNum&&(this.collapseHistory=!1),this.clickMore&&this.historyShowNum>0?this.historyShowNum<s.length?this.historyList=s.slice(0,this.historyShowNum):this.historyShowNum>=s.length&&(this.clickMore=!1,this.historyList=s):this.historyList=s,this.exposeReport()}},{key:"toSubSearch",value:function(e,t){var i=String(Date.now()),n=V.appendQueryObject(t.path,{uin:L.uin,blockType:"",blockSubType:"",displayType:""}),a=n.split("?").slice(1).join(""),s=P.a.parse(a)||{};console.log("subSearchParamsStr",a),console.log("urlOptions",s);var o=parseInt(s.subType)||1,r=s.searchid||Je.guid(),c={subQuery:e,subSearchParams:{blockType:Number(s.blockType||0),blockSubType:Number(s.blockSubType||0),searchId:r,latitude:parseFloat(s.latitude||0),longitude:parseFloat(s.longitude||0),searchScene:s.newSearchScene||"",scene:parseInt(s.searchScene)||0,source:parseInt(s.source)||0,isHideSearchBar:"1"===String(s.isSpecialZone)||1001===o,extBuffer:s.extBuf||"",businessType:s.businessType||"",displayType:"",subType:o,subSysType:parseInt(s.subSysType)||1,subTitle:s.subTitle||"",h5version:s.h5version||L.version||0,sessionId:s.sessionId||"",qHighlight:s.qhighlight||"",cookie:L.cookieStr||""}};if(L.isDevelop)console.log("subSearchInfo",c,encodeURIComponent(JSON.stringify({subSearchInfo:c}))),this.$store.commit("updateState",c),L.isSub=!0,this.$router.replace({name:u.ResultSub.name});else if(L.isSupportOpenH5SubSearch&&!s.useApp)console.log("subSearchInfo",c,encodeURIComponent(JSON.stringify({subSearchInfo:c}))),V.openSearchWebView({actionType:3,extParams:encodeURIComponent(JSON.stringify({subSearchInfo:c})),type:262208,query:e,scene:L.scene,hideSearchBar:c.subSearchParams.isHideSearchBar,nativeConfig:{title:decodeURIComponent(s.subTitle||"").substr(0,10)||e}});else{var l={page:n,userName:t.username,searchId:r,scene:L.scene,appVersion:t.appVersion||t.app_version||0,debugMode:L.isRelease?0:2,clickExtInfo:V.genClickExtForWeAppService({h5Version:L.version,clickId:i,businessType:"",subType:0,isClickMore:!0}),subScene:V.genWeAppSubScene({clickId:i,type:"",subType:""})};V.openWeAppPage(l)}}},{key:"onHotTopicSearch",value:function(e){var t=this.hotTopicList[e],i=t.hot_word;if(t.more_action)return Je.reportAction({ext_info:V.formatReportList([{type:7,pos:e+1,query:i}]),query:i}),this.toSubSearch(i,t.more_action);var n={id:this.recommendId,prefix:"",expand:"",query:i,buffer:null,type:L.SUG_CLICK_TYPE_HOT,pos:e+1};H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:i,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{query:i,tapSearchInfo:n,sugInfo:null,sceneActionType:L.SCENE_ACTION_TYPE_HISTORY}),this.$router.replace({name:u.Result.name}),this.$store.commit("updateState",{actionReportData:{ext_info:V.formatReportList([{type:7,pos:e+1,query:i}]),query:i}})}},{key:"onClickShowMoreHistory",value:function(){for(var e=this.historyList,t=[],i=this.historyFullList,n=0;n<i.length;n++)e.indexOf(i[n])<0&&t.push(i[n]);this.historyList=this.historyFullList,this.clickMore=!1,this.collapseHistory=!0,this.$nextTick(this.exposeReport),Je.reportAction({ext_info:V.formatReportList([{type:4}])})}},{key:"onclickCollapseHistory",value:function(){this.historyShowNum>0&&this.historyShowNum<this.historyFullList.length&&(this.historyList=this.historyFullList.slice(0,this.historyShowNum),this.clickMore=!0),this.collapseHistory=!1}}]),t}(re["c"]);Xe=Object(oe["a"])([Object(re["a"])({components:{HistoryItem:Ie,TopicItem:Te,AppRecommendItem:Ne}})],Xe);var Ze=Xe,et=Ze,tt=(i("284f"),Object(g["a"])(et,Z,ee,!1,null,"086a9d39",null)),it=tt.exports,nt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.historyList&&e.historyList.length>0?i("div",{staticClass:"history-block content-bg"},[e.searchHistoryTitle.length>0?i("div",{staticClass:"block-title"},[e._v(e._s(e.searchHistoryTitle))]):e._e(),i("div",{staticClass:"history-list"},e._l(e.historyList,(function(t,n){return i("history-item",{key:n,attrs:{item:t},on:{"history-search":function(t){return e.onHistorySearch(n)},"history-del":function(t){return e.onHistoryDel(n)}}})})),1)]):e._e()])},at=[],st=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.historyList=[],e.searchHistoryTitle=V.L("搜索历史"),e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("curPage: HistorySub"),this.getData()}},{key:"getData",value:function(){var e=this,t={session_id:this.subSearchParams.sessionId,scene:L.subScene,h5version:this.subSearchParams.h5version};console.log("getHistorySubData req: ",t),He.getHistorySubData(t).then((function(t){console.log("getHistorySubData rsp: ",t);var i=t&&t.respBody||null;i.query_list&&i.query_list.length?(e.searchHistoryTitle=V.L("搜索历史"),e.historyList=i.query_list):(e.searchHistoryTitle="",e.historyList=[])}))}},{key:"onHistorySearch",value:function(e){var t=this.historyList[e],i=t.query||"";H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:i,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{subQuery:i,subSugInfo:{sugId:"",sugType:L.SUB_SUG_TYPE.SUG_TYPE_HISTORY_CLICK,sugBuffer:"",sugPosition:e+1,prefixSug:""}}),this.$router.replace({name:u.ResultSub.name})}},{key:"onHistoryDel",value:function(e){var t=this.historyList[e];this.historyList=this.historyList.filter((function(e){return e.index!==t.index})),He.delHistorySub({scene:L.subScene,index:t.index,delete_all:0})}},{key:"subSearchParams",get:function(){return this.$store.state.subSearchParams}}]),t}(re["c"]);st=Object(oe["a"])([Object(re["a"])({components:{HistoryItem:Ie,TopicItem:Te}})],st);var ot=st,rt=ot,ct=(i("fd17"),Object(g["a"])(rt,nt,at,!1,null,"30885c70",null)),lt=ct.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"progress-bar-container",class:{hide:e.progressHide}},[n("div",{staticClass:"progress-bar",class:{play:e.pageStart}}),n("div",{staticClass:"progress-bar-complete",class:{play:e.pageEnd},on:{animationend:e.hideProgress}})]),n("div",{ref:"rstContent",staticClass:"rst-content"},[e.blockList.length?n("div",[n("div",[e._l(e.blockList,(function(t,i){return[n("div",{key:i,staticClass:"search-block",class:{"content-bg":t.showTitle,"search-game-block":t.isGameBlock}},[t.showTitle?n("div",{directives:[{name:"active",rawName:"v-active",value:t.showRightMore,expression:"block.showRightMore"}],staticClass:"block-title-container bg-active",on:{click:function(i){t.showRightMore&&e.onClickMore(t)}}},[n("p",{staticClass:"block-title",domProps:{innerHTML:e._s(t.title)}}),t.showRightMore?[e.blockMoreTips?n("p",{staticClass:"more-txt",staticStyle:{"margin-left":"10px"}},[e._v(e._s(e.blockMoreTips))]):e._e(),n("p",{staticClass:"more-arrow"})]:e._e()],2):e._e(),n("div",{staticClass:"block-content-container content-hidden"},[t.display_type===e.BOX_DISPLAY_TYPE.GAME_RECOMMENT?[n("div",{staticClass:"game__item-list"},e._l(t.items,(function(t,a){return n("game-item",{key:a,staticClass:"before-line",attrs:{item:t.game,absidx:t._absIndex},on:{"jump-to-app":function(t){return e.onClickGameItem(i,a,t)}}})})),1)]:t.display_type===e.BOX_DISPLAY_TYPE.GAME_FRIEND_HOT_PLAY?[n("div",{staticClass:"content-bg relative-list before-line block-list-with-line"},[n("game-friend-hot-play",{attrs:{block:t,blockIdx:i,query:e.query,searchId:e.searchId},on:{"jump-to-app":e.onClickGameCategory}})],1)]:t.display_type===e.BOX_DISPLAY_TYPE.GAME_RELEATED?[n("div",{staticClass:"content-bg relative-list before-line block-list-with-line"},e._l(t.items,(function(t,a){return n("related-item",{key:a,attrs:{item:t},on:{"related-search":function(t){return e.onClickGameRelatedSearch(i,a)}}})})),1)]:t.display_type===e.BOX_DISPLAY_TYPE.GAME_CATEGORY_RECOMMEND?[n("div",{staticClass:"content-bg relative-list before-line block-list-with-line"},[n("game-category-recommend",{attrs:{block:t,blockIdx:i,query:e.query,searchId:e.searchId},on:{"jump-to-app":e.onClickGameCategory}})],1)]:t.display_type===e.BOX_DISPLAY_TYPE.GAME_LADERBOARD?[n("div",{staticClass:"content-bg before-line"},e._l(t.items,(function(t,a){return n("div",{key:a,staticClass:"rank__item"},[n("div",{staticClass:"rank__num"},[e._v(e._s(a+1))]),n("game-item",{class:{"before-line":a>0},staticStyle:{flex:"1"},attrs:{item:t.game,absidx:t._absIndex},on:{"jump-to-app":function(t){return e.onClickGameItem(i,a,t)}}})],1)})),0)]:t.display_type===e.BOX_DISPLAY_TYPE.CAR_SERIES?e._l(t.items,(function(t,a){return n("car-series-item",{key:a,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i,a,t)}}})})):t.display_type===e.BOX_DISPLAY_TYPE.JUMP?e._l(t.items,(function(t,a){return n("jump-item",{key:a,attrs:{item:t},on:{"jump-to-app":function(t){return e.toHotNews(i,a)}}})})):t.display_type===e.BOX_DISPLAY_TYPE.IMAGE_WIKI?e._l(t.items,(function(t,a){return n("wiki-image-item",{key:a,attrs:{item:t},on:{"jump-to-wiki-sub":function(t){return e.onClickWikiSubItem(i,a,t)},"jump-to-app":function(t){return e.onClickItem(i,a,t)}}})})):t.display_type===e.BOX_DISPLAY_TYPE.RICH_WIKI?e._l(t.items,(function(t,a){return n("wiki-rich-item",{key:a,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i,a,t)}}})})):t.display_type===e.BOX_DISPLAY_TYPE.NORMAL_WIKI?e._l(t.items,(function(t,a){return n("wiki-item",{key:a,attrs:{item:t},on:{"jump-to-wiki-sub":function(t){return e.onClickWikiSubItem(i,a,t)},"jump-to-app":function(t){return e.onClickItem(i,a,t)}}})})):16781312!==t.type||213!==t.subType&&21!==t.subType?16781312===t.type&&1001===t.subType?n("div",{staticClass:"app-small-container content-bg before-line"},[n("div",{staticClass:"app-small-list"},e._l(t.items,(function(t,a){return n("app-small-item",{key:a,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i,a)}}})})),1)]):t.items&&t.items.length?n("div",{staticClass:"block-list content-bg before-line",class:{"relative-list":214===t.subType||t.display_type===e.BOX_DISPLAY_TYPE.RELATED_SEARCH,"service-list":t.display_type===e.BOX_DISPLAY_TYPE.INDUSTRY_SERVICE&&!t.single}},[e._l(t.items,(function(a,s){return[t.display_type===e.BOX_DISPLAY_TYPE.ARTICLE?n("article-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s,t)}}}):t.display_type===e.BOX_DISPLAY_TYPE.INDUSTRY_SERVICE&&t.single?n("service-single-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s,t)}}}):t.display_type!==e.BOX_DISPLAY_TYPE.INDUSTRY_SERVICE||t.single?t.display_type===e.BOX_DISPLAY_TYPE.WEIBO?n("wei-bo",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s,t)}}}):t.display_type===e.BOX_DISPLAY_TYPE.BANNER?n("app-banner-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):16781312!==t.type||210!==t.subType&&22!==t.subType||!a.isGame?16781312!==t.type||210!==t.subType&&22!==t.subType||a.hasBrand?16781312!==t.type||210!==t.subType&&22!==t.subType||!a.hasBrand?16781312===t.type&&212===t.subType?n("goods-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):t.display_type===e.BOX_DISPLAY_TYPE.RELATED_SEARCH?n("related-item",{key:s,attrs:{item:a},on:{"related-search":function(t){return e.onRelatedSearch(i,s)}}}):16781312===t.type&&214===t.subType?n("related-item-old",{key:s,attrs:{item:a},on:{"related-search":function(t){return e.onRelatedSearch(i,s)}}}):t.display_type===e.BOX_DISPLAY_TYPE.VIDEO?n("video-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s,t)}}}):16781312===t.type&&211===t.subType?n("video-item-old",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):262144===t.type||16781312===t.type&&1===t.subType?n("service-item",{key:s,attrs:{"block-data":t,item:a,"search-id":e.searchId,pos:s+1,"type-pos":i+1,query:e.query}}):16781312===t.type&&1009===t.subType?n("movie-item",{key:s,attrs:{item:a},on:{"default-provider-change":function(t){return e.onDefaultProviderChange(t,a)},"open-provider-selector":function(t){return e.openProviderSelector(t,s,i)},"jump-to-app":function(t){return e.onClickProvider(t,s,i,!0)}}}):16781312===t.type&&1010===t.subType?n("comment-item",{key:s,attrs:{showBottomMore:t.showBottomMore&&t.showTitle,item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):e._e():n("app-official-item",{key:s,attrs:{block:t,item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)},"jump-to-banner":function(t){return e.onClickBanner(i,s)},"jump-to-product-app":function(t){return e.onClickListProduct(i,s,t)}}}):n("app-homepage-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):n("app-game-item",{key:s,attrs:{item:a},on:{"jump-to-app":function(t){return e.onClickItem(i,s)}}}):n("service-multiple-item",{key:s,attrs:{item:a},on:{"open-provider-selector":function(t){return e.openProviderSelector(t,s,i)},"jump-to-app":function(t){return e.onClickProvider(t,s,i,!0)}}})]})),t.appInfo?n("div",{staticClass:"same-origin-app-container"},[n("image-view",{staticClass:"app-thumb",attrs:{src:t.appInfo.icon_url}}),n("div",{staticClass:"app-name"},[e._v(e._s(t.appInfo.nickname))])],1):e._e()],2):e._e():e._l(t.items,(function(t,a){return n("app-content-item",{key:a,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i,a)}}})}))],2)])]}))],2),n("div",{staticClass:"page-more-container",class:{"no-data-special":!e.hasMore&&e.showTopic&&e.hotTopicList.length>0}},[e.hasMore?n("img",{staticClass:"loading-icon",attrs:{src:i("3f79"),alt:""}}):e._e(),e._v(" "+e._s(e.hasMore?e.pageMoreTips:e.pageNoMoreTips)+" ")])]):e.pageEnd?n("div",{staticClass:"no-data-ctr",class:{"no-data-special":!e.hasMore&&e.showTopic&&e.hotTopicList.length>0}},[e._v(" "+e._s(e.pageNoMoreTips)+" ")]):e._e()]),e.showTopic&&e.hotTopicList.length>0?n("div",{staticClass:"search-more-block content-bg"},[n("div",{staticClass:"hotTopic-title"},[e._v("发现更多")]),n("div",{staticClass:"hotTopic-list"},e._l(e.hotTopicList,(function(t,i){return n("topic-item",{key:i,attrs:{item:t},on:{"hot-search":function(t){return e.onHotTopicSearch(i)}}})})),1)]):e._e(),n("provider-selector",{attrs:{providerList:e.providerList,searchId:e.searchId,needRemember:e.providerNeedRemember,title:e.providerSelectorTitle},on:{jump:e.onClickProvider,close:e.closeProviderSelector}})],1)},pt=[],dt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"goods-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"goods-thumb-container"},[i("image-view",{staticClass:"goods-thumb",attrs:{src:e.item.ext.image}})],1),i("div",{staticClass:"goods-content"},[i("p",{staticClass:"goods-title",class:{"is-sub":e.isSub},domProps:{innerHTML:e._s(e.item.ext.title)}}),e.item.ext.price?i("p",{staticClass:"goods-price"},[e._v(e._s(e.item.ext.price))]):e._e(),i("div",{staticClass:"goods-app-info"},[i("p",{staticClass:"goods-app-name"},[e._v(e._s(e.item.nickName))]),e.item.ext.security_icon?i("div",{staticClass:"guarantee-icon"}):e._e()])])])},ht=[],mt=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.isSub=!1,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){this.isSub=L.isSub,console.log("GlobalVars.isSub",L.isSub)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],mt.prototype,"item",void 0),mt=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],mt);var gt=mt,ft=gt,vt=(i("f39b"),Object(g["a"])(ft,dt,ht,!1,null,"3344f4a7",null)),_t=vt.exports,bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"video-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"video-thumb-container"},[i("image-view",{staticClass:"video-thumb",attrs:{src:e.item.ext.image}}),i("p",{staticClass:"play-icon"})],1),i("div",{staticClass:"video-content"},[i("p",{staticClass:"video-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),i("p",{staticClass:"video-app-name"},[e._v(e._s(e.item.nickName))])])])},yt=[],It=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],It.prototype,"item",void 0),It=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],It);var At=It,St=At,xt=(i("f537"),Object(g["a"])(St,bt,yt,!1,null,"515275a4",null)),wt=xt.exports,Ct=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"movie-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"movie-thumb-container"},[i("image-view",{staticClass:"movie-thumb",attrs:{src:e.item.ext.image}}),i("p",{staticClass:"play-icon"})],1),e.item.ext?i("div",{staticClass:"movie-content"},[i("div",{staticClass:"movie-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),e.movieTagStr?i("div",{staticClass:"movie-type",domProps:{innerHTML:e._s(e.movieTagStr)}}):e._e(),e.movieDirector?i("div",{staticClass:"movie-director",domProps:{innerHTML:e._s(e.movieDirector)}}):e._e(),e.movieActor?i("div",{staticClass:"movie-actor",domProps:{innerHTML:e._s(e.movieActor)}}):e._e(),e.movieProviderList.length?[e.defaultProviderItem&&1===e.movieProviderList.length?i("div",{staticClass:"movie-provider-desc"},[i("image-view",{staticClass:"movie-provider-icon",attrs:{src:e.defaultProviderItem.iconUrl}}),i("div",{staticClass:"movie-provider-txt"},[e._v(e._s(e.defaultProviderItem.nickName))])],1):e.defaultProviderItem?i("div",{staticClass:"movie-provider-desc",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.openMovieProvider(t)}}},[i("image-view",{staticClass:"movie-provider-icon",attrs:{src:e.defaultProviderItem.iconUrl}}),i("div",{staticClass:"movie-provider-txt"},[e._v(e._s(e.defaultProviderItem.nickName))]),i("div",{staticClass:"arrow-icon",class:{open:e.arrowOpen}})],1):i("div",{staticClass:"movie-provider-desc",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.openMovieProvider(t)}}},[i("div",{staticClass:"movie-provider-txt"},[e._v(e._s(e.movieProviderList.length)+"个提供方")]),i("div",{staticClass:"arrow-icon",class:{open:e.arrowOpen}})])]:e._e()],2):e._e()])},kt=[],Tt=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.movieInfo=null,e.movieTagStr="",e.movieDirector="",e.movieActor="",e.movieProviderList=[],e.defaultProviderItem=null,e.arrowOpen=!1,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onDefaultProviderUserNameChange",value:function(){this.defaultProviderItem=this.getDefaultProviderItem()}},{key:"onMovieInfoChange",value:function(e){e&&(e.movie_labels?this.movieTagStr=e.movie_labels.split("||").slice(0,4).join(" "):this.movieTagStr="",e.movie_director?this.movieDirector=e.movie_director:this.movieDirector="",e.movie_actor?this.movieActor=e.movie_actor.split("||").join(" "):this.movieActor="",e.movie_extra?this.movieProviderList=e.movie_extra:this.movieProviderList=[],this.defaultProviderItem=this.getDefaultProviderItem())}},{key:"onItemChange",value:function(e){this.movieInfo=e.ext.movie}},{key:"mounted",value:function(){console.log("Movie Item",this.item),this.movieInfo=this.item.ext.movie}},{key:"onTapItem",value:function(){this.defaultProviderItem?this.$emit("jump-to-app",this.defaultProviderItem):this.openMovieProvider()}},{key:"getDefaultProviderItem",value:function(){var e,t=this.defaultProviderUserName;if(1===this.movieProviderList.length)e=this.movieProviderList[0];else if(t){var i=null;this.movieProviderList.forEach((function(e){e.userName===t&&(i=e)})),e=i}else e=null;return this.$emit("default-provider-change",e&&[e]||this.movieProviderList||[]),e}},{key:"openMovieProvider",value:function(){this.$emit("open-provider-selector",{comp:this,list:this.movieProviderList,needRemember:!0,title:"观看影视作品"}),this.arrowOpen=!0}},{key:"resetStatus",value:function(){this.arrowOpen=!1}},{key:"defaultProviderUserName",get:function(){return this.$store.state.defaultProviderUserName}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Tt.prototype,"item",void 0),Object(oe["a"])([Object(re["d"])("defaultProviderUserName")],Tt.prototype,"onDefaultProviderUserNameChange",null),Object(oe["a"])([Object(re["d"])("movieInfo")],Tt.prototype,"onMovieInfoChange",null),Object(oe["a"])([Object(re["d"])("item")],Tt.prototype,"onItemChange",null),Tt=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Tt);var Ot=Tt,Et=Ot,Lt=(i("8e8e"),Object(g["a"])(Et,Ct,kt,!1,null,"f2142d7a",null)),jt=Lt.exports,Pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"comment-item content-bg bg-active search-item",class:{"show-bottom-more":e.showBottomMore},attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[e.item.ext.title?i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.ext.title)}}):e._e(),e.item.description?i("div",{staticClass:"display-content",domProps:{innerHTML:e._s(e.item.description)}}):e._e(),i("div",{staticClass:"app-below-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.iconUrl}}),i("div",{staticClass:"app-content"},[e._v(" "+e._s(e.item.nickName)+" ")])],1)])},Dt=[],Nt=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("Comment Item",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Nt.prototype,"item",void 0),Object(oe["a"])([Object(re["b"])()],Nt.prototype,"showBottomMore",void 0),Nt=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Nt);var Rt=Nt,Mt=Rt,Ht=(i("3a96"),Object(g["a"])(Mt,Pt,Dt,!1,null,"70457665",null)),Bt=Ht.exports,Wt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service-item search-item",attrs:{"data-absidx":e.item._absIndex}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.bAsyncInsert,expression:"!bAsyncInsert"}],staticClass:"widget_hd",attrs:{role:"button"},domProps:{innerHTML:e._s(e.title)},on:{click:e.onClickTitle}}),i("div",{directives:[{name:"show",rawName:"v-show",value:0===e.failCount,expression:"failCount === 0"}],staticClass:"widget_placeholder",style:{width:e.width+"px",height:e.heightStr,padding:e.paddingStr},attrs:{role:"button"},on:{click:e.onClick}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.failCount>0,expression:"failCount > 0"}],staticClass:"widget_placeholder_fail",style:{width:e.width+"px",height:"169px",padding:e.paddingStr},attrs:{role:"button"},on:{click:e.onClick}},[i("p",{staticClass:"mini-prgm-widget-fail_title",style:{padding:e.failTitlePaddingStr}},[e._v(" "+e._s(e.failTitle)+" ")]),i("div",{staticStyle:{"text-align":"center"},style:{margin:e.failButtonMargin}},[i("a",{staticClass:"mini-prgm-widget-fail_button",on:{click:e.onClickFail}},[e._v(e._s(e.failButton))])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isNeedFooter&&!e.bAsyncInsert,expression:"isNeedFooter && !bAsyncInsert"}],staticClass:"app_account_brand_ft"},[i("img",{attrs:{src:e.iconUrl}}),i("span",{staticStyle:{display:"inline-block"},attrs:{role:"button"},on:{click:e.onClickFooter}},[e._v(e._s(e.footerWord))]),e.list.length>1&&e.bSupportSwitch?i("div",{staticClass:"switch_btn",class:{selected:e.isSwitching},attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.onClickSwitch(t)}}}):e._e()])])},Ut=[],qt=(i("a623"),[]),Vt=[];H.wxJsApiReady((function(){H.hasWxJsBridge()&&(H.on("onSearchWAWidgetAttrChanged",(function(e){qt.forEach((function(t){t.callback(e)}))})),H.on("onSearchWAWidgetOpenApp",(function(e){Vt.forEach((function(t){t.callback(e)}))})))}));var $t={doJSApiWithEventCallback:function(e){var t=e.eventId;if(t){var i=!1,n=e.completion;e.completion=null,H.invoke(e.name,e.params),H.on(e.eventName,(function(e){e.eventId==t&&(t=null,i=!0,n&&n(e))})),setTimeout((function(){i||(t=null,n&&n({eventId:e.eventId,timeout:!0}))}),3e3)}else console.error("not eventId")},addSearchWAWidgetViewHeightChangeListener:function(e,t){qt.push({listener:t,callback:e})},addWidgetOpenAppListener:function(e,t){Vt.push({listener:t,callback:e})},removeListener:function(e){Vt=Vt.filter((function(t){return t.listener!==e})),qt=qt.filter((function(t){return t.listener!==e}))},listenWidgetReloadData:function(e){H.on("onSearchWAWidgetReloadData",e)},listenWidgetStateChanged:function(e){H.on("onSearchWAWidgetStateChange",e)},listenWidgetDynamicDataChanged:function(e){H.on("onSearchWAWidgetDataPush",e)},updateSearchWAWidgetView:function(e,t){H.invoke("updateSearchWAWidgetView",{widgetId:e.widgetId,show:e.show,height:e.height,offsetY:e.offsetY,offsetX:e.offsetX},t)},removeSearchWAWidgetView:function(e,t){H.invoke("removeSearchWAWidgetView",{widgetId:e.widgetId},t)},reloadWidgetData:function(e,t){H.invoke("reloadSearchWAWidgetData",{widgetId:e.widgetId,searchId:e.searchId,sessionId:e.sessionId,scene:e.scene,query:e.query,isWeAppMore:1}),H.on("onSearchWAWidgetReloadDataFinish",t)},reportWeAppSearchRealTime:function(e,t){H.invoke("reportWeAppSearchRealtime",{logId:e.logId,logString:e.logString},t)},insertSearchWAWidgetView:function(e,t){H.invoke("insertSearchWAWidgetView",{width:e.width,height:e.height,offsetX:e.offsetX,offsetY:e.offsetY,appid:e.appid,version:e.version,pagePath:e.pagePath,inputData:e.inputData,nickName:e.nickName,username:e.username,debugMode:e.debugMode,wxaData:e.wxaData,backgroundColor:e.backgroundColor,searchId:e.searchId,maxHeight:e.maxHeight,minHeight:e.minHeight,launchwxawidget:e.launchwxawidget,serviceType:e.serviceType,downloadurl:e.downloadurl,relayInfoStr:e.relayInfoStr,srcAppid:e.srcAppid,backgroundColorDark:"#232323"},t)},showSearchActionSheet:function(e,t){H.invoke("showSearchActionSheet",{title:e.title,desc:e.desc,items:e.items},(function(e){e.actionSheetId&&H.on("onSearchActionSheetClick",(function(i){i.actionSheetId==e.actionSheetId&&t(i)}))}))},cancelSearchActionSheet:function(e,t){H.invoke("cancelSearchActionSheet",{actionSheetId:e.actionSheetId},t)},opLog:function(e,t){if(e&&e.list)for(var i=0;i<e.list.length;i++){var n=e.list[i];if(n.cmdBuffer)try{var a=JSON.parse(n.cmdBuffer);a.scene=L.scene,n.cmdBuffer=JSON.stringify(a)}catch(s){}}H.invoke("uxSearchOpLog",{list:e.list,count:e.list.length},t)},onTapWidget:function(e){var t=(new Date).getTime()+"";this.doJSApiWithEventCallback({name:"tapSearchWAWidgetView",params:{eventId:t,x:e.x,y:e.y,widgetId:e.widgetId},eventName:"onSearchWAWidgetOnTapCallback",eventId:t,completion:e.completion})}};function Yt(e,t){var i=0;while(e){if(!isNaN(e[t])){var n=e[t];i+=n}e=e.offsetParent}return i}var Gt={data:function(){return{width:0,height:0,title:"查询结果",index:0,list:[],nickName:"",iconUrl:"",widgetId:"",failCount:0,activeFlag:0,failTitle:"点击刷新重新获取",failButton:"重新获取",bAsyncInsert:!1,isSwitching:!1,isNeedFooter:!0}},props:["item","blockData","searchId","pos","typePos"],computed:{query:function(){return this.$store.state.query},heightStr:function(){return this.bAsyncInsert?"0":this.failCount>0?"169px":this.height+"px"},bSupportSwitch:function(){var e=L.platform;return"android"===e?L.clientVersion>=6514e4:L.clientVersion>=6516e4},failTitlePaddingStr:function(){return"48px 0 30px 0"},paddingStr:function(){return this.bAsyncInsert?"0":"12px 15px 18px"},footerWord:function(){var e=this.list.length>this.index?this.list[this.index]:this.item;return this.extWording?e.nickName+this.extWording:48===e.boxInfo.providerInfo.type?e.nickName+"提供":e.nickName+"小程序提供"},failButtonMargin:function(){return"0 0 42px"}},created:function(){var e=this,t=15,i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;i-=2*t;var n=i;try{var a=this.item.boxInfo.providerInfo.width;0!==a&&(n=this.item.boxInfo.providerInfo.height/this.item.boxInfo.providerInfo.width*i)}catch(s){console.error("calc widget height error with item: ",this.item)}this.width=i,this.height=n,this.bAsyncInsert=this.getRelayInfo(this.item).isasyncload||!1,this.blockData.title?this.title=this.blockData.title:this.title="<em class='highlight'>"+this.query+"</em> - 查询结果",this.blockData.expandTag&&1===this.blockData.expandTag.type&&(this.activeFlag=1,this.title+="<span v-show='activeFlag > 0' class='activeClass' style='display: inline;'>"+(this.blockData.expandTag.wording||"")+"</span>"),this.nickName=this.item.nickName,this.iconUrl=this.item.iconUrl,$t.addSearchWAWidgetViewHeightChangeListener((function(t){if(t.widgetId===e.widgetId){if(e.height=t.height,e.bAsyncInsert)return;$t.updateSearchWAWidgetView({widgetId:t.widgetId,height:t.height}),L.widgetTimeIdDic.hasOwnProperty(t.widgetId)&&clearTimeout(L.widgetTimeIdDic[t.widgetId])}L.widgetTimeIdDic[e.widgetId]=setTimeout((function(){var t=e.$el.querySelector(".widget_placeholder");e.offsetY=Yt(t,"offsetTop")+12,$t.updateSearchWAWidgetView({widgetId:e.widgetId,offsetY:e.offsetY})}),300)}),this)},destroyed:function(){$t.removeSearchWAWidgetView({widgetId:this.widgetId}),$t.removeListener(this)},mounted:function(){var e=this;setTimeout((function(){e.init()}),50)},methods:{init:function(){var e=this;this.offsetX=15,this.offsetY=Yt(this.$el.querySelector(".widget_placeholder"),"offsetTop")+12;var t="";t+="widgetData="+encodeURIComponent(this.item.boxInfo.providerInfo.widgetData)+"&";var i=this.item.boxInfo.providerInfo.jumpUrl;-1===i.indexOf("?")?i+="?":i+="&",i+=t,this.debugMode=0;var n=null,a="";try{var s=this.item.boxInfo.providerInfo.relay_info,o=JSON.parse(s);this.debugMode=o.widget_version_type,n=o.launchwxawidget,a=o.downloadurl,this.extWording=o.ext_wording,this.isNeedFooter=void 0===o.need_localsearch_footer||o.need_localsearch_footer}catch(c){}this.maxHeight=this.width/384*(this.item.maxHeight||300),this.minHeight=this.width/384*(this.item.minHeight||66);var r=this.item.appID;$t.insertSearchWAWidgetView({width:this.width,height:this.bAsyncInsert?0:this.height,offsetX:this.offsetX,offsetY:this.offsetY,appid:r,version:this.item.appVersion,pagePath:i,inputData:t,nickName:this.item.nickName,username:this.item.username,wxaData:this.item.boxInfo.providerInfo.wxaData,backgroundColor:"#FEFEFE",debugMode:this.debugMode,searchId:this.searchId,maxHeight:this.maxHeight,minHeight:this.minHeight,serviceType:this.item.boxInfo.providerInfo.type,launchwxawidget:n,downloadurl:a,relayInfoStr:this.item.boxInfo.providerInfo.relay_info,srcAppid:this.getRelayInfo(this.item).appid||r},(function(t){e.onInsertWidgetCallback(t)})),$t.addWidgetOpenAppListener((function(t){if(t.widgetId===e.widgetId){var i=V.makeWeAppPathFromDeveloper(t.path);e.openWeAppPage({userName:t.username,path:i,debugMode:t.debugMode})}}),this),$t.listenWidgetReloadData((function(t){t&&t.widgetId===e.widgetId&&e.reloadWidgetData()})),$t.listenWidgetStateChanged((function(t){t.widgetId===e.widgetId&&(3===t.state||4===t.state?(e.failCount++,$t.updateSearchWAWidgetView({widgetId:e.widgetId,show:!1}),e.failCount>1&&(e.failTitle="暂时无法获取服务信息",e.failButton="进入小程序")):2===t.state&&(e.failCount=0))})),$t.listenWidgetDynamicDataChanged((function(t){if(t.widgetId===e.widgetId)try{var i=JSON.parse(t.data);0===i.err_code&&e.bAsyncInsert&&(e.bAsyncInsert=!1,setTimeout((function(){e.offsetX=15,e.offsetY=Yt(e.$el.querySelector(".widget_placeholder"),"offsetTop")+12,e.reloadWidgetData()}),0))}catch(n){}})),this.item._dataOther&&this.item._reportData&&this.item._dataOther.forEach((function(t){t._reportData&&(t._reportData.offsetTop=e.item._reportData.offsetTop||0)})),this.list=[this.item].concat(this.item._dataOther||[]),delete this.item._dataOther},toggleServiceContent:function(e){$t.updateSearchWAWidgetView({widgetId:this.widgetId,show:e})},reloadWidgetData:function(e){var t=this;$t.reloadWidgetData({widgetId:this.widgetId,searchId:this.searchId,sessionId:this.item.sessionId||L.sessionId,scene:L.scene,query:this.query,activeFlag:0},(function(i){if(i&&i.widgetId===t.widgetId)try{var n=JSON.parse(i.data),a=0;for(a=0;a<n.data.length;a++){var s=n.data[a];if(262144===s.type||16781312===s.type&&1===s.subType){var o=n.data[a].items[0],r=o.boxInfo.providerInfo.type;if(r===t.item.boxInfo.providerInfo.type){var c=0,l=function(){var e=n.data[a].items[c].appID,i=void 0;t.list.every((function(t,n){return e!==t.appID||(i=n,!1)})),"undefined"!==typeof i&&(t.list[i]=n.data[a].items[c])};for(c=0;c<n.data[a].items.length;c++)l()}}}t.change({index:t.index}),e.success&&e.success()}catch(u){e.fail&&e.fail()}}))},doSwitchReport:function(e){var t=(new Date).getTime()+"",i=e.item,n=i.boxInfo.providerInfo,a=e.switchId||this.searchId+"-"+n.type+"-"+t,s="";try{var o=n.relay_info,r=JSON.parse(o);s=r.widget_stat_buffer}catch(c){}return $t.reportWeAppSearchRealTime({logId:14688,logString:e.action+","+t+","+(this.getRelayInfo(i).appid||i.appID)+","+i.boxInfo.providerInfo.type+","+encodeURIComponent(s)+","+a}),a},onClickSwitch:function(e){var t=this;this.isSwitching=!0;var i=this.doSwitchReport({item:this.list[this.index],action:1});$t.showSearchActionSheet({title:"选择服务提供方",items:this.list.map((function(e,i){return{title:e.nickName,icon:e.iconUrl,selected:t.index===i?1:0,desc:(t.getRelayInfo(e).widget_labels||[]).join(", ")}}))},(function(e){if(t.isSwitching=!1,e){if(-1===e.index)return t.doSwitchReport({item:t.list[t.index],action:3,switchId:i}),void $t.cancelSearchActionSheet({actionSheetId:e.actionSheetId});var n=t.list[e.index],a=n.boxInfo.providerInfo;t.change({index:e.index}),t.doSwitchReport({item:n,action:2,switchId:i});var s=[{cmdId:1,cmdBuffer:JSON.stringify({appid:t.getRelayInfo(n).appid||n.appID,boxtype:a.type})}];$t.cancelSearchActionSheet({actionSheetId:e.actionSheetId}),$t.opLog({list:s}),n._reportData&&(n._reportData.readyExpose=!0,n._reportData.exposed=!0,Je.exposeReport([n._reportData]))}}))},getRelayInfo:function(e){var t={};try{var i=e.boxInfo.providerInfo.relay_info;t=JSON.parse(i)}catch(n){}return t},change:function(e){var t=this;$t.removeSearchWAWidgetView({widgetId:this.widgetId}),this.index=e.index%this.list.length;var i=this.list[e.index],n=i.boxInfo.providerInfo,a="";this.nickName=i.nickName,this.iconUrl=i.iconUrl,this.relayInfo=JSON.parse(n.relay_info)||{},this.isNeedFooter=void 0===this.relayInfo.need_localsearch_footer||this.relayInfo.need_localsearch_footer,a+="query="+this.query+"&",a+="wxaData="+encodeURIComponent(i.boxInfo.providerInfo.wxaData)+"&",a+="type="+i.boxInfo.providerInfo.type+"&",a+="widgetData="+encodeURIComponent(i.boxInfo.providerInfo.widgetData)+"&",a+="wxSearchQuery="+encodeURIComponent(this.query);var s=n.jumpUrl;-1===s.indexOf("?")?s+="?":s+="&",s+=a;var o=15,r=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;r-=2*o;var c=r;try{var l=i.boxInfo.providerInfo.width;0!==l&&(c=i.boxInfo.providerInfo.height/i.boxInfo.providerInfo.width*r)}catch(u){console.error("calc widget height error with item: ",i)}this.width=r,this.height=c,$t.insertSearchWAWidgetView({width:this.width,height:this.bAsyncInsert?0:this.height,offsetX:this.offsetX,offsetY:this.offsetY,appid:i.appID,version:i.appVersion,pagePath:s,inputData:a,nickName:i.nickName,username:i.username,wxaData:i.boxInfo.providerInfo.wxaData,backgroundColor:"#FEFEFE",debugMode:this.relayInfo.widget_version_type,searchId:this.searchId,maxHeight:this.maxHeight,minHeight:this.minHeight,serviceType:i.boxInfo.providerInfo.type,pkgMd5:this.relayInfo.pkgMd5,relayInfoStr:i.boxInfo.providerInfo.relay_info,srcAppid:this.getRelayInfo(i).appid||i.appID},(function(e){t.onInsertWidgetCallback(e)}))},openWeAppPage:function(e){e=e||{};var t=this.list[this.index],i=(new Date).getTime(),n=e.userName,a=e.path||"",s="",o=0;try{var r=t.boxInfo.providerInfo.relay_info,c=JSON.parse(r);s=c.widget_stat_buffer,o=c.widget_version_type}catch(h){}void 0!==e.debugMode&&+e.debugMode>=0&&+e.debugMode<=2&&(o=e.debugMode);var l="widgetId="+this.widgetId,u="widgetAppId="+(this.getRelayInfo(t).appid||t.appID);V.openWeAppPage({userName:n||t.userName||t.username,docId:t.docID||t.doc_id,appVersion:t.appVersion||t.app_version,sessionId:t.sessionId,keywordId:t.keywordId,adBuffer:t.adBuffer,searchId:this.searchId,scene:L.scene,pos:this.pos,page:a,subScene:V.genWeAppSubScene({adBuffer:t.adBuffer,clickId:i,widgetStatBuffer:s,isWidget:"isWidget=1",widgetId:l,widgetAppId:u,type:this.blockData.type,subType:this.blockData.subType}),clickExtInfo:V.genClickExtForWeAppService({h5Version:L.version,clickId:i,businessType:this.blockData.type,subType:this.blockData.subType||0}),debugMode:o});var p=[{cmdId:3,cmdBuffer:JSON.stringify({appid:this.getRelayInfo(t).appid||t.appID,servicetype:t.boxInfo.providerInfo.type,relayinfo:t.boxInfo.providerInfo.relay_info,searchid:this.searchId})}];$t.opLog({list:p,count:p.length}),t._reportData&&Je.clickReport(t._reportData);var d={scene:L.scene,searchid:this.searchId,businesstype:this.blockData.type||16781312,docid:this.item.docID||"",docpos:this.pos,typepos:this.typePos,requestid:L.requestId,ishomepage:0,timestamp:Date.now(),expand1:"",suggestionid:"",clicktype:0,sceneactiontype:L.sceneActionType,h5version:"",expand2:"{}",clicksource:0,query:L.query,resulttype:0,weapph5version:L.version,sessionid:L.sessionId,resultsubtype:this.blockData.subType||213};console.log("reportFTSRealTime click",d),Je.reportFTSRealTime(d)},getDefaultPath:function(){var e="";try{var t=this.list[this.index];if(e=t.boxInfo.providerInfo.jumpUrl||"",e.indexOf("wx_search_widget_index.html")>=0)return"";-1===e.indexOf("?")?e+="?":e+="&";var i="",n=JSON.parse(t.boxInfo.providerInfo.widgetData);delete n.render_data,delete n.argsMap,i+="widgetData="+encodeURIComponent(JSON.stringify(n))+"&",e+=i}catch(a){console.error(a)}return e},getDefaultPathDebugMode:function(){var e=this.list[this.index],t=e.boxInfo.providerInfo.jumpUrl||"";if(t.indexOf("?")>=0)for(var i=t.substring(t.indexOf("?")).split("&"),n=0;n<i.length;n++){var a=i[n];if(a){var s=a.split("=");if("version"===s[0]&&!isNaN(s[1]))return parseInt(s[1])}}},onClick:function(e){var t=this,i=this.list[this.index],n=[{cmdId:3,cmdBuffer:JSON.stringify({appid:this.getRelayInfo(i).appid||i.appID,servicetype:i.boxInfo.providerInfo.type,relayinfo:i.boxInfo.providerInfo.relay_info,searchid:this.searchId})}];if(this.failCount>0)$t.opLog({list:n,count:n.length});else{var a=this.getDefaultPath(),s=this.getDefaultPathDebugMode();if(this.bSupportSwitch){var o=Math.max(1,e.offsetX-this.offsetX),r=Math.max(1,e.offsetY-12),c=Math.min(o,this.width-1),l=Math.min(r,this.height-1);$t.onTapWidget({widgetId:this.widgetId,x:c,y:l,completion:function(e){e.hitTest&&!e.timeout||t.openWeAppPage({path:a,debugMode:s})}})}else this.openWeAppPage({path:a,debugMode:s})}},onClickTitle:function(e){var t=this,i=this.list[this.index],n=[{cmdId:3,cmdBuffer:JSON.stringify({appid:this.getRelayInfo(i).appid||i.appID,servicetype:i.boxInfo.providerInfo.type,relayinfo:i.boxInfo.providerInfo.relay_info,searchid:this.searchId})}];if(this.failCount>0)$t.opLog({list:n,count:n.length});else{var a=this.getDefaultPath(),s=this.getDefaultPathDebugMode();if(this.bSupportSwitch){var o=-1e4,r=-1e4;$t.onTapWidget({widgetId:this.widgetId,x:o,y:r,completion:function(e){e.hitTest&&!e.timeout||t.openWeAppPage({path:a,debugMode:s})}})}else this.openWeAppPage({path:a,debugMode:s})}},onClickFail:function(e){var t=this;this.list[this.index];1===this.failCount?$t.reloadWidgetData({widgetId:this.widgetId,searchId:this.searchId,sessionId:this.item.sessionId||L.sessionId,scene:L.scene,query:this.query,isWeAppMore:1},(function(){t.change({index:t.index})})):this.openWeAppPage({path:this.getDefaultPath(),debugMode:this.getDefaultPathDebugMode()})},onClickFooter:function(e){this.list.length>1&&this.bSupportSwitch&&this.onClickSwitch()},onInsertWidgetCallback:function(e){e&&e.widgetId&&(this.widgetId=e.widgetId)}}},Qt=Gt,Ft=(i("893d"),Object(g["a"])(Qt,Wt,Ut,!1,null,"adcb1512",null)),zt=Ft.exports,Kt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-banner-container"},[i("image-view",{staticClass:"app-banner-img",attrs:{src:e.item.banner_url}})],1),i("div",{staticClass:"app-title-container"},[e.item.is_hot_news?i("div",{staticClass:"orange-tag"},[e._v("热点")]):e._e(),i("div",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.title)}})]),i("div",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.desc)}}),i("div",{staticClass:"app-origin",domProps:{innerHTML:e._s(e.item.source)}})])},Jt=[],Xt=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Xt.prototype,"item",void 0),Xt=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Xt);var Zt=Xt,ei=Zt,ti=(i("d881"),Object(g["a"])(ei,Kt,Jt,!1,null,"85df82d6",null)),ii=ti.exports,ni=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.ext.image}})],1),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("div",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),e.item.ext.brand_official_label?i("div",{staticClass:"official-tag"},[e._v("官方")]):e._e(),i("div",{staticStyle:{"flex-grow":"1"}}),e.item.ext.security_icon?i("div",{staticClass:"guarantee-icon"}):e._e()]),i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.description)}}),e.item.ext.labels||e.item.ext.attach_tag?i("div",{staticClass:"sub-info-container"},[i("div",{staticClass:"sub-info-container-labels"},[i("div",{staticClass:"catagory_tag_outer"},[e.item.ext.labels?e._l(e.item.ext.labels.slice(0,2),(function(t,n){return i("span",{key:n,staticClass:"category_tag"},[e._v(" "+e._s(t)+" ")])})):e._e(),e.item.ext.func_labels?e._l(e.item.ext.func_labels.slice(0,2),(function(t,n){return i("span",{key:n,staticClass:"category_tag"},[e._v(" "+e._s(t)+" ")])})):e._e()],2),e.item.ext.evaluate?i("p",{staticClass:"app_evaluate"},[e._v(e._s(e.item.ext.evaluate))]):e._e()]),e.item.ext.use_status&&e.item.ext.use_status.length>3?i("p",{staticClass:"app_use_status"},[e._v(" "+e._s(e.item.ext.use_status)+" ")]):e._e(),e.item.ext.use_status&&e.item.ext.use_status.length<=3?i("p",{staticClass:"app_use_status_self"},[e._v(" "+e._s(e.item.ext.use_status)+" ")]):e._e()]):e._e()])])},ai=[],si=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],si.prototype,"item",void 0),si=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],si);var oi=si,ri=oi,ci=(i("5a3b"),Object(g["a"])(ri,ni,ai,!1,null,"3b6f46cf",null)),li=ci.exports,ui=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-game-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"top-half",on:{click:function(t){return e.appGameClick(e.item,!0)}}},[i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.ext.image}})],1),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),e.item.is_original_game?i("img",{staticClass:"origin",attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200429/origin.png"}}):e._e()]),i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.description)}}),e.item.showTagsInfo?i("div",{staticClass:"sub-info-container"},[e.item.ext.use_status&&e.item.ext.use_status.length<=3?i("div",{staticClass:"app_use_status_self"},[e._v(" "+e._s(e.item.ext.use_status)+" ")]):e._e(),e.item.ext.labels?e._l(e.item.ext.labels.slice(0,2),(function(t,n){return i("div",{key:n,staticClass:"category_tag"},[e._v(" "+e._s(t)+" ")])})):e._e(),e.item.ext.func_labels?e._l(e.item.ext.func_labels.slice(0,2),(function(t,n){return i("div",{key:n,staticClass:"category_tag"},[e._v(" "+e._s(t)+" ")])})):e._e(),e.item.ext.evaluate?i("div",{staticClass:"app_evaluate"},[e._v(e._s(e.item.ext.evaluate))]):e._e(),e.item.game_friend?[i("div",{staticStyle:{"flex-grow":"1"}})]:e._e(),e.item.game_friend?i("div",{staticClass:"whole-part"},[e.item.game_friend.desc?i("div",{staticClass:"friends-play-desc"},[e._v(e._s(e.item.game_friend.desc))]):e._e(),e.item.game_friend.icon_url_list&&e.item.game_friend.icon_url_list.length?i("div",{staticClass:"friends-play-avatar-list"},e._l(e.item.game_friend.icon_url_list,(function(e,t){return i("image-view",{key:t,staticClass:"friends-play-avatar",attrs:{src:e}})})),1):e._e()]):e._e()],2):e._e()])]),e.item.extra_banner&&e.item.extra_banner.rank_list&&e.item.extra_banner.rank_list.length?[i("div",{staticClass:"bottom-half",on:{click:function(t){return e.appGameClick(e.item)}}},[i("div",{staticClass:"border-line"}),i("div",{staticClass:"rank-container"},e._l(e.item.extra_banner.rank_list,(function(t,n){return i("div",{key:n,staticClass:"rank-item"},[i("div",{staticClass:"rank-idx"},[e._v(e._s(n+1))]),i("image-view",{staticClass:"rank-avatar",attrs:{src:t.icon_url}}),i("div",{staticClass:"rank-nick"},[e._v(e._s(t.nickname))]),i("div",{staticClass:"rank-score"},[e._v(e._s(t.score_info))])],1)})),0)])]:e.item.extra_banner&&e.item.extra_banner.poster_list&&e.item.extra_banner.poster_list.length?[i("div",{staticClass:"poster-container bottom-half",on:{click:function(t){return e.appGameClick(e.item)}}},e._l(e.item.extra_banner.poster_list,(function(t,n){return i("div",{key:n,staticClass:"poster-item"},[i("image-view",{staticClass:"poster-item-image",class:{single:1===e.item.extra_banner.poster_list.length,banner:1===e.item.extra_banner.type},attrs:{src:t.url}})],1)})),0)]:e._e()],2)},pi=[],di=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}},{key:"appGameClick",value:function(e,t){Je.reportCommon({log_id:20141,Exposure:0,Click:1,Appid:e.app_info&&e.app_info.appid||e.appid||"",pos:e._absIndex+1,type:t?0:e.extra_banner.type||0})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],di.prototype,"item",void 0),di=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],di);var hi=di,mi=hi,gi=(i("6f0c"),Object(g["a"])(mi,ui,pi,!1,null,"676c1340",null)),fi=gi.exports,vi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-official-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-official-top"},[i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.ext.image}})],1),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),e.item.ext.brand_official_label?i("div",{staticClass:"official-tag"},[e._v("官方")]):e._e(),i("div",{staticStyle:{"flex-grow":"1"}}),e.item.ext.security_icon?i("div",{staticClass:"guarantee-icon"}):e._e()]),i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.description)}})])]),e.item.ext&&e.item.ext.brand&&e.item.ext.brand.banner&&e.item.ext.brand.banner.url?i("div",{staticClass:"banner-outer"},[i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"banner-inner search-product",attrs:{"data-absidx":e.item.ext.brand.banner._absIndex,role:"button"},on:{click:e.onTapBanner}},[i("image-view",{staticClass:"banner-image",attrs:{src:e.item.ext.brand.banner.url}})],1)]):e._e(),e.item.ext&&e.item.ext.brand&&e.item.ext.brand.product_list&&e.item.ext.brand.product_list.length>0?i("div",{staticClass:"goods-outer"},e._l(e.item.ext.brand.product_list,(function(t,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],key:n,staticClass:"goods-inner search-product",attrs:{"data-absidx":t._absIndex,role:"button"},on:{click:function(t){return e.onTapProduct(n)}}},[i("image-view",{staticClass:"good-image",attrs:{src:t.url}}),i("p",{staticClass:"good-description"},[e._v(e._s(t.title))])],1)})),0):e._e()])},_i=[],bi=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}},{key:"onTapProduct",value:function(e){this.$emit("jump-to-product-app",e)}},{key:"onTapBanner",value:function(){this.$emit("jump-to-banner")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],bi.prototype,"item",void 0),Object(oe["a"])([Object(re["b"])()],bi.prototype,"sectionItem",void 0),bi=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],bi);var yi=bi,Ii=yi,Ai=(i("a074"),Object(g["a"])(Ii,vi,_i,!1,null,"4bdd43c6",null)),Si=Ai.exports,xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("p",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),i("div",{staticClass:"app-below-container"},[i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.ext.image}})],1),i("div",{staticClass:"app-content"},[i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.description)}}),i("p",{staticClass:"app-name"},[e._v(e._s(e.item.nickName))])])])])},wi=[],Ci=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Ci.prototype,"item",void 0),Ci=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Ci);var ki=Ci,Ti=ki,Oi=(i("5a06"),Object(g["a"])(Ti,xi,wi,!1,null,"a992affa",null)),Ei=Oi.exports,Li=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-small-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("image-view",{staticClass:"app-small-thumb",attrs:{src:e.item.ext.image}}),i("p",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.ext.title)}}),e.item.ext.func_labels&&e.item.ext.func_labels.length?i("p",{staticClass:"display-desc",domProps:{innerHTML:e._s(e.item.ext.func_labels[0])}}):e._e()],1)},ji=[],Pi=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Pi.prototype,"item",void 0),Pi=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Pi);var Di=Pi,Ni=Di,Ri=(i("4770"),Object(g["a"])(Ni,Li,ji,!1,null,"eac48b6a",null)),Mi=Ri.exports,Hi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"related-item search-item",attrs:{"data-absidx":e.item._absIndex}},[i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"related-item-content bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[e.item.icon_url?i("image-view",{class:"item-icon "+e.iconClass,attrs:{src:e.item.icon_url}}):e._e(),i("p",{staticClass:"item-txt"},[e._v(e._s(e.item.title))])],1)])},Bi=[],Wi=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("related-search")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Wi.prototype,"item",void 0),Object(oe["a"])([Object(re["b"])()],Wi.prototype,"iconClass",void 0),Wi=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Wi);var Ui=Wi,qi=Ui,Vi=(i("a8aa"),Object(g["a"])(qi,Hi,Bi,!1,null,"319ca8d9",null)),$i=Vi.exports,Yi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"related-item search-item",attrs:{"data-absidx":e.item._absIndex}},[i("p",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"related-item-content bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[e._v(e._s(e.item.related_query))])])},Gi=[],Qi=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("related-search")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Qi.prototype,"item",void 0),Qi=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Qi);var Fi=Qi,zi=Fi,Ki=(i("cccf"),Object(g["a"])(zi,Yi,Gi,!1,null,"7938d4f6",null)),Ji=Ki.exports,Xi=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"wiki-image-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"half-top"},[i("div",{staticClass:"display-title-ctr"},[e.item.title?i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.title)}}):e._e()]),e.item.image_list&&e.item.image_list.length?i("div",{staticClass:"display-image-container"},e._l(e.item.image_list,(function(e,t){return i("div",{key:t,staticClass:"display-image-item"},[i("image-view",{staticClass:"display-image",attrs:{src:e.url}})],1)})),0):e._e(),e.item.desc?i("div",{staticClass:"display-desc",domProps:{innerHTML:e._s(e.item.desc)}}):e._e(),e.item.sub_items&&e.item.sub_items.length?i("div",{staticClass:"entry-list"},e._l(e.item.sub_items,(function(t,n){return i("div",{key:n,staticClass:"entry-item search-item",attrs:{"data-absidx":t._absIndex}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"entry-item-inner opacity-active",on:{click:function(t){return e.onTapWikiSubItem(n)}}},[e._v(e._s(t.title))])])})),0):e._e()]),i("div",{staticClass:"line"}),e.item.app_info?i("div",{staticClass:"half-bottom"},[i("image-view",{staticClass:"app-icon",attrs:{src:e.item.app_info.icon_url}}),i("div",{staticClass:"app-name"},[e._v(e._s(e.item.app_info.nickname))])],1):e._e()])},Zi=[],en=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("WikiRichItem",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}},{key:"onTapWikiSubItem",value:function(e){this.$emit("jump-to-wiki-sub",e)}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],en.prototype,"item",void 0),en=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],en);var tn=en,nn=tn,an=(i("d228"),Object(g["a"])(nn,Xi,Zi,!1,null,"6f0bd1a6",null)),sn=an.exports,on=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"wiki-rich-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"half-top"},[i("image-view",{staticClass:"big-image",attrs:{src:e.item.image_url}}),i("div",{staticClass:"display-title-ctr"},[e.item.sub_title?i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.sub_title)}}):e._e()]),e.item.tags?i("div",{staticClass:"display-tag-ctr"},e._l(e.item.tags,(function(t,n){return i("div",{key:n,staticClass:"display-tag-item"},[e._v(e._s(t))])})),0):e._e(),e.item.desc?i("div",{staticClass:"display-desc",domProps:{innerHTML:e._s(e.item.desc)}}):e._e()],1),i("div",{staticClass:"line"}),e.item.app_info?i("div",{staticClass:"half-bottom"},[i("image-view",{staticClass:"app-icon",attrs:{src:e.item.app_info.icon_url}}),i("div",{staticClass:"app-name"},[e._v(e._s(e.item.app_info.nickname))])],1):e._e()])},rn=[],cn=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("WikiRichItem",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],cn.prototype,"item",void 0),cn=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],cn);var ln=cn,un=ln,pn=(i("c12b"),Object(g["a"])(un,on,rn,!1,null,"2f699172",null)),dn=pn.exports,hn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"wiki-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"half-top"},[i("div",{staticClass:"block-title",domProps:{innerHTML:e._s(e.item.title)}}),i("div",{staticClass:"content-ctr"},[e.item.image_url?i("image-view",{staticClass:"game-image",attrs:{src:e.item.image_url}}):e._e(),i("div",{staticClass:"right-ctr"},[e.item.sub_title?i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.sub_title)}}):e._e(),e.item.tags&&e.item.tags.length?i("div",{staticClass:"display-tag-ctr"},e._l(e.item.tags,(function(t,n){return i("div",{key:n,staticClass:"display-tag-item"},[e._v(e._s(t))])})),0):e._e(),i("div",{staticClass:"display-desc",class:{"three-line":!e.item.sub_title&&!(e.item.tags&&e.item.tags.length)},domProps:{innerHTML:e._s(e.item.desc)}}),e.item.sub_items&&e.item.sub_items.length?i("div",{staticClass:"entry-list"},e._l(e.item.sub_items,(function(t,n){return i("div",{key:n,staticClass:"entry-item search-item",attrs:{"data-absidx":t._absIndex}},[i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"entry-item-inner opacity-active",on:{click:function(t){return e.onTapWikiSubItem(n)}}},[e._v(e._s(t.title))])])})),0):e._e()])],1)]),i("div",{staticClass:"line"}),e.item.app_info?i("div",{staticClass:"half-bottom"},[i("image-view",{staticClass:"app-icon",attrs:{src:e.item.app_info.icon_url}}),i("div",{staticClass:"app-name"},[e._v(e._s(e.item.app_info.nickname))])],1):e._e()])},mn=[],gn=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("WikiItem",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}},{key:"onTapWikiSubItem",value:function(e){this.$emit("jump-to-wiki-sub",e)}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],gn.prototype,"item",void 0),gn=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],gn);var fn=gn,vn=fn,_n=(i("d674"),Object(g["a"])(vn,hn,mn,!1,null,"49adc73c",null)),bn=_n.exports,yn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"service-multiple-item search-item",attrs:{"data-absidx":e.item._absIndex}},[i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"inner bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[e.item.title?i("div",{staticClass:"service-name"},[e._v(e._s(e.item.title))]):e._e(),1===e.item.sub_items.length&&e.item.sub_items[0].title?i("div",{staticClass:"service-desc"},[e._v(e._s(e.item.sub_items[0].title))]):e._e(),e.item.sub_items.length>1?i("div",{staticClass:"service-desc"},[e._v(e._s(e.item.sub_items.length)+"家服务提供方")]):e._e()])])},In=[],An=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("ServiceMultipleItem",this.item)}},{key:"onTapItem",value:function(){this.item.sub_items.length>1?this.$emit("open-provider-selector",{comp:this,list:this.item.sub_items,needRemember:!1,title:this.item.title}):this.$emit("jump-to-app",this.item.sub_items[0])}},{key:"resetStatus",value:function(){}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],An.prototype,"item",void 0),An=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],An);var Sn=An,xn=Sn,wn=(i("09af"),Object(g["a"])(xn,yn,In,!1,null,"38ecbc08",null)),Cn=wn.exports,kn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"service-single-item search-item bg-active",attrs:{role:"button","data-absidx":e.item._absIndex},on:{click:e.onTapItemMainPage}},[e.item.app_info?i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.app_info.icon_url}})],1):e._e(),i("div",{staticClass:"app-content"},[e.item.title?i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.title)}})]):e._e(),e.item.description?i("p",{staticClass:"app-desc"},[e._v(e._s(e.item.description))]):e._e()]),i("div",{staticClass:"btn-ctr"},[i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"service-btn bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[e._v(e._s(e.item.button_text||"查看"))])])])},Tn=[],On=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("ServiceSingleItem",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_button_info})}},{key:"onTapItemMainPage",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],On.prototype,"item",void 0),On=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],On);var En=On,Ln=En,jn=(i("b241"),Object(g["a"])(Ln,kn,Tn,!1,null,"00ae0b1b",null)),Pn=jn.exports,Dn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"car-series-item search-item bg-active content-bg",attrs:{role:"button","data-absidx":e.item._absIndex},on:{click:e.onTapItem}},[i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.title)}}),i("div",{staticClass:"display-content"},e._l(e.item.items,(function(t,n){return i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],key:n,staticClass:"car-series-container search-item bg-active before-line",attrs:{"data-absidx":t._absIndex,role:"button"},on:{click:function(i){return i.stopPropagation(),e.onTapCarItem(t)}}},[i("image-view",{staticClass:"car-series-thumb",attrs:{src:t.image_url}}),i("div",{staticClass:"car-series-content"},[i("div",{staticClass:"car-series-title",domProps:{innerHTML:e._s(t.title)}}),e._l(t.contents,(function(t,n){return i("div",{key:n,staticClass:"car-series-desc"},[i("div",{staticClass:"left-part"},[e._v(e._s(t.key)+"：")]),i("div",{staticClass:"right-part"},[e._v(e._s(t.value))])])}))],2)],1)})),0),e.item.ext_doc?[e.item.ext_doc.title?i("div",{directives:[{name:"active",rawName:"v-active.stop",value:!0,expression:"true",modifiers:{stop:!0}}],staticClass:"all-series-btn before-line opacity-active",domProps:{innerHTML:e._s(e.item.ext_doc.title)},on:{click:e.onTapItem}}):e._e(),e.item.ext_doc.app_info?i("div",{staticClass:"car-app-source before-line"},[i("image-view",{staticClass:"car-app-thumb",attrs:{src:e.item.ext_doc.app_info.icon_url}}),i("div",{staticClass:"car-app-name",domProps:{innerHTML:e._s(e.item.ext_doc.app_info.nickname)}})],1):e._e()]:e._e()],2)},Nn=[],Rn=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("CarSeriesItem",this.item)}},{key:"onTapCarItem",value:function(e){this.$emit("jump-to-app",{appInfo:e.app_info,_absIndex:e._absIndex})}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info,_absIndex:this.item._absIndex})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Rn.prototype,"item",void 0),Rn=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Rn);var Mn=Rn,Hn=Mn,Bn=(i("c5d6"),Object(g["a"])(Hn,Dn,Nn,!1,null,"7db13f8e",null)),Wn=Bn.exports,Un=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"weibo-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("image-view",{staticClass:"image-icon",attrs:{src:e.item.avatar}}),i("div",{staticClass:"right-content"},[i("div",{staticClass:"author-nick"},[e._v(e._s(e.item.nick_name))]),i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.title)}}),e.item.media_list&&e.item.media_list.length?i("div",{staticClass:"display-image-container"},[1===e.item.media_list.length?[i("div",{staticClass:"display-image-item single",class:{horizontal:e.item.media_list[0].width>e.item.media_list[0].height,vertical:e.item.media_list[0].height>e.item.media_list[0].width,"is-video":e.item.media_list[0].is_video}},[i("image-view",{staticClass:"display-image",class:{horizontal:e.item.media_list[0].width>e.item.media_list[0].height,vertical:e.item.media_list[0].height>e.item.media_list[0].width,"is-video":e.item.media_list[0].is_video},attrs:{src:e.item.media_list[0].thumb_url}}),e.item.media_list[0].duration_time?i("div",{staticClass:"display-duration"},[e._v(e._s(e.getDurationStr(e.item.media_list[0].duration_time)))]):e._e(),e.item.media_list[0].is_video?i("div",{staticClass:"play-icon"}):e._e()],1)]:[e._l(e.item.media_list.slice(0,3),(function(t,n){return i("div",{key:n,staticClass:"display-image-item"},[i("image-view",{staticClass:"display-image",attrs:{src:t.thumb_url}}),2===n&&e.item.image_num>3?i("div",{staticClass:"display-image-ext"},[e._v("共"+e._s(e.item.image_num)+"图")]):t.duration_time?i("div",{staticClass:"display-duration"},[e._v(e._s(e.getDurationStr(t.duration_time)))]):e._e(),t.is_video?i("div",{staticClass:"play-icon"}):e._e()],1)})),2===e.item.media_list.length?i("div",{staticClass:"display-image-item",staticStyle:{opacity:"0"}}):e._e()]],2):e._e(),i("div",{staticClass:"footer-ctr"},[i("div",{staticClass:"footer-item"},[e._v(e._s(e.item.timestamp))]),i("div",{staticClass:"footer-item"},[e.item.forward_num?i("div",{staticClass:"footer-sub-item"},[e._v(e._s(e.handleNum(e.item.forward_num))+"转发")]):e._e(),e.item.comment_num?i("div",{staticClass:"footer-sub-item"},[e._v(e._s(e.handleNum(e.item.comment_num))+"评论")]):e._e(),e.item.like_num?i("div",{staticClass:"footer-sub-item"},[e._v(e._s(e.handleNum(e.item.like_num))+"赞")]):e._e()])])])],1)},qn=[],Vn=(i("b680"),function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("WeiBo",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}},{key:"handleNum",value:function(e){var t,i=1e8,n="亿",a=1e4,s="万";return e>=i?(t=(e/i).toFixed(1),"0"===t.split(".")[1]&&(t=t.split(".")[0]),t+=n):e>=a?(t=(e/a).toFixed(1),"0"===t.split(".")[1]&&(t=t.split(".")[0]),t+=s):t=e,t}},{key:"getDurationStr",value:function(e){if(e){var t=Math.floor(e/3600);t=t>0?V.formatNumber(t)+":":"";var i=e%3600;return t+V.formatNumber(Math.floor(i/60))+":"+V.formatNumber(i%60)}return""}}]),t}(re["c"]));Object(oe["a"])([Object(re["b"])()],Vn.prototype,"item",void 0),Vn=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Vn);var $n=Vn,Yn=$n,Gn=(i("90d2"),Object(g["a"])(Yn,Un,qn,!1,null,"e8674fb2",null)),Qn=Gn.exports,Fn=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"jump-item content-bg bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"the-icon"}),i("div",{staticClass:"content-container"},[i("div",{staticClass:"display-title",domProps:{innerHTML:e._s(e.item.title)}}),i("div",{staticClass:"display-desc",domProps:{innerHTML:e._s(e.item.desc)}})]),i("div",{staticClass:"more-arrow"})])},zn=[],Kn=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Kn.prototype,"item",void 0),Kn=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Kn);var Jn=Kn,Xn=Jn,Zn=(i("61b6"),Object(g["a"])(Xn,Fn,zn,!1,null,"616d1934",null)),ea=Zn.exports,ta=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"video-item bg-active search-item",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"video-thumb-container"},[i("image-view",{staticClass:"video-thumb",attrs:{src:e.item.image_url}}),i("p",{staticClass:"play-icon"}),e.durationStr?i("div",{staticClass:"duration-container"},[i("div",{staticClass:"duration-display"},[e._v(e._s(e.durationStr))])]):e._e()],1),i("div",{staticClass:"video-content"},[i("p",{staticClass:"video-title",domProps:{innerHTML:e._s(e.item.title)}}),e.item.friends_num?i("div",{staticClass:"friend-num"},[e._v(e._s(e.item.friends_num)+"个朋友看过")]):e._e(),i("div",{staticClass:"video-source"},[e.item.app_info&&e.item.app_info.icon_url?i("image-view",{staticClass:"app-icon",attrs:{src:e.item.app_info.icon_url}}):e._e(),e.item.app_info&&e.item.app_info.nickname?i("div",{staticClass:"video-app-name"},[e._v(e._s(e.item.app_info.nickname))]):e._e(),e.item.timestamp?i("div",{staticClass:"time-str"},[e._v(e._s(e.item.timestamp))]):e._e()],1)])])},ia=[],na=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.durationStr="",e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onItemChange",value:function(){this.getDurationStr()}},{key:"mounted",value:function(){this.getDurationStr()}},{key:"getDurationStr",value:function(){if(this.item&&this.item.duration){var e=Math.floor(this.item.duration/3600);e=e>0?V.formatNumber(e)+":":"";var t=this.item.duration%3600;this.durationStr=e+V.formatNumber(Math.floor(t/60))+":"+V.formatNumber(t%60)}else this.durationStr=""}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],na.prototype,"item",void 0),Object(oe["a"])([Object(re["d"])("item")],na.prototype,"onItemChange",null),na=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],na);var aa=na,sa=aa,oa=(i("ec2d"),Object(g["a"])(sa,ta,ia,!1,null,"865dcdfa",null)),ra=oa.exports,ca=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"article-item search-item bg-active",attrs:{"data-absidx":e.item._absIndex},on:{click:e.onTapItem}},[e.item.image_url?i("div",{staticClass:"article-thumb-container"},[i("image-view",{staticClass:"article-thumb",attrs:{src:e.item.image_url}})],1):e._e(),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.title)}})]),i("div",{staticClass:"ext-info-ctr"},[e.item.sameOrigin?e._e():[e.item.app_info&&e.item.app_info.icon_url?i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.app_info.icon_url}}):e._e(),e.item.app_info&&e.item.app_info.nickname?i("div",{staticClass:"app-name"},[e._v(e._s(e.item.app_info.nickname))]):e._e()],e.item.timestamp?i("div",{staticClass:"time-str"},[e._v(e._s(e.item.timestamp))]):e._e()],2)])])},la=[],ua=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("ArticleItem",this.item)}},{key:"onTapItem",value:function(){this.$emit("jump-to-app",{appInfo:this.item.app_info})}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],ua.prototype,"item",void 0),ua=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],ua);var pa=ua,da=pa,ha=(i("0f1a"),Object(g["a"])(da,ca,la,!1,null,"63d411be",null)),ma=ha.exports,ga=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"image-item search-item bg-active",attrs:{"data-absidx":e.item._absIndex}},[i("div",{staticClass:"inner-ctr"},[i("image-view",{staticClass:"display-image",attrs:{src:"https://wx.qlogo.cn/mmhead/Q3auHgzwzM60P033IwxYeMNNKiaPuHD6ib0Rsgf0X6rgtckWjCf9goEA/64"}}),i("div",{staticClass:"display-title"},[e._v("测试标题测试标题测试标题测试标题测试标题测试标题测试标题测试标题测试标题测试标题测试标题")]),e._m(0),i("div",{staticClass:"display-time"},[e._v("2个小时前2个小时前2个小时前2个小时前2个小时前2个小时前2个小时前2个小时前")]),i("div",{staticClass:"display-source-ctr"},[i("image-view",{staticClass:"source-thumb",attrs:{src:"https://wx.qlogo.cn/mmhead/Q3auHgzwzM60P033IwxYeMNNKiaPuHD6ib0Rsgf0X6rgtckWjCf9goEA/64"}}),i("div",{staticClass:"source-txt"},[e._v("来源名称来源名称来源名称来源名称来源名称来源名称来源名称来源名称来源名称来源名称")])],1)],1)])},fa=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"display-tag-ctr"},[i("div",{staticClass:"display-tag"},[e._v("已有测试个朋友都读过已有测试个朋友都读过已有测试个朋友都读过已有测试个朋友都读过已有测试个朋友都读过")])])}],va=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.item={_absIndex:0},e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);va=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],va);var _a=va,ba=_a,ya=(i("33d9"),Object(g["a"])(ba,ga,fa,!1,null,"ef97726a",null)),Ia=ya.exports,Aa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.innerList&&e.innerList.length?i("div",{staticClass:"action-sheet-wrapper",on:{touchmove:function(t){return t.preventDefault(),t.stopPropagation(),e.doNothing(t)}}},[i("div",{staticClass:"action-sheet-content",class:{show:e.display}},[i("div",{staticClass:"action-sheet-title"},[i("svg",{staticClass:"icon-close",attrs:{role:"button",width:"24px",height:"24px",viewBox:"0 0 24 24"},on:{click:e.closeSelector}},[i("use",{attrs:{"xlink:href":"#close"}})]),i("div",{staticClass:"content"},[i("div",{staticClass:"display-title"},[e._v(e._s(e.title))]),i("div",{staticClass:"display-desc"},[e._v("请选择服务提供方")])]),i("div",{staticClass:"right-placeholder"})]),i("div",{staticClass:"line"}),i("div",{staticClass:"action-sheet-list"},e._l(e.innerList,(function(t,n){return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],key:n,staticClass:"bg-active",on:{click:function(i){return e.chooseProvider(t,n)}}},[i("div",{staticClass:"item"},[i("image-view",{staticClass:"app-image",attrs:{src:t.app_info&&t.app_info.icon_url||t.iconUrl}}),i("div",{staticClass:"app-name"},[e._v(e._s(t.app_info&&t.app_info.nickname||t.nickName))]),i("div",{staticClass:"more-arrow"})],1),i("div",{staticClass:"line",staticStyle:{"margin-left":"24px","margin-right":"24px"}})])})),0),e.needRemember?i("div",{staticClass:"choose-container",attrs:{role:"button"},on:{click:function(t){e.remember=!e.remember}}},[e.remember?i("svg",{staticClass:"icon selected",attrs:{width:"20px",height:"20px",viewBox:"0 0 20 20"}},[i("use",{attrs:{"xlink:href":"#selected"}})]):i("svg",{staticClass:"icon",attrs:{width:"20px",height:"20px",viewBox:"0 0 20 20"}},[i("use",{attrs:{"xlink:href":"#unselected"}})]),i("div",{staticClass:"txt"},[e._v("记住我的选择，下次不再询问")])]):i("div",{staticStyle:{height:"40px"}})]),i("div",{staticClass:"action-sheet-mask",class:{show:e.display},on:{click:e.closeSelector}})]):e._e()},Sa=[],xa=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.needRemember=!1,e.title="",e.remember=!1,e.display=!1,e.innerList=[],e.inTransition=!1,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onProviderListChange",value:function(){this.setupDisplay()}},{key:"mounted",value:function(){this.setupDisplay()}},{key:"doNothing",value:function(){}},{key:"setupDisplay",value:function(){var e=this,t=this.providerList&&this.providerList.length,i=this.innerList&&this.innerList.length;t===i||this.inTransition||(this.inTransition=!0,setTimeout((function(){e.inTransition=!1}),300),t?(this.innerList=this.providerList,setTimeout((function(){e.display=!0}),50),this.reportExpose(this.innerList)):(this.display=!1,setTimeout((function(){e.innerList=[]}),300)))}},{key:"closeSelector",value:function(){var e=this;this.inTransition||(this.$emit("close"),setTimeout((function(){e.remember=!1}),500),this.reportClose())}},{key:"reportExpose",value:function(e){Je.reportProviderSelector({searchId:this.searchId,isSub:L.isSub,isExpose:!0,isClick:!1,clickType:0,reportJSON:e.map((function(e){var t=e.app_info||e;return{doc_id:t.docID||t.docid,appid:t.appid,app_nick:t.nickName||t.nickname}}))})}},{key:"reportClick",value:function(e,t,i){var n=e.app_info||e;Je.reportProviderSelector({searchId:this.searchId,isSub:L.isSub,isExpose:!1,isClick:!0,clickType:i?1:2,clickPos:t+1,reportJSON:[{doc_id:n.docID||n.docid,appid:n.appid,app_nick:n.nickName||n.nickname}]})}},{key:"reportClose",value:function(){Je.reportProviderSelector({searchId:this.searchId,isSub:L.isSub,isExpose:!1,isClick:!1,clickType:3})}},{key:"chooseProvider",value:function(e,t){var i=this;if(!this.inTransition){if(setTimeout((function(){i.$emit("jump",e)}),100),this.remember){var n=e.app_info&&e.app_info.username||e.userName;He.setMovieProvider(n).then((function(e){i.$store.commit("updateState",{defaultProviderUserName:n})}))}setTimeout((function(){i.remember=!1}),500),this.reportClick(e,t,this.remember)}}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],xa.prototype,"providerList",void 0),Object(oe["a"])([Object(re["b"])()],xa.prototype,"searchId",void 0),Object(oe["a"])([Object(re["b"])()],xa.prototype,"needRemember",void 0),Object(oe["a"])([Object(re["b"])()],xa.prototype,"title",void 0),Object(oe["a"])([Object(re["d"])("providerList")],xa.prototype,"onProviderListChange",null),xa=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],xa);var wa=xa,Ca=wa,ka=(i("fbf9"),Object(g["a"])(Ca,Aa,Sa,!1,null,"70865fb4",null)),Ta=ka.exports,Oa=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("game-item",{attrs:{item:{icon_url:"https://wx.qlogo.cn/mmhead/Q3auHgzwzM7CCW8qQHnfb0eqOqzS9BKukLLrM6jmdt8TV3cUiaqrSIg/0",appid:"wx7a727ff7d940bb3f",appname:"星途",friend_play_desc:"30个好友玩过",score:"4.2",brief_intro:"自己的小宇宙，走得越远，发现越多。自己的小宇宙，走得越远，发现越多。自己的小宇宙，走得越远，发现越多自己的小宇宙，走得越远，发现越多。。",tag_list:[{name:"使用过",highlight:!0},{name:"休闲",highlight:!1}],friend_head_img_url_list:["https://wx.qlogo.cn/mmhead/Q3auHgzwzM7CCW8qQHnfb0eqOqzS9BKukLLrM6jmdt8TV3cUiaqrSIg/0","https://wx.qlogo.cn/mmhead/Q3auHgzwzM7CCW8qQHnfb0eqOqzS9BKukLLrM6jmdt8TV3cUiaqrSIg/0","https://wx.qlogo.cn/mmhead/Q3auHgzwzM7CCW8qQHnfb0eqOqzS9BKukLLrM6jmdt8TV3cUiaqrSIg/0"]}}})],1)},Ea=[],La=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-item bg-active search-item",attrs:{"data-absidx":e.absidx,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-thumb-container"},[i("ImageView",{staticClass:"app-thumb",attrs:{src:e.item.icon_url}})],1),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.appname)}}),e.item.is_original_game?i("img",{staticClass:"origin",attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200429/origin.png"}}):e._e()]),i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.brief_intro)}}),i("div",{staticClass:"sub-info-container"},[i("div",{staticClass:"sub-info-container-labels"},[i("div",{staticClass:"catagory_tag_outer"},[e.tagList.length?e._l(e.tagList,(function(t,n){return i("span",{key:n,staticClass:"category_tag",class:{app_use_status_self:t.highlight}},[e._v(" "+e._s(t.name)+" ")])})):e._e(),i("span",{staticClass:"score"},[e._v(e._s(e.item.score))]),e.hideFriend?e._e():i("div",{staticClass:"friend_info"},[i("span",{staticClass:"score friend_play_desc"},[e._v(e._s(e.item.friend_play_desc))]),e.item.friend_head_img_url_list?e._l(e.item.friend_head_img_url_list,(function(e,t){return i("img",{key:t,staticClass:"friend_head",attrs:{src:e}})})):e._e()],2),e.hideFriend&&e.item.recent_play_desc?i("div",{staticClass:"friend_info"},[i("span",{staticClass:"score friend_play_desc"},[e._v(e._s(e.item.recent_play_desc))])]):e._e()],2)])])])])},ja=[],Pa=(i("7db0"),function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}},{key:"tagList",get:function(){return this.hideFriend?this.item.recent_play_desc?this.item.tag_list.slice(0,2):this.item.tag_list:this.hasFriend?this.item.tag_list.slice(0,1):this.item.tag_list}},{key:"hasFriend",get:function(){return this.item.friend_play_desc&&this.item.friend_play_desc.length||this.item.friend_head_img_url_list&&this.item.friend_head_img_url_list.length}},{key:"hideFriend",get:function(){return this.item.recent_play_desc||this.item.tag_list&&this.item.tag_list.find((function(e){return 1===e.tag_type}))}}]),t}(re["c"]));Object(oe["a"])([Object(re["b"])()],Pa.prototype,"item",void 0),Object(oe["a"])([Object(re["b"])()],Pa.prototype,"absidx",void 0),Pa=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Pa);var Da=Pa,Na=Da,Ra=(i("01ee"),Object(g["a"])(Na,La,ja,!1,null,"499fca51",null)),Ma=Ra.exports,Ha=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("GameRecommend")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Ha.prototype,"item",void 0),Ha=Object(oe["a"])([Object(re["a"])({components:{GameItem:Ma}})],Ha);var Ba=Ha,Wa=Ba,Ua=Object(g["a"])(Wa,Oa,Ea,!1,null,"359f52ff",null),qa=Ua.exports,Va=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex",width:"100%","flex-wrap":"wrap"}},e._l(e.list,(function(t,n){return i("related-item",{key:n,attrs:{item:t,iconClass:"item-icon-box"},on:{"related-search":function(i){return e.clickOneBoard(t,n)}}})})),1)},$a=[];o["a"].use($["a"]);var Ya,Ga=new $["a"].Store({state:{query:"",tapSearchInfo:null,sugInfo:null,prefixQuery:[],sceneActionType:1,extReqParams:[],hotTopicList:[],subQuery:"",subSugInfo:{sugId:"",sugType:L.SUB_SUG_TYPE.SUG_TYPE_SUGGESTION_CLICK,prefixSug:"",sugBuffer:"",sugPosition:0},subSearchParams:null,actionReportData:null,defaultProviderUserName:""},mutations:{updateState:function(e,t){Object.keys(t).forEach((function(i){"query"===i&&(L.query=t[i]||""),"subQuery"===i&&(L.subQuery=t[i]||""),o["a"].set(e,i,t[i])}))}},actions:{}}),Qa=N.a.create({baseURL:"https://game.weixin.qq.com",timeout:0,maxContentLength:4e6});function Fa(e){return e}function za(e){console.log(L.osInfo);for(var t=[],i=0,n=e.length;i<n;i++){var a=e[i],s={SceneID:Fa(a.iSceneId||0),GameID:encodeURIComponent(a.sGameId||""),SourceID:Fa(a.iSourceID||0),UIArea:Fa(a.iUIArea||0),PositionID:Fa(a.iPositionId||0),EntryScene:Fa(a.iEntryScene||L.scene||0),SearchId:encodeURIComponent(a.SearchId||L.searchId||""),SearchTimeStamp:Fa(a.iSearchTimeStamp||L.SearchTimeStamp||0),UnitId:encodeURIComponent(a.iUnitId||""),Query:encodeURIComponent(a.iQuery||Ga.state.query||""),ActionID:Fa(a.iActionId||0),ActionStatus:encodeURIComponent(a.sActionStatus||""),ConnectType:encodeURIComponent(a.sConnectType||L.netType||""),DeviceBrand:L.osInfo.ios?"ios":"android",DeviceModel:encodeURIComponent(a.sDeviceModel||""),OpType:Fa(a.iOpType||0),sdkVersion:Fa(a.sdkVersion||L.version||0),allpath:encodeURIComponent(a.sAllpath||""),URL:encodeURIComponent(a.sURL||""),LogType:Fa(a.iLogType||0),errType:encodeURIComponent(a.sErrType||""),ContentType:Fa(a.iContentType||0),ContentID:Fa(a.iContentID||0),ActID:Fa(a.iActID||0),ExpID:Fa(a.iExpID||0),Time:Fa(a.iTime||0),ExternInfo:encodeURIComponent(a.sExternInfo||"")};t.push(s)}Qa({url:"/cgi-bin/gamewxagsearchwap/searchstat?uin=".concat(L.auth.uin,"&key=").concat(L.auth.key,"&pass_ticket=").concat(L.auth.passticket),method:"POST",data:JSON.stringify({batchdata:t})})}(function(e){e[e["SEARCH_TYPE_RECOMMEND_GAME"]=1]="SEARCH_TYPE_RECOMMEND_GAME",e[e["SEARCH_TYPE_PLATFORM_RANK_BOARD"]=2]="SEARCH_TYPE_PLATFORM_RANK_BOARD",e[e["SEARCH_TYPE_RECOMMEND_CATEGORY"]=3]="SEARCH_TYPE_RECOMMEND_CATEGORY",e[e["SEARCH_TYPE_FRIEND_PLAY_BOARD"]=4]="SEARCH_TYPE_FRIEND_PLAY_BOARD",e[e["SEARCH_TYPE_HOT_GAME_BOARD"]=5]="SEARCH_TYPE_HOT_GAME_BOARD",e[e["SEARCH_TYPE_BESTSELLING_GAME_BOARD"]=6]="SEARCH_TYPE_BESTSELLING_GAME_BOARD",e[e["SEARCH_TYPE_CATEGORY"]=7]="SEARCH_TYPE_CATEGORY",e[e["SEARCH_TYPE_LAUNCHED_GAME"]=8]="SEARCH_TYPE_LAUNCHED_GAME",e[e["SEARCH_TYPE_RECOMMEND_QUERY"]=9]="SEARCH_TYPE_RECOMMEND_QUERY"})(Ya||(Ya={}));var Ka=L.BOX_DISPLAY_TYPE;function Ja(e){return e===Ka.GAME_RECOMMENT?1001:e===Ka.GAME_LADERBOARD?1006:e===Ka.GAME_CATEGORY_RECOMMEND?1003:e===Ka.GAME_FRIEND_HOT_PLAY?1002:void 0}function Xa(e){return e===Ya.SEARCH_TYPE_RECOMMEND_GAME?1001:e===Ya.SEARCH_TYPE_PLATFORM_RANK_BOARD?1002:e===Ya.SEARCH_TYPE_RECOMMEND_CATEGORY?1003:e===Ya.SEARCH_TYPE_PLATFORM_RANK_BOARD||e===Ya.SEARCH_TYPE_BESTSELLING_GAME_BOARD||e===Ya.SEARCH_TYPE_FRIEND_PLAY_BOARD?1006:e===Ya.SEARCH_TYPE_CATEGORY||e===Ya.SEARCH_TYPE_LAUNCHED_GAME?1004:e===Ya.SEARCH_TYPE_RECOMMEND_QUERY?1005:9999}function Za(e,t){var i=0,n=0,a=e.search_type;e.display_type!==Ka.GAME_FRIEND_HOT_PLAY&&e.display_type!==Ka.GAME_LADERBOARD||(i=25,t&&("朋友热玩榜"===t.name?n=1:"人气榜"===t.name?n=2:"畅销榜"===t.name&&(n=3))),e.display_type===Ka.GAME_LADERBOARD&&(4===a?n=1:5===a?n=2:6===a&&(n=3)),e.search_type===Ya.SEARCH_TYPE_LAUNCHED_GAME&&(i=27,n=0);var s=e.extra_info,o=void 0===s?"{}":s;return o=JSON.parse(o),o.content_type&&(i=o.content_type),o.content_id&&(n=o.content_id),{iContentType:i,iContentID:n}}function es(e){Array.isArray(e)||(e=[e]),za(e)}function ts(e){if(!e.extra_info)return null;var t=e.extra_info,i=void 0===t?"{}":t;try{i=JSON.parse(i)}catch(n){return console.log(n),null}return i.extern_info}var is=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.startTime=0,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){this.startTime=Date.now()}},{key:"clickOneBoard",value:function(e,t){console.log("invoke clickOneBoard",e,t,this.block);var i=0;"朋友热玩榜"===e.title?i=1:"人气榜"===e.title?i=2:"畅销榜"===e.title&&(i=3),es({iSceneId:10,iUIArea:Ja(this.block.display_type),iPositionId:t+1,iActionId:40,iContentType:25,iContentID:i,SearchId:this.searchId,iTime:Date.now()-this.startTime}),this.$emit("jump-to-app",this.blockIdx,t)}},{key:"list",get:function(){return(this.block&&this.block.items||[]).map((function(e){var t=Object.assign(e,e.platform_rank_board);return t.title=t.name,t}))}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],is.prototype,"block",void 0),Object(oe["a"])([Object(re["b"])()],is.prototype,"blockIdx",void 0),Object(oe["a"])([Object(re["b"])()],is.prototype,"query",void 0),Object(oe["a"])([Object(re["b"])()],is.prototype,"searchId",void 0),is=Object(oe["a"])([Object(re["a"])({components:{RelatedItem:$i}})],is);var ns=is,as=ns,ss=(i("59b9"),Object(g["a"])(as,Va,$a,!1,null,"3fe2be90",null)),os=ss.exports,rs=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex",width:"100%","flex-wrap":"wrap"}},e._l(e.list,(function(t,n){return i("category",{key:n,attrs:{item:t},on:{"related-search":function(i){return e.clickOneCategory(t,n)}}})})),1)},cs=[],ls=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"related-item search-item",attrs:{"data-absidx":e.item._absIndex}},[i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"related-item-content bg-active",attrs:{role:"button"},on:{click:e.onTapItem}},[i("p",{staticClass:"item-txt"},[e._v(e._s(e.item.title))])])])},us=[],ps=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("related-search")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],ps.prototype,"item",void 0),Object(oe["a"])([Object(re["b"])()],ps.prototype,"iconClass",void 0),ps=Object(oe["a"])([Object(re["a"])({components:{}})],ps);var ds=ps,hs=ds,ms=(i("aa27"),Object(g["a"])(hs,ls,us,!1,null,"e6070c52",null)),gs=ms.exports,fs=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.startTime=0,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){this.startTime=Date.now()}},{key:"clickOneCategory",value:function(e,t){console.log("invoke clickOneCategory",e,t,this.block),es({iSceneId:10,iUIArea:Ja(this.block.display_type),iPositionId:t+1,iActionId:40,SearchId:this.searchId,iTime:Date.now()-this.startTime,sExternInfo:JSON.stringify({sortname:e.title,iconname:e.title})}),this.$emit("jump-to-app",this.blockIdx,t)}},{key:"list",get:function(){return(this.block&&this.block.items||[]).map((function(e){var t=Object.assign(e,e.recommend_category);return t.title=t.name,t}))}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],fs.prototype,"block",void 0),Object(oe["a"])([Object(re["b"])()],fs.prototype,"blockIdx",void 0),Object(oe["a"])([Object(re["b"])()],fs.prototype,"query",void 0),Object(oe["a"])([Object(re["b"])()],fs.prototype,"searchId",void 0),fs=Object(oe["a"])([Object(re["a"])({components:{Category:gs}})],fs);var vs=fs,_s=vs,bs=Object(g["a"])(_s,rs,cs,!1,null,"05886152",null),ys=bs.exports;function Is(e,t,i,n,a){var s=String(Date.now()),o=V.appendQueryObject(e.path,{disPlayType:n,EntryScene:L.scene,SearchId:i||L.searchId,SearchTimeStamp:L.SearchTimeStamp,Query:Ga.state.query,SourceID:e.UIArea}),r=o.split("?").slice(1).join(""),c=P.a.parse(r)||{};console.log("goSubPage",o,r,c,a);var l=parseInt(c.subType)||1;String(c.isSpecialZone);if(L.isSupportOpenH5SubSearch&&!c.useApp)console.log("openSearchWebView",L.auth),V.openSearchWebView({actionType:3,extParams:encodeURIComponent(JSON.stringify({isGameSub:!0,auth:L.auth,pageUrl:o})),type:262208,query:t,scene:L.scene,hideSearchBar:!0,nativeConfig:{title:"小游戏"}});else{var u={page:o,userName:e.username||e.user_name||e.userName,searchId:i,scene:L.scene,appVersion:e.appVersion,debugMode:L.isRelease?0:2,clickExtInfo:V.genClickExtForWeAppService({query:t,h5Version:L.version,clickId:s,disPlayType:n,searchScene:c.newSearchScene||"",source:parseInt(c.source)||0,cookie:c.cookie||"",sessionId:c.sessionId||"",isClickMore:!0}),subScene:V.genWeAppSubScene({clickId:s,disPlayType:n})};console.log("openWeAppPage",u),V.openWeAppPage(u)}}var As=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.BOX_DISPLAY_TYPE=L.BOX_DISPLAY_TYPE,e.blockList=[],e.gameBlockList=[],e.gameUnExposedList=[],e.offset=0,e.searchId="",e.offsetBuffer="",e.requestId="",e.hotTopicTitle="",e.showTopic=!1,e.loading=!1,e.hasMore=!0,e.blockMoreTips=V.L("更多"),e.pageMoreTips=V.L("正在搜索"),e.pageNoMoreTips="",e.sugIdForReport="",e.gPageCount=1,e.pageStart=!1,e.pageEnd=!1,e.progressHide=!1,e.providerNeedRemember=!1,e.providerSelectorTitle="",e.providerList=[],e.curProviderParentItem=null,e.curProviderParentComp=null,e.boxIndex=0,e.absIndex=0,e.allReportItems={},e.allItems={},e.unExposedList=[],e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("curPage: Result"),this.pageStart=!0,this.getData(),window.addEventListener("scroll",this.onScroll)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.scrollHeight-e-document.documentElement.clientHeight;t<50&&this.getData(),this.reportExpose(),this.gameReportExpose()}},{key:"hideProgress",value:function(){this.progressHide=!0}},{key:"reloadPage",value:function(){var e=this;this.blockList=[],this.offset=0,this.searchId="",this.offsetBuffer="",this.loading=!1,this.hasMore=!0,this.requestId="",this.blockMoreTips=V.L("更多"),this.pageMoreTips=V.L("正在搜索"),this.pageNoMoreTips="",this.showTopic=!1,this.sugIdForReport="",this.gPageCount=1,this.pageStart=!1,this.pageEnd=!1,this.progressHide=!1,this.providerList=[],this.providerNeedRemember=!1,this.providerSelectorTitle="",this.curProviderParentItem=null,this.curProviderParentComp=null,this.boxIndex=0,this.absIndex=0,this.allReportItems={},this.allItems={},this.unExposedList=[],setTimeout((function(){e.pageStart=!0,e.getData()}),10)}},{key:"getData",value:function(){var e=this;if(!this.loading&&this.hasMore){var t,i,n,a,s;this.resetRequestId(!0),this.tapSearchInfo?(t=this.tapSearchInfo.prefix,i=this.tapSearchInfo.type,n=this.tapSearchInfo.id||"",a=this.tapSearchInfo.pos,s=this.tapSearchInfo.buffer||""):(this.sugInfo?(t=this.sugInfo.prefix,i=3,n=this.sugInfo.id):(t="",i=0,n=""),a=0,s=""),this.sugIdForReport=n;var o=this.getExtReqParams(),r={query:this.query.substr(0,100),offset:this.offset||0,tagInfo:{},type:64,isHomePage:0,scene:L.scene,searchId:this.searchId,sessionId:L.sessionId,subSessionId:L.subSessionId,sceneActionType:this.$store.state.sceneActionType,prefixSug:t,sugType:i,sugId:n,sugPosition:a,sugBuffer:s,prefixQuery:this.$store.state.prefixQuery.slice(1,3),matchUser:{},numConditions:[],extReqParams:o.concat([{key:"h5version",uintValue:L.version},{key:"offsetBuffer",textValue:this.offsetBuffer||""}]),displayPattern:2,subType:L.SEARCH_ITEM_SUBTYPE_ALL,isWeAppMore:1,isBackButtonClick:L.isBackButtonClick,requestId:this.requestId};console.log("getSearchData req: ",r);var c=Date.now();L.SearchTimeStamp=c,He.getSearchData(r).then((function(t){var i=t.json&&JSON.parse(t.json)||{},n=Date.now(),a=n-c;if(console.log("getSearchData rsp: ",JSON.parse(JSON.stringify(Object(l["a"])({},t,{json:i})))),window.ccc=JSON.stringify(Object(l["a"])({},t,{json:i})),0===i.ret)if(i.data||(i.data=[]),i.cookie&&(L.cookieStr=i.cookie),i.data=i.data.map((function(t,i){if(t.display_type===e.BOX_DISPLAY_TYPE.IMAGE_WIKI)return{display_type:e.BOX_DISPLAY_TYPE.IMAGE_WIKI,items:[t]};if(t.display_type===e.BOX_DISPLAY_TYPE.CAR_SERIES)return t.ext_doc&&(t["app_info"]=t.ext_doc.app_info,t["search_buffer"]=t.ext_doc.search_buffer),{display_type:t.display_type,items:[t]};if(t.display_type===e.BOX_DISPLAY_TYPE.RICH_WIKI)return e.blockList.length||i?(delete t.sub_title,{display_type:e.BOX_DISPLAY_TYPE.NORMAL_WIKI,items:[t]}):{display_type:e.BOX_DISPLAY_TYPE.RICH_WIKI,items:[t]};if(t.display_type===e.BOX_DISPLAY_TYPE.NORMAL_WIKI)return{display_type:t.display_type,items:[t]};if(t.display_type===e.BOX_DISPLAY_TYPE.INDUSTRY_SERVICE)return t.items||(t.items=[]),1===t.items.length&&(t.items=t.items[0].sub_items,t["more_action"]=t.items[0].more_action,t.single=!0),t;if(t.display_type===e.BOX_DISPLAY_TYPE.WEIBO||t.display_type===e.BOX_DISPLAY_TYPE.ARTICLE||t.display_type===e.BOX_DISPLAY_TYPE.IMAGE){if(t.items&&t.items.length){var n=t.items[0].app_info;t.items.forEach((function(e,t){n&&n.username!==e.app_info.username&&(n=null)})),t.appInfo=n,t.appInfo&&t.items.forEach((function(e){e.sameOrigin=!0}))}return t}return t})),i.data=i.data.filter((function(e,t){return e.items&&e.items.length})),e.gameBlockList=[],i.data.forEach((function(t,i){var a=0;t.items||(t.items=[]);var s=e.checkIsGameBox(t);if(s){var o=Date.now();t.isGameBlock=!0,t.startTime=o,e.gameBlockList.push(t),t.items.forEach((function(i){i.isGameBlockItem=!0,i.startTime=o,t.display_type===e.BOX_DISPLAY_TYPE.GAME_RELEATED&&(i.title=i.recommend_search&&i.recommend_search.query||"")}))}t.items.forEach((function(t,s){if(t.extra_json?t.ext=JSON.parse(t.extra_json):t.ext=null,t._absIndex=e.absIndex++,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,e.boxIndex,a++,n,t.search_buffer||t.ext&&t.ext.search_buffer||"",i,s),e.allItems[t._absIndex]=t,t.timestamp&&(t.timestamp=V.formatMsgTime(1e3*t.timestamp)),t.extra_banner&&void 0!==t.extra_banner.type&&(t.isGame=!0),t.items&&t.items.forEach((function(t){t._absIndex=e.absIndex++,e.allItems[t._absIndex]=t,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,e.boxIndex,a++,n,t.search_buffer||"",i,s)})),t.ext&&(t.showTagsInfo=t.ext.use_status&&t.ext.use_status.length<=3||t.ext.labels||t.ext.func_labels||t.ext.evaluate||t.game_friend&&(t.game_friend.desc||t.game_friend.icon_url_list&&t.game_friend.icon_url_list.length),t.ext.wiki&&(t.ext.wiki.button_list||[]).forEach((function(t){t._absIndex=e.absIndex++,e.allItems[t._absIndex]=t,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,e.boxIndex,a++,n,t.search_buffer||"",i,s)})),t.ext.brand&&(t.hasBrand=!0,(t.ext.brand.product_list||[]).forEach((function(t){t._absIndex=e.absIndex++,e.allItems[t._absIndex]=t,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,e.boxIndex,a++,n,t.search_buffer||"",i,s)})),t.ext.brand.banner&&t.ext.brand.banner.url))){var o=t.ext.brand.banner;o._absIndex=e.absIndex++,e.allItems[o._absIndex]=o,e.allReportItems[o._absIndex]=o._reportData=e.createReportItem(o._absIndex,e.boxIndex,a++,n,o.search_buffer||"",i,s)}t.sub_items&&t.sub_items.forEach((function(t){t._absIndex=e.absIndex++,e.allItems[t._absIndex]=t,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,e.boxIndex,a++,n,t.search_buffer||"",i,s)})),t.isGameBlockItem&&(e.allReportItems[t._absIndex].isGameBlockItem=!0,e.allReportItems[t._absIndex].itemIdx=s)})),(t.more_action||t.moreAction)&&(t.showRightMore=!0),e.boxIndex++,t.showTitle=V.checkShowBlockTitle(t),16781312===t.type&&1009===t.subType&&e.$store.commit("updateState",{defaultProviderUserName:t.movie_provider&&t.movie_provider.username||""}),(262144===t.type||16781312===t.type&&1===t.subType)&&(t.items[0]._dataOther=t.items.splice(1))})),e.offset=i.offset,e.offsetBuffer=i.offsetBuffer,L.searchId=e.searchId=i.searchID,e.hasMore=1===i.continueFlag,e.pageNoMoreTips=i.nomoreText||V.L("没有更多的搜索结果"),Je.reportQueryPerformance({ret:0,page:e.gPageCount-1,time:a,searchId:i.searchID||e.searchId}),t.newQuery)e.gPageCount=2,e.blockList=i.data||[];else if(e.gPageCount++,i.isHitExpMixSort)i.data&&i.data.length&&(e.blockList.length&&i.data[0].subType&&i.data[0].subType===e.blockList[e.blockList.length-1].subType?(e.blockList[e.blockList.length-1].items=e.blockList[e.blockList.length-1].items.concat(i.data[0].items),e.blockList=e.blockList.concat(i.data.slice(1))):e.blockList=e.blockList.concat(i.data));else if(e.blockList.length){for(var s=Math.max(e.blockList.length-1,0),o=e.blockList[s],r=0,u=i.data.length;r<u;r++)if(i.data[r].type==o.type&&i.data[r].items)for(var p=0,d=i.data[r].items.length,h=d-1;p<d;p++,h--)i.data[r].items[p].offset=i.offset,o.items.push(i.data[r].items[p])}else e.blockList=i.data||[];else e.pageNoMoreTips||(e.pageNoMoreTips=-1===i.ret?"没有网络":"没有更多的搜索结果"),e.hasMore=!1,Je.reportQueryPerformance({ret:i.ret||-2001,page:e.gPageCount-1,time:a,searchId:i.searchID||e.searchId});console.log("getSearchData rsp format after: ",JSON.parse(JSON.stringify(Object(l["a"])({},t,{json:i})))),i.base64uin&&(L.auth={uin:i.base64uin,key:i.passkey,passticket:i.cookie},console.log("GlobalVars.auth",L.auth)),e.$store.commit("updateState",{tapSearchInfo:null}),e.$nextTick((function(){e.pageEnd=!0,e.loading=!1,e.setReportDataAfterRender(),e.gameBlockList.length&&e.setGameReportDataAfterRender()})),e.$store.state.actionReportData?(Je.reportAction(Object(l["a"])({},e.$store.state.actionReportData,{searchid:e.searchId||""})),e.$store.commit("updateState",{actionReportData:null})):Je.reportAction({ext_info:V.formatReportList([{type:16}]),query:e.query,searchid:e.searchId||""}),e.hasMore||setTimeout((function(){var t=e.$refs.rstContent;t.offsetHeight<window.screen.availHeight-300&&e.hotTopicList&&e.hotTopicList.length&&(i.bSearchDiscoverMore?(e.showTopic=!0,Je.reportCommon({log_id:20193,IsExp:1,IsClick:0,Group:1,Word:encodeURIComponent(e.hotTopicList.map((function(e,t){return e.hot_word||""})).join("||||")),searchid:e.searchId,query:e.query,scene:L.scene})):(e.showTopic=!1,Je.reportCommon({log_id:20193,IsExp:1,IsClick:0,Group:0,Word:encodeURIComponent(e.hotTopicList.map((function(e,t){return e.hot_word||""})).join("||||")),searchid:e.searchId,query:e.query,scene:L.scene})))})),e.absIndex<12&&e.hasMore&&setTimeout((function(){e.getData()}))})),this.loading=!0}}},{key:"createReportItem",value:function(e,t,i,n,a,s,o){return{id:Je.guid(),readyExpose:!1,exposed:!1,absIndex:e,boxIndex:t,posInBox:i,startTime:n,searchBuffer:a||"",rectInfo:null,offsetTop:0,blockIdx:s,itemIdx:o}}},{key:"setGameReportDataAfterRender",value:function(){var e=this,t=document.querySelectorAll(".search-game-block"),i=document.documentElement.scrollTop||document.body.scrollTop;this.gameUnExposedList=[],t.forEach((function(t,n){var a=t.getBoundingClientRect().top+i,s=e.gameBlockList[n];s.exposeReady||(s.offsetTop=a,e.gameUnExposedList.push(s))})),this.gameReportExpose()}},{key:"toHotNews",value:function(e,t){var i=this.blockList[e],n=Object.assign({},i.items[t]),a=this.allReportItems[n._absIndex];Je.clickReport(a),H.invoke(B["a"].methodName.setSearchQuery,{word:"",docPos:0,isInputChange:!1,tagList:[],custom:""}),this.$router.replace({name:u.HotNews.name}),console.log("onClickItem report",JSON.parse(JSON.stringify(a)))}},{key:"gameReportExpose",value:function(){var e=this,t=document.documentElement.scrollTop||document.body.scrollTop,i=t+document.documentElement.clientHeight;if(this.gameUnExposedList.length){var n=[];if(this.gameUnExposedList=this.gameUnExposedList.filter((function(e){return!(e.offsetTop<i)||(e.exposed=!0,n.push(e),!1)})),n.length){var a=n.map((function(t){var i=Za(t),n=i.iContentType,a=i.iContentID,s={iSceneId:10,iUIArea:Xa(t.search_type),iPositionId:0,iActionId:1,iOpType:1,iContentType:n,iContentID:a,iTime:Date.now()-t.startTime,SearchId:e.searchId},o=ts(t);return o&&(s.sExternInfo=JSON.stringify(o)),console.log("gameReportExpose extra",ts(t)),s}));es(a),console.log("gameReportExpose list",a)}}}},{key:"setReportDataAfterRender",value:function(){var e=this,t=document.querySelectorAll(".search-item, .search-product"),i=this.allReportItems,n=document.documentElement.scrollTop||document.body.scrollTop;t.forEach((function(t,a){var s=i[t.getAttribute("data-absidx")];s&&(s.readyExpose||(s.readyExpose=!0,s.offsetTop=t.getBoundingClientRect().top+n,e.unExposedList.push(s)))})),this.reportExpose()}},{key:"reportExpose",value:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=e+document.documentElement.clientHeight;if(this.unExposedList.length){var i=[];if(this.unExposedList=this.unExposedList.filter((function(e){return!(e.offsetTop<t)||(e.exposed=!0,i.push(e),!1)})),i.length){this.bindExposeReportForSouYiSou(i),Je.exposeReport(i),this.appGameExpose(i);var n=i.filter((function(e){return e.isGameBlockItem}));n.length&&this.gameItemReportExpose(n),console.log("reportExpose",JSON.parse(JSON.stringify(i)))}}}},{key:"appGameExpose",value:function(e){var t=this;console.log("appGameExpose reportList",e),e.forEach((function(e,i){var n=t.allItems[e.absIndex];n&&n.isGame&&(console.log("appGameExpose",i,n),Je.reportCommon({log_id:20141,Exposure:1,Click:0,Appid:n.app_info&&n.app_info.appid||n.appid||"",pos:n._absIndex+1,type:n.extra_banner.type||0}))}))}},{key:"gameItemReportExpose",value:function(e){var t=this,i=e.map((function(e){var i=e.itemIdx,n=e.boxIndex,a=t.blockList[n];if(a){var s,o=a.items[i],r=o.game||o.recommend_category||o.platform_rank_board||o.recommend_search||{};r.appid&&(s={labelname:(r.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:r.score,friendnum:r.friend_play_desc}),o.recommend_category&&(s={sortname:o.title||o.name,iconname:o.title||o.name}),o.recommend_search&&(s={sortname:o.title||o.name});var c=Za(a,r),l=c.iContentType,u=c.iContentID,p=ts(a);p&&s&&(s=Object.assign(s,p));var d={sGameId:r.appid||"",iSceneId:10,iUIArea:Xa(a.search_type),iPositionId:i+1,iActionId:1,iContentType:l,iContentID:u,iOpType:1,SearchId:t.searchId,sExternInfo:JSON.stringify(s),iTime:Date.now()-o.startTime};return s&&(d.sExternInfo=JSON.stringify(s)),d}}));es(i),console.log("gameItemReportExpose",e,i)}},{key:"bindExposeReportForSouYiSou",value:function(e){var t=this,i="";this.blockList.forEach((function(e){i+=(e.type||0)+":"+(e.resultType||0)+";"})),e.forEach((function(e){var n="",a="",s=t.blockList[e.blockIdx],o=t.allItems[e.absIndex],r=0;if(262144===s.type||16781312===s.type&&1===s.subType){var c="";try{var l=o.boxInfo.providerInfo.relay_info,u=JSON.parse(l);c=u.widget_stat_buffer}catch(d){}n=s.type+":"+o.docID+":"+e.startTime+":"+encodeURIComponent(c)+":"+r+":"+e.offsetTop+";"}else if(16781312==s.type){try{var p=JSON.parse(o.detailData);r=p.items.length>0&&0==e.posInBox?1:0}catch(d){}n=(s.type||0)+":"+o.docID+":"+e.startTime+":"+encodeURIComponent(o.statBuf||"")+":"+r+":"+e.offsetTop+";"}else n=(s.type||0)+":"+o.docID+":"+e.startTime+":"+encodeURIComponent(o.adBuffer||"")+":"+r+":"+e.offsetTop+";";a=(s.type||0)+":"+(s.subType||0)+";",e.ftsExposeContent=n,e.ftsSubType=a,e.searchId=t.searchId,e.ftsResultType=i,e.requestId=t.requestId}))}},{key:"getExtReqParams",value:function(){var e=this.$store.state.extReqParams.slice();return V.pushExclusiveItemToArray(e,{key:"requestId",uintValue:null,textValue:this.requestId}),this.gPageCount&&V.pushExclusiveItemToArray(e,{key:"currentPage",uintValue:this.gPageCount,textValue:null}),V.pushExclusiveItemToArray(e,{key:"showWeApp",uintValue:null,textValue:null}),e=e.filter((function(e,t){return"parentSearchID"!==e.key})),this.tapSearchInfo&&this.tapSearchInfo.id?V.pushExclusiveItemToArray(e,{key:"fromSugId",uintValue:null,textValue:this.tapSearchInfo.id}):this.sugInfo?V.pushExclusiveItemToArray(e,{key:"fromSugId",uintValue:null,textValue:this.sugInfo.id}):V.pushExclusiveItemToArray(e,{key:"fromSugId",uintValue:null,textValue:""}),V.pushExclusiveItemToArray(e,{key:"subType",uintValue:0,textValue:null}),this.$store.commit("updateState",{extReqParams:e}),e}},{key:"onHotTopicSearch",value:function(e){var t=this.hotTopicList[e],i=t.hot_word;if(Je.reportCommon({log_id:20193,IsExp:0,IsClick:1,Group:1,Word:encodeURIComponent(i||""),searchid:this.searchId,query:this.query,scene:L.scene}),t.more_action)return this.toSubSearch(i,t.more_action);H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:i,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.sugIdForReport="",this.$store.commit("updateState",{query:i,tapSearchInfo:{id:"",prefix:"",expand:"",query:i,buffer:null,type:L.SUG_CLICK_TYPE_HOT_RST,pos:e+1},sugInfo:null,sceneActionType:L.sceneActionType}),this.reloadPage()}},{key:"onClickGameCategory",value:function(e,t){var i=this.blockList[e],n=Object.assign({},i.items[t]),a=n.recommend_category||n.platform_rank_board,s=V.appendQueryObject(a.path,{EntryScene:L.scene,SearchId:this.searchId||L.searchId,SearchTimeStamp:L.SearchTimeStamp,Query:this.query,SourceID:Xa(i.search_type)});a.path=s;var o={appInfo:a,debugMode:L.isRelease?0:2};this.onClickItem(e,t,o)}},{key:"onClickGameItem",value:function(e,t){var i=this.blockList[e],n=Object.assign({},i.items[t]),a={appInfo:n.game,notUseH5:!0},s=n.game||n.recommend_category||n.platform_rank_board,o=Za(i),r=o.iContentType,c=o.iContentID,l=this.allReportItems[n._absIndex];console.log("onclickGameItem extra",ts(i));var u=ts(i),p={labelname:(s.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:s.score,friendnum:s.friend_play_desc};u&&(p=Object.assign(p,u)),console.log("ext",p);var d={sGameId:s.appid||"",iSceneId:10,iUIArea:Xa(i.search_type),iPositionId:t+1,iActionId:71,iContentType:r,iContentID:c,SearchId:this.searchId,iTime:l&&l.startTime?Date.now()-l.startTime:0,sExternInfo:JSON.stringify(p)};es(d),this.onClickItem(e,t,a)}},{key:"onClickBanner",value:function(e,t){var i=this.blockList[e],n=Object.assign({},i.items[t]),a=n.ext.brand.banner,s={page:V.makeWeAppPathFromDeveloper(a.wxa_path),userName:n.userName,appVersion:n.appVersion,debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:i.type,subType:i.subType||0},o={page:s.page,userName:s.userName,appVersion:s.appVersion,docId:n.docID,clickExtInfo:V.genClickExtForWeAppService(s),searchId:this.searchId,scene:L.scene,pos:1,subScene:V.customSubScene(this.searchId,n.docID),debugMode:0};V.openWeAppPage(o),Je.clickReport(this.allReportItems[a._absIndex]);var r={scene:L.scene,searchid:this.searchId,businesstype:i.type||16781312,docid:o.docId,docpos:o.pos,typepos:e+1,requestid:this.requestId,ishomepage:0,timestamp:Date.now(),expand1:"",suggestionid:"",clicktype:0,sceneactiontype:this.$store.state.sceneActionType,h5version:"",expand2:"{}",clicksource:0,query:L.query,resulttype:0,weapph5version:L.version,sessionid:L.sessionId,resultsubtype:213};console.log("reportFTSRealTime click",r),Je.reportFTSRealTime(r)}},{key:"onClickItem",value:function(e,t,i){var n=this.blockList[e],a=Object.assign({},n.items[t]),s=i&&i.appInfo&&Object.assign({},i.appInfo)||a.appInfo||a.app_info||a,o=i&&i._absIndex||a._absIndex;console.log("click item",a,s,i),i&&i.mainPage&&(s.path="");var r,c={page:V.makeWeAppPathFromDeveloper(s.path)||"",userName:s.userName||s.username||"",appVersion:s.appVersion||s.app_version||0,docId:s.docID||s.docid||"",debugMode:i&&i.debugMode||0,clickId:(new Date).getTime(),h5Version:L.version,businessType:n.type||0,subType:n.subType||0},u={page:c.page,userName:c.userName,appVersion:c.appVersion,docId:c.docId,clickExtInfo:V.genClickExtForWeAppService(c),searchId:this.searchId,scene:L.scene,pos:t+1,subScene:V.customSubScene(this.searchId,c.docId),debugMode:i&&i.debugMode||0};console.log("onClickItem jump data",u),this.checkIsGameBox(n)&&L.isSupportOpenH5SubSearch&&!i.notUseH5?Is(a,this.query,this.searchId,n.display_type,n.search_type):V.openWeAppPage(u),r=!a.button_search_buffer||i&&i.mainPage?this.allReportItems[o]:Object(l["a"])({},this.allReportItems[o],{searchBuffer:a.button_search_buffer}),Je.clickReport(r),console.log("onClickItem report",JSON.parse(JSON.stringify(r)));var p={scene:L.scene,searchid:this.searchId,businesstype:n.type||16781312,docid:u.docId,docpos:u.pos,typepos:e+1,requestid:this.requestId,ishomepage:0,timestamp:Date.now(),expand1:"",suggestionid:"",clicktype:0,sceneactiontype:this.$store.state.sceneActionType,h5version:"",expand2:"{}",clicksource:0,query:L.query,resulttype:0,weapph5version:L.version,sessionid:L.sessionId,resultsubtype:n.subType||213};console.log("reportFTSRealTime click",p),Je.reportFTSRealTime(p)}},{key:"onClickProvider",value:function(e,t,i,n){this.curProviderParentItem&&(i=this.curProviderParentItem.blockIdx,t=this.curProviderParentItem.itemIdx);var a=this.blockList[i],s=a.items[t],o=e.app_button_info||e.app_info||e,r={page:V.makeWeAppPathFromDeveloper(o.path),userName:o.userName||o.username,appVersion:o.appVersion||o.app_version,docId:o.docID||o.docid,debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:a.type,subType:a.subType||0},c={page:r.page,userName:r.userName,appVersion:r.appVersion,docId:r.docId,clickExtInfo:V.genClickExtForWeAppService(r),searchId:this.searchId,scene:L.scene,pos:t+1,subScene:V.customSubScene(this.searchId,r.docId),debugMode:0};V.openWeAppPage(c),this.closeProviderSelector();var u=Object(l["a"])({},this.allReportItems[s._absIndex],{searchBuffer:e.button_search_buffer||e.searchBuffer||e.search_buffer||""});if(console.log("onClickProvider reportProviderData",u),Je.clickReport(u),n){var p=this.allReportItems[s._absIndex];Je.clickReport(p),console.log("onClickProvider reportItemData",p)}var d={scene:L.scene,searchid:this.searchId,businesstype:a.type||16781312,docid:c.docId,docpos:c.pos,typepos:i+1,requestid:this.requestId,ishomepage:0,timestamp:Date.now(),expand1:"",suggestionid:"",clicktype:0,sceneactiontype:this.$store.state.sceneActionType,h5version:"",expand2:"{}",clicksource:0,query:L.query,resulttype:0,weapph5version:L.version,sessionid:L.sessionId,resultsubtype:a.subType||213};console.log("reportFTSRealTime click",d),Je.reportFTSRealTime(d)}},{key:"onClickWikiSubItem",value:function(e,t,i){var n=this.blockList[e],a=n.items[t],s=a.sub_items?a.sub_items[i]:a.ext.wiki.button_list[i],o=s.app_info||s,r={page:V.makeWeAppPathFromDeveloper(o.path),userName:o.userName||o.username,appVersion:o.appVersion||o.app_version,docId:o.docID||o.docid||"",debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:n.type,subType:n.subType||0},c={page:r.page,userName:r.userName,appVersion:r.appVersion,docId:r.docId,clickExtInfo:V.genClickExtForWeAppService(r),searchId:this.searchId,scene:L.scene,pos:i+1,subScene:V.customSubScene(this.searchId,r.docId),debugMode:0};V.openWeAppPage(c),Je.clickReport(this.allReportItems[s._absIndex])}},{key:"onClickListProduct",value:function(e,t,i){var n=this.blockList[e],a=n.items[t],s=a.ext.brand.product_list[i],o={page:V.makeWeAppPathFromDeveloper(s.wxa_path),userName:a.userName,appVersion:a.appVersion,debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:n.type,subType:n.subType||0},r={page:o.page,userName:o.userName,appVersion:o.appVersion,docId:a.docID,clickExtInfo:V.genClickExtForWeAppService(o),searchId:this.searchId,scene:L.scene,pos:i+1,subScene:V.customSubScene(this.searchId,a.docID),debugMode:0};V.openWeAppPage(r),Je.clickReport(this.allReportItems[s._absIndex]);var c={scene:L.scene,searchid:this.searchId,businesstype:n.type||16781312,docid:r.docId,docpos:r.pos,typepos:e+1,requestid:this.requestId,ishomepage:0,timestamp:Date.now(),expand1:"",suggestionid:"",clicktype:0,sceneactiontype:this.$store.state.sceneActionType,h5version:"",expand2:"{}",clicksource:0,query:L.query,resulttype:0,weapph5version:L.version,sessionid:L.sessionId,resultsubtype:213};console.log("reportFTSRealTime click",c),Je.reportFTSRealTime(c)}},{key:"onClickGameRelatedSearch",value:function(e,t){var i=this.blockList[e],n=Object.assign({},i.items[t]),a=this.allReportItems[n._absIndex],s=Za(i),o=s.iContentType,r=s.iContentID;es({iSceneId:10,iUIArea:Xa(i.search_type),iPositionId:t+1,iActionId:40,iContentType:o,iContentID:r,SearchId:this.searchId,iTime:a&&a.startTime?Date.now()-a.startTime:0,sExternInfo:JSON.stringify({sortname:n.title||""})}),this.onRelatedSearch(e,t)}},{key:"onRelatedSearch",value:function(e,t){var i=this.blockList[e].items[t],n=i.related_query||i.title;Je.clickReport(this.allReportItems[i._absIndex]),H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:n,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.sugIdForReport="",this.$store.commit("updateState",{query:n,tapSearchInfo:{id:"",prefix:"",expand:"",query:n,buffer:null,type:L.SUG_CLICK_TYPE_RELATED,pos:t},sugInfo:null,sceneActionType:L.SCENE_ACTION_TYPE_HISTORY}),this.reloadPage()}},{key:"resetRequestId",value:function(e){L.requestId=this.requestId=e?""+ +new Date+Math.floor(1e5*Math.random()):""}},{key:"checkIsGameBox",value:function(e){return e.display_type===this.BOX_DISPLAY_TYPE.GAME_RECOMMENT||e.display_type===this.BOX_DISPLAY_TYPE.GAME_FRIEND_HOT_PLAY||e.display_type===this.BOX_DISPLAY_TYPE.GAME_LADERBOARD||e.display_type===this.BOX_DISPLAY_TYPE.GAME_RELEATED||e.display_type===this.BOX_DISPLAY_TYPE.GAME_CATEGORY_RECOMMEND}},{key:"goGameMore",value:function(e){console.log("invoke goGameMore",this.query,this.searchId,e.display_type);e.display_type;var t=Za(e),i=t.iContentType,n=t.iContentID,a={iSceneId:10,iUIArea:Xa(e.search_type),iPositionId:21,iActionId:40,iContentType:i,iContentID:n,SearchId:this.searchId,iTime:Date.now()-e.startTime},s=ts(e);s&&(a.sExternInfo=JSON.stringify(s)),es(a);var o=e.moreAction||e.more_action||{};o.UIArea=Xa(e.search_type),Is(o,this.query,this.searchId,e.display_type,e.search_type)}},{key:"toSubSearch",value:function(e,t,i){var n=String(Date.now()),a=V.appendQueryObject(t.path,{uin:L.uin,blockType:i&&i.type||"",blockSubType:i&&i.subType||"",displayType:i&&i.display_type||""}),s=a.split("?").slice(1).join(""),o=P.a.parse(s)||{};console.log("subSearchParamsStr",s),console.log("urlOptions",o);var r=parseInt(o.subType)||1,c=o.searchid||Je.guid(),l={subQuery:e,subSearchParams:{blockType:Number(o.blockType||0),blockSubType:Number(o.blockSubType||0),searchId:c,latitude:parseFloat(o.latitude||0),longitude:parseFloat(o.longitude||0),searchScene:o.newSearchScene||"",scene:parseInt(o.searchScene)||0,source:parseInt(o.source)||0,isHideSearchBar:"1"===String(o.isSpecialZone)||1001===r,extBuffer:o.extBuf||"",businessType:o.businessType||"",displayType:i&&i.display_type||"",subType:r,subSysType:parseInt(o.subSysType)||1,subTitle:o.subTitle||"",h5version:o.h5version||L.version||0,sessionId:o.sessionId||"",qHighlight:o.qhighlight||"",cookie:L.cookieStr||""}};if(L.isDevelop)console.log("subSearchInfo",l,encodeURIComponent(JSON.stringify({subSearchInfo:l}))),this.$store.commit("updateState",l),L.isSub=!0,this.$router.replace({name:u.ResultSub.name});else if(L.isSupportOpenH5SubSearch&&!o.useApp)console.log("subSearchInfo",l,encodeURIComponent(JSON.stringify({subSearchInfo:l}))),V.openSearchWebView({actionType:3,extParams:encodeURIComponent(JSON.stringify({subSearchInfo:l})),type:262208,query:e,scene:L.scene,hideSearchBar:l.subSearchParams.isHideSearchBar,nativeConfig:{title:decodeURIComponent(o.subTitle||"").substr(0,10)||e}});else{var p={page:a,userName:t.username,searchId:this.searchId,scene:L.scene,appVersion:t.appVersion||t.app_version||0,debugMode:L.isRelease?0:2,clickExtInfo:V.genClickExtForWeAppService({h5Version:L.version,clickId:n,businessType:i&&i.type||"",subType:i&&i.subType||0,isClickMore:!0}),subScene:V.genWeAppSubScene({clickId:n,type:i&&i.type||"",subType:i&&i.subType||""})};V.openWeAppPage(p)}}},{key:"onClickMore",value:function(e){if(this.checkIsGameBox(e))return this.goGameMore(e),!1;this.toSubSearch(this.query,e.moreAction||e.more_action,e)}},{key:"onDefaultProviderChange",value:function(e,t){}},{key:"openProviderSelector",value:function(e,t,i){this.curProviderParentComp=e.comp,this.providerList=e.list,this.providerSelectorTitle=e.title,this.providerNeedRemember=Boolean(e.needRemember),this.curProviderParentItem={itemIdx:t,blockIdx:i};var n=this.blockList[i],a=Object.assign({},n.items[t]),s=this.allReportItems[a._absIndex];console.log("openProviderSelector reportData",s),Je.clickReport(s)}},{key:"closeProviderSelector",value:function(){this.providerList=[],this.providerNeedRemember=!1,this.providerSelectorTitle="",this.curProviderParentItem=null,this.curProviderParentComp&&this.curProviderParentComp.resetStatus()}},{key:"query",get:function(){return this.$store.state.query}},{key:"tapSearchInfo",get:function(){return this.$store.state.tapSearchInfo}},{key:"hotTopicList",get:function(){return this.$store.state.hotTopicList}},{key:"sugInfo",get:function(){return this.$store.state.sugInfo}}]),t}(re["c"]);As=Object(oe["a"])([Object(re["a"])({components:{GoodsItem:_t,VideoItem:ra,VideoItemOld:wt,MovieItem:jt,JumpItem:ea,CommentItem:Bt,ServiceItem:zt,AppBannerItem:ii,AppHomepageItem:li,AppGameItem:fi,AppOfficialItem:Si,AppContentItem:Ei,AppSmallItem:Mi,RelatedItem:$i,RelatedItemOld:Ji,WikiImageItem:sn,WikiRichItem:dn,WikiItem:bn,TopicItem:Te,ServiceMultipleItem:Cn,ServiceSingleItem:Pn,CarSeriesItem:Wn,WeiBo:Qn,ArticleItem:ma,ImageItem:Ia,ImageView:fe,ProviderSelector:Ta,GameRecommend:qa,GameFriendHotPlay:os,GameCategoryRecommend:ys,GameItem:Ma}})],As);var Ss=As,xs=Ss,ws=(i("96ec"),Object(g["a"])(xs,ut,pt,!1,null,"641370a5",null)),Cs=ws.exports,ks=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"progress-bar-container",class:{hide:e.progressHide}},[n("div",{staticClass:"progress-bar",class:{play:e.pageStart}}),n("div",{staticClass:"progress-bar-complete",class:{play:e.pageEnd},on:{animationend:e.hideProgress}})]),e.itemList.length&&e.subSearchParams?n("div",[!e.subSearchParams.isHideSearchBar&&e.searchTitle?n("div",{staticClass:"search-title content-bg"},[e._v(e._s(e.searchTitle))]):e._e(),n("div",{staticClass:"item-list content-bg sub-search"},[e._l(e.itemList,(function(t,i){return[e.subSearchParams.displayType===e.BOX_DISPLAY_TYPE.ARTICLE?n("article-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e.subSearchParams.displayType===e.BOX_DISPLAY_TYPE.VIDEO?n("video-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e.subSearchParams.displayType===e.BOX_DISPLAY_TYPE.IMAGE?n("image-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e.subSearchParams.displayType===e.BOX_DISPLAY_TYPE.WEIBO?n("wei-bo",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):1===e.subSearchParams.subSysType&&t.isGame?n("app-game-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):1!==e.subSearchParams.subSysType||t.hasBrand?1036===e.subSearchParams.subSysType?n("app-homepage-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):1===e.subSearchParams.subSysType&&t.hasBrand?n("app-official-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)},"jump-to-banner":function(t){return e.onClickBanner(e.blockIdx,i)},"jump-to-product-app":function(t){return e.onClickListProduct(i,t)}}}):5===e.subSearchParams.subSysType?n("goods-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e._e():n("app-homepage-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}),4===e.subSearchParams.subSysType?n("video-item-old",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e._e(),1009===e.subSearchParams.subSysType?n("movie-item",{key:i,attrs:{item:t},on:{"default-provider-change":function(i){return e.onDefaultProviderChange(i,t)},"open-provider-selector":function(t){return e.openProviderSelector(t,i)},"jump-to-app":function(t){return e.onClickProvider(t,i)}}}):e._e(),1010===e.subSearchParams.subSysType?n("comment-item",{key:i,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(i)}}}):e._e()]}))],2),n("div",{staticClass:"page-more-container"},[e.hasMore?n("img",{staticClass:"loading-icon",attrs:{src:i("3f79"),alt:""}}):e._e(),e._v(" "+e._s(e.hasMore?e.pageMoreTips:e.pageNoMoreTips)+" ")])]):e.pageEnd?n("div",{staticClass:"no-data-ctr"},[e._v(" "+e._s(e.pageNoMoreTips)+" ")]):e._e(),n("provider-selector",{attrs:{providerList:e.providerList,searchId:e.searchId,needRemember:e.providerNeedRemember,title:e.providerSelectorTitle},on:{jump:e.onClickProvider,close:e.closeProviderSelector}})],1)},Ts=[],Os={1:"小程序",2:"小程序",4:"视频",5:"商品",1009:"影视作品",1010:"影视评论",1020:"百科",1021:"百科",1022:"服务",1023:"图片",1024:"文档",1027:"视频"},Es=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.itemList=[],e.offset=0,e.searchId="",e.offsetBuffer="",e.latitude=0,e.longitude=0,e.searchScene="",e.firstSearch=!0,e.searchTitle="",e.BOX_DISPLAY_TYPE=L.BOX_DISPLAY_TYPE,e.loading=!1,e.hasMore=!0,e.pageMoreTips=V.L("正在搜索"),e.pageNoMoreTips="",e.pageStart=!1,e.pageEnd=!1,e.progressHide=!1,e.providerNeedRemember=!1,e.providerSelectorTitle="",e.providerList=[],e.curProviderParentItem=null,e.curProviderParentComp=null,e.absIndex=0,e.allReportItems={},e.unExposedList=[],e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("curPage: ResultSub"),this.subSearchParams.subTitle?this.searchTitle=decodeURIComponent(this.subSearchParams.subTitle):this.subSearchParams.displayType?this.searchTitle=Os[this.subSearchParams.displayType]||"":this.searchTitle=Os[this.subSearchParams.subSysType]||"",this.searchId=this.subSearchParams.searchId,this.pageStart=!0,this.getData(),window.addEventListener("scroll",this.onScroll)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.onScroll)}},{key:"onScroll",value:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.scrollHeight-e-document.documentElement.clientHeight;t<50&&this.getData(),this.reportExpose()}},{key:"hideProgress",value:function(){this.progressHide=!0}},{key:"reloadPage",value:function(){var e=this;this.itemList=[],this.offset=0,this.searchId="",this.offsetBuffer="",this.loading=!1,this.hasMore=!0,this.pageMoreTips=V.L("正在搜索"),this.pageNoMoreTips="",this.pageStart=!1,this.pageEnd=!1,this.progressHide=!1,this.providerNeedRemember=!1,this.providerSelectorTitle="",this.providerList=[],this.curProviderParentItem=null,this.curProviderParentComp=null,this.absIndex=0,this.allReportItems={},this.unExposedList=[],setTimeout((function(){e.pageStart=!0,e.getData()}),10)}},{key:"getData",value:function(){var e=this;if(!this.loading&&this.hasMore){var t=this.subSearchParams,i={query:this.subQuery.substr(0,100),offset_buf:this.offsetBuffer||"",from_h5:L.isSubFirstIn?1:0,begid:0,longitude:t.longitude,latitude:t.latitude,h5version:t.h5version,subsys_type:t.subSysType,sub_type:t.subType,q_highlight:t.qHighlight,search_id:t.searchId||"",source:parseInt(t.source),scene:parseInt(t.scene)||0,search_scene:parseInt(t.searchScene),session_id:t.sessionId,ext_buf:t.extBuffer||"",business_type:t.businessType||"",cookie:encodeURIComponent(t.cookie||""),client_version:L.clientVersionForHttpReq,device:L.osInfo.device||0,sugid:this.subSugInfo.sugId,prefixsug:this.subSugInfo.prefixSug,sugbuf:this.subSugInfo.sugBuffer,sugtype:this.subSugInfo.sugType,sugpos:this.subSugInfo.sugPosition};console.log("getSearchSubData req: ",i),He.getSearchSubData(i).then((function(t){console.log("getSearchSubData rsp: ",t);var i=t&&t.respBody||null;if(i){var n=i.items||[];n.forEach((function(t){if(t._absIndex=e.absIndex++,t.timestamp&&(t.timestamp=V.formatMsgTime(1e3*t.timestamp)),t.extra_banner&&void 0!==t.extra_banner.type&&(t.isGame=!0),t.extra_json){if(t.ext=JSON.parse(t.extra_json),t.showTagsInfo=t.ext.use_status&&t.ext.use_status.length<=3||t.ext.labels||t.ext.func_labels||t.ext.evaluate||t.game_friend&&(t.game_friend.desc||t.game_friend.icon_url_list&&t.game_friend.icon_url_list.length),t.ext.brand&&(t.hasBrand=!0,(t.ext.brand.product_list||[]).forEach((function(t){t._absIndex=e.absIndex++,e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,t.search_buffer||"")})),t.ext.brand.banner)){var i=t.ext.brand.banner;i._absIndex=e.absIndex++,e.allReportItems[i._absIndex]=i._reportData=e.createReportItem(i._absIndex,i.search_buffer||"")}}else t.ext=null;e.allReportItems[t._absIndex]=t._reportData=e.createReportItem(t._absIndex,t.search_buffer||t.ext&&t.ext.search_buffer||"")})),e.$store.commit("updateState",{defaultProviderUserName:i.movie_provider&&i.movie_provider.username||""}),e.itemList=e.itemList.concat(n),e.offsetBuffer=i.offsetBuf||i.offset_buf,e.hasMore=!0===i.continueFlag,e.pageNoMoreTips=i.nomoreText||V.L("没有更多的搜索结果")}else e.pageNoMoreTips||(e.pageNoMoreTips=V.L("没有更多的搜索结果"));e.$nextTick((function(){e.loading=!1,e.pageEnd=!0,e.setReportDataAfterRender()}))}),(function(){e.pageNoMoreTips||(e.pageNoMoreTips=V.L("没有网络")),e.loading=!1,e.pageEnd=!0})),L.isSubFirstIn=!1,this.loading=!0}}},{key:"createReportItem",value:function(e,t){return{readyExpose:!1,exposed:!1,absIndex:e,searchBuffer:t||"",rectInfo:null,offsetTop:0}}},{key:"setReportDataAfterRender",value:function(){var e=this,t=document.querySelectorAll(".search-item, .search-product"),i=this.allReportItems,n=document.documentElement.scrollTop||document.body.scrollTop;t.forEach((function(t){var a=i[t.getAttribute("data-absidx")];a&&(a.readyExpose||(a.readyExpose=!0,a.offsetTop=t.getBoundingClientRect().top+n,e.unExposedList.push(a)))})),this.reportExpose()}},{key:"reportExpose",value:function(){var e=document.documentElement.scrollTop||document.body.scrollTop,t=e+document.documentElement.clientHeight;if(this.unExposedList.length){var i=[],n=Date.now();this.unExposedList=this.unExposedList.filter((function(e){return!(e.offsetTop<t)||(e.exposed=!0,e.exposureTime=n,i.push(e),!1)})),this.appGameExpose(i),i.length&&Je.exposeReportForSubSearch(i,{searchId:this.subSearchParams.searchId,scene:this.subSearchParams.searchScene,sessionId:this.subSearchParams.sessionId,subType:this.subSearchParams.subType,source:this.subSearchParams.source,h5version:this.subSearchParams.h5version})}}},{key:"appGameExpose",value:function(e){var t=this;e.forEach((function(e){var i=t.itemList[e.absIndex];i&&i.isGame&&Je.reportCommon({log_id:20141,Exposure:1,Click:0,Appid:i.app_info&&i.app_info.appid||i.appid||"",pos:e.absIndex+1,type:i.extra_banner.type||0})}))}},{key:"onClickBanner",value:function(e,t){var i=this.itemList[t],n=i.ext.brand.banner,a={page:V.makeWeAppPathFromDeveloper(n.wxa_path),userName:i.userName,appVersion:i.appVersion,debugMode:0,docId:i.docID||i.docid||"",clickId:(new Date).getTime(),h5Version:this.subSearchParams.h5version,businessType:this.subSearchParams.blockType,subType:this.subSearchParams.blockSubType},s={page:a.page,userName:a.userName,appVersion:a.appVersion,docId:a.docId,clickExtInfo:V.genClickExtForWeAppService(a),searchId:this.subSearchParams.searchId,scene:L.scene,pos:1,subScene:V.customSubScene(this.subSearchParams.searchId,a.docId),debugMode:0};V.openWeAppPage(s),this.reportClick(n)}},{key:"onClickItem",value:function(e){var t=this.itemList[e],i=t.app_info||t,n={page:V.makeWeAppPathFromDeveloper(i.path),userName:i.userName||i.username,appVersion:i.appVersion||i.app_version,debugMode:0,docId:i.docID||i.docid||"",clickId:(new Date).getTime(),h5Version:this.subSearchParams.h5version,businessType:this.subSearchParams.blockType,subType:this.subSearchParams.blockSubType},a={page:n.page,userName:n.userName,appVersion:n.appVersion,docId:n.docId,clickExtInfo:V.genClickExtForWeAppService(n),searchId:this.subSearchParams.searchId,scene:L.scene,pos:e+1,subScene:V.customSubScene(this.subSearchParams.searchId,n.docId),debugMode:0};V.openWeAppPage(a),this.reportClick(t)}},{key:"onClickProvider",value:function(e,t){this.curProviderParentItem&&(t=this.curProviderParentItem.itemIdx);var i=this.itemList[t],n=e.app_info||e,a={page:V.makeWeAppPathFromDeveloper(n.path),userName:n.userName||n.username,appVersion:n.appVersion||n.app_version,debugMode:0,docId:n.docID||n.docid||"",clickId:(new Date).getTime(),h5Version:this.subSearchParams.h5version,businessType:this.subSearchParams.blockType,subType:this.subSearchParams.blockSubType},s={page:a.page,userName:a.userName,appVersion:a.appVersion,docId:a.docId,clickExtInfo:V.genClickExtForWeAppService(a),searchId:this.searchId,scene:L.scene,pos:t+1,subScene:V.customSubScene(this.searchId,a.docId),debugMode:0};V.openWeAppPage(s),this.closeProviderSelector(),this.reportClick(i,{searchBuffer:e.search_buffer||e.searchBuffer||""})}},{key:"onClickListProduct",value:function(e,t){var i=this.itemList[e],n=i.ext.brand.product_list[t],a={page:V.makeWeAppPathFromDeveloper(n.wxa_path),userName:i.userName,appVersion:i.appVersion,debugMode:0,docId:i.docID||i.docid||"",clickId:(new Date).getTime(),h5Version:this.subSearchParams.h5version,businessType:this.subSearchParams.blockType,subType:this.subSearchParams.blockSubType},s={page:a.page,userName:a.userName,appVersion:a.appVersion,docId:a.docId,clickExtInfo:V.genClickExtForWeAppService(a),searchId:this.subSearchParams.searchId,scene:L.scene,pos:t+1,subScene:V.customSubScene(this.subSearchParams.searchId,a.docId),debugMode:0};V.openWeAppPage(s),this.reportClick(n)}},{key:"reportClick",value:function(e,t){var i=this.allReportItems[e._absIndex];i&&(i=Object(l["a"])({},i,{},t||{}),Je.clickReportForSubSearch({searchId:this.subSearchParams.searchId,searchBuffer:i.searchBuffer,index:i.absIndex+1,absIndex:i.absIndex,offsetTop:i.offsetTop,exposureTime:i.exposureTime,sessionId:this.subSearchParams.sessionId,scene:this.subSearchParams.searchScene,source:this.subSearchParams.source,subType:this.subSearchParams.subType,h5version:this.subSearchParams.h5version,clientVersion:L.clientVersionForHttpReq,device:L.osInfo.device}))}},{key:"onDefaultProviderChange",value:function(e,t){}},{key:"openProviderSelector",value:function(e,t){this.curProviderParentComp=e.comp,this.providerList=e.list,this.providerSelectorTitle=e.title,this.providerNeedRemember=Boolean(e.needRemember),this.curProviderParentItem={itemIdx:t}}},{key:"closeProviderSelector",value:function(){this.providerList=[],this.providerNeedRemember=!1,this.providerSelectorTitle="",this.curProviderParentItem=null,this.curProviderParentComp&&this.curProviderParentComp.resetStatus()}},{key:"subQuery",get:function(){return this.$store.state.subQuery}},{key:"subSugInfo",get:function(){return this.$store.state.subSugInfo}},{key:"subSearchParams",get:function(){return this.$store.state.subSearchParams}}]),t}(re["c"]);Es=Object(oe["a"])([Object(re["a"])({components:{AppGameItem:fi,GoodsItem:_t,VideoItemOld:wt,MovieItem:jt,CommentItem:Bt,AppHomepageItem:li,AppOfficialItem:Si,ArticleItem:ma,ImageItem:Ia,VideoItem:ra,WeiBo:Qn,ProviderSelector:Ta}})],Es);var Ls=Es,js=Ls,Ps=(i("0e37"),Object(g["a"])(js,ks,Ts,!1,null,"a37fdfe0",null)),Ds=Ps.exports,Ns=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.suggestionObj?i("div",[e.suggestionObj.instant_items&&e.suggestionObj.instant_items.length?i("div",{staticClass:"app-area content-bg"},[i("div",{staticClass:"app-area-title"},[e._v(e._s(e.usedTitle))]),i("div",{staticClass:"app-area-list"},e._l(e.suggestionObj.instant_items,(function(t,n){return i("app-sug-item",{key:n,attrs:{item:t},on:{"jump-to-app":function(t){return e.onClickItem(n)}}})})),1)]):e._e(),e.suggestionObj.items&&e.suggestionObj.items.length?i("div",{staticClass:"suggestion-list content-bg"},e._l(e.suggestionObj.items,(function(t,n){return i("suggestion-item",{key:n,attrs:{item:t},on:{"sug-search":function(t){return e.onSugSearch(n)},"sug-add":function(t){return e.onSugAdd(n)}}})})),1):e._e()]):e._e()},Rs=[],Ms=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"suggestion-item bg-active",attrs:{role:"button"},on:{click:e.searchSuggestion}},[i("div",{staticClass:"search-icon"}),i("div",{staticClass:"suggestion-content"},[i("p",{staticClass:"display-title"},[e._v(e._s(e.item.word))]),e.item.tagName&&e.item.tagName.length?e._l(e.item.tagName,(function(t,n){return i("p",{key:n,staticClass:"tag-item"},[e._v(e._s(t))])})):e._e()],2),i("div",{staticClass:"add-search-edit",attrs:{role:"button"},on:{click:function(t){return t.stopPropagation(),e.editSuggestionToSearch(t)}}})])},Hs=[],Bs=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"searchSuggestion",value:function(){this.$emit("sug-search")}},{key:"editSuggestionToSearch",value:function(){this.$emit("sug-add")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Bs.prototype,"item",void 0),Bs=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Bs);var Ws=Bs,Us=Ws,qs=(i("480f"),Object(g["a"])(Us,Ms,Hs,!1,null,"840d04ac",null)),Vs=qs.exports,$s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"active",rawName:"v-active",value:!0,expression:"true"}],staticClass:"app-sug-item bg-active search-item",attrs:{role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-thumb-container"},[i("image-view",{staticClass:"app-thumb",attrs:{src:e.item.app_info.icon_url}})],1),i("div",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.app_info.nickname)}}),e.item.is_user_used?i("div",{staticClass:"tag-item"},[e._v("使用过")]):e._e()])},Ys=[],Gs=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"onTapItem",value:function(){this.$emit("jump-to-app")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Gs.prototype,"item",void 0),Gs=Object(oe["a"])([Object(re["a"])({components:{ImageView:fe}})],Gs);var Qs=Gs,Fs=Qs,zs=(i("3a16"),Object(g["a"])(Fs,$s,Ys,!1,null,"15d201f9",null)),Ks=zs.exports,Js=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.suggestionObj=null,e.usedTitle=V.L("使用过的小程序"),e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onQueryChange",value:function(){this.getData()}},{key:"mounted",value:function(){console.log("curPage: Suggestion"),this.getData()}},{key:"onClickItem",value:function(e){var t=this.suggestionObj.instant_items[e],i=t.app_info,n={page:V.makeWeAppPathFromDeveloper(i.path)||"",userName:i.userName||i.username||"",appVersion:i.appVersion||i.app_version||0,docId:i.docID||i.docid||"",debugMode:0,clickId:(new Date).getTime(),h5Version:L.version,businessType:9999,subType:9999},a={page:n.page,userName:n.userName,appVersion:n.appVersion,docId:n.docId,clickExtInfo:V.genClickExtForWeAppService(n),searchId:t.searchid,scene:L.scene,pos:e+1,subScene:V.customSubScene(t.searchid,n.docId),debugMode:0};console.log("onClickItem jump data",a),V.openWeAppPage(a);var s=[];s.push({type:14,pos:e+1,appid:i.appid}),Je.reportAction({ext_info:V.formatReportList(s),searchid:t.searchid})}},{key:"onSugSearch",value:function(e){var t,i=this.suggestionObj.items[e],n=i.word;t=this.sugInfo.id?{id:this.sugInfo.id,prefix:this.sugInfo.prefix,expand:this.sugInfo.expand,query:n,buffer:i.suggestionBuf,type:L.SUG_CLICK_TYPE_SEARCH,pos:e+1}:null,H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:n,docPos:e,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{query:n,tapSearchInfo:t,prefixQuery:[n].concat(this.$store.state.prefixQuery).slice(0,3),sceneActionType:L.SCENE_ACTION_TYPE_NORMAL,actionReportData:{ext_info:V.formatReportList([{type:10,pos:e+1}]),query:n}}),this.$router.replace({name:u.Result.name})}},{key:"onSugAdd",value:function(e){var t,i=this.suggestionObj.items[e],n=i.word;t=this.sugInfo.id?{id:this.sugInfo.id,prefix:this.sugInfo.prefix,expand:this.sugInfo.expand,query:n,buffer:i.suggestionBuf,type:L.SUG_CLICK_TYPE_FILL,pos:e+1}:null,H.invoke(B["a"].methodName.setSearchQuery,{word:n,docPos:e,isInputChange:!0,tagList:[],custom:""}),this.$store.commit("updateState",{query:n,tapSearchInfo:t,prefixQuery:[n].concat(this.$store.state.prefixQuery).slice(0,3),sceneActionType:L.SCENE_ACTION_TYPE_NORMAL})}},{key:"getData",value:function(){var e=this,t={scene:L.scene,version:L.version,query:this.query||"",type:64,isHomePage:0,prefixSug:this.tapSearchInfo?this.tapSearchInfo.prefix:"",sugType:this.tapSearchInfo?this.tapSearchInfo.type:0,requestType:L.SUG_REQUEST_TYPE_NET,sugId:this.sugInfo&&this.sugInfo.id,prefixQuery:this.prefixQuery.slice(1,3),subType:L.subType,isWeAppMore:1};He.getSuggestionData(t).then((function(t){var i,n=t.json&&JSON.parse(t.json)||{};if(console.log("getSuggestionData rsp: ",Object(l["a"])({},t,{json:n})),0==n.ret?(e.suggestionObj=n,i={id:n.suggestionID,prefix:e.query,expand:e.suggestionObj.expand}):(e.suggestionObj=null,i=null),e.$store.commit("updateState",{sugInfo:i}),e.suggestionObj&&e.suggestionObj.items&&e.suggestionObj.items.length){var a=e.suggestionObj.items;Je.reportAction({ext_info:V.formatReportList([{query:a.map((function(e){return e.word||""})).join("////"),type:9}])})}var s=e.suggestionObj&&e.suggestionObj.instant_items||[];e.suggestionObj&&e.suggestionObj.instant_title&&(e.usedTitle=V.L(e.suggestionObj.instant_title)),s.length&&Je.reportAction({ext_info:V.formatReportList([{type:13,query:s.map((function(e){return e.app_info.nickname})).join("////"),appid:s.map((function(e){return e.app_info.appid})).join("|")}])})})),Je.reportAction({ext_info:V.formatReportList([{type:8}]),query:this.query||""})}},{key:"query",get:function(){return this.$store.state.query}},{key:"sugInfo",get:function(){return this.$store.state.sugInfo}},{key:"tapSearchInfo",get:function(){return this.$store.state.tapSearchInfo}},{key:"prefixQuery",get:function(){return this.$store.state.prefixQuery}}]),t}(re["c"]);Object(oe["a"])([Object(re["d"])("query")],Js.prototype,"onQueryChange",null),Js=Object(oe["a"])([Object(re["a"])({components:{SuggestionItem:Vs,AppSugItem:Ks}})],Js);var Xs=Js,Zs=Xs,eo=(i("1037"),Object(g["a"])(Zs,Ns,Rs,!1,null,"20f85e2c",null)),to=eo.exports,io=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.suggestionObj&&e.suggestionObj.items.length?i("div",{staticClass:"suggestion-list content-bg"},e._l(e.suggestionObj.items,(function(t,n){return i("suggestion-item",{key:n,attrs:{item:t},on:{"sug-search":function(t){return e.onSugSearch(n)},"sug-add":function(t){return e.onSugAdd(n)}}})})),1):e._e()])},no=[],ao=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.suggestionObj=null,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onSubQueryChange",value:function(){this.getData()}},{key:"mounted",value:function(){console.log("curPage: SuggestionSub"),this.getData()}},{key:"onSugSearch",value:function(e){var t=this.suggestionObj.items[e],i=t.word;H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:i,docPos:e,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{subQuery:i,subSugInfo:{sugId:this.subSugInfo.sugId,sugType:L.SUB_SUG_TYPE.SUG_TYPE_SUGGESTION_CLICK,prefixSug:this.subQuery,sugBuffer:t.suggestionBuf||"",sugPosition:e+1}}),this.$router.replace({name:u.ResultSub.name})}},{key:"onSugAdd",value:function(e){var t=this.suggestionObj.items[e],i=t.word;H.invoke(B["a"].methodName.setSearchQuery,{word:i,docPos:e,isInputChange:!0,tagList:[],custom:""}),this.$store.commit("updateState",{subQuery:i,subSugInfo:{sugId:this.subSugInfo.sugId,sugType:L.SUB_SUG_TYPE.SUG_TYPE_SUGGESTION_FILL,prefixSug:this.subQuery,sugBuffer:t.suggestionBuf||"",sugPosition:e+1}})}},{key:"getData",value:function(){var e=this,t={scene:L.subScene,device:L.osInfo.device,query:this.subQuery.substring(0,100),subsys_type:this.subSearchParams.subSysType,search_id:this.subSearchParams.searchId,session_id:this.subSearchParams.sessionId,h5version:this.subSearchParams.h5version};console.log("getSuggestionSubData req: ",t),He.getSuggestSubData(t).then((function(t){console.log("getSuggestionSubData rsp: ",t);var i={sugId:"",prefixSug:"",sugType:L.SUB_SUG_TYPE.SUG_TYPE_DEFAULT,sugBuffer:"",sugPosition:0},n=t&&t.respBody||null;if(n){if(n=n.json&&JSON.parse(n.json)||{},!n.data&&n.items&&(n.data=[{items:n.items,type:L.SUG_ITEM_TYPE_WORD}]),0==n.ret&&n.data&&n.data.length&&n.data[0].items&&n.data[0].items[0]){for(var a=n.data,s=[],o=0;o<a.length;o++)a[o].type>0&&a[o].type<=L.SUG_ITEM_TYPE_MAXIMUM&&s.push(a[o]);n.data=s}0==n.ret&&n.data&&0!=n.data.length&&n.data[0].items&&0!=n.data[0].items.length&&n.data[0].items[0]?(e.suggestionObj=n.data[0],i.sugId=n.suggestionID,i.prefixSug=e.subQuery):e.suggestionObj=null}e.$store.commit("updateState",{subSugInfo:i})}))}},{key:"subQuery",get:function(){return this.$store.state.subQuery}},{key:"subSearchParams",get:function(){return this.$store.state.subSearchParams}},{key:"subSugInfo",get:function(){return this.$store.state.subSugInfo}}]),t}(re["c"]);Object(oe["a"])([Object(re["d"])("subQuery")],ao.prototype,"onSubQueryChange",null),ao=Object(oe["a"])([Object(re["a"])({components:{SuggestionItem:Vs}})],ao);var so=ao,oo=so,ro=Object(g["a"])(oo,io,no,!1,null,"0224d8e3",null),co=ro.exports,lo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.reqComplete?i("div",[e.rankList&&e.rankList.length?i("div",[i("div",{staticClass:"rank-title content-bg"},[e._v("热点资讯")]),i("div",{staticClass:"rank-list"},e._l(e.rankList,(function(t,n){return i("div",{key:n,staticClass:"rank-item-container",class:{"content-bg":n%2===1,"gray-bg":n%2===0},attrs:{role:"button"},on:{click:function(t){return e.toSearch(n)}}},[i("div",{staticClass:"rank-item-idx"},[e._v(e._s(n+1))]),i("div",{staticClass:"rank-item-content",domProps:{innerHTML:e._s(t.query)}}),t.is_hot_news?i("div",{staticClass:"rank-item-tag"},[e._v("热点")]):e._e()])})),0)]):i("div",{staticClass:"no-data-ctr"},[e._v("暂无热点资讯")])]):e._e()},uo=[],po=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.rankList=[],e.reqComplete=!1,e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){console.log("curPage: HotNews"),this.getData()}},{key:"reloadPage",value:function(e){this.rankList=[],this.getData()}},{key:"getData",value:function(){var e=this;H.post(B["a"].cgiName.hotNews,{}).then((function(t){console.log("hotNews",t),t.base&&0===t.base.ret&&t.respBody&&t.respBody.query_list&&t.respBody.query_list.length&&(e.rankList=t.respBody.query_list,e.reqComplete=!0)}))}},{key:"toSearch",value:function(e){var t=this.rankList[e];if(t&&t.query){var i={id:"",prefix:"",expand:"",query:t.query,buffer:null,type:L.SUG_CLICK_TYPE_HOT_RANK,pos:e+1};H.invoke(B["a"].methodName.setSearchQuery,{cache:!0,word:t.query,docPos:0,isInputChange:!1,tagList:[],custom:""}),this.$store.commit("updateState",{query:t.query,tapSearchInfo:i,sugInfo:null,sceneActionType:L.SCENE_ACTION_TYPE_HISTORY}),this.$router.replace({name:u.Result.name})}}}]),t}(re["c"]);po=Object(oe["a"])([Object(re["a"])({components:{}})],po);var ho=po,mo=ho,go=(i("17d0"),Object(g["a"])(mo,lo,uo,!1,null,"d291062a",null)),fo=go.exports,vo=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:[e.isWgDarkMode?e.wgDarkModeClass:""]},[i("KScrollView",{ref:"scrollView",staticStyle:{height:"100vh"},attrs:{"scroll-y":"","scroll-with-animation":!0,"lower-threshold":"100"},on:{scrolltolower:e.scrollToLower,scroll:e.onPageScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.game_list,(function(t,n){return i("div",{key:n,staticClass:"rank__item"},[i("game-item",{key:n,staticClass:"game__item-right",class:{border__top:n>0},attrs:{item:t},on:{"jump-to-app":function(i){return e.onClickItem(t,n)}}})],1)})),e.loadingText?i("TextTips",{attrs:{text:e.loadingText}}):e._e(),e.game_list.length&&!e.has_next?i("game-footer"):e._e(),i("PageLoading",{attrs:{show:e.pageError,type:"error",delay:0},on:{retry:e.getData}})],2)])],1)},_o=[],bo=(i("3ca3"),i("ddb0"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-game-item app-item bg-active search-item before-line",attrs:{"data-absidx":e.item._absIndex,role:"button"},on:{click:e.onTapItem}},[i("div",{staticClass:"app-thumb-container"},[i("game-icon",{staticClass:"app-thumb",attrs:{src:e.item.icon_url}})],1),i("div",{staticClass:"app-content"},[i("div",{staticClass:"app-title-container"},[i("p",{staticClass:"app-title",domProps:{innerHTML:e._s(e.item.appname)}}),e.item.is_original_game?i("img",{staticClass:"origin",attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200429/origin.png"}}):e._e()]),i("p",{staticClass:"app-desc",domProps:{innerHTML:e._s(e.item.brief_intro)}}),e.showSub?i("div",{staticClass:"sub-info-container"},[i("div",{staticClass:"sub-info-container-labels"},[i("div",{staticClass:"catagory_tag_outer"},[e.tagList.length?e._l(e.tagList,(function(t,n){return i("span",{key:n,staticClass:"category_tag",class:{app_use_status_self:t.highlight}},[e._v(" "+e._s(t.name)+" ")])})):e._e(),i("span",{staticClass:"score"},[e._v(e._s(e.item.score))]),e.hideFriend?e._e():i("div",{staticClass:"friend_info"},[i("span",{staticClass:"score friend_play_desc"},[e._v(e._s(e.item.friend_play_desc))]),e.item.friend_head_img_url_list?e._l(e.item.friend_head_img_url_list,(function(e,t){return i("img",{key:t,staticClass:"friend_head",attrs:{src:e}})})):e._e()],2),e.hideFriend&&e.item.recent_play_desc?i("div",{staticClass:"friend_info"},[i("span",{staticClass:"score friend_play_desc"},[e._v(e._s(e.item.recent_play_desc))])]):e._e()],2)])]):e._e()])])}),yo=[],Io=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-view",style:{"background-image":"url("+e.path+")"}})},Ao=[],So=function(e){function t(){var e;return Object(te["a"])(this,t),e=Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments)),e.path="",e}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"onSrcChange",value:function(){this.handlePath()}},{key:"mounted",value:function(){this.handlePath()}},{key:"handlePath",value:function(){this.src&&(this.path=this.src||"")}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],So.prototype,"src",void 0),Object(oe["a"])([Object(re["d"])("src")],So.prototype,"onSrcChange",null),So=Object(oe["a"])([re["a"]],So);var xo=So,wo=xo,Co=(i("93ce"),Object(g["a"])(wo,Io,Ao,!1,null,null,null)),ko=Co.exports,To=201;if(!Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram&&!Object({NODE_ENV:"production",BASE_URL:""}).web){var Oo=P.a.parse(window.location.href);To=Oo.scene}console.log("game item scene",To);var Eo=function(e){function t(){return Object(te["a"])(this,t),Object(ne["a"])(this,Object(ae["a"])(t).apply(this,arguments))}return Object(se["a"])(t,e),Object(ie["a"])(t,[{key:"mounted",value:function(){}},{key:"openWeAppPage",value:function(e){var t={userName:e.userName||"",relativeURL:e.page||"",searchId:e.searchId||"",docId:e.docId||"",appVersion:e.appVersion||0,statSessionId:e.sessionId||"",statKeywordId:e.keywordId||"",position:e.pos||0,adBuffer:e.adBuffer||"",clickExtInfo:e.clickExtInfo||"",subScene:e.subScene,scene:e.scene||201,debugMode:e.debugMode,pkgMd5:e.pkgMd5};WeixinJSBridge.invoke("openWeAppPage",t)}},{key:"onTapItem",value:function(){if(!Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram&&!Object({NODE_ENV:"production",BASE_URL:""}).web){var e={userName:this.item.username,scene:To};this.openWeAppPage(e)}this.$emit("jump-to-app")}},{key:"showSub",get:function(){return this.tagList.length||void 0!==this.item.score||this.item.friend_play_desc}},{key:"tagList",get:function(){return this.hideFriend?this.item.recent_play_desc?this.item.tag_list.slice(0,2):this.item.tag_list:this.hasFriend?this.item.tag_list.slice(0,1):this.item.tag_list}},{key:"hasFriend",get:function(){return this.item.friend_play_desc&&this.item.friend_play_desc.length||this.item.friend_head_img_url_list&&this.item.friend_head_img_url_list.length}},{key:"hideFriend",get:function(){return this.item.recent_play_desc||this.item.tag_list&&this.item.tag_list.find((function(e){return 1===e.tag_type}))}}]),t}(re["c"]);Object(oe["a"])([Object(re["b"])()],Eo.prototype,"item",void 0),Eo=Object(oe["a"])([Object(re["a"])({components:{GameIcon:ko}})],Eo);var Lo=Eo,jo=Lo,Po=(i("a807"),Object(g["a"])(jo,bo,yo,!1,null,null,null)),Do=Po.exports,No=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"footer"},[i("div",{staticClass:"footer__owner"},[e.isWgDarkMode?e._e():i("img",{staticClass:"footer__owner-icon",attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200426/game.png"}}),e.isWgDarkMode?i("img",{staticClass:"footer__owner-icon",attrs:{src:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200515/172312/game-dark.png"}}):e._e(),i("div",{staticClass:"footer__owner-name"},[e._v("微信游戏提供结果")])])])},Ro=[],Mo=!1,Ho=[];function Bo(e){e(),Ho.push(e)}var Wo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Mo="dark"===e.theme,Ho.forEach((function(e){return e()}))};function Uo(){if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram){wx.onThemeChange&&wx.onThemeChange((function(e){console.log("onThemeChange",e),Wo(e)}));var e=wx.getSystemInfoSync();Wo(e);var t=wx.getLaunchOptionsSync();t&&t.query&&t.query.darkmode&&(Mo=!0)}else{var i=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){var t=e.matches;Mo=!!t,Ho.forEach((function(e){return e()}))};i.addListener(n),n(i)}-1!==location.search.indexOf("darkmode=1")&&(Mo=!0),-1!==location.search.indexOf("darkmode=0")&&(Mo=!1),console.log("is dark mode ",Mo),console.log("location.search ",location.search.indexOf("darkmode=1"))}Uo();var qo={data:function(){return{isWgDarkMode:Mo,wgDarkModeClass:"wg_dark_mode"}},created:function(){var e=this,t=function(){e.onDarkModeChange&&e.onDarkModeChange()};Bo((function(){e.isWgDarkMode=Mo,t()}))}},Vo=i("69a9"),$o=i.n(Vo),Yo={methods:{$showLoading:function(e){$o.a.showLoading(e)},$hideLoading:function(){$o.a.hideLoading()}}},Go={name:"GameFooter",mixins:[qo,Yo]},Qo=Go,Fo=(i("b207"),Object(g["a"])(Qo,No,Ro,!1,null,null,null)),zo=Fo.exports,Ko=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(i,n){e(Object.assign(t,{success:i,fail:n}))}))}},Jo={};if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram){var Xo=i("cd53").default,Zo={appid:"wxc98889eca359c1e5",app_name:"微信小游戏",weapp_type:12,expiredLoginCodeMap:[]};Xo.prepare(Jo,Zo),Jo.requestFunc=Ko(Jo.request)}else{var er,tr=i("bc3a"),ir="";Jo.requestFunc=function(e){if(!er){var t=P.a.parse(window.location.href);if(t.extParams){var i=JSON.parse(t.extParams);er=i.auth||{},ir="?uin=".concat(er.uin,"&key=").concat(er.key,"&pass_ticket=").concat(er.passticket)}else er={},ir=""}return Object({NODE_ENV:"production",BASE_URL:""}).web&&(ir="?key=d946811c4def65f2a5e890ca9d3ce49061675fce27c74fc35350871651abf78e5b7ae6d4903244c34a018d566b97cc6f674c3a61b1716b80e66167c7ffdb3c07ea9d24c7b5e7781d4b222107fcbfc33b&uin=MTk5Nzk5NDU%3D&pass_ticket=g8pvHaj5NOhVgiPFOMlmJtLF4utHXclmvEuQyS%2B3tBE%3D"),e.url=e.url+ir,tr(e).then((function(e){return e.data}))}}var nr=Jo,ar="https://game.weixin.qq.com";function sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr.requestFunc({url:ar+"/cgi-bin/gamewxagsearchwap/getgamecategory",method:"POST",data:e})}function or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr.requestFunc({url:ar+"/cgi-bin/gamewxagsearchwap/getgamelistbycategory",method:"POST",data:e})}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr.requestFunc({url:ar+"/cgi-bin/gamewxagsearchwap/getrecommendgame",method:"POST",data:e})}function cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr.requestFunc({url:ar+"/cgi-bin/gamewxagsearchwap/getplatformrankboarddetail",method:"POST",data:e})}function lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return nr.requestFunc({url:ar+"/cgi-bin/gamewxagsearchwap/getlaunchedgame",method:"POST",data:e})}var ur=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&"loading"===e.type,expression:"show && type === 'loading'"}],staticClass:"loading-wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"loading-content"},[i("div",{staticClass:"loading-content__icon"})])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.show&&"error"===e.type,expression:"show && type === 'error'"}],staticClass:"error-wrapper",class:{"error-warpper_show":e.isShow}},[i("div",{staticClass:"error-content"},[i("div",{staticClass:"error-content__icon"}),i("div",{staticClass:"error-content__title"},[e._v("加载失败，请检查网络后重试")]),i("div",{staticClass:"error-content__btn",on:{click:function(t){return e.$emit("retry")}}},[e._v("重试")])])])])},pr=[],dr=o["a"].extend({data:function(){return{isShow:!1}},props:{show:{type:Boolean,default:!1},type:{type:String,default:"loading"},delayTime:{type:Number,default:1e3}},watch:{show:function(){console.log("show change ",this.show),this._changeShow()},type:function(){console.log("show type change ",this.type)}},created:function(){this.timer=null,this._changeShow()},mounted:function(){window.addEventListener("wxload",(function(e){return console.log("page1 wxload",e)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("I am in miniprogram"):console.log("I am in Web")},methods:{_changeShow:function(){var e=this;this.timer&&clearTimeout(this.timer),this.show?this.timer=setTimeout((function(){e.isShow=!0}),this.delayTime):this.isShow=!1}},components:{}}),hr=dr,mr=(i("c58b"),Object(g["a"])(hr,ur,pr,!1,null,null,null)),gr=mr.exports,fr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"more-tips",class:{"more-tips_store":"down"===e.type,"more-tips_border":"border"===e.type}},["link"===e.type||"down"===e.type?i("div",{staticClass:"more-tips__link",on:{click:function(t){return t.stopPropagation(),e.clickEvent(t)}}},[e._v(" "+e._s(e.text)),i("span",{staticClass:"arrow"},[e._v(e._s(e.arrowDirection))])]):"middleLine"===e.type?i("div",{staticClass:"more-tips__text"},[e._v(e._s(e.text))]):i("div",{staticClass:"more-tips__text-pure",on:{click:function(t){return t.stopPropagation(),e.clickText(t)}}},[e._v(e._s(e.text))])])])},vr=[],_r={name:"TextTips",data:function(){return{}},props:{type:String,text:String,uiarea:Number,scene:Number,action:Number},mounted:function(){var e=this;this.reporter&&this.reporter.register({vueComponent:this,reportData:{uia:this.uiarea,pid:999,aid:1},needPV:!1,exposeCbk:function(t){e.uiarea&&e.reporter.report({vueComponent:e,reportData:{pid:999,aid:1,op:1}})}})},methods:{clickEvent:function(){this.reporter&&this.reporter.report({vueComponent:this,reportData:{uia:this.uiarea,pid:999,aid:this.action}}),this.$emit("clickEvent")},clickText:function(){this.$emit("click")}},computed:{arrowDirection:function(){return"link"===this.type?"R":"down"===this.type?"D":void 0}}},br=_r,yr=(i("eb19"),Object(g["a"])(br,fr,vr,!1,null,null,null)),Ir=yr.exports,Ar=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ismp?i("wx-scroll-view",{ref:"mp",attrs:{"scroll-x":e.scrollX,"scroll-y":e.scrollY,"scroll-top":e.mpScrollTop,"scroll-left":e.mpScrollLeft,"scroll-into-view":e.mpScrollIntoView,"scroll-with-animation":e.scrollWithAnimation,"upper-threshold":e.upperThreshold,"lower-threshold":e.lowerThreshold},on:{scroll:e.scroll,scrolltoupper:e.mpScrollToUpper,scrolltolower:e.mpScrollToLower}},[i("div",{ref:"content",staticStyle:{height:"100%"}},[e._t("default")],2)]):i("div",{ref:"wrap",on:{touchstart:e.touchstart,touchmove:e.touchmove,touchend:e.touchend}},[i("div",{ref:"main",staticClass:"scroll-view__scroll-inner-wrap",style:{height:"100%",overflowX:e.scrollX?"auto":"hidden",overflowY:e.scrollY?"auto":"hidden"},on:{scroll:e.scroll}},[i("div",{ref:"content",staticStyle:{height:"100%"}},[e._t("default")],2)])])},Sr=[],xr=window.navigator.userAgent,wr=/(iPhone|iPad|iPod|iOS)/i.test(xr),Cr=/MSDK\/[\d\.]{1,}?i/i.test(xr),kr=/(Android)/i.test(xr),Tr=/MSDK\/[\d\.]{1,}?a/i.test(xr),Or={isiOS:wr||Cr,isAndroid:kr||Tr},Er="function"===typeof Page&&"function"===typeof Component;function Lr(e,t,i){try{t=t||"&",i=i||"=";var n=[];for(var a in e)n.push(a+i+e[a]);return n.join(t)}catch(s){alert(s.message)}}var jr=function(){console.log("none")};function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jr;if(wx.navigateToMiniProgram&&e){var i={appId:e,envVersion:"release",referAppid:"wxc98889eca359c1e5",targetAppId:e,referrerAppId:"wxc98889eca359c1e5",complete:t};wx.navigateToMiniProgram(i)}else wx.showModal({title:"版本不支持",content:"请升级最新版微信后打开",showCancel:!1})}function Dr(e,t,i){var n,a=null;return function(){for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];var c=+new Date;clearTimeout(a),n||(n=c),c-n>=i?(e.apply(this,o),n=c):a=setTimeout((function(){e.apply(this,o)}),t)}}function Nr(e){return new Promise((function(t){Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?e.$$getBoundingClientRect().then(t):t(e.getBoundingClientRect())}))}var Rr=Or,Mr={name:"KScrollView",props:{scrollX:{type:Boolean,default:!1},scrollY:{type:Boolean,default:!1},enableFlex:{type:Boolean,default:!1},upperThreshold:{type:String,default:"50px"},lowerThreshold:{type:String,default:"50px"},scrollTop:{type:String,default:"0px"},scrollLeft:{type:String,default:"0px"},scrollIntoView:{type:String,default:""},scrollWithAnimation:{type:Boolean,default:!1},scrollAnchoring:{type:Boolean,default:!1}},data:function(){return{ismp:!!Er,mpScrollLeft:"0px",mpScrollTop:"0px",mpScrollIntoView:""}},watch:{scrollX:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._checkUpperLower()},scrollY:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._checkUpperLower()},upperThreshold:function(e){var t=this.convertPosVal(e);this._upperThreshold=t,this._checkUpperLower()},lowerThreshold:function(e){var t=this.convertPosVal(e);this._lowerThreshold=t,this._checkUpperLower()},scrollTop:function(e){var t=this.convertPosVal(e);this.scrollTo(t,"y")},scrollLeft:function(e){var t=this.convertPosVal(e);this.scrollTo(t,"x")},scrollIntoView:function(e){if(!Er)if(/^[_a-zA-Z][-_a-zA-Z0-9:]*$/.test(e))if(Er)this.mpScrollIntoView=e;else{var t=this.$refs.main.getBoundingClientRect(),i=this.$refs.content.querySelector("#"+e).getBoundingClientRect();this.scrollX&&this.scrollTo(this.$refs.main.scrollLeft+i.left-t.left,"x"),this.scrollY&&this.scrollTo(this.$refs.main.scrollTop+i.top-t.top,"y")}else console.info('[KScrollView] "'.concat(e,'" is not a valid id.'))}},mounted:function(){this._upperLowerStatusX="initial",this._upperLowerStatusY="initial",this._upperThreshold=50,this._lowerThreshold=50;var e=this.convertPosVal(this.scrollLeft);this.scrollTo(e,"x");var t=this.convertPosVal(this.scrollTop);this.scrollTo(t,"y")},methods:{convertPosVal:function(e){if("number"===typeof e)return e;var t=String(e);if(/[-.0-9]+(px)?/.test(t))return Er?t:parseFloat(t,10);console.error("[KScrollView] Positions only accept px values.")},scrollTo:function(e,t){var i=this;if(Er)"x"===t?this.mpScrollLeft=e:"y"===t&&(this.mpScrollTop=e);else{var n=this.$refs.main;if(!this.scrollWithAnimation)return this._animationState=void 0,void("x"===t?n.scrollLeft=e:"y"===t&&(n.scrollTop=e));e<0?e=0:"x"===t&&e>n.scrollWidth-n.clientWidth?e=n.scrollWidth-n.clientWidth:"y"===t&&e>n.scrollHeight-n.clientHeight&&(e=n.scrollHeight-n.clientHeight);var a=e-("x"===t?n.scrollLeft:n.scrollTop),s=this._animationState={a:2*a/9e4,endTs:Date.now()+300},o=function a(){var o=Date.now();if(i._animationState===s)if(o>=s.endTs)"x"===t?n.scrollLeft=e:"y"===t&&(n.scrollTop=e),i._animationState=void 0;else{var r=s.endTs-o,c=.5*s.a*r*r;"x"===t?n.scrollLeft=e-c:"y"===t&&(n.scrollTop=e-c),window.requestAnimationFrame(a)}};window.requestAnimationFrame(o)}},mpScrollToUpper:function(){this.$emit("scrolltoupper")},mpScrollToLower:function(){this.$emit("scrolltolower")},scroll:function(e){var t=this.$refs.main,i=Er?e.detail:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth};this.$emit("scroll",{detail:i}),this._checkUpperLower()},_checkUpperLower:function(){var e=this;Er||this._upperLowerScheduled||(this._upperLowerScheduled=function(){e._upperLowerScheduled=null;var t=e.$refs.main;e._checkUpperLowerWithOffset(t)},this._upperLowerChecking||this._upperLowerScheduled())},_checkUpperLowerWithOffset:function(e){e.scrollTop<=this._upperThreshold?("initial"!==this._upperLowerStatusY&&"upper"!==this._upperLowerStatusY&&this.$emit("scrolltoupper"),this._upperLowerStatusY="upper"):e.scrollTop>=e.scrollHeight-e.clientHeight-this._lowerThreshold?("initial"!==this._upperLowerStatusY&&"lower"!==this._upperLowerStatusY&&this.$emit("scrolltolower"),this._upperLowerStatusY="lower"):this._upperLowerStatusY="center",e.scrollLeft<=this._upperThreshold?("initial"!==this._upperLowerStatusX&&"upper"!==this._upperLowerStatusX&&this.$emit("scrolltoupper"),this._upperLowerStatusX="upper"):e.scrollLeft>=e.scrollWidth-e.clientWidth-this._lowerThreshold?("initial"!==this._upperLowerStatusX&&"lower"!==this._upperLowerStatusX&&this.$emit("scrolltolower"),this._upperLowerStatusX="lower"):this._upperLowerStatusX="center"},touchstart:function(e){if(this._animationState=void 0,this._x=e.touches[0].clientX,this._y=e.touches[0].clientY,this._noBubble=null,this._preventDefault=!1,this.scrollY){var t=this.$refs.main||{};this._y,t.scrollTop,t.scrollHeight,t.offsetHeight}if(this.scrollX){var i=this.$refs.main||{},n=(this._x,i.scrollLeft),a=void 0===n?0:n,s=i.scrollWidth,o=void 0===s?0:s,r=i.offsetWidth,c=void 0===r?0:r;a<=0&&1,a+c>=o&&o-c-1}},touchend:function(){this._noBubble=!1},_preventDefault:function(e){e.preventDefault()},touchmove:function(e){var t=e.touches[0],i=t.clientY,n=t.clientX,a=i-this._y,s=n-this._x,o=this.$refs.main;if(Rr.isiOS&&this.scrollY&&Math.abs(s)<Math.abs(a)){var r=o.scrollTop,c=o.scrollHeight-o.offsetHeight;if(0===r&&a>=0)return e.preventDefault();if(r===c&&a<=0)return e.preventDefault()}if(Rr.isiOS&&this.scrollX&&Math.abs(s)>Math.abs(a)){var l=o.scrollLeft,u=o.scrollWidth-o.offsetWidth;if(0===l&&s>=0)return e.preventDefault();if(l===u&&s<=0)return e.preventDefault()}null===this._noBubble&&this.scrollY&&(Math.abs(this._y-i)/Math.abs(this._x-n)>1?this._noBubble=!0:this._noBubble=!1),null===this._noBubble&&this.scrollX&&(Math.abs(this._x-n)/Math.abs(this._y-i)>1?this._noBubble=!0:this._noBubble=!1),this._noBubble&&e.stopPropagation(),this._preventDefault&&e.preventDefault()}}},Hr=Mr,Br=(i("2acd"),Object(g["a"])(Hr,Ar,Sr,!1,null,null,null)),Wr=Br.exports,Ur=i("8ef7"),qr=i.n(Ur);function Vr(e){return e.AllPath||e.SourceID||""}function $r(e,t,i,n){for(var a=[],s=0,o=i.length;s<o;s++){var r=i[s],c={SceneID:qr.a.intNumber(r.iSceneId||0),GameID:encodeURIComponent(r.sGameId||""),SourceID:qr.a.intNumber(r.iSourceID||t.SourceID||0),UIArea:qr.a.intNumber(r.iUIArea||0),PositionID:qr.a.intNumber(r.iPositionId||0),EntryScene:qr.a.intNumber(r.iEntryScene||t.EntryScene||0),SearchId:encodeURIComponent(r.iSearchId||t.SearchId||""),SearchTimeStamp:qr.a.intNumber(r.iSearchTimeStamp||t.SearchTimeStamp||0),UnitId:encodeURIComponent(r.iUnitId||""),Query:encodeURIComponent(r.iQuery||t.Query||""),ActionID:qr.a.intNumber(r.iActionId||0),ActionStatus:encodeURIComponent(r.sActionStatus||""),ConnectType:encodeURIComponent(r.sConnectType||e.networktype||""),DeviceBrand:encodeURIComponent(r.sDeviceBrand||e.brand),DeviceModel:encodeURIComponent(r.sDeviceModel||e.model),OpType:qr.a.intNumber(r.iOpType||0),sdkVersion:qr.a.intNumber(r.sdkVersion||e.sdkVersion),allpath:encodeURIComponent(r.sAllpath||Vr(t,r)||""),URL:encodeURIComponent(r.sURL||""),LogType:qr.a.intNumber(r.iLogType||0),errType:encodeURIComponent(r.sErrType||""),ContentType:qr.a.intNumber(r.iContentType||0),ContentID:qr.a.intNumber(r.iContentID||0),ActID:qr.a.intNumber(r.iActID||0),ExpID:qr.a.intNumber(r.iExpID||0),Time:qr.a.intNumber(r.iTime||0),ExternInfo:encodeURIComponent(r.sExternInfo||e.sExternInfo||"")};a.push(c)}nr.requestFunc({url:"https://game.weixin.qq.com/cgi-bin/gamewxagsearchwap/searchstat",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:JSON.stringify({batchdata:a}),success:function(){n&&n("success")},fail:function(){n&&n("fail")}})}function Yr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;Array.isArray(e)||(e=[e]),qr.a.getReportObj((function(n){$r(n,t,e,i)}))}var Gr=function(){function e(){Object(te["a"])(this,e),this.hasSetBase=!1,this.base={}}return Object(ie["a"])(e,[{key:"setBase",value:function(e){Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?this.base=Object(l["a"])({},this.base,{},e,{},wx.getLaunchOptionsSync().query||{}):this.base=Object(l["a"])({},this.base,{},e),this.hasSetBase=!0}},{key:"send",value:function(e,t){this.hasSetBase||this.setBase(),Yr(e,this.base,t)}}]),e}(),Qr=new Gr,Fr={name:"Recommend",components:{GameItem:Do,PageLoading:gr,KScrollView:Wr,TextTips:Ir,"game-footer":zo},mixins:[qo,Yo],data:function(){return{offset:0,per_page:20,has_next:!0,next_offset:0,game_list:[],pageError:!1,pageLoad:!1,showToast:!1,pageLoading:!1,unExposeList:[],totalHeight:0}},computed:{loadingText:function(){return this.pageError?"":this.pageLoading?"加载中...":this.pageLoad&&!this.game_list.length?"暂无数据":this.pageLoad&&this.game_list.length&&!this.has_next?"":this.pageLoad&&this.game_list.length&&this.has_next?"上拉加载更多":""}},mounted:function(){console.log(this.$router),Qr.setBase(),Qr.send({iSceneId:11,iUIArea:0,iPositionId:0,iActionId:1,iOpType:1}),this.getBoundingRect(),this.getData()},methods:{getBoundingRect:function(){var e=this,t=document.querySelector(".scroll-view-inner-wrap");return new Promise((function(i){if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram)t.$$getBoundingClientRect().then((function(t){i(t),console.log("1 rect ",t),e.scrollViewHeight=window.innerHeight-t.top+"px",console.log("1 scrollViewHeight",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px","")),console.log(e.scrollHeight)}));else{var n=t.getBoundingClientRect();console.log("2 rect ",n),e.scrollViewHeight=window.innerHeight-n.top+"px",console.log("2 scrollViewHeight ",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px",""))}}))},onClickItem:function(e,t){Qr.send({sGameId:e.appid,iSceneId:11,iUIArea:1101,iPositionId:t+1>200?200:t+1,iActionId:71,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram&&Pr(e.appid,(function(e){console.log(e)}))},scrollToLower:function(){this.getData()},setReportDataAfterRender:function(){var e=this,t=this.$refs.scrollInner,i=(new Date,t&&t.querySelectorAll(".rank__item")||[]);i=Array.prototype.slice.call(i);var n=(this.pageScrollTop||0)+this.scrollHeight;if(i&&i.length){var a=i.map((function(t,i){return e.game_list[i].exposeData?void 0:(e.game_list[i].exposeData={},Nr(t).then((function(e){return e.listIndex=i,e})))})).filter((function(e){return e})),s=new Date;this.reportPromise=Promise.all(a).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.game_list[t.listIndex].exposeData={top:e.totalHeight,height:t.height},e.totalHeight+=t.height,e.unExposeList.push(e.game_list[t.listIndex])})),console.log("time cost",new Date-s,a.length,e.totalHeight),e.reportExpose(n)}))}},reportExpose:function(e){var t=e||(this.pageScrollTop||0)+this.scrollHeight,i=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.top<t)||(i.push(e),!1)}));var n=i.map((function(e){return{sGameId:e.appid,iSceneId:11,iUIArea:1101,iPositionId:e.iPositionId>200?200:e.iPositionId,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}}));console.log("unExposeList length",this.unExposeList.length,"reportList length",n.length),n.length&&Qr.send(n)},onPageScroll:function(e){this.pageScrollTop=e.detail.scrollTop,this.reportExpose()},getData:function(){var e=this;this.has_next&&(this.pageLoading?console.error("loading now!!!"):(this.pageLoading=!0,rr({offset:this.offset,per_page:this.per_page}).then((function(t){if(console.log("getData res",t),e.pageLoad=!0,e.pageLoading=!1,0===t.errcode){var i=t.data,n=void 0===i?{}:i,a=n.game_list,s=void 0===a?[]:a;e.game_list=e.game_list.concat(s),e.has_next=n.has_next,e.offset=n.next_offset,e.game_list.length&&!e.has_next&&Qr.send({iSceneId:11,iUIArea:1101,iPositionId:998,iActionId:1,iOpType:1}),e.game_list.forEach((function(e,t){return e.iPositionId=t+1})),e.$nextTick((function(){e.setReportDataAfterRender()}))}else console.log(t.errcode),0===e.offset&&(e.pageError=!0)})).catch((function(t){e.pageLoading=!1,e.pageLoad=!0,console.log("error",t),0===e.offset&&(e.pageError=!0)}))))}}},zr=Fr,Kr=(i("01f8"),Object(g["a"])(zr,vo,_o,!1,null,null,null)),Jr=Kr.exports,Xr=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:[e.isWgDarkMode?e.wgDarkModeClass:""]},[e.pageError?e._e():i("div",[i("NavigationBar",{ref:"navbar",attrs:{list:e.navs,currentId:e.list_type,background:"#ffffff",needExposeReport:!1},on:{changeTab:e.tabChange}}),i("div",{staticClass:"game-store__game-list"},[i("KScrollView",{ref:"scrollView",style:"height: "+e.scrollViewHeight,attrs:{"scroll-y":"","lower-threshold":"100"},on:{scrolltolower:e.scrollToLower,scroll:e.onPageScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.game_list,(function(t,n){return i("div",{key:n,staticClass:"rank__item"},[i("div",{staticClass:"rank__num"},[e._v(e._s(n+1))]),i("game-item",{key:n,staticClass:"game__item-right",class:{border__top:n>0},attrs:{item:t},on:{"jump-to-app":function(i){return e.onClickItem(t,n)}}})],1)})),e.loadingText?i("TextTips",{attrs:{text:e.loadingText}}):e._e(),e.game_list.length&&!e.has_next?i("game-footer"):e._e()],2)])],1)],1),i("PageLoading",{attrs:{show:e.pageError,type:"error",delay:0},on:{retry:e.getData}})],1)},Zr=[],ec=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wxgame-comp-navigation-bar"},[i("div",{staticClass:"scroll-view-wrap"},[i("KScrollView",{ref:"scrollView",staticStyle:{width:"100%"},attrs:{"scroll-x":"","scroll-left":e.scrollLeft,"scroll-with-animation":!0},on:{scroll:e.onScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.list,(function(t,n){return[i("div",{key:n,staticClass:"navigationbar__banner-tab__item banner-tab__item",class:{"banner-tab__item_current":t.navi_id===e.current,"banner-tab__item_icon":"scroll"===e.type&&t.icon},style:{width:"multiple"===e.type?100/e.list.length+"%":""},attrs:{"data-navid":t.navi_id},on:{click:function(i){return i.stopPropagation(),e.changeTab(t)}}},[t.icon?i("i",{staticClass:"banner-tab__icon",style:{"background-image":"url("+t.icon+")"}}):e._e(),i("div",{staticClass:"banner-tab__name",class:{need_bottom_border:t.navi_id===e.current},style:{color:t.navi_id===e.current&&e.color?e.color:""},attrs:{"data-id":t.navi_id,"data-icon":t.icon}},[e._v(e._s(t.navi_name))])])]}))],2)])],1)])},tc=[],ic=(i("a4d3"),i("e01a"),i("d28b"),i("a630"),new Gr);function nc(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);n>=1&&n<=126||n>=65376&&n<=65439?t++:t+=2}return t}var ac=o["a"].extend({name:"navigationBar",data:function(){return{current:0,scrollLeft:"0",tabItemsScrollLeft:[],localList:[],pageScrollLeft:0,unExposeList:[],totalWidth:0,scrollHandler:Dr(this._scrollHandler,50),localQuery:{}}},components:{KScrollView:Wr},props:{needExposeReport:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}},currentId:Number,background:String,color:String,uiarea:{type:Number,default:9311},scene:Number,lv2Name:String},watch:{list:function(e,t){var i=this;this.needExposeReport&&e.length&&(this.localList=this.list.slice(),this.tabItemsScrollLeft=[],e&&t&&e.length!==t.length&&setTimeout((function(){i.getTabItemsRect()}),0),this.$nextTick((function(){i.totalWidth=0,i.setReportDataAfterRender()})),this.current=this.currentId)},current:function(){},currentId:{handler:function(e){var t=this;null!==e&&void 0!==e&&(setTimeout((function(){t.scrollToTab(t.currentId)}),0),this.current=this.currentId)},immediate:!0},color:function(e){var t=document.getElementById("tab_animation_line");t&&(t.children[0].style.backgroundColor=e)}},computed:{type:function(){switch(this.list.length){case 2:return"double";case 3:return"multiple";case 4:var e=this.list[0].icon;if(e){var t=0,i=!0,n=!1,a=void 0;try{for(var s,o=this.list[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var r=s.value;t+=nc(r.navi_name)}}catch(c){n=!0,a=c}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return t>24?"scoll":"multiple"}return"multiple";default:return"scroll"}}},mounted:function(){var e=this;this.current=this.currentId,window.addEventListener("wxload",(function(t){e.localQuery=Object(l["a"])({},t,{},e.$route.query),console.log("page1 wxload",t)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),ic.setBase(Object(l["a"])({},this.localQuery)),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram},methods:{_scrollHandler:function(e){var t=e.detail.scrollLeft;this.pageScrollLeft=t,this.reportExpose()},onScroll:function(e){this.scrollHandler(e)},scrollToTab:function(e){var t=this;this.getTabItemsRect().then((function(){var i=t.tabItemsScrollLeft.find((function(t){return t.navid==e}))||{};t.scrollLeft=i.left+""}))},setReportDataAfterRender:function(){var e=this,t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".banner-tab__item")||[];i=Array.from(i);var n=i.map((function(t,i){return e.localList[i].exposeData?void 0:Nr(t).then((function(e){return e.listIndex=i,e}))})).filter((function(e){return e})),a=new Date;Promise.all(n).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.localList[t.listIndex].exposeData={left:e.totalWidth,width:t.width},e.totalWidth+=t.width,e.unExposeList.push(e.localList[t.listIndex])})),console.log("aaaa time cost",new Date-a,e.totalWidth),e.reportExpose()})).catch((function(e){console.log("err ",e)}))},reportExpose:function(){var e=this;if(this.needExposeReport){var t=this.pageScrollLeft||0,i=window.innerWidth-32,n=t+i,a=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.left<n)||(a.push(e),!1)}));var s=a.map((function(t){var i=e.scene,n=e.uiarea,a=e.lv2Name;return{iSceneId:i,iUIArea:n,iPositionId:202,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({iconname:t.navi_name,subaction:a})}}));console.log("navigation bar unexpose list ",this.unExposeList,"navigation bar expose list ",a),console.log("unExposeList length",this.unExposeList.length,"reportList length",s.length),s.length&&ic.send(s)}},getTabItemsRect:function(){var e=this;if(this.tabItemsScrollLeft&&this.tabItemsScrollLeft.length)return Promise.resolve(this.tabItemsScrollLeft);var t=this.$refs.scrollInner;return Nr(t).then((function(i){for(var n=i.left,a=t&&t.querySelectorAll(".banner-tab__item")||[],s=[],o=function(e){var t=a[e]||{};s.push(new Promise((function(e){Nr(t).then((function(i){e({left:i.left,width:i.width,height:i.height,right:i.right,navid:t.dataset.navid})}))})))},r=a.length-1;r>=0;r--)o(r);return Promise.all(s).then((function(t){var i=t.map((function(e,t){return{navid:e.navid,left:e.left-n}}));return e.tabItemsScrollLeft=i,Promise.resolve(i)}))}))},changeTab:function(e){if(this.$emit("changeTab",e),this.current=e.navi_id,this.needExposeReport){var t=this.uiarea,i=this.scene,n=this.lv2Name;ic.send({iSceneId:i,iUIArea:t,iPositionId:202,iActionId:2,sExternInfo:JSON.stringify({subaction:n,iconname:e.navi_name})})}},updateCurrent:function(e){this.current=e,this.tabAniController&&(console.log("tab anicontroller ",this.tabAniController),this.tabAniController.changeTo(e))},initTabAnimation:function(e,t,i){var n=this;t||(t=e[0].navi_id,this.current=t),this.$refs.tabBar&&this.$refs.tabBar.children.length?setTimeout((function(){n.tabAniController=new TabAnimation({container:n.$refs.tabBar,activeIndex:t}),n.updateCurrent(n.currentId)}),i?50:0):setTimeout((function(){n.initTabAnimation(e,t)}),50)}}}),sc=ac,oc=(i("1e62"),Object(g["a"])(sc,ec,tc,!1,null,null,null)),rc=oc.exports,cc=new Gr,lc={"朋友热玩榜":1,"人气榜":2,"畅销榜":3},uc={name:"LeaderBoard",components:{GameItem:Do,KScrollView:Wr,PageLoading:gr,NavigationBar:rc,TextTips:Ir,"game-footer":zo},mixins:[qo,Yo],data:function(){return{pageclass:"",scrollViewHeight:"100%",scrollHeight:0,list_type:1,unExposeList:[],navs:[{navi_id:1,navi_name:"朋友热玩榜"},{navi_id:3,navi_name:"人气榜"},{navi_id:2,navi_name:"畅销榜"}],offset:0,per_page:20,has_next:!0,next_offset:0,game_list:[],pageError:!1,pageLoad:!1,pageLoading:!1,totalHeight:0}},computed:{curNav:function(){var e=this;return this.navs.find((function(t){return t.navi_id===e.list_type}))||{}},loadingText:function(){return this.pageLoading?"加载中...":this.pageLoad&&!this.game_list.length?"暂无数据":this.pageLoad&&this.game_list.length&&!this.has_next?"":this.pageLoad&&this.game_list.length&&this.has_next?"上拉加载更多":""}},methods:{setReportDataAfterRender:function(){var e=this,t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".rank__item")||[];i=Array.prototype.slice.call(i);var n=(this.pageScrollTop||0)+this.scrollHeight;if(i&&i.length){var a=i.map((function(t,i){return e.game_list[i].exposeData?void 0:(e.game_list[i].exposeData={},Nr(t).then((function(e){return e.listIndex=i,e})))})).filter((function(e){return e})),s=new Date;Promise.all(a).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.game_list[t.listIndex].exposeData={top:e.totalHeight,height:t.height},e.totalHeight+=t.height,e.unExposeList.push(e.game_list[t.listIndex])})),console.log("time cost",new Date-s,e.totalHeight),e.reportExpose(n)}))}},onPageScroll:function(e){var t=e.detail.scrollTop;this.pageScrollTop=t,this.reportExpose()},reportExpose:function(e){var t=this,i=e||(this.pageScrollTop||0)+this.scrollHeight,n=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.top<i)||(n.push(e),!1)}));var a=n.map((function(e){return{sGameId:e.appid,iSceneId:12,iUIArea:1201,iPositionId:e.iPositionId>200?200:e.iPositionId,iActionId:1,iOpType:1,iContentType:25,iContentID:lc[t.curNav.navi_name]||0,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}}));console.log("unExposeList length",this.unExposeList.length,"reportList length",a.length),a.length&&cc.send(a)},onClickItem:function(e,t){cc.send({sGameId:e.appid,iSceneId:12,iUIArea:1201,iPositionId:t+1>200?200:t+1,iActionId:71,iContentType:25,iContentID:lc[this.curNav.navi_name]||0,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}),Pr(e.appid,(function(e){console.log(e)}))},reset:function(){this.offset=0,this.has_next=!0,this.next_offset=0,this.game_list=[],this.pageLoad=!1,this.unExposeList=[],this.totalHeight=0},tabChange:function(e){console.log(e);var t=e.navi_id;this.list_type=t,cc.send({iSceneId:12,iUIArea:1200,iPositionId:1,iActionId:2,iContentType:25,iContentID:lc[e.navi_name]||0}),this.reset(),this.getData()},scrollToLower:function(){console.log("scrollToLower"),this.getData()},getBoundingRect:function(){var e=this,t=document.querySelector(".game-store__game-list");return new Promise((function(i){if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram)t.$$getBoundingClientRect().then((function(t){i(t),console.log("1 rect ",t),e.scrollViewHeight=window.innerHeight-t.top+"px",console.log("1 scrollViewHeight",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px",""))}));else{var n=t.getBoundingClientRect();console.log("2 rect ",n),e.scrollViewHeight=window.innerHeight-n.top+"px",console.log("2 scrollViewHeight ",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px",""))}}))},getData:function(){var e=this;this.pageLoading&&console.error("loading now!!!"),this.has_next&&!this.pageLoading&&(this.pageLoading=!0,cr({list_type:this.list_type,offset:this.offset,per_page:this.per_page}).then((function(t){if(console.log("getData res",t),e.pageLoad=!0,e.pageLoading=!1,0===t.errcode){var i=t.data,n=void 0===i?{}:i,a=n.game_list,s=void 0===a?[]:a,o=n.rank_board_list,r=void 0===o?[]:o;console.log("curNav.navi_name",e.curNav.navi_name),0===e.offset&&s.length&&cc.send({iSceneId:12,iUIArea:1201,iPositionId:0,iActionId:1,iContentType:25,iContentID:lc[e.curNav.navi_name]||0,iOpType:1}),e.game_list=e.game_list.concat(s),e.has_next=n.has_next,e.offset=n.next_offset,e.game_list.length&&!e.has_next&&cc.send({iSceneId:12,iUIArea:1201,iPositionId:998,iActionId:1,iOpType:1,iContentType:25,iContentID:lc[e.curNav.navi_name]||0}),r.length&&(e.navs=r.map((function(e){return e.navi_name=e.title,e.navi_id=e.list_type,e}))),e.game_list.forEach((function(e,t){return e.iPositionId=t+1})),e.$nextTick((function(){e.setReportDataAfterRender()}))}else 0===e.offset&&(e.pageError=!0)})).catch((function(t){e.pageLoad=!0,e.pageLoading=!1,console.log("error",t),0===e.offset&&(e.pageError=!0)})))}},mounted:function(){var e=this;if(console.log("mounted",this.list_type,this.$refs.navbar),cc.setBase(),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram)window.addEventListener("wxload",(function(t){e.list_type=Number(t.list_type||1)})),window.addEventListener("wxready",(function(t){console.log("wxready",e.list_type),setTimeout((function(){console.log("updateCurrent",e.list_type),e.$refs.navbar.updateCurrent(e.list_type)}),100),e.getData()}));else{console.log(111,this.$route);var t=this.$route.query;this.list_type=Number(t.list_type||1),setTimeout((function(){console.log("updateCurrent",e.list_type),e.$refs.navbar.updateCurrent(e.list_type)}),100),this.getData()}this.getBoundingRect(),cc.send({iSceneId:12,iUIArea:0,iPositionId:0,iActionId:1,iOpType:1})}},pc=uc,dc=(i("4e8e"),Object(g["a"])(pc,Xr,Zr,!1,null,null,null)),hc=dc.exports,mc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cnt findgame",class:[e.isDark||e.isWgDarkMode?e.wgDarkModeClass:""]},[i("Category")],1)},gc=[],fc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"category"},[e.pageError?e._e():[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.pageLoading,expression:"!pageLoading"}],staticClass:"nav-side"},[i("NavigationBarSide",{attrs:{iSceneId:14,navs:e.navs,current_id:e.current_nav_id},on:{clickNav:e.clickNav}})],1),i("div",{staticClass:"k-scroll-view-wrap"},[i("KScrollView",{ref:"scrollView",staticClass:"k-scroll-view",staticStyle:{height:"100vh"},attrs:{"scroll-y":"","scroll-top":e.categoryCardScrollTop,"scroll-with-animation":!0},on:{scroll:e.onScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},e._l(e.categoriesLv1,(function(t){return i("CategoryCard",{key:t.id,staticClass:"category-card",attrs:{scene:14,uiarea:t.uiarea,id:t.id,position:t.position_id,categories:t,type:t.type},on:{clickLevel:e.onClickCategory}})})),1)])],1)],i("PageLoading",{attrs:{show:e.showPageLoading,type:e.loadPageType,delay:0},on:{retry:e.loadData}})],2)},vc=[],_c=(i("13d5"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wxgame-comp-navigation-bar-side"},e._l(e.navs,(function(t,n){return i("div",{key:t.id,staticClass:"cell",class:{current:t.id===e.current_id},on:{click:function(i){return e.clickNav(Object.assign({},t,{index:n}))}}},[i("span",[e._v(e._s(t.name))])])})),0)}),bc=[],yc=new Gr,Ic=o["a"].extend({name:"NavigationBarSide",data:function(){return{}},components:{},props:{navs:Array,current_id:Number,iSceneId:Number},mounted:function(){var e=this;window.addEventListener("wxload",(function(t){e._localQuery=Object(l["a"])({},t,{},e.$route.query),console.log("page1 wxload",t)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),yc.setBase(this._localQuery),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("I am in miniprogram"):console.log("I am in Web")},methods:{clickNav:function(e){this.$emit("clickNav",e);var t=e.name,i=0;switch(t){case"推荐":i=1401;break;case"玩法":i=1402;break;case"特色":i=1403;break;case"题材":i=1404;break}this.clickReport(i)},clickReport:function(e){var t=this.iSceneId;yc.send({iSceneId:t,iUIArea:e,iActionId:2,iPositionId:21})}}}),Ac=Ic,Sc=(i("f55e"),Object(g["a"])(Ac,_c,bc,!1,null,null,null)),xc=Sc.exports,wc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wxgame-comp-category-card"},[i("div",{staticClass:"level1",class:{level1_margin:e.isRecommend}},[i("span",{staticClass:"level1-text"},[e._v(e._s(e.categories.name))])]),e._l(e.level2s,(function(t,n){return i("div",{key:n,staticClass:"category-wrap",style:"margin-top:"+(e.isRecommend?"-.4rem":0),attrs:{"data-uiarea":e.uiarea,"data-action-name":e.categories.name,"data-lv2-name":t.name}},[e.isRecommend?e._e():i("div",{staticClass:"level2-wrap",class:{"no-first":0!==n}},[e.isRecommend?e._e():i("div",{staticClass:"level2",on:{click:function(i){return i.stopPropagation(),e.clickEvent(t)}}},[i("div",{staticClass:"level2-icon"},[i("Icon",{attrs:{name:t.icon_key,color:e.level2IconColor}})],1),i("div",{staticClass:"level2-text"},[e._v(e._s(t.name))]),i("div",{staticClass:"level2-enter"},[e._v("R")])])]),i("div",{staticClass:"category-items"},[e._l(t.next_categories,(function(n,a){return[i("Item",{key:n.id,attrs:{catObj:n,lv2Name:t.name,actionName:e.categories.name,uiarea:e.uiarea,idx:a+1,scene:e.scene,position:e.position+n.index,parentType:e.categories.name,type:t.name},on:{clickLevel:function(i){return e.clickLevel(n,t)}}})]})),e._l(e.computedAppendItems(t.next_categories),(function(e,t){return i("div",{key:t,staticClass:"empty-item"})}))],2)])}))],2)},Cc=[],kc=function(){var e,t=this,i=t.$createElement,n=t._self._c||i;return n("div",{ref:"icon",staticClass:"icon__item",class:[t.maskClass],style:(e={width:t.width+"px",height:t.width+"px"},e["background-color"]=t.origin?"rgba(0, 0, 0, 0)":t.iconColor,e["background-image"]=t.origin?"url("+t.icon+")":t.defaultIcon,e["-webkit-mask-image"]=t.origin?t.defaultIcon:"url("+t.icon+")",e["mask-image"]=t.origin?t.defaultIcon:"url("+t.icon+")",e)})},Tc=[],Oc=(i("c740"),[{name:"circle",title:"圈子",desc:"服务页、在玩服务",url:"icon-line-circle_94a9ca89.svg",activeUrl:"icon-fill-circle_3d85bac3.svg"},{name:"dynamic",title:"动态/好友",desc:"服务页、在玩服务",url:"icon-line-dynamic_99a84b8d.svg",activeUrl:"icon-fill-dynamic_36894877.svg"},{name:"competition",title:"电竞/直播",desc:"底部tab、服务页、在玩服务",url:"icon-line-esports_3cad0b9d.svg",activeUrl:"icon-fill-esports_04a108fb.svg"},{name:"cup",title:"电竞",desc:"服务页、在玩服务",url:"icon-line-event_70b3184d.svg",activeUrl:"icon-fill-event_4297bbe0.svg"},{name:"gift",title:"礼包/福利中心",desc:"首页、服务页、在玩服务",url:"icon-line-gift_7594d9f3.svg",activeUrl:"icon-fill-gift_d385b827.svg"},{name:"live",title:"直播",desc:"服务页、在玩服务",url:"icon-line-live_23957b04.svg",activeUrl:"icon-fill-live_7188fa2c.svg"},{name:"roles",title:"角色/攻略",desc:"首页、游戏分类",url:"icon-line-roles_18b9c901.svg",activeUrl:"icon-fill-roles_82ad188b.svg"},{name:"battle",title:"战绩",desc:"服务页、在玩服务",url:"icon-line-score_1c93c9e0.svg",activeUrl:"icon-fill-score_04b58883.svg"},{name:"rank",title:"rank",desc:"首页中的游戏服务",url:"icon-line-rank_fda5eb66.svg",activeUrl:"icon-fill-rank_198aba50.svg"},{name:"home",title:"首页",desc:"底部tab",url:"icon-line-home_38958b10.svg",activeUrl:"icon-fill-home_ee9bf927.svg"},{name:"like",title:"好玩点赞",desc:"好玩社区",url:"icon-line-like_fca149ae.svg",activeUrl:"icon-fill-like_a298abe9.svg"},{name:"comment",title:"评论",desc:"好玩社区",url:"icon-line-comment_af850a6d.svg",activeUrl:"icon-fill-comment_f591bb76.svg"},{name:"me",title:"我",desc:"底部tab",url:"icon-line-profile_da98e9f0.svg",activeUrl:"icon-fill-profile_1d923abf.svg"},{name:"video",title:"视频",desc:"服务页、在玩服务",url:"icon-line-vedio_76a7eb50.svg",activeUrl:"icon-fill-vedio_49bbf81d.svg"},{name:"function",title:"功能",desc:"首页、游戏分类",url:"icon-line-function_aab27a24.svg",activeUrl:"icon-fill-function_69917905.svg"},{name:"jiguang",title:"极光",desc:"首页、游戏分类",url:"icon-line-jiguang_7393eb3f.svg",activeUrl:"icon-fill-jiguang_2ea59b76.svg"},{name:"all",title:"全部",desc:"首页、游戏分类",url:"icon-line-all_659f19ff.svg",activeUrl:"icon-fill-all_8b8cf8c1.svg"},{name:"mini-game",title:"小游戏",desc:"首页、游戏分类",url:"icon-line-mini-game_9ea9d8bb.svg",activeUrl:"icon-fill-mini-game_2fa1ebb9.svg"},{name:"new-game",title:"新游",desc:"首页、游戏分类",url:"icon-line-new-game_dea27974.svg",activeUrl:"icon-fill-new-game_6c825853.svg"},{name:"action",title:"动作",desc:"首页、游戏分类",url:"icon-line-Action_1db33a06.svg",activeUrl:"icon-fill-Action_2d886819.svg"},{name:"chess",title:"棋牌",desc:"首页、游戏分类",url:"icon-line-chess_7cac3a60.svg",activeUrl:"icon-fill-chess_908dc974.svg"},{name:"creative",title:"创意小游戏",desc:"首页、游戏分类",url:"icon-line-creative_cf9de958.svg",activeUrl:"icon-fill-creative_9dae1880.svg"},{name:"game",title:"游戏",desc:"首页、底部tab",url:"icon-line-game_87903a97.svg",activeUrl:"icon-fill-game_93a4abe9.svg"},{name:"leisure",title:"休闲",desc:"首页、游戏分类",url:"icon-line-leisure_209d4a67.svg",activeUrl:"icon-fill-leisure_3da60a2c.svg"},{name:"single-game",title:"单机",desc:"首页、游戏分类",url:"icon-line-single-game_1b9d0a11.svg",activeUrl:"icon-fill-single-game_f384196c.svg"},{name:"privilege",title:"启动特权",desc:"启动特权、福利中心",url:"icon-line-privilege_6cb8fab6.svg",activeUrl:"icon-fill-privilege_53990b53.svg"},{name:"hot",title:"热点",desc:"服务页、在玩服务",url:"icon-line-hot_258e5a80.svg",activeUrl:"icon-fill-hot_71a2db16.svg"},{name:"cash",title:"现金券",desc:"首页",url:"icon-line-Cash_5c9ccbf3.svg",activeUrl:"icon-fill-Cash_af9e2860.svg"},{name:"cash-narrow",title:"现金券缩略图",desc:"福利中心",url:"icon-line-Cashnarrow_07938baa.svg",activeUrl:"icon-fill-narrow_cbadebd2.svg"},{name:"tasks",title:"幸运任务",desc:"福利中心-任务体系",url:"icon-line-tasks_2bb3e995.svg",activeUrl:"icon-fill-tasks_27b64840.svg"},{name:"shop",title:"微信游戏商城",desc:"小程序-服务业-福利中心",url:"icon-line-shop_98a409e5.svg",activeUrl:"icon-fill-shop_4daaaa6e.svg"},{name:"moment",title:"好玩",desc:"底部tab",url:"icon-line-fun_a3bca9b2.svg",activeUrl:"icon-fill-fun_25b9c923.svg"},{name:"sport",title:"体育竞技",desc:"游戏分类",url:"icon-line-sport_5eb67b00.svg",activeUrl:"icon-fill-sport_82b26b9c.svg"},{name:"strategy",title:"模拟策略",desc:"游戏分类",url:"icon-line-Strategy_9a8f3823.svg",activeUrl:"icon-fill-Strategy_d5ba5a09.svg"},{name:"classic",title:"题材",desc:"游戏分类",url:"icon-line-Classic_d798bbb4.svg",activeUrl:"icon-fill-Classic_8f990a46.svg"},{name:"search",title:"搜索",desc:"商城专区页、搜索页",url:"icon-line-Search_879b2889.svg",activeUrl:"icon-fill-Search_91804823.svg"},{name:"weekly",title:"周报",desc:"数据首页",url:"icon-line-weekly_609ee900.svg",activeUrl:"icon-fill-weekly_a893d9e4.svg"},{name:"addition",title:"金币/经验加成",desc:"启动特权",url:"icon-line-addition_e49cf9ac.svg",activeUrl:"icon-fill-addition_8397e8ff.svg"},{name:"prerogative",title:"身份特权",desc:"启动特权",url:"icon-line-prerogative_01991b7a.svg",activeUrl:"icon-fill-prerogative_e4a058d6.svg"},{name:"zan",title:"点赞",desc:"圈子点赞",url:"icon-line-thumb_5c9c6b29.svg",activeUrl:"icon-fill-thumb_0984489d.svg"},{name:"share",title:"分享",desc:"分享",url:"icon-line-share_a08a8a12.svg",activeUrl:"icon-fill-share_269018c1.svg"},{name:"dawanjia",title:"大玩家",desc:"大玩家、福利中心",url:"icon-line-dawanjia_77a4b94d.svg",activeUrl:"icon-fill-dawanjia_04a4c9eb.svg"},{name:"generalize",title:"推广员",desc:"服务页入口",url:"icon-line-generalize_bdafdb13.svg",activeUrl:"icon-fill-generalize_1d99dbee.svg"},{name:"versions",title:"版本信息",desc:"详情页",url:"icon-line-versions_80b27821.svg",activeUrl:"icon-fill-versions_928dda1c.svg"},{name:"bound",title:"绑定游戏",desc:"详情页",url:"icon-line-bound_c09c39c1.svg",activeUrl:"icon-fill-bound_96afa9bd.svg"},{name:"offical-accounts",title:"公众号",desc:"公众号",url:"icon-line-official-accounts_a98c5bbc.svg",activeUrl:"icon-fill-official-accounts_2a9f3afa.svg"},{name:"mini-program",title:"小程序、小游戏",desc:"小程序",url:"icon-line-mini-program_42ab9a99.svg",activeUrl:"icon-fill-mini-program_c495a818.svg"},{name:"recently",title:"最近在玩",desc:"首页",url:"icon-line-recently_118a68b0.svg",activeUrl:"icon-fill-recently_c6bfdbae.svg"},{name:"done",title:"完成",desc:"活动",url:"icon-line-done_60bf98e5.svg",activeUrl:"icon-fill-done_9ca3b830.svg"},{name:"wechat-game",title:"微信游戏",desc:"微信游戏图标",url:"icon-line-WeChat-game_b8a2bb9c.svg",activeUrl:"icon-fill-Wechat-game_e9a06844.svg"},{name:"identity",title:"身份认证",desc:"圈子",url:"icon-line-identity_bc9209ca.svg",activeUrl:"icon-fill-identity_6e87fa44.svg"},{name:"help",title:"帮助",desc:"战绩组件/高光时刻",url:"icon-line-help_21970814.svg",activeUrl:"icon-fill-help_c49ea8c2.svg"},{name:"more",title:"更多",desc:"首页/小游戏",url:"icon-line-more_44ad7a73.svg",activeUrl:"icon-fill-more_0d9168ce.svg"},{name:"wechat-game-color",title:"微信游戏彩色logo",desc:"各种需要用到彩色logo的场景",url:"icon-line-WeChat-game-color_cc984aa7.svg",activeUrl:"icon-fill-WeChat-game-color_47b149eb.svg",origin:!0},{name:"crown",title:"皇冠",desc:"新版动态",url:"icon-fill-crown_c7b0abf4.svg",activeUrl:"icon-fill-crown_c7b0abf4.svg"},{name:"album",title:"相册",desc:"游戏圈",url:"icon-line-album_7586f831.svg",activeUrl:"icon-fill-album_8abc0831.svg"},{name:"sticker",title:"表情",desc:"游戏圈",url:"icon-line-sticker_199caa51.svg",activeUrl:"icon-fill-sticker_ffa829ea.svg"},{name:"at",title:"@人",desc:"评论组件、发表",url:"icon-line-at_06bf39e5.svg",activeUrl:"icon-fill-at_c183ca98.svg"},{name:"keyboard",title:"键盘",desc:"评论组件",url:"icon-line-keyboard_c2a85aec.svg",activeUrl:"icon-fill-keyboard_11981b4f.svg"},{name:"warning",title:"错误",desc:"游戏圈",url:"icon-line-warning_10a3dab7.svg",activeUrl:"icon-fill-warning_0ea09ba2.svg"},{name:"friends",title:"朋友",desc:"小游戏排行榜",url:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200423/icon-line-friends.svg",activeUrl:"https://res.wx.qq.com/wechatgame/product/webpack/userupload/20200423/icon-fill-friends.svg",customCdn:!0}]),Ec={list:Oc},Lc={},jc=o["a"].extend({name:"Icon",mixins:[qo,Yo],data:function(){return{list:Ec.list,iconColor:"",isWechat:Lc.isWechat||!0,hide:!1,defaultIcon:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},components:{},props:{name:String,color:{type:String,default:"#000000"},active:Boolean,width:{type:Number,default:24},dark_color:{type:String,default:"#ffffff"},origin:{type:Boolean,default:!1}},watch:{color:function(e){this.iconColor=e},dark_color:function(e){var t=this;this.isDarkMode&&e&&(this.iconColor=e,setTimeout((function(){t.iconColor=e}),0))},isWgDarkMode:function(e){e?this.dark_color&&(this.iconColor=this.dark_color):this.iconColor=this.color}},computed:{icon:function(){var e=this;console.log("iconname",this.name);var t=this.list.findIndex((function(t){return t.name===e.name}));return t>-1?this.list[t].customCdn?"".concat(this.active?this.list[t].activeUrl:this.list[t].url):"https://res.wx.qq.com/wechatgame/product/cdn/moment/".concat(this.active?this.list[t].activeUrl:this.list[t].url):""},maskClass:function(){return this.active?"icon__item-mask-"+this.name+"-active":"icon__item-mask-"+this.name}},created:function(){window.addEventListener("wxload",(function(e){return console.log("page1 wxload",e)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")}))},mounted:function(){var e=this;console.log(111,this.icon),this.color&&(this.iconColor=this.color),this.isWgDarkMode&&this.dark_color&&(this.iconColor=this.dark_color),setTimeout((function(){e.icon}),0),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("I am in miniprogram"):console.log("I am in Web")},methods:{}}),Pc=jc,Dc=(i("d9a3"),Object(g["a"])(Pc,kc,Tc,!1,null,null,null)),Nc=Dc.exports,Rc=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wxgame-comp-category-item",attrs:{"data-uiarea":e.uiarea,"data-scene":e.scene,"data-action-name":e.actionName,"data-idx":e.idx,"data-lv2-name":e.lv2Name,"data-lv3-name":e.catObj.name,"data-position":e.position},on:{click:function(t){return t.stopPropagation(),e.clickLevel(e.catObj)}}},[i("div",{staticClass:"icon",style:{"background-image":"url('"+e.catObj.icon_url+"')"}}),i("div",{staticClass:"text"},[e._v(e._s(e.catObj.name))])])},Mc=[],Hc=o["a"].extend({data:function(){return{}},props:{uiarea:Number,scene:Number,position:Number,type:String,parentType:String,catObj:{type:Object},idx:Number,lv2Name:String,actionName:String},mounted:function(){this.reporter&&(this.ext={parent_type:this.parentType||"",type:this.type||"",labelname:this.catObj.name}),window.addEventListener("wxload",(function(e){return console.log("page1 wxload",e)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("I am in miniprogram"):console.log("I am in Web")},methods:{clickLevel:function(e){this.$emit("clickLevel",e)}}}),Bc=Hc,Wc=(i("50be"),Object(g["a"])(Bc,Rc,Mc,!1,null,null,null)),Uc=Wc.exports,qc=new Gr,Vc=o["a"].extend({name:"CategoryCard",mixins:[qo,Yo],props:{categories:Object,scene:Number,uiarea:{type:Number,default:2203},position:Number,type:{type:String,default:"default"}},data:function(){return{screenWidth:414,itemCounts:3}},components:{Icon:Nc,Item:Uc},computed:{isRecommend:function(){return"recommend"===this.type},level1:function(){return this.categories},level2s:function(){if(this.isRecommend){var e=0,t=!0,i=!1,n=void 0;try{for(var a,s=(this.categories.items||[])[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;o.index=e++}}catch(y){i=!0,n=y}finally{try{t||null==s.return||s.return()}finally{if(i)throw n}}return[{next_categories:this.categories.items}]}var r=0,c=!0,l=!1,u=void 0;try{for(var p,d=(this.level1.next_categories||[])[Symbol.iterator]();!(c=(p=d.next()).done);c=!0){var h=p.value,m=!0,g=!1,f=void 0;try{for(var v,_=(h.next_categories||[])[Symbol.iterator]();!(m=(v=_.next()).done);m=!0){var b=v.value;b.index=r++}}catch(y){g=!0,f=y}finally{try{m||null==_.return||_.return()}finally{if(g)throw f}}}}catch(y){l=!0,u=y}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}return this.level1.next_categories},level2IconColor:function(){return this.isWgDarkMode?"rgba(255,255,255,0.8)":"rgba(0,0,0,0.9)"}},created:function(){window.addEventListener("wxload",(function(e){return console.log("page1 wxload",e)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?(console.log("I am in miniprogram"),this.screenWidth=wx.getSystemInfoSync().screenWidth):(this.screenWidth=document.documentElement.getBoundingClientRect().width,console.log("I am in Web")),this.screenWidth<=380?this.itemCounts=3:this.itemCounts=4},mounted:function(){qc.setBase()},methods:{computedAppendItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length;if(!t)return[];var i=this.itemCounts;return new Array(i-t%i)},clickLevel:function(e,t){var i=this.uiarea,n=this.scene,a=this.position;this.$emit("clickLevel",Object(l["a"])({},e,{uiarea:i})),qc.send({iUIArea:i,iSceneId:n,iPositionId:a+e.index,iActionId:40,iOpType:1,sExternInfo:JSON.stringify({action:this.categories.name,subaction:t.name,iconname:e.name})})},clickEvent:function(e){this.reporter;var t=this.uiarea,i=this.scene;this.$emit("clickLevel",{level:e.level,id:e.id,name:e.name,uiarea:t,parent_category:{level:e.parent_category.level,id:e.parent_category.id,name:e.parent_category.name}}),qc.send({iUIArea:t,iSceneId:i,iPositionId:22,iActionId:40,iOpType:1,sExternInfo:JSON.stringify({action:this.categories.name,subaction:e.name})})}}}),$c=Vc,Yc=(i("6a3f"),Object(g["a"])($c,wc,Cc,!1,null,null,null)),Gc=Yc.exports,Qc=new Gr,Fc=-1,zc=-2,Kc=44,Jc={name:"Category",mixins:[Yo],data:function(){return{uia:2203,gameCategory:{},current_nav_id:Fc,clickScroll:!1,pageError:!1,pageLoading:!1,pageLoad:!1,categoryCardScrollTop:"0",pageYOffset:0,cardsScrollTop:[],unExposeList:[],unExposeList2:[],totalHeight:0,localCategoryLv1:[],scrollHandler:Dr(this._scrollHandler,50),localQuery:{}}},computed:{showPageLoading:function(){return this.pageError||this.pageLoading},loadPageType:function(){return this.pageError?"error":(this.pageLoading,"loading")},navs:function(){var e=this.gameCategory,t=[];return e.recommend_categories&&t.push({id:Fc,name:"推荐"}),e.trait_categories&&t.push({id:zc,name:"特色"}),e.fixed_categories&&e.fixed_categories.forEach((function(e){t.push({id:e.id,name:e.name})})),t},categoriesLv1:function(){var e=this.gameCategory,t=[];return e.recommend_categories&&t.push({name:"推荐",items:e.recommend_categories,type:"recommend",uiarea:1401,position_id:1,id:Fc}),e.trait_categories&&t.push({name:"特色",items:e.trait_categories,type:"recommend",uiarea:1403,position_id:1,id:zc}),e.fixed_categories&&e.fixed_categories.forEach((function(e){var i=JSON.parse(JSON.stringify(e));"玩法"===i.name&&(i=Object(l["a"])({},i,{uiarea:1402,position_id:1})),"题材"===i.name&&(i=Object(l["a"])({},i,{uiarea:1404,position_id:1})),t.push(i)})),t}},created:function(){var e=this;Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?window.addEventListener("wxload",(function(t){e.localQuery=Object(l["a"])({},t,{},e.$route.query),console.log("category list wxload",t)})):this.localQuery=Object(l["a"])({},this.$route.query),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("category in miniprogram"):console.log("category in Web"),this.loadData()},mounted:function(){var e=this;console.log(5555,this.$route),Qc.setBase(this.localQuery),Qc.send({iSceneId:14,iUIArea:0,iPositionId:0,iActionId:1,iOpType:1}),this.scrollView=this.$refs.scrollView,this.$nextTick((function(){e.getCategroyCardsRect()}))},methods:{getCategroyCardsRect:function(){var e=this;if(this.cardsScrollTop.length)return Promise.resolve(this.cardsScrollTop);for(var t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".category-card")||[],n=[],a=function(e){var t=i[e]||{};Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?n.push(Nr(t)):n.push(new Promise((function(e){Nr(t).then((function(i){e({top:i.top,height:i.height,id:t.id})}))})))},s=i.length-1;s>=0;s--)a(s);return Promise.all(n).then((function(t){var i=t.reduce((function(e,t){return e+t.height}),0);return e.cardsScrollTop=t.map((function(e){return i-=e.height,{id:e.id,top:e.top,height:e.height,topByHeight:i}})),Promise.resolve(e.cardsScrollTop)}))},_scrollHandler:function(e){var t=this,i=e.detail.scrollTop;this.pageYOffset=i,this.clickScroll||(this.checkWhichCategoryCardId().then((function(e){return t.current_nav_id=+e})),console.log("this.current_nav_id ",this.current_nav_id),this.reportExpose(),this.reportExpose2())},onScroll:function(e){this.scrollHandler(e)},reportExpose:function(){var e=this.pageYOffset||0,t=window.innerHeight,i=e+t;console.log("reportExpose ",e,t,i);var n=[];console.log("this.unExposeList ",this.unExposeList),this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.top<i)||(n.push(e),!1)}));var a=n.map((function(e){return{iSceneId:14,iUIArea:+e.exposeData.uiarea||0,iPositionId:0,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({action:e.exposeData.actionName,subaction:e.exposeData.lv2Name,iconname:""})}}));console.log("category list unreport list ",this.unExposeList,"category list reported list ",a),a.length&&Qc.send(a)},reportExpose2:function(){var e=this.pageYOffset||0,t=window.innerHeight,i=e+t,n=[];this.unExposeList2=this.unExposeList2.filter((function(e){return!(e.exposeData.top<i)||(n.push(e),!1)}));var a=n.map((function(e){var t=e.exposeData,i=t.uiarea,n=t.scene,a=t.idx,s=t.lv2Name,o=t.lv3Name,r=t.actionName;return{iSceneId:+n,iUIArea:+i,iPositionId:+a,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({action:r,subaction:s,iconname:o})}}));console.log("category list unreport list2 ",this.unExposeList2,"category list reported list2 ",a),a.length&&Qc.send(a)},setReportDataAfterRender2:function(){var e=this,t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".wxgame-comp-category-item")||[];i=Array.from(i);var n=i.map((function(e,t){return Nr(e).then((function(i){return Object(l["a"])({top:i.top,height:i.height,listIndex:t},e.dataset)}))})).filter((function(e){return e})),a=new Date;Promise.all(n).then((function(t){t.forEach((function(t){e.unExposeList2.push({exposeData:Object(l["a"])({},t)})})),console.log("2222 time cost",new Date-a,e.totalHeight),e.reportExpose2()}))},setReportDataAfterRender:function(){var e=this,t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".category-wrap")||[];i=Array.from(i);var n=i.map((function(e,t){return Nr(e).then((function(i){return i=Object(l["a"])({top:i.top,height:i.height,listIndex:t},e.dataset),i}))})).filter((function(e){return e})),a=new Date;Promise.all(n).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.unExposeList.push({exposeData:Object(l["a"])({},t)})})),console.log("1111 time cost",new Date-a,e.totalHeight),e.reportExpose()}))},loadData:function(){var e=this;return this.pageError=!1,this.pageLoading=!0,this.$showLoading({title:"加载中"}),sr().then((function(t){e.$hideLoading(),e.pageLoad=!0,e.pageLoading=!1,0===t.errcode?(e.gameCategory=t.data.response,e.$nextTick((function(){e.setReportDataAfterRender(),e.setReportDataAfterRender2()}))):e.pageError=!0})).catch((function(t){console.log(t),e.$hideLoading(),e.pageLoad=!0,e.pageError=!0}))},clickNav:function(e){var t=this;this.clickScroll=!0,this.current_nav_id=e.id;var i=e.index;setTimeout((function(){t.clickScroll=!1}),300),this.scrollToNCategoryCard(i)},onClickCategory:function(e){var t="",i="";2===e.level?(t=e.id,i=e.id):3===e.level&&(t=e.id,i=e.parent_category.id);var n=this.localQuery.SourceID,a=void 0===n?"":n,s=Lr(Object(l["a"])({category_id:t,parent_category_id:i},this.localQuery,{AllPath:(a?a+"_":"")+e.uiarea}));console.log("id: ",t,"; parentId: ",i),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?window.open("/categorydetail?".concat(s)):this.$router.push("/categorydetail?".concat(s))},scrollToNCategoryCard:function(e){var t=this,i=this.categoriesLv1[e];this.getCategroyCardsRect().then((function(e){var n=e.find((function(e){return e.id==i.id}))||{},a=String(n.topByHeight)||"0";a==t.categoryCardScrollTop&&(a=1+a+""),t.categoryCardScrollTop=a}))},checkWhichCategoryCardId:function(){var e=this.pageYOffset,t=this.cardsScrollTop;return this.getCategroyCardsRect(t).then((function(t){var i=t.find((function(t){return t.topByHeight<=e+Kc}))||{};return Promise.resolve(i.id)}))}},components:{NavigationBarSide:xc,CategoryCard:Gc,PageLoading:gr,KScrollView:Wr}},Xc=Jc,Zc=(i("326a"),Object(g["a"])(Xc,fc,vc,!1,null,null,null)),el=Zc.exports,tl={name:"List",mixins:[qo],data:function(){return{isDark:!1}},components:{Category:el},created:function(){window.addEventListener("wxload",(function(e){return console.log("category wxload",e)})),window.addEventListener("wxshow",(function(){return console.log("category wxshow")})),window.addEventListener("wxready",(function(){return console.log("category wxready")})),window.addEventListener("wxhide",(function(){return console.log("category wxhide")})),window.addEventListener("wxunload",(function(){return console.log("category wxunload")}))},methods:{}},il=tl,nl=(i("812f"),Object(g["a"])(il,mc,gc,!1,null,null,null)),al=nl.exports,sl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"category-detail",class:[e.isWgDarkMode?e.wgDarkModeClass:""]},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.gameCategory.fixed_categories&&!e.pageError&&!e.firstPageLoding,expression:"gameCategory.fixed_categories && !pageError && !firstPageLoding"}],staticClass:"top-nav-wrap"},[i("NavigationBarBlock",{directives:[{name:"show",rawName:"v-show",value:!e.firstPageLoding,expression:"!firstPageLoding"}],attrs:{uiarea:1301,scene:13,currentId:e.currentLv2,staticLv3Name:e.staticLv3Name,list:e.lv2Navs},on:{changeTab:e.changeLv2}}),e.currentLv2-1>=0?i("NavigationBar",{directives:[{name:"show",rawName:"v-show",value:!e.firstPageLoding,expression:"!firstPageLoding"}],attrs:{list:e.lv3Navs[e.currentLv2-1]||[],currentId:e.currentLv3,uiarea:1301,scene:13,lv2Name:e.lv2Name,background:"#ffffff"},on:{changeTab:e.changeLv3}}):e._e(),i("div",{staticClass:"game_list"},[i("GameList",{attrs:{uiarea:1301,scene:13,lv2Name:e.lv2Name,lv3Name:e.lv3Name,gameList:e.formattedGamelist,pageLoading:e.pageLoading,pageLoad:e.pageLoad,onceLoadError:e.onceLoadError,hasMore:e.hasMore},on:{scrollToLower:e.loadMore}})],1)],1),i("PageLoading",{attrs:{show:e.showPageLoading,type:e.loadPageType,delay:0},on:{retry:e.getData}})],1)},ol=[],rl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wxgame-comp-navigation-bar-block"},[i("div",{staticClass:"scroll-view-wrap"},[i("KScrollView",{ref:"scrollView",staticStyle:{width:"100%"},attrs:{"scroll-x":"","scroll-left":e.scrollLeft,"scroll-with-animation":!0},on:{scroll:e.onScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.list,(function(t,n){return[i("div",{key:n,staticClass:"banner-tab__item",class:{"banner-tab__item_current":t.navi_id===e.current,"need-bottom-border":t.navi_id===e.current,"banner-tab__item_gray":t.navi_id!==e.current,"banner-tab__item_icon":"scroll"===e.type&&t.icon},style:{width:"multiple"===e.type?100/e.list.length+"%":"",color:t.navi_id===e.current?e.color:""},attrs:{"data-navid":t.navi_id,"data-id":t.navi_id,"data-icon":t.icon_key},on:{click:function(i){return i.stopPropagation(),e.changeTab(t)}}},[t.icon_key?i("div",{staticClass:"banner-tab__icon"},[i("Icon",{attrs:{name:t.icon_key,color:t.navi_id===e.current?e.color:""}})],1):e._e(),i("div",{staticClass:"banner-tab__name"},[e._v(e._s(t.navi_name))])])]}))],2)])],1)])},cl=[],ll=new Gr;function ul(e){for(var t=0,i=0;i<e.length;i++){var n=e.charCodeAt(i);n>=1&&n<=126||65376<=n&&n<=65439?t++:t+=2}return t}var pl={name:"NavigationBarBlock",data:function(){return{current:0,scrollLeft:"0",currentNaviId:0,tabItemsScrollLeft:[],localList:[],pageScrollLeft:0,unExposeList:[],totalWidth:0,scrollHandler:Dr(this._scrollHandler,50),_localQuery:{}}},props:{list:{type:Array,default:[]},currentId:Number,background:String,color:{type:String,default:"#07C160"},uiarea:{type:Number,default:9311},scene:Number,staticLv3Name:String},watch:{list:function(e,t){var i=this;e.length&&(this.localList=this.list.slice(),this.tabItemsScrollLeft=[],e&&t&&e.length!==t.length&&setTimeout((function(){i.getTabItemsRect()}),0),this.$nextTick((function(){i.totalWidth=0,i.setReportDataAfterRender()})))},currentId:{handler:function(e){var t=this;null!==e&&void 0!==e&&(setTimeout((function(){t.scrollToTab(t.currentId)}),0),this.current=this.currentId)},immediate:!0},color:{handler:function(e){var t=document.getElementById("wxgame-comp-navigation-bar-block-tab-animation-line");t&&(t.children[0].style.backgroundColor=e)}}},computed:{type:function(){switch(this.list.length){case 2:return"double";case 3:return"multiple";case 4:var e=this.list[0].icon;if(e){var t=0,i=!0,n=!1,a=void 0;try{for(var s,o=this.list[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var r=s.value;t+=ul(r.navi_name)}}catch(c){n=!0,a=c}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return t>24?"scoll":"multiple"}return"multiple";default:return"scroll"}}},created:function(){var e=this;window.addEventListener("wxload",(function(t){e._localQuery=Object(l["a"])({},t,{},e.$route.query),console.log("page1 wxload",t)}))},mounted:function(){ll.setBase(this._localQuery),this.current=this.currentId||0,this.list.length},methods:{_scrollHandler:function(e){var t=e.detail.scrollLeft;this.pageScrollLeft=t,this.reportExpose()},onScroll:function(e){this.scrollHandler(e)},setReportDataAfterRender:function(){var e=this;console.log("in nav block");var t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".banner-tab__item")||[];i=Array.from(i);var n=i.map((function(t,i){return e.localList[i].exposeData?void 0:Nr(t).then((function(e){return e.listIndex=i,e}))})).filter((function(e){return e})),a=new Date;Promise.all(n).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.localList[t.listIndex].exposeData={left:e.totalWidth,width:t.width},e.totalWidth+=t.width,e.unExposeList.push(e.localList[t.listIndex])})),console.log("time cost",new Date-a,e.totalWidth),e.reportExpose()}))},reportExpose:function(){var e=this,t=this.pageScrollLeft||0,i=window.innerWidth-32,n=t+i;console.log("11 unExposeList ",this.unExposeList,"currLeft ",n);var a=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.left<n)||(a.push(e),!1)})),console.log("expose list ",a);var s=a.map((function(t){var i=e.scene,n=e.uiarea;return{iSceneId:i,iUIArea:n,iPositionId:201,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({subaction:t.navi_name,iconname:""})}}));console.log("unExposeList length",this.unExposeList.length,"reportList length",s.length),s.length&&ll.send(s)},scrollToTab:function(e){var t=this;this.getTabItemsRect().then((function(i){var n=t.tabItemsScrollLeft.find((function(t){return t.navid==e}))||{};t.scrollLeft=n.left+""}))},getTabItemsRect:function(){var e=this;if(this.tabItemsScrollLeft&&this.tabItemsScrollLeft.length)return Promise.resolve(this.tabItemsScrollLeft);var t=this.$refs.scrollInner;return Nr(t).then((function(i){for(var n=i.left,a=t&&t.querySelectorAll(".banner-tab__item")||[],s=[],o=function(e){var t=a[e]||{};s.push(new Promise((function(e,i){Nr(t).then((function(i){e({left:i.left,width:i.width,height:i.height,right:i.right,navid:t.dataset.navid})}))})))},r=a.length-1;r>=0;r--)o(r);return Promise.all(s).then((function(t){var i=t.map((function(e,t){return{navid:e.navid,left:e.left-n}}));return e.tabItemsScrollLeft=i,Promise.resolve(i)}))}))},changeTab:function(e){var t=this;this.$emit("changeTab",e),this.current=e.navi_id,console.log("color ",this.color),console.log("current nav id ",this.current),console.log("list ",this.list),this.reporter&&this.reporter.report({vueComponent:this,reportData:{pid:e.navi_id,aid:2}}),this.$nextTick((function(){var i=t.uiarea,n=t.scene,a=t.staticLv3Name;ll.send({iSceneId:n,iUIArea:i,iPositionId:201,iActionId:2,sExternInfo:JSON.stringify({subaction:e.navi_name,iconname:a})})}))},updateCurrent:function(e){this.current=e,console.log("update current to ",e),e&&this.tabAniController&&this.tabAniController.changeTo(e)},initTabAnimation:function(e,t,i){var n=this;this.reporter&&this.reporter.register({vueComponent:this,reportData:{uia:this.uiarea},exposeCbk:function(e){var t=!0,i=!1,a=void 0;try{for(var s,o=n.list[Symbol.iterator]();!(t=(s=o.next()).done);t=!0){var r=s.value;n.reporter.report({vueComponent:n,reportData:{pid:r.navi_id,aid:1,op:1}})}}catch(c){i=!0,a=c}finally{try{t||null==o.return||o.return()}finally{if(i)throw a}}}}),t||(t=e[0].navi_id,this.current=t);var a=this.$refs.tabBar;a&&a.children.length}},components:{Icon:Nc,KScrollView:Wr}},dl=pl,hl=(i("538c"),Object(g["a"])(dl,rl,cl,!1,null,null,null)),ml=hl.exports,gl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"game-store__game-list"},[i("KScrollView",{ref:"scrollView",style:"height: "+e.scrollViewHeight+"px",attrs:{"scroll-y":"","scroll-top":e.scrollTop,"scroll-with-animation":!0},on:{scroll:e.onScroll,scrolltolower:e.scrollToLower}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.formated_game_list,(function(t,n){return i("div",{key:t.appid+"_"+n,staticClass:"game-item"},[i("GameItem",{class:{border__top:n>0},attrs:{item:t},on:{"jump-to-app":function(i){return e.onClickItem(t,n)}}})],1)})),e.loadingText?i("TextTips",{attrs:{text:e.loadingText},on:{click:e.retry}}):e._e(),e.formated_game_list.length&&!e.hasMore?i("game-footer"):e._e()],2)])],1)},fl=[],vl=new Gr,_l={name:"GameList",props:{gameList:{type:Array,default:function(){return[]}},uiarea:Number,scene:Number,lv2Name:String,lv3Name:String,hasMore:{type:Boolean,default:!0},pageLoading:{type:Boolean,default:!1},pageLoad:{type:Boolean,default:!1},onceLoadError:{type:Boolean,default:!1}},components:{KScrollView:Wr,GameItem:Do,TextTips:Ir,"game-footer":zo},data:function(){return{formated_game_list:[],scrollTop:"0",scrollViewHeight:"708",pageScrollTop:0,unExposeList:[],totalHeight:0,scrollHandler:Dr(this._scrollHandler,50)}},computed:{loadingText:function(){return this.onceLoadError?"点击重试":this.pageLoading?"加载中...":this.pageLoad&&!this.formated_game_list.length?"暂无数据":this.pageLoad&&this.formated_game_list.length&&!this.hasMore?"":this.pageLoad&&this.formated_game_list.length&&this.hasMore?"上拉加载更多":""}},watch:{gameList:function(){this.formateGameList(this.gameList)},onceLoadError:function(e){e&&$o.a.showModal({title:"微信小游戏",content:"加载失败",cancelText:"取消",confimrText:"确认"})}},created:function(){var e=this;window.addEventListener("wxload",(function(t){e._localQuery=Object(l["a"])({},t,{},e.$route.query),console.log("page1 wxload",t)})),window.addEventListener("wxshow",(function(){return console.log("page1 wxshow")})),window.addEventListener("wxready",(function(){return console.log("page1 wxready")})),window.addEventListener("wxhide",(function(){return console.log("page1 wxhide")})),window.addEventListener("wxunload",(function(){return console.log("page1 wxunload")})),Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?console.log("I am gamelist in miniprogram"):console.log("I am gamelist in Web")},mounted:function(){vl.setBase(this._localQuery),this.gameList.length&&this.formateGameList(this.gameList)},methods:{retry:function(){this.onceLoadError&&this.$emit("scrollToLower")},onClickItem:function(e,t){var i=this.uiarea,n=this.scene,a=this.lv2Name,s=this.lv3Name,o=t+1;vl.send({iSceneId:n,iUIArea:i,iPositionId:o>=200?200:o,iActionId:71,sGameId:e.appid,sExternInfo:JSON.stringify({labelname:e.tag_list.map((function(e){return e.name})).join("_"),friendnum:(e.friend_head_img_url_list||[]).length,subaction:a,iconname:s})}),Pr(e.appid)},getBoundingRect:function(){var e=this,t=document.querySelector(".game-store__game-list");return new Promise((function(i){Nr(t).then((function(t){e.scrollViewHeight=window.innerHeight-t.top+"",i(t)}))}))},_scrollHandler:function(e){var t=e.detail.scrollTop;this.pageScrollTop=t,this.reportExpose()},onScroll:function(e){this.scrollHandler(e)},setReportDataAfterRender:function(){var e=this;this.totalHeight=0;var t=this.$refs.scrollInner,i=t&&t.querySelectorAll(".game-item")||[];i=Array.from(i);var n=i.map((function(t,i){return e.formated_game_list[i].exposeData?void 0:Nr(t).then((function(e){return e.listIndex=i,e}))})).filter((function(e){return e})),a=new Date;Promise.all(n).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.formated_game_list[t.listIndex].exposeData={top:e.totalHeight,height:t.height},e.totalHeight+=t.height,e.unExposeList.push(e.formated_game_list[t.listIndex])})),console.log("time cost",new Date-a,e.totalHeight),e.reportExpose()}))},reportExpose:function(){var e=this.pageScrollTop||0,t=+this.scrollViewHeight,i=e+t;console.log("unExposeList ",this.unExposeList,"curr top ",i);var n=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.top<i)||(n.push(e),!1)})),console.log("expose list ",n);var a=this.uiarea,s=this.scene,o=this.lv2Name,r=this.lv3Name,c=n.map((function(e){return{sGameId:e.appid,iSceneId:s,iUIArea:a,iPositionId:e.iPositionId>200?200:e.iPositionId,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc,subaction:o,iconname:r})}}));console.log("unExposeList length",this.unExposeList.length,"reportList length",c.length),c.length&&vl.send(c)},scrollToLower:function(){this.$emit("scrollToLower")},formateGameList:function(e){var t=this,i=[];e.forEach((function(e,t){return i.push(Object(l["a"])({},e,{iPositionId:t+1}))})),this.formated_game_list=this.formated_game_list.slice(0,0).concat(i),this.$nextTick((function(){t.getBoundingRect(),t.setReportDataAfterRender()}))}}},bl=_l,yl=(i("e9dd"),Object(g["a"])(bl,gl,fl,!1,null,null,null)),Il=yl.exports,Al=new Gr,Sl={name:"CateGoryDetail",components:{NavigationBar:rc,NavigationBarBlock:ml,GameList:Il,PageLoading:gr},mixins:[qo,Yo],data:function(){return{selectedLabels:[],gameCategory:{},currentLv2:1,currentLv3:1,currentCategoryId:0,lv3Navs:[],gamelist:[],hasMore:!0,nextOffset:0,firstPageLoding:!0,pageError:!1,pageLoading:!1,pageLoad:!1,onceLoadError:!1,scrollViewHeight:0,lv2Navs:[],localQuery:{}}},computed:{staticLv3Name:function(){return((this.lv3Navs[this.currentLv2-1]||[])[0]||{}).navi_name},lv2Name:function(){var e=this;return(this.lv2Navs.find((function(t){return t.navi_id===e.currentLv2}))||{}).navi_name},lv3Name:function(){var e=this;return((this.lv3Navs[this.currentLv2-1]||[]).find((function(t){return t.navi_id===e.currentLv3}))||{}).navi_name},showPageLoading:function(){return this.pageError&&!this.gamelist.length},loadPageType:function(){return this.pageError?"error":(this.pageLoading,"loading")},formattedGamelist:function(){this.lv2Navs&&this.currentLv2>0&&this.lv2Navs[this.currentLv2-1]&&this.lv2Navs[this.currentLv2-1].navi_name,this.lv3Navs&&this.currentLv2>0&&this.currentLv3>0&&this.lv3Navs[this.currentLv2-1]&&this.lv3Navs[this.currentLv2-1].length&&this.lv3Navs[this.currentLv2-1][[this.currentLv3-1]].navi_name,this.selectedLabels.indexOf("game"),this.selectedLabels.indexOf("minigame"),this.selectedLabels.indexOf("friends");var e=this.gamelist.map((function(e){return Object(l["a"])({},e)}));return e||[]}},watch:{src:function(){this.handlePath()}},created:function(){var e=this;Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram?window.addEventListener("wxload",(function(t){e.initQuery(t)})):this.initQuery()},mounted:function(){Al.setBase(this.localQuery),console.log("location: ",window.location),console.log("this.$route",this.$route),Al.send({iSceneId:13,iUIArea:0,iPositionId:0,iActionId:1,iOpType:1})},methods:{initQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.localQuery=Object(l["a"])({},e,{},this.$route.query);var t=e.category_id,i=e.parent_category_id;if(e.category_id)this.currentCategoryId=t||0,this.categoryId=t,this.parentId=i;else{var n=this.$route.query;this.currentCategoryId=n.category_id||0,this.categoryId=n.category_id,this.parentId=n.parent_category_id}this.getGameCategory(),this.getData()},getLv2Navs:function(){var e=this,t=1,i=1,n=this.gameCategory.trait_categories||[],a=[];this.lv3Navs=[],n.forEach((function(t){t.id===+e.categoryId&&(e.currentLv3=i),a.push({id:t.id,navi_id:i++,navi_name:t.name,icon_key:t.icon_key})})),this.lv3Navs.push(a);var s=[{navi_id:t,id:999,navi_name:"特色分类",icon_key:"all",next_categories:[]}];t++;var o=this.gameCategory.fixed_categories;return o&&o.forEach((function(i){i.next_categories.forEach((function(i){i.id===+e.parentId&&(e.currentLv2=t);var n=[{id:i.id,navi_id:1,navi_name:"全部"}],a=2;(i.next_categories||[]).forEach((function(t){t.id===+e.categoryId&&(e.currentLv3=a),n.push({id:t.id,navi_id:a++,navi_name:t.name,icon_key:t.icon_key})})),e.lv3Navs.push(n),s.push({id:i.id,navi_id:t++,navi_name:i.name,icon_key:i.icon_key,next_categories:n})}))})),s},getGameCategory:function(){var e=this;this.$showLoading({title:"加载中"}),sr().then((function(t){e.$hideLoading(),e.firstPageLoding=!1,0===t.errcode?(e.gameCategory=t.data.response,e.lv2Navs=e.getLv2Navs(e.gameCategory)):e.pageError=!0})).catch((function(t){console.log(t),e.pageError=!0}))},loadMore:function(){this.hasMore&&this.getData()},changeLv2:function(e){if(e.navi_id!==this.currentLv2){if(this.selectedLabels=[],this.currentLv2=e.navi_id,this.currentLv3=1,this.resetLoad(),"特色分类"===e.navi_name)try{this.currentCategoryId=this.lv3Navs[this.currentLv2-1][0].id}catch(t){this.currentCategoryId=e.id}else this.currentCategoryId=e.id;this.getData()}},changeLv3:function(e){e.navi_id!==this.currentLv3&&(this.selectedLabels=[],this.resetLoad(),this.currentCategoryId=e.id,this.currentLv3=e.navi_id,this.getData())},resetLoad:function(){this.hasMore=!0,this.gamelist=[],this.nextOffset=0},reloadData:function(){this.currentLv2=1,this.currentLv3=1,this.selectedLabels=[],this.currentCategoryId=+this.categoryId||0,this.pageError=!1,this.resetLoad(),this.getGameCategory(),this.getData()},getData:function(){var e=this;if(!this.pageLoading&&this.hasMore){this.pageLoading=!0,this.pageError=!1,this.onceLoadError=!1;var t={offset:this.nextOffset||0,limit:20,category_id:+this.currentCategoryId},i=or(t).then((function(t){if(e.pageLoad=!0,e.pageLoading=!1,0===t.errcode){var i=t.data||{};e.gamelist=e.gamelist.concat(i.game_list||[]),e.hasMore=i.has_next,e.nextOffset=i.next_offset}else e.onceLoadError=!0,e.pageError=!0})).catch((function(t){console.log(t),e.onceLoadError=!0,e.pageLoad=!0,e.pageError=!0}));return i}},handlePath:function(){this.src&&(this.path=this.src||"")}}},xl=Sl,wl=(i("8706"),Object(g["a"])(xl,sl,ol,!1,null,null,null)),Cl=wl.exports,kl=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:[e.isWgDarkMode?e.wgDarkModeClass:""]},[i("KScrollView",{ref:"scrollView",staticStyle:{height:"100vh"},attrs:{"scroll-y":"","scroll-with-animation":!0,"lower-threshold":"100"},on:{scrolltolower:e.scrollToLower,scroll:e.onPageScroll}},[i("div",{ref:"scrollInner",staticClass:"scroll-view-inner-wrap"},[e._l(e.game_list,(function(t,n){return i("div",{key:n,staticClass:"rank__item"},[i("game-item",{key:n,staticClass:"game__item-right",class:{border__top:n>0},attrs:{item:t},on:{"jump-to-app":function(i){return e.onClickItem(t,n)}}})],1)})),e.loadingText?i("TextTips",{attrs:{text:e.loadingText}}):e._e(),e.game_list.length&&!e.has_next?i("game-footer"):e._e(),i("PageLoading",{attrs:{show:e.pageError,type:"error",delay:0},on:{retry:e.getData}})],2)])],1)},Tl=[],Ol=new Gr,El={name:"LaunchedGameList",components:{GameItem:Do,PageLoading:gr,KScrollView:Wr,TextTips:Ir,"game-footer":zo},mixins:[qo,Yo],data:function(){return{offset:0,per_page:20,has_next:!0,next_offset:0,game_list:[],pageError:!1,pageLoad:!1,showToast:!1,pageLoading:!1,unExposeList:[],totalHeight:0}},computed:{loadingText:function(){return this.pageError?"":this.pageLoading?"加载中...":this.pageLoad&&!this.game_list.length?"暂无数据":this.pageLoad&&this.game_list.length&&!this.has_next?"":this.pageLoad&&this.game_list.length&&this.has_next?"上拉加载更多":""}},mounted:function(){Ol.setBase(),Ol.send({iSceneId:15,iUIArea:0,iPositionId:0,iActionId:1,iOpType:1}),this.getBoundingRect(),this.getData()},methods:{getBoundingRect:function(){var e=this,t=document.querySelector(".scroll-view-inner-wrap");return new Promise((function(i){if(Object({NODE_ENV:"production",BASE_URL:""}).isMiniprogram)t.$$getBoundingClientRect().then((function(t){i(t),console.log("1 rect ",t),e.scrollViewHeight=window.innerHeight-t.top+"px",console.log("1 scrollViewHeight",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px","")),console.log(e.scrollHeight)}));else{var n=t.getBoundingClientRect();console.log("2 rect ",n),e.scrollViewHeight=window.innerHeight-n.top+"px",console.log("2 scrollViewHeight ",e.scrollViewHeight),e.scrollHeight=Number(e.scrollViewHeight.replace("px",""))}}))},onClickItem:function(e,t){Ol.send({sGameId:e.appid,iSceneId:15,iUIArea:1501,iPositionId:t+1>200?200:t+1,iActionId:71,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}),Pr(e.appid,(function(e){console.log(e)}))},scrollToLower:function(){this.getData()},setReportDataAfterRender:function(){var e=this,t=this.$refs.scrollInner,i=(new Date,t&&t.querySelectorAll(".rank__item")||[]);i=Array.prototype.slice.call(i);var n=(this.pageScrollTop||0)+this.scrollHeight;if(i&&i.length){var a=i.map((function(t,i){return e.game_list[i].exposeData?void 0:(e.game_list[i].exposeData={},Nr(t).then((function(e){return e.listIndex=i,e})))})).filter((function(e){return e})),s=new Date;this.reportPromise=Promise.all(a).then((function(t){t=t.sort((function(e,t){return e.listIndex-t.listIndex})),t.forEach((function(t){e.game_list[t.listIndex].exposeData={top:e.totalHeight,height:t.height},e.totalHeight+=t.height,e.unExposeList.push(e.game_list[t.listIndex])})),console.log("time cost",new Date-s,a.length,e.totalHeight),e.reportExpose(n)}))}},reportExpose:function(e){var t=e||(this.pageScrollTop||0)+this.scrollHeight,i=[];this.unExposeList=this.unExposeList.filter((function(e){return!(e.exposeData.top<t)||(i.push(e),!1)}));var n=i.map((function(e){return{sGameId:e.appid,iSceneId:15,iUIArea:1501,iPositionId:e.iPositionId>200?200:e.iPositionId,iActionId:1,iOpType:1,sExternInfo:JSON.stringify({labelname:(e.tag_list||[]).map((function(e){return e.name||""})).join("_"),score:e.score,friendnum:e.friend_play_desc})}}));console.log("unExposeList length",this.unExposeList.length,"reportList length",n.length),n.length&&Ol.send(n)},onPageScroll:function(e){this.pageScrollTop=e.detail.scrollTop,this.reportExpose()},getData:function(){var e=this;this.has_next&&(this.pageLoading?console.error("loading now!!!"):(this.pageLoading=!0,lr({offset:this.offset,per_page:this.per_page}).then((function(t){if(console.log("getData res",t),e.pageLoad=!0,e.pageLoading=!1,0===t.errcode){var i=t.data,n=void 0===i?{}:i,a=n.game_list,s=void 0===a?[]:a;e.game_list=e.game_list.concat(s),e.has_next=n.has_next,e.offset=n.next_offset,e.game_list.length&&!e.has_next&&Ol.send({iSceneId:15,iUIArea:1501,iPositionId:998,iActionId:1,iOpType:1}),e.game_list.forEach((function(e,t){return e.iPositionId=t+1})),e.$nextTick((function(){e.setReportDataAfterRender()}))}else console.log(t.errcode),0===e.offset&&(e.pageError=!0)})).catch((function(t){e.pageLoading=!1,e.pageLoad=!0,console.log("error",t),0===e.offset&&(e.pageError=!0)}))))}}},Ll=El,jl=(i("23a1"),Object(g["a"])(Ll,kl,Tl,!1,null,null,null)),Pl=jl.exports;o["a"].use(X["a"]);var Dl=[Object(l["a"])({},u.History,{component:it}),Object(l["a"])({},u.HistorySub,{component:lt}),Object(l["a"])({},u.Result,{component:Cs}),Object(l["a"])({},u.ResultSub,{component:Ds}),Object(l["a"])({},u.Suggestion,{component:to}),Object(l["a"])({},u.SuggestionSub,{component:co}),Object(l["a"])({},u.HotNews,{component:fo}),Object(l["a"])({},u.Recommend,{component:Jr}),Object(l["a"])({},u.LeaderBoard,{component:hc}),Object(l["a"])({},u.CategoryList,{component:al}),Object(l["a"])({},u.CategoryDetail,{component:Cl}),Object(l["a"])({},u.LaunchedGameList,{component:Pl})],Nl=new X["a"]({mode:"abstract",base:"",routes:Dl}),Rl=Nl,Ml=i("33a5"),Hl=i.n(Ml);o["a"].config.productionTip=!1;var Bl=new Hl.a({id:"2075",uin:L.uin,reportApiSpeed:!0,reportAssetSpeed:!0});window.curAegis=Bl,o["a"].directive("active",(function(e,t){var i,n,a=t.modifiers;function s(){var t=e.className.split(" ");-1===t.indexOf("active")&&(e.className=t.concat(["active"]).join(" ")),i=0}function o(){var t=e.className.split(" "),i=t.indexOf("active");-1!==i&&t.splice(i,1),e.className=t.join(" "),n=0}function r(){n&&(clearTimeout(n),n=0)}function c(){i&&(clearTimeout(i),i=0)}t.value&&(e.ontouchstart=function(e){a.stop&&e.stopPropagation(),a.prevent&&e.preventDefault(),c(),r(),i=setTimeout((function(){s(),n&&clearTimeout(n),n=setTimeout((function(){o()}),1500)}),300)},e.ontouchmove=function(e){c()},e.ontouchend=function(e){a.stop&&e.stopPropagation(),a.prevent&&e.preventDefault(),c(),r(),n=setTimeout((function(){o()}),100)},e.onclick=function(e){a.stop&&e.stopPropagation(),a.prevent&&e.preventDefault(),c(),r(),s(),n=setTimeout((function(){o()}),200)})})),new o["a"]({router:Rl,store:Ga,render:function(e){return e(J)}}).$mount("#app")},cd53:function(e,t,i){"use strict";i.r(t);i("c975"),i("d3b7"),i("ac1f"),i("5319");var n=wx;n.MAX_REQUEST_COUNT=n.MAX_REQUEST_COUNT||5,n.currentRunning=0,n.requestQueue=[];var a={context:n,reqData:null},s=function(e){var t=Object.create(a);t.reqData=e,n.requestQueue.push(t);var i=function e(){if(n.currentRunning<n.MAX_REQUEST_COUNT){n.currentRunning++;var i=n.requestQueue.shift(),a=i.reqData,s=a.complete;a.complete=function(i){s&&s.call(t.context,i),n.currentRunning--,n.requestQueue.length>0&&e.call(n)},wx.request(a)}};i()},o=s;i("a15b"),i("4d63"),i("25f0"),i("466d"),i("1276");function r(e){return(e&&e.replace?e:"").replace(/(^\s*)|(\s*$)/g,"")}function c(e,t,i){try{t=t||"&",i=i||"=";var n=[];for(var a in e)n.push(a+i+e[a]);return n.join(t)}catch(s){alert(s.message)}}function l(e,t,i){t=t||"&",i=i||"=";var n=e.split(t),a={};for(var s in n){var o=n[s].split(i);2==o.length&&(a[o[0]]=o[1])}return a}function u(e,t){var i=t||"";i=(""+i).replace(/#(.*)$/g,"").replace(/&amp;/g,"&");var n=i.match(new RegExp("[?&]"+e+"=([^&]+)","i"));return null==n||n.length<=1?"":n[1]}var p={mapToStr:c,strToMap:l,trim:r,getQueryStr:u},d={Sync:"Sync",Parallel:"Parallel",Relevant:"Relevant"};function h(e){var t=[];e=e||d.Parallel;this.setSync=function(){e=d.Sync},this.setParallel=function(){e=d.Parallel},this.setRelevant=function(){e=d.Relevant};var i=function(){var i=null;if(e===d.Relevant)while(i=t.shift())"function"==typeof i.backFn&&i.backFn.call(i.context,t.injectData);if(e===d.Sync){while(i=t.shift())if(!i.called)break;if(i&&i.fn)try{t.injectData?i.fn.call(i.context,t.injectData):i.fn.call(i.context)}catch(n){i.context.end=!0}}},n=function(n){if(e===d.Relevant){if("function"!=typeof n.fn)throw"Illegal param, parm.fn should be function ";if("function"!=typeof n.backFn)throw"Illegal param, fn.backFn should be function "}else if(e===d.Sync&&"function"!=typeof n)throw"Illegal param,param should be function ";var a=Object.create(Object.prototype,{end:{get:function(){return this.ended},set:function(e){this.ended=e,!0===e&&i()}}});a.done=function(e){e&&(t.injectData=e),this.end=!0};var s={};if(e===d.Relevant&&(s={fn:n.fn,backFn:n.backFn,context:a}),e===d.Sync&&(s={fn:n,context:a}),t.push(s),"function"!=typeof s.fn)throw"Illegal param,param should be function ";e===d.Relevant&&(t.injectData?i():1===t.length&&(s.fn.call(s.context),s.called=!0)),e===d.Sync&&1===t.length&&(s.fn.call(s.context),s.called=!0)},a=function(e){var t={},i={fn:e,context:t};e.call(i.context)};this.run=function(t){switch(e){case d.Sync:case d.Relevant:n(t);break;case d.Parallel:a(t);break}}}var m={SESSIONKEY:"__SESSION__KEY__",empty:"nil",emptySession:{sessionId:"nil",userId:"nil",lastTime:"nil",openid:"nil"},setSession:function(e){var t=this.getSession();for(var i in e)t[i]=e[i];try{wx.setStorageSync(this.SESSIONKEY,JSON.stringify(t))}catch(n){console.log(n)}},isSessionFull:function(){var e=this.getSession();for(var t in m.emptySession)if(m.empty===e[t]||"0"===e[t]||void 0===e[t])return!1;return!0},getSession:function(){var e=this.emptySession;try{var t=wx.getStorageSync(this.SESSIONKEY)}catch(a){}var i=e;try{(""+t).length>0&&(i=JSON.parse(t+""))}catch(s){i=e}finally{var n=this.getCurrentTimeStamp();i.lastTime<=n&&(i=e)}return i},getCurrentTimeStamp:function(){return parseInt((new Date).getTime()/1e3)}},g=new h;g.setRelevant();var f={addLoginToRequest:function(e){e=e||"";var t=(""+e).replace(/#(.*)$/g,"").replace(/&amp;/g,"&"),i=e,n={},a=t.indexOf("?");if(-1!=a){i=t.substr(0,a);var s=t.substr(a+1);n=p.strToMap(s)}var o=m.getSession();return n.session_id=encodeURIComponent(o.sessionId),e=i+"?"+p.mapToStr(n),e},isLoginExpire:function(e){var t=e;return(""+t.errcode==="-1702220400"||""+t.errcode==="-1702220407"||6211===t.ret||6204===t.logicret)&&(m.setSession(m.emptySession),!0)},request:function(e){var t=this,i=2,n=0;if(v.isLogining)setTimeout((function(){f.request.call(t,e)}),30);else{var a=function(){var e=this;m.isSessionFull()?e.done():v.login((function(){e.done()}))},s=function a(){var s=this,r=f.addLoginToRequest(e.url),c=m.getCurrentTimeStamp()+" call cgi: "+r;console.log(c+" start"),o({url:r,data:e.data,method:e.method,header:{"content-type":e.header?e.header["content-type"]:"application/json"},success:function(o){o=o.data;var r=f.isLoginExpire(o);if(!0===r){var l=new h;l.setSync(),l.run((function(){var a=this;v.login((function(){n<i?(n++,a.done()):e.fail&&e.fail.call(t,{errmsg:"login fail after trying  many times"})}))})),l.run((function(){a.call(s)}))}else e.success&&e.success.call(t,o);console.log(c+" success ")},fail:function(i){e.fail&&e.fail.call(t,i),console.log(c+" fail ",i)},complete:function(i){e.complete&&e.complete.call(t,i)}})};g.run({fn:a,backFn:s})}}},v={login:function(e){v.isLogining=!0,m.setSession(m.emptySession);var t=new h;t.setSync(),t.run((function(){var e=this;wx.login({success:function(t){e.done(t)},fail:function(t){m.setSession(m.emptySession),e.done(t)}})})),t.run((function(e){var t=this,i=e.code,n="https://game.weixin.qq.com/cgi-bin/gameweappwap/login";n="https://game.weixin.qq.com/cgi-bin/gameweappauthwap/login";o({url:n,data:JSON.stringify({code:i,weapp_type:_.weapp_type||1,need_openid:!0}),method:"POST",header:{"content-type":"application/json"},success:function(e){e=e.data,console.log("openid",e.data.openid),t.done(e)},fail:function(e){m.setSession(m.emptySession),t.done(e)}})})),t.run((function(e){var t=this;if(e.data&&e.data.session_id){var i=m.getCurrentTimeStamp(),n={sessionId:e.data.session_id,userId:e.data.user_id,lastTime:i+3600,loginTime:i};e.data.expire_seconds&&(n.lastTime=i+e.data.expire_seconds),e.data.openid&&(n.openid=e.data.openid),m.setSession(n),t.done(n)}else t.done(null)})),t.run((function(t){v.isLogining=!1,"function"==typeof e&&e(t)}))}},_={};t["default"]={prepare:function(e,t){return new Promise((function(i,n){console.log("runed?"),e.prepared||(t=t||{},_.expiredLoginCodeMap=t.expiredLoginCodeMap,_.weapp_type=t.weapp_type,e,v.login.call(e,(function(e){v.isLogining=!1})),e.session=m.getSession.bind(m),e.request=f.request,e.config=t,e.prepared=!0,i(e))}))}}},d0a4:function(e,t,i){},d228:function(e,t,i){"use strict";var n=i("75ef"),a=i.n(n);a.a},d674:function(e,t,i){"use strict";var n=i("7f76"),a=i.n(n);a.a},d881:function(e,t,i){"use strict";var n=i("8bac"),a=i.n(n);a.a},d89f:function(e,t,i){"use strict";i("ac1f");var n={search:"getSearchData",history:"getSearchGuideData",suggestion:"getSearchSuggestionData",setSearchQuery:"setSearchInputWord",getNetworkType:"getNetworkType",openWeAppPage:"openWeAppPage",openSearchWebView:"openSearchWebView",uxSearchOpLog:"uxSearchOpLog",animationBegin:"beginWebSearchAnimation",searchChange:"searchInputChange",searchConfirm:"searchInputConfirm"},a={animationBegin:"onBeginWebSearchAnimation",uiInit:"onUiInit",search:"onSearchDataReady",history:"onSearchGuideDataReady",suggestion:"onSearchSuggestionDataReady",searchChange:"onSearchInputChange",searchConfirm:"onSearchInputConfirm",wxJsBridgeReady:"WeixinJSBridgeReady"},s={};s[n.search]=a.search,s[n.history]=a.history,s[n.suggestion]=a.suggestion,s[n.animationBegin]=a.animationBegin,s[n.searchChange]=a.searchChange,s[n.searchConfirm]=a.searchConfirm;var o={setMovieProvider:"/wxa-cgi/innersearch/setvideoprovider",getMovieProvider:"/wxa-cgi/innersearch/getvideoprovider",subSearch:"/wxa-cgi/innersearch/subsearch",subSuggest:"/wxa-cgi/innersearch/subsearchgetsuggestion",hotNews:"/wxa-cgi/innersearch/subsearchhotnewsquery",subHistory:"/wxa-cgi/innersearch/subsearchgethistory",subHistoryDel:"/wxa-cgi/innersearch/subsearchdelhistory",ossReport:"https://mp.weixin.qq.com/wxasearch/report",ossReportNew:"/wxa-cgi/innersearch/reportsearchbusiness",ossCommon:"https://mp.weixin.qq.com/mp/wapcommreport",reportCostTime:"https://mp.weixin.qq.com/wxasearch/wxa_search_costtime"},r={methodName:n,eventName:a,methodEventMap:s,cgiName:o};t["a"]=r},d973:function(e,t,i){},d9a3:function(e,t,i){"use strict";var n=i("f165"),a=i.n(n);a.a},de4b:function(e,t,i){},e057:function(e,t,i){},e10a:function(e,t,i){},e176:function(e,t,i){},e4f3:function(e,t,i){},e729:function(e,t,i){},e9dd:function(e,t,i){"use strict";var n=i("e176"),a=i.n(n);a.a},eb19:function(e,t,i){"use strict";var n=i("ecc2"),a=i.n(n);a.a},ec2d:function(e,t,i){"use strict";var n=i("2122"),a=i.n(n);a.a},ecc2:function(e,t,i){},f165:function(e,t,i){},f39b:function(e,t,i){"use strict";var n=i("f4f9"),a=i.n(n);a.a},f4f9:function(e,t,i){},f537:function(e,t,i){"use strict";var n=i("c487"),a=i.n(n);a.a},f55e:function(e,t,i){"use strict";var n=i("c8bd"),a=i.n(n);a.a},fbf9:function(e,t,i){"use strict";var n=i("1111"),a=i.n(n);a.a},fd17:function(e,t,i){"use strict";var n=i("1ea2"),a=i.n(n);a.a}});