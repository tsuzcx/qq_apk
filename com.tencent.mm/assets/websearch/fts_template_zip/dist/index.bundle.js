(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1008:function(t,e,i){},1009:function(t,e,i){},1010:function(t,e,i){},1011:function(t,e,i){},1012:function(t,e,i){},1013:function(t,e,i){},1014:function(t,e,i){},1015:function(t,e,i){},1016:function(t,e,i){},1017:function(t,e,i){},1018:function(t,e,i){"use strict";var n=i(538);i.n(n).a},1019:function(t,e,i){},1020:function(t,e,i){},1021:function(t,e,i){},1022:function(t,e,i){},1023:function(t,e,i){},1024:function(t,e,i){},1562:function(t,e,i){"use strict";var n=i(1008);i.n(n).a},1563:function(t,e,i){"use strict";var n=i(1009);i.n(n).a},1564:function(t,e,i){"use strict";var n=i(1010);i.n(n).a},1565:function(t,e,i){"use strict";var n=i(1011);i.n(n).a},1566:function(t,e,i){"use strict";var n=i(1012);i.n(n).a},1567:function(t,e,i){"use strict";var n=i(1013);i.n(n).a},1568:function(t,e,i){"use strict";var n=i(1014);i.n(n).a},1569:function(t,e,i){"use strict";var n=i(1015);i.n(n).a},1570:function(t,e,i){"use strict";var n=i(1016);i.n(n).a},1571:function(t,e,i){"use strict";var n=i(1017);i.n(n).a},1572:function(t,e,i){"use strict";var n=i(1019);i.n(n).a},1573:function(t,e,i){"use strict";var n=i(1020);i.n(n).a},1574:function(t,e,i){"use strict";var n=i(1021);i.n(n).a},1575:function(t,e,i){"use strict";var n=i(1022);i.n(n).a},1576:function(t,e,i){"use strict";var n=i(1023);i.n(n).a},1577:function(t,e,i){"use strict";var n=i(1024);i.n(n).a},1703:function(t,e,i){"use strict";i.r(e);var n=i(167),r=i.n(n),o=i(98),s=i.n(o),a=i(1),c=i.n(a),d=i(0),u=i(26),l=i(22),p=i(531),f=i(37),h=i(2),m=i(96),v=i(5);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function g(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var _={props:{items:{type:Array,default:function(){return[]}}},data:function(){return{deviceType:d.b.os.ios?1:d.b.os.android?2:-1}},methods:{onTap:function(t,e){this.$emit("tap",g(g({},t),{},{type:t.businessType,focusSearchBar:!0}),{skipCommonReport:!0,customReport:[{logid:15521,log_buffer:[+d.b.scene,"",+Date.now(),+t.businessType].join(",")},{logid:21441,log_buffer:["",d.b.sessionId||"",3,t.businessType,e,t.hotword].join(",")}]}),d.e.reportEventTrack({actionType:1001,scene:h.c.S1S_VERTICAL,type:t.businessType})}}},b=(i(1562),i(25)),x=Object(b.a)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.items.length?i("div",{staticClass:"list"},[t._l(t.items,(function(e,n){return i("div",{key:e.hotword,staticClass:"item",attrs:{"data-expose-id":"__vertEntries__$"+e.businessType+"$"+n+"$"+e.hotword,role:"button"},on:{click:function(i){return t.onTap(e,n+1)}}},[t._v("\n    "+t._s(e.hotword)+"\n  ")])})),t._v(" "),t._l([0,1,2],(function(t){return i("div",{key:"occupied_"+t,staticClass:"item_occupied",attrs:{"aria-hidden":"true"}})}))],2):t._e()}),[],!1,null,"65993230",null).exports,O=i(529);function w(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function T(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?w(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var I={components:{tags:O.a},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:null},headJumpUrl:{type:Object,default:null},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0},tailSplitLine:{type:Boolean,default:!0},bdExpandStyle:{type:String,default:""}},data:function(){return{collapsed:!0,EVENT_TYPE:{NORMAL:0,COLLAPSE:1}}},computed:{needExpand:function(){return this.config&&this.config.foldPos>0&&this.config.foldPos<this.items.length},visibleItems:function(){return this.needExpand&&this.collapsed?this.items.slice(0,this.config.foldPos):this.items}},methods:{onTap:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(t===this.EVENT_TYPE.COLLAPSE)return this.collapsed=!this.collapsed,void this.$emit("tap",{realType:this.realType,itemPos:0,hotword:this.collapsed?"收起":"更多"},{skipOpt:!0,triggerExpose:!0});this.headJumpUrl&&this.headJumpUrl.optype&&this.$emit("tap",T(T({},this.headJumpUrl),{},{realType:this.realType,itemPos:0}))}}},j=(i(1563),Object(b.a)(I,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("div",{staticClass:"box__hd",class:t.headJumpUrl&&t.headJumpUrl.optype?"more":"",on:{click:t.onTap}},[i("div",{staticClass:"box__hdl",attrs:{role:"option"}},[t.iconUrl?i("online-image",{staticClass:"box__icon",attrs:{url:t.iconUrl}}):t._e(),t._v(" "),i("span",{class:{box__title:!0}},[t._v("\n        "+t._s(t.title)+"\n      ")]),t._v(" "),i("tags",{staticClass:"box__tag",attrs:{tags:t.tags}})],1),t._v(" "),t.headJumpUrl&&t.headJumpUrl.optype?i("div",{staticClass:"box__hdr",attrs:{role:"option"}},[i("div",{attrs:{"data-expose-id":t.realType+"#-1"}},[t._v("\n        "+t._s(t.moreText)+"\n      ")]),t._v(" "),i("svg-icon",{staticClass:"box__arrow",staticStyle:{"margin-left":"4px"},attrs:{name:"arrow"}})],1):t.needExpand?i("div",{staticClass:"box__hdr"},[i("div",{staticClass:"box__dropdown",attrs:{"data-expose-id":t.realType+"#-1",role:"button"},on:{click:function(e){return t.onTap(t.EVENT_TYPE.COLLAPSE)}}},[t._v("\n        "+t._s(t.collapsed?"更多":"收起")+"\n        "),i("svg-icon",{staticClass:"box__arrow",class:t.collapsed?"box__arrow-down":"box__arrow-up",staticStyle:{"margin-left":"8px"},attrs:{name:"arrow"}})],1)]):t._e()]),t._v(" "),i("div",{staticClass:"box__bd",style:t.bdExpandStyle},[t._t("default",null,{items:t.visibleItems,realType:t.realType})],2)])}),[],!1,null,"771ad6c6",null).exports),S=i(74),C=i(13),E=i(119);function D(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function P(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?D(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var k=i(8).default,N={components:{tags:O.a},mixins:[E.a,d.k],props:{type:{type:Number,default:0},title:{type:String,default:""},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0},realType:{type:Number,default:0}},data:function(){return{inputMargin:k.queryString.inputMarginLeftRight||20}},computed:{localStorage:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t={};try{t=JSON.parse(localStorage.getItem("redPots")||"{}")}catch(t){}return t.redPots||(t.redPots=[]),t})),isNewHotList:function(){return"guidePageList"===this.$store.state.index.dataType}},methods:{_doSearchOperation:function(t,e){C.a.WeixinJSBridgeInvoke("doSearchOperation",C.a.extend({action:2,scene:h.c.S1S},t),e||function(){})},tap:function(t){var e=this;k.setValue({searchId:""});var i=t.currentTarget,n=+C.a.attr(i,"data-index"),r=this.items[n];r.opType=r.optype||r.opType||h.b.search,i.className=i.className.replace("hotword-box__red-dot","");var o=this.items[n].redDotId;o&&-1===this.localStorage.redPots.indexOf(o)&&(this.localStorage.redPots.push(o),localStorage.setItem("redPots",JSON.stringify(this.localStorage)));var s=e.M_composeParentSid({t:h.i.INDEX_HOT_WORD,s:e.$store.state.index.recommendId,did:e.items[n].id,rid:e.$store.state.index.requestId});r.opType==h.b.search?(e.M_checkSpecialSearchBeforeLaunchNewSearch({query:r.hotword,callback:function(){d.g.setInputBar({query:r.hotword,isInputChange:!1}),v.a.$emit(v.b.GOTO,{page:h.d.RESULT,query:r.hotword||"",action:h.h.HOT_WORD,searchId:"",extReqParams:{key:"parentSearchID",textValue:s}})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}}),this._doSearchOperation({action:3,query:r.hotword,scene:h.c.S1S}),C.a.reportRealTime({scene:k.scene,recommendId:this.$store.state.index.recommendId,businessType:this.type,docId:this.items[n].id,docPos:n+1,typePos:this.typePos,isHomePage:0}),Object(u.e)(S.a.feature.indexHotWord)):r.opType==h.b.weapp?e.M_go(r):e.M_startDetail(r),this.$emit("tap",P(P({},r),{},{realType:this.realType,itemPos:n+1}),{skipOpt:!0})},checkRedPot:function(t){return!!t&&!this.localStorage.redPots.some((function(e){return e===t}))}}},R=(i(1564),Object(b.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hotword-box",style:{paddingLeft:t.inputMargin+"px",paddingRight:t.inputMargin+"px",paddingTop:0}},[i("div",{staticClass:"hotword-box__inner"},[i("div",{staticClass:"hotword-box__hd"},[i("span",{staticClass:"hotword-box__title"},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),i("div",{staticClass:"hotword-box__bd"},[i("ul",t._l(t.items,(function(e,n){return i("li",{key:e.hotword+n,class:{"hotword-box__red-dot":t.checkRedPot(e.redDotId)},attrs:{"data-index":n,"data-expose-id":t.realType+"#"+n+"##"+(e.id||""),role:"button"},on:{click:t.tap}},[i("div",{staticClass:"hotword-box__wrap"},[i("h4",[i("span",{staticClass:"hotword-box__word"},[t._v("\n                "+t._s(e.hotword)+"\n              ")]),t._v(" "),i("tags",{attrs:{tags:e.tags,"aria-hidden":"true"}})],1)]),t._v(" "),i("div",{staticClass:"hotword-box__desc"},[t._v("\n            "+t._s(e.desc)+"\n          ")])])})),0)])])])}),[],!1,null,null,null).exports),$=i(12);function q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?q(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var A=!1,W={mixins:[d.k],props:{type:{type:Number,default:0},realType:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0}},created:function(){if(!A){var t=this.items[0];if(!t)return;$.a.preloadWeapp({userName:t.userName,appId:t.appId,preloadEnv:!0,fakeNative:!0}),A=!0}},methods:{tapGoodThing:function(t,e){var i=d.c.getStore("goodTingRedDot");"[object Array]"!==Object.prototype.toString.apply(i)&&(i=[]);var n=e.currentTarget;setTimeout((function(){n.querySelector(".index__good-thing-title").className="index__good-thing-title"}),500),t.redDotId&&(i.push(t.redDotId),d.c.store("goodTingRedDot",i)),this.M_clickReport({businessType:this.type,docId:t.id,expand:"好物圈点击",recommendId:this.$store.state.index.data.searchID}),this.$emit("tap",L(L({},t),{},{docId:t.tabID||"好物圈",optype:t.optype||h.b.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1})},detectRedDot:function(t){if(!t.redDotId)return!1;var e=d.c.getStore("goodTingRedDot");return!e||!e.length||-1===e.indexOf(t.redDotId)}}},B=(i(1565),Object(b.a)(W,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index__good-thing"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"index__good-thing-info",attrs:{"data-expose-id":t.realType+"#"+n+"##"+(e.id||""),role:"button"},on:{click:function(i){return t.tapGoodThing(e,i)}}},[i("div",{directives:[{name:"image",rawName:"v-image:plain",value:e.iconUrl,expression:"item.iconUrl",arg:"plain"}],staticClass:"index__good-thing-icon"}),t._v(" "),i("div",{staticClass:"index__good-thing-title",class:{"index__good-thing-reddot":t.detectRedDot(e)}},[i("span",[t._v(t._s(e.hotword||e.title))])])])})),0)}),[],!1,null,"a125bf70",null).exports),U={components:{tags:O.a},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0},multiCols:{type:Number,default:1},splitLine:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0}},computed:{colsStyle:function(){return"width: ".concat({1:"100%",2:"50%",3:"33.3%",4:"25%",5:"20%"}[this.multiCols]||"100%",";")}}},H=(i(1566),Object(b.a)(U,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,class:{item:!0,item_splited:t.splitLine},style:t.colsStyle,attrs:{"data-expose-id":t.realType+"#"+n,role:"button"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1}))}}},[t.showIndex?i("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(n+1)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"item__bd"},[i("div",{staticClass:"item__row"},[i("div",{staticClass:"item__rowl"},[i("div",{staticClass:"item__hotword"},[t._v("\n            "+t._s(e.hotword)+"\n          ")]),t._v(" "),i("tags",{staticClass:"item__tags",attrs:{tags:e.tags,"aria-hidden":"true"}})],1),t._v(" "),e.hotWording&&e.hotWording[0]?i("div",{staticClass:"item__hotWording"},[t._v("\n          "+t._s(e.hotWording&&e.hotWording[0])+"\n        ")]):t._e()]),t._v(" "),e.desc?i("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()])])})),0)}),[],!1,null,"090e4bd6",null).exports),M={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},V=(i(1567),Object(b.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+n,role:"button"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1}))}}},[i("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(n+1)+"\n    ")]),t._v(" "),i("div",{class:{item__bd:!0,"item__bd_no-desc":!e.desc,item__bd_desc:!!e.desc}},[i("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),t._v(" "),e.desc?i("div",{staticClass:"item__desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e(),t._v(" "),i("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),t._v(" "),e.picUrl?i("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}):t._e()],1)})),0)}),[],!1,null,"e883589a",null).exports),J={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),i=t%60,n=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(n(e),":").concat(n(i))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},F=(i(1568),Object(b.a)(J,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+n,role:"button"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1}))}}},[i("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[t._v("\n      "+t._s(n+1)+"\n    ")]),t._v(" "),i("div",{staticClass:"item__bd"},[i("div",{staticClass:"item__hotword"},[t._v("\n        "+t._s(e.hotword)+"\n      ")]),t._v(" "),i("div",{staticClass:"item__hotWording"},[t._v("\n        "+t._s(e.hotWording&&e.hotWording[0]||"")+"\n      ")])]),t._v(" "),i("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[i("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl}}),t._v(" "),i("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1)])})),0)}),[],!1,null,"40da9404",null).exports),z={filters:{formatDuration:function(t){if(!t)return"";var e=Math.floor(t/60),i=t%60,n=function(t){return t<10?"0".concat(t):"".concat(t)};return"".concat(n(e),":").concat(n(i))}},props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},G=(i(1569),Object(b.a)(z,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+n,role:"button"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1}))}}},[i("div",{staticClass:"item__pic",attrs:{"aria-hidden":"true"}},[i("online-image",{staticStyle:{width:"100%",height:"100%"},attrs:{url:e.picUrl}}),t._v(" "),i("svg-icon",{staticClass:"item__play-icon",attrs:{name:"video_play_circle"}}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.duration,expression:"item.duration"}],staticClass:"item__meta"},[t._v("\n        "+t._s(t._f("formatDuration")(e.duration))+"\n      ")])],1),t._v(" "),i("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")]),t._v(" "),i("div",{staticClass:"item__desc"},[t._v("\n      "+t._s(e.desc||e.hotWording&&e.hotWording[0]||"")+"\n    ")])])})),0)}),[],!1,null,"3db2d914",null).exports),X={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}}},Y=(i(1570),Object(b.a)(X,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+n,role:"option"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1,needRecord:1}))}}},[i("online-image",{staticClass:"item__pic",attrs:{url:e.picUrl}}),t._v(" "),i("div",{staticClass:"item__hotword"},[t._v("\n      "+t._s(e.hotword)+"\n    ")])],1)})),0)}),[],!1,null,"37e08be8",null).exports);function K(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Q(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?K(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Z=!1,tt={mixins:[d.k],props:{type:{type:Number,default:0},realType:{type:Number,default:0},items:{type:Array,default:function(){return[]}},typePos:{type:Number,default:0}},created:function(){if(!Z){var t=this.items[0];if(!t)return;$.a.preloadWeapp({userName:t.userName,appId:t.appId,preloadEnv:!0,fakeNative:!0}),Z=!0}},methods:{tapGoodThing:function(t,e){var i=d.c.getStore("goodTingRedDot");"[object Array]"!==Object.prototype.toString.apply(i)&&(i=[]);var n=e.currentTarget;setTimeout((function(){var t=n.querySelector(".reddot");t&&(t.style.display="none")}),500),t.redDotId&&(i.push(t.redDotId),d.c.store("goodTingRedDot",i)),this.M_clickReport({businessType:this.type,docId:t.id,expand:"好物圈点击",recommendId:this.$store.state.index.data.searchID}),this.$emit("tap",Q(Q({},t),{},{docId:t.tabID||"好物圈",optype:t.optype||h.b.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1})},detectRedDot:function(t){if(!t.redDotId)return!1;var e=d.c.getStore("goodTingRedDot");return!e||!e.length||-1===e.indexOf(t.redDotId)}}},et=(i(1571),Object(b.a)(tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.items,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"box",attrs:{"data-expose-id":t.realType+"#"+n+"##"+(e.id||""),role:"button"},on:{click:function(i){return t.tapGoodThing(e,i)}}},[i("div",{directives:[{name:"image",rawName:"v-image:plain",value:e.iconUrl,expression:"item.iconUrl",arg:"plain"}],staticClass:"icon"}),t._v(" "),i("div",{staticClass:"info"},[i("div",{staticClass:"title"},[t._v("\n        "+t._s(e.hotword||e.title)+"\n        "),t.detectRedDot(e)?i("div",{staticClass:"reddot",class:1===e.redDotType?"reddot_newtag":"reddot_normal"}):t._e()]),t._v(" "),e.desc?i("div",{staticClass:"desc"},[t._v("\n        "+t._s(e.desc)+"\n      ")]):t._e()]),t._v(" "),i("svg-icon",{staticClass:"box-arrow",attrs:{name:"arrow"}})],1)})),0)}),[],!1,null,"73337e34",null).exports),it=i(544);function nt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function rt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?nt(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):nt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ot=!1,st={components:{reddotBadge:it.a},mixins:[d.k],props:["items","type","realType"],mounted:function(){this.reddotExposeTimeout=null,this.reddotExposeList=[]},created:function(){ot||($.a.preloadWeapp({userName:"wxdb2453762cc14cf3",appId:"gh_8e88e2b28133@app",preloadEnv:!0,fakeNative:!0}),ot=!0)},methods:{tapService:function(t,e,i){if(t&&t.jumpInfo){var n=i.serviceEntry.id||"",r=i.serviceEntry.title||"",o={};if(t.redDotInfo){var s=this.$refs["reddot-".concat(t.id)],a=s&&s[0]||{};a.isShow&&(a.onClick({delay:500}),o={if_reddot:1,reddot_key:t.redDotInfo.key||"",reddot_content:t.redDotInfo.text||""},$.a.commonCgi({cgiName:f.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:[{key:t.redDotInfo.key||"",type:1,action:2}]}}))}this.$emit("tap",rt(rt({},t),{},{docId:this.tabID,optype:h.b.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(t,e+1,n,1,r,o)}]})}},onReddotExpose:function(t){var e=this;clearTimeout(this.reddotExposeTimeout),this.reddotExposeList.push({key:t.redDotInfo.key,type:1,action:1}),this.reddotExposeTimeout=setTimeout((function(){e.reddotExposeList&&e.reddotExposeList.length&&$.a.commonCgi({cgiName:f.a.serviceBoxReportRedDot,data:{cmd:"ReportRedDot",list:e.reddotExposeList}})}),100)},tapNotification:function(t,e,i){if(t&&t.jumpInfo){var n=i.notification.id||"",r=t.title||"",o=rt(rt({},t),{},{id:t.id,title:t.desc});this.$emit("tap",rt(rt({},t),{},{docId:this.tabID||"常用服务",optype:h.b.weapp,realType:this.realType,itemPos:1}),{recordToRecentUsedWeApp:!1,skipCommonReport:!0,customReport:[{logid:20940,log_buffer:this.getReportItem(o,e+1,n,2,r)}]})}},getServExposeId:function(t,e,i){return t&&i?"".concat(this.realType,"-").concat(i.serviceEntry.id||"","-0-").concat(t.id,"-").concat(e+1,"-").concat(t.redDotInfo?"".concat(t.redDotInfo.key,"-").concat(t.redDotInfo.text):""):""},getReportItem:function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!t)return"";var s=this,a={page_id:"6780749134400913529",boxid:i,box_name:r,box_index:n,item_index:e,item_name:t.title||"",item_id:t.id||"",item_ext:o,appid:t.jumpInfo&&t.jumpInfo.weappAppid||"",username:t.jumpInfo&&t.jumpInfo.userName||"",url:t.jumpInfo&&t.jumpInfo.jumpUrl||t.jumpInfo.weappUrl||"",type:2e4,report_query:{businesstype:d.b.type,search_scene:d.b.scene,search_id:s.$store.state.index.recommendId}};return this.genKVLogString({DeviceModel:"unknown",DeviceBrand:"unknown",OsName:"unknown",OsVersion:"-1",LanguageVersion:"zh_CN",StartTime:Date.now(),EndTime:Date.now(),Count:1,ClientIPV6:"unknown",appId:"",pageName:"unknown",scene:d.b.scene,sessionId:s.$store.state.index.recommendId,appVersion:"-1",actionLog:encodeURIComponent(JSON.stringify([a]))})},genKVLogString:function(t){var e="";return Object.keys(t).forEach((function(i){0!==e.length&&(e+=","),e+=t[i]})),e}}},at=(i(1572),Object(b.a)(st,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.items.length?i("div",{staticClass:"list"},t._l(t.items,(function(e,n){return i("div",{key:n,staticClass:"item"},[e.serviceEntry?i("div",{staticClass:"service"},[i("div",{staticClass:"service_title"},[t._v(t._s(e.serviceEntry.title))]),t._v(" "),e.serviceEntry.list&&e.serviceEntry.list.length?i("div",{staticClass:"service_box"},t._l(e.serviceEntry.list,(function(n,r){return i("div",{key:n.id,staticClass:"service_box_item",attrs:{"data-expose-id":t.realType+"#"+r+"##"+t.getServExposeId(n,r,e),role:"button"},on:{click:function(i){return t.tapService(n,r,e)}}},[i("div",{staticClass:"service_box_item-inner"},[i("div",{staticClass:"icon_box"},[i("ui-image",{staticClass:"icon",attrs:{size:32,url:n.iconUrl}}),t._v(" "),n.redDotInfo?i("reddot-badge",{ref:"reddot-"+n.id,refInFor:!0,staticClass:"reddot-badge",attrs:{id:n.redDotInfo.key,text:n.redDotInfo.text,"related-id":n.id},on:{expose:function(e){return t.onReddotExpose(n)}}}):t._e()],1),t._v(" "),n.title?i("div",{staticClass:"title",domProps:{innerHTML:t._s(t.xss(n.title))}}):t._e(),t._v(" "),n.desc?i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.xss(n.desc))}}):t._e()])])})),0):t._e()]):t._e(),t._v(" "),e.notification&&e.notification.list&&e.notification.list.length?i("div",{staticClass:"notification"},t._l(e.notification.list,(function(n,r){return i("div",{key:n.id,staticClass:"notification_item",attrs:{"data-expose-id":t.realType+"#"+(1e4+r)+"##"+t.realType+"-"+(e.notification.id||"")+"-1-"+n.id+"-"+r,role:"button"},on:{click:function(i){return t.tapNotification(n,r,e)}}},[i("div",{staticClass:"notification_inner"},[i("div",{staticClass:"notification_item_title"},[t._v(t._s(n.title))]),t._v(" "),i("div",{staticClass:"notification_item_desc"},[t._v(t._s(n.desc))]),t._v(" "),i("div",{staticClass:"notification_item_sub"},[t._v(t._s(n.sub))]),t._v(" "),i("svg-icon",{staticClass:"notification_item_arrow",attrs:{name:"arrow"}})],1)])})),0):t._e()])})),0):t._e()}),[],!1,null,"792711f7",null).exports);function ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function dt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ut,lt={props:{items:{type:Array,default:function(){return[]}},realType:{type:Number,default:0}},computed:{list:function(){return this.items.map((function(t){return dt(dt({},t),{},{tag:t.tags&&t.tags[0]||null})}))}}},pt=(i(1573),Object(b.a)(lt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list"},t._l(t.list,(function(e,n){return i("div",{key:t.realType+"#"+n,staticClass:"item",attrs:{"data-expose-id":t.realType+"#"+n,role:"option","aria-label":n+1+" "+(e.hotword||"")+(e.tag&&e.tag.title||"")+"，链接"},on:{click:function(i){return t.$emit("tap",Object.assign({},e,{realType:t.realType,itemPos:n+1}))}}},[i("div",{staticClass:"item__index",attrs:{"aria-hidden":"true"}},[i("span",[t._v("\n        "+t._s(n+1)+"\n      ")])]),t._v(" "),i("div",{staticClass:"item__bd",attrs:{"aria-hidden":"true"}},[i("span",{style:{marginRight:(e.tag?4:0)+"px"}},[t._v(t._s(e.hotword))]),t._v(" "),e.tag?i("ui-tag",t._b({},"ui-tag",e.tag||{},!1)):t._e()],1)])})),0)}),[],!1,null,"7ce5a9a3",null).exports),ft={functional:!0,render:function(t){return t("div")}},ht={functional:!0,render:function(t,e){var i=e.props,n=e.listeners,r=function(e){return t(e,{props:i,on:n})},o=function(e,r,o){return r?Object.assign(r,i):r=i,t(j,{props:r,on:n,scopedSlots:{default:function(i){return o?Object.assign(o,i):o=i,t(e,{props:o,on:n})}}})},s=i.type,a=i.items;if(a&&a.length>0)switch(s){case 2:return r(R);case 12:return r(B);case 15:return o(pt,{bdExpandStyle:"padding-bottom: 4px;"});case 25:return o(H,{},{multiCols:1,splitLine:!0,showIndex:15==s});case 16:return o(H,{},{multiCols:2});case 17:return o(V,{bdExpandStyle:"padding-bottom: 4px;"});case 18:return o(F,{bdExpandStyle:"padding-bottom: 4px;"});case 19:return o(G);case 20:return o(Y,{bdExpandStyle:"padding-bottom: 10px;"});case 21:return r(et);case 24:return r(at)}return t(ft)},props:{type:{type:Number,default:0},realType:{type:Number,default:0},title:{type:String,default:""},iconUrl:{type:String,default:""},items:{type:Array,default:function(){return[]}},config:{type:Object,default:function(){return null}},headJumpUrl:{type:Object,default:function(){return null}},tags:{type:Array,default:function(){return[]}},moreText:{type:String,default:""},typePos:{type:Number,default:0}}},mt={},vt=(i(1574),Object(b.a)(mt,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tail"})}),[],!1,null,"828e560e",null).exports),yt={mixins:[d.k],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},methods:{tap:function(){this.M_go(this.item),this.$emit("tap:setting",this.item)}}},gt=(i(1575),Object(b.a)(yt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"link-wrap"},[e("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",attrs:{role:"link"},on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,"4c61d8a2",null).exports),_t=new(i(16).a)({setting:1}),bt={components:{setting:gt},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:_t}},methods:{onTapSetting:function(t){this.$emit("tap:setting",t)}}};i(1576);function xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(i),!0).forEach((function(e){c()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function wt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l.a.commit("index/getSearchRid"),e=Ot(Ot({},e),{},{query:e.query||(t.isNewHotList?"new":"")}),d.e.reportEventTrack({requestId:t.requestId,actionType:203,query:e.query}),d.g.getTeach(Ot(Ot({},d.b.getBase()),{},{requestType:m.a.requestType.net,requestId:l.a.state.index.requestId}),Ot({requestId:l.a.state.index.requestId},e))}var Tt={components:{"vert-entries":x,tail:vt,"index-comp":ht,bottom:Object(b.a)(bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-bottom"},t._l(t.data.items,(function(e,n){return i(t.types[e.type||1],t._b({key:n,tag:"components",attrs:{item:e,"data-expose-id":"__bottomComp__$"+(e.type||1)+"$"+n},on:{"tap:setting":t.onTapSetting}},"components",t.$props,!1))})),1)}),[],!1,null,"8dc81e5a",null).exports},mixins:[d.i,d.k],data:function(){return{nativeHeight:0,showAllOperateItem:!1,isFirstEnter:!0,banList:[],deviceType:d.b.os.ios?1:d.b.os.android?2:-1}},computed:{bottomData:function(){return this.$store.state.index.bottom||null},ret:function(){var t=this,e=this.$store.state.index.data;return e&&this.handleExpose(),(e&&e.data||[]).reduce((function(e,i){return t.banList.indexOf(i.realType)<0&&(13===i.realType?(t.handleFrequentSearchBizsFetch(),t.frequentSearchBizs.length>0&&e.push(Ot(Ot({},i),{},{items:t.frequentSearchBizs}))):e.push(i)),e}),[])},requestId:function(){return this.$store.state.index.requestId},isNewHotList:function(){return"guidePageList"===this.$store.state.index.dataType},vertEntries:function(){return this.$store.state.index.vertEntries},defaultNativeHeight:function(){return this.$store.state.index.defaultNativeHeight},realNativeHeight:function(){return this.nativeHeight>0?this.nativeHeight:this.defaultNativeHeight},frequentSearchBizs:function(){return this.$store.state.index.frequentSearchBizs.map((function(t){return{hotword:t.nickName,picUrl:t.avatarUrl,userName:t.userName,optype:3}})).filter((function(t){return!!t.hotword&&!!t.picUrl&&!!t.userName})).slice(0,8)}},watch:{$route:function(t){var e=this;"index"===t.name&&(e.isFirstEnter=!1,wt(e),e.$nextTick((function(){e.showAllOperateItem=!0})))}},created:spy((function(){var t=this;if(d.f.queryString.nativeHeight&&(t.nativeHeight=+d.f.queryString.nativeHeight),d.b.queryString.isPreload){var e=t.$store.state.onUiInitData;i(),e&&e.nativeHeight&&(t.nativeHeight=+e.nativeHeight)}else i();function i(){f.b.onTeachReady((function(e){var i=e.opts||{};0===d.b.type&&(d.e.reportEventTrack({requestId:e.requestId||t.requestId,actionType:208,query:i.query}),t.init(e),d.g.log({msg:"[index onTeachSearchDataReady] ".concat(JSON.stringify(e)),level:"info"}))})),wt(t,{query:"getData_onUiInit"})}d.f.WeixinJSBridgeOn("onBeginWebSearchAnimation",(function(){t.showAllOperateItem=!1})),d.g.preloadWeapp({preloadEnv:!0,fakeNative:!0}),f.b.onWebviewResume((function(){t.$route.name==h.d.INDEX&&wt(t)})),f.b.onInputChange((function(t){t&&t.isCancelButtonClick&&window.scrollTo(0,0)}));var n=window.points&&window.points[0];d.e.reportEventTrack({actionType:200,timeStamp:n})})),mounted:function(){this.banList=d.c.getStore("HomePageBanList",[])||[]},destroyed:function(){d.c.store("HomePageBanList",this.banList),ut&&ut.destory()},methods:{_dataHandler:function(t){try{t="string"==typeof t.json?JSON.parse(t.json):t.json}catch(e){t={}}return t},_doSearchOperation:function(t,e){d.f.WeixinJSBridgeInvoke("doSearchOperation",d.f.extend({action:2,scene:h.c.S1S},t),e||function(){})},init:spy((function(t){var e=t.opts||{};d.g.log({msg:"[index init]".concat(JSON.stringify(t)),level:"info"});var n=this;if(t.requestId&&t.requestId!=n.requestId)Object(u.e)(d.j.feature.hotWord.ridFail);else if(void 0!==(t=this._dataHandler(t)).preSearchSwitch&&d.b.setValue({preSearchSwitch:t.preSearchSwitch}),0==t.businessType){ut&&ut.resetExposeId(),t.searchID||t.data.length&&(BJ_REPORT.info("recommendId empty：".concat(JSON.stringify(t))),Object(u.e)(d.j.feature.indexRidEmpty)),n.showAllOperateItem||(n.showAllOperateItem=!0);var r=t.data;r?(r.length||Object(u.e)(d.j.feature.hotWord.ddLengthFail),n.$store.commit("index/updateData",{data:t}),n.$store.commit("index/updateVertEntries",t&&t.discoverSearchGuide||{}),setTimeout((function(){d.e.reportEventTrack({requestId:n.requestId,actionType:209,query:e.query}),Promise.all([i.e(1),i.e(2),i.e(16),i.e(0),i.e(12)]).then(i.bind(null,1701)).then((function(){d.e.reportEventTrack({requestId:n.requestId,actionType:230,query:e.query})}))}),0),d.f.WeixinJSBridgeInvoke("updateReddotTimeStamps",{reddotTimeStamps:t.timestamp,isSearch:1},(function(){}))):Object(u.e)(d.j.feature.hotWord.ddFail)}else Object(u.e)(d.j.feature.hotWord.busFail)})),handleFrequentSearchBizsFetch:function(){if(this.frequentSearchBizs.length){var t=[],e=[];this.frequentSearchBizs.forEach((function(i,n){t.push(n+1),e.push("".concat(encodeURIComponent(i.hotword),"#").concat(i.userName))}));var i=["",4,13,this.$store.state.index.data.searchID||"",d.b.sessionId||"",t.join(";"),e.join(";")].join(",");d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:[{logid:21103,log_buffer:i}]}})}},handleExpose:function(){var t=this;setTimeout((function(){ut||(ut=new p.Expose((function(e){if(e.length){var i=e.reduce((function(t,e){if(!e)return t;var i=e.split("$");if("__vertEntries__"!==i[0]||i.length<4)return t;var n=Number(i[1]),r=Number(i[2]),o=i[3];return t.push([n,r+1,o]),t}),[]);if(i.length){var n=i.map((function(t){return t[0]})).join("_"),r=i.map((function(t){return t[1]})).join(";"),o=i.map((function(t){return t[2]})).join("_"),a=["",d.b.sessionId||"",2,n,r,o].join(",");d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:t.deviceType,item_list:[{logid:21441,log_buffer:a}]}})}var c,u,l=[],p=[];if(e.forEach((function(t){var e=(t||"").split("##"),i=s()(e,2);c=i[0],u=i[1],c&&p.push(c),u&&l.push(u)})),p.length>0){var h=p.reduce((function(t,e){if(!e)return t;var i=e.split("#");if(i.length<2)return t;var n=Number(i[0]),r=Number(i[1]),o=t[t.length-1];return o&&o.length&&o[0]===n?o.push(r+1):t.push([n,r+1]),t}),[]),v=h.map((function(t){return t[0]})).join("_"),y=h.map((function(t){return t.slice(1).join(";")})).join("_"),g=["",2,v,t.$store.state.index.data.searchID||"",d.b.sessionId||"",y].join(",");d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:t.deviceType,item_list:[{logid:21103,log_buffer:g}]}})}if(l.length>0){var _={type:[],guideResult:[],guideTabId:[]};t.ret.reduce((function(t,e){var i=[];return e.items&&e.items.forEach((function(t){var n=l.indexOf(t.id);if(-1!==n){var r=l.splice(n,1);e.type===m.b.GOOD_THING&&(r[0]=t.redDotId?"".concat(r[0],"-").concat(t.redDotId):r[0]),i=i.concat(r)}if(e.type===m.b.SERVICE_BOX){var o=l.filter((function(t){var i=t.split("-");return i&&i[0]==e.realType}));o&&o.length>0&&o.forEach((function(t){var e=l.indexOf(t);if(-1!=e){var n=l.splice(e,1);i=i.concat(n)}}))}})),i.length&&(t.type.push(e.type),null!=e.tabID&&t.guideTabId.push(e.tabID),t.guideResult.push(i.join("|"))),t}),_);var b=["isguideexpose=1","scene=".concat(d.b.scene),"h5version=".concat(d.b.version),"businesstype=".concat(d.b.type),"searchid=".concat(t.$store.state.index.data.searchID),"guidetype=".concat(_.type.join(";")),"guideresult=".concat(encodeURIComponent(_.guideResult.join(";"))),"guidetabid=".concat(_.guideTabId.join(";")),"timestamp=".concat(Math.floor((new Date).getTime()/1e3)),"isfirstenter=".concat(t.isFirstEnter?1:0),"sessionid=".concat(d.b.sessionId)].join("&");d.f.WeixinJSBridgeInvoke("reportSearchRealTimeStatistics",{logString:b})}if(t.bottomData)if(e.findIndex((function(t){return/^__bottomComp__/.test(t)}))>-1){var x=["",d.b.sessionId,1].join(",");d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:t.deviceType,item_list:[{logid:24403,log_buffer:x}]}})}}}),{container:t.$el})),ut.analysis()}))},onCloseBox:function(t,e){this.banList.push(e)},onTap:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.optype,n=e.skipCommonReport,o=void 0!==n&&n,s=e.customReport,a=void 0===s?[]:s,c=e.skipOpt,u=void 0!==c&&c,l=e.triggerExpose,p=void 0!==l&&l,m=e.recordToRecentUsedWeApp,y=void 0===m||m;if(i||u){p&&this.handleExpose();var g=[];if(o||g.push({logid:21103,log_buffer:["",3,t.realType,this.$store.state.index.data.searchID||"",d.b.sessionId||"",t.itemPos,encodeURIComponent(t.hotword||"")].join(",")}),a&&a.length&&g.push.apply(g,r()(a)),g.length&&d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:g}}),!u)if(i===h.b.search){var _=this.M_composeParentSid({t:h.i.INDEX_WOW_LIST,s:this.$store.state.index.recommendId,did:t.id,rid:this.$store.state.index.requestId});d.g.setInputBar({query:t.hotword,isInputChange:!1}),v.a.$emit(v.b.GOTO,{type:t.businessType||0,page:h.d.RESULT,query:t.hotword||"",action:h.h.HOT_WORD,searchId:"",extReqParams:{key:"parentSearchID",textValue:_}}),d.b.setValue({type:t.businessType||0}),this._doSearchOperation({action:3,query:t.hotword,scene:h.c.S1S})}else i===h.b.vertical?this._doSearchOperation(Ot({action:2,scene:h.c.S1S_VERTICAL},t)):i===h.b.weapp?this.M_go(Ot(Ot({},t),y?{}:{scene:202,startWeAppScene:1163})):i===h.b.bizSession?d.f.startSearchItemDetailPage({userName:t.userName,isTeachPage:!0,opType:i}):i===h.b.finder?d.g.openFinderFeed({feedId:t.feedId,extInfo:t.extInfo}):this.M_startDetail(t)}},onTapSetting:function(){if(this.bottomData){var t=["",d.b.sessionId,2].join(",");d.g.commonCgi({cgiName:f.a.mmDataReport,data:{clientversion:Number(d.b.clientVersion),device:this.deviceType,item_list:[{logid:24403,log_buffer:t}]}})}}}},It=(i(1577),Object(b.a)(Tt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index__box",style:{paddingTop:t.realNativeHeight+"px"},attrs:{"data-p-0bfpe":""}},[i("transition",{attrs:{name:"allOperateItems"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.showAllOperateItem,expression:"showAllOperateItem"}],staticClass:"index__box-wrap"},[i("vert-entries",{attrs:{items:t.vertEntries},on:{tap:t.onTap}}),t._v(" "),t._l(t.ret,(function(e,n){return i("index-comp",t._b({key:e.realType,attrs:{"type-pos":n+1},on:{tap:t.onTap}},"index-comp",e,!1))})),t._v(" "),t.bottomData?i("bottom",{attrs:{data:t.bottomData},on:{"tap:setting":t.onTapSetting}}):i("tail",{directives:[{name:"show",rawName:"v-show",value:t.ret.length>0,expression:"ret.length > 0"}]})],2)])],1)}),[],!1,null,null,null));e.default=It.exports},529:function(t,e,i){"use strict";var n={props:{tags:{type:Array,default:function(){return[]}},noBg:Boolean},methods:{onTapTag:function(t,e){this.$emit("click",t,e)}}},r=i(25),o=Object(r.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("ui-tags",{staticClass:"colorful-tags",attrs:{flex:"",tags:this.tags,"no-bg":this.noBg},on:{"tap:tag":this.onTapTag}})}),[],!1,null,null,null);e.a=o.exports},531:function(t,e,i){"use strict";i.r(e),i.d(e,"Expose",(function(){return s}));var n=i(5),r=!1;try{var o={get passive(){return r={passive:!0},!0}};window.addEventListener("test",o,o),window.removeEventListener("test",o,o)}catch(t){r=!1}function s(t,e){var i=this;if("function"!=typeof t)throw"Expose must give a handler function.";(e=Object.assign({isBindScrollAtContainer:!1,container:document.body,exposeRepeatedly:!1,isHorizontal:!1,attr:"data-expose-id",ensureWithinContainer:!1},e)).container=e.container||document.body,this.opt=e,this.timeout=null,this.exposedId=[],this.handler=t,this.onScroll=function(){clearTimeout(i.timeout),i.timeout=setTimeout((function(){i.analysis()}),e.dur||200)},this.resetExposeId=function(){i.exposedId=[]},e.isBindScrollAtContainer?e.container.addEventListener("scroll",this.onScroll,r):window.addEventListener("scroll",this.onScroll,r),n.a.$on(n.b.newSearchArrived,this.resetExposeId)}s.prototype.analysis=function(t){this.bounceW=window.innerWidth,this.bounceH=window.innerHeight,t&&(this.opt.attr=t);for(var e=this.opt.container.querySelectorAll("[".concat(this.opt.attr,"]")),i=[],n={height:{}},r=this.opt.container.getBoundingClientRect(),o=0,s=e.length;o<s;++o){var a=e[o],c=a.getBoundingClientRect(),d=+a.getAttribute("data-expose-ratio")||1;if(c.left+c.right!==0&&c.top+c.bottom!==0){if(this.opt.ensureWithinContainer){var u=Math.max(c.left,r.left),l=Math.max(c.top,r.top),p=Math.min(c.left+c.width,r.left+r.width),f=Math.min(c.top+c.height,r.top+r.height);if(u>=p||l>=f)continue;if(c.width*c.height*d>(p-u)*(f-l))continue}if(Math.floor(c.left+c.width)*d<=this.bounceW&&Math.floor(c.top+c.height)*d<=this.bounceH){var h=a.getAttribute(this.opt.attr);if(!h)continue;this.exposedId.includes(h)||(this.exposedId.push(h),i.push(h)),n.height[h]=c.height}}}this.handler(i,n)},s.prototype.destory=function(){n.a.$off(n.b.newSearchArrived,this.resetExposeId),this.opt.isBindScrollAtContainer?this.opt.container.removeEventListener("scroll",this.onScroll,!1):window.removeEventListener("scroll",this.onScroll,!1)}},538:function(t,e,i){},544:function(t,e,i){"use strict";var n=i(0),r=i(2),o={props:["text","id","expired","relatedId"],data:function(){return{isShow:!1}},computed:{searchId:function(){switch(this.$route.name){case r.d.INDEX:return this.$store.state.index.recommendId;case r.d.TEACH:return this.$store.state.teach.recommendId;case r.d.SUG:return this.$store.state.sug.sugId;default:return n.b.searchId}}},watch:{id:function(){this.detect()},isShow:function(){this.isShow&&this.$emit("expose")}},mounted:function(){this.detect()},methods:{detect:function(){var t="".concat("reddot-badge","-").concat(this.id),e=n.c.getStore(t);if(e){var i=(new Date).getTime()-e.expose;this.isShow=!(this.expired&&i>1e3*this.expired)}else this.expired&&n.c.store(t,{expose:(new Date).getTime()}),this.isShow=!0;this.isShow&&n.e.reddotBadge.reportExpose({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})},hide:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};setTimeout((function(){t.isShow=!1}),e.delay||0)},onClick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hide(t),n.e.reddotBadge.reportClick({reddotId:this.id,reddotText:this.text,reddotExpired:this.expired,searchId:this.searchId,relatedId:this.relatedId})}}},s=(i(1018),i(25)),a=Object(s.a)(o,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShow?e("div",{staticClass:"weui-badge reddot-badge",class:{"weui-badge_dot":!this.text},attrs:{"aria-hidden":"true"}},[this._v(this._s(this.text))]):this._e()}),[],!1,null,"440ddec4",null);e.a=a.exports}}]);