(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1348:function(e,t,s){"use strict";var a=s(928);s.n(a).a},1349:function(e,t,s){"use strict";var a=s(929);s.n(a).a},1350:function(e,t,s){"use strict";var a=s(930);s.n(a).a},1351:function(e,t,s){"use strict";var a=s(931);s.n(a).a},1352:function(e,t,s){"use strict";var a=s(932);s.n(a).a},1353:function(e,t,s){"use strict";var a=s(933);s.n(a).a},1364:function(e,t,s){"use strict";s.r(t);var a=s(1),i=s.n(a),r=s(0),n=s(23),o=s(47),c=s(4),u=s(5),p={mixins:[r.h,r.j],props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},data:function(){return{}},computed:{word:function(){return this.item.wordHighlight||this.item.word}},methods:{onTapSuggestionSearch:function(){var e=this,t=e.M_composeParentSid({t:c.h.SUG,s:e.$store.state.sug.sugId,did:e.item.word});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:e.item.word,callback:function(){r.e.setSearchInputWord({query:e.item.word,isInputChange:!1}),u.a.$emit(u.b.GOTO,{page:c.d.RESULT,query:e.item.word,action:c.g.SUG_CLICK,extReqParams:{key:"parentSearchID",textValue:t},searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:t}]}}),Object(o.e)({scene:r.b.scene,businessType:r.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts,searchId:""}),Object(n.e)(r.i.feature.sug),r.d.reportEventTrack({actionType:18,query:e.item.word})},onTapSuggestionAddto:function(){var e=this;r.e.setSearchInputWord({query:e.item.word,isInputChange:!0}),Object(o.e)({scene:r.b.scene,businessType:r.b.type,docId:e.item.word,docPos:e.pos,typePos:e.typePos,expand:"suggestionAttach",suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,searchId:""}),Object(n.e)(r.i.feature.sugAdd)}}},l=(s(1348),s(29)),m=Object(l.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line sug__simple",on:{click:e.onTapSuggestionSearch}},[s("div",{staticClass:"line__item"},[s("svg-icon",{attrs:{"class-name":"sug__simple-icon",name:"magnifier"}})],1),e._v(" "),s("div",{staticClass:"line__item primary"},[s("p",{domProps:{innerHTML:e._s(e.word)}})]),e._v(" "),s("div",{staticClass:"line__item"},[s("div",{staticClass:"sug__simple-active",on:{click:function(e){e.stopPropagation()},touchend:function(t){return t.stopPropagation(),t.preventDefault(),e.onTapSuggestionAddto(t)}}},[s("div",{staticClass:"sug__simple-end"})])])])}),[],!1,null,null,null).exports,d=s(94),g=s(15);function y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function h(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?y(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var b={mixins:[r.j],props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}},computed:{sub:function(){return this.item.subHighlight||this.item.sub},word:function(){return this.item.wordHighlight||this.item.word}},methods:{tap:function(){var e=this;d.a.isSupportOpenView_8?g.a.openView(h(h({},r.b.getBase()),{},{actionType:8,jumpUrl:e.item.jumpUrl,query:e.item.word})):e.M_go(Object.assign({docId:e.item.word},e.item)),Object(o.e)({scene:r.b.scene,businessType:r.b.type,docId:e.item.sub||"",docPos:e.pos,typePos:e.typePos,query:e.item.word,suggestionId:e.$store.state.sug.sugId,resultType:e.item.showType||0,expand:"suggestion",expand1:new Date-e.ts}),Object(n.e)(r.i.feature.sugH5),r.d.reportEventTrack({actionType:18,query:e.item.word})}}},f=(s(1349),{components:{simple:m,external:Object(l.a)(b,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"line with-arrow sug__simple sug__external",on:{click:e.tap}},[s("div",{staticClass:"line__item"},[s("svg-icon",{staticClass:"sug__simple-icon",attrs:{name:"link"}})],1),e._v(" "),s("div",{staticClass:"line__item primary"},[e.word?s("div",{staticClass:"line"},[s("div",{staticClass:"line__item"},[s("p",{domProps:{innerHTML:e._s(e.word)}})]),e._v(" "),e.item.tag?s("div",{staticClass:"line__item"},[s("span",{staticClass:"tag gold"},[e._v("\n          "+e._s(e.item.tag)+"\n        ")])]):e._e()]):e._e(),e._v(" "),s("p",{staticClass:"sug__external-sub"},[e._v("\n      "+e._s(e.sub)+"\n    ")])])])}),[],!1,null,null,null).exports},props:{item:{type:Object,default:function(){return{}}},type:{type:Number,default:0},pos:{type:Number,default:0},typePos:{type:Number,default:0},ts:{type:Number,default:0}}}),_=(s(1350),Object(l.a)(f,(function(){var e=this.$createElement,t=this._self._c||e;return 1===this.item.showType?t("external",this._b({},"external",this.$props,!1)):t("simple",this._b({},"simple",this.$props,!1))}),[],!1,null,null,null).exports),v=s(69),S=s(3),T={mixins:[r.j,r.h],props:["item","type","tapCb","pos","typePos"],data:function(){return{isActive:!1,isVerify:!1,isTradmarkProtection:!1}},methods:{onTap:function(){var e=this,t=e.item.nickName;if(r.b.type==S.c.OFFICE_ACCOUNT||3==this.item.opType)r.e.startSearchItemDetailPage(Object.assign(this.item,{type:1,opType:this.item.opType||c.b.bizSession,query:r.b.query,searchId:r.b.searchId,extraParams:"from_sug=1&search_type=1&docid=".concat(decodeURIComponent(this.item.docID),"&scene=").concat(r.b.scene)}));else{e.$store.commit({type:"result/updateMoment",tagInfo:{tagType:c.i.BIZFEEDS,tagText:""},matchUser:{matchWord:t,userName:e.item.docID},nextObjID:"",tagList:[{tagName:t,tagType:c.i.BIZFEEDS}]});var s=e.M_composeParentSid({t:c.h.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){r.b.setValue({custom:""}),r.e.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.i.BIZFEEDS,userName:e.item.userName}],isInputChange:!1}),r.a.$emit(r.g.GOTO,{page:c.d.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:s},action:c.g.SUG_BIZ_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}})}Object(n.c)(v.a.detail.suggestion.suggestionItemBiz),Object(o.e)({scene:r.b.scene,businessType:r.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""})},onTapContact:function(){r.a.$emit(r.g.RESET_MOMENT_FILTER);var e=this,t=e.item.nickName;e.$store.commit({type:"result/updateMoment",nextObjID:"",tagInfo:{tagType:c.i.SNSALBUM,tagText:""},matchUser:{matchWord:t,userName:e.item.userName},tagList:[{tagName:t,tagType:c.i.SNSALBUM}]});var s=e.M_composeParentSid({t:c.h.SUG,s:e.$store.state.sug.sugId,did:t});e.M_checkSpecialSearchBeforeLaunchNewSearch({query:t,callback:function(){r.e.setSearchInputWord({query:t,custom:"",tagList:[{tagName:t,tagType:c.i.SNSALBUM,userName:e.item.userName}],isInputChange:!1}),r.b.custom="",r.a.$emit(r.g.GOTO,{page:c.d.RESULT,query:t,extReqParams:{key:"parentSearchID",textValue:s},action:c.g.SUG_CONTACT_CLICK,searchId:""})},extParams:{crossExtReqParams:[{key:"parentSearchID",textValue:s}]}}),Object(n.c)(v.a.detail.suggestion.suggestionItemContact),Object(o.e)({scene:r.b.scene,businessType:r.b.type,docId:t,docPos:e.pos,typePos:e.typePos,clickType:1,suggestionId:e.$store.state.sug.sugId,searchId:""})}}},I=Object(l.a)(T,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return 3==e.type?s("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},on:{click:e.onTapContact}},[s("div",{staticClass:"weui-cell_hd"},[s("client-image",{key:e.item.vueId,staticClass:"sug__moment-thumb",attrs:{item:e.item,type:8}})],1),e._v(" "),s("div",{staticClass:"weui-cell__bd biz_item"},[s("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e._v(" "),e.item.extraHighlight?s("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])]):s("div",{staticClass:"weui-cell sug_biz",class:{active:e.isActive},attrs:{docid:e.item.docID},on:{click:e.onTap}},[s("div",{staticClass:"weui-cell_hd"},[s("div",{staticClass:"sug__biz-thumb",style:{backgroundImage:"url("+e.item.iconUrl+")"}})]),e._v(" "),s("div",{staticClass:"weui-cell__bd biz_item"},[s("h4",{domProps:{innerHTML:e._s(e.xss(e.item.nickNameHighlight||e.item.nickName))}}),e._v(" "),e.item.extraHighlight?s("p",{staticClass:"biz_account_tips",domProps:{innerHTML:e._s(e.xss(e.item.extraHighlight))}}):e._e()])])}),[],!1,null,null,null).exports,O={mixins:[r.j],props:{data:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},data:function(){return{fixed:!1}},mounted:function(){this._calculateHeight()},methods:{_calculateHeight:function(){var e=this.$parent.$parent.$el.clientHeight,t=this.$el.clientHeight,s=r.e.getWindowHeight();this.fixed=e+t<s},tap:function(){this.M_go(this.item)}}},w=(s(1351),Object(l.a)(O,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"sug-complaint",class:{fixed:this.fixed}},[t("span",{directives:[{name:"active",rawName:"v-active"}],staticClass:"active__opacity",on:{click:this.tap}},[this._v("\n    "+this._s(this.item.word)+"\n  ")])])}),[],!1,null,null,null).exports),P=s(16),C=new P.a({complaint:1}),j={components:{complaint:w},props:{data:{type:Object,default:function(){return{}}}},data:function(){return{types:C}}},x=(s(1352),Object(l.a)(j,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sug-bottom"},e._l(e.data.items,(function(t,a){return s(e.types[t.type],e._b({key:a,tag:"components",attrs:{item:t}},"components",e.$props,!1))})),1)}),[],!1,null,null,null).exports),q=s(941),D=s.n(q),k=s(158),$=new P.a({WORD:1,BIZ:2,CONTACT:3,HISTORY:4}),N={requestType:new P.a({net:0,local:1}),sugType:$};function E(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function R(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?E(Object(s),!0).forEach((function(t){i()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):E(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}Object.freeze(N);var G={components:{general:_,contactSug:I,bottom:x},mixins:[r.j],data:function(){return{isShow:!1,dataReadyTs:0}},computed:{suggestoinObj:function(){return this.$store.state.sug.data},bottom:function(){return this.$store.state.sug.bottom}},watch:{$route:function(e){e.name===c.d.SUG&&this.$store.dispatch({type:"sug/handleSug",data:{}})}},created:function(){var e=this;e.query="",e.lastQuery="",e.inputFinishTimestamp=+new Date,e.preGetSearchDataTimeout=null,e.preGetSearchDataArgs="",e.preGetSearchDataResolve=null;var t=e.$route.params.option;t.query&&e.getData({query:t.query}),k.b.onInputChange((function(t){e.inputFinishTimestamp=+new Date,t.query&&(e.getData(t),d.a.isSupportSugPreSearchOnInputChange&&e._preGetSearchData()),e.$store.commit("result/updateCacheArgs",null),e.$store.commit("result/updateCachePromise",null)})),k.b.onInputConfirm((function(t){clearTimeout(e.preGetSearchDataTimeout),r.d.reportEventTrack({actionType:17,timeStamp:e.inputFinishTimestamp,query:t.query||r.b.query})})),k.b.onSugReady((function(t){e.$store.dispatch({type:"sug/handleSug",data:t}),d.a.isSupportSugPreSearchOnInputChange||e._preGetSearchData(),e.dataReadyTs=+new Date})),k.b.onResultReady((function(t){t.requestId&&t.requestId===e.preGetSearchDataArgs.requestId&&(e.$store.commit("result/cacheResultData",t),e.preGetSearchDataResolve(t))}))},methods:{hide:function(){this.isShow=!1,this.styleObject={height:0,opacity:0}},getData:function(e){var t=Object.assign({query:r.b.query},e);this.getSearchSuggestionData(t),this.lastQuery=this.query,this.query=t.query},_preGetSearchData:function(){var e=this;e.lastQuery!==e.query&&!/\w/.test(e.query)&&e.query.length>1&&r.b.preSearchSwitch&&(clearTimeout(e.preGetSearchDataTimeout),e.preGetSearchDataTimeout=setTimeout((function(){e.preGetSearchData(e.query)}),100))},getSearchSuggestionData:function(e){k.a.getSug({scene:r.b.scene,version:r.b.version,query:e.query||"",type:r.b.type,isHomePage:r.b.isHomePage,requestType:e.requestType||8===r.b.type&&N.requestType.local,sugId:"",sessionId:r.b.sessionId})},preGetSearchData:function(e){var t=this,s=t.$store.state.result;if(!s.self.base.isLoading){var a=r.e.generateGuuId(),i=[{key:"netType",textValue:r.b.netType},{key:"subType",uintValue:+r.b.subType,textValue:r.b.subType?"".concat(r.b.subType):""},{key:"currentPage",uintValue:1},{key:"requestId",textValue:a},{key:"cookies",textValue:s.state.cookies},{key:"widgetVersion",uintValue:+D.a.version}].concat(r.b.crossExtReqParams),n=Object.assign(R(R({},r.b.getBase()),{},{query:e||"",offset:0,tagInfo:t.$store.getters["result/tagInfo"],type:r.b.type,isHomePage:r.b.isHomePage,subType:r.b.subType,sceneActionType:c.j.PRE_SEARCH,matchUser:t.$store.getters["result/matchUser"],numConditions:s.moment.numConditions,extReqParams:i,requestId:a,fromTagSearch:r.b.queryString.fromTagSearch,extClientParams:r.b.queryString.extClientParams,isBackButtonClick:!0}),{parentSearchID:"",sugId:""});k.a.getResult(n),t.preGetSearchDataArgs=n,t.$store.commit("result/cacheResultData",{}),t.$store.commit("result/updateCacheArgs",t.preGetSearchDataArgs),t.$store.commit("result/updateCachePromise",new Promise((function(e){t.preGetSearchDataResolve=e}))),r.d.reportEventTrack(Object.assign({actionType:3,requestId:a,isPreload:100},n))}}}},H=(s(1353),Object(l.a)(G,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"suggestion-list"},[e._l(e.suggestoinObj,(function(t,a){return s("div",{key:a,staticClass:"weui-cells",style:{marginTop:a>0?"5px":0}},[t.title?s("div",{staticClass:"weui-cells_title"},[e._v("\n      "+e._s(t.title)+"\n    ")]):e._e(),e._v(" "),e._l(t.items,(function(i,r){return[1==t.type||4==t.type?s("general",{key:r+""+a,attrs:{item:i,type:t.type,pos:r+1,"type-pos":a+1,ts:e.dataReadyTs}}):e._e(),e._v(" "),2==t.type||3==t.type?s("contactSug",{key:r+""+a,attrs:{item:i,type:t.type,pos:r+1,"type-pos":a+1}}):e._e()]}))],2)})),e._v(" "),e.bottom?s("bottom",{attrs:{data:e.bottom}}):e._e()],2)}),[],!1,null,null,null));t.default=H.exports},928:function(e,t,s){},929:function(e,t,s){},930:function(e,t,s){},931:function(e,t,s){},932:function(e,t,s){},933:function(e,t,s){}}]);