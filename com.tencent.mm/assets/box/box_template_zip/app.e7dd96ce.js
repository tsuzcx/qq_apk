(function(t){function e(e){for(var a,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],n[r]&&p.push(n[r][0]),n[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);f&&f(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,s=1;s<i.length;s++){var l=i[s];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var a={},n={app:0},o=[];function r(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=a,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(i,a,function(e){return t[e]}.bind(null,a));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var f=l;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("cd49")},"070f":function(t,e,i){var a=i("4462");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("0ee5cf32",a,!0,{sourceMap:!1,shadowMode:!1})},"11c1":function(t,e,i){"use strict";var a=i("070f"),n=i.n(a);n.a},2432:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".flight-info-empty[data-v-3df66314]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:14px;color:rgba(0,0,0,.5)}.flight-info-empty-title[data-v-3df66314]{font-weight:400;font-size:17px;color:rgba(0,0,0,.9);white-space:nowrap}.flight-info-empty-desc[data-v-3df66314]{margin-top:8px;font-size:14px;color:rgba(0,0,0,.3)}",""])},"24fa":function(t,e,i){"use strict";var a=i("a1fe"),n=i.n(a);n.a},"2e3a":function(t,e,i){"use strict";var a=i("4835"),n=i.n(a);n.a},"422f":function(t,e,i){"use strict";var a=i("435a"),n=i.n(a);n.a},"435a":function(t,e,i){var a=i("2432");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("2fa67960",a,!0,{sourceMap:!1,shadowMode:!1})},4462:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.flight-info[data-v-494a93ea]{padding:24px 24px 32px}.flight-company[data-v-494a93ea]{font-size:14px}.flight-update-time[data-v-494a93ea]{font-size:14px;color:#7f7f7f;margin-top:4px}.flight-status[data-v-494a93ea]{font-size:35px;color:#509fc9;font-weight:400;margin-top:6px}.flight-source-dest[data-v-494a93ea]{font-size:17px;margin-top:36px}.flight-metas[data-v-494a93ea]{margin-top:16px;font-size:0}.flight-meta[data-v-494a93ea]{display:inline-block;vertical-align:middle;position:relative;font-size:14px;color:#7f7f7f}.flight-meta[data-v-494a93ea]:not(:last-child){padding-right:8px}.flight-meta[data-v-494a93ea]:not(:first-child){padding-left:8px}.flight-meta[data-v-494a93ea]:not(:first-child):before{content:"";position:absolute;left:0;top:0;height:100%;border-left:1px solid rgba(0,0,0,.1)}.flight-meta-breakline[data-v-494a93ea]:last-child{padding-left:0}.flight-meta-breakline[data-v-494a93ea]:before{display:none}',""])},4835:function(t,e,i){var a=i("9850");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("13250960",a,!0,{sourceMap:!1,shadowMode:!1})},"6f30":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".page[data-v-79bec61e]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-sizing:border-box;box-sizing:border-box}.header[data-v-79bec61e]{position:relative;padding:16px 24px}.header[data-v-79bec61e]:after{content:\"\";position:absolute;left:24px;right:24px;bottom:0;border-bottom:1px solid rgba(0,0,0,.1);-webkit-transform-origin:0 100%;transform-origin:0 100%;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.title[data-v-79bec61e]{font-weight:500;font-size:15px}.content[data-v-79bec61e]{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:0}.provider[data-v-79bec61e]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;padding:12px 24px}.provider[data-v-79bec61e]:before{content:\"\";position:absolute;left:24px;right:24px;top:0;border-top:1px solid rgba(0,0,0,.1);-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.provider-bd[data-v-79bec61e]{-webkit-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.provider-logo[data-v-79bec61e]{width:30px;height:30px;border-radius:50%;vertical-align:middle}.provider-name[data-v-79bec61e]{font-size:14px;color:#576b95;margin-left:8px;margin-right:6px}.provider-change[data-v-79bec61e]{font-size:14px;color:#576b95;-webkit-tap-highlight-color:transparent}.provider-change[data-v-79bec61e]:active{opacity:.8}.ui-icon-arrow-right[data-v-79bec61e]{display:inline-block;vertical-align:middle;width:7.13345028px;height:12.97056275px;background-size:cover;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='8' height='14'%3E%3Cdefs%3E%3Cpath id='a' d='M7.588 12.43l-1.061 1.06L.748 7.713a.996.996 0 0 1 0-1.413L6.527.52l1.06 1.06-5.424 5.425 5.425 5.425z'/%3E%3C/defs%3E%3Cuse fill='%23576B95' fill-opacity='.9' fill-rule='evenodd' transform='rotate(-180 4.02 7.005)' xlink:href='%23a'/%3E%3C/svg%3E\")}@media only screen and (device-width:375px) and (device-height:812px) and (-webkit-device-pixel-ratio:3),only screen and (device-width:414px) and (device-height:896px) and (-webkit-device-pixel-ratio:3){.page[data-v-79bec61e]{padding-bottom:24px}}",""])},"73f3":function(t,e,i){"use strict";var a=i("e45f"),n=i.n(a);n.a},7585:function(t,e,i){var a=i("ba60");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("edc8f156",a,!0,{sourceMap:!1,shadowMode:!1})},"7c55":function(t,e,i){"use strict";var a=i("7585"),n=i.n(a);n.a},9850:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".flight-fail[data-v-117ea3de]{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:14px;color:rgba(0,0,0,.5)}",""])},a1fe:function(t,e,i){var a=i("6f30");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("df11b62a",a,!0,{sourceMap:!1,shadowMode:!1})},b93d:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".loading[data-v-b0d063d6]{text-align:center;padding:120px 24px}.loading-icon-inner[data-v-b0d063d6]{display:-webkit-box;display:-ms-flexbox;display:flex;margin:0 auto;width:33px;height:20px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.loading-icon-pot[data-v-b0d063d6]{display:block;width:7px;height:7px;border-radius:50%;background-color:#e5e5e5;-webkit-animation:loading-data-v-b0d063d6 1.5s infinite;animation:loading-data-v-b0d063d6 1.5s infinite}.loading-icon-pot[data-v-b0d063d6]:nth-child(2){-webkit-animation-delay:.3s;animation-delay:.3s}.loading-icon-pot[data-v-b0d063d6]:nth-child(3){-webkit-animation-delay:.6s;animation-delay:.6s}.loading-text[data-v-b0d063d6]{font-size:14px;color:#7f7f7f}@-webkit-keyframes loading-data-v-b0d063d6{0%{background-color:#e5e5e5}50%{background-color:#999}to{background-color:#e5e5e5}}@keyframes loading-data-v-b0d063d6{0%{background-color:#e5e5e5}50%{background-color:#999}to{background-color:#e5e5e5}}",""])},ba60:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"body,body>#app,html{height:100%}",""])},cd49:function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var a=i("9565"),n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Flight")],1)},r=[],s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[t._m(0),0===t.state?i("div",{staticClass:"content"},[i("Loading",[i("span",[t._v("正在查询航班信息")])])],1):1===t.state?[t.boxes.length>0&&t.box?i("div",{staticClass:"content"},[i("FlightInfo",{attrs:{flightInfo:t.box.json}})],1):i("div",{staticClass:"content"},[i("FlightInfoEmpty",{attrs:{flightNumber:t.flightNumber}})],1)]:i("div",{staticClass:"content"},[i("FlightFail")],1),t.box?i("div",{staticClass:"footer"},[i("div",{staticClass:"provider"},[i("div",{staticClass:"provider-bd"},[i("div",{staticClass:"provider-info",on:{click:t.openWeApp}},[i("img",{staticClass:"provider-logo",attrs:{src:t.box.icon_url,alt:t.box.username}}),i("span",{staticClass:"provider-name"},[t._v(t._s(t.box.nickname))]),i("i",{staticClass:"ui-icon-arrow-right"})])]),t.boxes.length>1?i("div",{staticClass:"provider-ft"},[i("a",{staticClass:"provider-change",on:{click:t.change}},[t._v("更换")])]):t._e()])]):t._e()],2)},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"header"},[i("h3",{staticClass:"title"},[t._v("航班信息")])])}],c=i("db72"),f=/android/gi.test(navigator.userAgent);function d(t){f?t():"undefined"!=typeof WeixinJSBridge&&WeixinJSBridge.invoke?t():document.addEventListener&&document.addEventListener("WeixinJSBridgeReady",t,!1)}function p(t,e,i){d(function(){if(f){var a=boxJSApi[t](JSON.stringify(e));i&&i(a)}else WeixinJSBridge.invoke(t,e,i)})}function u(t,e){f?boxJSApi[t]=e:WeixinJSBridge.on(t,e)}i("386d");var g=i("bd86");i("28a5");function h(t){return 0===t.length?t:"?"!==t[0]?t:t.substr(1)}function b(t){var e=h(t);return 0===e.length?{}:e.split("&").reduce(function(t,e){var i=e.split("=");return Object(c["a"])({},t,Object(g["a"])({},i[0],i[1]))},{})}var v=b(location.search);i("6b54");function x(){return"".concat(Date.now()).concat(Math.random().toString(10).substr(2,6))}function m(t){p("log",{level:"info",msg:"[flight-query] template version: ".concat("10200000"," ").concat(t)})}var y,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flight-info"},[i("div",{staticClass:"flight-company"},[t._v(t._s(t.flightInfo.flight_airline))]),i("p",{staticClass:"flight-update-time"},[t._v(t._s(t.flightInfo.flight_update_time))]),i("h2",{staticClass:"flight-status"},[t._v(t._s(t.flightInfo.flight_state))]),i("div",{staticClass:"flight-source-dest"},[t._v(t._s(t.flightInfo.flight_line))]),i("div",{ref:"metas",staticClass:"flight-metas"},[i("span",{staticClass:"flight-meta"},[t._v("起飞时间: "+t._s(t.flightInfo.flight_take_off_time))]),i("span",{staticClass:"flight-meta"},[t._v("降落时间: "+t._s(t.flightInfo.flight_land_time))]),t.flightInfo.flight_stop_over_information?i("span",{staticClass:"flight-meta",class:{"flight-meta-breakline":t.isMetaBreakline}},[t._v("经停地点: "+t._s(t.flightInfo.flight_stop_over_information))]):t._e()])])},w=[],k=n["a"].extend({props:{flightInfo:{type:Object}},data:function(){return{isMetaBreakline:!1}},methods:{onResize:function(){var t=this.$refs.metas,e=t.offsetHeight;this.isMetaBreakline=e>14*1.6}},mounted:function(){this.onResize(),window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)}}),C=k,j=(i("11c1"),i("2877")),O=Object(j["a"])(C,_,w,!1,null,"494a93ea",null),I=O.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flight-info-empty"},[i("h4",{staticClass:"flight-info-empty-title"},[t._v("暂未查到"+t._s(t.flightNumber)+"的航班信息")])])},S=[],E=n["a"].extend({props:{flightNumber:{type:String}}}),M=E,N=(i("422f"),Object(j["a"])(M,z,S,!1,null,"3df66314",null)),J=N.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},A=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flight-fail"},[i("p",[t._v("当前网络不可用，请稍后重试")])])}],R=n["a"].extend({}),V=R,$=(i("2e3a"),Object(j["a"])(V,q,A,!1,null,"117ea3de",null)),B=$.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[t._m(0),i("p",{staticClass:"loading-text"},[t._t("default")],2)])},K=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading-icon"},[i("div",{staticClass:"loading-icon-inner"},[i("span",{staticClass:"loading-icon-pot"}),i("span",{staticClass:"loading-icon-pot"}),i("span",{staticClass:"loading-icon-pot"})])])}],W=n["a"].extend({}),L=W,P=(i("73f3"),Object(j["a"])(L,F,K,!1,null,"b0d063d6",null)),T=P.exports;(function(t){t[t["loading"]=0]="loading",t[t["success"]=1]="success",t[t["fail"]=2]="fail"})(y||(y={}));var Y=n["a"].extend({data:function(){return{index:0,state:y.loading,boxes:[]}},computed:{box:function(){return 0!==this.boxes.length&&this.boxes[this.index]||null},flightNumber:function(){return(v.query||"").toUpperCase()},msgId:function(){return v.messageSvrID},appVersion:function(){return"10200000"}},methods:{openWeApp:function(){var t=this.box.username,e=this.box.json.jump_url;m("invoke openWeAppPage, username: ".concat(t,", path: ").concat(e)),p("openWeAppPage",{userName:t,relativeURL:e},function(t){m("open mini app, ".concat(JSON.stringify(t)))}),p("reportKV",{logid:18155,msg:[this.msgId,this.flightNumber,3,this.box.username,this.box.nickname].join(",")})},change:function(){this.index=(this.index+1)%this.boxes.length,p("reportKV",{logid:18155,msg:[this.msgId,this.flightNumber,2,this.box.username,this.box.nickname].join(",")})},reportKVAfterRequest:function(t){p("reportKV",{logid:18155,msg:[this.msgId,this.flightNumber,1,"","",t].join(",")})}},components:{Loading:T,FlightInfo:I,FlightFail:B,FlightInfoEmpty:J},created:function(){var t=this,e=x();m("querystring: ".concat(JSON.stringify(v))),d(function(){var i={requestId:e,data:JSON.stringify({type:parseInt(v.type),query:t.flightNumber,resources_list:[{type:62,subtype:1,verison:parseInt(t.appVersion)},{type:62,subtype:2,verison:parseInt(v.flightNumberWordBookVersion)}]})};m("params: ".concat(JSON.stringify(i))),p("request",i,function(){}),u("requestCompleted",function(e){if(m("requestCompleted ".concat(JSON.stringify(e))),t.state===y.loading)if(void 0!==e.ret&&0!==e.ret)t.state=y.fail;else try{var i=JSON.parse(e.data);if(0===i.err_code){t.state=y.success;var n=i.box_list.filter(function(t){try{return JSON.parse(t.json),!0}catch(e){return!1}}).map(function(t){return Object(c["a"])({},t,{json:JSON.parse(t.json)})});t.boxes=n.filter(function(t){return 0===t.json.err_code}),0===t.boxes.length?t.reportKVAfterRequest(1):t.reportKVAfterRequest(0)}else t.state=y.fail,t.reportKVAfterRequest(2),a["report"](1,1)}catch(o){t.state=y.fail,m("parse cgi data fail, error msg: ".concat(o.message)),t.reportKVAfterRequest(2),a["report"](1,1)}}),setTimeout(function(){t.state===y.loading&&(m("request timeout 8s after request was sent"),t.state=y.fail,t.reportKVAfterRequest(3),a["report"](1,1))},8e3)})},mounted:function(){p("webviewUIReady"),null!==this.box&&(m("report on first show"),p("reportKV",{logid:18155,msg:[this.msgId,this.flightNumber,1,this.box.username,this.box.nickname].join(",")})),a["report"](0,1)}}),D=Y,U=(i("24fa"),Object(j["a"])(D,s,l,!1,null,"79bec61e",null)),H=U.exports,G=n["a"].extend({components:{Flight:H}}),Q=G,X=(i("7c55"),Object(j["a"])(Q,o,r,!1,null,null,null)),Z=X.exports;n["a"].config.productionTip=!1,a["init"](121053),new n["a"]({render:function(t){return t(Z)}}).$mount("#app")},e45f:function(t,e,i){var a=i("b93d");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("499e").default;n("88501036",a,!0,{sourceMap:!1,shadowMode:!1})}});