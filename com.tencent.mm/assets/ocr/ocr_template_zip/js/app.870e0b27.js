(function(e){function t(t){for(var o,i,a=t[0],s=t[1],l=t[2],d=0,f=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var s=n[a];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},r={app:0},c=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2323:function(e,t,n){var o={"./Icon.vue":"cdae"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="2323"},2395:function(e,t,n){},"318e":function(e,t,n){"use strict";n("3d63")},"3d63":function(e,t,n){},"41f9":function(e,t,n){"use strict";n("de00")},"56d7":function(e,t,n){"use strict";n.r(t);n("ac1f"),n("841c"),n("1276"),n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4160"),n("d3b7"),n("159b"),n("99af"),n("c975"),n("5319");var o=n("53ca"),r=!1,c=["reportSearchRealTimeStatistics"],i={hasTagWebSearchJSApi:function(){return"object"===Object(o["a"])(window.tagWebSearchJSApi)},ready:function(e){"object"===("undefined"===typeof WeixinJSBridge?"undefined":Object(o["a"])(WeixinJSBridge))&&"function"===typeof window.WeixinJSBridge.invoke?e():document.addEventListener("WeixinJSBridgeReady",e,!1)},invoke:function(e,t,n,o){if(this.hasTagWebSearchJSApi()&&"function"===typeof window.tagWebSearchJSApi[e]){var r=window.tagWebSearchJSApi[e](JSON.stringify(t||{}));n&&n(r?JSON.parse(r):void 0)}else{var c=function(){window.WeixinJSBridge.invoke(e,Object.assign({timeStamp:+new Date},t||{}),n)};this.ready((function(){o?c():setTimeout(c,0)}))}},on:function(e,t){if(!t)throw new Error("WXJS.on need callback.");this.hasTagWebSearchJSApi()?window[e.replace(/:/g,"_")]=t:this.ready((function(){window.WeixinJSBridge.on(e,t)}))},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";this.hasTagWebSearchJSApi()?console.log(e):this.invoke("log",{msg:e,level:t})}},a="[tag-search-web]",s={hasTagWebSearchJSApi:i.hasTagWebSearchJSApi,ready:i.ready,invoke:function(e,t,n,o){r&&c.indexOf(e)<0&&console.log("%cDevLog","color: #10aeff","WXJS invoke ".concat(e,", args: "),t),i.log("".concat(a," WXJS invoke ").concat(e,", args: ").concat(JSON.stringify(t),".")),i.invoke(e,t,(function(t){i.log("".concat(a," WXJS invoke ").concat(e,", resp: ").concat(JSON.stringify(t),".")),n&&n(t)}),o)},on:function(e,t){i.on(e,(function(n){r&&c.indexOf(e)<0&&console.log("%cDevLog","color: #10aeff","WXJS on ".concat(e,", data: "),n),t&&t(n)}))},log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";i.log("".concat(a," ").concat(e),t)}},l=n("78fa"),u=n.n(l),d=new u.a("global"),f={onUiInit:"onUiInit",onSearchWebQueryReady:"onSearchWebQueryReady"};n("b64b");function h(e,t){var n={};function o(e,t){clearTimeout(n[e].timeout),n[e].resolve(t),delete n[e]}t&&d.$on(this,t,(function(e){if(e){var r=e.requestId;r&&n[r]?o(r,e):s.log("This ".concat(t," mismatch. Revice requestId is: ").concat(r,", local requestIds is: ").concat(JSON.stringify(Object.keys(n))))}else s.log("".concat(t," resp is empty!"))})),this.send=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.assign(c,{timeout:1e4});var i=r.requestId||"".concat(Math.random()).substr(2,10);return new Promise((function(a,l){s.invoke(e,Object.assign({requestId:i},r),t?void 0:function(e){o(i,e)});var u=setTimeout((function(){delete n[i],l(new Error(JSON.stringify({reason:"timeout",requestId:i})))}),c.timeout);n[i]={resolve:a,timeout:u}}))}}var v={VIEW:{INDEX:"index"}},m=!1,p="console"===Object({NODE_ENV:"production",BASE_URL:""}).VUE_APP_BUILD,g={log:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";s.log(e,t)},devLog:function(){if(m){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.info.apply(this,["%cDevLog","color: #10aeff"].concat(t))}else p&&console.info.apply(this.args)},isEmpty:function(e){return void 0===e||null===e||(Array.isArray(e)||"string"===typeof e?!e.length:"object"===Object(o["a"])(e)?!Object.keys(e).length:e)},xss:function(e){return"string"!==typeof e?e:(e=e||"",e.replace(/<(?!(em|\/em|br|br\/|<|>)).*?>/gi,(function(e){return e=e||"",e.replace(/</g,"&lt;").replace(/>/g,"&gt;")})))},isDarkMode:function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches},getScrollTop:function(){return document.body.scrollTop||document.documentElement.scrollTop},setScrollTop:function(e){document.body.scrollTop=e,document.documentElement.scrollTop=e}},S="getImageTransData",w=new h(S);function y(e,t){return new Promise((function(n,o){w.send(e,t).then((function(e){if(g.devLog("".concat(S," receive, resp:"),e),e.json)try{e.json=JSON.parse(e.json),g.log("".concat(S," receive, resp: ").concat(JSON.stringify(e)))}catch(t){console.error(t),g.log("".concat(S," parse error! Data is: ").concat(e.json))}n(e)})).catch(o)}))}var b=n("2b0e"),x=n("2f62"),_=n("3835");function T(e){for(var t={},n=e.split("&"),o=0;o<n.length;o+=1){var r=n[o].split("="),c=Object(_["a"])(r,2),i=c[0],a=c[1];"undefined"===typeof t[i]?t[i]=a:"string"===typeof t[i]?t[i]=[t[i],a]:t[i].push(a)}return t}function E(e){if(e.extParams)try{return JSON.parse(decodeURIComponent(decodeURIComponent(e.extParams)))}catch(t){return{}}return{}}var A=T(window.location.search.substring(1)),I=E(A);console.log("queryString: ",A),console.log("extParams: ",I);var O=!1;function k(e,t){return t||(t=E(e)),{DEV:O,version:10000010,wechatVersion:+e.wechatVersion||0,queryString:e,extParams:t,scene:+e.scene||0,netType:e.netType||"wifi",sessionId:e.sessionId||"",isHomePage:+e.isHomePage?1:0}}var W={Env:k(A,I)},C={mergeQueryString:function(e,t){var n=Object.assign({},A,t);Object.assign(e.Env,k(n))},updateEnv:function(e,t){Object.assign(e.Env,t)}};b["a"].use(x["a"]);var L=new x["a"].Store({strict:O,state:W,mutations:C}),P=L.state.Env,j=P,N="querySearchWeb",B="onSearchWebQueryReady",z=new h(N,B);function F(e,t,n){return new Promise((function(o,r){t=g.object2params(Object.assign({cgi:e,version:j.version},t),(function(e){return e})),z.send({commReq:t},n).then((function(t){if(t.commResp)try{t.commResp=JSON.parse(t.commResp),g.log("".concat(e," receive, resp: ").concat(JSON.stringify(t)))}catch(n){g.log("".concat(e," commResp parse error! Data is: ").concat(t.commResp))}o(t)})).catch(r)}))}[f.onSearchWebQueryReady].forEach((function(e){s.on(e,(function(t){switch(e){case f.onSearchImageListReady:if(t&&0===t.ret&&t.data){t.data=JSON.parse(t.data);for(var n={},o=0,r=t.data.length;r>o;o++){var c=t.data[o];n[c.id]=c.src}t=n}else t={};break}d.$emit(e,t)}))}));var M={getImageTransData:y,getCommonCgiData:F,send:function(e){return new Promise((function(t){s.invoke("send",e,t)}))},copy:function(e){return new Promise((function(t){s.invoke("copy",e,t)}))},collect:function(e){return new Promise((function(t){s.invoke("collect",e,t)}))},setTitle:function(e){return new Promise((function(t){s.invoke("setTitle",e,t)}))},shake:function(e){return new Promise((function(t){s.invoke("shake",e,t)}))},report:function(e){return new Promise((function(t){s.invoke("reportKV",e,t)}))}},J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app",class:{android:e.isAndroid},attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1)],1)},q=[],R=n("8c4f"),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index",style:{paddingBottom:e.safeAreaInsetBottom+170+"px"},attrs:{"touchmove.prevent":""},on:{click:e.tapWrap}},[n("div",{staticClass:"text-box",style:{fontSize:e.fontSize+"px"},attrs:{"data-fontsize-small":e.fontSize<=17},on:{touchmove:e.move}},[e._l(e.wordList,(function(t,o){return[t.isEnter?n("br",{key:o,staticClass:"char",attrs:{"data-index":o}}):t.isTab?n("span",{key:o,staticClass:"char tab"}):t.isSpace?n("span",{key:o,staticClass:"char space"}):n("span",{key:o,staticClass:"char word",attrs:{"data-index":o}},[n("span",{staticClass:"word_inner"},[e._v(e._s(t.text))])])]}))],2),n("div",{ref:"btnsWrap",staticClass:"bottom-box",style:{paddingBottom:e.safeAreaInsetBottom+24+"px"}},[n("div",{staticClass:"btn-box"},[n("Btn",{attrs:{icon:"all-select"},nativeOn:{click:function(t){return t.stopPropagation(),e.selectAll(t)}}},[e._v(e._s(e.isAllSelected?e.I18nStr.CancelSelection:e.I18nStr.SelectAll))]),n("Btn",{attrs:{icon:"send",disabled:!e.canConfirm},nativeOn:{click:function(t){return t.stopPropagation(),e.forwardWords(e.canConfirm)}}},[e._v(e._s(e.I18nStr.Forward))]),n("Btn",{attrs:{icon:"copy",disabled:!e.canConfirm},nativeOn:{click:function(t){return t.stopPropagation(),e.copyWords(e.canConfirm)}}},[e._v(e._s(e.I18nStr.Copy))]),n("Btn",{attrs:{icon:"collect",disabled:!e.canConfirm},nativeOn:{click:function(t){return t.stopPropagation(),e.favoritesWords(e.canConfirm)}}},[e._v(e._s(e.I18nStr.Favorite))])],1)])])},U=[],V=(n("a630"),n("caad"),n("d81d"),n("13d5"),n("26e9"),n("fb6a"),n("45fc"),n("4e82"),n("a434"),n("a9e3"),n("4d63"),n("25f0"),n("2532"),n("3ca3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"tap",rawName:"v-tap"}],staticClass:"btn",class:{disabled:e.disabled}},[n("Icon",{attrs:{name:e.icon}}),n("p",{staticClass:"btn_text"},[e._t("default")],2)],1)}),$=[],H={props:["icon","disabled"]},X=H,Y=(n("41f9"),n("2877")),Z=Object(Y["a"])(X,V,$,!1,null,"3c030d3e",null),K=Z.exports,Q=3,G=45,ee=60,te=4,ne=window.screen.width,oe=8,re=50,ce=function(e){switch(e){case"en":case"en_US":return{Title:"Select Text",SelectAll:"Select All",CancelSelection:"Cancel Selection",Forward:"Forward",Copy:"Copy",Favorite:"Favorite"};case"zh_TW":return{Title:"選取文字",SelectAll:"全選",CancelSelection:"取消全選",Forward:"轉發",Copy:"複製",Favorite:"收藏"};case"zh_HK":return{Title:"選取文字",SelectAll:"全選",CancelSelection:"取消全選",Forward:"轉發",Copy:"複製",Favorite:"收藏"};default:return{Title:"涂抹选择文字",SelectAll:"全选",CancelSelection:"取消全选",Forward:"转发",Copy:"复制",Favorite:"收藏"}}}(j.queryString.lang),ie={components:{Btn:K},data:function(){return{wordList:[],selectStart:null,selectEnd:null,maxSelected:{min:null,max:null},selectionTopEdgeOffsetTop:60,selectionBottomEdgeOffsetTop:400,startClientX:0,startClientY:0,endClienY:0,selectionEdgeScollRAF:null,charElems:[],wordElems:[],startWithSelected:!1,selectIndexs:[],movePoints:[],fontSize:17,hadShake:!1,safeAreaInsetBottom:+j.queryString.safeAreaInsetBottom||0,isShowNewUserTeach:!1,reqKey:"",I18nStr:ce}},created:function(){var e=this;M.getImageTransData({sessionId:j.queryString.session_id}).then((function(t){e.reqKey=t.json.req_key,e.fontSize=t.json.font_size||17,e.wordList=e._renderText(t.json.content),e.wordList=e.wordList.map((function(e){return{isSpace:/ /.test(e),isTab:/\t| {3}/.test(e),isEnter:/\n/.test(e),text:e}})),e.$nextTick((function(){e.charElems=e.$el.querySelectorAll(".char"),e.wordElems=e.$el.querySelectorAll(".word"),setTimeout((function(){e.selectionBottomEdgeOffsetTop=e.$refs.btnsWrap.offsetTop-20}),300),e.isShowNewUserTeach&&e._showNewUserTeach((function(){e.isShowNewUserTeach=!1,localStorage.setItem("hadShowNewUserTeach",1)}))}))})),M.setTitle({content:ce.Title}).then(),window.addEventListener("touchend",e.end,!1),window.addEventListener("touchstart",e.start,!1),s.on("onTapTopBar",(function(t){e.isShowNewUserTeach||(e.selectIndexs.length&&M.report({logid:21704,msg:"".concat(e.reqKey,",1,head,0,0")}),e._resetSelect())}))},destroyed:function(){var e=this;window.removeEventListener("touchend",e.end),window.removeEventListener("touchstart",e.start)},watch:{selectIndexs:function(){}},computed:{canConfirm:function(){return this.selectIndexs.length},isAllSelected:function(){return this.selectIndexs.length===this.wordList.length}},methods:{_showNewUserTeach:function(e){var t=this,n=Array.from(t.wordElems).slice(0,Math.min(t.wordElems.length,oe)),o=+n[0].dataset.index,r=0;t.selectStart=o,setTimeout((function(){var o=setInterval((function(){if(r<n.length){var c=n[r].dataset.index;t.selectEnd=c,t._handleSelect()}else clearInterval(o),setTimeout((function(){t._resetSelect(),e&&e()}),1e3);r+=1}),re)}),500)},_renderText:function(e){var t={},n="-_a-zA-Z0-9",o="[".concat(n,"]([").concat(n,"\\-]{0,61}[").concat(n,"]){0,1}"),r="a-zA-Z",c="[".concat(r,"]{2,6}"),i="(".concat(o,"\\.)+").concat(c),a="((25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9]))",s="(".concat(i,"|").concat(a,")"),l=new RegExp("((?:(http|https|Http|Https|rtsp|Rtsp):\\/\\/(?:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,64}(?:\\:(?:[a-zA-Z0-9\\$\\-\\_\\.\\+\\!\\*\\'\\(\\)\\,\\;\\?\\&\\=]|(?:\\%[a-fA-F0-9]{2})){1,25})?\\@)?)?(?:".concat(s,")(?:\\:\\d{1,5})?)(\\/(?:(?:[").concat(n,"\\;\\/\\?\\:\\@\\&\\=\\#\\~\\-\\.\\+\\!\\*\\'\\(\\)\\,\\_])|(?:\\%[a-fA-F0-9]{2}))*)?"),"gi"),u=/\+?(\d{2,8}([-]?\d{3,8}){2,6}|\d{7,20})/gi,d=/[A-Z0-9._%+-]+@[A-Z0-9._-]+\.[A-Z]+/gi,f=/\b[a-zA-Z][a-zA-Z0-9]+|\d+[a-zA-Z]\b/gi,h=/-?[0-9]+(\.[0-9]+)?(%)?/gi,v=/-?[0-9]+(\.[0-9]+)?[-~]-?[0-9]+(\.[0-9]+)?/gi,m=/\b\d{4}([-/.])\d{1,2}\1\d{1,2}|\d{1,2}([/])\d{1,2}\b/gi,p=/\b\d{1,2}[:：]\d{2}([:：]\d{2})?\b/gi,g=/[.。*#!！-]{2,}/g,S=/[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]/g,w=/[^_IOZSVa-z\W]{2}\d{6}[^_IOZSVa-z\W]{10}([0-9A-Za-z]+)?/g,y=function(e){return e.split("").map((function(){return"^"})).join("")},b=e.replace(d,(function(e,n){return console.log("[email]",n,e),t[n]=e,y(e)})).replace(l,(function(e,n,o,r,c,i,a,s,l,u,d,f,h){return console.log("[url]",h,e),t[h]=e,y(e)})).replace(m,(function(e,n,o,r){return console.log("[date]",r,e),t[r]=e,y(e)})).replace(p,(function(e,n,o){return console.log("[time]",o,e),t[o]=e,y(e)})).replace(S,(function(e,n,o,r,c,i,a,s,l){return console.log("[身份证]",l,e),t[l]=e,y(e)})).replace(w,(function(e,n,o){return console.log("[社会信用代码/长字符]",o,e),t[o]=e,y(e)})).replace(f,(function(e,n){return console.log("[word]",n,e),t[n]=e,y(e)})).replace(u,(function(e,n,o,r){return console.log("[phone]",r,e),t[r]=e,y(e)})).replace(v,(function(e,n,o,r){return console.log("[number range]",r,e),t[r]=e,y(e)})).replace(h,(function(e,n,o,r){return console.log("[number]",r,e),t[r]=e,y(e)})).replace(g,(function(e,n){return console.log("[char]",n,e),t[n]=e,y(e)})),x=function(e){return Array.from?Array.from(e):e.split("")},_=Object.keys(t).map((function(e){return{index:Number(e),value:t[e]}}));return _.length>0?_.reduce((function(e,t,n,o){0==n&&t.index>0&&(e=x(b.substring(0,t.index)));var r=o[n+1],c=t.index+t.value.length,i=r?r.index:b.length,a=b.substring(c,i);return e=e.concat(t.value).concat(x(a)),e}),[]):x(e)},_checkIntersect:function(e,t){return!(t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)},_checkIntersectUp:function(e,t){return e.top<t.top},_checkIntersectDown:function(e,t){return e.bottom>t.bottom},_checkIntersect2:function(e,t,n){return this._checkIntersect(e,t)||(n?this._checkIntersectDown(e,t):this._checkIntersectUp(e,t))},_getSelectElemIndex:function(e,t,n){var o=this,r="word",c="word_inner",i=document.elementFromPoint(e,t);if(!i)return null;if(Array.prototype.includes.call(i.classList,c)&&(i=i.parentElement),!Array.prototype.includes.call(i.classList,r)){if(n){var a,s,l=o.startClientY,u=t-l>=0;return u?(a=Array.from(o.charElems).slice(o.selectStart),s={left:0,top:l,right:e,bottom:t}):(a=Array.from(o.charElems).slice(0,o.selectStart).reverse(),s={left:e,top:t,right:ne,bottom:l}),a.forEach((function(e,t){if(e.classList.contains("word")){var n=e.getBoundingClientRect(),r=o._checkIntersect2(s,n,u);r&&(i=e)}})),i&&+i.dataset.index>=0?+i.dataset.index:null}return null}var d=+i.dataset.index;return d},_resetPoints:function(){var e=this;e.movePoints=[]},_resetSelect:function(){var e=this;e.selectStart=null,e.selectEnd=null,e.selectIndexs=[],e._resetSelectStyle()},_resetSelectStyle:function(){var e=this;e.charElems.forEach((function(e){e.classList.remove("selected")}))},_shake:function(){var e=this;e.hadShake||(M.shake(),e.hadShake=!0)},_handleSelect:function(e){var t=this;if(null!=t.selectStart&&null!=t.selectEnd){t.maxSelected.max=Math.max(t.selectEnd,t.selectStart,t.maxSelected.max),t.maxSelected.min=null==t.maxSelected.min?Math.min(t.selectEnd,t.selectStart):Math.min(t.selectEnd,t.selectStart,t.maxSelected.min);var n="selected";if(t.startWithSelected)c(t.selectStart,t.selectEnd,i);else{var o=Math.min(t.selectStart,t.selectEnd),r=Math.max(t.selectStart,t.selectEnd);t.maxSelected.min-o!=0&&c(t.maxSelected.min,o-1,i),t.maxSelected.max-r!=0&&c(t.maxSelected.max,r+1,i),c(t.selectStart,t.selectEnd,a)}}function c(e,n,o){for(var r=Math.max(e,n),c=Math.min(e,n),i=c;i<=r;i++){var a=t.charElems[i];o(a,i)}}function i(o,r){o.className.indexOf(n)>-1&&(o.classList.remove(n),e&&t._shake());var c=t.selectIndexs.indexOf(r);-1!=c&&t.selectIndexs.splice(c,1)}function a(o,r){o.className.indexOf(n)<0&&(o.classList.add(n),e&&t._shake());var c=t.selectIndexs.indexOf(r);-1==c&&t.selectIndexs.push(r)}},_updateMovingPoint:function(e,t){var n=this;n.movePoints.length<Q&&n.movePoints.push({x:e,y:t})},_checkIfScroll:function(){var e=this;if(e.movePoints.length!==Q)return!0;var t=e.movePoints[e.movePoints.length-1],n=e.movePoints[0],o=Math.abs(t.x-n.x),r=Math.abs(t.y-n.y),c=180*Math.atan2(r,o)/Math.PI;return c>(t.y>n.y?ee:G)},_getSelectWord:function(){var e=this,t=e.selectIndexs.sort((function(e,t){return e-t})),n=0;return t.reduce((function(t,o,r){var c=e.wordList[o].text,i=o-n==1,a=!i&&e.wordList.slice(n+1,o).some((function(e){return e.isEnter})),s=0==r?"":a?"\n":i?"":" ";return n=o,"".concat(t).concat(s).concat(c).replace(/ +/g," ")}),"")},confirmSelect:function(){var e=this;if(e.canConfirm)e._getSelectWord()},start:function(e){var t=this;if(!t.isShowNewUserTeach){var n=e.changedTouches[0],o=n.clientX,r=n.clientY;t.startClientX=o,t.startClientY=r,t._resetPoints(),t.maxSelected={max:null,min:null},t._updateMovingPoint(o,r);var c=t._getSelectElemIndex(o,r);if(null!==c){t.selectStart=c;var i=t.charElems[t.selectStart];t.startWithSelected=i.classList.contains("selected"),t.hadShake=!1}}},move:function(e){var t=this;if(t.isShowNewUserTeach)e.cancelable&&e.preventDefault();else{var n=e.changedTouches[0],o=n.clientX,r=n.clientY;if(t._updateMovingPoint(o,r),!t._checkIfScroll()){e.cancelable&&e.preventDefault(),t.clearSectionScrollRAF(),t.selectionEdgeScollRAF=window.requestAnimationFrame(i);var c=t._getSelectElemIndex(o,r,!0);null!==c&&(t.selectStart=null==t.selectStart?c:t.selectStart,t.selectEnd=c,t._handleSelect(!0))}}function i(){t.startClientY-r>40&&r<t.selectionTopEdgeOffsetTop?(window.scrollTo(0,window.scrollY-te),t.clearSectionScrollRAF(),t.selectionEdgeScollRAF=window.requestAnimationFrame(i)):r-t.startClientY>40&&r>t.selectionBottomEdgeOffsetTop&&(window.scrollTo(0,window.scrollY+te),t.clearSectionScrollRAF(),t.selectionEdgeScollRAF=window.requestAnimationFrame(i))}},end:function(e){var t=this;if(!t.isShowNewUserTeach){if(t.clearSectionScrollRAF(),t.movePoints.length>=Q&&t._checkIfScroll())return t.selectStart=null,void(t.selectEnd=null);var n=e.changedTouches[0],o=n.clientX,r=n.clientY,c=t._getSelectElemIndex(o,r);t.selectEnd=null===c?t.selectEnd||t.selectStart:c,t._handleSelect(!0)}},tapWrap:function(e){var t=this;t.isShowNewUserTeach||e.target.classList&&(e.target.classList.contains("word")||e.target.classList.contains("word_inner"))||(t.selectIndexs.length&&M.report({logid:21704,msg:"".concat(t.reqKey,",1,").concat(e.clientY>=t.$refs.btnsWrap.offsetTop?"bottom":"middle",",").concat((e.clientX/ne).toFixed(2),",").concat((e.clientY/window.innerHeight).toFixed(2))}),t._resetSelect())},clearSectionScrollRAF:function(){var e=this;e.selectionEdgeScollRAF&&window.cancelAnimationFrame(e.selectionEdgeScollRAF)},selectAll:function(){var e=this;if(!e.isShowNewUserTeach){if(e.isAllSelected)return e._resetSelect(),void M.report({logid:21702,msg:"".concat(e.reqKey,",2")});e.selectStart=0,e.selectEnd=e.wordList.length-1,e.startWithSelected=!1,e._handleSelect(),M.report({logid:21702,msg:"".concat(e.reqKey,",1")})}},forwardWords:function(e){var t=this;e&&(M.send({content:this._getSelectWord()}).then(),M.report({logid:21702,msg:"".concat(t.reqKey,",3,").concat(this._getSelectWord())}))},copyWords:function(e){var t=this;if(e){var n=this._getSelectWord();M.copy({content:n}).then(),M.report({logid:21702,msg:"".concat(t.reqKey,",4,").concat(n)}),/clearWechat[O0]crLocalStorage/i.test(n)?window.localStorage&&localStorage.removeItem("hadShowNewUserTeach"):/showWechat[O0]crTplVersion/i.test(n)&&alert("version:".concat(j.version))}},favoritesWords:function(e){var t=this;e&&(M.collect({content:this._getSelectWord(),sessionId:j.queryString.session_id}).then(),M.report({logid:21702,msg:"".concat(t.reqKey,",5,").concat(this._getSelectWord())}))}}},ae=ie,se=(n("afe7"),Object(Y["a"])(ae,D,U,!1,null,"1e704409",null)),le=se.exports;b["a"].use(R["a"]);var ue=new R["a"]({mode:"abstract",routes:[{path:"/".concat(v.VIEW.INDEX),name:v.VIEW.INDEX,component:le}]}),de={router:ue,components:{},data:function(){return{isAndroid:"android"===j.queryString.platform}},created:function(){this.$router.replace({name:v.VIEW.INDEX})},methods:{}},fe=de,he=(n("7c55"),n("318e"),Object(Y["a"])(fe,J,q,!1,null,"97ac16a2",null)),ve=he.exports,me="active",pe=100;b["a"].directive("tap",(function(e,t){var n=!0,r=null;"function"===typeof t.value?r=t.value:"object"===Object(o["a"])(t.value)&&(n=void 0!==t.value.active?t.value.active:n,r=t.value.callback);var c=null,i=null,a=null,s=null;function l(){c=null,clearTimeout(i),clearTimeout(a),i=null,a=null,s=null,n&&e.classList.remove(me)}e._onTouchstart&&e.removeEventListener("touchstart",e._onTouchstart),e._onTouchmove&&e.removeEventListener("touchmove",e._onTouchmove),e._onTouchend&&e.removeEventListener("touchend",e._onTouchend),e._onTouchstart=function(o){t.modifiers.stop&&o.stopPropagation(),t.modifiers.prevent&&o.preventDefault(),c=o.targetTouches[0].clientY,n&&(s=new Promise((function(t){clearTimeout(i),i=setTimeout((function(){n&&e.classList.add(me),i=null,clearTimeout(a),a=setTimeout(l,2e3),t()}),pe)})))},e._onTouchmove=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),Math.abs(e.targetTouches[0].clientY-c)<10||l()},e._onTouchend=function(e){t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault(),s?s.then((function(){r&&r(),clearTimeout(a),a=setTimeout((function(){l()}),pe)})):null!==c&&(r&&r(),l())},e.addEventListener("touchstart",e._onTouchstart),e.addEventListener("touchmove",e._onTouchmove),e.addEventListener("touchend",e._onTouchend)}));n("4de4");b["a"].filter("xss",g.xss);n("ddb0");var ge=n("2323");ge.keys().forEach((function(e){b["a"].component(e.replace(/^\.\/(.*?)\.vue/,"$1"),ge(e).default)})),b["a"].config.productionTip=!1,new b["a"]({render:function(e){return e(ve)},beforeCreate:function(){document.body.style.webkitTextSizeAdjust="".concat(100*(+j.queryString.fontRatio||1),"%"),document.body.style.textSizeAdjust="".concat(100*(+j.queryString.fontRatio||1),"%"),g.log("location search: ".concat(location.search)),g.log("ua: ".concat(navigator.userAgent)),g.log("tmplVersion: ".concat(j.version)),g.devLog("location search:",location.search.split("&")),s.on(f.onUiInit,(function(e){L.commit("mergeQueryString",e)}))}}).$mount("#app")},"78fa":function(e,t,n){function o(e){this.name="__".concat(e,"Bus"),this.listeners=[]}n("4160"),n("c975"),n("a434"),n("159b"),o.prototype.$on=function(e,t,n){e[this.name]||(e[this.name]={},this.listeners.push(e[this.name]));var o=e[this.name];o[t]||(o[t]=[]),o[t].push(n)},o.prototype.$off=function(e,t,n){var o=e[this.name];if(o){var r=o[t];if(r){var c=r.indexOf(n);c<0||(r.splice(c,1),r.length||delete o[t])}}},o.prototype.$once=function(e,t,n){var o=this;function r(c){o.$off(e,t,r),n&&n(c)}this.$on(e,t,r)},o.prototype.$offAll=function(e,t){var n=e[this.name];if(n)if(t){if(!n[t])return;delete n[t]}else{delete e[this.name];var o=this.listeners.indexOf(n);if(o<0)return;this.listeners.splice(o,1)}},o.prototype.$emit=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.listeners.forEach((function(t){t[e]&&t[e].forEach((function(e){e.apply(void 0,n)}))}))},e.exports=o},"7c55":function(e,t,n){"use strict";n("2395")},"7e67":function(e,t,n){"use strict";n("f9f6")},afe7:function(e,t,n){"use strict";n("d027")},b420:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),c=n("21a1"),i=n.n(c),a=new r.a({id:"copy",use:"copy-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="copy">\n    <path d="M13.998 2L20 8v13.001a.996.996 0 01-.996.999H5.996A1 1 0 015 21.001V3c0-.554.446-1 .996-1h8.002zm-1.599 1.2H6.2v17.6h12.6V9.6H14A1.6 1.6 0 0112.4 8l-.001-4.8zm6.304 5.2l-5.104-5.101L13.6 8c0 .22.18.4.4.4h4.703z" fill="currentColor" />\n</symbol>'});i.a.add(a);t["default"]=a},cdae:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:"svg-icon-"+e.name+" "+e.className,attrs:{viewBox:e.viewBox}},[n("use",{attrs:{"xlink:href":"#"+e.id}})])},r=[],c=(n("4160"),n("d3b7"),n("159b"),n("ddb0"),n("2b0e")),i={},a=n("cfd9");a.keys().forEach((function(e){var t=a(e).default;i[t.id]=t}));var s=c["a"].extend({props:{name:{type:String,required:!0},className:{type:String,default:""}},computed:{viewBox:function(){return i[this.name].viewBox},id:function(){return i[this.name].id}}}),l=s,u=(n("7e67"),n("2877")),d=Object(u["a"])(l,o,r,!1,null,null,null);t["default"]=d.exports},cfd9:function(e,t,n){var o={"./all-select.svg":"f298","./collect.svg":"d62f","./copy.svg":"b420","./send.svg":"f95f"};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=c,e.exports=r,r.id="cfd9"},d027:function(e,t,n){},d62f:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),c=n("21a1"),i=n.n(c),a=new r.a({id:"collect",use:"collect-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="collect">\n    <path d="M12.863 2.208l7.274 4.244c.477.278.863.954.863 1.5v8.506c0 .55-.387 1.223-.863 1.5l-7.274 4.244c-.477.278-1.25.277-1.726 0l-7.274-4.244c-.477-.278-.863-.954-.863-1.5V7.952c0-.55.387-1.223.863-1.5l7.274-4.244c.477-.278 1.25-.277 1.726 0zm6.936 6.186l-7.2 4.157v8.415l6.933-4.044c.108-.063.268-.34.268-.464l-.001-8.064zm-15.6 0l.001 8.064c0 .12.161.402.268.464l6.931 4.043v-8.414l-7.2-4.157zm7.543-5.149l-6.995 4.08 7.252 4.187 7.253-4.187-6.994-4.08c-.102-.06-.414-.06-.516 0z" fill="currentColor" />\n</symbol>'});i.a.add(a);t["default"]=a},de00:function(e,t,n){},f298:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),c=n("21a1"),i=n.n(c),a=new r.a({id:"all-select",use:"all-select-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="all-select">\n    <path d="M8.576 15.878l.848.848-4.122 4.123-2.424-2.425.848-.848 1.576 1.575 3.274-3.273zM21 18v1.2H10V18h11zM8.576 9.878l.848.848-4.122 4.123-2.424-2.425.848-.848 1.576 1.575 3.274-3.273zM21 12v1.2H10V12h11zM8.576 3.878l.848.848L5.302 8.85 2.878 6.424l.848-.848L5.302 7.15l3.274-3.273zM21 6v1.2H10V6h11z" fill="currentColor" />\n</symbol>'});i.a.add(a);t["default"]=a},f95f:function(e,t,n){"use strict";n.r(t);var o=n("e017"),r=n.n(o),c=n("21a1"),i=n.n(c),a=new r.a({id:"send",use:"send-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="send">\n    <path d="M8 7v1.2H5.2v12.6h13.6V8.2H16V7h3.001c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7H8zm4.707-4.328L15.536 5.5l-.849.849L12.6 4.262V13.5h-1.2V4.262L9.313 6.349 8.464 5.5l2.829-2.828a1 1 0 011.414 0z" fill="currentColor" />\n</symbol>'});i.a.add(a);t["default"]=a},f9f6:function(e,t,n){}});