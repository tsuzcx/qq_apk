try{var DATA={loading:{needShow:null,title:null},arg:{ReqType:null,fontSize:null,KeyWord:null,SplitedWord:null,newQuery:null,secondPage:"detail.html",isTouchEnd:!1,lastTime:0,lastTx:null,lastTy:null,firstTouchEnd:!0,clientType:0},result:{},lang:{NoResult:{zh_CN:"\u65e0\u7ed3\u679c",en:"No Result",zh_TW:"\u65e0\u7ed3\u679c"},LoadingTitle:{zh_CN:"\u6b63\u5728\u641c\u7d22",en:"Searching...",zh_TW:"\u6b63\u5728\u641c\u7d22"}}},PageLoading=React.createClass({displayName:"PageLoading",render:function(){return React.createElement("div",
    {className:"page_loading"},React.createElement("i",{className:"ic loading"}),this.props.title)}}),PageNoResult=React.createClass({displayName:"PageNoResult",render:function(){return React.createElement("div",{className:"page_loading"},this.props.title)}}),CellsTitle=React.createClass({displayName:"CellsTitle",render:function(){return React.createElement("div",{className:"weui_cells_title"},this.props.title)}}),CellsAccess=React.createClass({displayName:"CellsAccess",render:function(){var a,b,c,d,
    e=this;a="weui_cells weui_cells_access "+this.props.type;b="emoji"!=this.props.type?React.createElement(CellsTitle,{title:this.props.data.Title}):null;c="emoji"==this.props.type?null:this.props.data.List.map(function(b){return React.createElement(Cell,{onCellTouchStart:e.props.onCellTouchStart,onCellTouchEnd:e.props.onCellTouchEnd,type:e.props.type,data:b})});"emoji"==this.props.type&&0!=this.props.data.Num?(d={Title:this.props.data.Title,MoreTitle:this.props.data.MoreTitle,KeyWord:this.props.data.KeyWord,
    Num:this.props.data.Num,IsMore:!0,onCellTouchStart:this.props.onCellTouchStart,onCellTouchEnd:this.props.onCellTouchEnd},d=React.createElement(CellsFooter,{type:this.props.type,data:d})):this.props.data.IsMore&&(d={IsMore:this.props.data.IsMore,Title:this.props.data.Title,MoreTitle:this.props.data.MoreTitle,KeyWord:this.props.data.KeyWord,onCellTouchStart:this.props.onCellTouchStart,onCellTouchEnd:this.props.onCellTouchEnd},d=React.createElement(CellsFooter,{type:this.props.type,data:d}));return React.createElement("div",
    null,b,React.createElement("div",{className:a},c,d))}}),CellsFooter=React.createClass({displayName:"CellsFooter",handleTouchStart:function(a){this.props.data.onCellTouchStart(a)},handleTouchEnd:function(a){switch(this.props.type){case "emoji":var b={IsMore:this.props.data.IsMore,Type:this.props.type,KeyWord:this.props.data.KeyWord};this.props.data.onCellTouchEnd(a,b);break;case "emotion":b={IsMore:this.props.data.IsMore,Type:this.props.type,KeyWord:this.props.data.KeyWord};this.props.data.onCellTouchEnd(a,
    b);break;case "designer":b={IsMore:this.props.data.IsMore,Type:this.props.type,KeyWord:this.props.data.KeyWord},this.props.data.onCellTouchEnd(a,b)}},render:function(){var a,b,c;a="weui_cell search_more "+this.props.type;b="emoji"==this.props.type?this.props.data.Title:this.props.data.MoreTitle;c="emoji"==this.props.type?this.props.data.Num:null;return React.createElement("div",{className:a,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},React.createElement("div",{className:"weui_cell_hd"},
    React.createElement("i",{className:"weui_icon_search"})),React.createElement("div",{className:"weui_cell_bd weui_cell_primary"},React.createElement("p",null,b)),React.createElement("div",{className:"weui_cell_ft"},c))}}),Cell=React.createClass({displayName:"Cell",createMarkup:function(a){return{__html:a}},handleTouchStart:function(a){this.props.onCellTouchStart(a)},handleTouchEnd:function(a){switch(this.props.type){case "emotion":var b={Type:this.props.type,ProductId:this.props.data.ProductId};break;
    case "designer":b={Type:this.props.type,DesignerId:this.props.data.DesignerId}}this.props.onCellTouchEnd(a,b)},render:function(){console.log(this.props.data);var a,b,c;a="weui_cell "+this.props.type;b=this.props.data.Introduce?"weui_cell_bd weui_cell_primary line2":"weui_cell_bd weui_cell_primary";c=this.props.data.Introduce?React.createElement("p",{className:"desc",dangerouslySetInnerHTML:this.createMarkup(this.props.data.Introduce)}):null;return React.createElement("div",{className:a,onTouchStart:this.handleTouchStart,
    onTouchEnd:this.handleTouchEnd},React.createElement("div",{className:"weui_cell_hd"},React.createElement("img",{src:this.props.data.IconUrl})),React.createElement("div",{className:b},React.createElement("p",{dangerouslySetInnerHTML:this.createMarkup(this.props.data.Name)}),c))}}),PageResult=React.createClass({displayName:"PageResult",render:function(){var a,b,c;a=this.props.data.EmotionList?0!=this.props.data.EmotionList.List.length?React.createElement(CellsAccess,{onCellTouchStart:this.props.onCellTouchStart,
    onCellTouchEnd:this.props.onCellTouchEnd,type:"emotion",data:this.props.data.EmotionList}):null:null;b=this.props.data.EmojiList?0!=this.props.data.EmojiList?React.createElement(CellsAccess,{onCellTouchStart:this.props.onCellTouchStart,onCellTouchEnd:this.props.onCellTouchEnd,type:"emoji",data:this.props.data.EmojiList}):null:null;c=this.props.data.DesignerList?0!=this.props.data.DesignerList.List.length?React.createElement(CellsAccess,{onCellTouchStart:this.props.onCellTouchStart,onCellTouchEnd:this.props.onCellTouchEnd,
    type:"designer",data:this.props.data.DesignerList}):null:null;return React.createElement("div",{className:"page_result"},a,b,c)}}),method={invoke:function(a,b){console.log("invoke "+a+"; data "+JSON.stringify(b));WeixinJSBridge.invoke(a,b,function(b){})}},Inner=React.createClass({displayName:"Inner",getInitialState:function(){return{loading:DATA.loading,arg:DATA.arg,result:DATA.result}},handleCellTouchStart:function(a){var b=a.touches[0];console.log(a);DATA.arg.dTapTimer&&(clearTimeout(DATA.arg.dTapTimer),
    DATA.arg.dTapTimer=null);DATA.arg.startTx=b.clientX;DATA.arg.startTy=b.clientY},handleCellTouchEnd:function(a,b){console.log(a);var c=a.changedTouches[0];DATA.arg.endTx=c.clientX;DATA.arg.endTy=c.clientY;now=Date.now();c=now-DATA.arg.lastTime;if(6>Math.abs(DATA.arg.startTx-DATA.arg.endTx)&&6>Math.abs(DATA.arg.startTy-DATA.arg.endTy)&&301<=c)switch(console.log("fire tap event"),b.Type){case "emotion":b.IsMore?method.invoke("openNewPage",{type:1,pageName:this.state.arg.secondPage,keyword:b.KeyWord,
    scene:this.state.loading.scene}):method.invoke("openEmotionDetailViewLocal",{ProductId:b.ProductId});break;case "designer":b.IsMore?method.invoke("openNewPage",{type:3,pageName:this.state.arg.secondPage,keyword:b.KeyWord,scene:this.state.loading.scene}):method.invoke("openDesignerProfileLocal",{designerId:b.DesignerId});break;case "emoji":method.invoke("openDesignerEmojiViewLocal",{keyword:b.KeyWord})}DATA.arg.lastTime=now},getUrlArg:function(){for(var a=window.location.href.split("?")[1].split("&"),
                                                                                                                                                                                                                                                                                                                                                                                                                                                                             b={lang:"zh_CN",scene:null},c=0;c<a.length;c++)0<=a[c].indexOf("lang=")&&(b.lang=a[c].replace("lang=","")),0<=a[c].indexOf("scene=")&&(b.scene=a[c].replace("scene=",""));return b},clientType:function(){for(var a=window.location.href.split("?")[1].split("&"),b=0;b<a.length;b++)if(0<=a[b].indexOf("clientType="))return a[b].replace("clientType=","")},componentWillMount:function(){DATA.arg.clientType=this.clientType();this.setState({arg:DATA.arg})},componentDidMount:function(){function a(){WeixinJSBridge.on("showLoading",
    function(a){a&&(DATA.loading.needShow=a.needShow,DATA.loading.title=DATA.lang.LoadingTitle[b.getUrlArg().lang],DATA.loading.scene=b.getUrlArg().scene,b.setState({loading:DATA.loading}))});WeixinJSBridge.on("getSearchEmotionDataCallBack",function(a){a&&(console.log("getSearchEmotionDataCallBack res "+a),a.json?(a=$.parseJSON(a.json),DATA.arg.ReqType=a.ReqType,DATA.arg.KeyWord=a.KeyWord,DATA.arg.SplitedWord=a.SplitedWord,DATA.arg.NoResult=DATA.lang.NoResult[b.getUrlArg().lang],a.EmotionList?(DATA.result.EmotionList=
    a.EmotionList,DATA.result.EmotionList.KeyWord=a.KeyWord):delete DATA.result.EmotionList,a.EmojiList?(DATA.result.EmojiList=a.EmojiList,DATA.result.EmojiList.KeyWord=a.KeyWord):delete DATA.result.EmojiList,a.DesignerList?(DATA.result.DesignerList=a.DesignerList,DATA.result.DesignerList.KeyWord=a.KeyWord):delete DATA.result.DesignerList):DATA.result=null,b.setState({loading:{needShow:!1,title:DATA.loading.title,scene:DATA.loading.scene},arg:DATA.arg,result:DATA.result}))})}var b=this;document.addEventListener?
    document.addEventListener("WeixinJSBridgeReady",a,!1):document.attachEvent&&document.attachEvent("onWeixinJSBridgeReady",a)},render:function(){var a=null,b;1==this.state.arg.clientType?b="search_content android":b="search_content ios";switch(this.state.loading.needShow){case !0:a=React.createElement(PageLoading,{title:this.state.loading.title});break;case !1:this.state.result?this.state.result.EmotionList||this.state.result.EmojiList||this.state.result.DesignerList?(b+=" result",a=React.createElement(PageResult,
    {onCellTouchStart:this.handleCellTouchStart,onCellTouchEnd:this.handleCellTouchEnd,data:this.state.result})):a=React.createElement(PageNoResult,{title:this.state.arg.NoResult}):a=React.createElement(PageNoResult,{title:this.state.arg.NoResult})}return React.createElement("div",{className:b},a)}});React.render(React.createElement(Inner,null),document.getElementById("search_content"))}catch(a){WeixinJSBridge.invoke("log",{level:"error",msg:"name: "+a.name+"errorNumber: "+(a.number&65535)+"message: "+
a.message+"version:1"},function(b){})};