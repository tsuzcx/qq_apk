try{var DATA={canPaging:!0,loading:{needShow:!0,title:null},arg:{ReqType:null,fontSize:null,KeyWord:null,SplitedWord:null,newQuery:null,clientType:0},result:{},lang:{NoResult:{zh_CN:"\u65e0\u7ed3\u679c",en:"No Result",zh_TW:"\u65e0\u7ed3\u679c"},LoadingTitle:{zh_CN:"\u6b63\u5728\u641c\u7d22",en:"Searching...",zh_TW:"\u6b63\u5728\u641c\u7d22"}}},PageLoading=React.createClass({displayName:"PageLoading",render:function(){return React.createElement("div",{className:"page_loading"},React.createElement("i",
    {className:"ic loading"}),this.props.title)}}),PageNoResult=React.createClass({displayName:"PageNoResult",render:function(){return React.createElement("div",{className:"page_loading"},this.props.title)}}),CellsTitle=React.createClass({displayName:"CellsTitle",render:function(){return React.createElement("div",{className:"weui_cells_title"},this.props.title)}}),CellsFooter=React.createClass({displayName:"CellsFooter",render:function(){var a=this.props.data?React.createElement("div",{className:"cellsLoading"},
    React.createElement("i",{className:"ic loading"}),this.props.loadingTitle):null;return React.createElement("div",null,a)}}),Cell=React.createClass({displayName:"Cell",createMarkup:function(a){return{__html:a}},handleTouchStart:function(a){this.props.onCellTouchStart(a)},handleTouchEnd:function(a){switch(this.props.type){case "emotion":var b={Type:this.props.type,ProductId:this.props.data.ProductId};break;case "designer":b={Type:this.props.type,DesignerId:this.props.data.DesignerId}}this.props.onCellTouchEnd(a,
    b)},render:function(){console.log(this.props.data);var a,b,c;a="weui_cell "+this.props.type;b=this.props.data.Introduce?"weui_cell_bd weui_cell_primary line2":"weui_cell_bd weui_cell_primary";c=this.props.data.Introduce?React.createElement("p",{className:"desc",dangerouslySetInnerHTML:this.createMarkup(this.props.data.Introduce)}):null;return React.createElement("div",{className:a,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},React.createElement("div",{className:"weui_cell_hd"},
    React.createElement("img",{src:this.props.data.IconUrl})),React.createElement("div",{className:b},React.createElement("p",{dangerouslySetInnerHTML:this.createMarkup(this.props.data.Name)}),c))}}),CellsAccess=React.createClass({displayName:"CellsAccess",render:function(){var a,b,c,d=this;a="weui_cells weui_cells_access "+this.props.type;b=this.props.data.Title?React.createElement(CellsTitle,{title:this.props.data.Title}):null;c=this.props.data.List.map(function(a){return React.createElement(Cell,{onCellTouchStart:d.props.onCellTouchStart,
    onCellTouchEnd:d.props.onCellTouchEnd,type:d.props.type,data:a})});return React.createElement("div",null,b,React.createElement("div",{className:a},c),React.createElement(CellsFooter,{data:this.props.data.isShowBottomLoading,loadingTitle:d.props.loadingTitle}))}}),PageResult=React.createClass({displayName:"PageResult",render:function(){var a=null;switch(this.props.type){case 1:a=0!=this.props.data.EmotionList.List.length?React.createElement(CellsAccess,{onCellTouchStart:this.props.onCellTouchStart,
    onCellTouchEnd:this.props.onCellTouchEnd,type:"emotion",data:this.props.data.EmotionList,loadingTitle:this.props.loadingTitle}):null;break;case 3:a=0!=this.props.data.DesignerList.List.length?React.createElement(CellsAccess,{onCellTouchStart:this.props.onCellTouchStart,onCellTouchEnd:this.props.onCellTouchEnd,type:"designer",data:this.props.data.DesignerList,loadingTitle:this.props.loadingTitle}):null}return React.createElement("div",{className:"page_result second"},a)}}),method={invoke:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         b){WeixinJSBridge.invoke(a,b,function(a){})}},Inner=React.createClass({displayName:"Inner",getInitialState:function(){return{loading:DATA.loading,arg:DATA.arg,result:DATA.result}},handleCellTouchStart:function(a){var b=a.touches[0];console.log(a);DATA.arg.startTx=b.clientX;DATA.arg.startTy=b.clientY},handleCellTouchEnd:function(a,b){console.log(a);var c=a.changedTouches[0];DATA.arg.endTx=c.clientX;DATA.arg.endTy=c.clientY;if(6>Math.abs(DATA.arg.startTx-DATA.arg.endTx)&&6>Math.abs(DATA.arg.startTy-
        DATA.arg.endTy))switch(console.log("fire tap event"),b.Type){case "emotion":method.invoke("openEmotionDetailViewLocal",{ProductId:b.ProductId});break;case "designer":method.invoke("openDesignerProfileLocal",{designerId:b.DesignerId})}},isNewPage:function(a){DATA.arg.newQuery=a.newQuery;DATA.arg.nextPageBuffer=a.nextPageBuffer;DATA.arg.NoResult=DATA.lang.NoResult[this.lang()];if(a.json)if(a=$.parseJSON(a.json),DATA.arg.ReqType=a.ReqType,DATA.arg.KeyWord=a.KeyWord,DATA.arg.SplitedWord=a.SplitedWord,
        DATA.arg.newQuery)switch(a.ReqType){case 1:a.EmotionList?(DATA.result.EmotionList=a.EmotionList,DATA.result.EmotionList.KeyWord=a.KeyWord,DATA.result.EmotionList.isShowBottomLoading=a.EmotionList.IsMore):delete DATA.result.EmotionList;break;case 3:a.DesignerList?(DATA.result.DesignerList=a.DesignerList,DATA.result.DesignerList.KeyWord=a.KeyWord,DATA.result.DesignerList.isShowBottomLoading=a.DesignerList.IsMore):delete DATA.result.DesignerList}else switch(a.ReqType){case 1:var b=DATA.result.EmotionList.List.concat(a.EmotionList.List);
    DATA.result.EmotionList=a.EmotionList;DATA.result.EmotionList.List=b;DATA.result.EmotionList.KeyWord=a.KeyWord;DATA.result.EmotionList.isShowBottomLoading=a.EmotionList.IsMore;break;case 3:b=DATA.result.DesignerList.List.concat(a.DesignerList.List),DATA.result.DesignerList=a.DesignerList,DATA.result.DesignerList.List=b,DATA.result.DesignerList.KeyWord=a.KeyWord,DATA.result.DesignerList.isShowBottomLoading=a.DesignerList.IsMore}else DATA.result=null;this.setState({loading:{needShow:!1,title:DATA.loading.title},
    arg:DATA.arg,result:DATA.result})},page:function(){DATA.canPaging=!1;switch(this.state.arg.ReqType){case 1:var a=this;this.state.result.EmotionList.isShowBottomLoading&&WeixinJSBridge.invoke("getSearchEmotionData",{type:this.state.arg.ReqType,nextPageBuffer:this.state.arg.nextPageBuffer,keyword:this.state.arg.KeyWord},function(b){b&&a.isNewPage(b)});break;case 3:a=this,this.state.result.DesignerList.isShowBottomLoading&&WeixinJSBridge.invoke("getSearchEmotionData",{type:this.state.arg.ReqType,nextPageBuffer:this.state.arg.nextPageBuffer,
    keyword:this.state.arg.KeyWord},function(b){b&&a.isNewPage(b)})}},handlePageScroll:function(a){a.preventDefault();a=window.pageYOffset;console.log("scrollTop: "+a);console.log("clientHeight: "+DATA.arg.clientHeight);console.log("height: "+DATA.arg.height);console.log("DATA.canPaging "+DATA.canPaging);a>=DATA.arg.height-DATA.arg.clientHeight-30&&DATA.canPaging&&this.page()},componentDidUpdate:function(){console.log("componentDidUpdate");DATA.canPaging=!0;DATA.arg.clientHeight=document.documentElement.clientHeight;
    DATA.arg.height=$("body").height();DATA.arg.height-75<DATA.arg.clientHeight&&!this.state.loading.needShow&&this.page()},clientType:function(){for(var a=window.location.href.split("?")[1].split("&"),b=0;b<a.length;b++)if(0<=a[b].indexOf("clientType="))return a[b].replace("clientType=","")},initInvokeData:function(){for(var a=window.location.href.split("?")[1].split("&"),b={type:null,keyword:null,nextPageBuffer:""},c=0;c<a.length;c++)0<=a[c].indexOf("type=")&&(b.type=a[c].replace("type=","")),0<=a[c].indexOf("keyword=")&&
(b.keyword=decodeURIComponent(a[c].replace("keyword=","")));return b},lang:function(){for(var a=window.location.href.split("?")[1].split("&"),b=0;b<a.length;b++)if(0<=a[b].indexOf("lang="))return a[b].replace("lang=","");return"zh_CN"},componentWillMount:function(){DATA.arg.clientType=this.clientType();this.setState({arg:DATA.arg})},componentDidMount:function(){function a(){WeixinJSBridge.on("showLoading",function(a){a&&(DATA.loading.needShow=a.needShow,DATA.loading.title=DATA.lang.LoadingTitle[b.lang()],
    b.setState({loading:DATA.loading}))});WeixinJSBridge.on("getSearchEmotionDataCallBack",function(a){a&&b.isNewPage(a)});1==DATA.arg.clientType&&method.invoke("getSearchEmotionData",b.initInvokeData())}var b=this;window.onscroll=this.handlePageScroll;document.addEventListener?document.addEventListener("WeixinJSBridgeReady",a,!1):document.attachEvent&&document.attachEvent("onWeixinJSBridgeReady",a)},render:function(){var a=null,b;1==this.state.arg.clientType?b="search_content android":b="search_content ios";
    switch(this.state.loading.needShow){case !0:a=React.createElement(PageLoading,{title:this.state.loading.title});break;case !1:this.state.result?this.state.result.EmotionList||this.state.result.DesignerList?(b+=" result",a=React.createElement(PageResult,{onCellTouchStart:this.handleCellTouchStart,onCellTouchEnd:this.handleCellTouchEnd,ref:"PageResult",type:this.state.arg.ReqType,data:this.state.result,loadingTitle:this.state.loading.title})):a=React.createElement(PageNoResult,{title:this.state.arg.NoResult}):
        a=React.createElement(PageNoResult,{title:this.state.arg.NoResult})}return React.createElement("div",{className:b},a)}});React.render(React.createElement(Inner,null),document.getElementById("search_content"))}catch(a){WeixinJSBridge.invoke("log",{level:"error",msg:"name: "+a.name+"errorNumber: "+(a.number&65535)+"message: "+a.message+"version:1"},function(b){})};