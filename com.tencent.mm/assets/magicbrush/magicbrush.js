!function(t){var e={};function r(E){if(e[E])return e[E].exports;var n=e[E]={i:E,l:!1,exports:{}};return t[E].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,E){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:E})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var E=Object.create(null);if(r.r(E),Object.defineProperty(E,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(E,n,function(e){return t[e]}.bind(null,n));return E},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){r(1),r(2),r(3),t.exports=r(4)},function(t,e){!function(){var t=NativeGlobal.batchRender,e=NativeGlobal.registerAfterDoFrame,r=NativeGlobal.Watcher,E=(NativeGlobal.performanceNow,NativeGlobal.log,NativeGlobal.WeakValueMap),n={handler:{},toDeleteList:[]};function _(t){this.destroycmdid=t,this.map_object_to_id=new WeakMap,this.reverse_map_id_to_object=new E,this.getIdWithObject=function(t){let e=this.map_object_to_id.get(t);return e?e[0]:0},this.getObjectWithId=function(t){return this.reverse_map_id_to_object.get(t)},this.get=this.getIdWithObject,this.put=function(t,e){this.reverse_map_id_to_object.put(t,e)},this.remove=function(t){if("number"==typeof t){let e=this.reverse_map_id_to_object.get(t);if(void 0===e)return;let r=this.map_object_to_id.get(e)[1];this.map_object_to_id.delete(e),delete n.handler[r]}else if("object"==typeof t){if(!this.map_object_to_id.has(t))return;let e=this.map_object_to_id.get(t);this.reverse_map_id_to_object.remove(e[0]),this.map_object_to_id.delete(t);let r=e[1];delete n.handler[r]}},this.createWebGLObject=function(t,e){let E=new r;return this.map_object_to_id.set(E,[t,E.__id]),this.reverse_map_id_to_object.put(t,E),n.handler[E.__id]=function(t,e,r,E){return function(){a(e),T.pushInt32Array([r,t],2),E.reverse_map_id_to_object.remove(t)}}(t,e,this.destroycmdid,this),E.__id=void 0,E.ignore=void 0,E.clearExtra=void 0,E.setExtra=void 0,E.getExtra=void 0,E}}NativeGlobal.EventHandler.addEventListener("watcherdestruct",(function(t,e){n.handler[t]&&n.toDeleteList.push(t)}));var A,R=(A=new WeakMap,function(t){var e=A.get(t);return e||(e={origin_ctx:null,ctxid:0,renderbuffer_storage:new _(83),framebuffer_storage:new _(82),buffer_storage:new _(79),texture_storage:new _(78),program_storage:new _(81),shader_storage:new _(41),vao_oes_storage:new _(149),vao_storage:new _(234),transform_feedback_storage:new _(215),sync_storage:new _(210),sampler_storage:new _(202),query_storage:new _(195)},A.set(t,e)),e}),T={currentctxid:-1,buffer:void 0,MAX_LEN:512e3,lengthPerFourBytes:0,meta:new Uint32Array(2),float32Array:void 0,uint32Array:void 0,offsetPerFourBytes:0,ctxLengthOffsetPerFourBytes:0,init:function(){this.buffer=new ArrayBuffer(this.MAX_LEN),this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.float32Array=new Float32Array(this.buffer),this.uint32Array=new Uint32Array(this.buffer),this.offsetPerFourBytes=2},checkCommand:function(t){if(!(this.offsetPerFourBytes+t<=this.lengthPerFourBytes)){var e=new ArrayBuffer(this.MAX_LEN+4*(t+this.lengthPerFourBytes)),r=new Uint32Array(e);r.set(this.uint32Array),this.buffer=e,this.lengthPerFourBytes=this.buffer.byteLength/4,this.meta=new Uint32Array(this.buffer,0,2),this.uint32Array=r,this.float32Array=new Float32Array(e),console.log("unity: command buffer enlarge to "+this.buffer.byteLength)}},pushInt32:function(t){this.checkCommand(1),this.uint32Array[this.offsetPerFourBytes++]=t},pushInt64:function(t){this.checkCommand(2);var e=new DataView(this.buffer,4*this.offsetPerFourBytes,8),r=Math.floor(t/4294967296),E=t-4294967296*r;e.setUint32(0,E,!0),e.setUint32(4,r,!0),this.offsetPerFourBytes+=2},pushInt32Array:function(t,e){this.checkCommand(e),this.uint32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushInt16Array:function(t,e){e%2!=0&&e++,this.checkCommand(e/2),new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=e/2},pushFloat32:function(t){this.checkCommand(1),this.float32Array[this.offsetPerFourBytes++]=t},pushFloat64:function(t){this.checkCommand(2),new Float64Array(this.buffer,4*this.offsetPerFourBytes,1)[0]=t,this.offsetPerFourBytes+=2},pushFloat32Array:function(t,e){this.checkCommand(e),this.float32Array.set(t,this.offsetPerFourBytes),this.offsetPerFourBytes+=e},pushFloat64Array:function(t,e){this.checkCommand(2*e),new Float64Array(this.buffer,4*this.offsetPerFourBytes,e).set(t),this.offsetPerFourBytes+=2*e},pushArrayBuffer:function(t){var e=t.byteLength;if(this.pushInt32(e),0!==e){var r,E=e%4;r=0!==E?(e+4-E)/4:e/4,this.checkCommand(r);var n=new Uint8Array(this.buffer,4*this.offsetPerFourBytes,e);ArrayBuffer.isView(t)?n.set(new Uint8Array(t.buffer,t.byteOffset,e)):n.set(new Uint8Array(t)),this.offsetPerFourBytes+=r}},pushString:function(t){var e=t.length+1,r=2*e;this.pushInt32(r);var E,n=r%4;E=0!==n?(r+4-n)/4:r/4,this.checkCommand(E);for(var _=new Uint16Array(this.buffer,4*this.offsetPerFourBytes,e),i=0;i<e;i++)_[i]=t.charCodeAt(i);this.offsetPerFourBytes+=E},batchRender:function(e){if(this.meta[0]=this.offsetPerFourBytes,0!=T.ctxLengthOffsetPerFourBytes){var r=T.uint32Array[T.ctxLengthOffsetPerFourBytes];T.uint32Array[T.ctxLengthOffsetPerFourBytes]=T.offsetPerFourBytes-r,T.ctxLengthOffsetPerFourBytes=0}return this.offsetPerFourBytes=2,this.currentctxid=-1,t(this.buffer,e)}};function a(t){if(T.currentctxid!==t){if(-1!=T.currentctxid&&0!=T.ctxLengthOffsetPerFourBytes){var e=T.uint32Array[T.ctxLengthOffsetPerFourBytes];T.uint32Array[T.ctxLengthOffsetPerFourBytes]=T.offsetPerFourBytes-e}T.pushInt32(999),T.pushInt32(t),T.ctxLengthOffsetPerFourBytes=T.offsetPerFourBytes,T.pushInt32(T.offsetPerFourBytes+1),T.currentctxid=t}}T.init(),e((function(){T.offsetPerFourBytes>2&&T.batchRender();let t=n.toDeleteList;n.toDeleteList=[];for(var e=0;e<t.length;e++){var r=t[e];n.handler[r]&&n.handler[r](),delete n.handler[r]}})),NativeGlobal.getCommandBufferUid=function(t){return R(t).ctxid},NativeGlobal.destroyCommandBuffer=function(t){},NativeGlobal.buildCommandBuffer=function(t){var e;if(e={vertexAttribPointer:function(t,e,r,E,n,_){a(R(this).ctxid),T.pushInt32Array([1,t,e,r,E?1:0,n,_],7)},activeTexture:function(t){a(R(this).ctxid),T.pushInt32Array([2,t],2)},uniform1i:function(t,e){t&&(a(R(this).ctxid),"boolean"==typeof e&&(e=e?1:0),T.pushInt32Array([3,t.id,e],3))},drawElements:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([4,t,e,r,E],5)},bindBuffer:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([5,t,r.buffer_storage.get(e)],3)},bindTexture:function(t,e){var r=R(this);a(r.ctxid);var E=r.texture_storage.get(e);36197==t&&(E=e),T.pushInt32Array([6,t,E],3)},uniformMatrix4fv:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([7,t.id,e?1:0,r.length],4),T.pushFloat32Array(r,r.length))},viewport:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([8,t,e,r,E],5)},clear:function(t){a(R(this).ctxid),T.pushInt32Array([9,t],2)},createProgram:function(){var t=R(this);a(t.ctxid),T.pushInt32(10);var e=T.batchRender();return t.program_storage.createWebGLObject(e,t.ctxid)},createShader:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([11,t],2);let r=T.batchRender();return e.shader_storage.createWebGLObject(r,e.ctxid)},shaderSource:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([12,r.shader_storage.get(t)],2),T.pushString(e)},getShaderInfoLog:function(t){let e=R(this);return a(e.ctxid),T.pushInt32Array([13,e.shader_storage.get(t)],2),T.batchRender()},getShaderParameter:function(t,e){let r=R(this);return a(r.ctxid),T.pushInt32Array([14,r.shader_storage.get(t),e],3),T.batchRender()},compileShader:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([15,e.shader_storage.get(t)],2)},attachShader:function(t,e){var r=R(this);a(r.ctxid),T.pushInt32Array([16,r.program_storage.get(t),r.shader_storage.get(e)],3)},linkProgram:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([17,e.program_storage.get(t)],2)},getProgramParameter:function(t,e){var r=R(this);return a(r.ctxid),T.pushInt32Array([18,r.program_storage.get(t),e],3),T.batchRender()},useProgram:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([19,e.program_storage.get(t)],2)},getAttribLocation:function(t,e){var r=R(this);return a(r.ctxid),T.pushInt32Array([20,r.program_storage.get(t)],2),T.pushString(e),T.batchRender()},enableVertexAttribArray:function(t){a(R(this).ctxid),T.pushInt32Array([21,t],2)},getUniformLocation:function(t,e){var r=R(this);a(r.ctxid);let E=r.program_storage.get(t);T.pushInt32Array([22,E],2),T.pushString(e);let n=T.batchRender();if(-1==n)return null;var _={};return _.id=n,_},createBuffer:function(){var t=R(this);a(t.ctxid),T.pushInt32(23);let e=T.batchRender();return t.buffer_storage.createWebGLObject(e,t.ctxid)},bufferData:function(t,e,r){a(R(this).ctxid),"number"!=typeof e||isNaN(e)?(T.pushInt32Array([25,t,r],3),T.pushArrayBuffer(e)):(T.pushInt32Array([24,t,r],3),T.pushInt64(e))},createTexture:function(){var t=R(this);a(t.ctxid),T.pushInt32(26);var e=T.batchRender();return t.texture_storage.createWebGLObject(e,t.ctxid)},pixelStorei:function(t,e){a(R(this).ctxid),"boolean"==typeof e&&(e=e?1:0),T.pushInt32Array([27,t,e],3)},texImage2D:function(t,e,r,E,n,_,i,A,s){a(R(this).ctxid);var u=arguments.length;6===u?(T.pushInt32Array([28,t,e,r,E,n],6),T.pushInt64(_.__uid())):9===u&&(null==s?T.pushInt32Array([29,t,e,r,E,n,_,i,A],9):T.pushInt32Array([30,t,e,r,E,n,_,i,A],9)),T.batchRender(s)},texParameteri:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([31,t,e,r],4)},enable:function(t){a(R(this).ctxid),T.pushInt32Array([32,t],2)},clearColor:function(t,e,r,E){a(R(this).ctxid),T.pushInt32(33),T.pushFloat32Array([t,e,r,E],4)},disable:function(t){a(R(this).ctxid),T.pushInt32Array([34,t],2)},getExtension:function(t){let e=R(this),r=e.ctxid;a(r),T.pushInt32(35),T.pushString(t);var E=T.batchRender();if(!E)return E;if("ANGLE_instanced_arrays"===t){if(e.angle_instanced_arrays)return e.angle_instanced_arrays;let t={drawArraysInstancedANGLE:function(t,e,E,n){a(r),T.pushInt32Array([143,t,e,E,n],5)},drawElementsInstancedANGLE:function(t,e,E,n,_){a(r),T.pushInt32Array([144,t,e,E,n,_],6)},vertexAttribDivisorANGLE:function(t,e){a(r),T.pushInt32Array([145,t,e],3)}};return t.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=E.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE,e.angle_instanced_arrays=t,t}if("OES_vertex_array_object"===t){if(e.vao)return e.vao;let t=this;var n={createVertexArrayOES:function(){a(R(t).ctxid),T.pushInt32(148);var E=T.batchRender();return e.vao_oes_storage.createWebGLObject(E,r)},deleteVertexArrayOES:function(r){a(R(t).ctxid),T.pushInt32Array([149,e.vao_oes_storage.get(r)],2),e.vao_oes_storage.remove(r)},isVertexArrayOES:function(r){let E=e.vao_oes_storage.get(r);return!(E<=0)&&(a(R(t).ctxid),T.pushInt32Array([150,E],2),T.batchRender())},bindVertexArrayOES:function(r){a(R(t).ctxid);let E=e.vao_oes_storage.get(r);T.pushInt32Array([151,E],2)}};return n.VERTEX_ARRAY_BINDING_OES=E.VERTEX_ARRAY_BINDING_OES,e.vao=n,n}return E},getParameter:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([36,t],2);const r=T.batchRender();switch(t){case this.ARRAY_BUFFER_BINDING:case this.ELEMENT_ARRAY_BUFFER_BINDING:case this.COPY_READ_BUFFER_BINDING:case this.COPY_WRITE_BUFFER_BINDING:case this.PIXEL_PACK_BUFFER_BINDING:case this.PIXEL_UNPACK_BUFFER_BINDING:case this.TRANSFORM_FEEDBACK_BUFFER_BINDING:case this.UNIFORM_BUFFER_BINDING:return e.buffer_storage.getObjectWithId(r);case this.CURRENT_PROGRAM:return e.program_storage.getObjectWithId(r);case this.FRAMEBUFFER_BINDING:case this.READ_FRAMEBUFFER_BINDING:return e.framebuffer_storage.getObjectWithId(r);case this.RENDERBUFFER_BINDING:return e.renderbuffer_storage.getObjectWithId(r);case this.TEXTURE_BINDING_2D:case this.TEXTURE_BINDING_CUBE_MAP:case this.TEXTURE_BINDING_2D_ARRAY:case this.TEXTURE_BINDING_3D:return e.texture_storage.getObjectWithId(r);case this.TRANSFORM_FEEDBACK_BINDING:return e.transform_feedback_storage.getObjectWithId(r);case this.VERTEX_ARRAY_BINDING:return e.vao_storage.getObjectWithId(r);case this.SAMPLER_BINDING:return e.sampler_storage.getObjectWithId(r);default:return r}},getSupportedExtensions:function(){return a(R(this).ctxid),T.pushInt32(37),T.batchRender()},blendFunc:function(t,e){a(R(this).ctxid),T.pushInt32Array([38,t,e],3)},getShaderPrecisionFormat:function(t,e){a(R(this).ctxid),T.pushInt32Array([39,t,e],3);const r=T.batchRender().split(",");var E={};return E.rangeMin=r[0],E.rangeMax=r[1],E.precision=r[2],E},bindAttribLocation:function(t,e,r){var E=R(this);a(E.ctxid),T.pushInt32Array([40,E.program_storage.get(t),e],3),T.pushString(r)},deleteShader:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([41,e.shader_storage.get(t)],2),e.shader_storage.remove(t)},drawArrays:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([42,t,e,r],4)},isEnabled:function(t){return a(R(this).ctxid),T.pushInt32Array([43,t],2),T.batchRender()},depthMask:function(t){a(R(this).ctxid),T.pushInt32Array([44,t?1:0],2)},stencilFunc:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([45,t,e,r],4)},stencilOp:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([46,t,e,r],4)},stencilMask:function(t){a(R(this).ctxid),T.pushInt32Array([47,t],2)},scissor:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([48,t,e,r,E],5)},bufferSubData:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([49,t,e],3),T.pushArrayBuffer(r)},blendFuncSeparate:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([50,t,e,r,E],5)},uniform1f:function(t,e){t&&(a(R(this).ctxid),T.checkCommand(3),T.uint32Array.set([51,t.id],T.offsetPerFourBytes),T.float32Array[T.offsetPerFourBytes+2]=e,T.offsetPerFourBytes+=3)},clearDepth:function(t){a(R(this).ctxid),T.pushInt32(52),T.pushFloat32(t)},clearStencil:function(t){a(R(this).ctxid),T.pushInt32Array([53,t],2)},depthFunc:function(t){a(R(this).ctxid),T.pushInt32Array([54,t],2)},frontFace:function(t){a(R(this).ctxid),T.pushInt32Array([55,t],2)},cullFace:function(t){a(R(this).ctxid),T.pushInt32Array([56,t],2)},blendEquationSeparate:function(t,e){a(R(this).ctxid),T.pushInt32Array([57,t,e],3)},createFramebuffer:function(){var t=R(this);a(t.ctxid),T.pushInt32(58);let e=T.batchRender();return t.framebuffer_storage.createWebGLObject(e,t.ctxid)},bindFramebuffer:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([59,t,r.framebuffer_storage.get(e)],3)},framebufferTexture2D:function(t,e,r,E,n){var _=R(this);a(_.ctxid);var i=_.texture_storage.get(E)||0;T.pushInt32Array([60,t,e,r,n,i],6)},createRenderbuffer:function(){var t=R(this);a(t.ctxid),T.pushInt32(61);let e=T.batchRender();return t.renderbuffer_storage.createWebGLObject(e,t.ctxid)},bindRenderbuffer:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([62,t,r.renderbuffer_storage.get(e)],3)},renderbufferStorage:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([63,t,e,r,E],5)},framebufferRenderbuffer:function(t,e,r,E){let n=R(this);a(n.ctxid),T.pushInt32Array([64,t,e,r,n.renderbuffer_storage.get(E)],5)},colorMask:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([65,t?1:0,e?1:0,r?1:0,E?1:0],5)},getProgramInfoLog:function(t){var e=R(this);return a(e.ctxid),T.pushInt32Array([66,e.program_storage.get(t)],2),T.batchRender()},getActiveAttrib:function(t,e){var r=R(this);a(r.ctxid),T.pushInt32Array([67,r.program_storage.get(t),e],3);const E=T.batchRender().split(",");var n={};return n.type=Number(E[0]),n.size=Number(E[1]),n.name=E[2],n},getActiveUniform:function(t,e){var r=R(this);a(r.ctxid),T.pushInt32Array([68,r.program_storage.get(t),e],3);const E=T.batchRender();if(E){const t=E.split(",");var n={};return n.type=Number(t[0]),n.size=Number(t[1]),n.name=t[2],n}return null},uniform3f:function(t,e,r,E){t&&(a(R(this).ctxid),T.pushInt32Array([69,t.id],2),T.pushFloat32Array([e,r,E],3))},uniform1iv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([70,t.id,e.length],3),T.pushInt32Array(e,e.length))},uniform3fv:function(t,e){t&&(a(R(this).ctxid),T.checkCommand(3+e.length),T.uint32Array.set([71,t.id,e.length],T.offsetPerFourBytes),T.offsetPerFourBytes+=3,T.float32Array.set(e,T.offsetPerFourBytes),T.offsetPerFourBytes+=e.length)},uniform2f:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([72,t.id],2),T.pushFloat32Array([e,r],2))},uniformMatrix3fv:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([73,t.id,e?1:0,r.length],4),T.pushFloat32Array(r,r.length))},disableVertexAttribArray:function(t){a(R(this).ctxid),T.pushInt32Array([74,t],2)},generateMipmap:function(t){a(R(this).ctxid),T.pushInt32Array([75,t],2)},uniform4fv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([76,t.id,e.length],3),T.pushFloat32Array(e,e.length))},getError:function(){return a(R(this).ctxid),T.pushInt32(77),T.batchRender()},deleteTexture:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([78,e.texture_storage.get(t)],2),e.texture_storage.remove(t)},deleteBuffer:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([79,e.buffer_storage.get(t)],2),e.buffer_storage.remove(t)},getShaderSource:function(t){let e=R(this);return a(e.ctxid),T.pushInt32Array([80,e.shader_storage.get(t)],2),T.batchRender()},deleteProgram:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([81,e.program_storage.get(t)],2),e.program_storage.remove(t)},deleteFramebuffer:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([82,e.framebuffer_storage.get(t)],2),e.framebuffer_storage.remove(t)},deleteRenderbuffer:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([83,e.renderbuffer_storage.get(t)],2),e.renderbuffer_storage.remove(t)},texSubImage2D:function(t,e,r,E,n,_,i,A,s){a(R(this).ctxid);var u=arguments.length;7===u?(T.pushInt32Array([84,t,e,r,E,n,_],7),T.pushInt64(i.__uid())):9===u&&(null==s?T.pushInt32Array([85,t,e,r,E,n,_,i,A],9):T.pushInt32Array([86,t,e,r,E,n,_,i,A],9)),T.batchRender(s)},uniform4f:function(t,e,r,E,n){t&&(a(R(this).ctxid),T.pushInt32Array([87,t.id],2),T.pushFloat32Array([e,r,E,n],4))},isBuffer:function(t){let e=R(this),r=e.buffer_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([88,r],2),T.batchRender())},isContextLost:function(){return!1},isFramebuffer:function(t){let e=R(this),r=e.framebuffer_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([90,r],2),T.batchRender())},isProgram:function(t){var e=R(this);let r=e.program_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([91,r],2),T.batchRender())},isRenderbuffer:function(t){var e=R(this);let r=e.renderbuffer_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([92,r],2),T.batchRender())},isShader:function(t){var e=R(this);let r=e.shader_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([93,r],2),T.batchRender())},isTexture:function(t){var e=R(this);let r=e.texture_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([94,r],2),T.batchRender())},uniform2i:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([95,t.id,e,r],4))},uniform3i:function(t,e,r,E){t&&(a(R(this).ctxid),T.pushInt32Array([96,t.id,e,r,E],5))},uniform4i:function(t,e,r,E,n){t&&(a(R(this).ctxid),T.pushInt32Array([97,t.id,e,r,E,n],6))},uniform1fv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([98,t.id,e.length],3),T.pushFloat32Array(e,e.length))},uniform2fv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([99,t.id,e.length],3),T.pushFloat32Array(e,e.length))},uniform2iv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([100,t.id,e.length],3),T.pushInt32Array(e,e.length))},uniform3iv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([101,t.id,e.length],3),T.pushInt32Array(e,e.length))},uniform4iv:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([102,t.id,e.length],3),T.pushInt32Array(e,e.length))},uniformMatrix2fv:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([103,t.id,e?1:0,r.length],4),T.pushFloat32Array(r,r.length))},vertexAttrib1f:function(t,e){a(R(this).ctxid),T.pushInt32Array([104,t],2),T.pushFloat32(e)},vertexAttrib2f:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([105,t],2),T.pushFloat32Array([e,r],2)},vertexAttrib3f:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([106,t],2),T.pushFloat32Array([e,r,E],3)},vertexAttrib4f:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([107,t],2),T.pushFloat32Array([e,r,E,n],4)},vertexAttrib1fv:function(t,e){a(R(this).ctxid),T.pushInt32Array([108,t,e.length],3),T.pushFloat32Array(e,e.length)},vertexAttrib2fv:function(t,e){a(R(this).ctxid),T.pushInt32Array([109,t,e.length],3),T.pushFloat32Array(e,e.length)},vertexAttrib3fv:function(t,e){a(R(this).ctxid),T.pushInt32Array([110,t,e.length],3),T.pushFloat32Array(e,e.length)},vertexAttrib4fv:function(t,e){a(R(this).ctxid),T.pushInt32Array([111,t,e.length],3),T.pushFloat32Array(e,e.length)},blendColor:function(t,e,r,E){a(R(this).ctxid),T.pushInt32(112),T.pushFloat32Array([t,e,r,E],4)},checkFramebufferStatus:function(t){return a(R(this).ctxid),T.pushInt32Array([113,t],2),T.batchRender()},compressedTexImage2D:function(t,e,r,E,n,_,i){a(R(this).ctxid),T.pushInt32Array([114,t,e,r,E,n,_],7),T.pushArrayBuffer(i)},compressedTexSubImage2D:function(t,e,r,E,n,_,i,A){a(R(this).ctxid),T.pushInt32Array([115,t,e,r,E,n,_,i],8),T.pushArrayBuffer(A)},copyTexImage2D:function(t,e,r,E,n,_,i,A){a(R(this).ctxid),T.pushInt32Array([116,t,e,r,E,n,_,i,A],9)},copyTexSubImage2D:function(t,e,r,E,n,_,i,A){a(R(this).ctxid),T.pushInt32Array([117,t,e,r,E,n,_,i,A],9)},depthRange:function(t,e){a(R(this).ctxid),T.pushInt32(118),T.pushFloat32Array([t,e],2)},detachShader:function(t,e){var r=R(this);a(R(this).ctxid),T.pushInt32Array([119,r.program_storage.get(t),r.shader_storage.get(e)],3)},flush:function(){a(R(this).ctxid),T.pushInt32(120),T.batchRender()},finish:function(){a(R(this).ctxid),T.pushInt32(121),T.batchRender()},hint:function(t,e){a(R(this).ctxid),T.pushInt32Array([122,t,e],3)},lineWidth:function(t){a(R(this).ctxid),T.pushInt32(123),T.pushFloat32(t)},polygonOffset:function(t,e){a(R(this).ctxid),T.pushInt32(124),T.pushFloat32Array([t,e],2)},sampleCoverage:function(t,e){a(R(this).ctxid),T.pushInt32(125),T.pushFloat32(t),T.pushInt32(e?1:0)},stencilFuncSeparate:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([126,t,e,r,E],5)},stencilMaskSeparate:function(t,e){a(R(this).ctxid),T.pushInt32Array([127,t,e],3)},stencilOpSeparate:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([128,t,e,r,E],5)},texParameterf:function(t,e,r){a(R(this).ctxid),T.pushInt32Array([129,t,e],3),T.pushFloat32(r)},validateProgram:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([130,e.program_storage.get(t)],2)},getBufferParameter:function(t,e){return a(R(this).ctxid),T.pushInt32Array([131,t,e],3),T.batchRender()},getRenderbufferParameter:function(t,e){return a(R(this).ctxid),T.pushInt32Array([132,t,e],3),T.batchRender()},getTexParameter:function(t,e){return a(R(this).ctxid),T.pushInt32Array([133,t,e],3),T.batchRender()},getVertexAttribOffset:function(t,e){return a(R(this).ctxid),T.pushInt32Array([134,t,e],3),T.batchRender()},wxSetContextAttributes:function(t){a(R(this).ctxid),T.pushInt32Array([135,t.antialias,t.antialiasSamples],3)},wxBindCanvasTexture:function(t,e){a(R(this).ctxid),T.pushInt32Array([136,t],2),T.pushInt64(e.__id)},getContextAttributes:function(){return a(R(this).ctxid),T.pushInt32(137),T.batchRender()},readPixels:function(t,e,r,E,n,_,i){var A=R(this);return a(A.ctxid),T.batchRender(),A.origin_ctx.readPixels(t,e,r,E,n,_,i)},getAttachedShaders:function(t){var e=R(this);a(e.ctxid),T.pushInt32Array([139,e.program_storage.get(t)],2);var r=T.batchRender().split(",");for(i=0,len=r.length;i<len;i++)r[i]=e.shader_storage.getObjectWithId(Number(r[i]));return r},getFramebufferAttachmentParameter:function(t,e,r){var E=R(this);a(E.ctxid),T.pushInt32Array([140,t,e,r],4);const n=T.batchRender();if(r===this.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME){let r=this.getFramebufferAttachmentParameter(t,e,this.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE);if(r===this.RENDERBUFFER)return E.renderbuffer_storage.getObjectWithId(n);if(r===this.TEXTURE)return E.texture_storage.getObjectWithId(n)}return n},getVertexAttrib:function(t,e){var r=R(this);a(r.ctxid),T.pushInt32Array([141,t,e],3);const E=T.batchRender();return e===this.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING?r.buffer_storage.getObjectWithId(E):E},blendEquation:function(t){a(R(this).ctxid),T.pushInt32Array([142,t],2)},JS_THREAD_FLUSH:1,JS_THREAD_WAIT:2,FENCE_SYNC_WAIT:16,FENCE_SYNC_CLIENT_WAIT:32,submit:function(t){return t=t||0,a(R(this).ctxid),T.pushInt32Array([152,t],2),T.batchRender()},DEPTH_BUFFER_BIT:t.DEPTH_BUFFER_BIT,STENCIL_BUFFER_BIT:t.STENCIL_BUFFER_BIT,COLOR_BUFFER_BIT:t.COLOR_BUFFER_BIT,FALSE:t.FALSE,TRUE:t.TRUE,POINTS:t.POINTS,LINES:t.LINES,LINE_LOOP:t.LINE_LOOP,LINE_STRIP:t.LINE_STRIP,TRIANGLES:4,TRIANGLE_STRIP:t.TRIANGLE_STRIP,TRIANGLE_FAN:t.TRIANGLE_FAN,ZERO:t.ZERO,ONE:t.ONE,SRC_COLOR:t.SRC_COLOR,ONE_MINUS_SRC_COLOR:t.ONE_MINUS_SRC_COLOR,SRC_ALPHA:t.SRC_ALPHA,ONE_MINUS_SRC_ALPHA:t.ONE_MINUS_SRC_ALPHA,DST_ALPHA:t.DST_ALPHA,ONE_MINUS_DST_ALPHA:t.ONE_MINUS_DST_ALPHA,DST_COLOR:t.DST_COLOR,ONE_MINUS_DST_COLOR:t.ONE_MINUS_DST_COLOR,SRC_ALPHA_SATURATE:t.SRC_ALPHA_SATURATE,FUNC_ADD:t.FUNC_ADD,BLEND_EQUATION:t.BLEND_EQUATION,BLEND_EQUATION_RGB:t.BLEND_EQUATION_RGB,BLEND_EQUATION_ALPHA:t.BLEND_EQUATION_ALPHA,FUNC_SUBTRACT:t.FUNC_SUBTRACT,FUNC_REVERSE_SUBTRACT:t.FUNC_REVERSE_SUBTRACT,BLEND_DST_RGB:t.BLEND_DST_RGB,BLEND_SRC_RGB:t.BLEND_SRC_RGB,BLEND_DST_ALPHA:t.BLEND_DST_ALPHA,BLEND_SRC_ALPHA:t.BLEND_SRC_ALPHA,CONSTANT_COLOR:t.CONSTANT_COLOR,ONE_MINUS_CONSTANT_COLOR:t.ONE_MINUS_CONSTANT_COLOR,CONSTANT_ALPHA:t.CONSTANT_ALPHA,ONE_MINUS_CONSTANT_ALPHA:t.ONE_MINUS_CONSTANT_ALPHA,BLEND_COLOR:t.BLEND_COLOR,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:t.ARRAY_BUFFER_BINDING,ELEMENT_ARRAY_BUFFER_BINDING:t.ELEMENT_ARRAY_BUFFER_BINDING,STREAM_DRAW:t.STREAM_DRAW,STATIC_DRAW:t.STATIC_DRAW,DYNAMIC_DRAW:t.DYNAMIC_DRAW,BUFFER_SIZE:t.BUFFER_SIZE,BUFFER_USAGE:t.BUFFER_USAGE,CURRENT_VERTEX_ATTRIB:t.CURRENT_VERTEX_ATTRIB,FRONT:t.FRONT,BACK:t.BACK,FRONT_AND_BACK:t.FRONT_AND_BACK,TEXTURE_2D:3553,TEXTURE_EXTERNAL_OES:36197,CULL_FACE:t.CULL_FACE,BLEND:t.BLEND,DITHER:t.DITHER,STENCIL_TEST:t.STENCIL_TEST,DEPTH_TEST:t.DEPTH_TEST,SCISSOR_TEST:t.SCISSOR_TEST,POLYGON_OFFSET_FILL:t.POLYGON_OFFSET_FILL,SAMPLE_ALPHA_TO_COVERAGE:t.SAMPLE_ALPHA_TO_COVERAGE,SAMPLE_COVERAGE:t.SAMPLE_COVERAGE,NO_ERROR:t.NO_ERROR,INVALID_ENUM:t.INVALID_ENUM,INVALID_VALUE:t.INVALID_VALUE,INVALID_OPERATION:t.INVALID_OPERATION,OUT_OF_MEMORY:t.OUT_OF_MEMORY,CW:t.CW,CCW:t.CCW,LINE_WIDTH:t.LINE_WIDTH,ALIASED_POINT_SIZE_RANGE:t.ALIASED_POINT_SIZE_RANGE,ALIASED_LINE_WIDTH_RANGE:t.ALIASED_LINE_WIDTH_RANGE,CULL_FACE_MODE:t.CULL_FACE_MODE,FRONT_FACE:t.FRONT_FACE,DEPTH_RANGE:t.DEPTH_RANGE,DEPTH_WRITEMASK:t.DEPTH_WRITEMASK,DEPTH_CLEAR_VALUE:t.DEPTH_CLEAR_VALUE,DEPTH_FUNC:t.DEPTH_FUNC,STENCIL_CLEAR_VALUE:t.STENCIL_CLEAR_VALUE,STENCIL_FUNC:t.STENCIL_FUNC,STENCIL_FAIL:t.STENCIL_FAIL,STENCIL_PASS_DEPTH_FAIL:t.STENCIL_PASS_DEPTH_FAIL,STENCIL_PASS_DEPTH_PASS:t.STENCIL_PASS_DEPTH_PASS,STENCIL_REF:t.STENCIL_REF,STENCIL_VALUE_MASK:t.STENCIL_VALUE_MASK,STENCIL_WRITEMASK:t.STENCIL_WRITEMASK,STENCIL_BACK_FUNC:t.STENCIL_BACK_FUNC,STENCIL_BACK_FAIL:t.STENCIL_BACK_FAIL,STENCIL_BACK_PASS_DEPTH_FAIL:t.STENCIL_BACK_PASS_DEPTH_FAIL,STENCIL_BACK_PASS_DEPTH_PASS:t.STENCIL_BACK_PASS_DEPTH_PASS,STENCIL_BACK_REF:t.STENCIL_BACK_REF,STENCIL_BACK_VALUE_MASK:t.STENCIL_BACK_VALUE_MASK,STENCIL_BACK_WRITEMASK:t.STENCIL_BACK_WRITEMASK,VIEWPORT:t.VIEWPORT,SCISSOR_BOX:t.SCISSOR_BOX,COLOR_CLEAR_VALUE:t.COLOR_CLEAR_VALUE,COLOR_WRITEMASK:t.COLOR_WRITEMASK,UNPACK_ALIGNMENT:t.UNPACK_ALIGNMENT,PACK_ALIGNMENT:t.PACK_ALIGNMENT,MAX_TEXTURE_SIZE:t.MAX_TEXTURE_SIZE,MAX_VIEWPORT_DIMS:t.MAX_VIEWPORT_DIMS,SUBPIXEL_BITS:t.SUBPIXEL_BITS,RED_BITS:t.RED_BITS,GREEN_BITS:t.GREEN_BITS,BLUE_BITS:t.BLUE_BITS,ALPHA_BITS:t.ALPHA_BITS,DEPTH_BITS:t.DEPTH_BITS,STENCIL_BITS:t.STENCIL_BITS,POLYGON_OFFSET_UNITS:t.POLYGON_OFFSET_UNITS,POLYGON_OFFSET_FACTOR:t.POLYGON_OFFSET_FACTOR,TEXTURE_BINDING_2D:t.TEXTURE_BINDING_2D,SAMPLE_BUFFERS:t.SAMPLE_BUFFERS,SAMPLES:t.SAMPLES,SAMPLE_COVERAGE_VALUE:t.SAMPLE_COVERAGE_VALUE,SAMPLE_COVERAGE_INVERT:t.SAMPLE_COVERAGE_INVERT,NUM_COMPRESSED_TEXTURE_FORMATS:t.NUM_COMPRESSED_TEXTURE_FORMATS,COMPRESSED_TEXTURE_FORMATS:t.COMPRESSED_TEXTURE_FORMATS,DONT_CARE:t.DONT_CARE,FASTEST:t.FASTEST,NICEST:t.NICEST,GENERATE_MIPMAP_HINT:t.GENERATE_MIPMAP_HINT,BYTE:t.BYTE,UNSIGNED_BYTE:t.UNSIGNED_BYTE,SHORT:t.SHORT,UNSIGNED_SHORT:5123,INT:t.INT,UNSIGNED_INT:t.UNSIGNED_INT,FLOAT:5126,FIXED:t.FIXED,DEPTH_COMPONENT:t.DEPTH_COMPONENT,ALPHA:t.ALPHA,RGB:t.RGB,RGBA:t.RGBA,LUMINANCE:t.LUMINANCE,LUMINANCE_ALPHA:t.LUMINANCE_ALPHA,UNSIGNED_SHORT_4_4_4_4:t.UNSIGNED_SHORT_4_4_4_4,UNSIGNED_SHORT_5_5_5_1:t.UNSIGNED_SHORT_5_5_5_1,UNSIGNED_SHORT_5_6_5:t.UNSIGNED_SHORT_5_6_5,FRAGMENT_SHADER:t.FRAGMENT_SHADER,VERTEX_SHADER:t.VERTEX_SHADER,MAX_VERTEX_ATTRIBS:t.MAX_VERTEX_ATTRIBS,MAX_VERTEX_UNIFORM_VECTORS:t.MAX_VERTEX_UNIFORM_VECTORS,MAX_VARYING_VECTORS:t.MAX_VARYING_VECTORS,MAX_COMBINED_TEXTURE_IMAGE_UNITS:t.MAX_COMBINED_TEXTURE_IMAGE_UNITS,MAX_VERTEX_TEXTURE_IMAGE_UNITS:t.MAX_VERTEX_TEXTURE_IMAGE_UNITS,MAX_TEXTURE_IMAGE_UNITS:t.MAX_TEXTURE_IMAGE_UNITS,MAX_FRAGMENT_UNIFORM_VECTORS:t.MAX_FRAGMENT_UNIFORM_VECTORS,SHADER_TYPE:t.SHADER_TYPE,DELETE_STATUS:t.DELETE_STATUS,LINK_STATUS:t.LINK_STATUS,VALIDATE_STATUS:t.VALIDATE_STATUS,ATTACHED_SHADERS:t.ATTACHED_SHADERS,ACTIVE_UNIFORMS:t.ACTIVE_UNIFORMS,ACTIVE_UNIFORM_MAX_LENGTH:t.ACTIVE_UNIFORM_MAX_LENGTH,ACTIVE_ATTRIBUTES:t.ACTIVE_ATTRIBUTES,ACTIVE_ATTRIBUTE_MAX_LENGTH:t.ACTIVE_ATTRIBUTE_MAX_LENGTH,SHADING_LANGUAGE_VERSION:t.SHADING_LANGUAGE_VERSION,CURRENT_PROGRAM:t.CURRENT_PROGRAM,NEVER:t.NEVER,LESS:t.LESS,EQUAL:t.EQUAL,LEQUAL:t.LEQUAL,GREATER:t.GREATER,NOTEQUAL:t.NOTEQUAL,GEQUAL:t.GEQUAL,ALWAYS:t.ALWAYS,KEEP:t.KEEP,REPLACE:t.REPLACE,INCR:t.INCR,DECR:t.DECR,INVERT:t.INVERT,INCR_WRAP:t.INCR_WRAP,DECR_WRAP:t.DECR_WRAP,VENDOR:t.VENDOR,RENDERER:t.RENDERER,VERSION:t.VERSION,EXTENSIONS:t.EXTENSIONS,NEAREST:t.NEAREST,LINEAR:t.LINEAR,NEAREST_MIPMAP_NEAREST:t.NEAREST_MIPMAP_NEAREST,LINEAR_MIPMAP_NEAREST:t.LINEAR_MIPMAP_NEAREST,NEAREST_MIPMAP_LINEAR:t.NEAREST_MIPMAP_LINEAR,LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_LINEAR,TEXTURE_MAG_FILTER:t.TEXTURE_MAG_FILTER,TEXTURE_MIN_FILTER:t.TEXTURE_MIN_FILTER,TEXTURE_WRAP_S:t.TEXTURE_WRAP_S,TEXTURE_WRAP_T:t.TEXTURE_WRAP_T,TEXTURE:t.TEXTURE,TEXTURE_CUBE_MAP:t.TEXTURE_CUBE_MAP,TEXTURE_BINDING_CUBE_MAP:t.TEXTURE_BINDING_CUBE_MAP,TEXTURE_CUBE_MAP_POSITIVE_X:t.TEXTURE_CUBE_MAP_POSITIVE_X,TEXTURE_CUBE_MAP_NEGATIVE_X:t.TEXTURE_CUBE_MAP_NEGATIVE_X,TEXTURE_CUBE_MAP_POSITIVE_Y:t.TEXTURE_CUBE_MAP_POSITIVE_Y,TEXTURE_CUBE_MAP_NEGATIVE_Y:t.TEXTURE_CUBE_MAP_NEGATIVE_Y,TEXTURE_CUBE_MAP_POSITIVE_Z:t.TEXTURE_CUBE_MAP_POSITIVE_Z,TEXTURE_CUBE_MAP_NEGATIVE_Z:t.TEXTURE_CUBE_MAP_NEGATIVE_Z,MAX_CUBE_MAP_TEXTURE_SIZE:t.MAX_CUBE_MAP_TEXTURE_SIZE,TEXTURE0:33984,TEXTURE1:t.TEXTURE1,TEXTURE2:t.TEXTURE2,TEXTURE3:t.TEXTURE3,TEXTURE4:t.TEXTURE4,TEXTURE5:t.TEXTURE5,TEXTURE6:t.TEXTURE6,TEXTURE7:t.TEXTURE7,TEXTURE8:t.TEXTURE8,TEXTURE9:t.TEXTURE9,TEXTURE10:t.TEXTURE10,TEXTURE11:t.TEXTURE11,TEXTURE12:t.TEXTURE12,TEXTURE13:t.TEXTURE13,TEXTURE14:t.TEXTURE14,TEXTURE15:t.TEXTURE15,TEXTURE16:t.TEXTURE16,TEXTURE17:t.TEXTURE17,TEXTURE18:t.TEXTURE18,TEXTURE19:t.TEXTURE19,TEXTURE20:t.TEXTURE20,TEXTURE21:t.TEXTURE21,TEXTURE22:t.TEXTURE22,TEXTURE23:t.TEXTURE23,TEXTURE24:t.TEXTURE24,TEXTURE25:t.TEXTURE25,TEXTURE26:t.TEXTURE26,TEXTURE27:t.TEXTURE27,TEXTURE28:t.TEXTURE28,TEXTURE29:t.TEXTURE29,TEXTURE30:t.TEXTURE30,TEXTURE31:t.TEXTURE31,ACTIVE_TEXTURE:t.ACTIVE_TEXTURE,REPEAT:t.REPEAT,CLAMP_TO_EDGE:t.CLAMP_TO_EDGE,MIRRORED_REPEAT:t.MIRRORED_REPEAT,FLOAT_VEC2:t.FLOAT_VEC2,FLOAT_VEC3:t.FLOAT_VEC3,FLOAT_VEC4:t.FLOAT_VEC4,INT_VEC2:t.INT_VEC2,INT_VEC3:t.INT_VEC3,INT_VEC4:t.INT_VEC4,BOOL:t.BOOL,BOOL_VEC2:t.BOOL_VEC2,BOOL_VEC3:t.BOOL_VEC3,BOOL_VEC4:t.BOOL_VEC4,FLOAT_MAT2:t.FLOAT_MAT2,FLOAT_MAT3:t.FLOAT_MAT3,FLOAT_MAT4:t.FLOAT_MAT4,SAMPLER_2D:t.SAMPLER_2D,SAMPLER_CUBE:t.SAMPLER_CUBE,VERTEX_ATTRIB_ARRAY_ENABLED:t.VERTEX_ATTRIB_ARRAY_ENABLED,VERTEX_ATTRIB_ARRAY_SIZE:t.VERTEX_ATTRIB_ARRAY_SIZE,VERTEX_ATTRIB_ARRAY_STRIDE:t.VERTEX_ATTRIB_ARRAY_STRIDE,VERTEX_ATTRIB_ARRAY_TYPE:t.VERTEX_ATTRIB_ARRAY_TYPE,VERTEX_ATTRIB_ARRAY_NORMALIZED:t.VERTEX_ATTRIB_ARRAY_NORMALIZED,VERTEX_ATTRIB_ARRAY_POINTER:t.VERTEX_ATTRIB_ARRAY_POINTER,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING,IMPLEMENTATION_COLOR_READ_TYPE:t.IMPLEMENTATION_COLOR_READ_TYPE,IMPLEMENTATION_COLOR_READ_FORMAT:t.IMPLEMENTATION_COLOR_READ_FORMAT,COMPILE_STATUS:t.COMPILE_STATUS,INFO_LOG_LENGTH:t.INFO_LOG_LENGTH,SHADER_SOURCE_LENGTH:t.SHADER_SOURCE_LENGTH,SHADER_COMPILER:t.SHADER_COMPILER,SHADER_BINARY_FORMATS:t.SHADER_BINARY_FORMATS,NUM_SHADER_BINARY_FORMATS:t.NUM_SHADER_BINARY_FORMATS,LOW_FLOAT:t.LOW_FLOAT,MEDIUM_FLOAT:t.MEDIUM_FLOAT,HIGH_FLOAT:t.HIGH_FLOAT,LOW_INT:t.LOW_INT,MEDIUM_INT:t.MEDIUM_INT,HIGH_INT:t.HIGH_INT,FRAMEBUFFER:t.FRAMEBUFFER,RENDERBUFFER:t.RENDERBUFFER,RGBA4:t.RGBA4,RGB5_A1:t.RGB5_A1,RGB565:t.RGB565,DEPTH_COMPONENT16:t.DEPTH_COMPONENT16,STENCIL_INDEX:t.STENCIL_INDEX,STENCIL_INDEX8:t.STENCIL_INDEX8,DEPTH_STENCIL:t.DEPTH_STENCIL,RENDERBUFFER_WIDTH:t.RENDERBUFFER_WIDTH,RENDERBUFFER_HEIGHT:t.RENDERBUFFER_HEIGHT,RENDERBUFFER_INTERNAL_FORMAT:t.RENDERBUFFER_INTERNAL_FORMAT,RENDERBUFFER_RED_SIZE:t.RENDERBUFFER_RED_SIZE,RENDERBUFFER_GREEN_SIZE:t.RENDERBUFFER_GREEN_SIZE,RENDERBUFFER_BLUE_SIZE:t.RENDERBUFFER_BLUE_SIZE,RENDERBUFFER_ALPHA_SIZE:t.RENDERBUFFER_ALPHA_SIZE,RENDERBUFFER_DEPTH_SIZE:t.RENDERBUFFER_DEPTH_SIZE,RENDERBUFFER_STENCIL_SIZE:t.RENDERBUFFER_STENCIL_SIZE,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE,COLOR_ATTACHMENT0:t.COLOR_ATTACHMENT0,DEPTH_ATTACHMENT:t.DEPTH_ATTACHMENT,STENCIL_ATTACHMENT:t.STENCIL_ATTACHMENT,DEPTH_STENCIL_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT,NONE:t.NONE,FRAMEBUFFER_COMPLETE:t.FRAMEBUFFER_COMPLETE,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,FRAMEBUFFER_UNSUPPORTED:t.FRAMEBUFFER_UNSUPPORTED,FRAMEBUFFER_BINDING:t.FRAMEBUFFER_BINDING,RENDERBUFFER_BINDING:t.RENDERBUFFER_BINDING,MAX_RENDERBUFFER_SIZE:t.MAX_RENDERBUFFER_SIZE,INVALID_FRAMEBUFFER_OPERATION:t.INVALID_FRAMEBUFFER_OPERATION,UNPACK_FLIP_Y_WEBGL:t.UNPACK_FLIP_Y_WEBGL,UNPACK_PREMULTIPLY_ALPHA_WEBGL:t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,CONTEXT_LOST_WEBGL:t.CONTEXT_LOST_WEBGL,UNPACK_COLORSPACE_CONVERSION_WEBGL:t.UNPACK_COLORSPACE_CONVERSION_WEBGL,BROWSER_DEFAULT_WEBGL:t.BROWSER_DEFAULT_WEBGL},Object.defineProperty(e,"drawingBufferWidth",{get:function(){return a(R(this).ctxid),T.pushInt32(146),T.batchRender()},configurable:!0,enumerable:!0}),Object.defineProperty(e,"drawingBufferHeight",{get:function(){return a(R(this).ctxid),T.pushInt32(147),T.batchRender()},configurable:!0,enumerable:!0}),t.__webgl2__){function r(t,e,r,E,n){if(Array.isArray(e)&&(e=new t(e)),ArrayBuffer.isView(e)&&e.constructor.name==t.name){if(0==E&&(E=e.length-r),!(E<n||E%n!=0||r+E>e.length||0==E))return new t(e.buffer,e.byteOffset+4*r,E)}else console.log("Data type not match "+Object.prototype.toString.apply(e)+" "+e.constructor.name+":"+t.name)}var E;E={READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,TIMEOUT_IGNORED:-1,MAX_CLIENT_WAIT_TIMEOUT_WEBGL:37447,copyBufferSubData:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([153,t,e],3),T.pushInt64(r),T.pushInt64(E),T.pushInt64(n)},getBufferSubData:function(t,e,r,E=0,n=0){a(R(this).ctxid);let _=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT:1,i=_*E,A=n?n*_:r.byteLength-i;if(A+i>r.byteLength||e<0)return;let s=new Uint8Array(r.buffer,r.byteOffset+i,A);return T.batchRender(),data.origin_ctx.getBufferSubData(t,e,s)},blitFramebuffer:function(t,e,r,E,n,_,i,A,s,u){a(R(this).ctxid),T.pushInt32Array([155,t,e,r,E,n,_,i,A,s,u],11)},framebufferTextureLayer:function(t,e,r,E,n){var _=R(this);a(_.ctxid);let i=_.texture_storage.get(r);T.pushInt32Array([156,t,e,i,E,n],6)},invalidateFramebuffer:function(t,e){a(R(this).ctxid),T.pushInt32Array([157,t,e.length],3),T.pushInt32Array(e,e.length)},invalidateSubFramebuffer:function(t,e,r,E,n,_){a(R(this).ctxid),T.pushInt32Array([158,t,e.length,r,E,n,_],7),T.pushInt32Array(e,e.length)},readBuffer:function(t){a(R(this).ctxid),T.pushInt32Array([159,t],2)},getInternalformatParameter:function(t,e,r){return a(R(this).ctxid),T.pushInt32Array([160,t,e,r],4),T.batchRender()},renderbufferStorageMultisample:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([161,t,e,r,E,n],6)},texStorage2D:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([162,t,e,r,E,n],6)},texStorage3D:function(t,e,r,E,n,_){a(R(this).ctxid),T.pushInt32Array([163,t,e,r,E,n,_],7)},copyTexSubImage3D:function(t,e,r,E,n,_,i,A,s){a(R(this).ctxid),T.pushInt32Array([164,t,e,r,E,n,_,i,A,s],10)},getFragDataLocation:function(t,e){return a(R(this).ctxid),T.pushInt32Array([165,data.program_storage.get(t)],2),T.pushString(e),T.batchRender()},uniform1ui:function(t,e){t&&(a(R(this).ctxid),T.pushInt32Array([166,t.id,e],3))},uniform2ui:function(t,e,r){t&&(a(R(this).ctxid),T.pushInt32Array([167,t.id,e,r],4))},uniform3ui:function(t,e,r,E){t&&(a(R(this).ctxid),T.pushInt32Array([168,t.id,e,r,E],5))},uniform4ui:function(t,e,r,E,n){t&&(a(R(this).ctxid),T.pushInt32Array([169,t.id,e,r,E,n],6))},uniform1uiv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(UInt32Array,e,E,n,1);_&&(T.pushInt32Array([170,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform2uiv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(UInt32Array,e,E,n,2);_&&(T.pushInt32Array([171,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform3uiv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(UInt32Array,e,E,n,3);_&&(T.pushInt32Array([172,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform4uiv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(UInt32Array,e,E,n,4);_&&(T.pushInt32Array([173,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniformMatrix3x2fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,6);A&&(T.pushInt32Array([174,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},uniformMatrix4x2fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,8);A&&(T.pushInt32Array([175,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},uniformMatrix2x3fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,6);A&&(T.pushInt32Array([176,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},uniformMatrix4x3fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,12);A&&(T.pushInt32Array([177,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},uniformMatrix2x4fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,8);A&&(T.pushInt32Array([178,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},uniformMatrix3x4fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=e?1:0,A=r(Float32Array,E,n,_,12);A&&(T.pushInt32Array([179,t.id,i,A.length],4),T.pushFloat32Array(A,A.length))},vertexAttribI4i:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([180,t,e,r,E,n],5)},vertexAttribI4iv:function(t,e){e.length<4||(a(R(this).ctxid),T.pushInt32Array([181,t],2),T.pushInt32Array(e,4))},vertexAttribI4ui:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([182,t,e,r,E,n],5)},vertexAttribI4uiv:function(t,e){e.length<4||(a(R(this).ctxid),T.pushInt32Array([183,t],2),T.pushInt32Array(e,4))},vertexAttribIPointer:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([184,t,e,r,E],5),T.pushInt64(n)},vertexAttribDivisor:function(t,e){a(R(this).ctxid),T.pushInt32Array([185,t,e],3)},drawArraysInstanced:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([186,t,e,r,E],5)},drawElementsInstanced:function(t,e,r,E,n){a(R(this).ctxid),T.pushInt32Array([187,t,e,r,n],5),T.pushInt64(E)},drawRangeElements:function(t,e,r,E,n,_){a(R(this).ctxid),T.pushInt32Array([188,t,e,r,E,n],6),T.pushInt64(_)},drawBuffers:function(t){a(R(this).ctxid),T.pushInt32Array([189,t.length],2),T.pushInt32Array(t,t.length)},clearBufferfv:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([190,t,e,r.length,E||0],5),T.pushFloat32Array(r,r.length)},clearBufferiv:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([191,t,e,r.length,E||0],5),T.pushInt32Array(r,r.length)},clearBufferuiv:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([192,t,e,r.length,E||0],5),T.pushInt32Array(r,r.length)},clearBufferfi:function(t,e,r,E){a(R(this).ctxid),T.pushInt32Array([193,t,e,E],4),T.pushFloat32(r)},createQuery:function(){let t=R(this);a(t.ctxid),T.pushInt32(194);let e=T.batchRender();return t.query_storage.createWebGLObject(e,t.ctxid)},deleteQuery:function(t){let e=R(this),r=e.query_storage.get(t);r<=0||(a(e.ctxid),T.pushInt32Array([195,r],2),e.query_storage.remove(t))},isQuery:function(t){let e=R(this),r=e.query_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([196,r],2),T.batchRender())},beginQuery:function(t,e){let r=R(this),E=r.query_storage.get(e);E<=0||(a(r.ctxid),T.pushInt32Array([197,t,E],3))},endQuery:function(t){a(R(this).ctxid),T.pushInt32Array([198,t],2)},getQuery:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([199,t,e],3);let E=T.batchRender();return r.query_storage.getObjectWithId(E)},getQueryParameter:function(t,e){let r=R(this);a(r.ctxid);let E=r.query_storage.get(t);return T.pushInt32Array([200,E,e],3),T.batchRender()},createSampler:function(){let t=R(this);a(t.ctxid),T.pushInt32(201);let e=T.batchRender();return t.sampler_storage.createWebGLObject(e,t.ctxid)},deleteSampler:function(t){let e=R(this),r=e.sampler_storage.get(t);r<=0||(a(e.ctxid),T.pushInt32Array([202,r],2),e.sampler_storage.remove(t))},isSampler:function(t){let e=R(this),r=e.sampler_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([203,r],2),T.batchRender())},bindSampler:function(t,e){let r=R(this);a(r.ctxid);let E=r.sampler_storage.get(e);T.pushInt32Array([204,t,E],3)},samplerParameteri:function(t,e,r){let E=R(this);a(E.ctxid);let n=E.sampler_storage.get(t);T.pushInt32Array([205,n,e,r],4)},samplerParameterf:function(t,e,r){let E=R(this);a(E.ctxid);let n=E.sampler_storage.get(t);T.pushInt32Array([206,n,e],3),T.pushFloat32(r)},getSamplerParameter:function(t,e){let r=R(this);a(r.ctxid);let E=r.sampler_storage.get(t);return T.pushInt32Array([207,E,e],3),T.batchRender()},fenceSync:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([208,t,e],3);let E=T.batchRender();return E?r.sync_storage.createWebGLObject(E,r.ctxid):null},isSync:function(t){let e=R(this),r=e.sync_storage.get(t);return!(r<=0)&&(a(e.ctxid),T.pushInt32Array([209,r],2),T.batchRender())},deleteSync:function(t){let e=R(this),r=e.sync_storage.get(t);r<=0||(a(e.ctxid),T.pushInt32Array([210,r],2),e.sync_storage.remove(t))},clientWaitSync:function(t,e,r){let E=R(this);a(E.ctxid);let n=E.sync_storage.get(t);return T.pushInt32Array([211,n,e],3),T.pushInt64(r),T.batchRender()},waitSync:function(t,e,r){let E=R(this);a(E.ctxid);let n=E.sync_storage.get(t);T.pushInt32Array([212,n,e],3),T.pushInt64(r)},getSyncParameter:function(t,e){let r=R(this);a(r.ctxid);let E=r.sync_storage.get(t);return T.pushInt32Array([213,E,e],3),T.batchRender()},createTransformFeedback:function(){let t=R(this);a(t.ctxid),T.pushInt32(214);let e=T.batchRender();return t.transform_feedback_storage.createWebGLObject(e,t.ctxid)},deleteTransformFeedback:function(t){let e=R(this);a(e.ctxid);let r=e.transform_feedback_storage.get(t);r<=0||(T.pushInt32Array([215,r],2),e.transform_feedback_storage.remove(t))},isTransformFeedback:function(t){let e=R(this);a(e.ctxid);let r=e.transform_feedback_storage.get(t);return!(r<=0)&&(T.pushInt32Array([216,r],2),T.batchRender())},bindTransformFeedback:function(t,e){let r=R(this);a(r.ctxid);let E=r.transform_feedback_storage.get(e);T.pushInt32Array([217,t,E],3)},beginTransformFeedback:function(t){a(R(this).ctxid),T.pushInt32Array([218,t],2)},endTransformFeedback:function(){a(R(this).ctxid),T.pushInt32(219)},transformFeedbackVaryings:function(t,e,r){let E=R(this);a(E.ctxid),T.pushInt32Array([220,E.program_storage.get(t),e.length,r],4);for(let t=0;t<e.length;t++)T.pushString(e[t])},getTransformFeedbackVarying:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([221,r.program_storage.get(t),e],3);const E=T.batchRender();if(!E)return null;const n=E.split(",");var _={};return _.type=Number(n[0]),_.size=Number(n[1]),_.name=n[2],_},pauseTransformFeedback:function(){a(R(this).ctxid),T.pushInt32(222)},resumeTransformFeedback:function(){a(R(this).ctxid),T.pushInt32(223)},bindBufferBase:function(t,e,r){let E=R(this);a(E.ctxid);let n=E.buffer_storage.get(r);T.pushInt32Array([224,t,e,n],4)},bindBufferRange:function(t,e,r,E,n){let _=R(this);a(_.ctxid);let i=_.buffer_storage.get(r);T.pushInt32Array([225,t,e,i],4),T.pushInt64(E),T.pushInt64(n)},getIndexedParameter:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([226,t,e],3);let E=T.batchRender();return t==this.TRANSFORM_FEEDBACK_BUFFER_BINDING||t==this.UNIFORM_BUFFER_BINDING?r.buffer_storage.getObjectWithId(E):E},getUniformIndices:function(t,e){let r=R(this);a(r.ctxid),T.pushInt32Array([227,r.program_storage.get(t),e.length],3);for(let t=0;t<e.length;t++)T.pushString(e[t]);return T.batchRender()},getActiveUniforms:function(t,e,r){let E=R(this);return a(E.ctxid),T.pushInt32Array([228,E.program_storage.get(t),e.length,r],4),T.pushInt32Array(e,e.length),T.batchRender()},getUniformBlockIndex:function(t,e){let r=R(this);return a(r.ctxid),T.pushInt32Array([229,r.program_storage.get(t)],2),T.pushString(e),T.batchRender()},getActiveUniformBlockParameter:function(t,e,r){let E=R(this);return a(E.ctxid),T.pushInt32Array([230,E.program_storage.get(t),e,r],4),T.batchRender()},getActiveUniformBlockName:function(t,e){let r=R(this);return a(r.ctxid),T.pushInt32Array([231,r.program_storage.get(t),e],3),T.batchRender()},uniformBlockBinding:function(t,e,r){let E=R(this);a(E.ctxid),T.pushInt32Array([232,E.program_storage.get(t),e,r],4)},createVertexArray:function(){let t=R(this);a(t.ctxid),T.pushInt32(233);let e=T.batchRender();return t.vao_storage.createWebGLObject(e,t.ctxid)},deleteVertexArray:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([234,e.vao_storage.get(t)],2),e.vao_storage.remove(t)},isVertexArray:function(t){let e=R(this);a(e.ctxid);let r=e.vao_storage.get(t);return!(r<=0)&&(T.pushInt32Array([235,r],2),T.batchRender())},bindVertexArray:function(t){let e=R(this);a(e.ctxid),T.pushInt32Array([236,e.vao_storage.get(t)],2)},bufferData:function(t,e,r,E,n){if(a(R(this).ctxid),"number"!=typeof e||isNaN(e))if(3==arguments.length)T.pushInt32Array([25,t,r],3),T.pushArrayBuffer(e);else{let _=e.BYTES_PER_ELEMENT?e.BYTES_PER_ELEMENT:1,i=_*E,A=n?n*_:e.byteLength-i;if(A+i>e.byteLength)return;let R=new Uint8Array(e.buffer,e.byteOffset+i,A);T.pushInt32Array([25,t,r],3),T.pushArrayBuffer(R)}else T.pushInt32Array([24,t,r],3),T.pushInt64(e)},bufferSubData:function(t,e,r,E,n){if(a(R(this).ctxid),3==arguments.length)T.pushInt32Array([49,t,e],3),T.pushArrayBuffer(r);else{let _=r.BYTES_PER_ELEMENT?r.BYTES_PER_ELEMENT:1,i=_*E,A=n?n*_:r.byteLength-i;if(A+i>r.byteLength||A<0)return;let R=new Uint8Array(r.buffer,r.byteOffset+i,A);T.pushInt32Array([49,t,e],3),T.pushArrayBuffer(R)}},uniform1fv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Float32Array,e,E,n,1);_&&(T.pushInt32Array([239,t.id,_.length],3),T.pushFloat32Array(_,_.length))},uniform2fv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Float32Array,e,E,n,2);_&&(T.pushInt32Array([240,t.id,_.length],3),T.pushFloat32Array(_,_.length))},uniform3fv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Float32Array,e,E,n,3);_&&(T.pushInt32Array([241,t.id,_.length],3),T.pushFloat32Array(_,_.length))},uniform4fv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Float32Array,e,E,n,4);_&&(T.pushInt32Array([242,t.id,_.length],3),T.pushFloat32Array(_,_.length))},uniform1iv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Int32Array,e,E,n,1);_&&(T.pushInt32Array([243,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform2iv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Int32Array,e,E,n,2);_&&(T.pushInt32Array([244,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform3iv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Int32Array,e,E,n,3);_&&(T.pushInt32Array([245,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniform4iv:function(t,e,E=0,n=0){if(!t)return;a(R(this).ctxid);let _=r(Int32Array,e,E,n,4);_&&(T.pushInt32Array([246,t.id,_.length],3),T.pushInt32Array(_,_.length))},uniformMatrix2fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=r(Float32Array,E,n,_,4);i&&(T.pushInt32Array([247,t.id,e?1:0,i.length],4),T.pushFloat32Array(i,i.length))},uniformMatrix3fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=r(Float32Array,E,n,_,9);i&&(T.pushInt32Array([248,t.id,e?1:0,i.length],4),T.pushFloat32Array(i,i.length))},uniformMatrix4fv:function(t,e,E,n=0,_=0){if(!t)return;a(R(this).ctxid);let i=r(Float32Array,E,n,_,16);i&&(T.pushInt32Array([249,t.id,e?1:0,i.length],4),T.pushFloat32Array(i,i.length))},texImage3D:function(t,e,r,E,n,_,i,A,s,u,I){a(R(this).ctxid);let h=void 0;if(u&&u.__uid)T.pushInt32Array([250,t,e,r,E,n,_,i,A,s],10),T.pushInt64(u.__uid());else if("number"==typeof u)T.pushInt32Array([251,t,e,r,E,n,_,i,A,s],10),T.pushInt64(u);else if(I){let R=(u.BYTES_PER_ELEMENT?u.BYTES_PER_ELEMENT:1)*I,a=u.byteLength-R;if(a<0)return;h=new Uint8Array(u.buffer,u.byteOffset+R,a),T.pushInt32Array([252,t,e,r,E,n,_,i,A,s],10)}else h=u,T.pushInt32Array([252,t,e,r,E,n,_,i,A,s],10);T.batchRender(h)},texSubImage3D:function(t,e,r,E,n,_,i,A,s,u,I,h){a(R(this).ctxid);let o=void 0;if(I&&I.__uid)T.pushInt32Array([254,t,e,r,E,n,_,i,A,s,u],11),T.pushInt64(I.__uid());else if("number"==typeof I)T.pushInt32Array([255,t,e,r,E,n,_,i,A,s,u],11),T.pushInt64(I);else if(h){let R=(I.BYTES_PER_ELEMENT?I.BYTES_PER_ELEMENT:1)*h,a=I.byteLength-R;if(a<0)return;o=new Uint8Array(I.buffer,I.byteOffset+R,a),T.pushInt32Array([256,t,e,r,E,n,_,i,A,s,u],11)}else o=I,T.pushInt32Array([256,t,e,r,E,n,_,i,A,s,u],11);T.batchRender(o)},texImage2D:function(t,e,r,E,n,_,i,A,s,u){a(R(this).ctxid);let I=arguments.length,h=void 0;if(6===I)T.pushInt32Array([28,t,e,r,E,n],6),T.pushInt64(_.__uid());else if(s&&s.__uid)T.pushInt32Array([257,t,e,r,E,n,_,i,A],9),T.pushInt64(s.__uid());else if("number"==typeof s)T.pushInt32Array([258,t,e,r,E,n,_,i,A],9),T.pushInt64(s);else if(u){let R=(s.BYTES_PER_ELEMENT?s.BYTES_PER_ELEMENT:1)*u,a=s.byteLength-R;if(a<0)return;h=new Uint8Array(s.buffer,s.byteOffset+R,a),T.pushInt32Array([259,t,e,r,E,n,_,i,A],9)}else h=s,T.pushInt32Array([259,t,e,r,E,n,_,i,A],9);T.batchRender(h)},texSubImage2D:function(t,e,r,E,n,_,i,A,s,u){a(R(this).ctxid);var I=arguments.length;let h=void 0;if(7===I)T.pushInt32Array([84,t,e,r,E,n,_],7),T.pushInt64(i.__uid());else if(s&&s.__uid)T.pushInt32Array([260,t,e,r,E,n,_,i,A],9),T.pushInt64(s.__uid());else if("number"==typeof s)T.pushInt32Array([261,t,e,r,E,n,_,i,A],9),T.pushInt64(s);else if(u){let R=(s.BYTES_PER_ELEMENT?s.BYTES_PER_ELEMENT:1)*u,a=s.byteLength-R;if(a<0)return;h=new Uint8Array(s.buffer,s.byteOffset+R,a),T.pushInt32Array([262,t,e,r,E,n,_,i,A],9)}else h=s,T.pushInt32Array([262,t,e,r,E,n,_,i,A],9);T.batchRender(h)},compressedTexImage3D:function(t,e,r,E,n,_,i,A,s,u){a(R(this).ctxid);let I=void 0;if("number"==typeof A)T.pushInt32Array([263,t,e,r,E,n,_,i,A],9),T.pushInt64(s);else{let R=A.BYTES_PER_ELEMENT?A.BYTES_PER_ELEMENT:1,a=s?s*R:0,h=u?u*R:A.byteLength-a;if(h<0||a+h>A.byteLength)return;I=new Uint8Array(A.buffer,A.byteOffset+a,h),T.pushInt32Array([264,t,e,r,E,n,_,i],8)}T.batchRender(I)},compressedTexSubImage3D:function(t,e,r,E,n,_,i,A,s,u,I,h){a(R(this).ctxid);let o=void 0;if("number"==typeof u)T.pushInt32Array([265,t,e,r,E,n,_,i,A,s,u],11),T.pushInt64(I);else{let R=u.BYTES_PER_ELEMENT?u.BYTES_PER_ELEMENT:1,a=I?I*R:0,f=h?h*R:u.byteLength-a;if(f<0||a+f>u.byteLength)return;o=new Uint8Array(u.buffer,u.byteOffset+a,f),T.pushInt32Array([266,t,e,r,E,n,_,i,A,s],10)}T.batchRender(o)},compressedTexImage2D:function(t,e,r,E,n,_,i,A,s){a(R(this).ctxid);let u=void 0;if("number"==typeof i)T.pushInt32Array([267,t,e,r,E,n,_,i],8),T.pushInt64(A);else{let R=i.BYTES_PER_ELEMENT?i.BYTES_PER_ELEMENT:1,a=A?A*R:0,I=s?s*R:i.byteLength-a;if(I<0||a+I>i.byteLength)return;u=new Uint8Array(i.buffer,i.byteOffset+a,I),T.pushInt32Array([268,t,e,r,E,n,_],7)}T.batchRender(u)},compressedTexSubImage2D:function(t,e,r,E,n,_,i,A,s,u){a(R(this).ctxid);let I=void 0;if("number"==typeof A)T.pushInt32Array([269,t,e,r,E,n,_,i,A],9),T.pushInt64(s);else{let R=A.BYTES_PER_ELEMENT?A.BYTES_PER_ELEMENT:1,a=s?s*R:0,h=u?u*R:A.byteLength-a;if(h<0||a+h>A.byteLength)return;I=new Uint8Array(A.buffer,A.byteOffset+a,h),T.pushInt32Array([270,t,e,r,E,n,_,i],8)}T.batchRender(I)},readPixels:function(t,e,r,E,n,_,i,A){var s=R(this);if(a(s.ctxid),"number"!=typeof i)return T.batchRender(),s.origin_ctx.readPixels(t,e,r,E,n,_,i,A);T.pushInt32Array([271,t,e,r,E,n,_],7),T.pushInt64(i),T.batchRender()}},e=Object.assign(e,E)}var n=Object.create(e);return R(n).origin_ctx=t,R(n).ctxid=t.__uid(),n.__closeCommandBuffer=function(){T.batchRender();let t=Object.getOwnPropertyNames(e);for(let r=0;r<t.length;r++){const E=t[r];if("function"==typeof n[E]){let t=n[E];e[E]=function(){let e=t.apply(this,arguments);return T.offsetPerFourBytes>2&&T.batchRender(),e}}}},n}}()},function(t,e){var r;!function(t){t.some=function(t,e){return null!=t?t:e},t.some3=function(t,e,r){return null!=t?t:null!=e?e:r},t.Gfx=class{constructor(e){this.gfx=e,t.setGfxConsts(this),this.features=[],this.features_getted=!1}waitFenceSync(t){return t=t||0,this.gfx.waitFenceSync(t)}queryFeature(t){return this.features_getted||(this.features=this.gfx.queryFeatures(),this.features_getted=!0),this.features[t]}makePass(t){var e=this.gfx.makePass(JSON.stringify(t));return e.desc=t,e}makeBuffer(t){var e,r;null!=t.content&&(ArrayBuffer.isView(t.content)?(r=this.gfx.createNativeBuffer(t.content),e=t.content,t.content=r.id):(e=t.content,t.content=t.id));var E=this.gfx.makeBuffer(JSON.stringify(t));return e&&(t.content=e),E}updateBuffer(t,e,r,E,n){if(ArrayBuffer.isView(r)){var _=this.gfx.createNativeBuffer(r);E||(E=0),n||(n=r.byteLength-E),this.gfx.updateBuffer(t.id,e,_.id,E,n)}else E||(E=0),n||(n=r.data.byteLength-E),this.gfx.updateBuffer(t.id,e,r.id,E,n)}makeShader(t){return t.binary?(ArrayBuffer.isView(t.binary)&&(t.binary=this.gfx.createNativeBuffer(t.binary)),t.binary=t.binary.id,this.gfx.makeShader(JSON.stringify(t))):this.gfx.makeShader(JSON.stringify(t))}makeImage(t){var e=[];if(null!=t.content&&null!=t.content.subimage)for(var r=0;r<this.CUBEFACE_NUM;r++)if(e[r]=[],null!=t.content.subimage[r])for(var E=0;E<this.MAX_MIPMAPS;E++)if(null!=t.content.subimage[r][E]){var n=t.content.subimage[r][E];if(ArrayBuffer.isView(n)){var _=this.gfx.createNativeBuffer(n);e[r][E]={buffer:_,oldSubImage:n},t.content.subimage[r][E]={buffer_id:_.id}}else n.__uid?(e[r][E]={buffer:null,oldSubImage:t.content.subimage[r][E]},t.content.subimage[r][E]={image_id:t.content.subimage[r][E].__uid()}):(e[r][E]={oldSubImage:n},t.content.subimage[r][E]={buffer_id:n.id})}var i=this.gfx.makeImage(JSON.stringify(t));for(r=0;r<this.CUBEFACE_NUM;r++)if(null!=e[r])for(E=0;E<this.MAX_MIPMAPS;E++)null!=e[r][E]&&(t.content.subimage[r][E]=e[r][E].oldSubImage);return i}updateImage(t,e){var r=[];if(null!=e.content&&null!=e.content.subimage)for(var E=0;E<this.CUBEFACE_NUM;E++)if(r[E]=[],null!=e.content.subimage[E])for(var n=0;n<this.MAX_MIPMAPS;n++)if(null!=e.content.subimage[E][n]){var _=e.content.subimage[E][n];if(ArrayBuffer.isView(_)){var i=this.gfx.createNativeBuffer(_);r[E][n]={buffer:i,oldSubImage:_},e.content.subimage[E][n]={buffer_id:i.id}}else e.content.subimage[E][n].__uid?(r[E][n]={buffer:null,oldSubImage:e.content.subimage[E][n]},e.content.subimage[E][n]={image_id:e.content.subimage[E][n].__uid()}):(r[E][n]={oldSubImage:_},e.content.subimage[E][n]={buffer_id:_.id})}for(this.gfx.updateImage(t.id,JSON.stringify(e)),E=0;E<this.CUBEFACE_NUM;E++)if(null!=r[E])for(n=0;n<this.MAX_MIPMAPS;n++)null!=r[E][n]&&(e.content.subimage[E][n]=r[E][n].oldSubImage)}makePipeline(t){var e=this.gfx.makePipeline(JSON.stringify(t));return t.shader&&(e.shader=t.shader),e}makePassAction(t){return JSON.stringify(t)}beginPass(t,e){this.gfx.beginPass(t.id,e)}beginDefaultPass(t,e,r){this.gfx.beginDefaultPass(t,e,r)}applyPipeline(t){this.gfx.applyPipeline(t.id)}makeBindings(t){return{bindings:t,json:JSON.stringify(t)}}applyBindings(t){this.gfx.applyBindings(t.json)}queryGlyphBitmapInfo(t,e){return this.gfx.queryGlyphBitmapInfo(t,e)}queryShaderBinary(t){return this.gfx.queryShaderBinary(t.id)}queryShaderBinaryAsync(t,e){return this.gfx.queryShaderBinaryAsync(t.id,e)}applyUniforms(t,e,r){if(ArrayBuffer.isView(r)){var E=this.gfx.createNativeBuffer(r);this.gfx.applyUniforms(t,e,E.id)}else this.gfx.applyUniforms(t,e,r.id)}applyUniformBlock(t,e,r){this.gfx.applyUniformBlock(t,e,r.id)}applyViewport(t,e,r,E,n){this.gfx.applyViewport(t,e,r,E,n)}applyScissorRect(t,e,r,E,n){this.gfx.applyScissorRect(t,e,r,E,n)}draw(t,e,r){this.gfx.draw(t,e,r)}endPass(){this.gfx.endPass()}commit(){this.gfx.commit()}createNativeBuffer(t){return this.gfx.createNativeBuffer(t)}queryPassState(t){return this.gfx.queryPassState(t.id)}queryBufferState(t){return this.gfx.queryBufferState(t.id)}queryImageState(t){return this.gfx.queryImageState(t.id)}queryShaderState(t){return this.gfx.queryShaderState(t.id)}queryPipelineState(t){return this.gfx.queryPipelineState(t.id)}queryBackend(){return this.gfx.queryBackend()}},t.setGfxConsts=function(t){t.BACKEND_GLES2=0,t.BACKEND_GLES3=1,t.BACKEND_METAL=2,t.FEATURE_INSTANCING=0,t.FEATURE_TEXTURE_COMPRESSION_DXT=1,t.FEATURE_TEXTURE_COMPRESSION_PVRTC=2,t.FEATURE_TEXTURE_COMPRESSION_ATC=3,t.FEATURE_TEXTURE_COMPRESSION_ETC2=4,t.FEATURE_TEXTURE_FLOAT=5,t.FEATURE_TEXTURE_HALF_FLOAT=6,t.FEATURE_ORIGIN_BOTTOM_LEFT=7,t.FEATURE_ORIGIN_TOP_LEFT=8,t.FEATURE_MSAA_RENDER_TARGETS=9,t.FEATURE_PACKED_VERTEX_FORMAT_10_2=10,t.FEATURE_MULTIPLE_RENDER_TARGET=11,t.FEATURE_IMAGETYPE_3D=12,t.FEATURE_IMAGETYPE_ARRAY=13,t.FEATURE_TEXTURE_COMPRESSION_ETC1=14,t.FEATURE_TEXTURE_COMPRESSION_ASTC_8x8=15,t.FEATURE_TEXTURE_COMPRESSION_ASTC_FULL=16,t.FEATURE_SHADER_BINARY=17,t.NUM_FEATURES=18,t.RESOURCESTATE_INITIAL=0,t.RESOURCESTATE_ALLOC=1,t.RESOURCESTATE_VALID=2,t.RESOURCESTATE_FAILED=3,t.RESOURCESTATE_INVALID=4,t.USAGE_IMMUTABLE=1,t.USAGE_DYNAMIC=2,t.USAGE_STREAM=3,t.BUFFERTYPE_VERTEXBUFFER=1,t.BUFFERTYPE_INDEXBUFFER=2,t.INDEXTYPE_NONE=1,t.INDEXTYPE_UINT16=2,t.INDEXTYPE_UINT32=3,t.IMAGETYPE_2D=1,t.IMAGETYPE_CUBE=2,t.IMAGETYPE_3D=3,t.IMAGETYPE_ARRAY=4,t.CUBEFACE_POS_X=0,t.CUBEFACE_NEG_X=1,t.CUBEFACE_POS_Y=2,t.CUBEFACE_NEG_Y=3,t.CUBEFACE_POS_Z=4,t.CUBEFACE_NEG_Z=5,t.CUBEFACE_NUM=6,t.SHADERSTAGE_VS=0,t.SHADERSTAGE_FS=1,t.PIXELFORMAT_NONE=1,t.PIXELFORMAT_RGBA8=2,t.PIXELFORMAT_RGB8=3,t.PIXELFORMAT_RGBA4=4,t.PIXELFORMAT_R5G6B5=5,t.PIXELFORMAT_R5G5B5A1=6,t.PIXELFORMAT_R10G10B10A2=7,t.PIXELFORMAT_RGBA32F=8,t.PIXELFORMAT_RGBA16F=9,t.PIXELFORMAT_R32F=10,t.PIXELFORMAT_R16F=11,t.PIXELFORMAT_L8=12,t.PIXELFORMAT_DXT1=13,t.PIXELFORMAT_DXT3=14,t.PIXELFORMAT_DXT5=15,t.PIXELFORMAT_DEPTH=16,t.PIXELFORMAT_DEPTHSTENCIL=17,t.PIXELFORMAT_PVRTC2_RGB=18,t.PIXELFORMAT_PVRTC4_RGB=19,t.PIXELFORMAT_PVRTC2_RGBA=20,t.PIXELFORMAT_PVRTC4_RGBA=21,t.PIXELFORMAT_ETC2_RGB8=22,t.PIXELFORMAT_ETC2_SRGB8=23,t.PIXELFORMAT_ETC1_RGB8=24,t.PIXELFORMAT_PVR_CCZ=25,t.PIXELFORMAT_PVR_GZ=26,t.PRIMITIVETYPE_POINTS=1,t.PRIMITIVETYPE_LINES=2,t.PRIMITIVETYPE_LINE_STRIP=3,t.PRIMITIVETYPE_TRIANGLES=4,t.PRIMITIVETYPE_TRIANGLE_STRIP=5,t.FILTER_NEAREST=1,t.FILTER_LINEAR=2,t.FILTER_NEAREST_MIPMAP_NEAREST=3,t.FILTER_NEAREST_MIPMAP_LINEAR=4,t.FILTER_LINEAR_MIPMAP_NEAREST=5,t.FILTER_LINEAR_MIPMAP_LINEAR=6,t.WRAP_REPEAT=1,t.WRAP_CLAMP_TO_EDGE=2,t.WRAP_MIRRORED_REPEAT=3,t.VERTEXFORMAT_INVALID=0,t.VERTEXFORMAT_FLOAT=1,t.VERTEXFORMAT_FLOAT2=2,t.VERTEXFORMAT_FLOAT3=3,t.VERTEXFORMAT_FLOAT4=4,t.VERTEXFORMAT_BYTE4=5,t.VERTEXFORMAT_BYTE4N=6,t.VERTEXFORMAT_UBYTE4=7,t.VERTEXFORMAT_UBYTE4N=8,t.VERTEXFORMAT_SHORT2=9,t.VERTEXFORMAT_SHORT2N=10,t.VERTEXFORMAT_SHORT4=11,t.VERTEXFORMAT_SHORT4N=12,t.VERTEXFORMAT_UINT10_N2=13,t.VERTEXSTEP_PER_VERTEX=1,t.VERTEXSTEP_PER_INSTANCE=2,t.UNIFORMTYPE_INVALID=0,t.UNIFORMTYPE_FLOAT=1,t.UNIFORMTYPE_FLOAT2=2,t.UNIFORMTYPE_FLOAT3=3,t.UNIFORMTYPE_FLOAT4=4,t.UNIFORMTYPE_MAT4=5,t.CULLMODE_NONE=1,t.CULLMODE_FRONT=2,t.CULLMODE_BACK=3,t.FACEWINDING_CCW=1,t.FACEWINDING_CW=2,t.COMPAREFUNC_NEVER=1,t.COMPAREFUNC_LESS=2,t.COMPAREFUNC_EQUAL=3,t.COMPAREFUNC_LESS_EQUAL=4,t.COMPAREFUNC_GREATER=5,t.COMPAREFUNC_NOT_EQUAL=6,t.COMPAREFUNC_GREATER_EQUAL=7,t.COMPAREFUNC_ALWAYS=8,t.STENCILOP_KEEP=1,t.STENCILOP_ZERO=2,t.STENCILOP_REPLACE=3,t.STENCILOP_INCR_CLAMP=4,t.STENCILOP_DECR_CLAMP=5,t.STENCILOP_INVERT=6,t.STENCILOP_INCR_WRAP=7,t.STENCILOP_DECR_WRAP=8,t.BLENDFACTOR_ZERO=1,t.BLENDFACTOR_ONE=2,t.BLENDFACTOR_SRC_COLOR=3,t.BLENDFACTOR_ONE_MINUS_SRC_COLOR=4,t.BLENDFACTOR_SRC_ALPHA=5,t.BLENDFACTOR_ONE_MINUS_SRC_ALPHA=6,t.BLENDFACTOR_DST_COLOR=7,t.BLENDFACTOR_ONE_MINUS_DST_COLOR=8,t.BLENDFACTOR_DST_ALPHA=9,t.BLENDFACTOR_ONE_MINUS_DST_ALPHA=10,t.BLENDFACTOR_SRC_ALPHA_SATURATED=11,t.BLENDFACTOR_BLEND_COLOR=12,t.BLENDFACTOR_ONE_MINUS_BLEND_COLOR=13,t.BLENDFACTOR_BLEND_ALPHA=14,t.BLENDFACTOR_ONE_MINUS_BLEND_ALPHA=15,t.BLENDOP_ADD=1,t.BLENDOP_SUBTRACT=2,t.BLENDOP_REVERSE_SUBTRACT=3,t.COLORMASK_NONE=16,t.COLORMASK_R=1,t.COLORMASK_G=2,t.COLORMASK_B=4,t.COLORMASK_A=8,t.COLORMASK_RGB=7,t.COLORMASK_RGBA=15,t.ACTION_CLEAR=1,t.ACTION_LOAD=2,t.ACTION_DONTCARE=3,t.INVALID_ID=0,t.NUM_SHADER_STAGES=2,t.NUM_INFLIGHT_FRAMES=2,t.MAX_COLOR_ATTACHMENTS=4,t.MAX_SHADERSTAGE_BUFFERS=4,t.MAX_SHADERSTAGE_IMAGES=12,t.MAX_SHADERSTAGE_UBS=4,t.MAX_UB_MEMBERS=16,t.MAX_VERTEX_ATTRIBUTES=16,t.MAX_MIPMAPS=16,t.MAX_TEXTUREARRAY_LAYERS=128,t.UNSIGNED_BYTE=5121,t.FLOAT=5126,t.UNSIGNED_SHORT_5_6_5=33635,t.UNSIGNED_SHORT_4_4_4_4=32819,t.UNSIGNED_SHORT_5_5_5_1=32820,t.JS_THREAD_FLUSH=1,t.JS_THREAD_WAIT=2,t.FENCE_SYNC_WAIT=16,t.FENCE_SYNC_CLIENT_WAIT=32}}(r||(r={})),NativeGlobal.buildGfx=function(t){return new r.Gfx(t)}},function(t,e){!function(){let t=NativeGlobal.CpuProfiler,e=NativeGlobal.HeapProfiler;NativeGlobal.Profiler=new class{constructor(){this._CPUProfiler=new t,this._HeapProfiler=new e}startCpuProfiling(){return this._CPUProfiler.startProfiling()}stopCpuProfiling(){return this._CPUProfiler.stopProfiling()}takeHeapSnapshot(){return this._HeapProfiler.takeSnapshot()}}}()},function(t,e){const r=NativeGlobal.Canvas,E=NativeGlobal.ScreenCanvas,n=NativeGlobal.EventHandler,_=NativeGlobal.EventHandler={},i=new WeakSet;let A;function R(t){return t.map((function(t){return Object.assign({},t)}))}NativeGlobal.Canvas=function(){const t=new r;return A||(A=t),t},NativeGlobal.ScreenCanvas=function(){const t=new E;return i.add(t),t},["ontouchstart","ontouchmove","ontouchend","ontouchcancel"].forEach(t=>n[t]=e=>{let r=!1;if(i.has(e.target)&&"function"==typeof e.target[t]){const E=e.target[t]({type:t,touches:R(e.touches),changedTouches:R(e.changedTouches),timeStamp:e.timeStamp});"boolean"!=typeof E||E||(r=!0)}r||"function"==typeof _[t]&&_[t](Object.assign(e,{target:A}))}),_.addEventListener=function(t,e){n.addEventListener(t,e)},_.removeEventListener=function(t,e){n.removeEventListener(t,e)}}]);