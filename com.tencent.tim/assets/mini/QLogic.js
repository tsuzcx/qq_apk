function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _typeof4(e){return(_typeof4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var __WAServiceStartTime__=Date.now();!function(){var __exportGlobal__={},__libVersionInfo__={updateTime:"2020.5.21 19:26:59",version:"1.16.1",build:"00033"},__wxConfig;function initWeixinJSBridge(e){e.__qqConfig=e.__qqConfig||e.__wxConfig||{};var t=(e.navigator||{}).userAgent,n="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext;if(e.navigator&&e.navigator.userAgent&&(t.indexOf("appservice")>-1||t.indexOf("qqdevtools")>-1)&&(n=!0),n){var r=e.QQJSBridge||e.WeixinJSBridge;return e.QQJSBridge=r,e.WeixinJSBridge=r,e.__qqConfig&&e.__qqConfig.clientDebug||(delete e.QQJSBridge,delete e.WeixinJSBridge),r}var o=e.__qqConfig||{},i=o.isWK,a={},s=0,c={},u="custom_event_",l={},f=e.webkit,d=e.WeixinJSCore;function p(e,t){var n={};if(void 0!==e&&""!==e&&null!==e&&"function"==typeof a[t]){try{n=JSON.parse(e),n=WeixinNativeBuffer.unpack(n)}catch(e){}a[t](n),delete a[t]}}function h(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){t=void 0}var n=WeixinNativeBuffer.unpack(t),r=a[e];"function"==typeof r&&(r(n),delete a[e])}function g(e,t,n,r){if("string"==typeof param)try{param=JSON.parse(param)}catch(e){param=void 0}var o,i=WeixinNativeBuffer.unpack(t);i=WeixinNativeBuffer.unpackLongString(i,e),"function"==typeof(o=-1!==e.indexOf(u)?l[e]:c[e])&&o(i,n,r)}"object"===_typeof4(d)&&"function"!=typeof d.publishHandler&&(d.publishHandler=function(){}),delete e.webkit,delete e.WeixinJSCore,e.QQJSBridge={get invokeCallbackHandler(){return h},get subscribeHandler(){return g}};var v={on:function(e,t){c[e]=t},publish:function(e,t,n){var r=JSON.stringify(t);"undefined"!=typeof WeixinNativeBuffer&&n&&1===n.length&&(r=WeixinNativeBuffer.packLongString(r,e));var o=u+e,i=JSON.stringify(n||[]);d?d.publishHandler(o,r,i):f.messageHandlers.publishHandler.postMessage({event:o,paramsString:r,webviewIds:i})},invoke:function(e,t,n){var r=WeixinNativeBuffer.pack(t),o=JSON.stringify(r||{}),c=s+=1;if(a[c]=n,d)p(d.invokeHandler(e,o,c),c);else{var u={event:e,paramsString:o,callbackId:c};i?p(prompt("webgame_invoke",u),c):f.messageHandlers.invokeHandler.postMessage(u)}},subscribe:function(e,t){l[u+e]=t},get invokeCallbackHandler(){return h},get subscribeHandler(){return g}};return o&&o.clientDebug&&(e.QQJSBridge=v),e.WeixinJSBridge=e.QQJSBridge,v}"undefined"!=typeof module&&module.exports&&(module.exports=__libVersionInfo__),console.log("---jsbridge start init---");var QQJSBridge=initWeixinJSBridge(this),WeixinJSBridge=QQJSBridge,__wxTest__=!1;function wxRunOnDebug(e){e()}function initWxConfig(e){e.__qqConfig?__qqConfig=JSON.parse(JSON.stringify(e.__qqConfig)):__qqConfig={},__wxConfig=__qqConfig;var t="undefined"!=typeof __devtoolssubcontext&&__devtoolssubcontext,n="undefined"!=typeof __clientsubcontext&&__clientsubcontext,r=t||n,o=!0===__qqConfig.preload,i=!r&&!o,a="undefined"!=typeof document,s=[];function c(e){i?void 0!==__qqConfig&&e(__qqConfig):"function"==typeof e&&s.push(e)}function u(t){var n=t;return n.onReady=c,n.preload=o,n.isReady=i,!n.platform&&a&&(e.navigator.userAgent.toLowerCase().indexOf("devtools")>=0?n.platform="devtools":e.navigator.userAgent.toLowerCase().indexOf("android")>=0?n.platform="android":n.platform="ios"),n}function l(){void 0===e.__qqConfig||i||(__qqConfig=JSON.parse(JSON.stringify(e.__qqConfig)),i=!0,__qqConfig=u(__qqConfig),s.forEach(function(e){e(__qqConfig)}),s=[])}function f(){WeixinJSBridge.on("onWxConfigReady",l)}!r&&o&&(void 0!==WeixinJSBridge?f():document.addEventListener("WeixinJSBridgeReady",f,!1)),__qqConfig=u(__qqConfig),r&&!i&&(__qqConfig.__readyHandler=l)}initWxConfig(this),this.__wxConfig=this.__qqConfig;var NativeBuffer=function(e){var t=e.WeixinNativeBuffer,n=e.getNativeBufferId,r=e.setNativeBuffer,o=e.getNativeBuffer,i=e.__wxConfig||{},a=!1,s=!1;"android"===i.platform?"function"==typeof n&&"function"==typeof r&&"function"==typeof o&&i.nativeBufferEnabled&&(s=!0):"ios"===i.platform&&null!=t&&i.nativeBufferEnabled&&(a=!0);var c=function(e){var o={};return a?o.id=function(e){var o=e.__proto__;e.__proto__=ArrayBuffer.prototype;var i=-1;return t?i=t.new(e):"function"==typeof n&&"function"==typeof r&&(i=n(),r(i,e)),e.__proto__=o,i}(e):o.base64=p(e),o},u=function(e){var n;if(null!=e)if(a&&void 0!==e.id){if(n=e.id,t)return t.get(n);if("function"==typeof o)return o(n)}else if(void 0!==e.base64)return h(e.base64)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=f||function(e){for(var t,n,r=String(e),o="",i=0,a=l;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return o},d=d||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=l.indexOf(o);return n},p=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return f(t)},h=function(e){for(var t=d(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer},g=function(e){for(var t=e.length,n=-1,r=new Uint8Array(3*t),o=0,i=0,a=0;a!==t;){if(o=e.charCodeAt(a),a+=1,o>=55296&&o<=56319){if(a===t){r[n+=1]=239,r[n+=1]=191,r[n+=1]=189;break}if(!((i=e.charCodeAt(a))>=56320&&i<=57343)){r[n+=1]=239,r[n+=1]=191,r[n+=1]=189;continue}if(a+=1,(o=1024*(o-55296)+i-56320+65536)>65535){r[n+=1]=240|o>>>18,r[n+=1]=128|o>>>12&63,r[n+=1]=128|o>>>6&63,r[n+=1]=128|63&o;continue}}o<=127?r[n+=1]=0|o:o<=2047?(r[n+=1]=192|o>>>6,r[n+=1]=128|63&o):(r[n+=1]=224|o>>>12,r[n+=1]=128|o>>>6&63,r[n+=1]=128|63&o)}return r.length=n+1,r.buffer},v=function(e){for(var t=new Uint8Array(e),n=0,r=t.length,o=[];n<r;){var i=t[n++];if(0===i)break;if(0==(128&i))o.push(i);else if(192==(224&i)){var a=63&t[n++];o.push((31&i)<<6|a)}else if(224==(240&i)){a=63&t[n++];var s=63&t[n++];o.push((31&i)<<12|a<<6|s)}else if(240==(248&i)){var c=(7&i)<<18|(a=63&t[n++])<<12|(s=63&t[n++])<<6|63&t[n++];c>65535&&(c-=65536,o.push(c>>>10&1023|55296),c=56320|1023&c),o.push(c)}}for(var u="";o.length;)u+=String.fromCharCode.apply(null,o.splice(0,65536));return u},_=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]};return delete e.WeixinNativeBuffer,delete e.getNativeBufferId,delete e.setNativeBuffer,delete e.getNativeBuffer,{new:c,get:u,useCompatibleMode:function(e){t&&t.useCompatibleMode(e)},pack:function(e){if(null==e)return e;var t=[];for(var n in e){var r=e[n];if(void 0!==r&&"ArrayBuffer"===_(r)&&void 0!==r.byteLength)(i=c(r)).key=n,t.push(i)}if(0<t.length){for(var o=0;o<t.length;o++){var i;delete e[(i=t[o]).key]}e.__nativeBuffers__=t}return e},unpack:function(e){if(null==e||null==e.__nativeBuffers__)return e;var t=e.__nativeBuffers__;delete e.__nativeBuffers__;for(var n=0;n<t.length;n++){var r=t[n];if(null!=r){var o=u(r);void 0!==o&&"ArrayBuffer"===_(o)&&(e[r.key]=o)}}return e},packLongString:function(e,t){if(!s||!e||e&&e.length<10240)return e;var o=g(e);if(!o||0===o.byteLength)throw new Error("[packLongString]str2ab fail, eventName:"+t);var i=n();return-1===i?e:(r(i,o),JSON.stringify({__nativeBufferId__:i}))},unpackLongString:function(e,t){if(!s||!e||!e.__nativeBufferId__)return e;var n=e.__nativeBufferId__,r=o(n);if(!r)throw new Error("[unpackLongString]getNativeBuffer fail: bid="+n+", arrayBuffer:"+r+", eventName:"+t);var i,a=v(r);try{i=JSON.parse(a)}catch(e){throw new Error("[unpackLongString]JSON.parse error: str.length ="+a.length+",str[0,10]="+a.substr(0,10)+",str[,-10]="+a.substr(-10))}return i}}}(this);function initWeixinJSBridgeFinish(){console.log("---jsbridge finish init---"),WeixinJSBridge.invoke("initWeixinJSBridgeFinish")}WeixinNativeBuffer=NativeBuffer,NativeBuffer=null,void 0!==WeixinJSBridge?initWeixinJSBridgeFinish():document.addEventListener("WeixinJSBridgeReady",initWeixinJSBridgeFinish,!1);var wxConsole=function(e){var t=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return function(){var t;console[e].apply(console,(t=arguments,Array.prototype.unshift.call(t,"[system]"),t))}}),n={};return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:t("debug"),time:t("time"),timeEnd:t("timeEnd"),group:t("group"),groupEnd:t("groupEnd"),perf:function(e){n[e]=Date.now()},perfEnd:function(e,t,r){if(n[e]){r=r||{};var o=Date.now()-n[e],i=null;"warnIf"in r&&o>r.warnIf?i="warn":r.showAll&&(i="info"),i&&console[i]("[system]","[Perf]",t||e,"("+(Date.now()-n[e])+"ms)"),delete n[e]}else console.warn("[system]","[Perf] Unknown tag:",e,n[e])}}}(),WeixinWorker=function(e){var t=!0;if((e.__wxConfig||{}).isWK,e.navigator&&e.navigator.userAgent){var n=e.navigator.userAgent;(-1<n.indexOf("appservice")||-1<n.indexOf("qqdevtools"))&&(t=!0)}var r=e.WeixinWorker||{},o=[],i=[],a=[],s=function(e){e=WeixinNativeBuffer.unpack(e),i.forEach(function(t){"function"==typeof t&&t(e)})},c=function(e,t){t=WeixinNativeBuffer.unpack(t),o.forEach(function(n){"function"==typeof n&&n(e,t)})},u=function(e){a.forEach(function(t){"function"==typeof t&&t(e)})},l={get appServiceMsgHandler(){return s},get workerMsgHandler(){return c},get errorHandler(){return u},get __workerId__(){return r.__workerId__}},f={create:function(){if("function"==typeof r.create)return r.create.apply(r,arguments)},terminate:function(){if("function"==typeof r.terminate)return r.terminate.apply(r,arguments)},postMsgToAppService:function(e){try{e=WeixinNativeBuffer.pack(e),e=JSON.stringify(e),r.postMsgToAppService(e)}catch(e){console.error(e)}},postMsgToWorker:function(e,t){try{t=WeixinNativeBuffer.pack(t),t=JSON.stringify(t),r.postMsgToWorker(e,t)}catch(e){console.error(e)}},onWorkerMsg:function(e){o.push(e)},onAppServiceMsg:function(e){i.push(e)},onError:function(e){a.push(e)}};return t&&(f.appServiceMsgHandler=l.appServiceMsgHandler,f.workerMsgHandler=l.workerMsgHandler,f.errorHandler=l.errorHandler,f.__workerId__=l.__workerId__),e.WeixinWorker=l,f}(this),JSContext=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){n.r(t),n.d(t,"ObjDefProp",function(){return s}),n.d(t,"getDataType",function(){return c}),n.d(t,"getAllPropertyDescs",function(){return u});var r=Object.prototype.toString,o=Object.getPrototypeOf,i=Object.getOwnPropertyNames,a=Object.getOwnPropertyDescriptor,s=Object.defineProperty,c=function(e){return r.call(e).split(" ")[1].split("]")[0]},u=function(e){for(var t=[],n=function(e){i(e).forEach(function(n){var r=a(e,n);void 0!==r&&(r.name=n,t.push(r))})},r=e;r;r=o(r))n(r);return t}},function(e,t,n){var r=n(0),o=["constructor","__proto__","__defineGetter__","__defineSetter__"],i="undefined"!=typeof WeakMap?new WeakMap:{},a="undefined"!=typeof WeakMap?new WeakMap:{},s=function e(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=Object(r.getDataType)(t);return"String"===o||"Number"===o||"Boolean"===o?t.valueOf():"Object"===o?new f(t):"Array"===o?function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(e(o))}return n}(t):"Function"===o?function(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=a.get(t);return void 0!==r||(r=function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(var s=0;s<o.length;s++){var c=o[s];o[s]=e(c)}var u=n?i.get(this):void 0,l=t.call.apply(t,[u].concat(o));return e(l)},a.set(t,r)),r}(t,n):"Undefined"!==o&&"Null"===o?null:void 0},c=function(e){return function(){var t=i.get(this);if(void 0!==t){if(null===t)return null;var n=t[e];return s(n,!0)}}},u=function(e){return function(t){var n=i.get(this);if(void 0!==n)return null===n?null:void(n[e]=s(t))}},l=function(e){for(var t=0;t<o.length;t++)if(o[t]===e)return!0;return!1},f=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i.set(this,t),function(){for(var e=i.get(this),t=Object(r.getAllPropertyDescs)(e),n=0;n<t.length;n++){var o=t[n],a=o.name;l(a)||a in this||(delete o.value,delete o.writable,Object(r.ObjDefProp)(this,a,_extends(o,{get:c(a),set:u(a)})))}}.call(this)};t.default=f},function(e,t,n){var r,o,i,a,s;n.r(t);var c=n(1),u=n(0),l={},f={},d=[],p=0,h=[],g=function(e,t){if(void 0!==t&&void 0!==e&&e===r)return f[++p]=t,d.push(p),h.forEach(function(e){"function"==typeof e&&e(p)}),p},v=function(e,t,n,o){var i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(void 0!==e&&e===r){var a=function(e){for(var t=d.length,n=0;n<t;n++){var r=d[n];if(f[r]===e)return r}}(t);if(void 0!==a){i||(n=n.valueOf(),o=new c.default(o));var s=l[n];"function"==typeof s&&s(o,a)}}},_={__init__:function(e){void 0===r&&void 0!==e&&((r=e).register=g,r.subscribeHandler=v,o=r.alloc,i=r.create,a=r.destroy,s=r.evaluateScriptFile,delete r.alloc,delete r.create,delete r.destroy,delete r.evaluateScriptFile)},publish:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],i=Object(u.getDataType)(t);if("Object"!==i&&"Undefined"!==i)throw new Error("params should be an object.");o||(e=e.valueOf(),t=new c.default(t)),n.forEach(function(n){var i=f[n];i&&i.subscribeHandler(r,e,t,o)})},subscribe:function(e,t){l[e]=t},onRegister:function(e){h.push(e)},evaluateScriptFile:function(e,t){return s(e,t)},alloc:function(){return"function"==typeof o?o.call(r):-9999},create:function(e){return"function"==typeof i?i.call(r,e):-9999},destroy:function(e){return"function"==typeof a?a(e):-9999},supportAlloc:function(){return"function"==typeof o}};t.default=_},function(e,t,n){var r;n.r(t);var o=n(1),i=n(0),a={},s={subscribeHandler:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(void 0!==e&&e===r){i||(t=t.valueOf(),n=new o.default(n));var s=a[t];"function"==typeof s&&s(n)}}},c={__init__:function(e){void 0===r&&void 0!==e&&(r=e).register(e,s)},publish:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],c=Object(i.getDataType)(n);if("Object"!==c&&"Undefined"!==c)throw new Error("params should be an object.");var u=e.valueOf();t=a?n||{}:void 0===n?{}:new o.default(n),r.subscribeHandler(r,s,u,t,a)},subscribe:function(e,t){a[e]=t}};t.default=c},function(e,t,n){n.r(t),t.default={alloc:function(){return-9999},create:function(){return-9999},destroy:function(){return-9999},publish:function(){},subscribe:function(){},supportAlloc:function(){}}},function(e,t,n){n.r(t),function(e){var r,o=n(2),i=n(3),a=n(4);if(void 0===e)throw new Error("js-context: global is undefined");void 0!==e.WeixinJSContext?(r=Object.getPrototypeOf(e.WeixinJSContext)===Object.prototype?o.default:i.default).__init__(WeixinJSContext):r=a.default,delete r.__init__,e.WeixinJSContext=void 0,t.default=r}.call(this,n(6))},function(Sg,Tg){var Ug;Ug=function(){return this}();try{Ug=Ug||Function("return this")()||eval("this")}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof4(window))&&(Ug=window)}Sg.exports=Ug}]).default,i,o,$e;i=1,o=1,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=104)}([function(e,t,n){var r=n(3),o=n(30),i=n(14),a=n(11),s=n(16),c="prototype",u=function e(t,n,u){var l,f,d,p,h=t&e.F,g=t&e.G,v=t&e.P,_=t&e.B,y=g?r:t&e.S?r[n]||(r[n]={}):(r[n]||{})[c],b=g?o:o[n]||(o[n]={}),m=b[c]||(b[c]={});for(l in g&&(u=n),u)d=((f=!h&&y&&y[l]!==$e)?y:u)[l],p=_&&f?s(d,r):v&&"function"==typeof d?s(Function.call,d):d,y&&a(y,l,d,t&e.U),b[l]!=d&&i(b,l,p),v&&m[l]!=d&&(m[l]=d)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"===_typeof4(e)?null!==e:"function"==typeof e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof o&&(o=n)},function(e,t,n){var r=n(2);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(57)("wks"),o=n(31),i=n(3).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){var r=n(4),o=n(79),i=n(24),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(0),o=n(1),i=n(26),a=/"/g,s=function(e,t,n,r){var o=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(e,t,n){var r=n(3),o=n(14),i=n(9),a=n(31)("src"),s="toString",c=Function[s],u=String(c).split(s);n(30).inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?String(e[t]):u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},function(e,t,n){var r=n(42),o=n(26);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(26);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(6),o=n(25);e.exports=n(7)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(1);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(17);e.exports=function(e,t,n){if(r(e),t===$e)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(0),o=n(30),i=n(1);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(16),o=n(42),i=n(13),a=n(8),s=n(201);e.exports=function(e,t){var n=1==e,c=2==e,u=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var g,v,_=i(t),y=o(_),b=r(s,h,3),m=a(y.length),w=0,S=n?p(t,m):c?p(t,0):$e;w<m;w++)if((d||w in y)&&(v=b(g=y[w],w,_),e))if(n)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return w;case 2:S.push(g)}else if(l)return!1;return f?-1:u||l?l:S}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=Number(e))?0:(0<e?r:n)(e)}},function(e,t,n){var r=n(47),o=n(25),i=n(12),a=n(24),s=n(9),c=n(79),u=Object.getOwnPropertyDescriptor;t.f=n(7)?u:function(e,t){if(e=i(e),t=a(t,!0),c)try{return u(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){if(n(7)){var r=n(37),o=n(3),i=n(1),a=n(0),s=n(52),c=n(76),u=n(16),l=n(40),f=n(25),d=n(14),p=n(39),h=n(21),g=n(8),v=n(101),_=n(33),y=n(24),b=n(9),m=n(44),w=n(2),S=n(13),C=n(60),E=n(27),I=n(28),O=n(34).f,T=n(61),k=n(31),A=n(5),x=n(19),P=n(55),D=n(77),N=n(97),j=n(35),R=n(49),M=n(38),B=n(74),L=n(96),F=n(6),U=n(22),W=F.f,q=U.f,V=o.RangeError,$=o.TypeError,G=o.Uint8Array,H="ArrayBuffer",z="Shared"+H,K="BYTES_PER_ELEMENT",Y="prototype",J=Array[Y],Q=c.ArrayBuffer,X=c.DataView,Z=x(0),ee=x(2),te=x(3),ne=x(4),re=x(5),oe=x(6),ie=P(!0),ae=P(!1),se=N.values,ce=N.keys,ue=N.entries,le=J.lastIndexOf,fe=J.reduce,de=J.reduceRight,pe=J.join,he=J.sort,ge=J.slice,ve=J.toString,_e=J.toLocaleString,ye=A("iterator"),be=A("toStringTag"),me=k("typed_constructor"),we=k("def_constructor"),Se=s.CONSTR,Ce=s.TYPED,Ee=s.VIEW,Ie="Wrong length!",Oe=x(1,function(e,t){return Pe(D(e,e[we]),t)}),Te=i(function(){return 1===new G(new Uint16Array([1]).buffer)[0]}),ke=!!G&&!!G[Y].set&&i(function(){new G(1).set({})}),Ae=function(e,t){var n=h(e);if(n<0||n%t)throw V("Wrong offset!");return n},xe=function(e){if(w(e)&&Ce in e)return e;throw $(e+" is not a typed array!")},Pe=function(e,t){if(!(w(e)&&me in e))throw $("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Ne(D(e,e[we]),t)},Ne=function(e,t){for(var n=0,r=t.length,o=Pe(e,r);n<r;)o[n]=t[n++];return o},je=function(e,t,n){W(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,o,i,a,s=S(e),c=arguments.length,l=1<c?arguments[1]:$e,f=l!==$e,d=T(s);if(d!=$e&&!C(d)){for(a=d.call(s),r=[],t=0;!(i=a.next()).done;t++)r.push(i.value);s=r}for(f&&2<c&&(l=u(l,arguments[2],2)),t=0,n=g(s.length),o=Pe(this,n);t<n;t++)o[t]=f?l(s[t],t):s[t];return o},Me=function(){for(var e=0,t=arguments.length,n=Pe(this,t);e<t;)n[e]=arguments[e++];return n},Be=!!G&&i(function(){_e.call(new G(1))}),Le=function(){return _e.apply(Be?ge.call(xe(this)):xe(this),arguments)},Fe={copyWithin:function(e,t){return L.call(xe(this),e,t,2<arguments.length?arguments[2]:$e)},every:function(e){return ne(xe(this),e,1<arguments.length?arguments[1]:$e)},fill:function(e){return B.apply(xe(this),arguments)},filter:function(e){return De(this,ee(xe(this),e,1<arguments.length?arguments[1]:$e))},find:function(e){return re(xe(this),e,1<arguments.length?arguments[1]:$e)},findIndex:function(e){return oe(xe(this),e,1<arguments.length?arguments[1]:$e)},forEach:function(e){Z(xe(this),e,1<arguments.length?arguments[1]:$e)},indexOf:function(e){return ae(xe(this),e,1<arguments.length?arguments[1]:$e)},includes:function(e){return ie(xe(this),e,1<arguments.length?arguments[1]:$e)},join:function(e){return pe.apply(xe(this),arguments)},lastIndexOf:function(e){return le.apply(xe(this),arguments)},map:function(e){return Oe(xe(this),e,1<arguments.length?arguments[1]:$e)},reduce:function(e){return fe.apply(xe(this),arguments)},reduceRight:function(e){return de.apply(xe(this),arguments)},reverse:function(){for(var e,t=this,n=xe(t).length,r=Math.floor(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t},some:function(e){return te(xe(this),e,1<arguments.length?arguments[1]:$e)},sort:function(e){return he.call(xe(this),e)},subarray:function(e,t){var n=xe(this),r=n.length,o=_(e,r);return new(D(n,n[we]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,g((t===$e?r:_(t,r))-o))}},Ue=function(e,t){return De(this,ge.call(xe(this),e,t))},We=function(e){xe(this);var t=Ae(arguments[1],1),n=this.length,r=S(e),o=g(r.length),i=0;if(n<o+t)throw V(Ie);for(;i<o;)this[t+i]=r[i++]},qe={entries:function(){return ue.call(xe(this))},keys:function(){return ce.call(xe(this))},values:function(){return se.call(xe(this))}},Ve=function(e,t){return w(e)&&e[Ce]&&"symbol"!==_typeof4(t)&&t in e&&String(Number(t))==String(t)},Ge=function(e,t){return Ve(e,t=y(t,!0))?f(2,e[t]):q(e,t)},He=function(e,t,n){return!(Ve(e,t=y(t,!0))&&w(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?W(e,t,n):(e[t]=n.value,e)};Se||(U.f=Ge,F.f=He),a(a.S+a.F*!Se,"Object",{getOwnPropertyDescriptor:Ge,defineProperty:He}),i(function(){ve.call({})})&&(ve=_e=function(){return pe.call(this)});var ze=p({},Fe);p(ze,qe),d(ze,ye,qe.values),p(ze,{slice:Ue,set:We,constructor:function(){},toString:ve,toLocaleString:Le}),je(ze,"buffer","b"),je(ze,"byteOffset","o"),je(ze,"byteLength","l"),je(ze,"length","e"),W(ze,be,{get:function(){return this[Ce]}}),e.exports=function(e,t,n,c){var u=e+((c=!!c)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=o[u],_=h||{},y=h&&I(h),b=!h||!s.ABV,S={},C=h&&h[Y],T=function(e,n){W(e,n,{get:function(){return e=n,(r=this._d).v[f](e*t+r.o,Te);var e,r},set:function(e){return r=n,o=e,i=this._d,c&&(o=(o=Math.round(o))<0?0:255<o?255:255&o),void i.v[p](r*t+i.o,o,Te);var r,o,i},enumerable:!0})};b?(h=n(function(e,n,r,o){var i,a,s,c;l(e,h,u,"_d");var f=0,p=0;if(w(n)){if(!(n instanceof Q||(c=m(n))==H||c==z))return Ce in n?Ne(h,n):Re.call(h,n);i=n,p=Ae(r,t);var _=n.byteLength;if(o===$e){if(_%t)throw V(Ie);if((a=_-p)<0)throw V(Ie)}else if(_<(a=g(o)*t)+p)throw V(Ie);s=a/t}else s=v(n),i=new Q(a=s*t);for(d(e,"_d",{b:i,o:p,l:a,e:s,v:new X(i)});f<s;)T(e,f++)}),C=h[Y]=E(ze),d(C,"constructor",h)):i(function(){h(1)})&&i(function(){new h(-1)})&&R(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,o){var i;return l(e,h,u),w(n)?n instanceof Q||(i=m(n))==H||i==z?o!==$e?new _(n,Ae(r,t),o):r!==$e?new _(n,Ae(r,t)):new _(n):Ce in n?Ne(h,n):Re.call(h,n):new _(v(n))}),Z(y!==Function.prototype?O(_).concat(O(y)):O(_),function(e){e in h||d(h,e,_[e])}),h[Y]=C,r||(C.constructor=h));var k=C[ye],A=!!k&&("values"==k.name||k.name==$e),x=qe.values;d(h,me,!0),d(C,Ce,u),d(C,Ee,!0),d(C,we,h),(c?new h(1)[be]==u:be in C)||W(C,be,{get:function(){return u}}),S[u]=h,a(a.G+a.W+a.F*(h!=_),S),a(a.S,u,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*i(function(){_.of.call(h,1)}),u,{from:Re,of:Me}),K in C||d(C,K,t),a(a.P,u,Fe),M(u),a(a.P+a.F*ke,u,{set:We}),a(a.P+a.F*!A,u,qe),r||C.toString==ve||(C.toString=ve),a(a.P+a.F*i(function(){new h(1).slice()}),u,{slice:Ue}),a(a.P+a.F*(i(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!i(function(){C.toLocaleString.call([1,2])})),u,{toLocaleString:Le}),j[u]=A?k:x,r||A||d(C,ye,x)}}else e.exports=function(){}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(e==$e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(4),o=n(81),i=n(58),a=n(56)("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=n(53)("iframe"),r=i.length;for(t.style.display="none",n(59).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u[c][i[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[c]=r(e),n=new s,s[c]=null,n[a]=e):n=u(),t===$e?n:o(n,t)}},function(e,t,n){var r=n(9),o=n(13),i=n(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(31)("meta"),o=n(2),i=n(9),a=n(6).f,s=0,c=Object.isExtensible||function(){return!0},u=!n(1)(function(){return c(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"===_typeof4(e)?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return u&&f.NEED&&c(e)&&!i(e,r)&&l(e),e}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof i&&(i=n)},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(e===$e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(80),o=n(58);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(80),o=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){e.exports={}},function(e,t,n){var r=n(6).f,o=n(9),i=n(5)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t){e.exports=!1},function(e,t,n){var r=n(3),o=n(6),i=n(7),a=n(5)("species");e.exports=function(e){var t=r[e];i&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(11);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==$e&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(2);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(16),o=n(82),i=n(60),a=n(4),s=n(8),c=n(61),u={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,g,v,_=d?function(){return e}:c(e),y=r(n,f,t?2:1),b=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(i(_)){for(p=s(e.length);b<p;b++)if((v=t?y(a(h=e[b])[0],h[1]):y(e[b]))===u||v===l)return v}else for(g=_.call(e);!(h=g.next()).done;)if((v=o(g,y,h.value,t))===u||v===l)return v}).BREAK=u,t.RETURN=l},function(e,t,n){var r=n(20),o=n(5)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return e===$e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(5)("unscopables"),o=Array.prototype;o[r]==$e&&n(14)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(0),o=n(26),i=n(1),a=n(66),s="["+a+"]",c=RegExp("^"+s+s+"*"),u=RegExp(s+s+"*$"),l=function(e,t,n){var o={},s=i(function(){return!!a[e]()||"​"!="​"[e]()}),c=o[e]=s?t(f):a[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},f=l.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=l},function(e,t,n){var r=n(5)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(14),o=n(11),i=n(1),a=n(26),s=n(5);e.exports=function(e,t,n){var c=s(e),u=n(a,c,""[e]),l=u[0],f=u[1];i(function(){var t={};return t[c]=function(){return 7},7!=""[e](t)})&&(o(String.prototype,e,l),r(RegExp.prototype,c,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var r=n(3),o=n(0),i=n(11),a=n(39),s=n(29),c=n(43),u=n(40),l=n(2),f=n(1),d=n(49),p=n(36),h=n(67);e.exports=function(e,t,n,g,v,_){var y=r[e],b=y,m=v?"set":"add",w=b&&b.prototype,S={},C=function(e){var t=w[e];i(w,e,"delete"==e?function(e){return!(_&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!l(e)?$e:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(_||w.forEach&&!f(function(){(new b).entries().next()}))){var E=new b,I=E[m](_?{}:-0,1)!=E,O=f(function(){E.has(1)}),T=d(function(e){new b(e)}),k=!_&&f(function(){for(var e=new b,t=5;t--;)e[m](t,t);return!e.has(-0)});T||(((b=t(function(t,n){u(t,b,e);var r=h(new y,t,b);return n!=$e&&c(n,v,r[m],r),r})).prototype=w).constructor=b),(O||k)&&(C("delete"),C("has"),v&&C("get")),(k||I)&&C(m),_&&w.clear&&delete w.clear}else b=g.getConstructor(t,e,v,m),a(b.prototype,n),s.NEED=!0;return p(b,e),S[e]=b,o(o.G+o.W+o.F*(b!=y),S),_||g.setStrong(b,e,v),b}},function(e,t,n){for(var r,o=n(3),i=n(14),a=n(31),s=a("typed_array"),c=a("view"),u=!(!o.ArrayBuffer||!o.DataView),l=u,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(i(r.prototype,s,!0),i(r.prototype,c,!0)):l=!1;e.exports={ABV:u,CONSTR:l,TYPED:s,VIEW:c}},function(e,t,n){var r=n(2),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(32),o=n(46),i=n(47),a=n(13),s=n(42),c=Object.assign;e.exports=!c||n(1)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=_objectSpread({},e)[n]||Object.keys(_objectSpread({},t)).join("")!=r})?function(e,t){for(var n=a(e),c=arguments.length,u=1,l=o.f,f=i.f;u<c;)for(var d,p=s(arguments[u++]),h=l?r(p).concat(l(p)):r(p),g=h.length,v=0;v<g;)f.call(p,d=h[v++])&&(n[d]=p[d]);return n}:c},function(e,t,n){var r=n(12),o=n(8),i=n(33);e.exports=function(e){return function(t,n,a){var s,c=r(t),u=o(c.length),l=i(a,u);if(e&&n!=n){for(;l<u;)if((s=c[l++])!=s)return!0}else for(;l<u;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(57)("keys"),o=n(31);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(3),o="__core-js_shared__",i=r[o]||(r[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(35),o=n(5)("iterator"),i=Array.prototype;e.exports=function(e){return e!==$e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(44),o=n(5)("iterator"),i=n(35);e.exports=n(30).getIteratorMethod=function(e){if(e!=$e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(27),o=n(25),i=n(36),a={};n(14)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(20);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(2),o=n(4),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(16)(Function.call,n(22).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):$e),check:i}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r=n(2),o=n(65).set;e.exports=function(e,t,n){var i,a=t.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&r(i)&&o&&o(e,i),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=Number(e))||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=Number(e))?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(37),o=n(0),i=n(11),a=n(14),s=n(9),c=n(35),u=n(62),l=n(36),f=n(28),d=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h="values",g=function(){return this};e.exports=function(e,t,n,v,_,y,b){var m,w,S;u(n,t,v);var C=function(e){if(!p&&e in T)return T[e];switch(e){case"keys":case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",I=_==h,O=!1,T=e.prototype,k=T[d]||T["@@iterator"]||_&&T[_],A=k||C(_),x=_?I?C("entries"):A:$e,P="Array"==t&&T.entries||k;if(P&&(S=f(P.call(new e)))!==Object.prototype&&S.next&&(l(S,E,!0),r||s(S,d)||a(S,d,g)),I&&k&&k.name!==h&&(O=!0,A=function(){return k.call(this)}),r&&!b||!p&&!O&&T[d]||a(T,d,A),c[t]=A,c[E]=g,_)if(m={values:I?A:C(h),keys:y?A:C("keys"),entries:x},b)for(w in m)w in T||i(T,w,m[w]);else o(o.P+o.F*(p||O),t,m);return m}},function(e,t,n){var r=n(72),o=n(26);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(2),o=n(20),i=n(5)("match");e.exports=function(e){var t;return r(e)&&((t=e[i])!==$e?!!t:"RegExp"==o(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(13),o=n(33),i=n(8);e.exports=function(e){for(var t=r(this),n=i(t.length),a=arguments.length,s=o(1<a?arguments[1]:$e,n),c=2<a?arguments[2]:$e,u=c===$e?n:o(c,n);s<u;)t[s++]=e;return t}},function(e,t,n){var r=n(4);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(3),o=n(7),i=n(37),a=n(52),s=n(14),c=n(39),u=n(1),l=n(40),f=n(21),d=n(8),p=n(101),h=n(34).f,g=n(6).f,v=n(74),_=n(36),y="ArrayBuffer",b="DataView",m="prototype",w="Wrong index!",S=r[y],C=r[b],E=r.Math,I=r.RangeError,O=r.Infinity,T=S,k=E.abs,A=E.pow,x=E.floor,P=E.log,D=E.LN2,N="byteLength",j="byteOffset",R=o?"_b":"buffer",M=o?"_l":N,B=o?"_o":j;function L(e,t,n){var r,o,i,a=Array(n),s=8*n-t-1,c=(1<<s)-1,u=c>>1,l=23===t?A(2,-24)-A(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=k(e))!=e||e===O?(o=e!=e?1:0,r=c):(r=x(P(e)/D),e*(i=A(2,-r))<1&&(r--,i*=2),2<=(e+=1<=r+u?l/i:l*A(2,1-u))*i&&(r++,i/=2),c<=r+u?(o=0,r=c):1<=r+u?(o=(e*i-1)*A(2,t),r+=u):(o=e*A(2,u-1)*A(2,t),r=0));8<=t;a[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;0<s;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function F(e,t,n){var r,o=8*n-t-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;0<s;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;0<s;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-O:O;r+=A(2,t),l-=a}return(u?-1:1)*r*A(2,l-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function W(e){return[255&e]}function q(e){return[255&e,e>>8&255]}function V(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function $(e){return L(e,52,8)}function G(e){return L(e,23,4)}function H(e,t,n){g(e[m],t,{get:function(){return this[n]}})}function z(e,t,n,r){var o=p(Number(n));if(o+t>e[M])throw I(w);var i=e[R]._b,a=o+e[B],s=i.slice(a,a+t);return r?s:s.reverse()}function K(e,t,n,r,o,i){var a=p(Number(n));if(a+t>e[M])throw I(w);for(var s=e[R]._b,c=a+e[B],u=r(Number(o)),l=0;l<t;l++)s[c+l]=u[i?l:t-l-1]}if(a.ABV){if(!u(function(){S(1)})||!u(function(){new S(-1)})||u(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){for(var Y,J=(S=function(e){return l(this,S),new T(p(e))})[m]=T[m],Q=h(T),X=0;Q.length>X;)(Y=Q[X++])in S||s(S,Y,T[Y]);i||(J.constructor=S)}var Z=new C(new S(2)),ee=C[m].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||c(C[m],{setInt8:function(e,t){ee.call(this,e,t<<24>>24)},setUint8:function(e,t){ee.call(this,e,t<<24>>24)}},!0)}else S=function(e){l(this,S,y);var t=p(e);this._b=v.call(Array(t),0),this[M]=t},C=function(e,t,n){l(this,C,b),l(e,S,b);var r=e[M],o=f(t);if(o<0||r<o)throw I("Wrong offset!");if(r<o+(n=n===$e?r-o:d(n)))throw I("Wrong length!");this[R]=e,this[B]=o,this[M]=n},o&&(H(S,N,"_l"),H(C,"buffer","_b"),H(C,N,"_l"),H(C,j,"_o")),c(C[m],{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U(z(this,4,e,arguments[1]))},getUint32:function(e){return U(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return F(z(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return F(z(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,W,t)},setUint8:function(e,t){K(this,1,e,W,t)},setInt16:function(e,t){K(this,2,e,q,t,arguments[2])},setUint16:function(e,t){K(this,2,e,q,t,arguments[2])},setInt32:function(e,t){K(this,4,e,V,t,arguments[2])},setUint32:function(e,t){K(this,4,e,V,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,G,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,$,t,arguments[2])}});_(S,y),_(C,b),s(C[m],a.VIEW,!0),t[y]=S,t[b]=C},function(e,t,n){var r=n(4),o=n(17),i=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return a===$e||(n=r(a)[i])==$e?t:o(n)}},function(e,t){var n=!0;try{new Proxy({},{}),n=!1}catch(e){}var r=!1;void 0!==__wxConfig&&void 0!==__wxConfig.platform&&"ios"===__wxConfig.platform.toLowerCase()&&(r=!0),void 0!==WeixinJSBridge&&WeixinJSBridge.invoke("getSystemInfo",{},function(e){e&&e.platform&&"ios"===e.platform.toLowerCase()&&(r=!0)}),e.exports={needCoreJS:n,isIOS:r}},function(e,t,n){e.exports=!n(7)&&!n(1)(function(){return 7!=Object.defineProperty(n(53)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(9),o=n(12),i=n(55)(!1),a=n(56)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(u,n)||u.push(n));return u}},function(e,t,n){var r=n(6),o=n(4),i=n(32);e.exports=n(7)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,c=0;c<s;)r.f(e,n=a[c++],t[n]);return e}},function(e,t,n){var r=n(4);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw i!==$e&&r(i.call(e)),t}}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(12),o=n(34).f,i={}.toString,a="object"===("undefined"==typeof window?"undefined":_typeof4(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(17),o=n(2),i=n(86),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),c=function r(){var o=n.concat(a.call(arguments));return this instanceof r?function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,o.length,o):i(t,o,e)};return o(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t){e.exports=function(e,t,n){var r=n===$e;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(3).parseInt,o=n(48).trim,i=n(66),a=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(3).parseFloat,o=n(48).trim;e.exports=1/r(n(66)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return Number(e)}},function(e,t,n){var r=n(21),o=n(26);e.exports=function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(2),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return-1e-8<(e=Number(e))&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(21),o=n(26);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),c=r(n),u=s.length;return c<0||u<=c?e?"":$e:(i=s.charCodeAt(c))<55296||56319<i||c+1===u||(a=s.charCodeAt(c+1))<56320||57343<a?e?s.charAt(c):i:e?s.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(6),o=n(25);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(17),o=n(13),i=n(42),a=n(8);e.exports=function(e,t,n,s,c){r(t);var u=o(e),l=i(u),f=a(u.length),d=c?f-1:0,p=c?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,c?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;c?0<=d:d<f;d+=p)d in l&&(s=t(s,l[d],d,u));return s}},function(e,t,n){var r=n(13),o=n(33),i=n(8);e.exports=[].copyWithin||function(e,t){var n=r(this),a=i(n.length),s=o(e,a),c=o(t,a),u=2<arguments.length?arguments[2]:$e,l=Math.min((u===$e?a:o(u,a))-c,a-s),f=1;for(c<s&&s<c+l&&(f=-1,c+=l-1,s+=l-1);0<l--;)c in n?n[s]=n[c]:delete n[s],s+=f,c+=f;return n}},function(e,t,n){var r=n(45),o=n(63),i=n(35),a=n(12);e.exports=n(70)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=$e,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(7)&&"g"!=/./g.flags&&n(6).f(RegExp.prototype,"flags",{configurable:!0,get:n(75)})},function(e,t,n){var r=n(6).f,o=n(27),i=n(39),a=n(16),s=n(40),c=n(43),u=n(70),l=n(63),f=n(38),d=n(7),p=n(29).fastKey,h=n(41),g=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,u){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=o(null),e._f=$e,e._l=$e,e[g]=0,r!=$e&&c(r,n,e[u],e)});return i(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=$e),delete n[r.i];e._f=e._l=$e,e[g]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,1<arguments.length?arguments[1]:$e,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[g]}}),l},def:function(e,t,n){var r,o,i=v(e,t);return i?i.v=n:(e._l=i={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:$e,r:!1},e._f||(e._f=i),r&&(r.n=i),e[g]++,"F"!==o&&(e._i[o]=i)),e},getEntry:v,setStrong:function(e,t,n){u(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=$e},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?l(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=$e,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(39),o=n(29).getWeak,i=n(4),a=n(2),s=n(40),c=n(43),u=n(19),l=n(9),f=n(41),d=u(5),p=u(6),h=0,g=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},_=function(e,t){return d(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=_(this,e);if(t)return t[1]},has:function(e){return!!_(this,e)},set:function(e,t){var n=_(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=h++,r!=(e._l=$e)&&c(r,n,e[i],e)});return r(u.prototype,{delete:function(e){if(!a(e))return!1;var n=o(e);return!0===n?g(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=o(e);return!0===n?g(f(this,t)).has(e):n&&l(n,this._i)}}),u},def:function(e,t,n){var r=o(i(t),!0);return!0===r?g(e).set(t,n):r[e._i]=n,e},ufstore:g}},function(e,t,n){var r=n(21),o=n(8);e.exports=function(e){if(e===$e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r,o,i,a=n(16),s=n(86),c=n(59),u=n(53),l=n(3),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,g=l.Dispatch,v=0,_={},y="onreadystatechange",b=function(){var e=Number(this);if(_.hasOwnProperty(e)){var t=_[e];delete _[e],t()}},m=function(e){b.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return _[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete _[e]},"process"==n(20)(f)?r=function(e){f.nextTick(a(b,e,1))}:g&&g.now?r=function(e){g.now(a(b,e,1))}:h?(i=(o=new h).port2,o.port1.onmessage=m,r=a(i.postMessage,i,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(String(e),"*")},l.addEventListener("message",m,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(17);function o(e){var t,n;this.promise=new e(function(e,r){if(t!==$e||n!==$e)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){e.exports=n(105)},function(e,t,n){var r=n(78),o=r.needCoreJS||r.isIOS;o&&"undefined"!=typeof Promise&&(Promise=$e),n(3),r.needCoreJS&&(n(106),n(109),n(112),n(113),n(114),n(115),n(116),n(117),n(118),n(119),n(120),n(121),n(122),n(123),n(124),n(125),n(126),n(128),n(129),n(130),n(131),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(191),n(192),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(97),n(216),n(217),n(98),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(249),n(250),n(251)),o&&n(252)},function(e,t,n){var r=n(16),o=n(0),i=n(25),a=n(54),s=n(27),c=n(28),u=n(32),l=n(6),f=n(107),d=n(17),p=n(43),h=n(108),g=n(62),v=n(63),_=n(2),y=n(12),b=n(7),m=n(9),w=function(e){var t=1==e,n=4==e;return function(o,i,a){var s,c,u,l=r(i,a,3),f=y(o),d=t||7==e||2==e?new("function"==typeof this?this:I):$e;for(s in f)if(m(f,s)&&(u=l(c=f[s],s,o),e))if(t)d[s]=u;else if(u)switch(e){case 2:d[s]=c;break;case 3:return!0;case 5:return c;case 6:return s;case 7:d[u[0]]=u[1]}else if(n)return!1;return 3==e||n?n:d}},S=w(6),C=function(e){return function(t){return new E(t,e)}},E=function(e,t){this._t=y(e),this._a=u(e),this._i=0,this._k=t};function I(e){var t=s(null);return e!=$e&&(h(e)?p(e,!0,function(e,n){t[e]=n}):a(t,e)),t}g(E,"Dict",function(){var e,t=this,n=t._t,r=t._a,o=t._k;do{if(t._i>=r.length)return t._t=$e,v(1)}while(!m(n,e=r[t._i++]));return v(0,"keys"==o?e:"values"==o?n[e]:[e,n[e]])}),I.prototype=null,o(o.G+o.F,{Dict:I}),o(o.S,"Dict",{keys:C("keys"),values:C("values"),entries:C("entries"),forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findKey:S,mapPairs:w(7),reduce:function(e,t,n){var r,o;d(t);var i=y(e),a=u(i),s=a.length,c=0;if(arguments.length<3){if(!s)throw TypeError("Reduce of empty object with no initial value");r=i[a[c++]]}else r=Object(n);for(;c<s;)m(i,o=a[c++])&&(r=t(r,i[o],o,e));return r},keyOf:f,includes:function(e,t){return(t==t?f(e,t):S(e,function(e){return e!=e}))!==$e},has:m,get:function(e,t){if(m(e,t))return e[t]},set:function(e,t,n){return b&&t in Object?l.f(e,t,i(0,n)):e[t]=n,e},isDict:function(e){return _(e)&&c(e)===I.prototype}})},function(e,t,n){var r=n(32),o=n(12);e.exports=function(e,t){for(var n,i=o(e),a=r(i),s=a.length,c=0;c<s;)if(i[n=a[c++]]===t)return n}},function(e,t,n){var r=n(44),o=n(5)("iterator"),i=n(35);e.exports=n(30).isIterable=function(e){var t=Object(e);return t[o]!==$e||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){var r=n(3),o=n(9),i=n(7),a=n(0),s=n(11),c=n(29).KEY,u=n(1),l=n(57),f=n(36),d=n(31),p=n(5),h=n(83),g=n(110),v=n(111),_=n(64),y=n(4),b=n(12),m=n(24),w=n(25),S=n(27),C=n(84),E=n(22),I=n(6),O=n(32),T=E.f,k=I.f,A=C.f,x=r.Symbol,P=r.JSON,D=P&&P.stringify,N="prototype",j=p("_hidden"),R=p("toPrimitive"),M={}.propertyIsEnumerable,B=l("symbol-registry"),L=l("symbols"),F=l("op-symbols"),U=Object[N],W="function"==typeof x,q=r.QObject,V=!q||!q[N]||!q[N].findChild,$=i&&u(function(){return 7!=S(k({},"a",{get:function(){return k(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=T(U,t);r&&delete U[t],k(e,t,n),r&&e!==U&&k(U,t,r)}:k,G=function(e){var t=L[e]=S(x[N]);return t._k=e,t},H=W&&"symbol"===_typeof4(x.iterator)?function(e){return"symbol"===_typeof4(e)}:function(e){return e instanceof x},z=function e(t,n,r){return t===U&&e(F,n,r),y(t),n=m(n,!0),y(r),o(L,n)?(r.enumerable?(o(t,j)&&t[j][n]&&(t[j][n]=!1),r=S(r,{enumerable:w(0,!1)})):(o(t,j)||k(t,j,w(1,{})),t[j][n]=!0),$(t,n,r)):k(t,n,r)},K=function(e,t){y(e);for(var n,r=v(t=b(t)),o=0,i=r.length;o<i;)z(e,n=r[o++],t[n]);return e},Y=function(e){var t=M.call(this,e=m(e,!0));return!(this===U&&o(L,e)&&!o(F,e))&&(!(t||!o(this,e)||!o(L,e)||o(this,j)&&this[j][e])||t)},J=function(e,t){if(e=b(e),t=m(t,!0),e!==U||!o(L,t)||o(F,t)){var n=T(e,t);return!n||!o(L,t)||o(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=A(b(e)),r=[],i=0;n.length>i;)o(L,t=n[i++])||t==j||t==c||r.push(t);return r},X=function(e){for(var t,n=e===U,r=A(n?F:b(e)),i=[],a=0;r.length>a;)!o(L,t=r[a++])||n&&!o(U,t)||i.push(L[t]);return i};W||(s((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=d(0<arguments.length?arguments[0]:$e);return i&&V&&$(U,e,{configurable:!0,set:function t(n){this===U&&t.call(F,n),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),$(this,e,w(1,n))}}),G(e)})[N],"toString",function(){return this._k}),E.f=J,I.f=z,n(34).f=C.f=Q,n(47).f=Y,n(46).f=X,i&&!n(37)&&s(U,"propertyIsEnumerable",Y,!0),h.f=function(e){return G(p(e))}),a(a.G+a.W+a.F*!W,{Symbol:x});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=O(p.store),ne=0;te.length>ne;)g(te[ne++]);a(a.S+a.F*!W,"Symbol",{for:function(e){return o(B,e=String(e))?B[e]:B[e]=x(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!W,"Object",{create:function(e,t){return t===$e?S(e):K(S(e),t)},defineProperty:z,defineProperties:K,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:X}),P&&a(a.S+a.F*(!W||u(function(){var e=x();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){if(e!==$e&&!H(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return"function"==typeof(t=r[1])&&(n=t),!n&&_(t)||(t=function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){if(n&&(t=n.call(this,e,t)),!H(t))return t})),r[1]=t,D.apply(P,r)}}}),x[N][R]||n(14)(x[N],R,x[N].valueOf),f(x,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(3),o=n(30),i=n(37),a=n(83),s=n(6).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(32),o=n(46),i=n(47);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),c=i.f,u=0;s.length>u;)c.call(e,a=s[u++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(27)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperty:n(6).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(7),"Object",{defineProperties:n(81)})},function(e,t,n){var r=n(12),o=n(22).f;n(18)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(13),o=n(28);n(18)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(13),o=n(32);n(18)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){n(18)("getOwnPropertyNames",function(){return n(84).f})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2),o=n(29).onFreeze;n(18)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(2);n(18)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(18)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(2);n(18)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(54)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(127)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(65).set})},function(e,t,n){var r=n(44),o={};o[n(5)("toStringTag")]="z","[object z]"!=String(o)&&n(11)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(85)})},function(e,t,n){var r=n(6).f,o=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in o||n(7)&&r(o,"name",{configurable:!0,get:function(){try{return String(this).match(i)[1]}catch(e){return""}}})},function(e,t,n){var r=n(2),o=n(28),i=n(5)("hasInstance"),a=Function.prototype;i in a||n(6).f(a,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),o=n(87);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(e,t,n){var r=n(0),o=n(88);r(r.G+r.F*(parseFloat!=o),{parseFloat:o})},function(e,t,n){var r=n(3),o=n(9),i=n(20),a=n(67),s=n(24),c=n(1),u=n(34).f,l=n(22).f,f=n(6).f,d=n(48).trim,p="Number",h=r[p],g=h,v=h.prototype,_=i(n(27)(v))==p,y="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&2<t.length){var n,r,o,i=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return Number(t)}for(var a,c=t.slice(2),u=0,l=c.length;u<l;u++)if((a=c.charCodeAt(u))<48||o<a)return NaN;return parseInt(c,r)}}return Number(t)};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof h&&(_?c(function(){v.valueOf.call(n)}):i(n)!=p)?a(new g(b(t)),n,h):b(t)};for(var m,w=n(7)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)o(g,m=w[S])&&!o(h,m)&&f(h,m,l(g,m));(h.prototype=v).constructor=h,n(11)(r,p,h)}},function(e,t,n){var r=n(0),o=n(21),i=n(89),a=n(90),s=1..toFixed,c=Math.floor,u=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*u[n],u[n]=r%1e7,r=c(r/1e7)},d=function(e){for(var t=6,n=0;0<=--t;)n+=u[t],u[t]=c(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==u[e]){var n=String(u[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function e(t,n,r){return 0===n?r:n%2==1?e(t,n-1,r*t):e(t*t,n/2,r)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(1)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,c=i(this,l),u=o(e),g="",v="0";if(u<0||20<u)throw RangeError(l);if(c!=c)return"NaN";if(c<=-1e21||1e21<=c)return String(c);if(c<0&&(g="-",c=-c),1e-21<c)if(n=(t=function(e){for(var t=0,n=c*h(2,69,1);4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}()-69)<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,0<(t=52-t)){for(f(0,n),r=u;7<=r;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;23<=r;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+a.call("0",u);return 0<u?g+((s=v.length)<=u?"0."+a.call("0",u-s)+v:v.slice(0,s-u)+"."+v.slice(s-u)):g+v}})},function(e,t,n){var r=n(0),o=n(1),i=n(89),a=1..toPrecision;r(r.P+r.F*(o(function(){return"1"!==a.call(1,$e)})||!o(function(){a.call({})})),"Number",{toPrecision:function(e){var t=i(this,"Number#toPrecision: incorrect invocation!");return e===$e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),o=n(3).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(91)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),o=n(91),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),o=n(88);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(0),o=n(87);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(0),o=n(92),i=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=Number(e))<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:o(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(0),o=Math.asinh;r(r.S+r.F*!(o&&0<1/o(0)),"Math",{asinh:function e(t){return isFinite(t=Number(t))&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=Number(e))?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),o=n(68);r(r.S,"Math",{cbrt:function(e){return o(e=Number(e))*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=Number(e))+o(-e))/2}})},function(e,t,n){var r=n(0),o=n(69);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(155)})},function(e,t,n){var r=n(68),o=Math.pow,i=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),c=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),u=r(e);return o<c?u*(o/c/a+1/i-1/i)*c*a:s<(n=(t=(1+a/i)*o)-(t-o))||n!=n?u*(1/0):u*n}},function(e,t,n){var r=n(0),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,a=0,s=arguments.length,c=0;a<s;)c<(n=o(arguments[a++]))?(i=i*(r=c/n)*r+1,c=n):i+=0<n?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,n){var r=n(0),o=Math.imul;r(r.S+r.F*n(1)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=65535,r=Number(e),o=Number(t),i=n&r,a=n&o;return 0|i*a+((n&r>>>16)*a+i*(n&o>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(92)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(68)})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S+r.F*n(1)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=Number(e))<1?(o(e)-o(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),o=n(69),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=Number(e)),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),o=n(33),i=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;a<r;){if(t=Number(arguments[a++]),o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),o=n(12),i=n(8);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=i(t.length),r=arguments.length,a=[],s=0;s<n;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){n(48)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){var r=n(93)(!0);n(70)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:$e,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(0),o=n(93)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){var r=n(0),o=n(8),i=n(71),a="endsWith",s=""[a];r(r.P+r.F*n(73)(a),"String",{endsWith:function(e){var t=i(this,e,a),n=1<arguments.length?arguments[1]:$e,r=o(t.length),c=n===$e?r:Math.min(o(n),r),u=String(e);return s?s.call(t,u,c):t.slice(c-u.length,c)===u}})},function(e,t,n){var r=n(0),o=n(71),i="includes";r(r.P+r.F*n(73)(i),"String",{includes:function(e){return!!~o(this,e,i).indexOf(e,1<arguments.length?arguments[1]:$e)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(90)})},function(e,t,n){var r=n(0),o=n(8),i=n(71),a="startsWith",s=""[a];r(r.P+r.F*n(73)(a),"String",{startsWith:function(e){var t=i(this,e,a),n=o(Math.min(1<arguments.length?arguments[1]:$e,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){n(10)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){n(10)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){n(10)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){n(10)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){n(10)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){n(10)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){n(10)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){n(10)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){n(10)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){n(10)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){n(10)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){n(10)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){n(10)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(0),o=n(13),i=n(24);r(r.P+r.F*n(1)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=o(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),o=n(190);r(r.P+r.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(e,t,n){var r=n(1),o=Date.prototype.getTime,i=Date.prototype.toISOString,a=function(e){return 9<e?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":9999<t?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+a(e.getUTCMonth()+1)+"-"+a(e.getUTCDate())+"T"+a(e.getUTCHours())+":"+a(e.getUTCMinutes())+":"+a(e.getUTCSeconds())+"."+(99<n?n:"0"+a(n))+"Z"}:i},function(e,t,n){var r=Date.prototype,o="Invalid Date",i="toString",a=r[i],s=r.getTime;String(new Date(NaN))!=o&&n(11)(r,i,function(){var e=s.call(this);return e==e?a.call(this):o})},function(e,t,n){var r=n(5)("toPrimitive"),o=Date.prototype;r in o||n(14)(o,r,n(193))},function(e,t,n){var r=n(4),o=n(24);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(64)})},function(e,t,n){var r=n(16),o=n(0),i=n(13),a=n(82),s=n(60),c=n(8),u=n(94),l=n(61);o(o.S+o.F*!n(49)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=i(e),p="function"==typeof this?this:Array,h=arguments.length,g=1<h?arguments[1]:$e,v=g!==$e,_=0,y=l(d);if(v&&(g=r(g,2<h?arguments[2]:$e,2)),y==$e||p==Array&&s(y))for(n=new p(t=c(d.length));_<t;_++)u(n,_,v?g(d[_],_):d[_]);else for(f=y.call(d),n=new p;!(o=f.next()).done;_++)u(n,_,v?a(f,g,[o.value,_],!0):o.value);return n.length=_,n}})},function(e,t,n){var r=n(0),o=n(94);r(r.S+r.F*n(1)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){var r=n(0),o=n(12),i=[].join;r(r.P+r.F*(n(42)!=Object||!n(15)(i)),"Array",{join:function(e){return i.call(o(this),e===$e?",":e)}})},function(e,t,n){var r=n(0),o=n(59),i=n(20),a=n(33),s=n(8),c=[].slice;r(r.P+r.F*n(1)(function(){o&&c.call(o)}),"Array",{slice:function(e,t){var n=s(this.length),r=i(this);if(t=t===$e?n:t,"Array"==r)return c.call(this,e,t);for(var o=a(e,n),u=a(t,n),l=s(u-o),f=Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(o+d):this[o+d];return f}})},function(e,t,n){var r=n(0),o=n(17),i=n(13),a=n(1),s=[].sort,c=[1,2,3];r(r.P+r.F*(a(function(){c.sort($e)})||!a(function(){c.sort(null)})||!n(15)(s)),"Array",{sort:function(e){return e===$e?s.call(i(this)):s.call(i(this),o(e))}})},function(e,t,n){var r=n(0),o=n(19)(0),i=n(15)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(202);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(2),o=n(64),i=n(5)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=$e),r(t)&&null===(t=t[i])&&(t=$e)),t===$e?Array:t}},function(e,t,n){var r=n(0),o=n(19)(1);r(r.P+r.F*!n(15)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(2);r(r.P+r.F*!n(15)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(3);r(r.P+r.F*!n(15)([].some,!0),"Array",{some:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(19)(4);r(r.P+r.F*!n(15)([].every,!0),"Array",{every:function(e){return o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduce,!0),"Array",{reduce:function(e){return o(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){var r=n(0),o=n(95);r(r.P+r.F*!n(15)([].reduceRight,!0),"Array",{reduceRight:function(e){return o(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){var r=n(0),o=n(55)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(15)(i)),"Array",{indexOf:function(e){return a?i.apply(this,arguments)||0:o(this,e,arguments[1])}})},function(e,t,n){var r=n(0),o=n(12),i=n(21),a=n(8),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(15)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=o(this),n=a(t.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);0<=r;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(96)}),n(45)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(74)}),n(45)("fill")},function(e,t,n){var r=n(0),o=n(19)(5),i="find",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,1<arguments.length?arguments[1]:$e)}}),n(45)(i)},function(e,t,n){var r=n(0),o=n(19)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e){return o(this,e,1<arguments.length?arguments[1]:$e)}}),n(45)(i)},function(e,t,n){n(38)("Array")},function(e,t,n){var r=n(3),o=n(67),i=n(6).f,a=n(34).f,s=n(72),c=n(75),u=r.RegExp,l=u,f=u.prototype,d=/a/g,p=/a/g,h=new u(d)!==d;if(n(7)&&(!h||n(1)(function(){return p[n(5)("match")]=!1,u(d)!=d||u(p)==p||"/a/i"!=u(d,"i")}))){u=function(e,t){var n=this instanceof u,r=s(e),i=t===$e;return!n&&r&&e.constructor===u&&i?e:o(h?new l(r&&!i?e.source:e,t):l((r=e instanceof u)?e.source:e,r&&i?c.call(e):t),n?this:f,u)};for(var g=function(e){e in u||i(u,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},v=a(l),_=0;v.length>_;)g(v[_++]);(f.constructor=u).prototype=f,n(11)(r,"RegExp",u)}n(38)("RegExp")},function(e,t,n){n(98);var r=n(4),o=n(75),i=n(7),a="toString",s=/./[a],c=function(e){n(11)(RegExp.prototype,a,e,!0)};n(1)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?c(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?o.call(e):$e)}):s.name!=a&&c(function(){return s.call(this)})},function(e,t,n){n(50)("match",1,function(e,t,n){return[function(n){var r=e(this),o=n==$e?$e:n[t];return o!==$e?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(50)("replace",2,function(e,t,n){return[function(r,o){var i=e(this),a=r==$e?$e:r[t];return a!==$e?a.call(r,i,o):n.call(String(i),r,o)},n]})},function(e,t,n){n(50)("search",1,function(e,t,n){return[function(n){var r=e(this),o=n==$e?$e:n[t];return o!==$e?o.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(50)("split",2,function(e,t,r){var o=n(72),i=r,a=[].push,s="split",c="length",u="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[c]||2!="ab"[s](/(?:ab)*/)[c]||4!="."[s](/(.?)(.?)/)[c]||1<"."[s](/()()/)[c]||""[s](/.?/)[c]){var l=/()??/.exec("")[1]===$e;r=function(e,t){var n,r,s,f,d,p=String(this);if(e===$e&&0===t)return[];if(!o(e))return i.call(p,e,t);var h=[],g=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,_=t===$e?4294967295:t>>>0,y=new RegExp(e.source,g+"g");for(l||(n=new RegExp("^"+y.source+"$(?!\\s)",g));(r=y.exec(p))&&!(v<(s=r.index+r[0][c])&&(h.push(p.slice(v,r.index)),!l&&1<r[c]&&r[0].replace(n,function(){for(d=1;d<arguments[c]-2;d++)arguments[d]===$e&&(r[d]=$e)}),1<r[c]&&r.index<p[c]&&a.apply(h,r.slice(1)),f=r[0][c],v=s,h[c]>=_));)y[u]===r.index&&y[u]++;return v===p[c]?!f&&y.test("")||h.push(""):h.push(p.slice(v)),h[c]>_?h.slice(0,_):h}}else"0"[s]($e,0)[c]&&(r=function(e,t){return e===$e&&0===t?[]:i.call(this,e,t)});return[function(n,o){var i=e(this),a=n==$e?$e:n[t];return a!==$e?a.call(n,i,o):r.call(String(i),n,o)},r]})},function(e,t,n){var r=n(99),o=n(41);e.exports=n(51)("Map",function(e){return function(){return e(this,0<arguments.length?arguments[0]:$e)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(99),o=n(41);e.exports=n(51)("Set",function(e){return function(){return e(this,0<arguments.length?arguments[0]:$e)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r,o=n(19)(0),i=n(11),a=n(29),s=n(54),c=n(100),u=n(2),l=n(1),f=n(41),d="WeakMap",p=a.getWeak,h=Object.isExtensible,g=c.ufstore,v={};if(n(3)[d]===$e){var _=function(e){return function(){return e(this,0<arguments.length?arguments[0]:$e)}},y={get:function(e){if(u(e)){var t=p(e);return!0===t?g(f(this,d)).get(e):t?t[this._i]:$e}},set:function(e,t){return c.def(f(this,d),e,t)}},b=e.exports=n(51)(d,_,y,c,!0,!0);l(function(){return 7!=(new b).set((Object.freeze||Object)(v),7).get(v)})&&(s((r=c.getConstructor(_,d)).prototype,y),a.NEED=!0,o(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];i(t,e,function(t,o){if(!u(t)||h(t))return n.call(this,t,o);this._f||(this._f=new r);var i=this._f[e](t,o);return"set"==e?this:i})}))}},function(e,t,n){var r=n(100),o=n(41),i="WeakSet";n(51)(i,function(e){return function(){return e(this,0<arguments.length?arguments[0]:$e)}},{add:function(e){return r.def(o(this,i),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(0),o=n(52),i=n(76),a=n(4),s=n(33),c=n(8),u=n(2),l=n(3).ArrayBuffer,f=n(77),d=i.ArrayBuffer,p=i.DataView,h=o.ABV&&l.isView,g=d.prototype.slice,v=o.VIEW,_="ArrayBuffer";r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!o.CONSTR,_,{isView:function(e){return h&&h(e)||u(e)&&v in e}}),r(r.P+r.U+r.F*n(1)(function(){return!new d(2).slice(1,$e).byteLength}),_,{slice:function(e,t){if(g!==$e&&t===$e)return g.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),o=s(t===$e?n:t,n),i=new(f(this,d))(c(o-r)),u=new p(this),l=new p(i),h=0;r<o;)l.setUint8(h++,u.getUint8(r++));return i}}),n(38)(_)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(52).ABV,{DataView:n(76).DataView})},function(e,t,n){n(23)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(23)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(23)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),o=n(17),i=n(4),a=(n(3).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(1)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),c=i(n);return a?a(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(0),o=n(27),i=n(17),a=n(4),s=n(2),c=n(1),u=n(85),l=(n(3).Reflect||{}).construct,f=c(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!c(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}var c=n.prototype,p=o(s(c)?c:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(6),o=n(0),i=n(4),a=n(24);o(o.S+o.F*n(1)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),o=n(22).f,i=n(4);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(0),o=n(4),i=function(e){var t;this._t=o(e),this._i=0;var n=this._k=[];for(t in e)n.push(t)};n(62)(i,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:$e,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new i(e)}})},function(e,t,n){var r=n(22),o=n(28),i=n(9),a=n(0),s=n(2),c=n(4);a(a.S,"Reflect",{get:function e(t,n){var a,u,l=arguments.length<3?t:arguments[2];return c(t)===l?t[n]:(a=r.f(t,n))?i(a,"value")?a.value:a.get!==$e?a.get.call(l):$e:s(u=o(t))?e(u,n,l):void 0}})},function(e,t,n){var r=n(22),o=n(0),i=n(4);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(0),o=n(28),i=n(4);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(i(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),o=n(4),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!i||i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(248)})},function(e,t,n){var r=n(34),o=n(46),i=n(4),a=n(3).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(i(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(0),o=n(4),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(6),o=n(22),i=n(28),a=n(9),s=n(0),c=n(25),u=n(4),l=n(2);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,p=arguments.length<4?t:arguments[3],h=o.f(u(t),n);if(!h){if(l(d=i(t)))return e(d,n,s,p);h=c(0)}return a(h,"value")?!(!1===h.writable||!l(p)||((f=o.f(p,n)||c(0)).value=s,r.f(p,n,f),0)):h.set!==$e&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(0),o=n(65);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r,o,i,a,s=n(78),c=n(37),u=n(3),l=n(16),f=n(44),d=n(0),p=n(2),h=n(17),g=n(40),v=n(43),_=n(77),y=n(102).set,b=n(253)(),m=n(103),w=n(254),S=n(255),C="Promise",E=u.TypeError,I=u.process,O=u[C],T="process"==f(I),k=function(){},A=o=m.f,x=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(k,k)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(k)instanceof t}catch(e){}}();s.isIOS&&(x=!1);var P=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a=o?t.ok:t.fail,s=t.resolve,c=t.reject,u=t.domain;try{a?(o||(2==e._h&&R(e),e._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===t.promise?c(E("Promise-chain cycle")):(i=P(n))?i.call(n,s,c):s(n)):c(r)}catch(t){c(t)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&N(e)})}},N=function(e){y.call(u,function(){var t,n,r,o=e._v,i=j(e);if(i&&(t=w(function(){T?I.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=T||j(e)?2:1),e._a=$e,i&&t.e)throw t.v})},j=function e(t){if(1==t._h)return!1;for(var n,r=t._a||t._c,o=0;r.length>o;)if((n=r[o++]).fail||!e(n.promise))return!1;return!0},R=function(e){y.call(u,function(){var t;T?I.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},M=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},B=function e(t){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw E("Promise can't be resolved itself");(n=P(t))?b(function(){var o={_w:r,_d:!1};try{n.call(t,l(e,o,1),l(M,o,1))}catch(e){M.call(o,e)}}):(r._v=t,r._s=1,D(r,!1))}catch(t){M.call({_w:r,_d:!1},t)}}};x||(O=function(e){g(this,O,C,"_h"),h(e),r.call(this);try{e(l(B,this,1),l(M,this,1))}catch(e){M.call(this,e)}},(r=function(e){this._c=[],this._a=$e,this._s=0,this._d=!1,this._v=$e,this._h=0,this._n=!1}).prototype=n(39)(O.prototype,{then:function(e,t){var n=A(_(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?I.domain:$e,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then($e,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(B,e,1),this.reject=l(M,e,1)},m.f=A=function(e){return e===O||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!x,{Promise:O}),n(36)(O,C),n(38)(C),a=n(30)[C],d(d.S+d.F*!x,C,{reject:function(e){var t=A(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(c||!x),C,{resolve:function(e){return S(c&&this===a?O:this,e)}}),d(d.S+d.F*!(x&&n(49)(function(e){O.all(e).catch(k)})),C,{all:function(e){var t=this,n=A(t),r=n.resolve,o=n.reject,i=w(function(){var n=[],i=0,a=1;v(e,!1,function(e){var s=i++,c=!1;n.push($e),a++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=A(t),r=n.reject,o=w(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(3),o=n(102).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,c="process"==n(20)(a);e.exports=function(){var e,t,n,u=function(){var r,o;for(c&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=$e,r}}t=$e,r&&r.enter()};if(c)n=function(){a.nextTick(u)};else if(i){var l=!0,f=document.createTextNode("");new i(u).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(u)}}else n=function(){o.call(r,u)};return function(r){var o={fn:r,next:$e};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(4),o=n(2),i=n(103);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}}]),"undefined"!=typeof module&&module.exports?module.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):o.core=i;var __appServiceConsole__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function o(){var e=arguments;r(function(){WeixinJSBridge.publish.apply(WeixinJSBridge,e)})}function i(){var e=arguments;r(function(){WeixinJSBridge.subscribe.apply(WeixinJSBridge,e)})}var a=Object.prototype.toString;function s(e){return a.call(e).slice(8,-1)}var c=function(e){return"Number"===s(e)},u=function(e){return null===e},l=Number.isNaN||function(e){return e!=e},f=Number.isFinite||function(e){return c(e)&&f(e)},d=function(e){return c(e)&&Math.abs(e)===1/0},p=Array.isArray||function(e){return"Array"===s(e)},h=function(e){return"function"==typeof e},g=function(e){return ArrayBuffer.isView(e)&&!("DataView"===s(e))},v={String:0,NaN:"<NaN>",Infinity:function(e){return 0<e?"<Infinity>":"<-Infinity>"},Number:0,Boolean:0,Null:0,Undefined:"<Undefined>",Function:function(e){return""===e.name?"<Function>":"<Function: "+e.name+">"},Date:function(e){return"<Date: "+e.toJSON()+">"},RegExp:function(e){return"<RegExp: "+e.toString()+">"},Error:function(e){return"<"+e.name+": "+e.message+">"},Symbol:function(e){return"<Symbol: "+e.toString()+">"},Promise:"<Promise>",Map:function(e){return"<Map: size="+e.size+">"},WeakMap:"<WeakMap>",Set:function(e){return"<Set: size="+e.size+">"},WeakSet:"<WeakSet>",ArrayBuffer:function(e){return"<ArrayBuffer: byteLength="+e.byteLength+">"},DataView:function(e){return"<DataView: byteLength="+e.byteLength+", byteOffset="+e.byteOffset+">"},TypedArray:function(e){return"<"+(e.constructor&&e.constructor.name?e.constructor.name:"TypedArray")+": byteLength="+e.byteLength+", length="+e.length+">"}};function _(e){var t=new WeakMap;return function e(n,r){var o,i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e){var t=function(e){var t=s(e);if("Number"===t){if(l(e))return"NaN";if(d(e))return"Infinity"}else if("Object"===t){if(u(e))return"Null"}else if(t.endsWith("Array")&&"Array"!==t&&g(e))return"TypedArray";return t}(e);return t in v?v[t]?h(v[t])?[v[t](e),!0]:[v[t],!0]:[e,!0]:[null,!1]}(n),2),a=i[0];return i[1]?a:t.has(n)?"<Circular: "+t.get(n)+">":(t.set(n,r),p(n)?n.map(function(t,n){return e(t,r+"["+n+"]")}):(o={},Object.keys(n).forEach(function(t){o[t]=e(n[t],r+"."+t)}),o))}(e,"@")}var y=__wxConfig;y.onReady(function(){_extends(y,__wxConfig)});var b=y,m=(b.platform,"devtools"===b.platform);function w(e){if(b&&"debug"in b&&void 0!==b.debug)return!("release"===b.envVersion&&e&&!e.vConsole)&&!!b.debug}if(b.platform,b.platform,!m){var S=[],C=[];["log","warn","error","info","debug"].forEach(function(e){var t=console[e];console[e]=function(){var n=w();if(!1!==n){var r=function(e){try{return(e=Array.prototype.slice.call(e)).map(_)}catch(e){return void console.warn("[console] This object can't be logged")}}(arguments);r&&(1024<S.length&&S.shift(),S.push({method:e,log:r}),n&&0<C.length&&o(e,{log:r},C),t.apply(console,r))}else{if("warn"!==e&&"error"!==e)return;t.apply(console,arguments)}}}),i("GenerateFuncReady",function(e,t){C.push(t),w(e)&&o("initLogs",{logs:S},[t])}),i("webviewClearLog",function(e,t){var n=C.filter(function(e){return e!==t});o("serviceClearLog",{triggerWebViewId:t},n),S.length=0}),b.onReady(function(){w()&&0<C.length&&o("initLogs",{logs:S},C)})}void 0===console.group&&(console.group=function(){}),void 0===console.groupEnd&&(console.groupEnd=function(){})}]),Protect=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}n.r(t),n.d(t,"default",function(){return o})},function(e,t,n){n.r(t),function(e){n.d(t,"hijack",function(){return o});var r=n(0);function o(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];if("undefined"!=typeof Function){var n=function(){if(0<arguments.length&&"return this"===arguments[arguments.length-1])return function(){return e}};e={},n.prototype=Function.prototype,Function.prototype.constructor=n,Function=n}var o=function(){return this}(),i=__wxConfig;if(i.onReady(function(){_extends(i,__wxConfig),"undefined"==typeof eval||__wxConfig&&__wxConfig.QUA&&__wxConfig.QUA.indexOf("RDM")>-1||(eval=void 0)}),"undefined"!=typeof setTimeout&&t){var a=setTimeout;setTimeout=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if("function"!=typeof e)throw new TypeError("setTimeout expects a function as first argument but got "+Object(r.default)(e)+".");var n=Reporter.surroundThirdByTryCatch(e,"at setTimeout callback function"),i=[].slice.call(arguments,2);return a(function(){n.apply(o,i)},t)};var s=setInterval;setInterval=function(e,t){if("function"!=typeof e)throw new TypeError("setInterval expects a function as first argument but got "+Object(r.default)(e)+".");var n=Reporter.surroundThirdByTryCatch(e,"at setInterval callback function"),i=[].slice.call(arguments,2);return s(function(){n.apply(o,i)},t)}}}n(4)}.call(this,n(3))},function(e,t){if("undefined"==typeof navigator){try{new Function("const GeneratorFunction = Object.getPrototypeOf(function *() {}).constructor; const f = new GeneratorFunction('', 'console.log(0)'); f().__proto__.__proto__.next = () => {};")()}catch(e){}try{new Function("const AsyncFunctionProto = Object.getPrototypeOf(async function() {}); Object.defineProperty(AsyncFunctionProto, 'constructor', { value: function(){} });")()}catch(e){}}},function(Mha,Nha){var Oha;Oha=function(){return this}();try{Oha=Oha||Function("return this")()||eval("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof4(window))&&(Oha=window)}Mha.exports=Oha},function(e,t,n){n.r(t);var r=__wxConfig;r.onReady(function(){_extends(r,__wxConfig)}),t.default=r},function(e,t,n){var r=["Array","ArrayBuffer","AsyncFunction","Atomics","Boolean","DataView","Date","Error","EvalError","Float32Array","Float64Array","Function","Generator","GeneratorFunction","Infinity","Int16Array","Int32Array","Int8Array","InternalError","Intl","Intl.Collator","Intl.DateTimeFormat","Intl.NumberFormat","Iterator","JSON","Map","Math","NaN","Number","Object","Promise","Proxy","RangeError","ReferenceError","Reflect","RegExp","Set","SharedArrayBuffer","String","Symbol","SyntaxError","TypeError","TypedArray","URIError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","WeakMap","WeakSet","WebAssembly","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","null","parseFloat","parseInt","undefined","unescape","uneval"],o=function(){return this}(),i=n(0),a=function e(t,n,r,o){if(t&&n&&-1===n.indexOf("constructor")){var a;try{a=t[n]}catch(s){return}if(a){var s=Object.getOwnPropertyDescriptor(t,n);if(o||s||"__proto__"===n){s=s||{enumerable:!!o,configurable:!0};var c=Object(i.default)(a);if(a&&("function"===c||"object"===c)&&(s.configurable&&Object.defineProperty(t,n,{get:function(){return a},set:function(s){if(this!==t)return e(this,n,r,!0),void(this[n]=s);if(a!==s)if(o)try{a=s}catch(s){return}else console.error('[non-writable] modification of global variable "'+r+'" is not allowed when using plugins at app.json.'),"object"==(void 0===Reporter?"undefined":Object(i.default)(Reporter))&&(Reporter.reportKeyValue({key:"GlobalReadOnly",value:r}),Reporter.reportIDKey({key:"global_objs_readonly"}))},enumerable:s.enumerable,configurable:!!o&&s.configurable}),!o&&"__proto__"!==n)){var u=Object.getOwnPropertyNames(a);"object"===Object(i.default)(a)&&e(a,"__proto__",r+".__proto__",!1);for(var l=0;l<u.length;++l){var f=u[l];e(a,f,r+"."+f,!1)}}}}}},s=r.concat(["App","getApp","Page","getCurrentPages","define","require","Reporter","wx","Protect","requirePlugin","definePlugin"]),c=function(){Object.defineProperty(o.Object,"setPrototypeOf",{value:function(e,t){e.__proto__=t},configurable:!0})},u=function(){try{new Date;for(var e=0;e<s.length;++e){var t=s[e];o[t]&&(new Date,a(o,t,t,!1),new Date)}new Date}catch(e){}},l=function(e,t,n){return a(e,t,n,!1)},f=(n(2),n(1));n.d(t,"overwriteSetPrototypeOf",function(){return c}),n.d(t,"doNotWriteGlobalObjs",function(){return u}),n.d(t,"doNotWriteObj",function(){return l}),n.d(t,"globalEsObjs",function(){return r}),n.d(t,"hijack",function(){return f.hijack})}]),Reporter=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,i={APP:0,WIDGET:1,GAME:2,GAME_SUBCONTEXT:3},a={login:1,login_cancel:2,login_fail:3,request_fail:4,connectSocket_fail:5,closeSocket_fail:6,sendSocketMessage_fail:7,uploadFile_fail:8,downloadFile_fail:9,redirectTo_fail:10,navigateTo_fail:11,navigateBack_fail:12,appServiceSDKScriptError:13,webviewSDKScriptError:14,jsEnginScriptError:15,thirdScriptError:16,webviewScriptError:17,exparserScriptError:18,widgetEnginScriptError:113,widgetThirdScriptError:114,gameSDKScriptError:135,gameSubContextSDKScriptError:136,gameThirdScriptError:137,gameSubContextThirdScriptError:138,startRecord:19,startRecord_fail:20,getLocation:21,getLocation_fail:22,chooseLocation:23,chooseLocation_fail:24,openAddress:25,openAddress_fail:26,openLocation:27,openLocation_fail:28,makePhoneCall:29,makePhoneCall_fail:30,operateWXData:31,operateWXData_fail:32,checkLogin:33,checkLogin_fail:34,refreshSession:35,refreshSession_fail:36,chooseVideo:37,chooseVideo_fail:38,chooseImage:39,chooseImage_fail:40,verifyPaymentPassword:41,verifyPaymentPassword_fail:42,requestPayment:43,requestPayment_fail:44,bindPaymentCard:45,bindPaymentCard_fail:46,requestPaymentToBank:47,requestPaymentToBank_fail:48,openDocument:49,openDocument_fail:50,chooseContact:51,chooseContact_fail:52,operateMusicPlayer:53,operateMusicPlayer_fail:54,getMusicPlayerState_fail:55,playVoice_fail:56,setNavigationBarTitle_fail:57,switchTab_fail:58,getImageInfo_fail:59,enableCompass_fail:60,enableAccelerometer_fail:61,getStorage_fail:62,setStorage_fail:63,clearStorage_fail:64,removeStorage_fail:65,getStorageInfo_fail:66,getStorageSync_fail:67,setStorageSync_fail:68,addCard_fail:69,openCard_fail:70,openSetting_fail:71,reLaunch_fail:72,getClipboardData_fail:73,setClipboardData_fail:74,showShareMenu_fail:75,hideShareMenu_fail:76,showToast_fail:77,hideToast_fail:78,openBluetoothAdapter_fail:79,closeBluetoothAdapter_fail:80,getBluetoothAdapterState_fail:81,startBluetoothDevicesDiscovery_fail:82,stopBluetoothDevicesDiscovery_fail:83,getBluetoothDevices_fail:84,getConnectedBluetoothDevices_fail:85,createBLEConnection_fail:86,closeBLEConnection_fail:87,getBLEDeviceServices_fail:88,getBLEDeviceCharacteristics_fail:89,notifyBLECharacteristicValueChanged_fail:90,readBLECharacteristicValue_fail:91,checkIsSupportFacialRecognition_fail:92,startFacialRecognitionVerify_fail:93,startFacialRecognitionVerifyAndUploadVideo_fail:94,startBeaconDiscovery_fail:95,stopBeaconDiscovery_fail:96,getBeacons_fail:97,getSetting_fail:98,setScreenBrightness_fail:99,getScreenBrightness_fail:100,vibrateShort_fail:101,vibrateLong_fail:102,shareAppMessage:103,shareAppMessage_fail:104,shareAppMessage_cancel:105,shareAppMessageDirectly:106,shareAppMessageDirectly_fail:107,shareAppMessageDirectly_cancel:108,sendBizRedPacket_fail:109,addPhoneContact_fail:110,saveImageToPhotosAlbum_fail:111,saveVideoToPhotosAlbum_fail:112,setTopBarText_fail:115,setNavigationBarRightButton_fail:116,setEnableDebug_fail:117,captureScreen_fail:118,setKeepScreenOn_fail:119,createRequestTask:120,createRequestTask_fail:121,createDownloadTask:122,createDownloadTask_fail:123,createUploadTask:124,createUploadTask_fail:125,checkIsSupportSoterAuthentication_fail:126,startSoterAuthentication_fail:127,navigateToMiniProgram_fail:128,navigateBackMiniProgram_fail:129,openDeliveryList_fail:130,setNavigationBarColor_fail:131,setStatusBarStyle_fail:132,getFileInfo_fail:133,global_objs_readonly:134,adData_error:140,adExposureReport_fail:141,adClickReport_fail:142,adNavigateToMiniProgram_fail:143,adOpenUrl_fail:144,initGameIsolatedContext:145,initGameIsolatedContext_fail:146,initGameOpenDataContext:147,initGameOpenDataContext_fail:148,initAppIsolatedContext:149,initAppIsolatedContext_fail:150,adFollowReport_fail:151,adAddContact_fail:152,adDownloadAppInternal_fail:153,adGetInstallState_fail:154,adQueryDownloadTask_fail:155,adAddDownloadTaskStraight_fail:156,adPauseDownloadTask_fail:157,adResumeDownloadTask_fail:158,adInstallDownloadTask_fail:159,pluginDisplayInPage:160,functionalPageSuccess:161,functionalPageFail:162,functionalPageReject:163,insertInputToWebLayer_fail:166,insertVideoToWebLayer_fail:167,insertInputToWebLayer_succ:168,insertVideoToWebLayer_succ:169,clientRestoreWebview_fail:200,clientLibVersionNotMatch:205,oaAddContact_fail:201,oaReportBehavior_fail:202,oaGetContactData_fail:203},s={Speed:13544,Error:13582,Slow:13968,Clipboard:14367,NetworkAPI:14480,Display:15496,WebviewRecycle:15352,WebviewRestore:15353,PluginDisplay:15364,functionalPageOperation:15804,APIRecycle:15649,GameReportKV:15677,RecycleView:15864,GameADFunnelModel:15859,VideoAction:16137,SameLayerRender:16360,MediaCompStatus:16435,NavigateToMiniProgramAlert:16432},c={webview2AppService:1,appService2Webview:2,funcReady:3,firstGetData:4,firstRenderTime:5,reRenderTime:6,forceUpdateRenderTime:7,appRoute2newPage:8,newPage2pageReady:9,thirdScriptRunTime:10,pageframe:11,WAWebview:12,WAWidget:13,widgetCanvasReady:14,widgetFirstDataPush:15},u={apiCallback:1,pageInvoke:2,widgetInvoke:3},l={appServiceSDKScriptError:1,webviewSDKScriptError:2,jsEnginScriptError:3,thirdScriptError:4,webviewScriptError:5,exparserScriptError:6,widgetEnginScriptError:7,widgetThirdScriptError:8,gameSDKScriptError:10,gameSubContextSDKScriptError:12,gameThirdScriptError:13,gameSubContextThirdScriptError:14},f=(r(o={},i.APP,"thirdScriptError"),r(o,i.WIDGET,"widgetThirdScriptError"),r(o,i.GAME,"gameThirdScriptError"),r(o,i.GAME_SUBCONTEXT,"gameSubContextThirdScriptError"),o),d=__qqConfig;d.onReady(function(){_extends(d,__qqConfig)});var p=d,h=p.platform;p.platform,p.platform,p.platform;var g=[],v=[],_=[],y=0,b=0,m=0,w=0,S=0,C={},E={},I={};function O(e){void 0!==WeixinJSBridge?e():"undefined"!=typeof document&&document.addEventListener("WeixinJSBridgeReady",e,!1)}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];O(function(){var e;(e=WeixinJSBridge).invoke.apply(e,t)})}function k(){!g||g.length<=0||(T("reportKeyValue",{dataArray:g}),g=[])}function A(){!v||v.length<=0||(T("reportIDKey",{dataArray:v}),v=[])}function x(){!_||_.length<=0||(T("systemLog",{dataArray:_}),_=[])}var P="ios"===("undefined"!=typeof window&&window.navigator?-1<window.navigator.userAgent.indexOf("qqdevtools")?"devtools":-1<window.navigator.userAgent.toLowerCase().indexOf("android")?"android":"ios":h),D=function(){},N=function(){},j="",R="",M="",B="",L=-1,F=i.APP;p.onReady(function(){void 0!==p.appType&&(L=p.appType)});var U={surroundThirdByTryCatch:function(e,t){var n="";return M&&(n="at "+M+" "+B+" function;"),function(){var r;try{for(var o=Date.now(),i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];r=e.apply(e,a);var c=Date.now()-o;1e3<c&&U.slowReport({key:"apiCallback",cost:c,extend:n+t})}catch(r){U.thirdErrorReport({error:r,extend:n+t})}return r}},slowReport:function(e){var t=e.key,n=e.cost,r=e.extend,o=e.force,i=u[t],a=Date.now();if(i&&(o||!(a-S<500))&&!(50<Object.keys(I).length||(I[r]||(I[r]=0),I[r]++,3<I[r]))){S=a;var s=n+","+encodeURIComponent(r)+","+i+","+U.getAppType();U.reportKeyValue({key:"Slow",value:s,force:!0})}},speedReport:function(e){var t=e.key,n=e.data,r=e.timeMark,o=e.force,i=c[t],a=Date.now(),s=0,u=r.nativeTime;if(i&&(o||!(a-(C[i]||0)<500))&&r.startTime&&r.endTime&&(1!==i&&2!==i||u)){n&&(s=JSON.stringify(n).length),C[i]=a;var l=i+","+r.startTime+","+u+","+u+","+r.endTime+","+s+","+U.getAppType();U.reportKeyValue({key:"Speed",value:l,force:!0})}},reportKeyValue:function(e){var t=e.key,n=e.value,r=e.force,o=void 0!==r&&r,i=e.immediately,a=void 0!==i&&i;s[t]&&(!o&&Date.now()-y<50||(y=Date.now(),g.push({key:s[t],value:n}),(20<=g.length||!0===a)&&k()))},reportIDKey:function(e){var t=e.id,n=e.key,r=e.force;a[n]&&(!r&&Date.now()-b<20||(b=Date.now(),v.push({id:t||(P?"356":"358"),key:a[n],value:1}),1<=v.length&&A()))},reportIDKeyDirectly:function(e){var t=e.id,n=e.key,r=e.force,o=e.immediately,i=void 0!==o&&o;n&&"356"!==t&&"358"!==t&&(!r&&Date.now()-b<20||(b=Date.now(),v.push({id:t,key:n,value:1}),(1<=v.length||!0===i)&&A()))},reportCompass:function(e,t){var n=(t=t||{}).table||"dc04239",r=t.rate||1;if(e&&!(Math.random()>r)){var o="",i=0;for(var a in e)void 0!==e[a]&&(o+=(i>0?"&":"")+a+"="+encodeURIComponent(e[a]),i++);T("wnsCgiRequest",{url:"https://h5.qzone.qq.com/report/compass/"+n+"?"+o,method:"GET"})}},reportApiCall:function(e,t){e.appid="undefined"!=typeof __qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId||("undefined"!=typeof window?window.__appId__:""),e.timestamp=Date.now(),e.actiontype="api-call",e.reserve3="app",e.sub_actiontype=e.apiname,e.reserves_action=e.param,e.reserve2=e.param2,delete e.apiname,delete e.param,delete e.param2,U.reportCompass(e,t)},reportJSAPI:function(e){var t={ok:0,fail:1,cancel:2},n={service:0,view:1};T("reportDC",{table:"dc05331",reportArray:["undefined"!=typeof __qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId||"",e.api||"",void 0!==t[e.ret]?t[e.ret]:-1,"undefined"!=typeof __qqConfig&&__qqConfig.QUA||"","","undefined"!=typeof __qqConfig&&__qqConfig.deviceinfo||"","undefined"!=typeof __qqConfig&&__qqConfig.miniapp_version||"",void 0!==__libVersionInfo__?__libVersionInfo__.version+"."+(__libVersionInfo__.build||0):0,e.errMsg||"",e.callStartTime||0,e.callEndTime||0,void 0!==n[e.type]?n[e.type]:-1].map(function(e){return String(e)})})},simpleReport:function(e){var t=(e=e||{}).url,n=e.rate||1;if(t&&!(Math.random()>n)){var r=document.createElement("img");r.src=t,r.style.display="none",document.body.append(r),r.onload=function(){document.body.removeChild(r)},r.onerror=function(){document.body.removeChild(r)}}},thirdErrorReport:function(e){var t=e.key,n=void 0===t?F:t,r=e.error,o=e.extend,i=e.triggerErrorCallback,a=void 0===i||i;U.errorReport({key:f[n],error:r,extend:o,triggerErrorCallback:a,isThirdScriptError:!0})},errorReport:function(e){var t=e.key,n=e.error,r=e.extend,o=e.isThirdScriptError,i=void 0!==o&&o,a=e.triggerErrorCallback,s=void 0===a||a;if(l[t]){"function"==typeof __wxSourceMapRetrace__&&(n=__wxSourceMapRetrace__(n));var c=r?n.message+";"+r:n.message,u=t+"\n"+c+"\n"+n.stack;if(console.error(u),!(0<=u.indexOf("subContext.js")||("undefined"!=typeof window&&void 0!==window.__webviewId__?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];O(function(){var e;(e=WeixinJSBridge).publish.apply(e,t)})}("WEBVIEW_ERROR_MSG",{data:{msg:u},options:{timestamp:Date.now()}}):s&&(U.triggerErrorMessage(u),i&&U.triggerThirdErrorMessage(u)),50<Object.keys(E).length))){var f=[l[t],n.name].concat(function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}([c,n.stack,void 0!==wx&&wx.version&&wx.version.version||""].map(function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t})),[U.getAppType()]).join(",");E[f]||(E[f]=0),E[f]++,i&&3<E[f]||3<E[f]||(U.reportIDKey({key:t,force:!0}),U.reportKeyValue({key:"Error",value:f,force:!0}),A(),k(),x())}}},log:function(e,t){e&&"string"==typeof e&&(!t&&Date.now()-m<50||(m=Date.now(),_.push(String(e)),50<=_.length&&x()))},submit:function(){Date.now()-w<50||(w=Date.now(),A(),k(),x())},registerErrorListener:function(e){"function"==typeof e&&(D=e)},unRegisterErrorListener:function(){D=function(){}},registerThirdErrorListener:function(e){"function"==typeof e&&(N=e)},unRegisterThirdErrorListener:function(){N=null},triggerErrorMessage:function(e){j!==e&&(j=e,setTimeout(function(){try{D(e)}catch(e){console.error(e.message,"at onError callback function")}},0))},triggerThirdErrorMessage:function(e){R!==e&&(R=e,setTimeout(function(){try{N(e)}catch(e){console.error(e.message,"at onError callback function")}},0))},setAsWidget:function(){F=i.WIDGET},setAsGame:function(){F=i.GAME},setAsGameSubContext:function(){F=i.GAME_SUBCONTEXT},getAppType:function(){return-1===L?0:L+1e3}},W={};Object.keys(U).forEach(function(e){!function(e){Object.defineProperty(W,e,{get:function(){return t=U[e],function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(t,n)}catch(e){return void console.error("reporter error:"+e.message)}};var t},configurable:!0})}(e)}),Object.defineProperty(W,"__route__",{set:function(e){M=e}}),Object.defineProperty(W,"__method__",{set:function(e){B=e}}),W.RunType=i,"undefined"!=typeof window&&(window.onbeforeunload=function(){U.submit()}),t.default=W}]).default,__subContextEngine__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i={},a={},s={},c={},u={},l={},f=0;JSContext.subscribe("subContextMessage",function(e,t){var n=s[t];n&&n.__onMessageHandler(e)}),JSContext.subscribe("subContextReady",function(e,t){o&&(o.__onReadyHandler(t,e),o=void 0)}),JSContext.subscribe("subContextLibVarReady",function(e,t){s[t].__onLibVarReadyHandler(e)});var d,p=function(e,t){Object.defineProperty(this,e,{value:t,writable:!1,configurable:!1})},h=function(){function e(t){var n=t.name,r=t.secure,o=void 0===r||r,i=t.env,a=void 0===i?{}:i,s=t.entry,c=t.injectAfterAlloc,d=void 0===c||c;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),p.call(this,"__name__",n),p.call(this,"__guid__",f++),p.call(this,"__secure__",o),p.call(this,"__entry__",s),p.call(this,"__injectAfterAlloc__",d),this.contextGlobal=function(){return this}(),this.setExportEnv(a),u[this.__guid__]=[],l[this.__guid__]=[]}var t,n;return t=e,(n=[{key:"init",value:function(){o=this,JSContext.supportAlloc()?(function(){var e=JSContext.alloc();return e<=0&&setTimeout(function(){},0),i[this.__guid__]=e}.call(this),this.__injectAfterAlloc__&&this.evaluateScriptFile(this.__entry__)):function(e){var t=JSContext.create(e);return t<=0&&setTimeout(function(){},0),i[this.__guid__]=t}.call(this,this.__entry__)}},{key:"onMessage",value:function(e){var t=this;this.__onMsgCallback=e,"function"==typeof this.__onMsgCallback&&(u[this.__guid__].forEach(function(e){t.__onMsgCallback(e)}),u[this.__guid__]=[])}},{key:"postMessage",value:function(e){var t=a[this.__guid__];void 0!==t?JSContext.publish("mainContextMessage",e,[t]):l[this.__guid__].push(e)}},{key:"onInitReady",value:function(e){this.__onInitReadyCallbacks=this.__onInitReadyCallbacks||[],this.__onInitReadyCallbacks.push(e)}},{key:"setExportEnv",value:function(e){e.contextName=this.__name__,e.contextSecure=this.__secure__,c[this.__guid__]=e}},{key:"evaluateScriptFile",value:function(e){var t=i[this.__guid__];if(void 0!==t){var n=JSContext.evaluateScriptFile(t,e);if(n<=0)throw new Error("SubContext evaluateScriptFile failed: error code "+n)}}},{key:"destroy",value:function(){var e=i[this.__guid__],t=a[this.__guid__];0<e&&(JSContext.publish("subContextDestroy",{},[t]),JSContext.destroy(e)),delete s[t],delete i[this.__guid__],delete a[this.__guid__],delete c[this.__guid__],delete u[this.__guid__],delete l[this.__guid__],delete this.__guid__,delete this.contextGlobal}},{key:"__onMessageHandler",value:function(e){"function"==typeof this.__onMsgCallback?this.__onMsgCallback(e):u[this.__guid__].push(e)}},{key:"__onReadyHandler",value:function(e,t){s[e]=this,a[this.__guid__]=e,this.contextGlobal=t.contextGlobal;var n=c[this.__guid__];n&&JSContext.publish("subContextEnvReady",n,[e],!0),this.__onInitReadyCallbacks&&(this.__onInitReadyCallbacks.forEach(function(e){e(t)}),delete this.__onInitReadyCallbacks),delete this.__onReadyHandler,function(){var e=this;void 0!==a[this.__guid__]&&(l[this.__guid__].forEach(function(t){e.postMessage(t)}),l[this.__guid__]=[])}.call(this)}}])&&r(t.prototype,n),e}();function g(e){return(g="function"==typeof Symbol&&"symbol"===_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function v(e){return(v="function"==typeof Symbol&&"symbol"===g(Symbol.iterator)?function(e){return g(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":g(e)})(e)}var _=function(){return void 0!==__wxConfig&&__wxConfig.isIsolateContext},y=function(){var e=function(){return this}();Protect.globalEsObjs.concat(["console"]).forEach(function(t){e[t]&&(function e(t){return Object.freeze(t),Object.getOwnPropertyNames(t).forEach(function(n){var r;try{r=t[n]}catch(n){}"object"!==v(r)&&"function"!=typeof r||Object.isFrozen(r)||e(r)}),t}(e[t]),Object.defineProperty(e,t,{value:e[t],configurable:!1,writable:!1}))})},b=function(e,t){Reporter.reportIDKey({key:t});try{e()}catch(e){Reporter.reportIDKey({key:t+"_fail",force:!0});var n=0<=t.indexOf("initGame")?"gameSDKScriptError":"appServiceSDKScriptError";Reporter.errorReport({key:n,error:e,extend:""})}},m=function(){return"string"==typeof("devtools"===__wxConfig.platform?__wxConfig.appConfig.subContext:__wxConfig.subContext)},w="app-service.js",S=!1,C=new h({name:"app",secure:!1,entry:w,injectAfterAlloc:!1}),E=("appServiceSDKScriptError",d=function(e,t){var n=t.moduleName,r="__APP__"===n;"string"!=typeof n&&console.error("SubContext onSubPackageReady error: moduleName is empty"),n.endsWith("/")||(n+="/"),r?S||(C.evaluateScriptFile(w),S=!0):C.evaluateScriptFile(String(n)+w)},function(){try{return d.apply(d,arguments)}catch(e){Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:""})}}),I=function(){return C},O=new h({name:"game",secure:!1,entry:"game.js"}),T=function(){return O},k=new h({name:"gameopendata",secure:!0,entry:"subContext.js"}),A=function(){return k},x=[],P=function(e){x.push(e)};__wxConfig.onReady(function(){"undefined"!=typeof __wxSourceMap&&(__wxSourceMap.get=function(e){if(__wxSourceMap[e])return __wxSourceMap[e];for(var t=x,n=0;n<t.length;n++){var r=t[n].contextGlobal.__wxSourceMap;if("object"===v(r)&&r[e]){var o=void 0;try{o=JSON.parse(JSON.stringify(r[e]))}catch(e){console.error("[SourceMap] clone soucemap failed.")}return o}}})}),n.d(t,"initAppRelatedContexts",function(){return j}),n.d(t,"initGameRelatedContexts",function(){return R}),n.d(t,"getAppContext",function(){return I}),n.d(t,"getGameContext",function(){return T}),n.d(t,"getGameOpenDataContext",function(){return A}),n.d(t,"isIsolateContext",function(){return _});var D=Object.keys,N=function(){return this}(),j=function(e){for(var t=D(e),n=0;n<t.length;n++){var r=t[n];N[r]=e[r]}var o=function(){_();for(var t=D(e),n=0;n<t.length;n++){var r=t[n];N[r]=e[r]}_()&&b(function(){var e,t;y(),P(I()),e=new Safeway(C),t={console:_objectSpread({group:function(){},groupEnd:function(){}},console),setTimeout:setTimeout,clearTimeout:clearTimeout,setInterval:setInterval,clearInterval:clearInterval,safeway:e,__wxConfig:__wxConfig,Reporter:Reporter},e.onSubpackageReady(E),C.setExportEnv(t),C.init()},"initAppIsolatedContext"),!_()&&__wxConfig.plugins&&(Protect.overwriteSetPrototypeOf(),Protect.doNotWriteGlobalObjs())};"android"==("android"===__wxConfig.platform?"android":"devtools"===__wxConfig.platform?"devtools":"ios")?o():__wxConfig.onReady(o)},R=function(){__wxConfig.onReady(function(){var e=__appServiceSDK__.getGameRelatedContextsExports();_(),_()&&b(function(){var t;y(),P(T()),(t=e.game).__wxConfig=__wxConfig,O.setExportEnv(t),O.init()},"initGameIsolatedContext"),m(),m()&&b(function(){var t;P(A()),(t=e.gameOpenData).__wxConfig=__wxConfig,k.setExportEnv(t),k.init()},"initGameOpenDataContext")})}}]),Safeway=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"===_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=!1,a=[],s=function(e){a.push(e),i||(this.bridge.on("onSubPackageReady",function(e){a.forEach(function(t){"function"==typeof t&&t(void 0,e)})}),i=!0)},c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.stringify,r=void 0===n?JSON.stringify:n,i=t.parse,a=void 0===i?JSON.parse:i,s=t.arrayBufferProto,c=void 0===s?ArrayBuffer.prototype:s;if(!e)return e;var u=o(e);if("function"===u)throw new Error("[Safeway] not allow to pass function.");if("object"!==u)return e.valueOf();for(var l,f,d=Object.keys(e),p={},h=0;h<d.length;h++){var g=d[h],v=e[g];void 0!==v&&"ArrayBuffer"===(l=v,Object.prototype.toString.call(l).split(" ")[1].split("]")[0])&&void 0!==v.byteLength&&(v.__proto__=c,p[g]=v)}try{f=a(r(e))}catch(e){throw new Error("[Safeway] data clone error "+e.toString())}for(var _=Object.keys(p),y=0;y<_.length;y++){var b=_[y];f[b]=p[b]}return f};function u(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=c(r<0||arguments.length<=r?void 0:arguments[r],{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto});t.apply(this,n)}}function l(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).cloneArgs,r=void 0===n||n;return function(){for(var n=[],o=0;o<arguments.length;o++)"function"==typeof(o<0||arguments.length<=o?void 0:arguments[o])?n[o]=new u(e,o<0||arguments.length<=o?void 0:arguments[o]):n[o]=r?c(o<0||arguments.length<=o?void 0:arguments[o],{parse:JSON.parse,stringify:JSON.stringify,arrayBufferProto:ArrayBuffer.prototype}):o<0||arguments.length<=o?void 0:arguments[o];var i=t.apply(this,n);return c(i,{parse:e.contextGlobal.jsonParse,stringify:e.contextGlobal.jsonStringify,arrayBufferProto:e.contextGlobal.arrayBufferProto})}}function f(e,t,n){for(var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],i=Object.keys(e),a=0;a<i.length;a++){var s=i[a],c=e[s];if("function"!=typeof c)throw new Error("Export value of Safeway must be a function, key "+s+" func "+o(c));n&&void 0!==__subContextEngine__&&__subContextEngine__.isIsolateContext()?t[s]=new l(n,c,{cloneArgs:r}):t[s]=c}}t.default=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e){var t={invoke:function(e,t,n){return WeixinJSBridge.invoke(e,t,n)},on:function(e,t){return WeixinJSBridge.on(e,t)},publish:function(e,t,n){return WeixinJSBridge.publish(e,t,n)},subscribe:function(e,t){return WeixinJSBridge.subscribe(e,t)}},n={create:function(e){return WeixinWorker.create(e)},onWorkerMsg:function(e){return WeixinWorker.onWorkerMsg(e)},postMsgToWorker:function(e,t){return WeixinWorker.postMsgToWorker(e,t)},terminate:function(e){return WeixinWorker.terminate(e)}};f(t,t,e,{cloneArgs:!1}),f(n,n,e),this.bridge=t,this.worker=n,f({onSubpackageReady:s},this,e)}.call(this,t)}}]).default,__safeway__=new Safeway;function checkCanProxyReport(e){if("undefined"==typeof Proxy)return!1;if(Object.prototype.toString.call(new Proxy({},{}))!==Object.prototype.toString.call({}))return!1;if(void 0===__wxConfig)return!1;var t=__wxConfig,n=t.platform,r=(t.frameworkInfo,t.QUA);return"devtools"!==n&&!!(r&&r.indexOf("RDM")>-1)}"undefined"!=typeof module&&module.exports&&(module.exports=checkCanProxyReport);var MiniAppProxyReport=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r,o,i,a,s,c=n(1).default,u="https://api-report.q.qq.com/qqqzonetest/miniapp/api/base_lib_report",l=new Map,f=1e3,d=[],p="",h="",g="",v={},_=console.error,y=!1,b=!1,m=["report_user_api","__nativeObj","currentContext","addEventListener","dispatchEvent","handleImgUrl","loadImg","constructor","__proto__","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","offTouchStart","offTouchMove","offTouchEnd","offTouchCancel","transformRpx"],w=["createImage","getContext","connectSocket"],S=["createInnerAudioContext","createLivePusherContext","createVideo","createImage"],C="devtools"===__qqConfig.platform,E=1;function I(){if(b)return E+++"";for(var e=Math.floor(1e5*Math.random())+"";e.length<5;)e="0"+e;return Date.now()+"_"+e}function O(e){for(var t=0,n=e.length,r=5388;t<n;++t)r+=r+e.charAt(t).charCodeAt();return 2147483647&r}function T(){return s||(s=new Promise(function(e,t){function n(){v=a()||{},__wxConfig.accountInfo&&(h=__wxConfig.accountInfo.appId,console.log("appid",h));var t="".concat(u,"?_wnscgi=1&platform=").concat(v.platform,"&qua=").concat(__wxConfig.QUA);o&&o({url:t,method:"GET",success:function(t){var n=t.data,r=void 0===n?{}:n;if("string"==typeof r)try{r=JSON.parse(r)}catch(e){}p=r.sessionid,r.isTest&&(console.log("is test uin set reportLen 30"),f=20),console.log("get report sessionid:"+JSON.stringify(r)),e()},fail:function(t){_("get report sessionid fail",t),e()}})}C||p?e():__wxConfig.onReady?__wxConfig.onReady(n):setTimeout(n)}))}var k,A,x=0,P=0,D=!1,N={getProxy:function(e,t){if(y)return e;g=__wxConfig.QUA,"app"===(r=t)&&(f=20),o=e.request,i=e.onHide?e.onHide:e.onAppHide,a=e.getSystemInfoSync||function(){};var n=new c(e,{getApiId:I,apiPrefix:"qq",report:function(e){if(function(e){var t=l.get(e)||[];t.st&&clearTimeout(t.st),t.st=setTimeout(function(){l.delete(e)},2e3);var n=Date.now(),r=t.length>=10,o=!r||n-t[0]>1e3;return r&&t.shift(),t.push(n),l.set(e,t),o}(e.apiName)){var t=e.ret,n=e.apiName,a=e.res,s="";switch(t){case"exception":s="jslib",n.endsWith(":callback:exception")&&(s="developer"),a.indexOf("no such file or directory")&&(s="developer");break;case"errorLog":s="jslib",e.args&&e.args[0]&&"string"==typeof e.args[0]&&e.args[0].indexOf("parameter error:")>-1&&(s="developer");break;case"fail":s="developer";break;case"cbkMultiWarn":case"cbkOrderWarn":case"cbkAsyncWarn":case"timeout":s="client"}/(onError|onSocketError|onUpdateFailed):args\[0\]:callback$/.test(n)&&(t="onError",s="client"),function(e){var t=e.api,n=e.apiid,a=e.pid,s=void 0===a?"":a,c=e.parentApiName,l=void 0===c?"":c,_=e.traceid,y=e.traceApiName,b=e.args,m=void 0===b?{}:b,w=e.res,S=void 0===w?{}:w,E=e.ret,I=void 0===E?"ok":E,N=e.callStartTime,j=e.bug_attribution,R=void 0===j?"":j;if(!("ok"!=I&&++P>100)){A!==N&&(x=0),A=N;var M=1+(N=1e3*N+x++);T();var B={api:t,apiid:n,traceid:_,pid:s,parentApiName:l,traceApiName:y,args:m,res:S,ret:I,bug_attribution:R,callStartTime:N,callEndTime:M};if("ok"!==I)console.warn("API全链路",B);else if("game"===r)return;d.push(B),d.length>=f&&L(),k||(k=setInterval(L,5e3)),D||("function"==typeof i&&i(function(){L()}),D=!0)}function L(){var e=d;e.length<=0||(d=[],T().then(function(){var t=Date.now(),n={time:Date.now(),QUA:g,appid:h,from:r,sessionid:p,SDKVersion:v.SDKVersion,SDKBuild:v.SDKBuild,model:v.model,platform:v.platform,system:v.system,version:v.version,brand:v.brand,signatrue:O(t+"")};n.list=e,!C&&o({url:u,data:n,method:"POST",success:function(e){},fail:function(e){console.warn("report fail",e)}})}))}}({api:e.apiName,apiid:e.apiId,pid:e.pid,parentApiName:e.parentApiName,traceid:e.traceId,traceApiName:e.traceApiName,args:e.args,res:e.res,ret:t,bug_attribution:s,callStartTime:e.time})}},shouldHandleMethod:function(e,t,n){return!m.includes(n)},shouldHandleResult:function(e,t,n){return!w.includes(n)},shouldReportPropertySet:function(e,t,n){return S.includes(t)},shouldHookConsoleError:!0}).proxy;return y=!0,n}};t.default=N},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./src/const.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"autoAddCallbackProperties",function(){return r}),n.d(t,"argPropertyCbkCheckNames",function(){return o}),n.d(t,"apiCbkDefaultTimeout",function(){return i}),n.d(t,"eventCbkDefaultTimeout",function(){return a}),n.d(t,"TruncatLen",function(){return s}),n.d(t,"ApiInfoMapMaxSize",function(){return c});var r=["success","fail"],o=["success","fail"],i=3e3,a=3e5,s=1e3,c=1e3},"./src/index.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/const.ts"),o=n("./src/util.ts"),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(){}var s=Map,c=function(){function e(e,t){if(this.parentIdMap=new s,this.apiInfoMap=new s,this.apiTagMap=new s,!o.default.checkCanBeProxy(e))return console.warn("ProxyMonitorError:target can not be Proxied"),this.proxy=e,void(this.isProxied=!1);var n;this.isProxied=!0,this.options=i({},t),this.options.shouldHandleMethod=this.options.shouldHandleMethod||function(){return!0},this.options.shouldHandleResult=this.options.shouldHandleResult||function(){return!0},this.options.shouldReportPropertySet=this.options.shouldReportPropertySet||function(){return!1},this.options.report=this.options.report||function(){},this.options.apiCbkTimeout=this.options.apiCbkTimeout||r.apiCbkDefaultTimeout,this.options.eventCbkTimeout=this.options.eventCbkTimeout||r.eventCbkDefaultTimeout,this.options.getApiId=this.options.getApiId||(n=0,function(){return String(n++)}),this.options.hookSetTimeout&&(this.setTimeout=this.dealSetTimeoutOrSetInterval(this.options.hookSetTimeout,"setTimeout")),this.options.hookSetInterval&&(this.setInterval=this.dealSetTimeoutOrSetInterval(this.options.hookSetInterval,"setInterval")),this.options.shouldHookConsoleError&&this.hookConsoleError(),this.callPaths=[],this.apiInfoKeys=[],this.proxy=new Proxy(e,this.getHandler())}return e.prototype.addApiInfo=function(e,t){for(this.apiInfoMap.set(e,t),this.apiInfoKeys.push(e);this.apiInfoKeys.length>r.ApiInfoMapMaxSize;){var n=this.apiInfoKeys.shift();this.apiInfoMap.delete(n)}},e.prototype.hookConsoleError=function(){var e=this,t=console.error;Object.getOwnPropertyDescriptor(console,"error").writable?console.error=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.callPaths[e.callPaths.length-1];e.report({apiName:"ConsoleError",apiId:e.options.getApiId(),pid:o,args:n,ret:"errorLog"}),t.apply(console,n)}:console.warn("console.error不可被hook")},e.prototype.dealSetTimeoutOrSetInterval=function(e,t){var n=this;return function(r,o){void 0===o&&(o=0);var i=n.callPaths[n.callPaths.length-1],a=r;if(i&&n.apiInfoMap.get(i).isCbk){var s=n.options.getApiId();n.addApiInfo(s,{name:t,time:Date.now(),isCbk:!1,isFinish:!1}),n.report({apiName:t,apiId:s,pid:i,ret:"ok"}),a=function(){var e=n.options.getApiId(),o=s;n.callPaths.push(e);var i=t+":callback";n.addApiInfo(e,{name:i,time:Date.now(),isCbk:!0,isFinish:!1}),n.report({apiId:e,apiName:i,pid:o,ret:"ok"}),r(),n.callPaths.splice(n.callPaths.length-1,1)}}return e(a,o)}},e.prototype.report=function(e){var t,n=e.apiId,r=e.apiName,i=e.property,a=e.pid,s=e.args,c=void 0===s?[]:s,u=e.res,l=e.isAsync,f=void 0===l?null:l,d=e.ret,p=void 0===d?"ok":d,h=n=String(n),g=r;if(a&&this.apiInfoMap.has(a)){for(this.parentIdMap.set(n,a),t=this.apiInfoMap.get(a).name;this.parentIdMap.has(h);)h=this.parentIdMap.get(h);this.apiInfoMap.has(h)&&(g=this.apiInfoMap.get(h).name)}var v=this.options.apiPrefix;v&&(r=v+"."+r,g=v+"."+g,t&&(t=v+"."+t));var _={apiId:n,apiName:r,property:i,pid:a,parentApiName:t,traceId:h,traceApiName:g,args:o.default.truncatObjectProperty(c),res:o.default.truncatObjectProperty(u),ret:p,isAsync:f,time:Date.now()};this.options.report(_)},e.prototype.getArgFuncHook=function(e,t,n,i,a,s){return function(){for(var c=this,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];var f="",d="",p="",h=null,g=this.apiInfoMap.get(i);if(g){var v=g.cbkCalledList,_=g.checkTimeoutSt;h=g.isFinish,_&&clearTimeout(_),r.argPropertyCbkCheckNames.includes(s)&&(v.includes("complete")&&(d="complete在回调success、fail前被调用"),h||(p="异步接口同步回调了")),s&&v.push(s),v.filter(function(e){return r.argPropertyCbkCheckNames.includes(e)}).length>1&&(f="回调success、fail被重复调用")}var y=this.options.getApiId(),b=u.map(function(e,t){return o.default.checkCanBeProxy(e)?new Proxy(e,c.getHandler(n+":args["+t+"]",y)):e});this.addApiInfo(y,{name:n,time:Date.now(),isCbk:!0,isFinish:!1}),this.report({apiId:y,apiName:n,property:s,pid:i,args:u,isAsync:h,ret:"fail"===s?"fail":"onError"===a||"onSocketError"===a||"onUpdateFailed"===a?"onError":"ok"}),this.callPaths.push(y);var m=function(e,t){c.report({apiId:c.options.getApiId(),apiName:n+":"+e,ret:e,res:t,property:s,pid:i})};f&&m("cbkMultiWarn",f),d&&m("cbkOrderWarn",d),p&&m("cbkAsyncWarn",p);try{var w=t.apply(e,b);return this.callPaths.splice(this.callPaths.length-1,1),this.apiInfoMap.get(y).isFinish=!0,w}catch(e){throw this.callPaths.splice(this.callPaths.length-1,1),this.apiInfoMap.get(y).isFinish=!0,this.report({apiName:n+":exception",apiId:this.options.getApiId(),property:s,pid:y,res:e.message,ret:"exception"}),e}}.bind(this)},e.prototype.getFuncHook=function(e,t,n){var i=e[n],c=(t?t+".":"")+n;if(this.options.useApiTag){var u=this.apiTagMap.get(n)||0;c=c+":"+u++,this.apiTagMap.set(n,u)}var l=this;return function u(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];var p=[],h=l.options.getApiId(),g=l.callPaths[l.callPaths.length-1],v=null;function _(e){v||(v=setTimeout(function(){var t=e?"timeout":"timeout_maybe";l.report({apiName:c+":"+t,apiId:l.options.getApiId(),property:n,pid:h,args:f,res:"等待回调超过了"+l.options.apiCbkTimeout+"秒",ret:t})},e?l.options.apiCbkTimeout:l.options.eventCbkTimeout))}f.forEach(function(e,t){if("function"==typeof e){if(!e.__hook_new_func){_(!1);var i=c+":args["+t+"]:callback";e.__hook_new_func=l.getArgFuncHook(null,e,i,h,n,"")}p.push(e.__hook_new_func)}else if(o.default.checkCanBeProxy(e)){for(var u=new s,f=0,d=Reflect.ownKeys(e);f<d.length;f++){var g=d[f];if(r.argPropertyCbkCheckNames.includes(String(g))){_(!0);break}}var v=new Proxy(e,{get:function(e,o){try{var i=e[o],s=!1;if(void 0===i&&r.autoAddCallbackProperties.includes(o)&&(i=a,s=!0),"function"==typeof i){if(!u.has(o)){var f=c+":args["+t+"]."+o+(s?":autoadd":"")+":callback";u.set(o,l.getArgFuncHook(e,i,f,h,n,o))}return u.get(o)}return i}catch(t){return console.warn("proxy handler get property faild",n,o,t.message),e[o]}}});p.push(v)}else p.push(e)}),l.addApiInfo(h,{name:c,time:Date.now(),isCbk:!1,isFinish:!1,checkTimeoutSt:v,cbkCalledList:[]}),l.report({apiName:c,apiId:h,property:n,pid:g,args:f,ret:"ok"}),l.callPaths.push(h);try{var y=void 0;return y=u.prototype===this.__proto__?new(i.bind.apply(i,function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r}([void 0],p))):i.apply(e,p),l.callPaths.splice(l.callPaths.length-1,1),l.apiInfoMap.get(h).isFinish=!0,y=o.default.checkCanBeProxy(y)&&l.options.shouldHandleResult(y,t,n)?new Proxy(y,l.getHandler(c,h)):y}catch(e){throw l.callPaths.splice(l.callPaths.length-1,1),l.apiInfoMap.get(h).isFinish=!0,l.report({apiName:c+":exception",apiId:l.options.getApiId(),property:n,pid:h,res:e.message,ret:"exception"}),e}}},e.prototype.getHandler=function(e,t){var n=this;return{get:function(t,r,o){try{var i=Reflect.get(t,r,o);return"symbol"==_typeof4(r)?i:"function"!=typeof i?i:n.options.shouldHandleMethod(t,e,r)?n.getFuncHook(t,e,r).bind(t):i}catch(e){return t[r]}},set:function(r,o,i,a){try{return n.options.shouldReportPropertySet(r,e,o)&&n.report({apiId:n.options.getApiId(),apiName:(e?e+".":"")+o+".set",property:o,args:[i],pid:t,ret:"ok"}),Reflect.set(r,o,i,a)}catch(e){try{return r[o]=i,!0}catch(e){return console.error("proxy handler set property error",o,r),!1}}}}},e}();t.default=c},"./src/util.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/const.ts");t.default={truncatObjectProperty:function e(t,n){void 0===n&&(n=1);try{if(!t)return t;var o=_typeof4(t);if("string"===o)return function(e){return e?e.length>r.TruncatLen?e.slice(0,r.TruncatLen)+"...":e:String(e)}(t);if("function"===o)return"function";if("object"==_typeof4(t)){var i=Array.isArray(t),a=i?[]:{};return n>2?_typeof4(t):(Object.keys(t).forEach(function(r){var o=e(t[r],n+1);i?a.push(o):a[r]=o}),a)}}catch(e){return console.error("truncatObjectProperty error",e),"parse error:"+e.message}return t},checkCanBeProxy:function(e){return!!e&&"object"==_typeof4(e)&&!function(e){return"object"==_typeof4(e)&&(!!Array.isArray(e)||e instanceof ArrayBuffer||!!ArrayBuffer.isView(e))}(e)&&"function"==typeof Proxy&&Object.prototype.toString.call(new Proxy({},{}))===Object.prototype.toString.call({})}}}}))}]).default,__waServiceInit__=function __waServiceInit__(){var __cloudSDK__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var r=n(1);e.exports={getCloudAPI:function(e){return r}}},function(module,exports){module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global,Buffer){__webpack_require__.d(__webpack_exports__,"a",function(){return bson_54});var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__);function _typeof2(e){return(_typeof2="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var map=createCommonjsModule(function(e){if(void 0!==commonjsGlobal.Map)e.exports=commonjsGlobal.Map,e.exports.Map=commonjsGlobal.Map;else{var t=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],o=n[1];this._keys.push(r),this._values[r]={v:o,i:this._keys.length-1}}};t.prototype.clear=function(){this._keys=[],this._values={}},t.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},t.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},t.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},t.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},t.prototype.has=function(e){return null!=this._values[e]},t.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},t.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},t.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(t.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=t}}),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(e){return e&&e.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(e,t){var n=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(e.$numberLong);return t&&t.relaxed?n.toNumber():n},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Double=function(){function e(t){_classCallCheck(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return _createClass(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.legacy||e.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-".concat(this.value.toFixed(1))}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){var r=parseFloat(t.$numberDouble);return n&&n.relaxed?r:new e(r)}}]),e}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}function _classCallCheck$1(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$1(e,t,n){return t&&_defineProperties$1(e.prototype,t),n&&_defineProperties$1(e,n),e}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Timestamp=function(e){function t(e,n){var r;return _classCallCheck$1(this,t),r=long_1.isLong(e)?_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e.low,e.high,!0)):_possibleConstructorReturn(this,_getPrototypeOf(t).call(this,e,n,!0)),_possibleConstructorReturn(r)}return _inherits(t,long_1),_createClass$1(t,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}}}],[{key:"fromInt",value:function(e){return new t(long_1.fromInt(e,!0))}},{key:"fromNumber",value:function(e){return new t(long_1.fromNumber(e,!0))}},{key:"fromBits",value:function(e,n){return new t(e,n)}},{key:"fromString",value:function(e,n){return new t(long_1.fromString(e,n,!0))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$timestamp.i,e.$timestamp.t)}}]),t}();Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"}),Timestamp.MAX_VALUE=Timestamp.MAX_UNSIGNED_VALUE;var timestamp=Timestamp,require$$0={};function normalizedFunctionString(e){return e.toString().replace("function(","function (")}function insecureRandomBytes(e){for(var t=new Uint8Array(e),n=0;n<e;++n)t[n]=Math.floor(256*Math.random());return t}var randomBytes=insecureRandomBytes;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(e){return window.crypto.getRandomValues(new Uint8Array(e))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString:normalizedFunctionString,randomBytes:randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}"function"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function nextTick(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(e,t){this.fun=e,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(e){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(e){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(e){var t=.001*performanceNow.call(performance),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick:nextTick,title:title,browser:browser,env:env,argv:argv,version:version,versions:versions,on:on,addListener:addListener,once:once,off:off,removeListener:removeListener,removeAllListeners:removeAllListeners,emit:emit,binding:binding,cwd:cwd,chdir:chdir,umask:umask,hrtime:hrtime,platform:platform,release:release,config:config,uptime:uptime},inherits;inherits="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};var inherits$1=inherits;function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var formatRegExp=/%[sdj%]/g;function format(e){if(!isString(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,i=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])isNull(a)||!isObject(a)?i+=" "+a:i+=" "+inspect(a);return i}function deprecate(e,t){if(isUndefined(global.process))return function(){return deprecate(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(e){return isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),debugs[e]||(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)?debugs[e]=function(){var t=format.apply(null,arguments);console.error("%s %d: %s",e,0,t)}:debugs[e]=function(){}),debugs[e]}function inspect(e,t){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(t)?n.showHidden=t:t&&_extend(n,t),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,e,n.depth)}function stylizeWithColor(e,t){var n=inspect.styles[t];return n?"["+inspect.colors[n][0]+"m"+e+"["+inspect.colors[n][1]+"m":e}function stylizeNoColor(e,t){return e}function arrayToHash(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function formatValue(e,t,n){if(e.customInspect&&t&&isFunction(t.inspect)&&t.inspect!==inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(n,e);return isString(r)||(r=formatValue(e,r,n)),r}var o=formatPrimitive(e,t);if(o)return o;var i=Object.keys(t),a=arrayToHash(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),isError(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return formatError(t);if(0===i.length){if(isFunction(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(isRegExp(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(isDate(t))return e.stylize(Date.prototype.toString.call(t),"date");if(isError(t))return formatError(t)}var c,u="",l=!1,f=["{","}"];return isArray(t)&&(l=!0,f=["[","]"]),isFunction(t)&&(u=" [Function"+(t.name?": "+t.name:"")+"]"),isRegExp(t)&&(u=" "+RegExp.prototype.toString.call(t)),isDate(t)&&(u=" "+Date.prototype.toUTCString.call(t)),isError(t)&&(u=" "+formatError(t)),0!==i.length||l&&0!=t.length?n<0?isRegExp(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?formatArray(e,t,n,a,i):i.map(function(r){return formatProperty(e,t,n,a,r,l)}),e.seen.pop(),reduceToSingleString(c,u,f)):f[0]+u+f[1]}function formatPrimitive(e,t){if(isUndefined(t))return e.stylize("undefined","undefined");if(isString(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return isNumber(t)?e.stylize(""+t,"number"):isBoolean(t)?e.stylize(""+t,"boolean"):isNull(t)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)hasOwnProperty(t,String(a))?i.push(formatProperty(e,t,n,r,String(a),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(formatProperty(e,t,n,r,o,!0))}),i}function formatProperty(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),hasOwnProperty(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=isNull(n)?formatValue(e,c.value,null):formatValue(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),isUndefined(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function reduceToSingleString(e,t,n){return e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"===_typeof$1(e)}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"===_typeof$1(e)&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===_typeof$1(e)||void 0===e}function isBuffer(e){return Buffer.isBuffer(e)}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var e=new Date,t=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],t].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(e,t){if(!t||!isObject(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}function hasOwnProperty(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var util={inherits:inherits$1,_extend:_extend,log:log,isBuffer:isBuffer,isPrimitive:isPrimitive,isFunction:isFunction,isError:isError,isDate:isDate,isObject:isObject,isRegExp:isRegExp,isUndefined:isUndefined,isSymbol:isSymbol,isString:isString,isNumber:isNumber,isNullOrUndefined:isNullOrUndefined,isNull:isNull,isBoolean:isBoolean,isArray:isArray,inspect:inspect,deprecate:deprecate,format:format,debuglog:debuglog};function _classCallCheck$2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$2(e,t,n){return t&&_defineProperties$2(e.prototype,t),n&&_defineProperties$2(e,n),e}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(e){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(e){return e.toString("hex")}function makeObjectIdError(e,t){var n=e[t];return new TypeError('ObjectId string "'.concat(e,'" contains invalid character "').concat(n,'" with character code (').concat(e.charCodeAt(t),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function e(t){if(_classCallCheck$2(this,e),t instanceof e)return t;if(null==t||"number"==typeof t)return this.id=e.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var n=e.isValid(t);if(!n&&null!=t)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"==typeof t&&24===t.length&&hasBufferType)return new e(Buffer$1.from(t,"hex"));if(n&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&t.toHexString)return e.createFromHexString(t.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(e,[{key:"toHexString",value:function(){if(e.cacheHexString&&this.__id)return this.__id;var t="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return t=convertToHex(this.id),e.cacheHexString&&(this.__id=t),t;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!=typeof r)throw makeObjectIdError(this.id,n);t+=r}return e.cacheHexString&&(this.__id=t),t}},{key:"toString",value:function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(t){return t instanceof e?this.toString()===t.toString():"string"==typeof t&&e.isValid(t)&&12===t.length&&this.id instanceof _Buffer?t===this.id.toString("binary"):"string"==typeof t&&e.isValid(t)&&24===t.length?t.toLowerCase()===this.toHexString():"string"==typeof t&&e.isValid(t)&&12===t.length?t===this.id:!(null==t||!(t instanceof e||t.toHexString))&&t.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var e=new Date,t=this.id.readUInt32BE(0);return e.setTime(1e3*Math.floor(t)),e}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return e.index=(e.index+1)%16777215}},{key:"generate",value:function(t){"number"!=typeof t&&(t=~~(Date.now()/1e3));var n=e.getInc(),r=Buffer$1.alloc(12);return r[3]=255&t,r[2]=t>>8&255,r[1]=t>>16&255,r[0]=t>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new e}},{key:"createFromTime",value:function(t){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&t,n[2]=t>>8&255,n[1]=t>>16&255,n[0]=t>>24&255,new e(n)}},{key:"createFromHexString",value:function(t){if(void 0===t||null!=t&&24!==t.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new e(Buffer$1.from(t,"hex"));for(var n=new _Buffer(12),r=0,o=0;o<24;)n[r++]=decodeLookup[t.charCodeAt(o++)]<<4|decodeLookup[t.charCodeAt(o++)];return new e(n)}},{key:"isValid",value:function(t){return null!=t&&("number"==typeof t||("string"==typeof t?12===t.length||24===t.length&&checkForHexRegExp.test(t):t instanceof e||t instanceof _Buffer&&12===t.length||!!t.toHexString&&(12===t.id.length||24===t.id.length&&checkForHexRegExp.test(t.id))))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$oid)}}]),e}();ObjectId.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1(function(){return ObjectId.getInc()},"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1(function(e){return ObjectId.generate(e)},"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$3(e,t,n){return t&&_defineProperties$3(e.prototype,t),n&&_defineProperties$3(e,n),e}function alphabetize(e){return e.split("").sort().join("")}var BSONRegExp=function(){function e(t,n){_classCallCheck$3(this,e),this.pattern=t||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(e,[{key:"toExtendedJSON",value:function(e){return(e=e||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"parseOptions",value:function(e){return e?e.split("").sort().join(""):""}},{key:"fromExtendedJSON",value:function(t){return t.$regex?"BSONRegExp"===t.$regex._bsontype?t:new e(t.$regex,e.parseOptions(t.$options)):new e(t.$regularExpression.pattern,e.parseOptions(t.$regularExpression.options))}}]),e}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$4(e,t,n){return t&&_defineProperties$4(e.prototype,t),n&&_defineProperties$4(e,n),e}var BSONSymbol=function(){function e(t){_classCallCheck$4(this,e),this.value=t}return _createClass$4(e,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$symbol)}}]),e}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$5(e,t,n){return t&&_defineProperties$5(e.prototype,t),n&&_defineProperties$5(e,n),e}var Int32=function(){function e(t){_classCallCheck$5(this,e),t instanceof Number&&(t=t.valueOf()),this.value=t}return _createClass$5(e,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(e){return e&&(e.relaxed||e.legacy)?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(t,n){return n&&n.relaxed?parseInt(t.$numberInt,10):new e(t.$numberInt)}}]),e}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$6(e,t,n){return t&&_defineProperties$6(e.prototype,t),n&&_defineProperties$6(e,n),e}var Code=function(){function e(t,n){_classCallCheck$6(this,e),this.code=t,this.scope=n}return _createClass$6(e,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(t){return new e(t.$code,t.$scope)}}]),e}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(e){return!isNaN(parseInt(e,10))}function divideu128(e){var t=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new long_1(e.parts[r],0)),e.parts[r]=n.div(t).low,n=n.modulo(t);return{quotient:e,rem:n}}function multiply64x2(e,t){if(!e&&!t)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=e.shiftRightUnsigned(32),r=new long_1(e.getLowBits(),0),o=t.shiftRightUnsigned(32),i=new long_1(t.getLowBits(),0),a=n.multiply(o),s=n.multiply(i),c=r.multiply(o),u=r.multiply(i);return a=a.add(s.shiftRightUnsigned(32)),s=new long_1(s.getLowBits(),0).add(c).add(u.shiftRightUnsigned(32)),{high:a=a.add(s.shiftRightUnsigned(32)),low:u=s.shiftLeft(32).add(new long_1(u.getLowBits(),0))}}function lessThan(e,t){var n=e.high>>>0,r=t.high>>>0;return n<r||n===r&&e.low>>>0<t.low>>>0}function invalidErr(e,t){throw new TypeError('"'.concat(e,'" is not a valid Decimal128 string - ').concat(t))}function Decimal128(e){this.bytes=e}Decimal128.fromString=function(e){var t,n=!1,r=!1,o=!1,i=0,a=0,s=0,c=0,u=0,l=[0],f=0,d=0,p=0,h=0,g=0,v=0,_=[0,0],y=[0,0],b=0;if(e.length>=7e3)throw new TypeError(e+" not a valid Decimal128 string");var m=e.match(PARSE_STRING_REGEXP),w=e.match(PARSE_INF_REGEXP),S=e.match(PARSE_NAN_REGEXP);if(!m&&!w&&!S||0===e.length)throw new TypeError(e+" not a valid Decimal128 string");if(m){var C=m[2],E=m[4],I=m[5],O=m[6];E&&void 0===O&&invalidErr(e,"missing exponent power"),E&&void 0===C&&invalidErr(e,"missing exponent base"),void 0===E&&(I||O)&&invalidErr(e,"missing e before exponent")}if("+"!==e[b]&&"-"!==e[b]||(n="-"===e[b++]),!isDigit(e[b])&&"."!==e[b]){if("i"===e[b]||"I"===e[b])return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(e[b])||"."===e[b];)"."!==e[b]?(f<34&&("0"!==e[b]||o)&&(o||(u=a),o=!0,l[d++]=parseInt(e[b],10),f+=1),o&&(s+=1),r&&(c+=1),a+=1,b+=1):(r&&invalidErr(e,"contains multiple periods"),r=!0,b+=1);if(r&&!a)throw new TypeError(e+" not a valid Decimal128 string");if("e"===e[b]||"E"===e[b]){var T=e.substr(++b).match(EXPONENT_REGEX);if(!T||!T[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));g=parseInt(T[0],10),b+=T[0].length}if(e[b])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(p=0,f){if(h=f-1,1!==(i=s))for(;"0"===e[u+i-1];)i-=1}else p=0,h=0,l[0]=0,s=1,f=1,i=0;for(g<=c&&c-g>16384?g=EXPONENT_MIN:g-=c;g>EXPONENT_MAX;){if((h+=1)-p>MAX_DIGITS){if(l.join("").match(/^0+$/)){g=EXPONENT_MAX;break}invalidErr(e,"overflow")}g-=1}for(;g<EXPONENT_MIN||f<s;){if(0===h&&i<f){g=EXPONENT_MIN,i=0;break}if(f<s?s-=1:h-=1,g<EXPONENT_MAX)g+=1;else{if(l.join("").match(/^0+$/)){g=EXPONENT_MAX;break}invalidErr(e,"overflow")}}if(h-p+1<i){var k=a;r&&(u+=1,k+=1),n&&(u+=1,k+=1);var A=parseInt(e[u+h+1],10),x=0;if(A>=5&&(x=1,5===A))for(x=l[h]%2==1,v=u+h+2;v<k;v++)if(parseInt(e[v],10)){x=1;break}if(x)for(var P=h;P>=0;P--)if(++l[P]>9&&(l[P]=0,0===P)){if(!(g<EXPONENT_MAX))return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));g+=1,l[P]=1}}if(_=long_1.fromNumber(0),y=long_1.fromNumber(0),0===i)_=long_1.fromNumber(0),y=long_1.fromNumber(0);else if(h-p<17){var D=p;for(y=long_1.fromNumber(l[D++]),_=new long_1(0,0);D<=h;D++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[D]))}else{var N=p;for(_=long_1.fromNumber(l[N++]);N<=h-17;N++)_=(_=_.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[N]));for(y=long_1.fromNumber(l[N++]);N<=h;N++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[N]))}var j=multiply64x2(_,long_1.fromString("100000000000000000"));j.low=j.low.add(y),lessThan(j.low,y)&&(j.high=j.high.add(long_1.fromNumber(1))),t=g+EXPONENT_BIAS;var R={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};j.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(R.high=R.high.or(long_1.fromNumber(3).shiftLeft(61)),R.high=R.high.or(long_1.fromNumber(t).and(long_1.fromNumber(16383).shiftLeft(47))),R.high=R.high.or(j.high.and(long_1.fromNumber(0x7fffffffffff)))):(R.high=R.high.or(long_1.fromNumber(16383&t).shiftLeft(49)),R.high=R.high.or(j.high.and(long_1.fromNumber(562949953421311)))),R.low=j.low,n&&(R.high=R.high.or(long_1.fromString("9223372036854775808")));var M=Buffer$2.alloc(16);return b=0,M[b++]=255&R.low.low,M[b++]=R.low.low>>8&255,M[b++]=R.low.low>>16&255,M[b++]=R.low.low>>24&255,M[b++]=255&R.low.high,M[b++]=R.low.high>>8&255,M[b++]=R.low.high>>16&255,M[b++]=R.low.high>>24&255,M[b++]=255&R.high.low,M[b++]=R.high.low>>8&255,M[b++]=R.high.low>>16&255,M[b++]=R.high.low>>24&255,M[b++]=255&R.high.high,M[b++]=R.high.high>>8&255,M[b++]=R.high.high>>16&255,M[b++]=R.high.high>>24&255,new Decimal128(M)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var e,t,n,r,o,i,a=0,s=new Array(36),c=0;c<s.length;c++)s[c]=0;var u,l,f,d,p,h=0,g=!1,v={parts:new Array(4)},_=[];h=0;var y=this.bytes;if(r=y[h++]|y[h++]<<8|y[h++]<<16|y[h++]<<24,n=y[h++]|y[h++]<<8|y[h++]<<16|y[h++]<<24,t=y[h++]|y[h++]<<8|y[h++]<<16|y[h++]<<24,e=y[h++]|y[h++]<<8|y[h++]<<16|y[h++]<<24,h=0,(new long_1(r,n),new long_1(t,e)).lessThan(long_1.ZERO)&&_.push("-"),(o=e>>26&COMBINATION_MASK)>>3==3){if(o===COMBINATION_INFINITY)return _.join("")+"Infinity";if(o===COMBINATION_NAN)return"NaN";i=e>>15&EXPONENT_MASK,f=8+(e>>14&1)}else f=e>>14&7,i=e>>17&EXPONENT_MASK;if(u=i-EXPONENT_BIAS,v.parts[0]=(16383&e)+((15&f)<<14),v.parts[1]=t,v.parts[2]=n,v.parts[3]=r,0===v.parts[0]&&0===v.parts[1]&&0===v.parts[2]&&0===v.parts[3])g=!0;else for(p=3;p>=0;p--){var b=0,m=divideu128(v);if(v=m.quotient,b=m.rem.low)for(d=8;d>=0;d--)s[9*p+d]=b%10,b=Math.floor(b/10)}if(g)a=1,s[h]=0;else for(a=36;!s[h];)a-=1,h+=1;if((l=a-1+u)>=34||l<=-7||u>0){if(a>34)return _.push(0),u>0?_.push("E+"+u):u<0&&_.push("E"+u),_.join("");_.push(s[h++]),(a-=1)&&_.push(".");for(var w=0;w<a;w++)_.push(s[h++]);_.push("E"),l>0?_.push("+"+l):_.push(l)}else if(u>=0)for(var S=0;S<a;S++)_.push(s[h++]);else{var C=a+u;if(C>0)for(var E=0;E<C;E++)_.push(s[h++]);else _.push("0");for(_.push(".");C++<0;)_.push("0");for(var I=0;I<a-Math.max(C-1,0);I++)_.push(s[h++])}return _.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(e){return Decimal128.fromString(e.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$7(e,t,n){return t&&_defineProperties$7(e.prototype,t),n&&_defineProperties$7(e,n),e}var MinKey=function(){function e(){_classCallCheck$7(this,e)}return _createClass$7(e,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$8(e,t,n){return t&&_defineProperties$8(e.prototype,t),n&&_defineProperties$8(e,n),e}var MaxKey=function(){function e(){_classCallCheck$8(this,e)}return _createClass$8(e,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new e}}]),e}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$9(e,t,n){return t&&_defineProperties$9(e.prototype,t),n&&_defineProperties$9(e,n),e}var DBRef=function(){function e(t,n,r,o){_classCallCheck$9(this,e);var i=t.split(".");2===i.length&&(r=i.shift(),t=i.shift()),this.collection=t,this.oid=n,this.db=r,this.fields=o||{}}return _createClass$9(e,[{key:"toJSON",value:function(){var e=_extends({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(e.$db=this.db),e}},{key:"toExtendedJSON",value:function(e){e=e||{};var t={$ref:this.collection,$id:this.oid};return e.legacy?t:(this.db&&(t.$db=this.db),t=_extends(t,this.fields))}}],[{key:"fromExtendedJSON",value:function(t){var n=_extends({},t);return["$ref","$id","$db"].forEach(function(e){return delete n[e]}),new e(t.$ref,t.$id,t.$db,n)}}]),e}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(e){this.collection=e},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass$a(e,t,n){return t&&_defineProperties$a(e.prototype,t),n&&_defineProperties$a(e,n),e}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function e(t,n){if(_classCallCheck$a(this,e),!(null==t||"string"==typeof t||Buffer$3.isBuffer(t)||t instanceof Uint8Array||Array.isArray(t)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==t||t instanceof Number)void 0!==Buffer$3?this.buffer=Buffer$3.alloc(e.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE)):this.buffer=new Array(e.BUFFER_SIZE);else{if("string"==typeof t)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(t);else{if("undefined"==typeof Uint8Array&&!Array.isArray(t))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(t)}else this.buffer=t;this.position=t.length}}return _createClass$a(e,[{key:"put",value:function(t){if(null!=t.length&&"number"!=typeof t&&1!==t.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof t&&t<0||t>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n;if(n="string"==typeof t?t.charCodeAt(0):null!=t.length?t[0]:t,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(e.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var o=null;o=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(e.BUFFER_SIZE+this.buffer.length)):new Array(e.BUFFER_SIZE+this.buffer.length);for(var i=0;i<this.buffer.length;i++)o[i]=this.buffer[i];this.buffer=o,this.buffer[this.position++]=n}}},{key:"write",value:function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if(void 0!==Buffer$3&&Buffer$3.isBuffer(e)&&Buffer$3.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==Buffer$3&&"string"==typeof e&&Buffer$3.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if(isUint8Array(e)||Array.isArray(e)&&"string"!=typeof e){for(var o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(var i=0;i<e.length;i++)this.buffer[t++]=e.charCodeAt(i);this.position=t>this.position?t:this.position}}},{key:"read",value:function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n}},{key:"value",value:function(e){if((e=null!=e&&e)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""}},{key:"toExtendedJSON",value:function(e){e=e||{};var t=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),n=Number(this.sub_type).toString(16);return e.legacy?{$binary:t,$type:1===n.length?"0"+n:n}:{$binary:{base64:t,subType:1===n.length?"0"+n:n}}}}],[{key:"fromExtendedJSON",value:function(t,n){var r,o;return(n=n||{}).legacy?(o=t.$type?parseInt(t.$type,16):0,r=Buffer$3.from(t.$binary,"base64")):(o=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=Buffer$3.from(t.$binary.base64,"base64")),new e(r,o)}}]),e}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)}function writeStringToArray(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function convertArraytoUtf8BinaryString(e,t,n){for(var r="",o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regex:regexp,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(e,t,n,r){if("number"==typeof n){if(r.relaxed||r.legacy)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var o=Object.keys(n).filter(function(e){return e.startsWith("$")&&null!=n[e]}),i=0;i<o.length;i++){var a=keysToCodecs[o[i]];if(a)return a.fromExtendedJSON(n,r)}if(null!=n.$date){var s=n.$date,c=new Date;return r.legacy?"number"==typeof s?c.setTime(s):"string"==typeof s&&c.setTime(Date.parse(s)):"string"==typeof s?c.setTime(Date.parse(s)):long_1.isLong(s)?c.setTime(s.toNumber()):"number"==typeof s&&r.relaxed&&c.setTime(s),c}if(null!=n.$code){var u=_extends({},n);return n.$scope&&(u.$scope=deserializeValue(e,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var l=n.$ref?n:n.$dbPointer;if(l instanceof db_ref)return l;var f=Object.keys(l).filter(function(e){return e.startsWith("$")}),d=!0;if(f.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(d=!1)}),d)return db_ref.fromExtendedJSON(l)}return n}function parse(e,t){var n=this;return"boolean"==typeof(t=_extends({},{relaxed:!0,legacy:!1},t)).relaxed&&(t.strict=!t.relaxed),"boolean"==typeof t.strict&&(t.relaxed=!t.strict),JSON.parse(e,function(e,r){return deserializeValue(n,e,r,t)})}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(e,t,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==t||"object"!==_typeof$2(t)||Array.isArray(t)||(r=t,t=null,n=0),r=_extends({},{relaxed:!0,legacy:!1},r);var o=Array.isArray(e)?serializeArray(e,r):serializeDocument(e,r);return JSON.stringify(o,t,n)}function serialize(e,t){return t=t||{},JSON.parse(stringify(e,t))}function deserialize(e,t){return t=t||{},parse(JSON.stringify(e),t)}function serializeArray(e,t){return e.map(function(e){return serializeValue(e,t)})}function getISOString(e){var t=e.toISOString();return 0!==e.getUTCMilliseconds()?t:t.slice(0,-5)+"Z"}function serializeValue(e,t){if(Array.isArray(e))return serializeArray(e,t);if(void 0===e)return null;if(e instanceof Date){var n=e.getTime(),r=n>-1&&n<2534023188e5;return t.legacy?t.relaxed&&r?{$date:e.getTime()}:{$date:getISOString(e)}:t.relaxed&&r?{$date:getISOString(e)}:{$date:{$numberLong:e.getTime().toString()}}}if("number"==typeof e&&!t.relaxed){if(Math.floor(e)===e){var o=e>=BSON_INT64_MIN&&e<=BSON_INT64_MAX;if(e>=BSON_INT32_MIN&&e<=BSON_INT32_MAX)return{$numberInt:e.toString()};if(o)return{$numberLong:e.toString()}}return{$numberDouble:e.toString()}}if(e instanceof RegExp){var i=e.flags;return void 0===i&&(i=e.toString().match(/[gimuy]*$/)[0]),new regexp(e.source,i).toExtendedJSON(t)}return null!=e&&"object"===_typeof$2(e)?serializeDocument(e,t):e}var BSON_TYPE_MAPPINGS={Binary:function(e){return new binary(e.value(),e.subtype)},Code:function(e){return new code(e.code,e.scope)},DBRef:function(e){return new db_ref(e.collection||e.namespace,e.oid,e.db,e.fields)},Decimal128:function(e){return new decimal128(e.bytes)},Double:function(e){return new double_1(e.value)},Int32:function(e){return new int_32(e.value)},Long:function(e){return long_1.fromBits(null!=e.low?e.low:e.low_,null!=e.low?e.high:e.high_,null!=e.low?e.unsigned:e.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(e){return new objectid(e)},ObjectId:function(e){return new objectid(e)},BSONRegExp:function(e){return new regexp(e.pattern,e.options)},Symbol:function(e){return new symbol(e.value)},Timestamp:function(e){return timestamp.fromBits(e.low,e.high)}};function serializeDocument(e,t){if(null==e||"object"!==_typeof$2(e))throw new Error("not an object instance");var n=e._bsontype;if(void 0===n){var r={};for(var o in e)r[o]=serializeValue(e[o],t);return r}if("string"==typeof n){var i=e;if("function"!=typeof i.toExtendedJSON){var a=BSON_TYPE_MAPPINGS[n];if(!a)throw new TypeError("Unrecognized or invalid _bsontype: "+n);i=a(i)}return"Code"===n&&i.scope?i=new code(i.code,serializeValue(i.scope,t)):"DBRef"===n&&i.oid&&(i=new db_ref(i.collection,serializeValue(i.oid,t),i.db,i.fields)),i.toExtendedJSON(t)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}var extended_json={parse:parse,deserialize:deserialize,serialize:serialize,stringify:stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(e,t,n){for(var r=0,o=t;o<n;o+=1){var i=e[o];if(r){if((i&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(i&FIRST_BIT)if((i&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((i&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((i&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,o=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(o<5)throw new Error("bson size must be >= 5, is ".concat(o));if(t.allowObjectSmallerThanBufferSize&&e.length<o)throw new Error("buffer length ".concat(e.length," must be >= bson size ").concat(o));if(!t.allowObjectSmallerThanBufferSize&&e.length!==o)throw new Error("buffer length ".concat(e.length," must === bson size ").concat(o));if(o+r>e.length)throw new Error("(bson size ".concat(o," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(e),")"));if(0!==e[r+o-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,r,t,n)}function deserializeObject(e,t,n,r){var o=null!=n.evalFunctions&&n.evalFunctions,i=null!=n.cacheFunctions&&n.cacheFunctions,a=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!a)var s=null;var c=null==n.fieldsAsRaw?null:n.fieldsAsRaw,u=null!=n.raw&&n.raw,l="boolean"==typeof n.bsonRegExp&&n.bsonRegExp,f=null!=n.promoteBuffers&&n.promoteBuffers,d=null==n.promoteLongs||n.promoteLongs,p=null==n.promoteValues||n.promoteValues,h=t;if(e.length<5)throw new Error("corrupt bson message < 5 bytes long");var g=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(g<5||g>e.length)throw new Error("corrupt bson message");for(var v=r?[]:{},_=0;;){var y=e[t++];if(0===y)break;for(var b=t;0!==e[b]&&b<e.length;)b++;if(b>=Buffer$4.byteLength(e))throw new Error("Bad BSON Document: illegal CString");var m=r?_++:e.toString("utf8",t,b);if(t=b+1,y===constants.BSON_DATA_STRING){var w=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(w<=0||w>e.length-t||0!==e[t+w-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+w-1))throw new Error("Invalid UTF-8 string in BSON document");var S=e.toString("utf8",t,t+w-1);v[m]=S,t+=w}else if(y===constants.BSON_DATA_OID){var C=Buffer$4.alloc(12);e.copy(C,0,t,t+12),v[m]=new objectid(C),t+=12}else if(y===constants.BSON_DATA_INT&&!1===p)v[m]=new int_32(e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24);else if(y===constants.BSON_DATA_INT)v[m]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;else if(y===constants.BSON_DATA_NUMBER&&!1===p)v[m]=new double_1(e.readDoubleLE(t)),t+=8;else if(y===constants.BSON_DATA_NUMBER)v[m]=e.readDoubleLE(t),t+=8;else if(y===constants.BSON_DATA_DATE){var E=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,I=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[m]=new Date(new long_1(E,I).toNumber())}else if(y===constants.BSON_DATA_BOOLEAN){if(0!==e[t]&&1!==e[t])throw new Error("illegal boolean type value");v[m]=1===e[t++]}else if(y===constants.BSON_DATA_OBJECT){var O=t,T=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24;if(T<=0||T>e.length-t)throw new Error("bad embedded document length in bson");v[m]=u?e.slice(t,t+T):deserializeObject(e,O,n,!1),t+=T}else if(y===constants.BSON_DATA_ARRAY){var k=t,A=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,x=n,P=t+A;if(c&&c[m]){for(var D in x={},n)x[D]=n[D];x.raw=!0}if(v[m]=deserializeObject(e,k,x,!0),0!==e[(t+=A)-1])throw new Error("invalid array terminator byte");if(t!==P)throw new Error("corrupted array bson")}else if(y===constants.BSON_DATA_UNDEFINED)v[m]=void 0;else if(y===constants.BSON_DATA_NULL)v[m]=null;else if(y===constants.BSON_DATA_LONG){var N=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,j=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,R=new long_1(N,j);v[m]=d&&!0===p&&R.lessThanOrEqual(JS_INT_MAX_LONG)&&R.greaterThanOrEqual(JS_INT_MIN_LONG)?R.toNumber():R}else if(y===constants.BSON_DATA_DECIMAL128){var M=Buffer$4.alloc(16);e.copy(M,0,t,t+16),t+=16;var B=new decimal128(M);v[m]=B.toObject?B.toObject():B}else if(y===constants.BSON_DATA_BINARY){var L=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,F=L,U=e[t++];if(L<0)throw new Error("Negative binary type element size found");if(L>Buffer$4.byteLength(e))throw new Error("Binary type size larger than document size");if(null!=e.slice){if(U===binary.SUBTYPE_BYTE_ARRAY){if((L=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}v[m]=f&&p?e.slice(t,t+L):new binary(e.slice(t,t+L),U)}else{var W="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(L)):new Array(L);if(U===binary.SUBTYPE_BYTE_ARRAY){if((L=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>F-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<F-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(b=0;b<L;b++)W[b]=e[t+b];v[m]=f&&p?W:new binary(W,U)}t+=L}else if(y===constants.BSON_DATA_REGEXP&&!1===l){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var q=e.toString("utf8",t,b);for(b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var V=e.toString("utf8",t,b);t=b+1;var $=new Array(V.length);for(b=0;b<V.length;b++)switch(V[b]){case"m":$[b]="m";break;case"s":$[b]="g";break;case"i":$[b]="i"}v[m]=new RegExp(q,$.join(""))}else if(y===constants.BSON_DATA_REGEXP&&!0===l){for(b=t;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var G=e.toString("utf8",t,b);for(b=t=b+1;0!==e[b]&&b<e.length;)b++;if(b>=e.length)throw new Error("Bad BSON Document: illegal CString");var H=e.toString("utf8",t,b);t=b+1,v[m]=new regexp(G,H)}else if(y===constants.BSON_DATA_SYMBOL){var z=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(z<=0||z>e.length-t||0!==e[t+z-1])throw new Error("bad string length in bson");var K=e.toString("utf8",t,t+z-1);v[m]=p?K:new symbol(K),t+=z}else if(y===constants.BSON_DATA_TIMESTAMP){var Y=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24,J=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;v[m]=new timestamp(Y,J)}else if(y===constants.BSON_DATA_MIN_KEY)v[m]=new min_key;else if(y===constants.BSON_DATA_MAX_KEY)v[m]=new max_key;else if(y===constants.BSON_DATA_CODE){var Q=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(Q<=0||Q>e.length-t||0!==e[t+Q-1])throw new Error("bad string length in bson");var X=e.toString("utf8",t,t+Q-1);if(o)if(i){var Z=a?s(X):X;v[m]=isolateEvalWithHash(functionCache,Z,X,v)}else v[m]=isolateEval(X);else v[m]=new code(X);t+=Q}else if(y===constants.BSON_DATA_CODE_W_SCOPE){var ee=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(ee<13)throw new Error("code_w_scope total size shorter minimum expected length");var te=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(te<=0||te>e.length-t||0!==e[t+te-1])throw new Error("bad string length in bson");var ne=e.toString("utf8",t,t+te-1),re=t+=te,oe=e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24,ie=deserializeObject(e,re,n,!1);if(t+=oe,ee<8+oe+te)throw new Error("code_w_scope total size is to short, truncating scope");if(ee>8+oe+te)throw new Error("code_w_scope total size is to long, clips outer document");if(o){if(i){var ae=a?s(ne):ne;v[m]=isolateEvalWithHash(functionCache,ae,ne,v)}else v[m]=isolateEval(ne);v[m].scope=ie}else v[m]=new code(ne,ie)}else{if(y!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+y.toString(16)+' for fieldname "'+m+'", are you using the latest BSON parser?');var se=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;if(se<=0||se>e.length-t||0!==e[t+se-1])throw new Error("bad string length in bson");if(!validateUtf8$1(e,t,t+se-1))throw new Error("Invalid UTF-8 string in BSON document");var ce=e.toString("utf8",t,t+se-1);t+=se;var ue=Buffer$4.alloc(12);e.copy(ue,0,t,t+12);var le=new objectid(ue);t+=12,v[m]=new db_ref(ce,le)}}if(g!==t-h){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var fe=Object.keys(v).filter(function(e){return e.startsWith("$")}),de=!0;if(fe.forEach(function(e){-1===["$ref","$id","$db"].indexOf(e)&&(de=!1)}),!de)return v;if(null!=v.$id&&null!=v.$ref){var pe=_extends({},v);return delete pe.$ref,delete pe.$id,delete pe.$db,new db_ref(v.$ref,v.$id,v.$db||null,pe)}return v}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(e,t,n,r,o){var i,a,s="big"===n,c=8*o-r-1,u=(1<<c)-1,l=u>>1,f=-7,d=s?0:o-1,p=s?1:-1,h=e[t+d];for(d+=p,i=h&(1<<-f)-1,h>>=-f,f+=c;f>0;i=256*i+e[t+d],d+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+e[t+d],d+=p,f-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)}function writeIEEE754(e,t,n,r,o,i){var a,s,c,u="big"===r,l=8*i-o-1,f=(1<<l)-1,d=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=u?i-1:0,g=u?-1:1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+d>=1?p/c:p*Math.pow(2,1-d))*c>=2&&(a++,c/=2),a+d>=f?(s=0,a=f):a+d>=1?(s=(t*c-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0)),isNaN(t)&&(s=0);o>=8;)e[n+h]=255&s,h+=g,s/=256,o-=8;for(a=a<<o|s,isNaN(t)&&(a+=8),l+=o;l>0;)e[n+h]=255&a,h+=g,a/=256,l-=8;e[n+h-g]|=128*v}var float_parser={readIEEE754:readIEEE754,writeIEEE754:writeIEEE754};function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(e){return"object"===_typeof$3(e)&&"[object Date]"===Object.prototype.toString.call(e)},isRegExp$1=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};function serializeString(e,t,n,r,o){e[r++]=constants.BSON_DATA_STRING;var i=o?e.write(t,r,"ascii"):e.write(t,r,"utf8");e[(r=r+i+1)-1]=0;var a=e.write(n,r+4,"utf8");return e[r+3]=a+1>>24&255,e[r+2]=a+1>>16&255,e[r+1]=a+1>>8&255,e[r]=a+1&255,r=r+4+a,e[r++]=0,r}function serializeNumber(e,t,n,r,o){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX)e[r++]=constants.BSON_DATA_INT,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255;else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)e[r++]=constants.BSON_DATA_NUMBER,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8;else{e[r++]=constants.BSON_DATA_LONG,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=long_1.fromNumber(n),a=i.getLowBits(),s=i.getHighBits();e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255}else e[r++]=constants.BSON_DATA_NUMBER,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n,r,"little",52,8),r+=8;return r}function serializeNull(e,t,n,r,o){return e[r++]=constants.BSON_DATA_NULL,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeBoolean(e,t,n,r,o){return e[r++]=constants.BSON_DATA_BOOLEAN,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=n?1:0,r}function serializeDate(e,t,n,r,o){e[r++]=constants.BSON_DATA_DATE,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=long_1.fromNumber(n.getTime()),a=i.getLowBits(),s=i.getHighBits();return e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,r}function serializeRegExp(e,t,n,r,o){if(e[r++]=constants.BSON_DATA_REGEXP,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,"utf8"),e[r++]=0,n.ignoreCase&&(e[r++]=105),n.global&&(e[r++]=115),n.multiline&&(e[r++]=109),e[r++]=0,r}function serializeBSONRegExp(e,t,n,r,o){if(e[r++]=constants.BSON_DATA_REGEXP,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,"utf8"),e[r++]=0,r}function serializeMinMax(e,t,n,r,o){return null===n?e[r++]=constants.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=constants.BSON_DATA_MIN_KEY:e[r++]=constants.BSON_DATA_MAX_KEY,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r}function serializeObjectId(e,t,n,r,o){if(e[r++]=constants.BSON_DATA_OID,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12}function serializeBuffer(e,t,n,r,o){e[r++]=constants.BSON_DATA_BINARY,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=n.length;return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,i),r+i}function serializeObject(e,t,n,r,o,i,a,s,c,u){for(var l=0;l<u.length;l++)if(u[l]===n)throw new Error("cyclic dependency detected");u.push(n),e[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=c?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var f=serializeInto(e,n,o,r,i+1,a,s,u);return u.pop(),f}function serializeDecimal128(e,t,n,r,o){return e[r++]=constants.BSON_DATA_DECIMAL128,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16}function serializeLong(e,t,n,r,o){e[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=n.getLowBits(),a=n.getHighBits();return e[r++]=255&i,e[r++]=i>>8&255,e[r++]=i>>16&255,e[r++]=i>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r}function serializeInt32(e,t,n,r,o){return e[r++]=constants.BSON_DATA_INT,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r}function serializeDouble(e,t,n,r,o){return e[r++]=constants.BSON_DATA_NUMBER,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,writeIEEE754$1(e,n.value,r,"little",52,8),r+8}function serializeFunction(e,t,n,r,o,i,a){e[r++]=constants.BSON_DATA_CODE,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s=normalizedFunctionString$1(n),c=e.write(s,r+4,"utf8")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r}function serializeCode(e,t,n,r,o,i,a,s,c){if(n.scope&&"object"===_typeof$3(n.scope)){e[r++]=constants.BSON_DATA_CODE_W_SCOPE,r+=c?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var u=r,l="string"==typeof n.code?n.code:n.code.toString();r+=4;var f=e.write(l,r+4,"utf8")+1;e[r]=255&f,e[r+1]=f>>8&255,e[r+2]=f>>16&255,e[r+3]=f>>24&255,e[r+4+f-1]=0,r=r+f+4;var d=serializeInto(e,n.scope,o,r,i+1,a,s);r=d-1;var p=d-u;e[u++]=255&p,e[u++]=p>>8&255,e[u++]=p>>16&255,e[u++]=p>>24&255,e[r++]=0}else{e[r++]=constants.BSON_DATA_CODE,r+=c?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var h=n.code.toString(),g=e.write(h,r+4,"utf8")+1;e[r]=255&g,e[r+1]=g>>8&255,e[r+2]=g>>16&255,e[r+3]=g>>24&255,r=r+4+g-1,e[r++]=0}return r}function serializeBinary(e,t,n,r,o){e[r++]=constants.BSON_DATA_BINARY,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=n.value(!0),a=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),i.copy(e,r,0,n.position),r+n.position}function serializeSymbol(e,t,n,r,o){e[r++]=constants.BSON_DATA_SYMBOL,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var i=e.write(n.value,r+4,"utf8")+1;return e[r]=255&i,e[r+1]=i>>8&255,e[r+2]=i>>16&255,e[r+3]=i>>24&255,r=r+4+i-1,e[r++]=0,r}function serializeDBRef(e,t,n,r,o,i,a){e[r++]=constants.BSON_DATA_OBJECT,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s,c=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var l=(s=serializeInto(e,u=_extends(u,n.fields),!1,r,o+1,i))-c;return e[c++]=255&l,e[c++]=l>>8&255,e[c++]=l>>16&255,e[c++]=l>>24&255,s}function serializeInto(e,t,n,r,o,i,a,s){r=r||0,(s=s||[]).push(t);var c=r+4;if(Array.isArray(t))for(var u=0;u<t.length;u++){var l=""+u,f=t[u];if(f&&f.toBSON){if("function"!=typeof f.toBSON)throw new TypeError("toBSON is not a function");f=f.toBSON()}var d=_typeof$3(f);if("string"===d)c=serializeString(e,l,f,c,!0);else if("number"===d)c=serializeNumber(e,l,f,c,!0);else if("boolean"===d)c=serializeBoolean(e,l,f,c,!0);else if(f instanceof Date||isDate$1(f))c=serializeDate(e,l,f,c,!0);else if(void 0===f)c=serializeNull(e,l,f,c,!0);else if(null===f)c=serializeNull(e,l,f,c,!0);else if("ObjectId"===f._bsontype||"ObjectID"===f._bsontype)c=serializeObjectId(e,l,f,c,!0);else if(Buffer$5.isBuffer(f))c=serializeBuffer(e,l,f,c,!0);else if(f instanceof RegExp||isRegExp$1(f))c=serializeRegExp(e,l,f,c,!0);else if("object"===d&&null==f._bsontype)c=serializeObject(e,l,f,c,n,o,i,a,!0,s);else if("object"===d&&"Decimal128"===f._bsontype)c=serializeDecimal128(e,l,f,c,!0);else if("Long"===f._bsontype||"Timestamp"===f._bsontype)c=serializeLong(e,l,f,c,!0);else if("Double"===f._bsontype)c=serializeDouble(e,l,f,c,!0);else if("function"==typeof f&&i)c=serializeFunction(e,l,f,c,n,o,i,!0);else if("Code"===f._bsontype)c=serializeCode(e,l,f,c,n,o,i,a,!0);else if("Binary"===f._bsontype)c=serializeBinary(e,l,f,c,!0);else if("Symbol"===f._bsontype)c=serializeSymbol(e,l,f,c,!0);else if("DBRef"===f._bsontype)c=serializeDBRef(e,l,f,c,o,i,!0);else if("BSONRegExp"===f._bsontype)c=serializeBSONRegExp(e,l,f,c,!0);else if("Int32"===f._bsontype)c=serializeInt32(e,l,f,c,!0);else if("MinKey"===f._bsontype||"MaxKey"===f._bsontype)c=serializeMinMax(e,l,f,c,!0);else if(void 0!==f._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+f._bsontype)}else if(t instanceof map)for(var p=t.entries(),h=!1;!h;){var g=p.next();if(!(h=g.done)){var v=g.value[0],_=g.value[1],y=_typeof$3(_);if("string"==typeof v&&!ignoreKeys.has(v)){if(null!=v.match(regexp$1))throw Error("key "+v+" must not contain null bytes");if(n){if("$"===v[0])throw Error("key "+v+" must not start with '$'");if(~v.indexOf("."))throw Error("key "+v+" must not contain '.'")}}if("string"===y)c=serializeString(e,v,_,c);else if("number"===y)c=serializeNumber(e,v,_,c);else if("boolean"===y)c=serializeBoolean(e,v,_,c);else if(_ instanceof Date||isDate$1(_))c=serializeDate(e,v,_,c);else if(null===_||void 0===_&&!1===a)c=serializeNull(e,v,_,c);else if("ObjectId"===_._bsontype||"ObjectID"===_._bsontype)c=serializeObjectId(e,v,_,c);else if(Buffer$5.isBuffer(_))c=serializeBuffer(e,v,_,c);else if(_ instanceof RegExp||isRegExp$1(_))c=serializeRegExp(e,v,_,c);else if("object"===y&&null==_._bsontype)c=serializeObject(e,v,_,c,n,o,i,a,!1,s);else if("object"===y&&"Decimal128"===_._bsontype)c=serializeDecimal128(e,v,_,c);else if("Long"===_._bsontype||"Timestamp"===_._bsontype)c=serializeLong(e,v,_,c);else if("Double"===_._bsontype)c=serializeDouble(e,v,_,c);else if("Code"===_._bsontype)c=serializeCode(e,v,_,c,n,o,i,a);else if("function"==typeof _&&i)c=serializeFunction(e,v,_,c,n,o,i);else if("Binary"===_._bsontype)c=serializeBinary(e,v,_,c);else if("Symbol"===_._bsontype)c=serializeSymbol(e,v,_,c);else if("DBRef"===_._bsontype)c=serializeDBRef(e,v,_,c,o,i);else if("BSONRegExp"===_._bsontype)c=serializeBSONRegExp(e,v,_,c);else if("Int32"===_._bsontype)c=serializeInt32(e,v,_,c);else if("MinKey"===_._bsontype||"MaxKey"===_._bsontype)c=serializeMinMax(e,v,_,c);else if(void 0!==_._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+_._bsontype)}}else{if(t.toBSON){if("function"!=typeof t.toBSON)throw new TypeError("toBSON is not a function");if(null!=(t=t.toBSON())&&"object"!==_typeof$3(t))throw new TypeError("toBSON function did not return an object")}for(var b in t){var m=t[b];if(m&&m.toBSON){if("function"!=typeof m.toBSON)throw new TypeError("toBSON is not a function");m=m.toBSON()}var w=_typeof$3(m);if("string"==typeof b&&!ignoreKeys.has(b)){if(null!=b.match(regexp$1))throw Error("key "+b+" must not contain null bytes");if(n){if("$"===b[0])throw Error("key "+b+" must not start with '$'");if(~b.indexOf("."))throw Error("key "+b+" must not contain '.'")}}if("string"===w)c=serializeString(e,b,m,c);else if("number"===w)c=serializeNumber(e,b,m,c);else if("boolean"===w)c=serializeBoolean(e,b,m,c);else if(m instanceof Date||isDate$1(m))c=serializeDate(e,b,m,c);else if(void 0===m)!1===a&&(c=serializeNull(e,b,m,c));else if(null===m)c=serializeNull(e,b,m,c);else if("ObjectId"===m._bsontype||"ObjectID"===m._bsontype)c=serializeObjectId(e,b,m,c);else if(Buffer$5.isBuffer(m))c=serializeBuffer(e,b,m,c);else if(m instanceof RegExp||isRegExp$1(m))c=serializeRegExp(e,b,m,c);else if("object"===w&&null==m._bsontype)c=serializeObject(e,b,m,c,n,o,i,a,!1,s);else if("object"===w&&"Decimal128"===m._bsontype)c=serializeDecimal128(e,b,m,c);else if("Long"===m._bsontype||"Timestamp"===m._bsontype)c=serializeLong(e,b,m,c);else if("Double"===m._bsontype)c=serializeDouble(e,b,m,c);else if("Code"===m._bsontype)c=serializeCode(e,b,m,c,n,o,i,a);else if("function"==typeof m&&i)c=serializeFunction(e,b,m,c,n,o,i);else if("Binary"===m._bsontype)c=serializeBinary(e,b,m,c);else if("Symbol"===m._bsontype)c=serializeSymbol(e,b,m,c);else if("DBRef"===m._bsontype)c=serializeDBRef(e,b,m,c,o,i);else if("BSONRegExp"===m._bsontype)c=serializeBSONRegExp(e,b,m,c);else if("Int32"===m._bsontype)c=serializeInt32(e,b,m,c);else if("MinKey"===m._bsontype||"MaxKey"===m._bsontype)c=serializeMinMax(e,b,m,c);else if(void 0!==m._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+m._bsontype)}}s.pop(),e[c++]=0;var S=c-r;return e[r++]=255&S,e[r++]=S>>8&255,e[r++]=S>>16&255,e[r++]=S>>24&255,c}var serializer=serializeInto;function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return _typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof2(e)})(e)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(e){return"object"===_typeof$4(e)&&"[object Date]"===Object.prototype.toString.call(e)}function calculateObjectSize(e,t,n){var r=5;if(Array.isArray(e))for(var o=0;o<e.length;o++)r+=calculateElement(o.toString(),e[o],t,!0,n);else for(var i in e.toBSON&&(e=e.toBSON()),e)r+=calculateElement(i,e[i],t,!1,n);return r}function calculateElement(e,t,n,r,o){switch(t&&t.toBSON&&(t=t.toBSON()),_typeof$4(t)){case"string":return 1+Buffer$6.byteLength(e,"utf8")+1+4+Buffer$6.byteLength(t,"utf8")+1;case"number":return Math.floor(t)===t&&t>=constants.JS_INT_MIN&&t<=constants.JS_INT_MAX&&t>=constants.BSON_INT32_MIN&&t<=constants.BSON_INT32_MAX?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+5:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;case"undefined":return r||!o?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+2;case"object":if(null==t||"MinKey"===t._bsontype||"MaxKey"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1;if("ObjectId"===t._bsontype||"ObjectID"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+13;if(t instanceof Date||isDate$2(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+6+t.length;if("Long"===t._bsontype||"Double"===t._bsontype||"Timestamp"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+9;if("Decimal128"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+17;if("Code"===t._bsontype)return null!=t.scope&&Object.keys(t.scope).length>0?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1+calculateObjectSize(t.scope,n,o):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(t.code.toString(),"utf8")+1;if("Binary"===t._bsontype)return t.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1+4):(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+(t.position+1+4+1);if("Symbol"===t._bsontype)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+Buffer$6.byteLength(t.value,"utf8")+4+1+1;if("DBRef"===t._bsontype){var i=_extends({$ref:t.collection,$id:t.oid},t.fields);return null!=t.db&&(i.$db=t.db),(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+calculateObjectSize(i,n,o)}return t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1:"BSONRegExp"===t._bsontype?(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.pattern,"utf8")+1+Buffer$6.byteLength(t.options,"utf8")+1:(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+calculateObjectSize(t,n,o)+1;case"function":if(t instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(t)||"[object RegExp]"===String.call(t))return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+Buffer$6.byteLength(t.source,"utf8")+1+(t.global?1:0)+(t.ignoreCase?1:0)+(t.multiline?1:0)+1;if(n&&null!=t.scope&&Object.keys(t.scope).length>0)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1+calculateObjectSize(t.scope,n,o);if(n)return(null!=e?Buffer$6.byteLength(e,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(t),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(e){if(e instanceof Buffer$7)return e;if(e instanceof Uint8Array)return Buffer$7.from(e.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(e){buffer$1.length<e&&(buffer$1=Buffer$8.alloc(e))}function serialize$1(e,t){var n="boolean"==typeof(t=t||{}).checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,o="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,i="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:MAXSIZE;buffer$1.length<i&&(buffer$1=Buffer$8.alloc(i));var a=serializer(buffer$1,e,n,0,0,r,o,[]),s=Buffer$8.alloc(a);return buffer$1.copy(s,0,0,s.length),s}function serializeWithBufferAndIndex(e,t,n){var r="boolean"==typeof(n=n||{}).checkKeys&&n.checkKeys,o="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,i="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,a="number"==typeof n.index?n.index:0,s=serializer(buffer$1,e,r,0,0,o,i);return buffer$1.copy(t,a,0,s),a+s-1}function deserialize$2(e,t){return e=ensure_buffer(e),deserializer(e,t)}function calculateObjectSize$1(e,t){var n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return calculate_size(e,n,r)}function deserializeStream(e,t,n,r,o,i){i=_extends({allowObjectSmallerThanBufferSize:!0},i),e=ensure_buffer(e);for(var a=t,s=0;s<n;s++){var c=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;i.index=a,r[o+s]=deserializer(e,i),a+=c}return a}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex:serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream:deserializeStream,setInternalBufferSize:setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON,_unused_webpack_default_export=bson}).call(this,__webpack_require__(3),__webpack_require__(1).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(21),o=n(22),i=n(23);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(null===e&&(e=new c(t)),e.length=t),e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return u(this,e,t,n)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),c.TYPED_ARRAY_SUPPORT?(e=t).__proto__=c.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!c.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|h(t,n),o=(e=s(e,r)).write(t,n);return o!==r&&(e=e.slice(0,o)),e}(e,t,n):function(e,t){if(c.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&i(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,o){var i,a=1,s=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var l=-1;for(i=n;i<s;i++)if(u(e,i)===u(t,-1===l?0:i-l)){if(-1===l&&(l=i),i-l+1===c)return l*a}else-1!==l&&(i-=i-l),l=-1}else for(n+c>s&&(n=s-c),i=n;i>=0;i--){for(var f=!0,d=0;d<c;d++)if(u(e,i+d)!==u(t,d)){f=!1;break}if(f)return i}return-1}function y(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return q(U(t,e.length-n),e,n,r)}function m(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return m(e,t,n,r)}function S(e,t,n,r){return q(W(t),e,n,r)}function C(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&(c=(31&u)<<6|63&i)>127&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(l=c)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=O));return n}(r)}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},c.allocUnsafe=function(e){return f(null,e)},c.allocUnsafeSlow=function(e){return f(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=c.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?I(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),f=0;f<s;++f)if(u[f]!==l[f]){i=u[f],a=l[f];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return m(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function x(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function P(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function j(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function M(e,t,n,r,i){return i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function B(e,t,n,r,i){return i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;n=new c(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||P(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||D(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);D(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):N(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):N(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return M(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return M(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return B(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return B(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=c.isBuffer(e)?e:U(new c(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(3))},function(e,t){e.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function o(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=o;var i={},a={};function s(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function c(e,t){if(isNaN(e))return t?y:_;if(t){if(e<0)return y;if(e>=h)return C}else{if(e<=-g)return E;if(e+1>=g)return S}return e<0?c(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,n){return new r(e,t,n)}r.fromInt=s,r.fromNumber=c,r.fromBits=u;var l=Math.pow;function f(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return f(e.substring(1),t,n).neg();for(var o=c(l(n,8)),i=_,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);if(s<8){var d=c(l(n,s));i=i.mul(d).add(c(u))}else i=(i=i.mul(o)).add(c(u))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?f(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=f,r.fromValue=d;var p=4294967296,h=p*p,g=h/2,v=s(1<<24),_=s(0);r.ZERO=_;var y=s(0,!0);r.UZERO=y;var b=s(1);r.ONE=b;var m=s(1,!0);r.UONE=m;var w=s(-1);r.NEG_ONE=w;var S=u(-1,2147483647,!1);r.MAX_VALUE=S;var C=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=C;var E=u(0,-2147483648,!1);r.MIN_VALUE=E;var I=r.prototype;I.toInt=function(){return this.unsigned?this.low>>>0:this.low},I.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},I.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var t=c(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=c(l(e,6),this.unsigned),i=this,a="";;){var s=i.div(o),u=(i.sub(s.mul(o)).toInt()>>>0).toString(e);if((i=s).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},I.getHighBits=function(){return this.high},I.getHighBitsUnsigned=function(){return this.high>>>0},I.getLowBits=function(){return this.low},I.getLowBitsUnsigned=function(){return this.low>>>0},I.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},I.isZero=function(){return 0===this.high&&0===this.low},I.eqz=I.isZero,I.isNegative=function(){return!this.unsigned&&this.high<0},I.isPositive=function(){return this.unsigned||this.high>=0},I.isOdd=function(){return 1==(1&this.low)},I.isEven=function(){return 0==(1&this.low)},I.equals=function(e){return o(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},I.eq=I.equals,I.notEquals=function(e){return!this.eq(e)},I.neq=I.notEquals,I.ne=I.notEquals,I.lessThan=function(e){return this.comp(e)<0},I.lt=I.lessThan,I.lessThanOrEqual=function(e){return this.comp(e)<=0},I.lte=I.lessThanOrEqual,I.le=I.lessThanOrEqual,I.greaterThan=function(e){return this.comp(e)>0},I.gt=I.greaterThan,I.greaterThanOrEqual=function(e){return this.comp(e)>=0},I.gte=I.greaterThanOrEqual,I.ge=I.greaterThanOrEqual,I.compare=function(e){if(o(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},I.comp=I.compare,I.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(b)},I.neg=I.negate,I.add=function(e){o(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,f=0,p=0,h=0;return p+=(h+=i+(65535&e.low))>>>16,f+=(p+=r+c)>>>16,l+=(f+=n+s)>>>16,l+=t+a,u((p&=65535)<<16|(h&=65535),(l&=65535)<<16|(f&=65535),this.unsigned)},I.subtract=function(e){return o(e)||(e=d(e)),this.add(e.neg())},I.sub=I.subtract,I.multiply=function(e){if(this.isZero())return _;if(o(e)||(e=d(e)),n)return u(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return _;if(this.eq(E))return e.isOdd()?E:_;if(e.eq(E))return this.isOdd()?E:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return c(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=a*p)>>>16,g+=(y+=i*p)>>>16,y&=65535,g+=(y+=a*f)>>>16,h+=(g+=r*p)>>>16,g&=65535,h+=(g+=i*f)>>>16,g&=65535,h+=(g+=a*l)>>>16,h+=t*p+r*f+i*l+a*s,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},I.mul=I.multiply,I.divide=function(e){if(o(e)||(e=d(e)),e.isZero())throw Error("division by zero");var t,r,i;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return m;i=y}else{if(this.eq(E))return e.eq(b)||e.eq(w)?E:e.eq(E)?b:(t=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?b:w:(r=this.sub(e.mul(t)),i=t.add(r.div(e)));if(e.eq(E))return this.unsigned?y:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=_}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),s=a<=48?1:l(2,a-48),f=c(t),p=f.mul(e);p.isNegative()||p.gt(r);)p=(f=c(t-=s,this.unsigned)).mul(e);f.isZero()&&(f=b),i=i.add(f),r=r.sub(p)}return i},I.div=I.divide,I.modulo=function(e){return o(e)||(e=d(e)),n?u((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},I.mod=I.modulo,I.rem=I.modulo,I.not=function(){return u(~this.low,~this.high,this.unsigned)},I.and=function(e){return o(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},I.or=function(e){return o(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},I.xor=function(e){return o(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},I.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},I.shl=I.shiftLeft,I.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},I.shr=I.shiftRight,I.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},I.shru=I.shiftRightUnsigned,I.shr_u=I.shiftRightUnsigned,I.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},I.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},I.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},I.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},I.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),a=n(5),s=n(18),c=n(8),u=o(n(19)).version,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t}var t;return(t=[{key:"request",value:function(e,t,n){return r(this,void 0,void 0,regeneratorRuntime.mark(function r(){var o,c,l,f,d,p,h,g;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o="application/x-www-form-urlencoded",r.next=3,s.getTicket(this.config.env);case 3:if(c=r.sent,l=_extends({action:e,loginType:"QQ-MINI",ticket:c,env:this.config.env,dataVersion:"2019-08-16"},t),"storage.uploadFile"===e){for(d in f=new FormData)f.hasOwnProperty(d)&&void 0!==f[d]&&f.append(d,l[d]);o="multipart/form-data"}else o="application/json;charset=UTF-8",f=l;return p={headers:{"content-type":o}},n&&n.onUploadProgress&&(p.onUploadProgress=n.onUploadProgress),h="".concat(i.BASE_URL,"?env=").concat(this.config.env),r.next=11,a.sendHttpRequest({url:h,data:l,header:{"content-type":o,"X-SDK-Version":"tcb-qq-sdk/".concat(u)},method:"post"});case 11:if(g=r.sent,200===Number(g.statusCode)&&g.data){r.next=14;break}throw new Error("network request error");case 14:return r.abrupt("return",g);case 15:case"end":return r.stop()}},r,this)}))}},{key:"send",value:function(e,t){return r(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.request(e,t,{onUploadProgress:t.onUploadProgress});case 2:if(!(r=n.sent).data.code){n.next=6;break}throw _extends({},c.wrapFail(r.data));case 6:return n.abrupt("return",c.wrapSuccess(r.data));case 7:case"end":return n.stop()}},n,this)}))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.Request=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o={};t.uploadFile=function(e){return qq.uploadFile(e)},t.setStorageSync=function(e,t){return r(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!qq||!qq.setStorageSync){n.next=3;break}return qq.setStorageSync(e,t),n.abrupt("return");case 3:o[e]=t;case 4:case"end":return n.stop()}},n)}))},t.removeStorageSync=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!qq||!qq.removeStorageSync){t.next=3;break}return qq.removeStorageSync(e),t.abrupt("return");case 3:delete o[e];case 4:case"end":return t.stop()}},t)}))},t.getStorageSync=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!qq||!qq.getStorageSync){t.next=3;break}return n=qq.getStorageSync(e),t.abrupt("return",n);case 3:return t.abrupt("return",o[e]);case 4:case"end":return t.stop()}},t)}))},t.getCloudTicket=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("[@cloudbase/qq-sdk] 请设置env");case 2:if(qq&&qq.getCloudTicket){t.next=4;break}throw new Error("[@cloudbase/qq-sdk] 请在QQ小程序中使用并升级到最新的基础库版本");case 4:if(e){t.next=6;break}throw new Error("[@cloudbase/qq-sdk] 未指定云环境，请先执行init方法或填入env字段");case 6:return t.next=8,new Promise(function(t,n){qq.getCloudTicket({envId:e,success:function(e){t(e)},fail:function(e){n(new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(e.errMsg&&e.errMsg.replace("getCloudTicket:fail ",""))))}})});case 8:if((n=t.sent)&&n.ticket){t.next=11;break}throw new Error("[@cloudbase/qq-sdk] 获取ticket失败 ".concat(n&&n.code||"获取失败"));case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}},t)}))},t.sendHttpRequest=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise(function(t,n){var r=_extends(e,{success:function(e){e&&e.code?n(e):t(e)},fail:function(e){n(e)}});qq.request(r)});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};t.initEnvData=function(e){_extends(r,e)},t.getEnv=function(e,t){return e&&e.env?e.env:r[t]||r.env}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCB_ERR_CODE={SUCCESS:0,SYS_ERR:-501001,SERVER_TIMEOUT:-501002,EXCEED_REQUEST_LIMIT:-501003,EXCEED_CONCURRENT_REQUEST_LIMIT:-501004,INVALIID_ENV:-501005,INVALID_COMMON_PARAM:-501006,INVALID_PARAM:-501007,INVALID_REQUEST_SOURCE:-501008,RESOURCE_NOT_INITIAL:-501009,DATABASE_REQUEST_FAILED:-502001,DATABASE_INVALID_OPERRATOR:-502002,DATABASE_PERMISSION_DENIED:-502003,DATABASE_COLLECTION_EXCEED_LIMIT:-502004,DATABASE_COLLECTION_NOT_EXIST:-502005,STORAGE_REQUEST_FAIL:-503001,STORAGE_EXCEED_AUTHORITY:-503002,STORAGE_FILE_NONEXIST:-503003,STORAGE_SIGN_PARAM_INVALID:-503004,FUNCTIONS_REQUEST_FAIL:-504001,FUNCTIONS_EXECUTE_FAIL:-504002},t.wrapFail=function(e){return e.code?{errCode:t.TCB_ERR_CODE[e.code]||t.TCB_ERR_CODE.SYS_ERR,errMsg:"fail ".concat(e.message),requestID:e.requestId}:e},t.wrapSuccess=function(e){return e.code&&"SUCCESSS"!==e.code.toUpperCase()||(e.status=0,e.errMsg="ok"),e.requestID=e.requestId,e}},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var r,o="Expected a function",i="__lodash_hash_undefined__",a=1/0,s=9007199254740991,c="[object Function]",u="[object GeneratorFunction]",l="[object Symbol]",f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,p=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,_=/^(?:0|[1-9]\d*)$/,y="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,b="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,m=y||b||Function("return this")(),w=Array.prototype,S=Function.prototype,C=Object.prototype,E=m["__core-js_shared__"],I=(r=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",O=S.toString,T=C.hasOwnProperty,k=C.toString,A=RegExp("^"+O.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=m.Symbol,P=w.splice,D=V(m,"Map"),N=V(Object,"create"),j=x?x.prototype:void 0,R=j?j.toString:void 0;function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function F(e,t,n){var r=e[t];T.call(e,t)&&K(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function U(e,t){for(var n=e.length;n--;)if(K(e[n][0],t))return n;return-1}function W(e,t,r,o){if(!J(e))return e;for(var i=-1,a=(t=function(e,t){if(Y(e))return!1;var r=n(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!Q(e))||d.test(e)||!f.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:function(e){return Y(e)?e:G(e)}(t)).length,s=a-1,c=e;null!=c&&++i<a;){var u=H(t[i]),l=r;if(i!=s){var p=c[u];void 0===(l=o?o(p,u,c):void 0)&&(l=J(p)?p:$(t[i+1])?[]:{})}F(c,u,l),c=c[u]}return e}function q(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function V(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!J(e)||(t=e,I&&I in t))&&(function(e){var t=J(e)?k.call(e):"";return t==c||t==u}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?A:v).test(function(e){if(null!=e){try{return O.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function $(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<t}M.prototype.clear=function(){this.__data__=N?N(null):{}},M.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},M.prototype.get=function(e){var t=this.__data__;if(N){var n=t[e];return n===i?void 0:n}return T.call(t,e)?t[e]:void 0},M.prototype.has=function(e){var t=this.__data__;return N?void 0!==t[e]:T.call(t,e)},M.prototype.set=function(e,t){return this.__data__[e]=N&&void 0===t?i:t,this},B.prototype.clear=function(){this.__data__=[]},B.prototype.delete=function(e){var t=this.__data__,n=U(t,e);return!(n<0||(n==t.length-1?t.pop():P.call(t,n,1),0))},B.prototype.get=function(e){var t=this.__data__,n=U(t,e);return n<0?void 0:t[n][1]},B.prototype.has=function(e){return U(this.__data__,e)>-1},B.prototype.set=function(e,t){var n=this.__data__,r=U(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},L.prototype.clear=function(){this.__data__={hash:new M,map:new(D||B),string:new M}},L.prototype.delete=function(e){return q(this,e).delete(e)},L.prototype.get=function(e){return q(this,e).get(e)},L.prototype.has=function(e){return q(this,e).has(e)},L.prototype.set=function(e,t){return q(this,e).set(e,t),this};var G=z(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Q(e))return R?R.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return p.test(e)&&n.push(""),e.replace(h,function(e,t,r,o){n.push(r?o.replace(g,"$1"):t||e)}),n});function H(e){if("string"==typeof e||Q(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function z(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(z.Cache||L),n}function K(e,t){return e===t||e!=e&&t!=t}z.Cache=L;var Y=Array.isArray;function J(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function Q(e){return"symbol"==n(e)||function(e){return!!e&&"object"==n(e)}(e)&&k.call(e)==l}e.exports=function(e,t,n){return null==e?e:W(e,t,n)}}).call(this,n(3))},function(e,t,n){(function(t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var r,o="Expected a function",i="__lodash_hash_undefined__",a=1/0,s="[object Function]",c="[object GeneratorFunction]",u="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,d=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,v="object"==(void 0===t?"undefined":n(t))&&t&&t.Object===Object&&t,_="object"==("undefined"==typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,y=v||_||Function("return this")(),b=Array.prototype,m=Function.prototype,w=Object.prototype,S=y["__core-js_shared__"],C=(r=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",E=m.toString,I=w.hasOwnProperty,O=w.toString,T=RegExp("^"+E.call(I).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=y.Symbol,A=b.splice,x=U(y,"Map"),P=U(Object,"create"),D=k?k.prototype:void 0,N=D?D.toString:void 0;function j(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!=n&&r!=r)return o;return-1}function L(e){return G(e)?e:q(e)}function F(e,t){var r,o,i=e.__data__;return("string"==(o=n(r=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function U(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!H(e)||(t=e,C&&C in t))&&(function(e){var t=H(e)?O.call(e):"";return t==s||t==c}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?T:g).test(function(e){if(null!=e){try{return E.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}(n)?n:void 0}function W(e,t){if(G(e))return!1;var r=n(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!z(e))||f.test(e)||!l.test(e)||null!=t&&e in Object(t)}j.prototype.clear=function(){this.__data__=P?P(null):{}},j.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},j.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return n===i?void 0:n}return I.call(t,e)?t[e]:void 0},j.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:I.call(t,e)},j.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?i:t,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(e){var t=this.__data__,n=B(t,e);return!(n<0||(n==t.length-1?t.pop():A.call(t,n,1),0))},R.prototype.get=function(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]},R.prototype.has=function(e){return B(this.__data__,e)>-1},R.prototype.set=function(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},M.prototype.clear=function(){this.__data__={hash:new j,map:new(x||R),string:new j}},M.prototype.delete=function(e){return F(this,e).delete(e)},M.prototype.get=function(e){return F(this,e).get(e)},M.prototype.has=function(e){return F(this,e).has(e)},M.prototype.set=function(e,t){return F(this,e).set(e,t),this};var q=$(function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(z(e))return N?N.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return d.test(e)&&n.push(""),e.replace(p,function(e,t,r,o){n.push(r?o.replace(h,"$1"):t||e)}),n});function V(e){if("string"==typeof e||z(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function $(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function n(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new($.Cache||M),n}$.Cache=M;var G=Array.isArray;function H(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function z(e){return"symbol"==n(e)||function(e){return!!e&&"object"==n(e)}(e)&&O.call(e)==u}e.exports=function(e,t){return null==e||function(e,t){e=function(e,t){return 1==t.length?e:function(e,t){for(var n=0,r=(t=W(t,e)?[t]:L(t)).length;null!=e&&n<r;)e=e[V(t[n++])];return n&&n==r?e:void 0}(e,function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(t,0,-1))}(e,t=W(t,e)?[t]:L(t));var n,r,o=V((r=(n=t)?n.length:0)?n[r-1]:void 0);return!(null!=e&&I.call(e,o))||delete e[o]}(e,t)}}).call(this,n(3))},function(e,t,n){(function(e,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",s="[object Boolean]",c="[object Date]",u="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",p="[object Object]",h="[object RegExp]",g="[object Set]",v="[object String]",_="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",m="[object Float32Array]",w="[object Float64Array]",S="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",T="[object Uint16Array]",k="[object Uint32Array]",A=/\w*$/,x=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,D={};D[a]=D["[object Array]"]=D[y]=D[b]=D[s]=D[c]=D[m]=D[w]=D[S]=D[C]=D[E]=D[f]=D[d]=D[p]=D[h]=D[g]=D[v]=D[_]=D[I]=D[O]=D[T]=D[k]=!0,D["[object Error]"]=D[u]=D["[object WeakMap]"]=!1;var N="object"==(void 0===e?"undefined":r(e))&&e&&e.Object===Object&&e,j="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,R=N||j||Function("return this")(),M="object"==r(t)&&t&&!t.nodeType&&t,B=M&&"object"==r(n)&&n&&!n.nodeType&&n,L=B&&B.exports===M;function F(e,t){return e.set(t[0],t[1]),e}function U(e,t){return e.add(t),e}function W(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function q(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function V(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function $(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var H,z=Array.prototype,K=Function.prototype,Y=Object.prototype,J=R["__core-js_shared__"],Q=(H=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",X=K.toString,Z=Y.hasOwnProperty,ee=Y.toString,te=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=L?R.Buffer:void 0,re=R.Symbol,oe=R.Uint8Array,ie=$(Object.getPrototypeOf,Object),ae=Object.create,se=Y.propertyIsEnumerable,ce=z.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=$(Object.keys,Object),de=Re(R,"DataView"),pe=Re(R,"Map"),he=Re(R,"Promise"),ge=Re(R,"Set"),ve=Re(R,"WeakMap"),_e=Re(Object,"create"),ye=Ue(de),be=Ue(pe),me=Ue(he),we=Ue(ge),Se=Ue(ve),Ce=re?re.prototype:void 0,Ee=Ce?Ce.valueOf:void 0;function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Te(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){this.__data__=new Oe(e)}function Ae(e,t,n){var r=e[t];Z.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function xe(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1}function Pe(e,t,n,r,o,i,x){var P;if(r&&(P=i?r(e,o,i,x):r(e)),void 0!==P)return P;if(!He(e))return e;var N=qe(e);if(N){if(P=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Z.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,P)}else{var j=Be(e),R=j==u||j==l;if($e(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(j==p||j==a||R&&!i){if(q(e))return i?e:{};if(P=function(e){return"function"!=typeof e.constructor||Fe(e)?{}:He(t=ie(e))?ae(t):{};var t}(R?{}:e),!t)return function(e,t){return Ne(e,Me(e),t)}(e,function(e,t){return e&&Ne(t,ze(t),e)}(P,e))}else{if(!D[j])return i?e:{};P=function(e,t,n,r){var o,i,a,u=e.constructor;switch(t){case y:return De(e);case s:case c:return new u(+e);case b:return function(e,t){var n=r?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e);case m:case w:case S:case C:case E:case I:case O:case T:case k:return function(e,t){var n=r?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e);case f:return function(e,t,n){return W(r?n(V(e),!0):V(e),F,new e.constructor)}(e,0,n);case d:case v:return new u(e);case h:return(a=new(i=e).constructor(i.source,A.exec(i))).lastIndex=i.lastIndex,a;case g:return function(e,t,n){return W(r?n(G(e),!0):G(e),U,new e.constructor)}(e,0,n);case _:return o=e,Ee?Object(Ee.call(o)):{}}}(e,j,Pe,t)}}x||(x=new ke);var M=x.get(e);if(M)return M;if(x.set(e,P),!N)var B=n?function(e){return function(e,t,n){var r=ze(e);return qe(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,0,Me)}(e):ze(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(B||e,function(o,i){B&&(o=e[i=o]),Ae(P,i,Pe(o,t,n,r,i,e,x))}),P}function De(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Ne(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;Ae(n,a,void 0===s?e[a]:s)}return n}function je(e,t){var n,o,i=e.__data__;return("string"==(o=r(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Re(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!He(e)||(t=e,Q&&Q in t))&&(Ge(e)||q(e)?te:x).test(Ue(e));var t}(n)?n:void 0}Ie.prototype.clear=function(){this.__data__=_e?_e(null):{}},Ie.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ie.prototype.get=function(e){var t=this.__data__;if(_e){var n=t[e];return n===o?void 0:n}return Z.call(t,e)?t[e]:void 0},Ie.prototype.has=function(e){var t=this.__data__;return _e?void 0!==t[e]:Z.call(t,e)},Ie.prototype.set=function(e,t){return this.__data__[e]=_e&&void 0===t?o:t,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0||(n==t.length-1?t.pop():ce.call(t,n,1),0))},Oe.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},Oe.prototype.has=function(e){return xe(this.__data__,e)>-1},Oe.prototype.set=function(e,t){var n=this.__data__,r=xe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ie,map:new(pe||Oe),string:new Ie}},Te.prototype.delete=function(e){return je(this,e).delete(e)},Te.prototype.get=function(e){return je(this,e).get(e)},Te.prototype.has=function(e){return je(this,e).has(e)},Te.prototype.set=function(e,t){return je(this,e).set(e,t),this},ke.prototype.clear=function(){this.__data__=new Oe},ke.prototype.delete=function(e){return this.__data__.delete(e)},ke.prototype.get=function(e){return this.__data__.get(e)},ke.prototype.has=function(e){return this.__data__.has(e)},ke.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Oe){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Te(r)}return n.set(e,t),this};var Me=ue?$(ue,Object):function(){return[]},Be=function(e){return ee.call(e)};function Le(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Y)}function Ue(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function We(e,t){return e===t||e!=e&&t!=t}(de&&Be(new de(new ArrayBuffer(1)))!=b||pe&&Be(new pe)!=f||he&&"[object Promise]"!=Be(he.resolve())||ge&&Be(new ge)!=g||ve&&"[object WeakMap]"!=Be(new ve))&&(Be=function(e){var t=ee.call(e),n=t==p?e.constructor:void 0,r=n?Ue(n):void 0;if(r)switch(r){case ye:return b;case be:return f;case me:return"[object Promise]";case we:return g;case Se:return"[object WeakMap]"}return t});var qe=Array.isArray;function Ve(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!Ge(e)}var $e=le||function(){return!1};function Ge(e){var t=He(e)?ee.call(e):"";return t==u||t==l}function He(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function ze(e){return Ve(e)?function(e,t){var n=qe(e)||function(e){return function(e){return function(e){return!!e&&"object"==r(e)}(e)&&Ve(e)}(e)&&Z.call(e,"callee")&&(!se.call(e,"callee")||ee.call(e)==a)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],o=n.length,i=!!o;for(var s in e)!Z.call(e,s)||i&&("length"==s||Le(s,o))||n.push(s);return n}(e):function(e){if(!Fe(e))return fe(e);var t=[];for(var n in Object(e))Z.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}n.exports=function(e){return Pe(e,!0,!0)}}).call(this,n(3),n(7)(e))},function(e,t,n){n(13),e.exports=n(14)},function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var n=function(e){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(e,t,n){var r=f;return function(o,i){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw i;return x()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function v(){}function _(){}function y(){}var b={};b[a]=function(){return this};var m=Object.getPrototypeOf,w=m&&m(m(A([])));w&&w!==r&&o.call(w,a)&&(b=w);var S=y.prototype=v.prototype=Object.create(b);function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function E(e){var n;this._invoke=function(r,i){function a(){return new Promise(function(n,a){!function n(r,i,a,s){var c=l(e[r],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===t(f)&&o.call(f,"__await")?Promise.resolve(f.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):Promise.resolve(f).then(function(e){u.value=e,a(u)},function(e){return n("throw",e,a,s)})}s(c.arg)}(r,i,n,a)})}return n=n?n.then(a,a):a()}}function I(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,I(e,t),"throw"===t.method))return g;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:n,done:!0}}return _.prototype=S.constructor=y,y.constructor=_,y[c]=_.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},C(E.prototype),E.prototype[s]=function(){return this},e.AsyncIterator=E,e.async=function(t,n,r,o){var i=new E(u(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(S),S[c]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return s.type="throw",s.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),u=o.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:A(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(7)(e))},function(e,t,n){"use strict";var r=(this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t})(n(15));r.invokeExtension.bind(r),e.exports=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(16)),a=o(n(20)),s=n(4),c=n(27),u=n(24),l=n(6),f=n(25),d=o(n(26));t.requestClient=d;var p=!1;function h(e){return e&&void 0!==e.updated?{stats:e}:e}t.init=function(e){p||(l.initEnvData(e),p=!0)},t.callFunction=u.wrap(a.callFunction),t.getTempFileURL=u.wrap(i.getTempFileURL),t.deleteFile=u.wrap(i.deleteFile),t.getUploadMetadata=u.wrap(i.getUploadMetadata),t.uploadFile=i.uploadFile,t.downloadFile=i.downloadFile;var g={};t.registerExtension=function(e){g[e.name]=e},t.invokeExtension=function(e,t){return r(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=g[e]){n.next=3;break}throw Error("扩展".concat(e," 必须先注册"));case 3:return n.next=5,r.invoke(t,this);case 5:return o=n.sent,n.abrupt("return",o);case 7:case"end":return n.stop()}},n,this)}))},c.Query.prototype.get=u.wrapWithoutArgu(c.Query.prototype.get),c.Query.prototype.count=u.wrapWithoutArgu(c.Query.prototype.count),c.Query.prototype.update=u.wrapWithOnlyData(c.Query.prototype.update,h),c.CollectionReference.prototype.add=u.wrapWithOnlyData(c.CollectionReference.prototype.add,function(e){return e&&e.id&&(e._id=e.id,delete e.id),e}),c.CollectionReference.prototype.update=u.wrapWithOnlyData(c.CollectionReference.prototype.update,h),c.DocumentReference.prototype.get=u.wrapWithOnlyData(c.DocumentReference.prototype.get,function(e){return e&&void 0!==e.data?_extends(_extends({},e),{data:e.data[0]}):e}),c.DocumentReference.prototype.update=u.wrapWithOnlyData(c.DocumentReference.prototype.update,h),c.DocumentReference.prototype.set=u.wrapWithOnlyData(c.DocumentReference.prototype.set),c.DocumentReference.prototype.remove=u.wrapWithoutArgu(c.DocumentReference.prototype.remove),t.database=function(e){var t=l.getEnv(e,"database");return c.Db.reqClass=s.Request,c.Db.wsClass=f.QQWebSocket,c.Db.runtime="QQ-MINI",new c.Db({env:t})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(5),s=n(6),c=n(8),u="storage",l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onProgressUpdateArr=[],this.offProgressUpdateArr=[],this.onHeadersReceivedArr=[],this.offHeadersReceivedArr=[]}var t;return(t=[{key:"abort",value:function(){this.aborted=!0}},{key:"onProgressUpdate",value:function(e){this.onProgressUpdateArr.push(e),this.initedCallback&&this.realTask.onProgressUpdate(e)}},{key:"offProgressUpdate",value:function(e){this.offProgressUpdateArr.push(e),this.initedCallback&&this.realTask.offProgressUpdate(e)}},{key:"onHeadersReceived",value:function(e){this.onHeadersReceivedArr.push(e),this.initedCallback&&this.realTask.onHeadersReceived(e)}},{key:"offHeadersReceived",value:function(e){this.offHeadersReceivedArr.push(e),this.initedCallback&&this.realTask.offHeadersReceived(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function f(e){var t=e.fileList,n=e.config;return o(this,void 0,void 0,regeneratorRuntime.mark(function e(){var o,a,l,f,d,p,h,g,v,_,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Array.isArray(t)){e.next=2;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 2:o=[],a=!0,l=!1,f=void 0,e.prev=6,d=t[Symbol.iterator]();case 8:if(a=(p=d.next()).done){e.next=24;break}if("object"!==r(h=p.value)){e.next=16;break}if(h.hasOwnProperty("fileID")&&h.hasOwnProperty("maxAge")){e.next=13;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"});case 13:o.push({fileid:h.fileID,max_age:h.maxAge}),e.next=21;break;case 16:if("string"!=typeof h){e.next=20;break}o.push({fileid:h}),e.next=21;break;case 20:return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});case 21:a=!0,e.next=8;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(6),l=!0,f=e.t0;case 30:e.prev=30,e.prev=31,a||null==d.return||d.return();case 33:if(e.prev=33,!l){e.next=36;break}throw f;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return g={file_list:o},v={env:s.getEnv(n,u)},_=new i.Request(v),e.next=44,_.send("storage.batchGetDownloadUrl",g);case 44:if(!(y=e.sent).code){e.next=47;break}return e.abrupt("return",y);case 47:return Array.isArray(y.data.download_list)&&y.data.download_list.map(function(e){return{fileID:e.fileID,tempFileURL:e.tempFileURL,status:"SUCCESS"===e.code?0:c.TCB_ERR_CODE[e.code]||e.code,errMsg:"SUCCESS"===e.code?"getTempFileURL:ok":"getTempFileURL:fail ".concat(e.code)}}),e.abrupt("return",{fileList:y.data.download_list,requestId:y.requestId});case 49:case"end":return e.stop()}},e,null,[[6,26,30,38],[31,,33,37]])}))}t.uploadFile=function(e){var t,n=this,r=e.cloudPath,c=e.filePath,f=e.header,d=e.config,p=e.success,h=e.fail,g=e.complete,v=new l;v.preTask=function(){return o(n,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={env:s.getEnv(d,u)},n=new i.Request(t),e.next=5,n.send("storage.getUploadMetadata",{path:r});case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))};var _=v.preTask().then(function(e){if(!v.aborted){var n=e.data,o=n.url,i=n.authorization,s=n.token,u=n.fileId,l=n.cosFileId,d=e.requestId;t=d;var p=new Promise(function(e,t){v.realTask=a.uploadFile({url:o,filePath:c,name:"file",formData:{key:r,signature:i,"x-cos-meta-fileid":l,success_action_status:"201","x-cos-security-token":s},header:f,success:function(n){201===n.statusCode?e({requestId:d,fileID:u,statusCode:200,errMsg:"uploadFile:ok"}):t({errCode:"-503001",errMsg:"uploadFile:fail STORAGE_REQUEST_FAIL"})},fail:function(e){var n={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):""};t(n)}})});return v.aborted&&v.realTask.abort(),v.onProgressUpdateArr.map(function(e){return v.realTask.onProgressUpdate(e)}),v.offProgressUpdateArr.map(function(e){return v.realTask.offProgressUpdate(e)}),v.onHeadersReceivedArr.map(function(e){return v.realTask.onHeadersReceived(e)}),v.offHeadersReceivedArr.map(function(e){return v.realTask.offHeadersReceived(e)}),v.initedCallback=!0,p}}).then(function(e){if(!(p||h||g))return e;p&&p(e),g&&g()}).catch(function(e){if(e.requestID=t,!(p||h||g))throw e;h&&h(e),g&&g()});return p||h||g?v:_},t.deleteFile=function(e){var t=e.fileList,n=e.config;return o(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,o,a,l,f,d,p,h,g,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&Array.isArray(t)){e.next=2;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});case 2:r=!0,o=!1,a=void 0,e.prev=5,l=t[Symbol.iterator]();case 7:if(r=(f=l.next()).done){e.next=14;break}if((d=f.value)&&"string"==typeof d){e.next=11;break}return e.abrupt("return",{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});case 11:r=!0,e.next=7;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),o=!0,a=e.t0;case 20:e.prev=20,e.prev=21,r||null==l.return||l.return();case 23:if(e.prev=23,!o){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return p={fileid_list:t},h={env:s.getEnv(n,u)},g=new i.Request(h),e.next=34,g.send("storage.batchDeleteFile",p);case 34:if(!(v=e.sent).code){e.next=37;break}return e.abrupt("return",v);case 37:return Array.isArray(v.data.delete_list)&&v.data.delete_list.map(function(e){return c.TCB_ERR_CODE[e.code]?{fileID:e.fileID,status:c.TCB_ERR_CODE[e.code],errMsg:e.code}:e}),e.abrupt("return",{fileList:v.data.delete_list,requestId:v.requestId});case 39:case"end":return e.stop()}},e,null,[[5,16,20,28],[21,,23,27]])}))},t.getTempFileURL=f,t.getUploadMetadata=function(e){var t=e.cloudPath,n=e.config;return o(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={env:s.getEnv(n,u)},o=new i.Request(r),e.next=5,o.send("storage.getUploadMetadata",{path:t});case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))},t.downloadFile=function(e){var t,n=this,r=e.fileID,i=e.config,a=e.success,s=e.fail,c=e.complete,u=new l;u.preTask=function(){return o(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.call(this,{fileList:[{fileID:r,maxAge:600}],config:i});case 2:if(n=e.sent,"SUCCESS"===(o=n.fileList[0]).code){e.next=6;break}throw new Error(o.code);case 6:return a=o.download_url,t=n.requestId,e.abrupt("return",a);case 9:case"end":return e.stop()}},e,this)}))};var d=u.preTask().then(function(e){var t=new Promise(function(t,n){u.realTask=qq.downloadFile({url:e,success:function(e){200===e.statusCode&&t(e)},fail:function(e){var t={errCode:-503001,errMsg:e?"fail ".concat(JSON.stringify(e)):"fail"};n(t)}})});return u.aborted&&u.realTask.abort(),u.onProgressUpdateArr.map(function(e){return u.realTask.onProgressUpdate(e)}),u.offProgressUpdateArr.map(function(e){return u.realTask.offProgressUpdate(e)}),u.onHeadersReceivedArr.map(function(e){return u.realTask.onHeadersReceived(e)}),u.offHeadersReceivedArr.map(function(e){return u.realTask.offHeadersReceived(e)}),u.initedCallback=!0,t}).then(function(e){if(!(a||s||c))return e;a&&a(e),c&&c()}).catch(function(e){if(e.requestID=t,!(a||s||c))throw e;s&&s(e),c&&c()});return a||s||c?u:d}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QQ_TICKET="qq_ticket",t.BASE_URL="https://tcb-api.tencentcloudapi.com/web"},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(5));t.getTicket=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,r,o,a,s,c,u,l,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="qq_ticket_".concat(e),t.next=3,i.getStorageSync(n);case 3:if(!(r=t.sent)){t.next=10;break}if(o=parseInt(r.split(";")[1]),!(Date.now()<o)){t.next=8;break}return t.abrupt("return",r.split(";")[0]);case 8:return t.next=10,i.removeStorageSync(n);case 10:return t.next=12,i.getCloudTicket(e);case 12:return a=t.sent,s=a.ticket,c=a.createTime,u=void 0===c?Math.floor(Date.now()/1e3):c,l=a.period,f=1e3*(u+(void 0===l?7e3:l)),t.next=17,i.setStorageSync(n,"".concat(s,";").concat(f));case 17:return t.abrupt("return",s);case 18:case"end":return t.stop()}},t)}))}},function(e){e.exports=JSON.parse('{"name":"@cloudbase/qq-sdk","version":"1.0.2","description":"qq sdk for tcb","main":"miniprogram_dist/index.js","types":"./dist/index.d.ts","miniprogram":"miniprogram_dist","scripts":{"tsc":"tsc -p tsconfig.json","lint":"eslint \'src/**/*\'","build":"webpack"},"repository":{"type":"git","url":"https://github.com/TencentCloudBase/tcb-js-sdk"},"keywords":["tcb","qq-sdk"],"author":"guobinzhang","license":"ISC","dependencies":{"@babel/plugin-transform-modules-commonjs":"^7.7.4","@cloudbase/database":"^0.9.13","core-js":"^3.4.2","regenerator-runtime":"^0.13.3"},"devDependencies":{"@babel/core":"^7.7.4","@babel/plugin-transform-runtime":"^7.7.4","@babel/preset-env":"^7.7.4","@babel/preset-typescript":"^7.7.4","@babel/runtime-corejs3":"^7.7.4","@tencent/eslint-config-halo":"^3.0.0","@types/axios":"^0.14.0","@types/jest":"^23.3.14","@types/node":"10.12.10","@typescript-eslint/eslint-plugin":"^2.3.0","@typescript-eslint/parser":"^2.3.0","babel-loader":"^8.0.6","eslint":"^5.0.0","jest":"^24.9.0","ts-loader":"^6.2.1","typescript":"^3.7.2","webpack":"^4.40.2","webpack-bundle-analyzer":"^3.5.0","webpack-cli":"^3.3.9","webpack-visualizer-plugin":"^0.1.11"}}')},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(6);t.callFunction=function(e){var t=e.name,n=e.data,a=e.config;return r(this,void 0,void 0,regeneratorRuntime.mark(function e(){var r,s,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=n?JSON.stringify(n):"{}",e.next=7;break;case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 7:if(t){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("函数名不能为空")));case 9:return r={function_name:t,request_data:n},s={env:i.getEnv(a,"functions")},c=new o.Request(s),e.next=15,c.send("functions.invokeFunction",r);case 15:if(!(u=e.sent).code){e.next=18;break}return e.abrupt("return",u);case 18:return u.data.response_data,e.prev=19,l=JSON.parse(u.data.response_data),e.abrupt("return",{result:l,status:0,errMsg:"ok",requestID:u.requestID});case 24:throw e.prev=24,e.t1=e.catch(19),new Error("[@cloudbase/qq-sdk] response data must be json");case 27:case"end":return e.stop()}},e,null,[[0,4],[19,24]])}))}},function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new i(3*(a+s)/4-s),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;return 2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,c[l++]=255&t),1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(l(e,a,a+16383>s?s:a+16383));return 1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;l>0;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),(t+=a+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(a++,c/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){if(e&&e.code&&e.message)throw new Error("[".concat(e.code,"] ").concat(e.message));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapWithSelf=function(e,t){return function(n){if(n.success||n.fail||n.complete){var r=n.success,o=n.fail,i=n.complete;return e.apply(t,arguments).then(function(e){var t;try{r&&r(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(t,arguments)}},t.wrap=function(e){return function(t){if(t.success||t.fail||t.complete){var n=t.success,o=t.fail,i=t.complete;return e.apply(this,arguments).then(function(e){var t;try{n&&n(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(this,arguments).then(r)}},t.wrapWithoutArgu=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.success||t.fail||t.complete){var n=t.success,o=t.fail,i=t.complete;return e.apply(this).then(function(e){var t;try{e&&e.code&&e.message?o&&o(e):n&&n(e)}catch(e){t=e}if(i&&i(e),t)throw t},function(e){var t;try{o&&o(e)}catch(e){t=e}if(i&&i(e),t)throw t})}return e.apply(this).then(r)}},t.wrapWithOnlyData=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n.success||n.fail||n.complete){var o=n.success,i=n.fail,a=n.complete;return e.call(this,n.data).then(function(e){var n;try{e&&e.code&&e.message?(i&&i(e),a&&a(e)):(o&&o(t?t(e):e),a&&a(t?t(e):e))}catch(e){n=e}if(n)throw n},function(e){var t;try{i&&i(e),a&&a(e)}catch(e){t=e}if(t)throw t})}return e.call(this,n.data).then(r).then(function(e){return t?t(e):e})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t}var t;return(t=[{key:"connect",value:function(){return r(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.client=qq.connectSocket({url:this.url,header:{"content-type":"application/json"},tcpNoDelay:!0,success:function(){console.log("[@cloudbase/qq-sdk] websocket connect success")},fail:function(){console.log("[@cloudbase/qq-sdk] websocket connect fail")}}),this.readyState=0;case 2:case"end":return e.stop()}},e,this)}))}},{key:"close",value:function(e,t){this.readyState=2,this.client.close({code:e,reason:t})}},{key:"send",value:function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,r){n.client.send({data:e,success:function(e){t(e)},fail:function(e){r(e)}})}));case 1:case"end":return t.stop()}},t)}))}},{key:"onopen",set:function(e){var t=this;this.client.onOpen(function(n){t.readyState=1,e(n)})}},{key:"onclose",set:function(e){var t=this;this.client.onClose(function(n){t.readyState=3,e(n)})}},{key:"onerror",set:function(e){this.client.onError(e)}},{key:"onmessage",set:function(e){this.client.onMessage(e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();t.QQWebSocket=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((r=r.apply(e,t||[])).next())})};function o(e,t){return r(this,void 0,void 0,regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise(function(n,r){var o={url:t.url,header:t.headers,data:t.body,method:e,success:function(e){e&&e.code?r(e):n(e)},fail:function(e){r(e)}};qq.request(o)});case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}},n)}))}Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("GET",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))},t.post=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("POST",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))},t.put=function(e){return r(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o("PUT",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)}))}},function(e,t,n){"use strict";n.r(t);var r,o={};n.r(o),n.d(o,"Point",function(){return ge}),n.d(o,"LineString",function(){return K}),n.d(o,"Polygon",function(){return Q}),n.d(o,"MultiPoint",function(){return ee}),n.d(o,"MultiLineString",function(){return re}),n.d(o,"MultiPolygon",function(){return ae}),function(e){e.DocIDError="文档ID不合法",e.CollNameError="集合名称不合法",e.OpStrError="操作符不合法",e.DirectionError="排序字符不合法",e.IntergerError="must be integer",e.QueryParamTypeError="查询参数必须为对象",e.QueryParamValueError="查询参数对象值不能均为undefined"}(r||(r={}));var i,a,s="Object",c="GeoPoint",u="GeoLineString",l="GeoPolygon",f="GeoMultiPoint",d="GeoMultiLineString",p="GeoMultiPolygon",h="Date",g="ServerDate",v=["desc","asc"],_=["<","<=","==",">=",">"];function y(e){return(y="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.lt="<",e.gt=">",e.lte="<=",e.gte=">=",e.eq="=="}(i||(i={})),i.eq,i.lt,i.lte,i.gt,i.gte,function(e){e.WHERE="WHERE",e.DOC="DOC"}(a||(a={}));var C=[],E={},I=function(e){function t(e,n){if(S(this,t),n!==E)throw new TypeError("InternalSymbol cannot be constructed with new operator");return function(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,m(t).call(this,e))}var n,r;return function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,function e(t){S(this,e),Object.defineProperties(this,{target:{enumerable:!1,writable:!1,configurable:!1,value:t}})}),n=t,(r=[{key:"for",value:function(e){for(var n=0,r=C.length;n<r;n++)if(C[n].target===e)return C[n].instance;var o=new t(e,E);return C.push({target:e,instance:o}),o}}])&&b(n,r),t}(),O=I,T=O.for("UNSET_FIELD_NAME"),k=O.for("UPDATE_COMMAND"),A=O.for("QUERY_COMMAND"),x=O.for("LOGIC_COMMAND"),P=O.for("GEO_POINT"),D=O.for("SYMBOL_GEO_LINE_STRING"),N=O.for("SYMBOL_GEO_POLYGON"),j=O.for("SYMBOL_GEO_MULTI_POINT"),R=O.for("SYMBOL_GEO_MULTI_LINE_STRING"),M=O.for("SYMBOL_GEO_MULTI_POLYGON"),B=O.for("SERVER_DATE"),L=O.for("REGEXP"),F=function(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()},U=function(e){return"object"===F(e)},W=function(e){return"number"===F(e)},q=function(e){return Array.isArray(e)},V=function(e){return"date"===F(e)},$=function(e){return"regexp"===F(e)},G=function(e){return e&&e._internalType instanceof I};function H(e){return(H="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var K=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!q(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(H(t)));if(t.length<2)throw new Error('"points" must contain 2 points at least');t.forEach(function(e){if(!(e instanceof ge))throw new TypeError('"points" must be of type Point[]. Received type '.concat(H(e),"[]"))}),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("LineString"!==e.type||!q(e.coordinates))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!W(a[0])||!W(a[1]))return!1}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}},{key:"isClosed",value:function(e){var t=e.points[0],n=e.points[e.points.length-1];if(t.latitude===n.latitude&&t.longitude===n.longitude)return!0}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}}},{key:"toJSON",value:function(){return{type:"LineString",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}},{key:"_internalType",get:function(){return D}}])&&z(t.prototype,n),r&&z(t,r),e}();function Y(e){return(Y="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Q=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!q(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Y(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(e){if(!(e instanceof K))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(Y(e),"[]"));if(!K.isClosed(e))throw new Error("LineString ".concat(e.points.map(function(e){return e.toReadableString()})," is not a closed cycle"))}),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("Polygon"!==e.type||!q(e.coordinates))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!this.isCloseLineString(a))return!1;var s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;if(!W(d[0])||!W(d[1]))return!1}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}},{key:"isCloseLineString",value:function(e){var t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}}},{key:"toJSON",value:function(){return{type:"Polygon",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}},{key:"_internalType",get:function(){return M}}])&&J(t.prototype,n),r&&J(t,r),e}();function X(e){return(X="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ee=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!q(t))throw new TypeError('"points" must be of type Point[]. Received type '.concat(X(t)));if(0===t.length)throw new Error('"points" must contain 1 point at least');t.forEach(function(e){if(!(e instanceof ge))throw new TypeError('"points" must be of type Point[]. Received type '.concat(X(e),"[]"))}),this.points=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPoint"!==e.type||!q(e.coordinates))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(!W(a[0])||!W(a[1]))return!1}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}}},{key:"toJSON",value:function(){return{type:"MultiPoint",coordinates:this.points.map(function(e){return e.toJSON().coordinates})}}},{key:"_internalType",get:function(){return j}}])&&Z(t.prototype,n),r&&Z(t,r),e}();function te(e){return(te="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var re=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!q(t))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(te(t)));if(0===t.length)throw new Error("Polygon must contain 1 linestring at least");t.forEach(function(e){if(!(e instanceof K))throw new TypeError('"lines" must be of type LineString[]. Received type '.concat(te(e),"[]"))}),this.lines=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiLineString"!==e.type||!q(e.coordinates))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value;if(!W(d[0])||!W(d[1]))return!1}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}}},{key:"toJSON",value:function(){return{type:"MultiLineString",coordinates:this.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})}}},{key:"_internalType",get:function(){return R}}])&&ne(t.prototype,n),r&&ne(t,r),e}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ae=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!q(t))throw new TypeError('"polygons" must be of type Polygon[]. Received type '.concat(oe(t)));if(0===t.length)throw new Error("MultiPolygon must contain 1 polygon at least");var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(!(s instanceof Q))throw new TypeError('"polygon" must be of type Polygon[]. Received type '.concat(oe(s),"[]"))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.polygons=t}var t,n,r;return t=e,r=[{key:"validate",value:function(e){if("MultiPolygon"!==e.type||!q(e.coordinates))return!1;var t=!0,n=!1,r=void 0;try{for(var o,i=e.coordinates[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=!0,c=!1,u=void 0;try{for(var l,f=a[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){var d=l.value,p=!0,h=!1,g=void 0;try{for(var v,_=d[Symbol.iterator]();!(p=(v=_.next()).done);p=!0){var y=v.value;if(!W(y[0])||!W(y[1]))return!1}}catch(e){h=!0,g=e}finally{try{p||null==_.return||_.return()}finally{if(h)throw g}}}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}}}},{key:"toJSON",value:function(){return{type:"MultiPolygon",coordinates:this.polygons.map(function(e){return e.lines.map(function(e){return e.points.map(function(e){return[e.longitude,e.latitude]})})})}}},{key:"_internalType",get:function(){return N}}])&&ie(t.prototype,n),r&&ie(t,r),e}();var se=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).offset,n=void 0===t?0:t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.offset=n}var t;return(t=[{key:"parse",value:function(){return{$date:{offset:this.offset}}}},{key:"_internalType",get:function(){return B}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function ce(e){return new se(e)}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var le=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}le.formatResDocumentData=function(e){return e.map(function(e){return le.formatField(e)})},le.formatField=function(e){var t=Object.keys(e),n={};return Array.isArray(e)&&(n=[]),t.forEach(function(t){var r,o=e[t];switch(le.whichType(o)){case c:r=new ge(o.coordinates[0],o.coordinates[1]);break;case u:r=new K(o.coordinates.map(function(e){return new ge(e[0],e[1])}));break;case l:r=new Q(o.coordinates.map(function(e){return new K(e.map(function(e){var t=ue(e,2),n=t[0],r=t[1];return new ge(n,r)}))}));break;case f:r=new ee(o.coordinates.map(function(e){return new ge(e[0],e[1])}));break;case d:r=new re(o.coordinates.map(function(e){return new K(e.map(function(e){var t=ue(e,2),n=t[0],r=t[1];return new ge(n,r)}))}));break;case p:r=new ae(o.coordinates.map(function(e){return new Q(e.map(function(e){return new K(e.map(function(e){var t=ue(e,2),n=t[0],r=t[1];return new ge(n,r)}))}))}));break;case h:r=new Date(1e3*o.$timestamp);break;case s:case"Array":r=le.formatField(o);break;case g:r=new Date(o.$date);break;default:r=o}Array.isArray(n)?n.push(r):n[t]=r}),n},le.whichType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1);if(t===h)return"BsonDate";if(t===s){if(e instanceof ge)return c;if(e instanceof Date)return h;if(e instanceof se)return g;e.$timestamp?t=h:e.$date?t=g:ge.validate(e)?t=c:K.validate(e)?t=u:Q.validate(e)?t=l:ee.validate(e)?t=f:re.validate(e)?t=d:ae.validate(e)&&(t=p)}return t},le.generateDocId=function(){for(var e="ABCDEFabcdef0123456789",t="",n=0;n<24;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};var de=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"isGeopoint",value:function(e,t){if("Number"!==le.whichType(t))throw new Error("Geo Point must be number type");var n=Math.abs(t);if("latitude"===e&&n>90)throw new Error("latitude should be a number ranges from -90 to 90");if("longitude"===e&&n>180)throw new Error("longitude should be a number ranges from -180 to 180");return!0}},{key:"isInteger",value:function(e,t){if(!Number.isInteger(t))throw new Error(e+r.IntergerError);return!0}},{key:"isFieldOrder",value:function(e){if(-1===v.indexOf(e))throw new Error(r.DirectionError);return!0}},{key:"isFieldPath",value:function(e){if(!/^[a-zA-Z0-9-_\.]/.test(e))throw new Error;return!0}},{key:"isOperator",value:function(e){if(-1===_.indexOf(e))throw new Error(r.OpStrError);return!0}},{key:"isCollName",value:function(e){if(!/^[a-zA-Z0-9]([a-zA-Z0-9-_]){1,32}$/.test(e))throw new Error(r.CollNameError);return!0}},{key:"isDocID",value:function(e){if(!/^([a-fA-F0-9]){24}$/.test(e))throw new Error(r.DocIDError);return!0}}])&&fe(t,n),e}();function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he,ge=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),de.isGeopoint("longitude",t),de.isGeopoint("latitude",n),this.longitude=t,this.latitude=n}var t,n,r;return t=e,r=[{key:"validate",value:function(e){return"Point"===e.type&&q(e.coordinates)&&de.isGeopoint("longitude",e.coordinates[0])&&de.isGeopoint("latitude",e.coordinates[1])}}],(n=[{key:"parse",value:function(e){return{[e]:{type:"Point",coordinates:[this.longitude,this.latitude]}}}},{key:"toJSON",value:function(){return{type:"Point",coordinates:[this.longitude,this.latitude]}}},{key:"toReadableString",value:function(){return"[".concat(this.longitude,",").concat(this.latitude,"]")}},{key:"_internalType",get:function(){return P}}])&&pe(t.prototype,n),r&&pe(t,r),e}(),ve=function(){var e;if(!Promise){(e=function(){}).promise={};var t=function(){throw new Error('Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.')};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}var n=new Promise(function(t,n){e=function(e,r){return e?n(e):t(r)}});return e.promise=n,e};!function(e){e.SET="set",e.REMOVE="remove",e.INC="inc",e.MUL="mul",e.PUSH="push",e.PULL="pull",e.PULL_ALL="pullAll",e.POP="pop",e.SHIFT="shift",e.UNSHIFT="unshift",e.ADD_TO_SET="addToSet",e.BIT="bit",e.RENAME="rename",e.MAX="max",e.MIN="min"}(he||(he={}));var _e,ye=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=k,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||T}var t;return(t=[{key:"_setFieldName",value:function(t){return new e(this.operator,this.operands,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function be(e){return e&&e instanceof ye&&e._internalType===k}!function(e){e.AND="and",e.OR="or",e.NOT="not",e.NOR="nor"}(_e||(_e={}));var me,we=function(){function e(t,n,r){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._internalType=x,Object.defineProperties(this,{_internalType:{enumerable:!1,configurable:!1}}),this.operator=t,this.operands=n,this.fieldName=r||T,this.fieldName!==T)if(Array.isArray(n)){n=n.slice(),this.operands=n;for(var o=0,i=n.length;o<i;o++){var a=n[o];(Se(a)||Te(a))&&(n[o]=a._setFieldName(this.fieldName))}}else{var s=n;(Se(s)||Te(s))&&(n=s._setFieldName(this.fieldName))}}var t;return(t=[{key:"_setFieldName",value:function(t){var n=this.operands.map(function(n){return n instanceof e?n._setFieldName(t):n});return new e(this.operator,n,t)}},{key:"and",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(_e.AND,o,this.fieldName)}},{key:"or",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Array.isArray(arguments[0])?arguments[0]:Array.from(arguments);return o.unshift(this),new e(_e.OR,o,this.fieldName)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Se(e){return e&&e instanceof we&&e._internalType===x}function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.EQ="eq",e.NEQ="neq",e.GT="gt",e.GTE="gte",e.LT="lt",e.LTE="lte",e.IN="in",e.NIN="nin",e.ALL="all",e.ELEM_MATCH="elemMatch",e.EXISTS="exists",e.SIZE="size",e.MOD="mod",e.GEO_NEAR="geoNear",e.GEO_WITHIN="geoWithin",e.GEO_INTERSECTS="geoIntersects"}(me||(me={}));var Oe=function(e){function t(e,n,r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=function(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Ee(t).call(this,e,n,r))).operator=e,o._internalType=A,o}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(t,we),(n=[{key:"toJSON",value:function(){switch(this.operator){case me.IN:case me.NIN:return{["$"+this.operator]:this.operands};default:return{["$"+this.operator]:this.operands[0]}}}},{key:"_setFieldName",value:function(e){return new t(this.operator,this.operands,e)}},{key:"eq",value:function(e){var n=new t(me.EQ,[e],this.fieldName);return this.and(n)}},{key:"neq",value:function(e){var n=new t(me.NEQ,[e],this.fieldName);return this.and(n)}},{key:"gt",value:function(e){var n=new t(me.GT,[e],this.fieldName);return this.and(n)}},{key:"gte",value:function(e){var n=new t(me.GTE,[e],this.fieldName);return this.and(n)}},{key:"lt",value:function(e){var n=new t(me.LT,[e],this.fieldName);return this.and(n)}},{key:"lte",value:function(e){var n=new t(me.LTE,[e],this.fieldName);return this.and(n)}},{key:"in",value:function(e){var n=new t(me.IN,e,this.fieldName);return this.and(n)}},{key:"nin",value:function(e){var n=new t(me.NIN,e,this.fieldName);return this.and(n)}},{key:"geoNear",value:function(e){if(!(e.geometry instanceof ge))throw new TypeError('"geometry" must be of type Point. Received type '.concat(Ce(e.geometry)));if(void 0!==e.maxDistance&&!W(e.maxDistance))throw new TypeError('"maxDistance" must be of type Number. Received type '.concat(Ce(e.maxDistance)));if(void 0!==e.minDistance&&!W(e.minDistance))throw new TypeError('"minDistance" must be of type Number. Received type '.concat(Ce(e.minDistance)));var n=new t(me.GEO_NEAR,[e],this.fieldName);return this.and(n)}},{key:"geoWithin",value:function(e){if(!(e.geometry instanceof ae||e.geometry instanceof Q))throw new TypeError('"geometry" must be of type Polygon or MultiPolygon. Received type '.concat(Ce(e.geometry)));var n=new t(me.GEO_WITHIN,[e],this.fieldName);return this.and(n)}},{key:"geoIntersects",value:function(e){if(!(e.geometry instanceof ge||e.geometry instanceof K||e.geometry instanceof Q||e.geometry instanceof ee||e.geometry instanceof re||e.geometry instanceof ae))throw new TypeError('"geometry" must be of type Point, LineString, Polygon, MultiPoint, MultiLineString or MultiPolygon. Received type '.concat(Ce(e.geometry)));var n=new t(me.GEO_INTERSECTS,[e],this.fieldName);return this.and(n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();function Te(e){return e&&e instanceof Oe&&e._internalType===A}function ke(e){return Te(e)}var Ae={};for(var xe in me)Ae[xe]="$"+xe;for(var Pe in _e)Ae[Pe]="$"+Pe;for(var De in he)Ae[De]="$"+De;function Ne(e){return Ae[e]||"$"+e}function je(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Re(e){return function e(t,n){if(!G(t)){if(V(t))return{$date:+t};if($(t))return{$regex:t.source,$options:t.flags};if(q(t))return t.map(function(t){if(n.indexOf(t)>-1)throw new Error("Cannot convert circular structure to JSON");return e(t,[].concat(je(n),[t]))});if(U(t)){var r=_extends({},t);for(var o in r){if(n.indexOf(r[o])>-1)throw new Error("Cannot convert circular structure to JSON");r[o]=e(r[o],[].concat(je(n),[r[o]]))}return r}return t}switch(t._internalType){case P:return t.toJSON();case B:case L:return t.parse();default:return t.toJSON?t.toJSON():t}}(e,[e])}function Me(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Be(e){return function e(t,n,r,o){var i=_extends({},t);for(var a in t)if(!/^\$/.test(a)){var s=t[a];if(s&&U(s)&&!n(s)){if(o.indexOf(s)>-1)throw new Error("Cannot convert circular structure to JSON");var c=e(s,n,[].concat(Me(r),[a]),[].concat(Me(o),[s]));i[a]=c;var u=!1;for(var l in c)/^\$/.test(l)?u=!0:(i["".concat(a,".").concat(l)]=c[l],delete i[a][l]);u||delete i[a]}}return i}(e,Fe,[],[e])}function Le(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?q(e[r])?e[r].push(t[r]):U(e[r])?U(t[r])?_extends(e[r],t[r]):(console.warn("unmergable condition, query is object but condition is ".concat(F(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(F(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}function Fe(e){return G(e)||V(e)||$(e)}function Ue(e){return Re(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ae[me.NEQ]="$ne",Ae[he.REMOVE]="$unset",Ae[he.SHIFT]="$pop",Ae[he.UNSHIFT]="$push";var qe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"encode",value:function(t){return(new e).encodeUpdate(t)}}],(n=[{key:"encodeUpdate",value:function(e){return be(e)?this.encodeUpdateCommand(e):"object"===F(e)?this.encodeUpdateObject(e):e}},{key:"encodeUpdateCommand",value:function(e){if(e.fieldName===T)throw new Error("Cannot encode a comparison command with unset field name");switch(e.operator){case he.PUSH:case he.PULL:case he.PULL_ALL:case he.POP:case he.SHIFT:case he.UNSHIFT:case he.ADD_TO_SET:return this.encodeArrayUpdateCommand(e);default:return this.encodeFieldUpdateCommand(e)}}},{key:"encodeFieldUpdateCommand",value:function(e){var t=Ne(e.operator);switch(e.operator){case he.REMOVE:return{[t]:{[e.fieldName]:""}};default:return{[t]:{[e.fieldName]:e.operands[0]}}}}},{key:"encodeArrayUpdateCommand",value:function(e){var t=Ne(e.operator);switch(e.operator){case he.PUSH:var n;return n=q(e.operands)?{$each:e.operands.map(Ue)}:e.operands,{[t]:{[e.fieldName]:n}};case he.UNSHIFT:var r={$each:e.operands.map(Ue),$position:0};return{[t]:{[e.fieldName]:r}};case he.POP:return{[t]:{[e.fieldName]:1}};case he.SHIFT:return{[t]:{[e.fieldName]:-1}};default:return{[t]:{[e.fieldName]:Ue(e.operands)}}}}},{key:"encodeUpdateObject",value:function(e){var t=Be(e);for(var n in t)if(!/^\$/.test(n)){var r=t[n];if(be(r))t[n]=r._setFieldName(n),Le(t,this.encodeUpdateCommand(t[n]),n);else{t[n]=r=Ue(r);var o=new ye(he.SET,[r],n);Le(t,this.encodeUpdateCommand(o),n)}}return t}}])&&We(t.prototype,n),r&&We(t,r),e}(),Ve=n(9),$e=n.n(Ve),Ge=n(10),He=n.n(Ge),ze=n(11),Ke=n.n(ze);function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e?"".concat(e,"_"):"").concat(+new Date,"_").concat(Math.random())}var Je={UNKNOWN_ERROR:"UNKNOWN_ERROR",SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL",SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG:"SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG",SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA:"SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR",SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED:"SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED",SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL:"SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL",SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR:"SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR"};function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){return!t||"object"!==Qe(t)&&"function"!=typeof t?et(e):t}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}function nt(e){var t="function"==typeof Map?new Map:void 0;return(nt=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&rt(o,n.prototype),o}).apply(null,arguments)}(e,arguments,ot(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),rt(r,e)})(e)}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){function t(e){var n;return Xe(this,t),(n=Ze(this,ot(t).call(this,e.errMsg))).errCode="UNKNOWN_ERROR",Object.defineProperties(et(n),{message:{get:function(){return"errCode: ".concat(this.errCode," ").concat(Je[this.errCode]||""," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}}),n.errCode=e.errCode||"UNKNOWN_ERROR",n.errMsg=e.errMsg,n}var n;return tt(t,nt(Error)),(n=[{key:"message",get:function(){return"errCode: ".concat(this.errCode," | errMsg: ")+this.errMsg},set:function(e){this.errMsg=e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}(),at=function(e){function t(e){var n;return Xe(this,t),(n=Ze(this,ot(t).call(this,e))).type="timeout",n.payload=null,n.generic=!0,n}return tt(t,nt(Error)),t}(),st=function(e){return"timeout"===e.type},ct=function(e){function t(e){var n;return Xe(this,t),(n=Ze(this,ot(t).call(this,e))).type="cancelled",n.payload=null,n.generic=!0,n}return tt(t,nt(Error)),t}(),ut=function(e){return"cancelled"===e.type},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})},ft=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.close=t.close,this.onChange=t.onChange,this.onError=t.onError,t.debug&&Object.defineProperty(this,"virtualClient",{get:function(){return t.virtualClient}})},dt=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n,r,o=t.id,i=t.docChanges,a=t.docs,s=t.msgType,c=t.type;Object.defineProperties(this,{id:{get:function(){return o},enumerable:!0},docChanges:{get:function(){return n||(n=JSON.parse(JSON.stringify(i))),n},enumerable:!0},docs:{get:function(){return r||(r=JSON.parse(JSON.stringify(a))),r},enumerable:!0},msgType:{get:function(){return s},enumerable:!0},type:{get:function(){return c},enumerable:!0}})};function pt(e){return(pt="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function ht(e){var t="function"==typeof Map?new Map:void 0;return(ht=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,n){return(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&gt(o,n.prototype),o}).apply(null,arguments)}(e,arguments,vt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),gt(r,e)})(e)}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t,yt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,vt(t).call(this,"Watch Error ".concat(JSON.stringify(e.msgData)," (requestid: ").concat(e.requestId,")")))).isRealtimeErrorMessageError=!0,n.payload=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(t,ht(Error)),t}(),bt=function(e){return e&&e.isRealtimeErrorMessageError};function mt(e){return(mt="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(e){e.LOGGINGIN="LOGGINGIN",e.INITING="INITING",e.REBUILDING="REBUILDING",e.ACTIVE="ACTIVE",e.ERRORED="ERRORED",e.CLOSING="CLOSING",e.CLOSED="CLOSED",e.PAUSED="PAUSED",e.RESUMING="RESUMING"}(_t||(_t={}));var St=100,Ct=2,Et=2,It=1e4,Ot=1e4,Tt=1e4,kt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watchStatus=_t.INITING,this._login=function(e,t){var r;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return n.watchStatus=_t.LOGGINGIN,o.next=3,regeneratorRuntime.awrap(n.login(e,t));case 3:return r=o.sent,n.envId||(n.envId=r.envId),o.abrupt("return",r);case 6:case"end":return o.stop()}})},this.initWatch=function(e){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._initWatchPromise){r.next=2;break}return r.abrupt("return",n._initWatchPromise);case 2:return n._initWatchPromise=new Promise(function(t,r){var o,i,a,s,c,u,l,f,d,p,h,g,v;return regeneratorRuntime.async(function(_){for(;;)switch(_.prev=_.next){case 0:if(_.prev=0,n.watchStatus!==_t.PAUSED){_.next=4;break}return console.log("[realtime] initWatch cancelled on pause"),_.abrupt("return",t());case 4:return _.next=6,regeneratorRuntime.awrap(n._login(n.envId,e));case 6:if(o=_.sent,i=o.envId,n.watchStatus!==_t.PAUSED){_.next=11;break}return console.log("[realtime] initWatch cancelled on pause"),_.abrupt("return",t());case 11:return n.watchStatus=_t.INITING,a={watchId:n.watchId,requestId:Ye(),msgType:"INIT_WATCH",msgData:{envId:i,collName:n.collectionName,query:n.query,limit:n.limit,orderBy:n.orderBy}},_.next=15,regeneratorRuntime.awrap(n.send({msg:a,waitResponse:!0,skipOnMessage:!0,timeout:Ot}));case 15:if(s=_.sent,c=s.msgData,u=c.events,l=c.currEvent,n.sessionInfo={queryID:s.msgData.queryID,currentEventId:l-1,currentDocs:[]},!(u.length>0)){_.next=41;break}for(f=!0,d=!1,p=void 0,_.prev=22,h=u[Symbol.iterator]();!(f=(g=h.next()).done);f=!0)g.value.ID=l;_.next=30;break;case 26:_.prev=26,_.t0=_.catch(22),d=!0,p=_.t0;case 30:_.prev=30,_.prev=31,f||null==h.return||h.return();case 33:if(_.prev=33,!d){_.next=36;break}throw p;case 36:return _.finish(33);case 37:return _.finish(30);case 38:n.handleServerEvents(s),_.next=45;break;case 41:n.sessionInfo.currentEventId=l,v=new dt({id:l,docChanges:[],docs:[],type:"init"}),n.listener.onChange(v),n.scheduleSendACK();case 45:n.onWatchStart(n,n.sessionInfo.queryID),n.watchStatus=_t.ACTIVE,n._availableRetries.INIT_WATCH=Ct,t(),_.next=54;break;case 51:_.prev=51,_.t1=_.catch(0),n.handleWatchEstablishmentError(_.t1,{operationName:"INIT_WATCH",resolve:t,reject:r});case 54:case"end":return _.stop()}},null,null,[[0,51],[22,26,30,38],[31,,33,37]])}),t=!1,r.prev=4,r.next=7,regeneratorRuntime.awrap(n._initWatchPromise);case 7:t=!0;case 8:return r.prev=8,n._initWatchPromise=void 0,r.finish(8);case 11:console.log("[realtime] initWatch ".concat(t?"success":"fail"));case 12:case"end":return r.stop()}},null,null,[[4,,8,11]])},this.rebuildWatch=function(e){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._rebuildWatchPromise){r.next=2;break}return r.abrupt("return",n._rebuildWatchPromise);case 2:return n._rebuildWatchPromise=new Promise(function(t,r){var o,i,a,s;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(c.prev=0,n.watchStatus!==_t.PAUSED){c.next=4;break}return console.log("[realtime] rebuildWatch cancelled on pause"),c.abrupt("return",t());case 4:return c.next=6,regeneratorRuntime.awrap(n._login(n.envId,e));case 6:if(o=c.sent,i=o.envId,n.sessionInfo){c.next=10;break}throw new Error("can not rebuildWatch without a successful initWatch (lack of sessionInfo)");case 10:if(n.watchStatus!==_t.PAUSED){c.next=13;break}return console.log("[realtime] rebuildWatch cancelled on pause"),c.abrupt("return",t());case 13:return n.watchStatus=_t.REBUILDING,a={watchId:n.watchId,requestId:Ye(),msgType:"REBUILD_WATCH",msgData:{envId:i,collName:n.collectionName,queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},c.next=17,regeneratorRuntime.awrap(n.send({msg:a,waitResponse:!0,skipOnMessage:!1,timeout:Tt}));case 17:s=c.sent,n.handleServerEvents(s),n.watchStatus=_t.ACTIVE,n._availableRetries.REBUILD_WATCH=Ct,t(),c.next=27;break;case 24:c.prev=24,c.t0=c.catch(0),n.handleWatchEstablishmentError(c.t0,{operationName:"REBUILD_WATCH",resolve:t,reject:r});case 27:case"end":return c.stop()}},null,null,[[0,24]])}),t=!1,r.prev=4,r.next=7,regeneratorRuntime.awrap(n._rebuildWatchPromise);case 7:t=!0;case 8:return r.prev=8,n._rebuildWatchPromise=void 0,r.finish(8);case 11:console.log("[realtime] rebuildWatch ".concat(t?"success":"fail"));case 12:case"end":return r.stop()}},null,null,[[4,,8,11]])},this.handleWatchEstablishmentError=function(e,t){var r,o,i;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:r="INIT_WATCH"===t.operationName,o=function(){n.closeWithError(new it({errCode:r?Je.SDK_DATABASE_REALTIME_LISTENER_INIT_WATCH_FAIL:Je.SDK_DATABASE_REALTIME_LISTENER_REBUILD_WATCH_FAIL,errMsg:e})),t.reject(e)},i=function(e){n.useRetryTicket(t.operationName)?r?(n._initWatchPromise=void 0,t.resolve(n.initWatch(e))):(n._rebuildWatchPromise=void 0,t.resolve(n.rebuildWatch(e))):o()},n.handleCommonError(e,{onSignError:function(){return i(!0)},onTimeoutError:function(){return i(!1)},onNotRetryableError:o,onCancelledError:t.reject,onUnknownError:function(){var e;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n.pause(),e.next=3,regeneratorRuntime.awrap(n.onceWSConnected());case 3:i(!0);case 4:case"end":return e.stop()}})},n.isWSConnected()){r.next=7;break}return r.next=5,regeneratorRuntime.awrap(e());case 5:r.next=19;break;case 7:return r.next=9,regeneratorRuntime.awrap(lt(St));case 9:if(n.watchStatus!==_t.PAUSED){r.next=13;break}t.reject(new ct("".concat(t.operationName," cancelled due to pause after unknownError"))),r.next=19;break;case 13:if(n.isWSConnected()){r.next=18;break}return r.next=16,regeneratorRuntime.awrap(e());case 16:r.next=19;break;case 18:i(!1);case 19:r.next=24;break;case 21:r.prev=21,r.t0=r.catch(0),i(!0);case 24:case"end":return r.stop()}},null,null,[[0,21]])}});case 4:case"end":return a.stop()}})},this.closeWatch=function(){var e,t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(e=n.sessionInfo?n.sessionInfo.queryID:"",n.watchStatus===_t.ACTIVE){r.next=5;break}return n.watchStatus=_t.CLOSED,n.onWatchClose(n,e),r.abrupt("return");case 5:return r.prev=5,n.watchStatus=_t.CLOSING,t={watchId:n.watchId,requestId:Ye(),msgType:"CLOSE_WATCH",msgData:null},r.next=10,regeneratorRuntime.awrap(n.send({msg:t}));case 10:n.sessionInfo=void 0,n.watchStatus=_t.CLOSED,r.next=17;break;case 14:r.prev=14,r.t0=r.catch(5),n.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_CLOSE_WATCH_FAIL,errMsg:r.t0}));case 17:return r.prev=17,n.onWatchClose(n,e),r.finish(17);case 20:case"end":return r.stop()}},null,null,[[5,14,17,20]])},this.scheduleSendACK=function(){n.clearACKSchedule(),n._ackTimeoutId=setTimeout(function(){n._waitExpectedTimeoutId?n.scheduleSendACK():n.sendACK()},It)},this.clearACKSchedule=function(){n._ackTimeoutId&&clearTimeout(n._ackTimeoutId)},this.sendACK=function(){var e,t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,n.watchStatus===_t.ACTIVE){r.next=4;break}return n.scheduleSendACK(),r.abrupt("return");case 4:if(n.sessionInfo){r.next=7;break}return console.warn("[realtime listener] can not send ack without a successful initWatch (lack of sessionInfo)"),r.abrupt("return");case 7:return e={watchId:n.watchId,requestId:Ye(),msgType:"CHECK_LAST",msgData:{queryID:n.sessionInfo.queryID,eventID:n.sessionInfo.currentEventId}},r.next=10,regeneratorRuntime.awrap(n.send({msg:e}));case 10:n.scheduleSendACK(),r.next=26;break;case 13:if(r.prev=13,r.t0=r.catch(0),!bt(r.t0)){r.next=25;break}t=r.t0.payload,r.t1=t.msgData.code,r.next="CHECK_LOGIN_FAILED"===r.t1?20:"SIGN_EXPIRED_ERROR"===r.t1?20:"SIGN_INVALID_ERROR"===r.t1?20:"SIGN_PARAM_INVALID"===r.t1?20:"QUERYID_INVALID_ERROR"===r.t1?22:"SYS_ERR"===r.t1?22:"INVALIID_ENV"===r.t1?22:"COLLECTION_PERMISSION_DENIED"===r.t1?22:24;break;case 20:return n.rebuildWatch(),r.abrupt("return");case 22:return n.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:t.msgData.code})),r.abrupt("return");case 24:return r.abrupt("break",25);case 25:n._availableRetries.CHECK_LAST&&n._availableRetries.CHECK_LAST>0?(n._availableRetries.CHECK_LAST--,n.scheduleSendACK()):n.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_CHECK_LAST_FAIL,errMsg:r.t0}));case 26:case"end":return r.stop()}},null,null,[[0,13]])},this.handleCommonError=function(e,t){if(bt(e))switch(e.payload.msgData.code){case"CHECK_LOGIN_FAILED":case"SIGN_EXPIRED_ERROR":case"SIGN_INVALID_ERROR":case"SIGN_PARAM_INVALID":return void t.onSignError(e);case"QUERYID_INVALID_ERROR":case"SYS_ERR":case"INVALIID_ENV":case"COLLECTION_PERMISSION_DENIED":default:return void t.onNotRetryableError(e)}else{if(st(e))return void t.onTimeoutError(e);if(ut(e))return void t.onCancelledError(e)}t.onUnknownError(e)},this.watchId="watchid_".concat(+new Date,"_").concat(Math.random()),this.envId=t.envId,this.collectionName=t.collectionName,this.query=t.query,this.limit=t.limit,this.orderBy=t.orderBy,this.send=t.send,this.login=t.login,this.isWSConnected=t.isWSConnected,this.onceWSConnected=t.onceWSConnected,this.getWaitExpectedTimeoutLength=t.getWaitExpectedTimeoutLength,this.onWatchStart=t.onWatchStart,this.onWatchClose=t.onWatchClose,this.debug=t.debug,this._availableRetries={INIT_WATCH:Ct,REBUILD_WATCH:Ct,CHECK_LAST:Et},this.listener=new ft({close:this.closeWatch,onChange:t.onChange,onError:t.onError,debug:this.debug,virtualClient:this}),this.initWatch()}var t;return(t=[{key:"useRetryTicket",value:function(e){return!!(this._availableRetries[e]&&this._availableRetries[e]>0)&&(this._availableRetries[e]--,console.log("[realtime] ".concat(e," use a retry ticket, now only ").concat(this._availableRetries[e]," retry left")),!0)}},{key:"handleServerEvents",value:function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.scheduleSendACK(),t.next=4,regeneratorRuntime.awrap(this._handleServerEvents(e));case 4:this._postHandleServerEventsValidityCheck(e),t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(0),console.error("[realtime listener] internal non-fatal error: handle server events failed with error: ",t.t0),t.t0;case 11:case"end":return t.stop()}},null,this,[[0,7]])}},{key:"_handleServerEvents",value:function(e){var t,n,r,o,i,a,s,c,u,l,f,d=this;return regeneratorRuntime.async(function(p){for(;;)switch(p.prev=p.next){case 0:if(t=e.requestId,n=e.msgData.events,r=e.msgType,n.length&&this.sessionInfo){p.next=5;break}return p.abrupt("return");case 5:o=this.sessionInfo,p.prev=6,i=n.map(At),p.next=14;break;case 10:return p.prev=10,p.t0=p.catch(6),this.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_RECEIVE_INVALID_SERVER_DATA,errMsg:p.t0})),p.abrupt("return");case 14:a=wt(o.currentDocs),s=!1,c=function(n,c){var u,l,f,p,h,g,v,_,y,b,m,w,S,C,E,I,O,T,k,A;return regeneratorRuntime.async(function(x){for(;;)switch(x.prev=x.next){case 0:if(u=i[n],!(o.currentEventId>=u.id)){x.next=6;break}return!i[n-1]||u.id>i[n-1].id?console.warn("[realtime] duplicate event received, cur ".concat(o.currentEventId," but got ").concat(u.id)):console.error("[realtime listener] server non-fatal error: events out of order (the latter event's id is smaller than that of the former) (requestId ".concat(t,")")),x.abrupt("return","continue");case 6:if(o.currentEventId!==u.id-1){x.next=84;break}x.t0=u.dataType,x.next="update"===x.t0?10:"replace"===x.t0?48:"remove"===x.t0?53:"limit"===x.t0?56:68;break;case 10:if(u.doc){x.next=47;break}x.t1=u.queueType,x.next="update"===x.t1?14:"dequeue"===x.t1?14:"enqueue"===x.t1?43:46;break;case 14:if(!(l=a.find(function(e){return e._id===u.docId}))){x.next=41;break}if(f=Ke()(l),u.updatedFields)for(p in u.updatedFields)$e()(f,p,u.updatedFields[p]);if(!u.removedFields){x.next=38;break}for(h=!0,g=!1,v=void 0,x.prev=22,_=u.removedFields[Symbol.iterator]();!(h=(y=_.next()).done);h=!0)b=y.value,He()(f,b);x.next=30;break;case 26:x.prev=26,x.t2=x.catch(22),g=!0,v=x.t2;case 30:x.prev=30,x.prev=31,h||null==_.return||_.return();case 33:if(x.prev=33,!g){x.next=36;break}throw v;case 36:return x.finish(33);case 37:return x.finish(30);case 38:u.doc=f,x.next=42;break;case 41:console.error("[realtime listener] internal non-fatal server error: unexpected update dataType event where no doc is associated.");case 42:return x.abrupt("break",47);case 43:throw m=new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="update" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(m),m;case 46:return x.abrupt("break",47);case 47:return x.abrupt("break",68);case 48:if(u.doc){x.next=52;break}throw w=new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="replace" (requestId '.concat(e.requestId,")")}),d.closeWithError(w),w;case 52:return x.abrupt("break",68);case 53:return(S=a.find(function(e){return e._id===u.docId}))?u.doc=S:console.error("[realtime listener] internal non-fatal server error: unexpected remove event where no doc is associated."),x.abrupt("break",68);case 56:if(u.doc){x.next=67;break}x.t3=u.queueType,x.next="dequeue"===x.t3?60:"enqueue"===x.t3?63:66;break;case 60:return(C=a.find(function(e){return e._id===u.docId}))?u.doc=C:console.error("[realtime listener] internal non-fatal server error: unexpected limit dataType event where no doc is associated."),x.abrupt("break",67);case 63:throw E=new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_UNEXPECTED_FATAL_ERROR,errMsg:'HandleServerEvents: full doc is not provided with dataType="limit" and queueType="enqueue" (requestId '.concat(e.requestId,")")}),d.closeWithError(E),E;case 66:return x.abrupt("break",67);case 67:return x.abrupt("break",68);case 68:x.t4=u.queueType,x.next="init"===x.t4?71:"enqueue"===x.t4?73:"dequeue"===x.t4?75:"update"===x.t4?78:81;break;case 71:return s?a.push(u.doc):(s=!0,a=[u.doc]),x.abrupt("break",81);case 73:return a.push(u.doc),x.abrupt("break",81);case 75:return(I=a.findIndex(function(e){return e._id===u.docId}))>-1?a.splice(I,1):console.error("[realtime listener] internal non-fatal server error: unexpected dequeue event where no doc is associated."),x.abrupt("break",81);case 78:return(O=a.findIndex(function(e){return e._id===u.docId}))>-1?a[O]=u.doc:console.error("[realtime listener] internal non-fatal server error: unexpected queueType update event where no doc is associated."),x.abrupt("break",81);case 81:(n===c-1||i[n+1]&&i[n+1].id!==u.id)&&(T=wt(a),k=i.slice(0,n+1).filter(function(e){return e.id===u.id}),d.sessionInfo.currentEventId=u.id,d.sessionInfo.currentDocs=a,A=new dt({id:u.id,docChanges:k,docs:T,msgType:r}),d.listener.onChange(A)),x.next=88;break;case 84:return console.warn("[realtime listener] event received is out of order, cur ".concat(d.sessionInfo.currentEventId," but got ").concat(u.id)),x.next=87,regeneratorRuntime.awrap(d.rebuildWatch());case 87:return x.abrupt("return",{v:void 0});case 88:case"end":return x.stop()}},null,null,[[22,26,30,38],[31,,33,37]])},u=0,l=i.length;case 18:if(!(u<l)){p.next=31;break}return p.next=21,regeneratorRuntime.awrap(c(u,l));case 21:f=p.sent,p.t1=f,p.next="continue"===p.t1?25:26;break;case 25:return p.abrupt("continue",28);case 26:if("object"!==mt(f)){p.next=28;break}return p.abrupt("return",f.v);case 28:u++,p.next=18;break;case 31:case"end":return p.stop()}},null,this,[[6,10]])}},{key:"_postHandleServerEventsValidityCheck",value:function(e){this.sessionInfo?(this.sessionInfo.expectEventId&&this.sessionInfo.currentEventId>=this.sessionInfo.expectEventId&&this.clearWaitExpectedEvent(),this.sessionInfo.currentEventId<e.msgData.currEvent&&console.warn("[realtime listener] internal non-fatal error: client eventId does not match with server event id after server event handling")):console.error("[realtime listener] internal non-fatal error: sessionInfo lost after server event handling, this should never occur")}},{key:"clearWaitExpectedEvent",value:function(){this._waitExpectedTimeoutId&&(clearTimeout(this._waitExpectedTimeoutId),this._waitExpectedTimeoutId=void 0)}},{key:"onMessage",value:function(e){var t=this;switch(this.watchStatus){case _t.PAUSED:if("ERROR"!==e.msgType)return;break;case _t.LOGGINGIN:case _t.INITING:case _t.REBUILDING:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received while ".concat(this.watchStatus));case _t.CLOSED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has closed");case _t.ERRORED:return void console.warn("[realtime listener] internal non-fatal error: unexpected message received when the watch has ended with error")}if(this.sessionInfo)switch(this.scheduleSendACK(),e.msgType){case"NEXT_EVENT":console.warn("nextevent ".concat(e.msgData.currEvent," ignored"),e),this.handleServerEvents(e);break;case"CHECK_EVENT":this.sessionInfo.currentEventId<e.msgData.currEvent&&(this.sessionInfo.expectEventId=e.msgData.currEvent,this.clearWaitExpectedEvent(),this._waitExpectedTimeoutId=setTimeout(function(){t.rebuildWatch()},this.getWaitExpectedTimeoutLength()),console.log("[realtime] waitExpectedTimeoutLength ".concat(this.getWaitExpectedTimeoutLength())));break;case"ERROR":this.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_SERVER_ERROR_MSG,errMsg:"".concat(e.msgData.code," - ").concat(e.msgData.message)}));break;default:console.warn("[realtime listener] virtual client receive unexpected msg ".concat(e.msgType,": "),e)}else console.warn("[realtime listener] internal non-fatal error: sessionInfo not found while message is received.")}},{key:"closeWithError",value:function(e){this.watchStatus=_t.ERRORED,this.clearACKSchedule(),this.listener.onError(e),this.onWatchClose(this,this.sessionInfo&&this.sessionInfo.queryID||""),console.log("[realtime] client closed (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"pause",value:function(){this.watchStatus=_t.PAUSED,console.log("[realtime] client paused (".concat(this.collectionName," ").concat(this.query,") (watchId ").concat(this.watchId,")"))}},{key:"resume",value:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return this.watchStatus=_t.RESUMING,console.log("[realtime] client resuming with ".concat(this.sessionInfo?"REBUILD_WATCH":"INIT_WATCH"," (").concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.prev=2,e.next=5,regeneratorRuntime.awrap(this.sessionInfo?this.rebuildWatch():this.initWatch());case 5:console.log("[realtime] client successfully resumed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("[realtime] client resume failed (".concat(this.collectionName," ").concat(this.query,") (").concat(this.watchId,")"),e.t0);case 11:case"end":return e.stop()}},null,this,[[2,8]])}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function At(e){var t={id:e.ID,dataType:e.DataType,queueType:e.QueueType,docId:e.DocID,doc:e.Doc&&"{}"!==e.Doc?JSON.parse(e.Doc):void 0};return"update"===e.DataType&&(e.UpdatedFields&&(t.updatedFields=JSON.parse(e.UpdatedFields)),(e.removedFields||e.RemovedFields)&&(t.removedFields=JSON.parse(e.removedFields))),t}var xt,Pt={1000:{code:1e3,name:"Normal Closure",description:"Normal closure; the connection successfully completed whatever purpose for which it was created."},1001:{code:1001,name:"Going Away",description:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{code:1002,name:"Protocol Error",description:"The endpoint is terminating the connection due to a protocol error."},1003:{code:1003,name:"Unsupported Data",description:"The connection is being terminated because the endpoint received data of a type it cannot accept (for example, a text-only endpoint received binary data)."},1005:{code:1005,name:"No Status Received",description:"Indicates that no status code was provided even though one was expected."},1006:{code:1006,name:"Abnormal Closure",description:"Used to indicate that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{code:1007,name:"Invalid frame payload data",description:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{code:1008,name:"Policy Violation",description:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{code:1009,name:"Message too big",description:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{code:1010,name:"Missing Extension",description:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{code:1011,name:"Internal Error",description:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{code:1012,name:"Service Restart",description:"The server is terminating the connection because it is restarting."},1013:{code:1013,name:"Try Again Later",description:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{code:1014,name:"Bad Gateway",description:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{code:1015,name:"TLS Handshake",description:"Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},3000:{code:3e3,name:"Reconnect WebSocket",description:"The client is terminating the connection because it wants to reconnect"},3001:{code:3001,name:"No Realtime Listeners",description:"The client is terminating the connection because no more realtime listeners exist"},3002:{code:3002,name:"Heartbeat Ping Error",description:"The client is terminating the connection due to its failure in sending heartbeat messages"},3003:{code:3003,name:"Heartbeat Pong Timeout Error",description:"The client is terminating the connection because no heartbeat response is received from the server"},3050:{code:3050,name:"Server Close",description:"The client is terminating the connection because no heartbeat response is received from the server"}};!function(e){e[e.NormalClosure=1e3]="NormalClosure",e[e.GoingAway=1001]="GoingAway",e[e.ProtocolError=1002]="ProtocolError",e[e.UnsupportedData=1003]="UnsupportedData",e[e.NoStatusReceived=1005]="NoStatusReceived",e[e.AbnormalClosure=1006]="AbnormalClosure",e[e.InvalidFramePayloadData=1007]="InvalidFramePayloadData",e[e.PolicyViolation=1008]="PolicyViolation",e[e.MessageTooBig=1009]="MessageTooBig",e[e.MissingExtension=1010]="MissingExtension",e[e.InternalError=1011]="InternalError",e[e.ServiceRestart=1012]="ServiceRestart",e[e.TryAgainLater=1013]="TryAgainLater",e[e.BadGateway=1014]="BadGateway",e[e.TLSHandshake=1015]="TLSHandshake",e[e.ReconnectWebSocket=3e3]="ReconnectWebSocket",e[e.NoRealtimeListeners=3001]="NoRealtimeListeners",e[e.HeartbeatPingError=3002]="HeartbeatPingError",e[e.HeartbeatPongTimeoutError=3003]="HeartbeatPongTimeoutError",e[e.NoAuthentication=3050]="NoAuthentication"}(xt||(xt={}));var Dt=function(e,t){var n=Pt[e],r=n?"".concat(n.name,", code ").concat(e,", reason ").concat(t||n.description):"code ".concat(e);return new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_CLOSED,errMsg:r})};function Nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var jt={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},Rt=3,Mt=5e3,Bt=1e4,Lt=5,Ft=1e4,Ut=5e3,Wt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._virtualWSClient=new Set,this._queryIdClientMap=new Map,this._watchIdClientMap=new Map,this._pingFailed=0,this._pongMissed=0,this._logins=new Map,this._wsReadySubsribers=[],this._wsResponseWait=new Map,this._rttObserved=[],this.initWebSocketConnection=function(e){var t,r=arguments;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=r.length>1&&void 0!==r[1]?r[1]:n._maxReconnect,!e||!n._reconnectState){o.next=3;break}return o.abrupt("return");case 3:if(e&&(n._reconnectState=!0),!n._wsInitPromise){o.next=6;break}return o.abrupt("return",n._wsInitPromise);case 6:return e&&n.pauseClients(),n.close(xt.ReconnectWebSocket),n._wsInitPromise=new Promise(function(r,o){var i;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(n.getWsSign());case 3:return i=a.sent,a.next=6,regeneratorRuntime.awrap(new Promise(function(e){var t=i.wsUrl||"wss://tcb-ws.tencentcloudapi.com";n._ws=mn.wsClass?new mn.wsClass(t):new WebSocket(t),e()}));case 6:if(!n._ws.connect){a.next=9;break}return a.next=9,regeneratorRuntime.awrap(n._ws.connect());case 9:return a.next=11,regeneratorRuntime.awrap(n.initWebSocketEvent());case 11:r(),e&&(n.resumeClients(),n._reconnectState=!1),a.next=30;break;case 15:if(a.prev=15,a.t0=a.catch(0),console.error("[realtime] initWebSocketConnection connect fail",a.t0),!(t>0)){a.next=28;break}return n._wsInitPromise=void 0,a.next=24,regeneratorRuntime.awrap(lt(n._reconnectInterval));case 24:e&&(n._reconnectState=!1);case 25:r(n.initWebSocketConnection(e,t-1)),a.next=30;break;case 28:o(a.t0),e&&n.closeAllClients(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_RECONNECT_WATCH_FAIL,errMsg:a.t0}));case 30:case"end":return a.stop()}},null,null,[[0,15]])}),o.prev=9,o.next=12,regeneratorRuntime.awrap(n._wsInitPromise);case 12:n._wsReadySubsribers.forEach(function(e){return(0,e.resolve)()}),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(9),n._wsReadySubsribers.forEach(function(e){return(0,e.reject)()});case 18:return o.prev=18,n._wsInitPromise=void 0,n._wsReadySubsribers=[],o.finish(18);case 22:case"end":return o.stop()}},null,null,[[9,15,18,22]])},this.initWebSocketEvent=function(){return new Promise(function(e,t){if(!n._ws)throw new Error("can not initWebSocketEvent, ws not exists");var r=!1;n._ws.onopen=function(t){console.warn("[realtime] ws event: open",t),r=!0,e()},n._ws.onerror=function(e){n._logins=new Map,r?(console.error("[realtime] ws event: error",e),n.clearHeartbeat(),n._virtualWSClient.forEach(function(t){return t.closeWithError(new it({errCode:Je.SDK_DATABASE_REALTIME_LISTENER_WEBSOCKET_CONNECTION_ERROR,errMsg:e}))})):(console.error("[realtime] ws open failed with ws event: error",e),t(e))},n._ws.onclose=function(e){switch(console.warn("[realtime] ws event: close",e),n._logins=new Map,n.clearHeartbeat(),e.code){case xt.ReconnectWebSocket:case xt.NoRealtimeListeners:break;case xt.HeartbeatPingError:case xt.HeartbeatPongTimeoutError:case xt.NormalClosure:case xt.AbnormalClosure:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Dt(e.code));break;case xt.NoAuthentication:n.closeAllClients(Dt(e.code,e.reason));break;default:n._maxReconnect>0?n.initWebSocketConnection(!0,n._maxReconnect):n.closeAllClients(Dt(e.code))}},n._ws.onmessage=function(e){var t,r=e.data;n.heartbeat();try{t=JSON.parse(r)}catch(e){throw new Error("[realtime] onMessage parse res.data error: ".concat(e))}if("ERROR"===t.msgType){var o=null;n._virtualWSClient.forEach(function(e){e.watchId===t.watchId&&(o=e)}),o&&o.listener.onError(t)}var i=n._wsResponseWait.get(t.requestId);if(i){try{"ERROR"===t.msgType?i.reject(new yt(t)):i.resolve(t)}catch(e){console.error("ws onMessage responseWaitSpec.resolve(msg) errored:",e)}finally{n._wsResponseWait.delete(t.requestId)}if(i.skipOnMessage)return}if("PONG"!==t.msgType){var a=t.watchId&&n._watchIdClientMap.get(t.watchId);if(a)a.onMessage(t);else switch(console.error("[realtime] no realtime listener found responsible for watchId ".concat(t.watchId,": "),t),t.msgType){case"INIT_EVENT":case"NEXT_EVENT":case"CHECK_EVENT":(a=n._queryIdClientMap.get(t.msgData.queryID))&&a.onMessage(t);break;default:var s=!0,c=!1,u=void 0;try{for(var l,f=n._watchIdClientMap[Symbol.iterator]();!(s=(l=f.next()).done);s=!0){Nt(l.value,2)[1].onMessage(t);break}}catch(e){c=!0,u=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw u}}}}else if(n._lastPingSendTS){var d=Date.now()-n._lastPingSendTS;if(d>Bt)return void console.warn("[realtime] untrusted rtt observed: ".concat(d));n._rttObserved.length>=Rt&&n._rttObserved.splice(0,n._rttObserved.length-Rt+1),n._rttObserved.push(d)}},n.heartbeat()})},this.isWSConnected=function(){return Boolean(n._ws&&n._ws.readyState===jt.OPEN)},this.onceWSConnected=function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isWSConnected()){e.next=2;break}return e.abrupt("return");case 2:if(!n._wsInitPromise){e.next=4;break}return e.abrupt("return",n._wsInitPromise);case 4:return e.abrupt("return",new Promise(function(e,t){n._wsReadySubsribers.push({resolve:e,reject:t})}));case 5:case"end":return e.stop()}})},this.webLogin=function(e,t){var r,o,i,a,s,c,u;return regeneratorRuntime.async(function(l){for(;;)switch(l.prev=l.next){case 0:if(t){l.next=15;break}if(!e){l.next=12;break}if(!(r=n._logins.get(e))){l.next=10;break}if(!r.loggedIn||!r.loginResult){l.next=8;break}return l.abrupt("return",r.loginResult);case 8:if(!r.loggingInPromise){l.next=10;break}return l.abrupt("return",r.loggingInPromise);case 10:l.next=15;break;case 12:if(!(o=n._logins.get(""))||!o.loggingInPromise){l.next=15;break}return l.abrupt("return",o.loggingInPromise);case 15:return i=new Promise(function(e,t){var r,o,i,a;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,regeneratorRuntime.awrap(n.getWsSign());case 3:return r=s.sent,o={envId:r.envId||"",accessToken:"",referrer:"web",sdkVersion:"",dataVersion:mn.dataVersion||""},i={watchId:void 0,requestId:Ye(),msgType:"LOGIN",msgData:o,exMsgData:{runtime:mn.runtime,signStr:r.signStr,secretVersion:r.secretVersion}},s.next=8,regeneratorRuntime.awrap(n.send({msg:i,waitResponse:!0,skipOnMessage:!0,timeout:Ut}));case 8:(a=s.sent).msgData.code?t(new Error("".concat(a.msgData.code," ").concat(a.msgData.message))):e({envId:r.envId}),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),t(s.t0);case 15:case"end":return s.stop()}},null,null,[[0,12]])}),a=e&&n._logins.get(e),s=Date.now(),a?(a.loggedIn=!1,a.loggingInPromise=i,a.loginStartTS=s):(a={loggedIn:!1,loggingInPromise:i,loginStartTS:s},n._logins.set(e||"",a)),l.prev=19,l.next=22,regeneratorRuntime.awrap(i);case 22:if(c=l.sent,!(u=e&&n._logins.get(e))||u!==a||u.loginStartTS!==s){l.next=32;break}return a.loggedIn=!0,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=c,l.abrupt("return",c);case 32:if(!u){l.next=44;break}if(!u.loggedIn||!u.loginResult){l.next=37;break}return l.abrupt("return",u.loginResult);case 37:if(!u.loggingInPromise){l.next=41;break}return l.abrupt("return",u.loggingInPromise);case 41:throw new Error("ws unexpected login info");case 42:l.next=45;break;case 44:throw new Error("ws login info reset");case 45:l.next=54;break;case 47:throw l.prev=47,l.t0=l.catch(19),a.loggedIn=!1,a.loggingInPromise=void 0,a.loginStartTS=void 0,a.loginResult=void 0,l.t0;case 54:case"end":return l.stop()}},null,null,[[19,47]])},this.getWsSign=function(){var e,t,r,o,i,a,s;return regeneratorRuntime.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!(n._wsSign&&n._wsSign.expiredTs>Date.now())){c.next=2;break}return c.abrupt("return",n._wsSign);case 2:return e=Date.now()+6e4,c.next=5,regeneratorRuntime.awrap(n._context.appConfig.request.send("auth.wsWebSign",{runtime:mn.runtime}));case 5:if(!(t=c.sent).code){c.next=8;break}throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败: ".concat(t.code));case 8:if(!t.data){c.next=13;break}return r=t.data,o=r.signStr,i=r.wsUrl,a=r.secretVersion,s=r.envId,c.abrupt("return",{signStr:o,wsUrl:i,secretVersion:a,envId:s,expiredTs:e});case 13:throw new Error("[tcb-js-sdk] 获取实时数据推送登录票据失败");case 14:case"end":return c.stop()}})},this.getWaitExpectedTimeoutLength=function(){return n._rttObserved.length?n._rttObserved.reduce(function(e,t){return e+t})/n._rttObserved.length*1.5:Mt},this.ping=function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e={watchId:void 0,requestId:Ye(),msgType:"PING",msgData:null},t.next=3,regeneratorRuntime.awrap(n.send({msg:e}));case 3:case"end":return t.stop()}})},this.send=function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,r){var o,i,a,s,c;return regeneratorRuntime.async(function(u){for(;;)switch(u.prev=u.next){case 0:if(i=!1,a=!1,s=function(e){i=!0,o&&clearTimeout(o),t(e)},c=function(e){a=!0,o&&clearTimeout(o),r(e)},e.timeout&&(o=setTimeout(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&a){e.next=4;break}return e.next=3,regeneratorRuntime.awrap(lt(0));case 3:i&&a||c(new at("wsclient.send timedout"));case 4:case"end":return e.stop()}})},e.timeout)),u.prev=5,!n._wsInitPromise){u.next=9;break}return u.next=9,regeneratorRuntime.awrap(n._wsInitPromise);case 9:if(n._ws){u.next=12;break}return c(new Error("invalid state: ws connection not exists, can not send message")),u.abrupt("return");case 12:if(n._ws.readyState===jt.OPEN){u.next=15;break}return c(new Error("ws readyState invalid: ".concat(n._ws.readyState,", can not send message"))),u.abrupt("return");case 15:return e.waitResponse&&n._wsResponseWait.set(e.msg.requestId,{resolve:s,reject:c,skipOnMessage:e.skipOnMessage}),u.prev=16,u.next=19,regeneratorRuntime.awrap(n._ws.send(JSON.stringify(e.msg)));case 19:e.waitResponse||s(),u.next=25;break;case 22:u.prev=22,u.t0=u.catch(16),u.t0&&(c(u.t0),e.waitResponse&&n._wsResponseWait.delete(e.msg.requestId));case 25:u.next=30;break;case 27:u.prev=27,u.t1=u.catch(5),c(u.t1);case 30:case"end":return u.stop()}},null,null,[[5,27],[16,22]])}));case 1:case"end":return t.stop()}})},this.closeAllClients=function(e){n._virtualWSClient.forEach(function(t){t.closeWithError(e)})},this.pauseClients=function(e){(e||n._virtualWSClient).forEach(function(e){e.pause()})},this.resumeClients=function(e){(e||n._virtualWSClient).forEach(function(e){e.resume()})},this.onWatchStart=function(e,t){n._queryIdClientMap.set(t,e)},this.onWatchClose=function(e,t){t&&n._queryIdClientMap.delete(t),n._watchIdClientMap.delete(e.watchId),n._virtualWSClient.delete(e),n._virtualWSClient.size||n.close(xt.NoRealtimeListeners)},this._maxReconnect=t.maxReconnect||Lt,this._reconnectInterval=t.reconnectInterval||Ft,this._context=t.context}var t;return(t=[{key:"heartbeat",value:function(e){var t=this;this.clearHeartbeat(),this._pingTimeoutId=setTimeout(function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._ws&&t._ws.readyState===jt.OPEN){e.next=3;break}return e.abrupt("return");case 3:return t._lastPingSendTS=Date.now(),e.next=6,regeneratorRuntime.awrap(t.ping());case 6:t._pingFailed=0,t._pongTimeoutId=setTimeout(function(){console.error("pong timed out"),t._pongMissed<2?(t._pongMissed++,t.heartbeat(!0)):t.initWebSocketConnection(!0)},t._context.appConfig.realtimePongWaitTimeout),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t._pingFailed<2?(t._pingFailed++,t.heartbeat()):t.close(xt.HeartbeatPingError);case 13:case"end":return e.stop()}},null,null,[[0,10]])},e?0:this._context.appConfig.realtimePingInterval)}},{key:"clearHeartbeat",value:function(){this._pingTimeoutId&&clearTimeout(this._pingTimeoutId),this._pongTimeoutId&&clearTimeout(this._pongTimeoutId)}},{key:"close",value:function(e){this.clearHeartbeat(),this._ws&&(this._ws.close(e,Pt[e].name),this._ws=void 0)}},{key:"watch",value:function(e){this._ws||this._wsInitPromise||this.initWebSocketConnection(!1);var t=new kt(_extends(_extends({},e),{send:this.send,login:this.webLogin,isWSConnected:this.isWSConnected,onceWSConnected:this.onceWSConnected,getWaitExpectedTimeoutLength:this.getWaitExpectedTimeoutLength,onWatchStart:this.onWatchStart,onWatchClose:this.onWatchClose,debug:!0}));return this._virtualWSClient.add(t),this._watchIdClientMap.set(t.watchId,t),t.listener}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var Vt=function(){function e(t,n,r){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return mn.ws||(mn.ws=new Wt({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:o.request}}})),mn.ws.watch(_extends(_extends({},e),{envId:o._db.config.env,collectionName:o._coll,query:JSON.stringify({_id:o.id})}))},this._db=t,this._coll=n,this.id=r,this.request=new mn.reqClass(this._db.config),this.projection=i}var t;return(t=[{key:"create",value:function(e,t){t=t||ve();var n={collectionName:this._coll,data:Re(e)};return this.id&&(n._id=this.id),this.request.send("database.addDocument",n).then(function(e){e.code?t(0,e):t(0,{id:e.data._id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"set",value:function(e,t){if(t=t||ve(),!this.id)return Promise.resolve({code:"INVALID_PARAM",message:"docId不能为空"});if(!e||"object"!==qt(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n=!1;if(function e(t){if("object"===qt(t))for(var r in t)t[r]instanceof ye?n=!0:"object"===qt(t[r])&&e(t[r])}(e),n)return Promise.resolve({code:"DATABASE_REQUEST_FAILED",message:"update operator complicit"});var r={collectionName:this._coll,queryType:a.DOC,data:Re(e),multi:!1,merge:!1,upsert:!0};return this.id&&(r.query={_id:this.id}),this.request.send("database.updateDocument",r).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"update",value:function(e,t){if(t=t||ve(),!e||"object"!==qt(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={_id:this.id},r={collectionName:this._coll,data:qe.encode(e),query:n,queryType:a.DOC,multi:!1,merge:!0,upsert:!1};return this.request.send("database.updateDocument",r).then(function(e){e.code?t(0,e):t(0,{updated:e.data.updated,upsertedId:e.data.upserted_id,requestId:e.requestId})}).catch(function(e){t(e)}),t.promise}},{key:"remove",value:function(e){e=e||ve();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:a.DOC,multi:!1};return this.request.send("database.deleteDocument",n).then(function(t){t.code?e(0,t):e(0,{deleted:t.data.deleted,requestId:t.requestId})}).catch(function(t){e(t)}),e.promise}},{key:"get",value:function(e){e=e||ve();var t={_id:this.id},n={collectionName:this._coll,query:t,queryType:a.DOC,multi:!1,projection:this.projection};return this.request.send("database.queryDocument",n).then(function(t){if(t.code)e(0,t);else{var n=le.formatResDocumentData(t.data.list);e(0,{data:n,requestId:t.requestId,total:t.TotalCount,limit:t.Limit,offset:t.Offset})}}).catch(function(t){e(t)}),e.promise}},{key:"field",value:function(t){for(var n in t)t[n]?t[n]=1:t[n]=0;return new e(this._db,this._coll,this.id,t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function $t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&Gt(e.prototype,t),n&&Gt(e,n),e}var zt=function(){function e(){$t(this,e)}return Ht(e,null,[{key:"encode",value:function(e){return(new Kt).encodeQuery(e)}}]),e}(),Kt=function(){function e(){$t(this,e)}return Ht(e,[{key:"encodeQuery",value:function(e,t){return Fe(e)?Se(e)?this.encodeLogicCommand(e):Te(e)?this.encodeQueryCommand(e):{[t]:this.encodeQueryObject(e)}:U(e)?this.encodeQueryObject(e):e}},{key:"encodeRegExp",value:function(e){return{$regex:e.source,$options:e.flags}}},{key:"encodeLogicCommand",value:function(e){var t=this;switch(e.operator){case _e.NOR:case _e.AND:case _e.OR:return{[Ne(e.operator)]:e.operands.map(function(n){return t.encodeQuery(n,e.fieldName)})};case _e.NOT:var n=Ne(e.operator),r=e.operands[0];if($(r))return{[e.fieldName]:{[n]:this.encodeRegExp(r)}};var o=this.encodeQuery(r)[e.fieldName];return{[e.fieldName]:{[n]:o}};default:var i=Ne(e.operator);return 1===e.operands.length?{[i]:this.encodeQuery(e.operands[0])}:{[i]:e.operands.map(this.encodeQuery.bind(this))}}}},{key:"encodeQueryCommand",value:function(e){return ke(e),this.encodeComparisonCommand(e)}},{key:"encodeComparisonCommand",value:function(e){if(e.fieldName===T)throw new Error("Cannot encode a comparison command with unset field name");var t=Ne(e.operator);switch(e.operator){case me.EQ:case me.NEQ:case me.LT:case me.LTE:case me.GT:case me.GTE:case me.ELEM_MATCH:case me.EXISTS:case me.SIZE:case me.MOD:return{[e.fieldName]:{[t]:Ue(e.operands[0])}};case me.IN:case me.NIN:case me.ALL:return{[e.fieldName]:{[t]:Ue(e.operands)}};case me.GEO_NEAR:var n=e.operands[0];return{[e.fieldName]:{$nearSphere:{$geometry:n.geometry.toJSON(),$maxDistance:n.maxDistance,$minDistance:n.minDistance}}};case me.GEO_WITHIN:var r=e.operands[0];return{[e.fieldName]:{$geoWithin:{$geometry:r.geometry.toJSON()}}};case me.GEO_INTERSECTS:var o=e.operands[0];return{[e.fieldName]:{$geoIntersects:{$geometry:o.geometry.toJSON()}}};default:return{[e.fieldName]:{[t]:Ue(e.operands[0])}}}}},{key:"encodeQueryObject",value:function(e){var t=Be(e);for(var n in t){var r=t[n];if(Se(r)){t[n]=r._setFieldName(n);var o=this.encodeLogicCommand(t[n]);this.mergeConditionAfterEncode(t,o,n)}else if(ke(r)){t[n]=r._setFieldName(n);var i=this.encodeComparisonCommand(t[n]);this.mergeConditionAfterEncode(t,i,n)}else Fe(r)&&(t[n]=Ue(r))}return t}},{key:"mergeConditionAfterEncode",value:function(e,t,n){for(var r in t[n]||delete e[n],t)e[r]?q(e[r])?e[r]=e[r].concat(t[r]):U(e[r])?U(t[r])?_extends(e,t):(console.warn("unmergable condition, query is object but condition is ".concat(F(t),", can only overwrite"),t,n),e[r]=t[r]):(console.warn("to-merge query is of type ".concat(F(e),", can only overwrite"),e,t,n),e[r]=t[r]):e[r]=t[r]}}]),e}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var Jt=function(){function e(t,n,r,o,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.watch=function(e){return mn.ws||(mn.ws=new Wt({context:{appConfig:{docSizeLimit:1e3,realtimePingInterval:1e4,realtimePongWaitTimeout:5e3,request:a._request}}})),mn.ws.watch(_extends(_extends({},e),{envId:a._db.config.env,collectionName:a._coll,query:JSON.stringify(a._fieldFilters),limit:a._queryOptions.limit,orderBy:a._fieldOrders?a._fieldOrders.reduce(function(e,t){return e[t.field]=t.direction,e},{}):void 0}))},this._db=t,this._coll=n,this._fieldFilters=r,this._fieldOrders=o||[],this._queryOptions=i||{},this._request=new mn.reqClass(this._db.config)}var t;return(t=[{key:"get",value:function(e){e=e||ve();var t=[];this._fieldOrders&&this._fieldOrders.forEach(function(e){t.push(e)});var n={collectionName:this._coll,queryType:a.WHERE};return this._fieldFilters&&(n.query=this._fieldFilters),t.length>0&&(n.order=t),this._queryOptions.offset&&(n.offset=this._queryOptions.offset),this._queryOptions.limit?n.limit=this._queryOptions.limit<1e3?this._queryOptions.limit:1e3:n.limit=100,this._queryOptions.projection&&(n.projection=this._queryOptions.projection),this._request.send("database.queryDocument",n).then(function(t){if(t.code)e(0,t);else{var n={data:le.formatResDocumentData(t.data.list),requestId:t.requestId};t.TotalCount&&(n.total=t.TotalCount),t.Limit&&(n.limit=t.Limit),t.Offset&&(n.offset=t.Offset),e(0,n)}}).catch(function(t){e(t)}),e.promise}},{key:"count",value:function(e){e=e||ve();var t={collectionName:this._coll,queryType:a.WHERE};return this._fieldFilters&&(t.query=this._fieldFilters),this._request.send("database.countDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,total:t.data.total})}),e.promise}},{key:"where",value:function(t){if("Object"!==Object.prototype.toString.call(t).slice(8,-1))throw Error(r.QueryParamTypeError);var n=Object.keys(t),o=n.some(function(e){return void 0!==t[e]});if(n.length&&!o)throw Error(r.QueryParamValueError);return new e(this._db,this._coll,zt.encode(t),this._fieldOrders,this._queryOptions)}},{key:"orderBy",value:function(t,n){de.isFieldPath(t),de.isFieldOrder(n);var r={field:t,direction:n},o=this._fieldOrders.concat(r);return new e(this._db,this._coll,this._fieldFilters,o,this._queryOptions)}},{key:"limit",value:function(t){de.isInteger("limit",t);var n=_extends({},this._queryOptions);return n.limit=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"skip",value:function(t){de.isInteger("offset",t);var n=_extends({},this._queryOptions);return n.offset=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,n)}},{key:"update",value:function(e,t){if(t=t||ve(),!e||"object"!==Yt(e))return Promise.resolve({code:"INVALID_PARAM",message:"参数必需是非空对象"});if(e.hasOwnProperty("_id"))return Promise.resolve({code:"INVALID_PARAM",message:"不能更新_id的值"});var n={collectionName:this._coll,query:this._fieldFilters,queryType:a.WHERE,multi:!0,merge:!0,upsert:!1,data:qe.encode(e)};return this._request.send("database.updateDocument",n).then(function(e){e.code?t(0,e):t(0,{requestId:e.requestId,updated:e.data.updated,upsertId:e.data.upsert_id})}),t.promise}},{key:"field",value:function(t){for(var n in t)t[n]?"object"!==Yt(t[n])&&(t[n]=1):t[n]=0;var r=_extends({},this._queryOptions);return r.projection=t,new e(this._db,this._coll,this._fieldFilters,this._fieldOrders,r)}},{key:"remove",value:function(e){e=e||ve(),Object.keys(this._queryOptions).length>0&&console.warn("`offset`, `limit` and `projection` are not supported in remove() operation"),this._fieldOrders.length>0&&console.warn("`orderBy` is not supported in remove() operation");var t={collectionName:this._coll,query:zt.encode(this._fieldFilters),queryType:a.WHERE,multi:!0};return this._request.send("database.deleteDocument",t).then(function(t){t.code?e(0,t):e(0,{requestId:t.requestId,deleted:t.data.deleted})}),e.promise}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),Qt=n(0);var Xt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stages=[],t&&n&&(this._db=t,this._request=new mn.reqClass(this._db.config),this._collectionName=n)}var t;return(t=[{key:"end",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(this._collectionName&&this._db){t.next=2;break}throw new Error("Aggregation pipeline cannot send request");case 2:return t.next=4,regeneratorRuntime.awrap(this._request.send("database.aggregate",{collectionName:this._collectionName,stages:this._stages}));case 4:if(!((e=t.sent)&&e.data&&e.data.list)){t.next=7;break}return t.abrupt("return",{requestId:e.requestId,data:JSON.parse(e.data.list).map(Qt.a.parse)});case 7:return t.abrupt("return",e);case 8:case"end":return t.stop()}},null,this)}},{key:"unwrap",value:function(){return this._stages}},{key:"done",value:function(){return this._stages.map(function(e){var t=e.stageKey,n=e.stageValue;return{[t]:JSON.parse(n)}})}},{key:"_pipe",value:function(e,t){return this._stages.push({stageKey:"$".concat(e),stageValue:JSON.stringify(t)}),this}},{key:"addFields",value:function(e){return this._pipe("addFields",e)}},{key:"bucket",value:function(e){return this._pipe("bucket",e)}},{key:"bucketAuto",value:function(e){return this._pipe("bucketAuto",e)}},{key:"count",value:function(e){return this._pipe("count",e)}},{key:"geoNear",value:function(e){return this._pipe("geoNear",e)}},{key:"group",value:function(e){return this._pipe("group",e)}},{key:"limit",value:function(e){return this._pipe("limit",e)}},{key:"match",value:function(e){return this._pipe("match",zt.encode(e))}},{key:"project",value:function(e){return this._pipe("project",e)}},{key:"lookup",value:function(e){return this._pipe("lookup",e)}},{key:"replaceRoot",value:function(e){return this._pipe("replaceRoot",e)}},{key:"sample",value:function(e){return this._pipe("sample",e)}},{key:"skip",value:function(e){return this._pipe("skip",e)}},{key:"sort",value:function(e){return this._pipe("sort",e)}},{key:"sortByCount",value:function(e){return this._pipe("sortByCount",e)}},{key:"unwind",value:function(e){return this._pipe("unwind",e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==Zt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,en(t).call(this,e,n))}var n;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,Jt),(n=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new Vt(this._db,this._coll,e)}},{key:"add",value:function(e,t){return new Vt(this._db,this._coll,void 0).create(e,t)}},{key:"aggregate",value:function(){return new Xt(this._db,this._coll)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();function rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var on={eq:function(e){return new Oe(me.EQ,[e])},neq:function(e){return new Oe(me.NEQ,[e])},lt:function(e){return new Oe(me.LT,[e])},lte:function(e){return new Oe(me.LTE,[e])},gt:function(e){return new Oe(me.GT,[e])},gte:function(e){return new Oe(me.GTE,[e])},in:function(e){return new Oe(me.IN,e)},nin:function(e){return new Oe(me.NIN,e)},all:function(e){return new Oe(me.ALL,e)},elemMatch:function(e){return new Oe(me.ELEM_MATCH,[e])},exists:function(e){return new Oe(me.EXISTS,[e])},size:function(e){return new Oe(me.SIZE,[e])},mod:function(e){return new Oe(me.MOD,[e])},geoNear:function(e){return new Oe(me.GEO_NEAR,[e])},geoWithin:function(e){return new Oe(me.GEO_WITHIN,[e])},geoIntersects:function(e){return new Oe(me.GEO_INTERSECTS,[e])},and:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=q(arguments[0])?arguments[0]:Array.from(arguments);return new we(_e.AND,r)},nor:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=q(arguments[0])?arguments[0]:Array.from(arguments);return new we(_e.NOR,r)},or:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=q(arguments[0])?arguments[0]:Array.from(arguments);return new we(_e.OR,r)},not:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=q(arguments[0])?arguments[0]:Array.from(arguments);return new we(_e.NOT,r)},set:function(e){return new ye(he.SET,[e])},remove:function(){return new ye(he.REMOVE,[])},inc:function(e){return new ye(he.INC,[e])},mul:function(e){return new ye(he.MUL,[e])},push:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(U(n[0])&&n[0].hasOwnProperty("each")){var o=n[0];e={$each:o.each,$position:o.position,$sort:o.sort,$slice:o.slice}}else e=q(n[0])?n[0]:Array.from(n);return new ye(he.PUSH,e)},pull:function(e){return new ye(he.PULL,e)},pullAll:function(e){return new ye(he.PULL_ALL,e)},pop:function(){return new ye(he.POP,[])},shift:function(){return new ye(he.SHIFT,[])},unshift:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=q(arguments[0])?arguments[0]:Array.from(arguments);return new ye(he.UNSHIFT,r)},addToSet:function(e){return new ye(he.ADD_TO_SET,e)},rename:function(e){return new ye(he.RENAME,[e])},bit:function(e){return new ye(he.BIT,[e])},max:function(e){return new ye(he.MAX,[e])},min:function(e){return new ye(he.MIN,[e])},expr:function(e){return{$expr:e}},jsonSchema:function(e){return{$jsonSchema:e}},text:function(e){return function(e){return"string"===F(e)}(e)?{$search:e.search}:{$search:e.search,$language:e.language,$caseSensitive:e.caseSensitive,$diacriticSensitive:e.diacriticSensitive}},aggregate:{pipeline:function(){return new Xt},abs:function(e){return new an("abs",e)},add:function(e){return new an("add",e)},ceil:function(e){return new an("ceil",e)},divide:function(e){return new an("divide",e)},exp:function(e){return new an("exp",e)},floor:function(e){return new an("floor",e)},ln:function(e){return new an("ln",e)},log:function(e){return new an("log",e)},log10:function(e){return new an("log10",e)},mod:function(e){return new an("mod",e)},multiply:function(e){return new an("multiply",e)},pow:function(e){return new an("pow",e)},sqrt:function(e){return new an("sqrt",e)},subtract:function(e){return new an("subtract",e)},trunc:function(e){return new an("trunc",e)},arrayElemAt:function(e){return new an("arrayElemAt",e)},arrayToObject:function(e){return new an("arrayToObject",e)},concatArrays:function(e){return new an("concatArrays",e)},filter:function(e){return new an("filter",e)},in:function(e){return new an("in",e)},indexOfArray:function(e){return new an("indexOfArray",e)},isArray:function(e){return new an("isArray",e)},map:function(e){return new an("map",e)},range:function(e){return new an("range",e)},reduce:function(e){return new an("reduce",e)},reverseArray:function(e){return new an("reverseArray",e)},size:function(e){return new an("size",e)},slice:function(e){return new an("slice",e)},zip:function(e){return new an("zip",e)},and:function(e){return new an("and",e)},not:function(e){return new an("not",e)},or:function(e){return new an("or",e)},cmp:function(e){return new an("cmp",e)},eq:function(e){return new an("eq",e)},gt:function(e){return new an("gt",e)},gte:function(e){return new an("gte",e)},lt:function(e){return new an("lt",e)},lte:function(e){return new an("lte",e)},neq:function(e){return new an("ne",e)},cond:function(e){return new an("cond",e)},ifNull:function(e){return new an("ifNull",e)},switch:function(e){return new an("switch",e)},dateFromParts:function(e){return new an("dateFromParts",e)},dateFromString:function(e){return new an("dateFromString",e)},dayOfMonth:function(e){return new an("dayOfMonth",e)},dayOfWeek:function(e){return new an("dayOfWeek",e)},dayOfYear:function(e){return new an("dayOfYear",e)},isoDayOfWeek:function(e){return new an("isoDayOfWeek",e)},isoWeek:function(e){return new an("isoWeek",e)},isoWeekYear:function(e){return new an("isoWeekYear",e)},millisecond:function(e){return new an("millisecond",e)},minute:function(e){return new an("minute",e)},month:function(e){return new an("month",e)},second:function(e){return new an("second",e)},hour:function(e){return new an("hour",e)},week:function(e){return new an("week",e)},year:function(e){return new an("year",e)},literal:function(e){return new an("literal",e)},mergeObjects:function(e){return new an("mergeObjects",e)},objectToArray:function(e){return new an("objectToArray",e)},allElementsTrue:function(e){return new an("allElementsTrue",e)},anyElementTrue:function(e){return new an("anyElementTrue",e)},setDifference:function(e){return new an("setDifference",e)},setEquals:function(e){return new an("setEquals",e)},setIntersection:function(e){return new an("setIntersection",e)},setIsSubset:function(e){return new an("setIsSubset",e)},setUnion:function(e){return new an("setUnion",e)},concat:function(e){return new an("concat",e)},dateToString:function(e){return new an("dateToString",e)},indexOfBytes:function(e){return new an("indexOfBytes",e)},indexOfCP:function(e){return new an("indexOfCP",e)},split:function(e){return new an("split",e)},strLenBytes:function(e){return new an("strLenBytes",e)},strLenCP:function(e){return new an("strLenCP",e)},strcasecmp:function(e){return new an("strcasecmp",e)},substr:function(e){return new an("substr",e)},substrBytes:function(e){return new an("substrBytes",e)},substrCP:function(e){return new an("substrCP",e)},toLower:function(e){return new an("toLower",e)},toUpper:function(e){return new an("toUpper",e)},meta:function(e){return new an("meta",e)},addToSet:function(e){return new an("addToSet",e)},avg:function(e){return new an("avg",e)},first:function(e){return new an("first",e)},last:function(e){return new an("last",e)},max:function(e){return new an("max",e)},min:function(e){return new an("min",e)},push:function(e){return new an("push",e)},stdDevPop:function(e){return new an("stdDevPop",e)},stdDevSamp:function(e){return new an("stdDevSamp",e)},sum:function(e){return new an("sum",e)},let:function(e){return new an("let",e)}},project:{slice:function(e){return new sn("slice",e)},elemMatch:function(e){return new sn("elemMatch",e)}}},an=function e(t,n){rn(this,e),this["$"+t]=n},sn=function e(t,n){rn(this,e),this["$"+t]=n};var cn=function(){function e(t){var n=t.regexp,r=t.options;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new TypeError("regexp must be a string");this.$regex=n,this.$options=r}var t;return(t=[{key:"parse",value:function(){return{$regex:this.$regex,$options:this.$options}}},{key:"_internalType",get:function(){return L}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function un(e){return new cn(e)}var ln={CREATE_WATCH_NET_ERROR:{code:"CREATE_WATCH_NET_ERROR",message:"create watch network error"},CREATE_WACTH_EXCEED_ERROR:{code:"CREATE_WACTH_EXCEED_ERROR",message:"maximum connections exceed"},CREATE_WATCH_SERVER_ERROR:{code:"CREATE_WATCH_SERVER_ERROR",message:"create watch server error"},CONN_ERROR:{code:"CONN_ERROR",message:"connection error"},INVALID_PARAM:{code:"INVALID_PARAM",message:"Invalid request param"},INSERT_DOC_FAIL:{code:"INSERT_DOC_FAIL",message:"insert document failed"},DATABASE_TRANSACTION_CONFLICT:{code:"DATABASE_TRANSACTION_CONFLICT",message:"database transaction conflict"}};var fn="database.updateDocInTransaction",dn=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this.id=r,this._transaction=t,this._request=this._transaction.getRequestMethod(),this._transactionId=this._transaction.getTransactionId()}var t;return(t=[{key:"create",value:function(e){var t,n,r,o;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,data:Qt.a.stringify(Re(e),{relaxed:!1})},this.id&&(t._id=this.id),i.next=4,regeneratorRuntime.awrap(this._request.send("database.insertDocInTransaction",t));case 4:if(!(n=i.sent).code){i.next=7;break}throw n;case 7:if(r=Qt.a.parse(n.inserted),1!=(o=Qt.a.parse(n.ok))||1!=r){i.next=13;break}return i.abrupt("return",_extends(_extends({},n),{ok:o,inserted:r}));case 13:throw new Error(ln.INSERT_DOC_FAIL.message);case 14:case"end":return i.stop()}},null,this)}},{key:"get",value:function(){var e,t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},n.next=3,regeneratorRuntime.awrap(this._request.send("database.getInTransaction",e));case 3:if(!(t=n.sent).code){n.next=6;break}throw t;case 6:return n.abrupt("return",{data:"null"!==t.data?le.formatField(Qt.a.parse(t.data)):Qt.a.parse(t.data),requestId:t.requestId});case 7:case"end":return n.stop()}},null,this)}},{key:"set",value:function(e){var t,n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Qt.a.stringify(Re(e),{relaxed:!1}),upsert:!0},r.next=3,regeneratorRuntime.awrap(this._request.send(fn,t));case 3:if(!(n=r.sent).code){r.next=6;break}throw n;case 6:return r.abrupt("return",_extends(_extends({},n),{updated:Qt.a.parse(n.updated),upserted:n.upserted?JSON.parse(n.upserted):null}));case 7:case"end":return r.stop()}},null,this)}},{key:"update",value:function(e){var t,n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}},data:Qt.a.stringify(qe.encode(e),{relaxed:!1})},r.next=3,regeneratorRuntime.awrap(this._request.send(fn,t));case 3:if(!(n=r.sent).code){r.next=6;break}throw n;case 6:return r.abrupt("return",_extends(_extends({},n),{updated:Qt.a.parse(n.updated)}));case 7:case"end":return r.stop()}},null,this)}},{key:"delete",value:function(){var e,t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return e={collectionName:this._coll,transactionId:this._transactionId,query:{_id:{$eq:this.id}}},n.next=3,regeneratorRuntime.awrap(this._request.send("database.deleteDocInTransaction",e));case 3:if(!(t=n.sent).code){n.next=6;break}throw t;case 6:return n.abrupt("return",_extends(_extends({},t),{deleted:Qt.a.parse(t.deleted)}));case 7:case"end":return n.stop()}},null,this)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function pn(e){return(pn="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vn=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,hn(t).call(this,e,n))}var n;return function(e,t){e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}(t,function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._coll=n,this._transaction=t}),(n=[{key:"doc",value:function(e){if("string"!=typeof e&&"number"!=typeof e)throw new Error("docId必须为字符串或数字");return new dn(this._transaction,this._coll,e)}},{key:"add",value:function(e){var t;return void 0!==e._id&&(t=e._id),new dn(this._transaction,this._coll,t).create(e)}},{key:"name",get:function(){return this._coll}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,n),t}();var _n=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._db=t,this._request=new mn.reqClass(this._db.config),this.aborted=!1,this.commited=!1,this.inited=!1}var t;return(t=[{key:"init",value:function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this._request.send("database.startTransaction"));case 2:if(!(e=t.sent).code){t.next=5;break}throw e;case 5:this.inited=!0,this._id=e.transactionId;case 7:case"end":return t.stop()}},null,this)}},{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new vn(this,e)}},{key:"getTransactionId",value:function(){return this._id}},{key:"getRequestMethod",value:function(){return this._request}},{key:"commit",value:function(){var e,t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return e={transactionId:this._id},n.next=3,regeneratorRuntime.awrap(this._request.send("database.commitTransaction",e));case 3:if(!(t=n.sent).code){n.next=6;break}throw t;case 6:return this.commited=!0,n.abrupt("return",t);case 8:case"end":return n.stop()}},null,this)}},{key:"rollback",value:function(e){var t,n;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return t={transactionId:this._id},r.next=3,regeneratorRuntime.awrap(this._request.send("database.abortTransaction",t));case 3:if(!(n=r.sent).code){r.next=6;break}throw n;case 6:return this.aborted=!0,this.abortReason=e,r.abrupt("return",n);case 9:case"end":return r.stop()}},null,this)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function yn(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _n(this),t.next=3,regeneratorRuntime.awrap(e.init());case 3:return t.abrupt("return",e);case 4:case"end":return t.stop()}},null,this)}function bn(e){var t,n,r,o,i=arguments;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:3,a.prev=1,n=new _n(this),a.next=5,regeneratorRuntime.awrap(n.init());case 5:return a.next=7,regeneratorRuntime.awrap(e(n));case 7:if(r=a.sent,!0!==n.aborted){a.next=10;break}throw n.abortReason;case 10:return a.next=12,regeneratorRuntime.awrap(n.commit());case 12:return a.abrupt("return",r);case 15:if(a.prev=15,a.t0=a.catch(1),!1!==n.inited){a.next=19;break}throw a.t0;case 19:if(o=function(e){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.aborted||n.commited){t.next=9;break}return t.prev=1,t.next=4,regeneratorRuntime.awrap(n.rollback());case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:throw e;case 9:if(!0!==n.aborted){t.next=11;break}throw n.abortReason;case 11:throw e;case 12:case"end":return t.stop()}},null,null,[[1,6]])},!(t<=0)){a.next=23;break}return a.next=23,regeneratorRuntime.awrap(o(a.t0));case 23:if(!a.t0||a.t0.code!==ln.DATABASE_TRANSACTION_CONFLICT.code){a.next=27;break}return a.next=26,regeneratorRuntime.awrap(bn.bind(this)(e,--t));case 26:return a.abrupt("return",a.sent);case 27:return a.next=29,regeneratorRuntime.awrap(o(a.t0));case 29:case"end":return a.stop()}},null,this,[[1,15]])}n.d(t,"Db",function(){return mn}),n.d(t,"Query",function(){return Jt}),n.d(t,"CollectionReference",function(){return nn}),n.d(t,"DocumentReference",function(){return Vt});var mn=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.Geo=o,this.serverDate=ce,this.command=on,this.RegExp=un,this.startTransaction=yn,this.runTransaction=bn}var t;return(t=[{key:"collection",value:function(e){if(!e)throw new Error("Collection name is required");return new nn(this,e)}},{key:"createCollection",value:function(t){var n={collectionName:t};return new e.reqClass(this.config).send("database.addCollection",n)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}()}])}]),__appServiceSDK__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}n.d(t,"k",function(){return o}),n.d(t,"a",function(){return v}),n.d(t,"j",function(){return _}),n.d(t,"m",function(){return y}),n.d(t,"n",function(){return b}),n.d(t,"o",function(){return m}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"l",function(){return f}),n.d(t,"f",function(){return d}),n.d(t,"p",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"i",function(){return g});var o="android"===__qqConfig.platform,i=Object.prototype.toString;function a(e){return i.call(e).slice(8,-1)}function s(e,t){return function(){try{return e.apply(void 0,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"===e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}function c(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"parameter",r=a(t),o=a(e);if(o!==r)return n+" should be "+r+" instead of "+o+";";var i="";switch(r){case"Object":Object.keys(t).forEach(function(r){i+=c(e[r],t[r],n+"."+r)});break;case"Array":if(e.length<t.length)return n+" should have at least "+t.length+" item;";for(var s=0;s<t.length;++s)i+=c(e[s],t[s],n+"["+s+"]")}return i}function u(e,t,n){var r=c(t,n);return!r||(w(e,t,"parameter error: "+r),!1)}function l(e,t){"function"==typeof e&&e(t)}function f(){}function d(e){return Object.keys(e).reduce(function(t,n){return"string"==typeof e[n]?t[n]=e[n]:"number"==typeof e[n]?t[n]=String(e[n]):t[n]=Object.prototype.toString.apply(e[n]),t},{})}function p(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("object"!==(void 0===e?"undefined":r(e)))return e;var n=[];for(var o in e)if(e.hasOwnProperty(o))if(t)try{n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]))}catch(t){n.push(o+"="+e[o])}else n.push(o+"="+e[o]);return n.join("&")}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){for(var n in t)e[n]=t[n];return e},{})}function g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function v(e,t,n){__safeway__.bridge.invoke(e,t,n)}function _(e){var t=Date.now(),n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};n=_extends({},n);var o={};Object.keys(n).forEach(function(t){"function"==typeof n[t]&&(o[t]=Reporter.surroundThirdByTryCatch(n[t],"at api "+e+" "+t+" callback function"),delete n[t])});var i={};Object.keys(r).forEach(function(t){"function"==typeof r[t]&&(i[t]=s(r[t],"at api "+e+" "+t+" callback function"),i[t]._argumentsLength=r[t].length)}),v(e,n,function(n){n.errMsg=n.errMsg||e+":ok";var r=0===n.errMsg.indexOf(e+":ok"),a=0===n.errMsg.indexOf(e+":cancel"),s=0===n.errMsg.indexOf(e+":fail");if("function"==typeof i.beforeAll&&i.beforeAll(n),r){var c=function(){l(o.success,n),l(i.afterSuccess,n)};"function"==typeof i.beforeSuccess?2===i.beforeSuccess._argumentsLength?i.beforeSuccess(n,c):(i.beforeSuccess(n),c()):c()}else if(a)n.errMsg=n.errMsg.replace(e+":cancel",e+":fail cancel"),l(o.fail,n),l(i.beforeCancel,n),l(o.cancel,n),l(i.afterCancel,n);else if(s){l(i.beforeFail,n),l(o.fail,n);var u=!0;"function"==typeof i.afterFail&&(u=i.afterFail(n)),!1!==u&&Reporter.reportIDKey({key:e+"_fail"})}if("function"==typeof o.complete&&o.complete(n),"function"==typeof i.afterAll&&i.afterAll(n),"api_report"!==e){var f=Date.now();Reporter.reportJSAPI({api:e,ret:r?"ok":s?"fail":"cancel",errMsg:n.errMsg,callStartTime:t,callEndTime:f,type:"service"})}})}function y(e,t){var n,r;r=s(t,"at api "+(n=e)+" callback function"),__safeway__.bridge.on(n,r)}function b(e,t,n){var r={data:t,options:{timestamp:Date.now()}};__safeway__.bridge.publish(e,r,n)}function m(e,t){__safeway__.bridge.subscribe(e,function(e,n){var r=e.data,o=e.options,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=o&&o.timestamp||0,s=Date.now();"function"==typeof t&&t(r,n),Reporter.speedReport({key:"webview2AppService",data:r||{},timeMark:{startTime:a,endTime:s,nativeTime:i.nativeTime||0}})})}function w(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length?arguments[3]:void 0,o=e+":fail "+n;console.error(o);var i=Reporter.surroundThirdByTryCatch(t.fail||f,"at api "+e+" fail callback function"),a=Reporter.surroundThirdByTryCatch(t.complete||f,"at api "+e+" complete callback function"),s={errMsg:o};"number"==typeof r&&(s.errCode=r),i(s),a(s)}function S(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=4<arguments.length?arguments[4]:void 0,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{},a=!(6<arguments.length&&void 0!==arguments[6])||arguments[6],s=n?e+":ok":e+":fail "+r;!n&&a&&console.error(s);var c=Reporter.surroundThirdByTryCatch((n?t.success:t.fail)||f,"at api "+e+" "+(n?"success":"fail")+" callback function"),u=Reporter.surroundThirdByTryCatch(t.complete||f,"at api "+e+" complete callback function");i.errMsg=s,"number"==typeof o&&(i.errCode=o),c(i),u(i)}},function(e,t,n){"use strict";n.d(t,"b",function(){return s});var r=n(0);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}var s={wnsRequest:function(e,t){if(__qqConfig.isReady||console.warn("__qqConfig is not ready"),t=t||"wnsRequest","function"!=typeof e.data){var n=Object(r.h)(e.header);"Undefined"!==n&&"Object"!==n&&(console.warn("qq.wnsRequest: header must be an object"),e.header={}),e.header=e.header||{},e.header=Object(r.f)(e.header),e.header=Object.keys(e.header).reduce(function(t,n){return"content-type"===n.toLowerCase()?t[n.toLowerCase()]=e.header[n]:t[n]=e.header[n],t},{}),e.method=e.method||"GET","string"==typeof e.method&&(e.method=e.method.toUpperCase()),e.dataType=e.dataType||"json",e.header["content-type"]=e.header["content-type"]||"application/json";var o,i=e.header||{};o=void 0===e.data?"":"string"!=typeof e.data&&"ArrayBuffer"!==Object(r.h)(e.data)?-1<i["content-type"].indexOf("application/x-www-form-urlencoded")?Object(r.p)(e.data,!0):-1<i["content-type"].indexOf("application/json")?JSON.stringify(e.data):"object"===a(e.data)?JSON.stringify(e.data):e.data.toString():e.data,e.data=o,"GET"===e.method&&(e.url=function(e,t){if("string"==typeof e&&"object"===a(t)&&null!==t&&0<Object.keys(t).length){var n=e.split("?");return n[0]+"?"+Object(r.p)(Object(r.b)((n[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e},{}),Object.keys(t).reduce(function(e,n){return"object"===a(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e},{})))}return e}(e.url,e.data)),Object(r.j)(t,e,{beforeSuccess:function(t){if("json"===e.dataType)try{t.data=JSON.parse(t.data)}catch(e){}if("string"==typeof t.header)try{t.header=JSON.parse(t.header)}catch(e){}return t}})}else Object(r.g)(t,e,"data should not be Function")},notifyNative:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready"),Object(r.j)("notifyNative",e)},openScheme:function(e){Object(r.j)("openScheme",e),e&&"mqqapi://card/show_pslcard"===e.api_name&&Reporter.reportApiCall({apiname:"show_pslcard",param:JSON.stringify(e)})},setOfficialDress:function(e){var t,n=e.action,i=e.uin,a=e.item_id,s=e.busi_info;if(n&&"string"==typeof n&&i&&"string"==typeof i&&a&&"string"==typeof a&&(!s||"string"==typeof s)){var c=["setAvatar","setMyPraise","setBubble","setTheme","setFont","setCard","setPendant","setBackground","setGroupEffect","setScreenFloat","setEmoji","setCall","setSign","setRedPack"].indexOf(n);if(-1!==c){e.set_type=c+1;var u={};e.fail&&(u.fail=e.fail),e.success&&(u.success=e.success),e.complete&&(u.complete=e.complete),u.data=e,Object(r.j)("Personalize",o({api_name:n},u)),Reporter.reportApiCall({apiname:"setOfficialDress"})}else t={errMsg:"Personalize:fail 方法名不存在"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else t={errMsg:"Personalize:fail 参数错误"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)},setCustomDress:function(e){var t,n=e.path,i=e.action;if(n&&"string"==typeof n&&i&&"string"==typeof i){var a={};e.fail&&(a.fail=e.fail),e.success&&(a.success=e.success),e.complete&&(a.complete=e.complete),a.data=e,Object(r.j)("invokeNativePlugin",o({api_name:i},a)),Reporter.reportApiCall({apiname:"setCustomDress"})}else t={errMsg:"invokeNativePlugin:fail 参数错误"},"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)},getUserInfoExtra:function(e){Object(r.j)("getUserInfoExtra",e)},openQzonePublish:function(e){var t,n=(e=e||{}).text,o=e.tag,i=e.media,a=e.path,s=e.footnote;n&&"string"!=typeof n||o&&"string"!=typeof o||a&&"string"!=typeof a||s&&"string"!=typeof s||i&&!Array.isArray(i)?t={errMsg:"openQzonePublish:fail 参数类型错误"}:i&&Array.isArray(i)&&i.forEach(function(e){var n=e.type,r=e.path;n&&!r||!n&&r?t={errMsg:"openQzonePublish:fail 参数不全"}:n&&"string"!=typeof n||r&&"string"!=typeof r?t={errMsg:"openQzonePublish:fail 参数类型错误"}:0!==r.indexOf("qqfile")&&0!==r.indexOf("wxfile")&&(t={errMsg:"openQzonePublish:fail 媒体文件必须是本地文件"})}),t?("function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)):(Object(r.j)("openQzonePublish",e),Reporter.reportApiCall({apiname:"openQzonePublish"}))},invokeNativePlugin:function(e){Object(r.j)("invokeNativePlugin",e)},onNativePluginEvent:function(e,t){__safeway__.bridge.subscribe(e,t)},getCloudTicket:function(e){__qqConfig.isReady||console.warn("__qqConfig is not ready"),Reporter.reportApiCall({apiname:"getCloudTicket"}),Object(r.j)("getCloudTicket",e)},reportAnalytics:function(e,t){if(e){var n=void 0!==__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"",o=void 0!==__wxConfig&&__wxConfig.QUA||"",i=e||"",a=JSON.stringify(t),s=void 0!==__wxConfig&&__wxConfig.miniapp_version||"";Object(r.j)("reportDC",{table:"dc05329",reportArray:[n,"",o,"",i,a,s].map(function(e){return String(e)})})}else console.error("qq.reportMonitor: require 'eventName' argument.")},reportMonitor:function(e,t){if(e)if(void 0===t&&(t=1),"number"==typeof t){var n=void 0!==__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId||"",o=void 0!==__wxConfig&&__wxConfig.QUA||"",i=e||"",a=String(t),s=void 0!==__wxConfig&&__wxConfig.miniapp_version||"";Object(r.j)("reportDC",{table:"dc05330",reportArray:[n,"",o,"",i,a,s].map(function(e){return String(e)})})}else console.error("qq.reportMonitor: 'value' argument must be a Number.");else console.error("qq.reportMonitor: require 'name' argument.")},showMiniAIOEntrance:function(e){var t=qq.getSystemInfoSync().windowWidth,n=qq.getSystemInfoSync().windowHeight,o=/[+-]?\d+(\.\d+)?rpx/,i=/[+-]?\d+(\.\d+)?px/,a=/[+-]?\d+(\.\d+)?%/,s=/\d+/,c=[];function u(e,r){var u,l="y"===r?n:t;return"number"==typeof e?u=e:e.match(o)?(u=parseInt(e,10),u*=t/750):function(e){return e.match(i)}(e)?u=parseInt(e,10):function(e){return e.match(a)}(e)?u=(u=parseInt(e,10))/100*l:function(e){return e.match(s)}(e)?u=Number(e):r&&"string"==typeof r&&c.push("参数".concat(r,"类型不正确")),u}if(e&&(e.x&&(e.x=u(e.x,"x")),e.y&&(e.y=u(e.y,"y"))),c.length>0){var l={errMsg:"showMiniAIOEntrance:fail ".concat(c.join(";"))};return"function"==typeof e.fail&&e.fail(l),void("function"==typeof e.complete&&e.complete(l))}Object(r.j)("showMiniAIOEntrance",e)},hideMiniAIOEntrance:function(e){Object(r.j)("hideMiniAIOEntrance",e)}}},function(e,t,n){"use strict";var r=n(0),o=n(1);function i(e,t,n){t.extra&&(e.data+="&extra=".concat(t.extra)),t.sig&&(e.data+="&sig=".concat(t.sig)),1==t.test&&(e.data+="&test=1"),e.method="POST",e.header={"Content-Type":"application/x-www-form-urlencoded"},e.entryDataHash=t.entryDataHash,e.success=function(e){var r=e.data;if(0===r.retcode)r.data.event_id&&(r.data.eventId=r.data.event_id),"function"==typeof t.success&&t.success(r.data),"function"==typeof t.complete&&t.complete(r.data);else{var o=r.msg;"modifyGroupCalendar"===n&&10021===r.retcode&&(o="编辑事件时间不得晚于开始时间");var i={errCode:r.retcode,errMsg:"".concat(n,":fail ").concat(o)};"function"==typeof t.fail&&t.fail(i),"function"==typeof t.complete&&t.complete(i)}},e.fail=function(e){e||(e={errCode:1e4,errMsg:"".concat(n,":fail params error")}),e.errMsg&&(e.errMsg=e.errMsg.replace("wnsGroupRequest",n)),e.errCode||(e.errCode=1e4),"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},e.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/"+e.url.replace(/^https?:\/\//i,""),o.default.wnsRequest(e,"wnsGroupRequest")}var a=function(e){if(Object(r.e)("getGroupInfo",e,{entryDataHash:""}))try{Object(r.j)("getGroupInfo",{entryDataHash:e.entryDataHash,success:function(t){var n=t.errMsg||"ok";Object(r.c)("getGroupInfo",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("get group info fail:"+JSON.stringify(t)),Object(r.c)("getGroupInfo",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}),Reporter.reportApiCall({apiname:"getGroupInfo"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getGroupInfo:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"getGroupInfo:complete "+t.message})}},s={332:"headTeacher",333:"teacher",334:"patriarch",335:"student"};t.a={addGroupCalendar:function(e){var t=__qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId;if(Object(r.e)("addGroupCalendar",e,{entryDataHash:"",startTime:1,endTime:0,remindTime:0,title:"",desc:""})){var n={url:"https://qun.qq.com/cgi-bin/calendar/publish/add?_wnscgi=1"};n.data="gc={groupId}&appid=".concat(t,"&name=").concat(e.title,"&desc=").concat(e.desc,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime,"&remind_time=").concat(e.remindTime),e.path&&(n.data+="&miniapp_url=".concat(e.path)),e.eventType&&(n.data+="&event_type=".concat(e.eventType)),i(n,e,"addGroupCalendar")}},modifyGroupCalendar:function(e){var t=__qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId;if(Object(r.e)("modifyGroupCalendar",e,{entryDataHash:"",startTime:1,endTime:0,remindTime:0,title:"",desc:"",eventId:""})){var n={url:"https://qun.qq.com/cgi-bin/calendar/publish/modify?_wnscgi=1"};n.data="gc={groupId}&appid=".concat(t,"&event_id=").concat(e.eventId,"&name=").concat(e.title,"&desc=").concat(e.desc,"&start_time=").concat(e.startTime,"&end_time=").concat(e.endTime,"&remind_time=").concat(e.remindTime),e.path&&(n.data+="&miniapp_url=".concat(e.path)),i(n,e,"modifyGroupCalendar")}},removeGroupCalendar:function(e){var t=__qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId;if(Object(r.e)("removeGroupCalendar",e,{entryDataHash:"",eventId:""})){var n={url:"https://qun.qq.com/cgi-bin/calendar/publish/del?_wnscgi=1"};n.data="gc={groupId}&appid=".concat(t,"&event_id=").concat(e.eventId),i(n,e,"removeGroupCalendar")}},getGroupCalendarDetail:function(e){var t="getGroupCalendarDetail",n=__qqConfig&&__qqConfig.accountInfo&&__qqConfig.accountInfo.appId;if(Object(r.e)(t,e,{entryDataHash:"",eventId:""})){var o={url:"https://qun.qq.com/cgi-bin/calendar/event/info?_wnscgi=1"};o.data="gc={groupId}&appid=".concat(n,"&event_id=").concat(e.eventId),i(o,e,t)}},getGroupAppStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="getGroupAppStatus";Object(r.e)(t,e,{entryDataHash:""})&&(Object(r.j)(t,e),Reporter.reportApiCall({apiname:t}))},openGroupNotice:function(e){if(Object(r.e)("openGroupNotice",e,{entryDataHash:""}))try{a({entryDataHash:e.entryDataHash,success:function(t){t.isGroupManager?Object(r.j)("invokeGroupJSApi",{entryDataHash:e.entryDataHash,url:"https://web.qun.qq.com/mannounce/edit.html?&_wv=1031#gc={{gid}}&role=2",success:function(t){var n=t.errMsg||"ok";Object(r.c)("openGroupNotice",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(r.c)("openGroupNotice",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}):Object(r.c)("openGroupNotice",e,!1,"only group manager can open group notice",null,t),Reporter.reportApiCall({apiname:"openGroupNotice"})},fail:function(t){var n=t.errMsg||"unknown error";console.error("openGroupRemind getGroupInfo fail:"+JSON.stringify(t)),Object(r.c)("openGroupRemind",e,!1,n.replace("openGroupRemind:fail ","").replace("getGroupInfo:fail ",""),null,t)}})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"openGroupNotice:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"openGroupNotice:complete "+t.message})}},openGroupRemind:function(e){if(Object(r.e)("openGroupRemind",e,{entryDataHash:""}))try{a({entryDataHash:e.entryDataHash,success:function(t){t.isGroupManager?(Object(r.j)("invokeGroupJSApi",{entryDataHash:e.entryDataHash,url:"https://qun.qq.com/qqweb/m/qun/calendar/create.html?_wv=1031&role=1&gc={{gid}}&role=1",success:function(t){var n=t.errMsg||"ok";Object(r.c)("openGroupRemind",e,!0,n,null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(r.c)("openGroupRemind",e,!1,n.replace("getGroupInfo:fail ",""),null,t)},complete:function(){}}),Reporter.reportApiCall({apiname:"openGroupRemind"})):Object(r.c)("openGroupRemind",e,!1,"only group manager can open group remind",null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("openGroupRemind getGroupInfo fail:"+JSON.stringify(t)),Object(r.c)("openGroupRemind",e,!1,n.replace("openGroupRemind:fail ","").replace("getGroupInfo:fail ",""),null,t)}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"openGroupRemind:fail "+t.message}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"openGroupRemind:complete "+t.message})}},getGroupInfo:a,getGroupInfoExtra:function(e){if(Object(r.e)("getGroupInfoExtra",e,{entryDataHash:""}))try{Object(r.j)("getGroupInfoExtra",{entryDataHash:e.entryDataHash,success:function(t){var n=t,o=n.errMsg,i=void 0===o?"ok":o,a=n.isGroupManager,c=void 0!==a&&a,u=n.extInfo,l=void 0===u?{}:u;if("string"==typeof l)try{l=JSON.parse(l)}catch(e){throw console.error("json parse error",l,e),new Error("extInfo is invalid json string")}t={errMsg:i,isGroupManager:c,groupOpenId:l.group_openid||"",role:s[String(l.id)]||"",groupId:l.group_id||"",groupName:l.group_name||"",userNameCard:l.user_name_card||""},Object(r.c)("getGroupInfoExtra",e,!0,i,null,t)},fail:function(t){var n=t.errMsg||"unknown error";console.error("get group info extra fail:"+JSON.stringify(t)),Object(r.c)("getGroupInfoExtra",e,!1,n.replace("getGroupInfoExtra:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getGroupInfoExtra"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getGroupInfoExtra:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"getGroupInfoExtra:complete "+t.message})}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(0),o={},i={ShareInfoStorage:{lastShareTicket:null,get:function(e){return o[e]},set:function(e,t){var n=Object(r.i)();return o[n]={shareKey:e,shareName:t},n}},getShareInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.shareTicket?Object(r.j)("operateWXData",Object(r.b)({data:{api_name:"webapi_getshareinfo",data:{shareTicket:e.shareTicket}}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getShareInfo")},beforeSuccess:function(e){r.k&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{var t=JSON.parse(e.data.data);t.roomTopic&&(e.roomTopic=t.roomTopic)}catch(e){}e.iv=e.data.iv,e.encryptedData=e.data.encryptedData,delete e.data}}):Object(r.g)("getShareInfo",e,"invalid shareTicket")},showShareMenu:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!0===e.withShareTicket?Object(r.j)("showShareMenuWithShareTicket",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showShareMenuWithShareTicket","showShareMenu")},beforeFail:function(e){e.errMsg+=", with arg withShareTicket: true"}}):Object(r.j)("showShareMenu",e,{}),Reporter.reportApiCall({apiname:"showShareMenu"})},hideShareMenu:function(){Object(r.j)("hideShareMenu",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},updateShareMenu:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Promise.all([new Promise(function(t,n){"boolean"==typeof e.withShareTicket?Object(r.j)("updateShareMenuShareTicket",{withShareTicket:e.withShareTicket,success:t,fail:n},{beforeAll:function(e){e.errMsg=e.errMsg.replace("updateShareMenuShareTicket","updateShareMenu")},beforeFail:function(e){e.errMsg+=', with arg "withShareTicket": true'}}):t({errMsg:"updateShareMenu:ok"})}),new Promise(function(t,n){if(e.isUpdatableMessage,"boolean"==typeof e.isUpdatableMessage){var o=JSON.stringify({activity_id:e.activityId,template_id:e.templateInfo.templateId,parameter_list:e.templateInfo.parameterList});Object(r.j)("updateShareMenuUpdatable",{updatable:e.isUpdatableMessage,templateId:o,success:t,fail:n})}else t({errMsg:"updateShareMenu:ok"})})]).then(function(t){"function"==typeof e.success&&Reporter.surroundThirdByTryCatch(e.success,"at api updateShareMenu success callback function")(t[0]),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t[0])},function(t){"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api updateShareMenu fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api updateShareMenu complete callback function")(t)})},showUpdatableMessageSubscribeButton:function(){console.warn("qq.showUpdatableMessageSubscribeButton 此接口已废弃")}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(0);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=!1,s={};function c(e,t){var n=e.appid,r=s[n];return t&&delete s[n],r}function u(e,t){e=e||"",t=t||{};var n={},r=!0;return"ios"===__wxConfig.platform?(n={errMsg:e+":fail ios 不支持"+e+"接口，请到安卓手机调试"},r=!1):"devtools"===__wxConfig.platform?(n={errMsg:e+":fail 开发者工具 不支持"+e+"接口，请到安卓手机调试"},r=!1):r=!0,r||(t.fail&&"function"==typeof t.fail&&Reporter.surroundThirdByTryCatch(t.fail,"at api "+e+" fail callback function")(n),t.complete&&"function"==typeof t.complete&&Reporter.surroundThirdByTryCatch(t.complete,"at api "+e+" complete callback function")(n)),r}var l={startDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u("startDownloadAppTask",e)&&(a||(a=!0,Object(r.m)("onAppDownloadStateChange",function(e){var t=e.state;if(delete e.state,"onDownloadAppProgress"===t){var n=c(o({},e));if(!n)return;n.onDownloadAppProgress&&n.onDownloadAppProgress(e)}else if("onDownloadAppSucceed"===t){var r=c(o({},e),!0);if(!r)return;r.onDownloadAppSucceed&&r.onDownloadAppSucceed(e)}else if("onDownloadAppFailed"===t){var i=c(o({},e),!0);if(!i)return;i.onDownloadAppFailed&&i.onDownloadAppFailed(e)}})),Object(r.e)("startDownloadAppTask",e,{appid:"",autoInstall:!0}))){var t={appid:e.appid},n=t.appid;if(!n)return void console.warn("startDownloadAppTask: task has not appid.");if(s[n])return void console.warn("startDownloadAppTask: task for appid "+n+" already exist.");var i={appid:t.appid};if(e.onDownloadAppSucceed){if("function"!=typeof e.onDownloadAppSucceed)throw new Error("onDownloadAppSucceed should be a function");i.onDownloadAppSucceed=e.onDownloadAppSucceed}if(e.onDownloadAppFailed){if("function"!=typeof e.onDownloadAppFailed)throw new Error("onDownloadAppFailed should be a function");i.onDownloadAppFailed=e.onDownloadAppFailed}if(e.onDownloadAppProgress){if("function"!=typeof e.onDownloadAppProgress)throw new Error("onDownloadAppProgress should be a function");i.onDownloadAppProgress=e.onDownloadAppProgress}s[n]=i;var l=o({},e);Object(r.j)("startDownloadAppTask",l)}},cancelDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u("cancelDownloadAppTask",e)&&Object(r.e)("cancelDownloadAppTask",e,{appid:""})){var t=o({},e,{success:function(){}}),n=t.success;t.success=function(){var t=e.appid;s[t]&&delete s[t],n(arguments[0]||{})},Object(r.j)("cancelDownloadAppTask",t)}},queryDownloadAppTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(u("queryDownloadAppTask",e)&&Object(r.e)("queryDownloadAppTask",e,{appid:""})){var t=o({},e);Object(r.j)("queryDownloadAppTask",t)}},queryAppInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u("queryAppInfo",e)&&Object(r.e)("queryAppInfo",e,{packagename:""})&&Object(r.j)("queryAppInfo",e)},installApp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u("installApp",e)&&Object(r.e)("installApp",e,{appid:""})&&Object(r.j)("installApp",e)},startApp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u("startApp",e)&&Object(r.e)("startApp",e,{packagename:"",path:""})&&Object(r.j)("startApp",e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o={exitMiniProgram:function(e){Object(r.j)("exitMiniProgram",e)},openActivity:function(e){var t,n=e||{},o="openActivity",i=n.url;if(i?/^https:\/\/\w*\.*qzone\.qq\.com/.test(i)||(t="openActivity:fail url param is not in domain whitelist"):t="openActivity:fail url param is required",t){var a={errMsg:t};return n.fail&&"function"==typeof n.fail&&Reporter.surroundThirdByTryCatch(n.fail,"at api "+o+" fail callback function")(a),void(n.complete&&"function"==typeof n.complete&&Reporter.surroundThirdByTryCatch(n.complete,"at api "+o+" complete callback function")(a))}Object(r.j)("private_openUrl",n,{beforeAll:function(e){e.errMsg&&(e.errMsg=e.errMsg.replace("private_openUrl",o))}})},saveAppToDesktop:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t="saveAppToDesktop";if("devtools"===__wxConfig.platform){var n={errMsg:"saveAppToDesktop:fail 开发者工具 不支持"+t+"接口，请到手机调试"};e.fail&&"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api "+t+" fail callback function")(n),e.complete&&"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api "+t+" complete callback function")(n)}else Object(r.j)(t,e);Reporter.reportApiCall({apiname:"saveAppToDesktop"})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o={getPerformance:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=__appServiceEngine__.getCurrentPages();t&&t[0]&&t[0].__displayReporter&&(t[0].__displayReporter.pageReadyTime||console.warn("建议在页面onReady事件触发之后再调用qq.getPerformance()")),Object(r.j)("getPerformance",e)},setBackgroundFetchToken:function(e){if(Object(r.e)("setBackgroundFetchToken",e,{token:""}))try{Object(r.j)("setBackgroundFetchToken",{token:e.token,success:function(t){var n=t.errMsg,o=void 0===n?"ok":n;Object(r.c)("setBackgroundFetchToken",e,!0,o.replace("setBackgroundFetchToken:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(r.c)("setBackgroundFetchToken",e,!1,n.replace("setBackgroundFetchToken:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"setBackgroundFetchToken"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"setBackgroundFetchToken:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"setBackgroundFetchToken:complete "+t.message})}},getBackgroundFetchToken:function(e){try{Object(r.j)("getBackgroundFetchToken",{success:function(t){var n=t.errMsg,o=void 0===n?"ok":n;Object(r.c)("getBackgroundFetchToken",e,!0,o.replace("getBackgroundFetchToken:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(r.c)("getBackgroundFetchToken",e,!1,n.replace("getBackgroundFetchToken:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getBackgroundFetchToken"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getBackgroundFetchToken:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"getBackgroundFetchToken:complete "+t.message})}},getBackgroundFetchData:function(e){try{Object(r.j)("getBackgroundFetchData",{fetchType:e.fetchType,success:function(t){var n=t.errMsg,o=void 0===n?"ok":n;Object(r.c)("getBackgroundFetchData",e,!0,o.replace("getBackgroundFetchData:ok ",""),null,t)},fail:function(t){var n=t.errMsg||"unknown error";Object(r.c)("getBackgroundFetchData",e,!1,n.replace("getBackgroundFetchData:fail ",""),null,t)}}),Reporter.reportApiCall({apiname:"getBackgroundFetchData"})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"getBackgroundFetchData:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"getBackgroundFetchData:complete "+t.message})}},onBackgroundFetchData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{Object(r.m)("onBackgroundFetchData",function(t){t.errMsg=t.errMsg||"onBackgroundFetchData:ok",0===t.errMsg.indexOf("onBackgroundFetchData:ok")?"function"==typeof e.success&&Reporter.surroundThirdByTryCatch(e.success,"at onBackgroundFetchData callback function")(t):"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at onBackgroundFetchData callback function")(t)})}catch(t){t.errMsg=t.errMsg||"unknown error","function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at onBackgroundFetchData callback function")(t)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o={requestPayment:function(e){if(Object(r.e)("requestPayment",e,{package:""})){var t=e.package.replace(/^prepay_id=/,"");Object(r.j)("requestPayment",{prepayId:t,payInfo:{bargainor_id:e.bargainor_id||"",channel:e.channel||""},success:e.success,fail:e.fail,complete:e.complete})}},requestMidasPayment:function(e){Object(r.e)("requestMidasPayment",e,{offerId:""})&&(e.numberVisible=!0,void 0!==e.buyQuantity&&(e.saveValue=e.buyQuantity),1===e.env?e.setEnv=1:e.setEnv=0,Object(r.j)("requestMidasPayment",e))},requestMidasGoodsPay:function(e){Object(r.e)("requestMidasGoodsPay",e,{offerId:"",payInfo:{tokenUrl:"",aid:"",zoneId:"",numberVisible:!1,unit:"",discountId:"",other:""}})&&("ios"===__wxConfig.platform?console.warn("ios客户端 暂不支持该接口"):"devtools"===__wxConfig.platform?console.warn("开发者工具 暂不支持该接口"):Object(r.j)("requestMidasGoodsPay",e))},requestMidasMonthCardPay:function(e){Object(r.e)("requestMidasMonthCardPay",e,{offerId:"",isShowNum:!1,unit:"",serviceCode:"",serviceName:"",channel:"",saveValue:"",isCanChange:!1,remark:"",autoPay:!1,aid:"",productId:"",couponId:"",other:"",payload:"",drmInfo:""})&&("ios"===__wxConfig.platform?console.warn("ios客户端 暂不支持该接口"):"devtools"===__wxConfig.platform?console.warn("开发者工具 暂不支持该接口"):Object(r.j)("requestMidasMonthCardPay",e))}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(0),o={shareInvite:function(e){Object(r.j)("shareInvite",e)}}},function(e,t,n){var r=n(16),o=n(19);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=b(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(20);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+_typeof3(e));var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var m=c.exec(b);if(m)return this.path=b,this.href=b,this.pathname=m[1],m[2]?(this.search=m[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var S=(w=w[0]).toLowerCase();this.protocol=S,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===b.substr(0,2);!C||w&&v[w]||(b=b.substr(2),this.slashes=!0)}if(!v[w]&&(C||w&&!_[w])){for(var E,I,O=-1,T=0;T<d.length;T++)-1!==(k=b.indexOf(d[T]))&&(-1===O||k<O)&&(O=k);for(-1!==(I=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(E=b.slice(0,I),b=b.slice(I+1),this.auth=decodeURIComponent(E)),O=-1,T=0;T<f.length;T++){var k;-1!==(k=b.indexOf(f[T]))&&(-1===O||k<O)&&(O=k)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var x=this.hostname.split(/\./),P=(T=0,x.length);T<P;T++){var D=x[T];if(D&&!D.match(p)){for(var N="",j=0,R=D.length;j<R;j++)127<D.charCodeAt(j)?N+="x":N+=D[j];if(!N.match(p)){var M=x.slice(0,T),B=x.slice(T+1),L=D.match(h);L&&(M.push(L[1]),B.unshift(L[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=M.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[S])for(T=0,P=l.length;T<P;T++){var W=l[T];if(-1!==b.indexOf(W)){var q=encodeURIComponent(W);q===W&&(q=escape(W)),b=b.split(W).join(q)}}var V=b.indexOf("#");-1!==V&&(this.hash=b.substr(V),b=b.slice(0,V));var $=b.indexOf("?");if(-1!==$?(this.search=b.substr($),this.query=b.substr($+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,$)):t&&(this.search="",this.query={}),b&&(this.pathname=b),_[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||_[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return _[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!_[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var p=f[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b,m=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),S=w||m||n.host&&e.pathname,C=S,E=n.pathname&&n.pathname.split("/")||[],I=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!_[n.protocol]);if(I&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),S=S&&(""===h[0]||""===E[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=h;else if(h.length)E||(E=[]),E.pop(),E=E.concat(h),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search))return I&&(n.hostname=n.host=E.shift(),(b=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],T=(n.host||e.host||1<E.length)&&("."===O||".."===O)||""===O,k=0,A=E.length;0<=A;A--)"."===(O=E[A])?E.splice(A,1):".."===O?(E.splice(A,1),k++):k&&(E.splice(A,1),k--);if(!S&&!C)for(;k--;k)E.unshift("..");!S||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var x=""===E[0]||E[0]&&"/"===E[0].charAt(0);return I&&(n.hostname=n.host=x?"":E.length?E.shift():"",(b=!!(n.host&&0<n.host.indexOf("@"))&&n.host.split("@"))&&(n.auth=b.shift(),n.host=n.hostname=b.shift())),(S=S||n.host&&E.length)&&!x&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){"use strict";t.a={sample:{invokeWebviewMethod:null,drawCanvas:null,createContext:null,createCanvasContext:null,canvasToTempFilePath:null,canvasGetImageData:null,canvasPutImageData:null,getShareInfo:null,pageScrollTo:null,chooseInvoiceTitle:null,ShareInfoStorage:null,arrayBufferToBase64:null,base64ToArrayBuffer:null,openSetting:null,getExtConfig:null,chooseMedia:null,chooseWeChatContact:null,uploadEncryptedFileToCDN:null,onUploadEncryptedFileToCDNProgress:null,getExtConfigSync:null,showShareMenu:null,hideShareMenu:null,updateShareMenu:null,openUrl:null,setNavigationBarColor:null,setNavigationBarAlpha:null,_getRealRoute:null,vibrateShort:null,vibrateLong:null,getSetting:null,checkIsSupportFacialRecognition:null,startFacialRecognitionVerify:null,startFacialRecognitionVerifyAndUploadVideo:null,sendBizRedPacket:null,sendGoldenRedPacket:null,openGoldenRedPacketDetail:null,addPhoneContact:null,setScreenBrightness:null,getScreenBrightness:null,getWeRunData:null,uploadWeRunData:null,canIUse:null,setPageStyle:null,triggerGettingWidgetData:null,navigateToMiniProgram:null,navigateToDevMiniProgram:null,navigateBackMiniProgram:null,exitMiniProgram:null,setNavigationBarRightButton:null,onTapNavigationBarRightButton:null,setTopBarText:null,setTabBarBadge:null,removeTabBarBadge:null,showTabBarRedDot:null,hideTabBarRedDot:null,showTabBar:null,hideTabBar:null,setTabBarStyle:null,setTabBarItem:null,setEnableDebug:null,captureScreen:null,onUserCaptureScreen:null,setKeepScreenOn:null,checkIsSupportSoterAuthentication:null,startSoterAuthentication:null,checkIsSoterEnrolledInDevice:null,openDeliveryList:null,reportIDKey:null,reportKeyValue:null,setNavigationBarTitle:null,showNavigationBarLoading:null,hideNavigationBarLoading:null,startPullDownRefresh:null,stopPullDownRefresh:null,operateWXData:null,getOpenDeviceId:null,openBluetoothAdapter:null,closeBluetoothAdapter:null,getBluetoothAdapterState:null,onBluetoothAdapterStateChange:null,startBluetoothDevicesDiscovery:null,stopBluetoothDevicesDiscovery:null,getBluetoothDevices:null,getConnectedBluetoothDevices:null,createBLEConnection:null,closeBLEConnection:null,getBLEDeviceServices:null,getBLEDeviceCharacteristics:null,notifyBLECharacteristicValueChanged:null,notifyBLECharacteristicValueChange:null,readBLECharacteristicValue:null,writeBLECharacteristicValue:null,onBluetoothDeviceFound:null,onBLEConnectionStateChanged:null,onBLEConnectionStateChange:null,onBLECharacteristicValueChange:null,startBeaconDiscovery:null,stopBeaconDiscovery:null,getBeacons:null,onBeaconUpdate:null,onBeaconServiceChange:null,startWifi:null,stopWifi:null,getWifiList:null,getConnectedWifi:null,connectWifi:null,presetWifiList:null,setWifiList:null,onGetWifiList:null,onWifiConnected:null,onEvaluateWifi:null,getHCEState:null,startHCE:null,stopHCE:null,sendHCEMessage:null,onHCEMessage:null,startLocalServiceDiscovery:null,stopLocalServiceDiscovery:null,onLocalServiceFound:null,offLocalServiceFound:null,onLocalServiceLost:null,offLocalServiceLost:null,onLocalServiceDiscoveryStop:null,offLocalServiceDiscoveryStop:null,onLocalServiceResolveFail:null,offLocalServiceResolveFail:null,redirectTo:null,reLaunch:null,navigateTo:null,switchTab:null,navigateBack:null,_triggerBeforeUnloadPage:null,_triggerBeforeShareAppMessage:null,navigateBackApplication:null,launchApplication:null,getStorage:null,getStorageSync:null,setStorage:null,setStorageSync:null,removeStorage:null,removeStorageSync:null,clearStorage:null,clearStorageSync:null,getStorageInfo:null,getStorageInfoSync:null,startDownloadAppTask:null,cancelDownloadAppTask:null,queryDownloadAppTask:null,queryAppInfo:null,installApp:null,startApp:null,shareInvite:null,saveAppToDesktop:null,showMiniAIOEntrance:null,hideMiniAIOEntrance:null,addGroupCalendar:null,getGroupAppStatus:null,modifyGroupCalendar:null,removeGroupCalendar:null,getGroupCalendarDetail:null,openActivity:null,getPerformance:null,request:null,wnsRequest:null,notifyNative:null,openScheme:null,setOfficialDress:null,setCustomDress:null,getUserInfoExtra:null,openQzonePublish:null,invokeNativePlugin:null,onNativePluginEvent:null,reportAnalytics:null,connectSocket:null,closeSocket:null,sendSocketMessage:null,onSocketOpen:null,onSocketClose:null,onSocketMessage:null,onSocketError:null,uploadFile:null,downloadFile:null,addNativeDownloadTask:null,chooseImage:null,previewImage:null,getImageInfo:null,saveImageToPhotosAlbum:null,startRecord:null,stopRecord:null,playVoice:null,pauseVoice:null,stopVoice:null,onVoicePlayEnd:null,chooseVideo:null,saveVideoToPhotosAlbum:null,getLocation:null,openLocation:null,chooseLocation:null,subscribeAppMsg:null,startLocationUpdate:null,stopLocationUpdate:null,onLocationChange:null,getNetworkType:null,onNetworkStatusChange:null,getSystemInfo:null,getSystemInfoSync:null,getQua:null,getBatteryInfo:null,getBatteryInfoSync:null,startAccelerometer:null,stopAccelerometer:null,onAccelerometerChange:null,startCompass:null,stopCompass:null,onCompassChange:null,reportAction:null,getBackgroundAudioManager:null,getRecorderManager:null,getBackgroundAudioPlayerState:null,playBackgroundAudio:null,pauseBackgroundAudio:null,seekBackgroundAudio:null,stopBackgroundAudio:null,onBackgroundAudioPlay:null,onBackgroundAudioPause:null,onBackgroundAudioStop:null,joinVoIPChat:null,exitVoIPChat:null,updateVoIPChatMuteConfig:null,onVoIPChatMembersChanged:null,onVoIPChatSpeakersChanged:null,onVoIPChatInterrupted:null,openGroupNotice:null,openGroupRemind:null,getGroupInfo:null,getGroupInfoExtra:null,setBackgroundFetchToken:null,getBackgroundFetchToken:null,getBackgroundFetchData:null,onBackgroundFetchData:null,login:null,checkSession:null,authorize:null,getUserInfo:null,requestPayment:null,requestMidasGoodsPay:null,requestMidasMonthCardPay:null,verifyPaymentPassword:null,bindPaymentCard:null,requestPaymentToBank:null,requestVirtualPayment:null,openOfflinePayView:null,openWCPayCardList:null,requestMallPayment:null,addCard:null,openCard:null,scanCode:null,openQRCode:null,chooseAddress:null,saveFile:null,openDocument:null,getSavedFileList:null,getSavedFileInfo:null,getFileInfo:null,removeSavedFile:null,getFileSystemManager:null,chooseContact:null,removeUserCloudStorage:null,setUserCloudStorage:null,makePhoneCall:null,makeVoIPCall:null,onAppRoute:null,onAppRouteDone:null,onAppEnterBackground:null,onAppEnterForeground:null,onAppUnhang:null,onPageReload:null,onPageNotFound:null,offPageNotFound:null,onAppShow:null,offAppShow:null,onAppHide:null,offAppHide:null,onError:null,offError:null,getLaunchOptionsSync:null,createAnimation:null,createInnerAudioContext:null,createAudioContext:null,createVideoContext:null,createMapContext:null,createCameraContext:null,createLivePlayerContext:null,createLivePusherContext:null,onWebviewEvent:null,onNativeEvent:null,hideKeyboard:null,getPublicLibVersion:null,showModal:null,showToast:null,hideToast:null,showLoading:null,hideLoading:null,showActionSheet:null,hideHomeButton:null,getClipboardData:null,setClipboardData:null,createSelectorQuery:null,createIntersectionObserver:null,updatePerfData:null,traceEvent:null,onMemoryWarning:null,getUpdateManager:null,createWorker:null,voiceSplitJoint:null,uploadSilkVoice:null,downloadSilkVoice:null,getResPath:null,setResPath:null,env:null,appStatus:null,hanged:null,getLogManager:null,onWindowResize:null,offWindowResize:null,loadFontFace:null,setInnerAudioOption:null,addWeRunData:null,setBackgroundColor:null,setBackgroundTextStyle:null,getMenuButtonBoundingClientRect:null,calRqt:null,getAvailableAudioSources:null,reportMonitor:null,faceVerifyForPay:null,chooseInvoice:null,startDeviceMotionListening:null,stopDeviceMotionListening:null,onDeviceMotionChange:null,startGyroscope:null,stopGyroscope:null,onGyroscopeChange:null,secureTunnel:null,startCustomFacialRecognitionVerify:null,startCustomFacialRecognitionVerifyAndUploadVideo:null,getAccountInfoSync:null,setCookies:null,getCookies:null,nextTick:null,chooseMultiMedia:null,chooseMessageFile:null,getLabInfo:null,setLabInfo:null,compressImage:null},ui:{invokeWebviewMethod:0,drawCanvas:20,createContext:20,createCanvasContext:20,canvasToTempFilePath:20,canvasGetImageData:20,canvasPutImageData:20,getShareInfo:30,pageScrollTo:30,chooseInvoiceTitle:10,ShareInfoStorage:10,arrayBufferToBase64:10,base64ToArrayBuffer:10,openSetting:30,getExtConfig:0,chooseMedia:20,chooseWeChatContact:20,uploadEncryptedFileToCDN:10,onUploadEncryptedFileToCDNProgress:10,getExtConfigSync:0,showShareMenu:30,hideShareMenu:30,updateShareMenu:30,openUrl:20,setNavigationBarColor:30,setNavigationBarAlpha:30,_getRealRoute:20,vibrateShort:10,vibrateLong:10,getSetting:10,checkIsSupportFacialRecognition:10,startFacialRecognitionVerify:20,startFacialRecognitionVerifyAndUploadVideo:20,sendBizRedPacket:10,sendGoldenRedPacket:10,openGoldenRedPacketDetail:10,addPhoneContact:10,setScreenBrightness:20,getScreenBrightness:20,getWeRunData:10,uploadWeRunData:10,addWeRunData:10,canIUse:0,setPageStyle:30,triggerGettingWidgetData:10,navigateToMiniProgram:30,navigateToDevMiniProgram:30,navigateBackMiniProgram:30,exitMiniProgram:30,setNavigationBarRightButton:30,onTapNavigationBarRightButton:30,setTopBarText:30,setTabBarBadge:30,removeTabBarBadge:30,showTabBarRedDot:30,hideTabBarRedDot:30,showTabBar:30,hideTabBar:30,setTabBarStyle:30,setTabBarItem:30,setEnableDebug:30,captureScreen:30,onUserCaptureScreen:30,setKeepScreenOn:10,checkIsSupportSoterAuthentication:10,startSoterAuthentication:10,checkIsSoterEnrolledInDevice:10,openDeliveryList:20,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:30,showNavigationBarLoading:30,hideNavigationBarLoading:30,startPullDownRefresh:30,stopPullDownRefresh:30,operateWXData:10,getOpenDeviceId:10,openBluetoothAdapter:10,closeBluetoothAdapter:10,getBluetoothAdapterState:10,onBluetoothAdapterStateChange:10,startBluetoothDevicesDiscovery:10,stopBluetoothDevicesDiscovery:10,getBluetoothDevices:10,getConnectedBluetoothDevices:10,createBLEConnection:10,closeBLEConnection:10,getBLEDeviceServices:10,getBLEDeviceCharacteristics:10,notifyBLECharacteristicValueChanged:10,notifyBLECharacteristicValueChange:10,readBLECharacteristicValue:10,writeBLECharacteristicValue:10,onBluetoothDeviceFound:10,onBLEConnectionStateChanged:10,onBLEConnectionStateChange:10,onBLECharacteristicValueChange:10,startBeaconDiscovery:10,stopBeaconDiscovery:10,getBeacons:10,onBeaconUpdate:10,onBeaconServiceChange:10,startWifi:10,stopWifi:10,getWifiList:10,getConnectedWifi:10,connectWifi:10,presetWifiList:10,setWifiList:10,onGetWifiList:10,onWifiConnected:10,onEvaluateWifi:10,getHCEState:10,startHCE:10,stopHCE:10,sendHCEMessage:10,onHCEMessage:10,startLocalServiceDiscovery:10,stopLocalServiceDiscovery:10,onLocalServiceFound:10,offLocalServiceFound:10,onLocalServiceLost:10,offLocalServiceLost:10,onLocalServiceDiscoveryStop:10,offLocalServiceDiscoveryStop:10,onLocalServiceResolveFail:10,offLocalServiceResolveFail:10,redirectTo:30,reLaunch:30,navigateTo:30,switchTab:30,navigateBack:30,_triggerBeforeUnloadPage:30,_triggerBeforeShareAppMessage:30,navigateBackApplication:30,launchApplication:30,getStorage:10,getStorageSync:10,setStorage:10,setStorageSync:10,removeStorage:10,removeStorageSync:10,clearStorage:10,clearStorageSync:10,getStorageInfo:10,getStorageInfoSync:10,startDownloadAppTask:10,cancelDownloadAppTask:10,queryDownloadAppTask:10,queryAppInfo:10,installApp:10,startApp:10,shareInvite:10,saveAppToDesktop:10,showMiniAIOEntrance:10,hideMiniAIOEntrance:10,addGroupCalendar:10,getGroupAppStatus:10,modifyGroupCalendar:10,removeGroupCalendar:10,getGroupCalendarDetail:10,openActivity:10,getPerformance:10,request:10,wnsRequest:10,notifyNative:10,openScheme:10,setOfficialDress:10,setCustomDress:10,getUserInfoExtra:10,openQzonePublish:10,invokeNativePlugin:10,onNativePluginEvent:10,reportAnalytics:10,connectSocket:10,closeSocket:10,sendSocketMessage:10,onSocketOpen:10,onSocketClose:10,onSocketMessage:10,onSocketError:10,uploadFile:10,downloadFile:10,addNativeDownloadTask:10,chooseImage:20,previewImage:20,getImageInfo:10,saveImageToPhotosAlbum:10,startRecord:20,stopRecord:20,playVoice:20,pauseVoice:20,stopVoice:20,onVoicePlayEnd:20,chooseVideo:20,saveVideoToPhotosAlbum:10,getLocation:20,openLocation:20,chooseLocation:20,startLocationUpdate:20,stopLocationUpdate:20,onLocationChange:20,subscribeAppMsg:20,getNetworkType:0,onAppRoute:30,onAppRouteDone:30,onAppEnterBackground:30,onAppEnterForeground:30,onAppUnhang:30,onPageReload:30,onPageNotFound:30,offPageNotFound:30,onAppShow:30,offAppShow:30,onAppHide:30,offAppHide:30,onError:30,offError:30,getLaunchOptionsSync:30,createAnimation:0,createInnerAudioContext:20,createAudioContext:20,createVideoContext:20,createMapContext:20,createCameraContext:20,createLivePlayerContext:20,createLivePusherContext:20,onWebviewEvent:20,onNativeEvent:20,hideKeyboard:20,getPublicLibVersion:0,showModal:20,showToast:20,hideToast:20,showLoading:20,hideLoading:20,showActionSheet:20,hideHomeButton:20,getClipboardData:20,setClipboardData:20,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:10,traceEvent:10,onMemoryWarning:10,getUpdateManager:10,createWorker:10,voiceSplitJoint:10,uploadSilkVoice:10,downloadSilkVoice:10,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:20,offWindowResize:20,loadFontFace:20,setInnerAudioOption:0,setBackgroundColor:30,setBackgroundTextStyle:30,getMenuButtonBoundingClientRect:20,calRqt:10,onNetworkStatusChange:10,getSystemInfo:10,getSystemInfoSync:10,getQua:10,getBatteryInfo:10,getBatteryInfoSync:10,startAccelerometer:10,stopAccelerometer:10,onAccelerometerChange:10,startCompass:10,stopCompass:10,onCompassChange:10,reportAction:10,getBackgroundAudioManager:10,getRecorderManager:10,getBackgroundAudioPlayerState:10,playBackgroundAudio:10,pauseBackgroundAudio:10,seekBackgroundAudio:10,stopBackgroundAudio:10,onBackgroundAudioPlay:10,onBackgroundAudioPause:10,onBackgroundAudioStop:10,joinVoIPChat:10,exitVoIPChat:10,updateVoIPChatMuteConfig:10,onVoIPChatMembersChanged:10,onVoIPChatSpeakersChanged:10,onVoIPChatInterrupted:10,openGroupNotice:10,openGroupRemind:10,getGroupInfo:10,getGroupInfoExtra:10,setBackgroundFetchToken:10,getBackgroundFetchToken:10,getBackgroundFetchData:10,onBackgroundFetchData:10,login:10,checkSession:10,authorize:20,getUserInfo:20,requestPayment:20,verifyPaymentPassword:20,bindPaymentCard:20,requestPaymentToBank:20,requestVirtualPayment:20,openOfflinePayView:20,openWCPayCardList:20,requestMallPayment:20,addCard:20,openCard:20,scanCode:20,openQRCode:20,chooseAddress:20,saveFile:10,openDocument:20,getSavedFileList:10,getSavedFileInfo:10,getFileInfo:10,removeSavedFile:10,getFileSystemManager:10,chooseContact:20,removeUserCloudStorage:10,setUserCloudStorage:10,makePhoneCall:20,makeVoIPCall:20,getAvailableAudioSources:10,reportMonitor:10,faceVerifyForPay:30,chooseInvoice:20,startDeviceMotionListening:10,stopDeviceMotionListening:10,onDeviceMotionChange:10,startGyroscope:10,stopGyroscope:10,onGyroscopeChange:10,secureTunnel:10,startCustomFacialRecognitionVerify:10,startCustomFacialRecognitionVerifyAndUploadVideo:10,getAccountInfoSync:0,setCookies:10,getCookies:10,nextTick:0,chooseMultiMedia:20,chooseMessageFile:20,getLabInfo:10,setLabInfo:10,compressImage:0},log:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:2,canvasToTempFilePath:2,canvasGetImageData:2,canvasPutImageData:2,getShareInfo:1,pageScrollTo:1,chooseInvoiceTitle:1,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:1,getExtConfig:1,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:2,showShareMenu:1,hideShareMenu:1,updateShareMenu:1,openUrl:0,setNavigationBarColor:1,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:1,vibrateLong:1,getSetting:1,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:1,setScreenBrightness:1,getScreenBrightness:1,getWeRunData:1,canIUse:1,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:1,navigateToDevMiniProgram:0,navigateBackMiniProgram:1,exitMiniProgram:1,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:1,setTabBarBadge:1,removeTabBarBadge:1,showTabBarRedDot:1,hideTabBarRedDot:1,showTabBar:1,hideTabBar:1,setTabBarStyle:1,setTabBarItem:1,setEnableDebug:1,captureScreen:0,onUserCaptureScreen:3,setKeepScreenOn:1,checkIsSupportSoterAuthentication:1,startSoterAuthentication:1,checkIsSoterEnrolledInDevice:1,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:1,showNavigationBarLoading:1,hideNavigationBarLoading:1,startPullDownRefresh:1,stopPullDownRefresh:1,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:1,closeBluetoothAdapter:1,getBluetoothAdapterState:1,onBluetoothAdapterStateChange:3,startBluetoothDevicesDiscovery:1,stopBluetoothDevicesDiscovery:1,getBluetoothDevices:1,getConnectedBluetoothDevices:1,createBLEConnection:1,closeBLEConnection:1,getBLEDeviceServices:1,getBLEDeviceCharacteristics:1,notifyBLECharacteristicValueChanged:1,notifyBLECharacteristicValueChange:1,readBLECharacteristicValue:1,writeBLECharacteristicValue:1,onBluetoothDeviceFound:3,onBLEConnectionStateChanged:3,onBLEConnectionStateChange:3,onBLECharacteristicValueChange:3,startBeaconDiscovery:1,stopBeaconDiscovery:1,getBeacons:1,onBeaconUpdate:1,onBeaconServiceChange:1,startWifi:1,stopWifi:1,getWifiList:1,getConnectedWifi:1,connectWifi:1,presetWifiList:1,setWifiList:1,onGetWifiList:3,onWifiConnected:3,onEvaluateWifi:3,getHCEState:1,startHCE:1,stopHCE:1,sendHCEMessage:1,onHCEMessage:3,startLocalServiceDiscovery:1,stopLocalServiceDiscovery:1,redirectTo:1,reLaunch:1,navigateTo:1,switchTab:1,navigateBack:1,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:1,getStorageSync:2,setStorage:1,setStorageSync:2,removeStorage:1,removeStorageSync:2,clearStorage:1,clearStorageSync:2,getStorageInfo:1,getStorageInfoSync:2,startDownloadAppTask:1,cancelDownloadAppTask:1,queryDownloadAppTask:1,queryAppInfo:1,installApp:1,startApp:1,shareInvite:1,saveAppToDesktop:1,showMiniAIOEntrance:1,hideMiniAIOEntrance:1,addGroupCalendar:1,getGroupAppStatus:1,modifyGroupCalendar:1,removeGroupCalendar:1,getGroupCalendarDetail:1,openActivity:1,getPerformance:1,request:1,wnsRequest:1,notifyNative:1,openScheme:1,setOfficialDress:1,setCustomDress:1,getUserInfoExtra:1,openQzonePublish:1,invokeNativePlugin:1,onNativePluginEvent:1,reportAnalytics:1,connectSocket:1,closeSocket:1,sendSocketMessage:1,onSocketOpen:3,onSocketClose:3,onSocketMessage:3,onSocketError:3,uploadFile:1,downloadFile:1,addNativeDownloadTask:0,chooseImage:1,previewImage:1,getImageInfo:1,saveImageToPhotosAlbum:1,startRecord:1,stopRecord:1,playVoice:1,pauseVoice:1,stopVoice:1,onVoicePlayEnd:1,chooseVideo:1,saveVideoToPhotosAlbum:1,getLocation:1,openLocation:1,chooseLocation:1,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,subscribeAppMsg:1,getNetworkType:1,onNetworkStatusChange:3,getSystemInfo:1,getSystemInfoSync:2,getQua:1,getBatteryInfo:1,getBatteryInfoSync:2,startAccelerometer:1,stopAccelerometer:1,onAccelerometerChange:3,startCompass:1,stopCompass:1,onCompassChange:3,reportAction:0,getBackgroundAudioManager:2,getRecorderManager:2,getBackgroundAudioPlayerState:1,playBackgroundAudio:1,pauseBackgroundAudio:1,seekBackgroundAudio:1,stopBackgroundAudio:1,onBackgroundAudioPlay:3,onBackgroundAudioPause:3,onBackgroundAudioStop:3,joinVoIPChat:1,exitVoIPChat:1,updateVoIPChatMuteConfig:1,onVoIPChatMembersChanged:3,onVoIPChatSpeakersChanged:3,onVoIPChatInterrupted:3,openGroupNotice:1,openGroupRemind:1,getGroupInfo:1,getGroupInfoExtra:1,setBackgroundFetchToken:1,getBackgroundFetchToken:1,getBackgroundFetchData:1,onBackgroundFetchData:1,login:1,checkSession:1,authorize:1,getUserInfo:1,requestMidasGoodsPay:1,requestMidasMonthCardPay:1,requestPayment:1,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:1,openCard:1,scanCode:1,openQRCode:1,chooseAddress:1,saveFile:1,openDocument:1,getSavedFileList:1,getSavedFileInfo:1,getFileInfo:1,removeSavedFile:1,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:1,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,createAnimation:2,createInnerAudioContext:2,createAudioContext:0,createVideoContext:2,createMapContext:2,createCameraContext:2,createLivePlayerContext:2,createLivePusherContext:2,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:1,showToast:1,hideToast:1,showLoading:1,hideLoading:1,showActionSheet:1,hideHomeButton:1,getClipboardData:1,setClipboardData:1,createSelectorQuery:1,createIntersectionObserver:1,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:2,createWorker:2,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:3,offWindowResize:3,loadFontFace:1,uploadWeRunData:0,addWeRunData:0,setBackgroundColor:1,setBackgroundTextStyle:1,getMenuButtonBoundingClientRect:1,onAppShow:3,offAppShow:0,onAppHide:3,offAppHide:0,onError:3,offError:0,getLaunchOptionsSync:2,calRqt:0,offPageNotFound:0,getAvailableAudioSources:1,reportMonitor:1,faceVerifyForPay:1,chooseInvoice:1,startDeviceMotionListening:1,stopDeviceMotionListening:1,onDeviceMotionChange:3,startGyroscope:1,stopGyroscope:1,onGyroscopeChange:3,setInnerAudioOption:1,secureTunnel:1,startCustomFacialRecognitionVerify:1,startCustomFacialRecognitionVerifyAndUploadVideo:1,getAccountInfoSync:0,setCookies:1,getCookies:1,nextTick:0,chooseMultiMedia:1,chooseMessageFile:1,getLabInfo:1,setLabInfo:1,compressImage:1},tap:{invokeWebviewMethod:0,drawCanvas:0,createContext:0,createCanvasContext:0,canvasToTempFilePath:0,canvasGetImageData:0,canvasPutImageData:0,getShareInfo:0,pageScrollTo:0,chooseInvoiceTitle:0,ShareInfoStorage:0,arrayBufferToBase64:0,base64ToArrayBuffer:0,openSetting:10,getExtConfig:0,chooseMedia:0,chooseWeChatContact:0,uploadEncryptedFileToCDN:0,onUploadEncryptedFileToCDNProgress:0,getExtConfigSync:0,showShareMenu:0,hideShareMenu:0,updateShareMenu:0,openUrl:0,setNavigationBarColor:0,setNavigationBarAlpha:0,_getRealRoute:0,vibrateShort:0,vibrateLong:0,getSetting:20,checkIsSupportFacialRecognition:0,startFacialRecognitionVerify:0,startFacialRecognitionVerifyAndUploadVideo:0,sendBizRedPacket:0,sendGoldenRedPacket:0,openGoldenRedPacketDetail:0,addPhoneContact:0,setScreenBrightness:0,getScreenBrightness:0,getWeRunData:0,uploadWeRunData:0,canIUse:0,setPageStyle:0,triggerGettingWidgetData:0,navigateToMiniProgram:0,navigateToDevMiniProgram:0,navigateBackMiniProgram:0,exitMiniProgram:0,setNavigationBarRightButton:0,onTapNavigationBarRightButton:0,setTopBarText:0,setTabBarBadge:0,removeTabBarBadge:0,showTabBarRedDot:0,hideTabBarRedDot:0,showTabBar:0,hideTabBar:0,setTabBarStyle:0,setTabBarItem:0,setEnableDebug:0,captureScreen:0,onUserCaptureScreen:0,setKeepScreenOn:0,checkIsSupportSoterAuthentication:0,startSoterAuthentication:0,checkIsSoterEnrolledInDevice:0,openDeliveryList:0,reportIDKey:0,reportKeyValue:0,setNavigationBarTitle:0,showNavigationBarLoading:0,hideNavigationBarLoading:0,startPullDownRefresh:0,stopPullDownRefresh:0,operateWXData:0,getOpenDeviceId:0,openBluetoothAdapter:0,closeBluetoothAdapter:0,getBluetoothAdapterState:0,onBluetoothAdapterStateChange:0,startBluetoothDevicesDiscovery:0,stopBluetoothDevicesDiscovery:0,getBluetoothDevices:0,getConnectedBluetoothDevices:0,createBLEConnection:0,closeBLEConnection:0,getBLEDeviceServices:0,getBLEDeviceCharacteristics:0,notifyBLECharacteristicValueChanged:0,notifyBLECharacteristicValueChange:0,readBLECharacteristicValue:0,writeBLECharacteristicValue:0,onBluetoothDeviceFound:0,onBLEConnectionStateChanged:0,onBLEConnectionStateChange:0,onBLECharacteristicValueChange:0,onLocalServiceFound:0,offLocalServiceFound:0,onLocalServiceLost:0,offLocalServiceLost:0,onLocalServiceDiscoveryStop:0,offLocalServiceDiscoveryStop:0,onLocalServiceResolveFail:0,offLocalServiceResolveFail:0,startBeaconDiscovery:0,stopBeaconDiscovery:0,getBeacons:0,onBeaconUpdate:0,onBeaconServiceChange:0,startWifi:0,stopWifi:0,getWifiList:0,getConnectedWifi:0,connectWifi:0,presetWifiList:0,setWifiList:0,onGetWifiList:0,onWifiConnected:0,onEvaluateWifi:0,getHCEState:0,startHCE:0,stopHCE:0,sendHCEMessage:0,onHCEMessage:0,redirectTo:0,reLaunch:0,navigateTo:0,switchTab:0,navigateBack:0,_triggerBeforeUnloadPage:0,_triggerBeforeShareAppMessage:0,navigateBackApplication:0,launchApplication:0,getStorage:0,getStorageSync:0,setStorage:0,setStorageSync:0,removeStorage:0,removeStorageSync:0,clearStorage:0,clearStorageSync:0,getStorageInfo:0,getStorageInfoSync:0,startDownloadAppTask:20,cancelDownloadAppTask:20,queryDownloadAppTask:20,queryAppInfo:20,installApp:20,startApp:20,shareInvite:20,saveAppToDesktop:20,showMiniAIOEntrance:20,hideMiniAIOEntrance:20,addGroupCalendar:20,getGroupAppStatus:20,modifyGroupCalendar:20,removeGroupCalendar:20,getGroupCalendarDetail:20,openActivity:20,request:20,wnsRequest:20,notifyNative:20,openScheme:20,setOfficialDress:20,setCustomDress:20,getUserInfoExtra:20,openQzonePublish:20,invokeNativePlugin:20,onNativePluginEvent:20,reportAnalytics:20,connectSocket:0,closeSocket:0,sendSocketMessage:0,onSocketOpen:0,onSocketClose:0,onSocketMessage:0,onSocketError:0,uploadFile:0,downloadFile:0,addNativeDownloadTask:0,chooseImage:0,previewImage:0,getImageInfo:0,saveImageToPhotosAlbum:0,startRecord:0,stopRecord:0,playVoice:0,pauseVoice:0,stopVoice:0,onVoicePlayEnd:0,chooseVideo:0,saveVideoToPhotosAlbum:0,getLocation:0,openLocation:0,chooseLocation:0,startLocationUpdate:0,stopLocationUpdate:0,onLocationChange:0,subscribeAppMsg:0,getNetworkType:0,onNetworkStatusChange:0,getSystemInfo:0,getSystemInfoSync:0,getQua:0,getBatteryInfo:0,getBatteryInfoSync:0,startAccelerometer:0,stopAccelerometer:0,onAccelerometerChange:0,startCompass:0,stopCompass:0,onCompassChange:0,reportAction:0,getBackgroundAudioManager:0,getRecorderManager:0,getBackgroundAudioPlayerState:0,playBackgroundAudio:0,pauseBackgroundAudio:0,seekBackgroundAudio:0,stopBackgroundAudio:0,onBackgroundAudioPlay:0,onBackgroundAudioPause:0,onBackgroundAudioStop:0,login:0,checkSession:0,authorize:0,getUserInfo:0,requestMidasGoodsPay:30,requestMidasMonthCardPay:30,requestPayment:30,verifyPaymentPassword:0,bindPaymentCard:0,requestPaymentToBank:0,requestVirtualPayment:0,openOfflinePayView:0,openWCPayCardList:0,requestMallPayment:0,addCard:0,openCard:0,scanCode:0,openQRCode:0,chooseAddress:0,saveFile:0,openDocument:0,getSavedFileList:0,getSavedFileInfo:0,getFileInfo:0,removeSavedFile:0,getFileSystemManager:0,chooseContact:0,removeUserCloudStorage:0,setUserCloudStorage:0,makePhoneCall:0,makeVoIPCall:0,onAppRoute:0,onAppRouteDone:0,onAppEnterBackground:0,onAppEnterForeground:0,onAppUnhang:0,onPageReload:0,onPageNotFound:0,offPageNotFound:0,onAppShow:0,offAppShow:0,onAppHide:0,offAppHide:0,onError:0,offError:0,getLaunchOptionsSync:0,createAnimation:0,createInnerAudioContext:0,createAudioContext:0,createVideoContext:0,createMapContext:0,createCameraContext:0,createLivePlayerContext:0,createLivePusherContext:0,onWebviewEvent:0,onNativeEvent:0,hideKeyboard:0,getPublicLibVersion:0,showModal:30,showToast:0,hideToast:0,showLoading:0,hideLoading:0,showActionSheet:30,hideHomeButton:0,getClipboardData:0,setClipboardData:0,createSelectorQuery:0,createIntersectionObserver:0,updatePerfData:0,traceEvent:0,onMemoryWarning:0,getUpdateManager:0,createWorker:0,voiceSplitJoint:0,uploadSilkVoice:0,downloadSilkVoice:0,getResPath:0,setResPath:0,env:0,appStatus:0,hanged:0,getLogManager:0,onWindowResize:0,offWindowResize:0,loadFontFace:0,setInnerAudioOption:0,addWeRunData:0,setBackgroundColor:0,setBackgroundTextStyle:0,getMenuButtonBoundingClientRect:0,calRqt:0,getAvailableAudioSources:0,reportMonitor:0,faceVerifyForPay:0,chooseInvoice:0,startDeviceMotionListening:0,stopDeviceMotionListening:0,onDeviceMotionChange:0,startGyroscope:0,stopGyroscope:0,onGyroscopeChange:0,secureTunnel:0,startCustomFacialRecognitionVerify:0,startCustomFacialRecognitionVerifyAndUploadVideo:0,getAccountInfo:0,nextTick:0,setCookies:0,getCookies:0,getAccountInfoSync:0,chooseMultiMedia:0,joinVoIPChat:0,exitVoIPChat:0,updateVoIPChatMuteConfig:0,onVoIPChatMembersChanged:0,onVoIPChatSpeakersChanged:0,onVoIPChatInterrupted:0,openGroupNotice:0,openGroupRemind:0,getGroupInfo:0,getGroupInfoExtra:0,setBackgroundFetchToken:0,getBackgroundFetchToken:0,getBackgroundFetchData:0,onBackgroundFetchData:0,chooseMessageFile:0,getLabInfo:0,setLabInfo:0,compressImage:0}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"a",function(){return en}),n.d(t,"i",function(){return Bn}),n.d(t,"s",function(){return Ln}),n.d(t,"c",function(){return Fn}),n.d(t,"u",function(){return Wn}),n.d(t,"f",function(){return vo}),n.d(t,"d",function(){return Vo}),n.d(t,"p",function(){return $o}),n.d(t,"h",function(){return Ko}),n.d(t,"g",function(){return Yo}),n.d(t,"v",function(){return ei}),n.d(t,"_",function(){return ui}),n.d(t,"y",function(){return li}),n.d(t,"b",function(){return Bi}),n.d(t,"enV",function(){return Li}),n.d(t,"w",function(){return Wi}),n.d(t,"S",function(){return $i}),n.d(t,"C",function(){return Gi}),n.d(t,"k",function(){return Hi}),n.d(t,"I",function(){return Ki}),n.d(t,"E",function(){return Yi}),n.d(t,"T",function(){return Ji}),n.d(t,"x",function(){return Qi}),n.d(t,"P",function(){return Xi}),n.d(t,"A",function(){return Zi}),n.d(t,"O",function(){return na}),n.d(t,"M",function(){return ra}),n.d(t,"D",function(){return ca}),n.d(t,"R",function(){return la}),n.d(t,"N",function(){return da}),n.d(t,"L",function(){return Da}),n.d(t,"B",function(){return Fa}),n.d(t,"j",function(){return Wa}),n.d(t,"F",function(){return Va}),n.d(t,"W",function(){return $a}),n.d(t,"U",function(){return za}),n.d(t,"V",function(){return Ka}),n.d(t,"q",function(){return Us}),n.d(t,"Y",function(){return lc}),n.d(t,"G",function(){return tu}),n.d(t,"H",function(){return Fh}),n.d(t,"l",function(){return Hh}),n.d(t,"m",function(){return zh}),n.d(t,"K",function(){return Kh});var r=n(0),o=n(4),i=n(5),a=n(8),s=n(7),c=n(1),u=n(6),l=n(3),f=n(2),d=n(11);function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){h(e,t,n[t])})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}var w=["tcb-api.tencentcloudapi.com","api-report.q.qq.com","q.qq.com","qun.qq.com"];function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C={},E={},I={},O={},T=1;Object(r.o)("editorInsert",function(e,t){var n=e.domId,r=e.editorId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),C[a]=r,function(e){I[e]||(I[e]=!0,Fe(e,function(e){delete I[e],Object.keys(C).forEach(function(t){new RegExp("^"+e).test(t)&&delete C[t]}),Object.keys(E).forEach(function(t){new RegExp("^api_"+e).test(t)&&delete E[t]}),Object.keys(E).forEach(function(t){new RegExp("^SQ_"+e).test(t)&&delete E[t]})}))}(t)}),Object(r.o)("editorRemoved",function(e,t){var n=e.domId,r=e.editorId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete C[a];var s="SQ_"+t+"_"+r;delete E["api_"+t+"_"+o+"_"+n+"_"+i],delete E[s]}),Object(r.o)("doEditorActionCallback",function(e,t){var n=e.callbackId;if(n&&void 0!==O[n]){delete e.callbackId;var r=O[n];e.errMsg&&(-1<e.errMsg.indexOf("ok")?"function"==typeof r.success&&r.success(e):-1<e.errMsg.indexOf("fail")&&"function"==typeof r.fail&&r.fail(e)),"function"==typeof r.complete&&r.complete(e),delete O[n]}});var k=function(){function e(t){y(this,e),this.editorId=t}return m(e,[{key:"format",value:function(e,t){var n=1<arguments.length&&void 0!==t&&t;this._execCommand("format",{name:e,value:n,needCallBack:!1})}},{key:"_execCommandWithId",value:function(e,t,n){if(n.needCallBack){var o={};Object.keys(n).forEach(function(e){"function"==typeof n[e]&&(o[e]=n[e],delete n[e])});var i="callback"+this.webviewId+"_"+e+"_"+T++;O[i]=o,n.callbackId=i}delete n.needCallBack,this.action={method:t,args:n},Object(r.n)("editor_"+this.webviewId+"_"+e+"_actionChanged",this.action,[this.webviewId])}}]),e}();["insertDivider","insertImage","insertText","setContents","getContents","clear","removeFormat","undo","redo","focus","blur"].forEach(function(e){k.prototype[e]=function(t){this._execCommand(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){S(e,t,n[t])})}return e}({},t,{needCallBack:!0}))}});var A=function(e){function t(e,n){var r;return y(this,t),(r=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,v(t).call(this,e))).webviewId=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,k),m(t,[{key:"_execCommand",value:function(e,t){this._execCommandWithId(this.editorId,e,t)}}]),t}();function x(e,t){var n="SQ_"+t+"_"+e;if(E[n])return E[n];var r=new A(e,t);return E[n]=r}function P(e){return g(e)}var D=(Number.isNaN,Number.isFinite||function(e){return function(e){return"Number"===Object(r.h)(e)}(e)&&D(e)});function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function L(e,t,n){return(L=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&M(o,n.prototype),o}).apply(null,arguments)}function F(e){var t="function"==typeof Map?new Map:void 0;return(F=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return L(e,arguments,R(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),M(r,e)})(e)}var U=__wxConfig;U.onReady(function(){if(__wxConfig.plugins){var e=[];for(var t in __wxConfig.plugins)__wxConfig.plugins[t]&&"dev"===__wxConfig.plugins[t].version?e.push({plugin_id:__wxConfig.plugins[t].provider,inner_version:0}):e.push({plugin_id:__wxConfig.plugins[t].provider,inner_version:__wxConfig.plugins[t].version});__wxConfig.appContactInfo=_extends(__wxConfig.appContactInfo,{call_plugin_info:e})}_extends(U,__wxConfig)});var W=U,q=W.platform,V="devtools"===W.platform,$="android"===W.platform,G="ios"===W.platform;function H(e,t){return function(){try{return e.apply(e,arguments)}catch(e){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceSdkKnownError"==e.type)throw e;"ThirdScriptError"===e.type?Reporter.thirdErrorReport({error:e,extend:t}):Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:t})}}}}var z=H(function(e){var t=Object.prototype.toString.call(e).split(" ")[1].split("]")[0];if("Array"==t||"Object"==t)try{e=JSON.stringify(e)}catch(e){throw e.type="AppServiceSdkKnownError",e}else e="String"==t||"Number"==t||"Boolean"==t?e.toString():"Date"==t?e.getTime().toString():"Undefined"==t?"undefined":"Null"==t?"null":"";return{data:e,dataType:t}},"anyTypeToString"),K=H(function(e,t){return"String"==t?e:"Array"==t||"Object"==t?JSON.parse(e):"Number"==t?parseFloat(e):"Boolean"==t?"true"==e:"Date"==t?new Date(parseInt(e)):"Undefined"==t?void 0:"Null"==t?null:""},"stringToAnyType");function Y(e,t){if((!(2<arguments.length&&void 0!==arguments[2])||arguments[2])&&(t=Z(t)),0===t.indexOf("/"))return t.substr(1);if(0===t.indexOf("./"))return Y(e,t.substr(2),!1);var n,r,o=t.split("/");for(n=0,r=o.length;n<r&&".."===o[n];n++);o.splice(0,n),t=o.join("/");var i=0<e.length?e.split("/"):[];return i.splice(i.length-n-1,n+1),i.concat(o).join("/")}function J(e,t){for(var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];;){var r=t.match(/^[-+a-zA-Z0-9]+:\/\//);if(!r)break;var o=r[0];if("plugin://"===o){var i=o.length,a=t.indexOf("/",i);if(0<=a){var s=t.slice(i,a),c=W.plugins&&W.plugins[s]?W.plugins[s].provider:s;t=t.slice(0,i)+c+t.slice(a)}var u=t.indexOf("?");u<0&&(u=t.length);var l=t.slice(0,u),f=exparser.Component._list[l];if(!f)throw new te('Page "'+l+'" is not found');t=f.is+t.slice(u)}else{if("plugin-private://"!==o)throw new te('Unknown URL protocol "'+o+'"');var d=t.indexOf("?");d<0&&(d=t.length);var p=t.slice(0,d);t="/"+__appServiceEngine__.convertComponentAliasToRoute(p)+t.slice(d)}}return Y(e,t,n)}function Q(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"http";return"http"===t?/^(http|https):\/\/.*/i.test(e):"websocket"===t?/^(ws|wss):\/\/.*/i.test(e):void 0}function X(e){if("string"!=typeof e)return e;var t=e.split("?"),n=t[0],r=(t[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e},{}),o=[];for(var i in r)r.hasOwnProperty(i)&&o.push(i+"="+encodeURIComponent(r[i]));return 0<o.length?n+"?"+o.join("&"):e}function Z(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t}function ee(e){return"string"==typeof e?-1!==e.indexOf("?")?e.replace(/\.html\?/,"?"):e.replace(/\.html$/,""):e}var te=function(e){function t(e){var n;return N(this,t),(n=j(this,R(t).call(this,"APP-SERVICE-SDK:"+e))).type="AppServiceSdkKnownError",n}return B(t,F(Error)),t}(),ne=function(e){function t(e){var n;return N(this,t),(n=j(this,R(t).call(this,String(e)))).type="ThirdScriptError",n}return B(t,F(Error)),t}();function re(e,t){for(var n in t)e[n]=t[n];return e}var oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ie=ie||function(e){for(var t,n,r=String(e),o="",i=0,a=oe;r.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if(255<(n=r.charCodeAt(i+=.75)))throw new Error('"btoa" failed');t=t<<8|n}return o},ae=ae||function(e){var t=String(e).replace(/=+$/,""),n="";if(t.length%4==1)throw new Error('"atob" failed');for(var r,o,i=0,a=0;o=t.charAt(a++);~o&&(r=i%4?64*r+o:o,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)o=oe.indexOf(o);return n};function se(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,o=0;o<r;o++)t+=String.fromCharCode(n[o]);return ie(t)}function ce(e){for(var t=ae(e),n=t.length,r=new Uint8Array(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r.buffer}function ue(e,t,n){0!=("Object"===Object(r.h)(e))&&t!=n&&e.hasOwnProperty(t)&&(e[n]=e[t],delete e[t])}W.clientVersion;var le={lastRoute:"",query:{},runningStatus:"active",navigatorLock:!1,openUrlLock:!1,possessingBackgroundAudioPlayer:!1,webviewEventCallback:null,hanged:!1,appStatus:0},fe=function(e){var t,n=e.name,r=e.scene,o=e.strategy,i=e.timeDiffToLastTap,a=void 0===i?0:i;void 0!==__appServiceEngine__&&(t=__appServiceEngine__.getCurrentPagesByDomain("").find(function(e){return e.__wxWebviewId__===le.currentWebviewId})||{});var s=[n,r,Reporter.getAppType(),t?t.route:"",o||0,a].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"APIRecycle",value:s,force:!0})};function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=function(e,t){return d.a[t][e]};function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&he(e.prototype,t),n&&he(e,n),e}var ve=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},_e=20;function ye(){this._events={},this._conf&&be.call(this,this._conf)}function be(e){e?((this._conf=e).delimiter&&(this.delimiter=e.delimiter),this._maxListeners=void 0!==e.maxListeners?e.maxListeners:_e,e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener)):this._maxListeners=_e}function me(e){this._events={},this._newListener=!1,this._removeListener=!1,be.call(this,e)}me.prototype.delimiter=".",me.prototype.setMaxListeners=function(e){void 0!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},me.prototype.event="",me.prototype.once=function(e,t){return this._once(e,t,!1)},me.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},me.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},me.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},me.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},me.prototype._many=function(e,t,n,r){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),o},me.prototype.emit=function(){this._events||ye.call(this);var e,t,n,r,o,i=arguments[0];if("newListener"===i&&!this._newListener&&!this._events.newListener)return!1;var a=arguments.length;if(this._all&&this._all.length){if(o=this._all.slice(),3<a)for(e=new Array(a),r=0;r<a;r++)e[r]=arguments[r];for(n=0,t=o.length;n<t;n++)switch(this.event=i,a){case 1:o[n].call(this,i);break;case 2:o[n].call(this,i,arguments[1]);break;case 3:o[n].call(this,i,arguments[1],arguments[2]);break;default:o[n].apply(this,e)}}if("function"==typeof(o=this._events[i])){switch(this.event=i,a){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];o.apply(this,e)}return!0}if(o&&(o=o.slice()),o&&o.length){if(3<a)for(e=new Array(a-1),r=1;r<a;r++)e[r-1]=arguments[r];for(n=0,t=o.length;n<t;n++)switch(this.event=i,a){case 1:o[n].call(this);break;case 2:o[n].call(this,arguments[1]);break;case 3:o[n].call(this,arguments[1],arguments[2]);break;default:o[n].apply(this,e)}return!0}if(!this._all&&"error"===i)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},me.prototype.emitAsync=function(){this._events||ye.call(this);var e,t,n,r,o,i=arguments[0];if("newListener"===i&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);var a=[],s=arguments.length;if(this._all){if(3<s)for(e=new Array(s),r=1;r<s;r++)e[r]=arguments[r];for(n=0,t=this._all.length;n<t;n++)switch(this.event=i,s){case 1:a.push(this._all[n].call(this,i));break;case 2:a.push(this._all[n].call(this,i,arguments[1]));break;case 3:a.push(this._all[n].call(this,i,arguments[1],arguments[2]));break;default:a.push(this._all[n].apply(this,e))}}if("function"==typeof(o=this._events[i]))switch(this.event=i,s){case 1:a.push(o.call(this));break;case 2:a.push(o.call(this,arguments[1]));break;case 3:a.push(o.call(this,arguments[1],arguments[2]));break;default:for(e=new Array(s-1),r=1;r<s;r++)e[r-1]=arguments[r];a.push(o.apply(this,e))}else if(o&&o.length){if(o=o.slice(),3<s)for(e=new Array(s-1),r=1;r<s;r++)e[r-1]=arguments[r];for(n=0,t=o.length;n<t;n++)switch(this.event=i,s){case 1:a.push(o[n].call(this));break;case 2:a.push(o[n].call(this,arguments[1]));break;case 3:a.push(o[n].call(this,arguments[1],arguments[2]));break;default:a.push(o[n].apply(this,e))}}else if(!this._all&&"error"===i)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},me.prototype.on=function(e,t){return this._on(e,t,!1)},me.prototype.prependListener=function(e,t){return this._on(e,t,!0)},me.prototype.onAny=function(e){return this._onAny(e,!1)},me.prototype.prependAny=function(e){return this._onAny(e,!0)},me.prototype.addListener=me.prototype.on,me.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},me.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||ye.call(this),this._newListener&&this.emit("newListener",e,t),this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&0<this._maxListeners&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,function(e,t){console.warn("[Event] "+e+" listeners of event "+t+" have been added, possibly causing memory leak.")}.call(this,this._events[e].length,e))):this._events[e]=t,this},me.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n});for(var o=0;o<r.length;o++){if(n=r[o]._listeners,ve(n)){for(var i=-1,a=0,s=n.length;a<s;a++)if(n[a]===t||n[a].listener&&n[a].listener===t||n[a]._origin&&n[a]._origin===t){i=a;break}if(i<0)continue;return this._events[e].splice(i,1),0===n.length&&delete this._events[e],this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return function e(t){if(void 0!==t){var n=Object.keys(t);for(var r in n){var o=n[r],i=t[o];i instanceof Function||"object"!==P(i)||null===i||(0<Object.keys(i).length&&e(t[o]),0===Object.keys(i).length&&delete t[o])}}}(this.listenerTree),this},me.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&0<this._all.length){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},me.prototype.removeListener=me.prototype.off,me.prototype.removeAllListeners=function(e){return void 0===e?!this._events||ye.call(this):this._events&&(this._events[e]=null),this},me.prototype.listeners=function(e){return this._events||ye.call(this),this._events[e]||(this._events[e]=[]),ve(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},me.prototype.eventNames=function(){return Object.keys(this._events)},me.prototype.listenerCount=function(e){return this.listeners(e).length},me.prototype.listenersAny=function(){return this._all?this._all:[]};var we=me,Se=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{maxListeners:2e3};N(this,e),this.emitter=new we(t),this.callbackMap="undefined"!=typeof WeakMap?new WeakMap:{}}return ge(e,[{key:"emit",value:function(e,t){this.emitter.emit(e,t)}},{key:"on",value:function(e,t){if(t&&"function"==typeof t){var n=Reporter.surroundThirdByTryCatch(t,"at "+e+" callback function");this.callbackMap.set(t,n),this.emitter.on(e,n)}}},{key:"off",value:function(e,t){if(t&&"function"==typeof t){var n=this.callbackMap.get(t);this.emitter.off(e,n)}else this.emitter.removeAllListeners(e)}},{key:"listeners",value:function(e){return this.emitter.listeners(e)}}]),e}();function Ce(e){return"string"==typeof e?e.length:"object"===P(e)&&"number"==typeof e.byteLength?e.byteLength:0}function Ee(e){if(W.appContactInfo&&W.appContactInfo.operationInfo&&W.appContactInfo.operationInfo.jsonInfo){var t=W.appContactInfo.operationInfo.jsonInfo.apiAvailable;if("number"==typeof t[e])return t[e],1===t[e]}return!0}function Ie(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:function(){};return 5<arguments.length&&void 0!==arguments[5]&&arguments[5],function(a){n=i(a),Object(r.j)("operateWXData",p({},a,{data:p({api_name:t},o,n?{data:n}:void 0)}),{beforeAll:function(t){t.errMsg=t.errMsg.replace("operateWXData",e)},beforeSuccess:function(e){if($&&"string"==typeof e.data)try{e.data=JSON.parse(e.data)}catch(t){throw console.log("JSON.parse error.jsonstr:"+e.data),t}var t;(e.data||(e.data={}),e.data.data)&&(e.rawData=e.data.data,e=_extends(e,JSON.parse(e.data.data)))}})}}function Oe(e,t,n){var o=t.replace(/\.html\?.*|\.html$/,"");return!!__appServiceEngine__.hasPageRoute(o)||(Object(r.g)(e,n,'page "'+ee(t)+'" is not found'),!1)}var Te=!1;function ke(e){Te=!!e.state,e.success&&e.success({state:Te})}function Ae(e,t){var n=pe(e,"ui");if(0<n&&Te)return!1;if(20<=n)if(void 0===__appServiceEngine__){if(t)return!1}else{var r=__appServiceEngine__.getCurrentRoute()||"";if(/^\/?__wx__\//.test(r))return!1;var o=r.match(/(?:^|\/)__plugin__\/(.*?)\//);if((o?o[1]:"")!==t&&30<=n)return!1}return!0}var xe=!1;function Pe(e){xe="tap"===e}function De(){xe=!1}function Ne(e){var t=this;return function(){Pe("tap");for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(t,r),De()}}function je(e,t){var n=1<arguments.length&&void 0!==t?t:0,r=Me.data;if(r&&"function"==typeof le.webviewEventCallback){var o=JSON.parse(r);if(o.bindkeyboardheightchange)try{le.webviewEventCallback({data:{type:"keyboardheightchange",target:o.target,currentTarget:o.target,timeStamp:Date.now(),touches:[],detail:{duration:e.duration||0,height:e.height||0}},eventName:o.bindkeyboardheightchange,webviewId:n||le.currentWebviewId,nodeId:o.nodeId})}catch(e){throw e.type="AppServiceSdkKnownError",e.message="bind key input error",e}}}var Re=[],Me=null;Object(r.o)("onInputComponentData",function(e){Me=e,Re.forEach(function(e){je(e,e.webviewId)}),Re=[]}),Object(r.o)("removeInputComponent",function(e){Me&&(Me.inputId,e.inputId)}),Object(r.m)("onKeyboardHeightChange",function(e,t){var n=t||0;Me?(je(e,n),Me.inputId===e.inputId&&0===e.height&&(Me=null)):Re.push({inputId:e.inputId,height:e.height,duration:e.duration,webviewId:n})}),Object(r.m)("onKeyboardValueChange",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.value;if(Object(r.n)("setKeyboardValue",{value:n,cursor:e.cursor,inputId:e.inputId},[t]),e.data&&"function"==typeof le.webviewEventCallback){var o=JSON.parse(e.data);if(o.bindinput){var i;try{i=le.webviewEventCallback({data:{type:"input",target:o.target,currentTarget:o.target,timeStamp:Date.now(),touches:[],detail:{value:e.value,cursor:e.cursor,keyCode:e.keyCode}},eventName:o.bindinput,webviewId:t,nodeId:o.nodeId})}catch(e){throw new te("bind key input error")}if(o.setKeyboardValue)if(null==i||!1===i);else if("Object"===Object(r.h)(i)){var a={inputId:e.inputId};n!=i.value&&(a.value=String(i.value)),isNaN(parseInt(i.cursor))||(a.cursor=parseInt(i.cursor),void 0===a.value&&(a.value=n),a.cursor>a.value.length&&(a.cursor=-1)),Object(r.j)("setKeyboardValue",a)}else n!=i&&Object(r.j)("setKeyboardValue",{value:String(i),cursor:-1,inputId:e.inputId})}}});var Be,Le=new we;Object(r.m)("onPageReload",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e.webviewId=t,Le.emit("onPageReload",e)});var Fe=function(e,t){Le.once("onBeforeUnloadPage_"+e,function(e){"function"==typeof t&&t(e)})},Ue=new we,We={appLaunchInfo:null,appLaunchShareInfo:null,sceneHistory:[],appId:"",ShareInfoStorage:l.a.ShareInfoStorage,emitter:Ue};function qe(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;if(e.scene=e.scene?parseInt(e.scene,10):e.scene,e.query=(t||e.query?e.query:le.query)||{},e.path=ee(t||e.path?e.path:le.lastRoute),e.referrerInfo=e.referrerInfo||{},(e.isLaunch=t)||(1044===e.scene?le.lastShareInfo={shareInfo:e.shareInfo,path:e.path,query:e.query}:le.lastShareInfo=void 0),We.sceneHistory.push(e.scene),!e.referrerInfo.appId||1036!==e.scene&&1069!==e.scene||(We.appId=e.referrerInfo.appId),"object"===P(e.shareInfo)&&null!==e.shareInfo){var n=e.shareInfo;n.shareTicket&&(Object(r.j)("showUpdatableMessageSubscribeButton",{shareTicket:n.shareTicket,complete:function(e){}}),e.shareTicket=n.shareTicket,We.ShareInfoStorage.lastShareTicket=e.shareTicket),delete e.shareInfo}return e}function Ve(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};0===e.scene?e.scene=Be:Be=e.scene;var t=e.scene;if(e&&e.referrerInfo&&e.referrerInfo.extraData&&"string"==typeof e.referrerInfo.extraData)try{var n=JSON.parse(e.referrerInfo.extraData);n&&"object"===g(n)&&(e.referrerInfo.extraData=n,n.ad_scene_2019&&(t=n.ad_scene_2019))}catch(e){console.log("getLaunchOptionsSync e.referrerInfo.extraData is not a jsonstring")}return e&&e.extendData&&e.extendData.ad_scene_2019&&(t=e.extendData.ad_scene_2019),1103===t?t=1001:1104===t&&(t=1089),{path:e.path,query:e.query,scene:t,shareTicket:e.shareTicket,entryDataHash:e.entryDataHash,extendData:e.extendData,entryDataHash:e.entryDataHash,referrerInfo:e.referrerInfo.appId?{appId:e.referrerInfo.appId,extraData:e.referrerInfo.extraData}:{}}}var $e,Ge=new we({maxListeners:20,newListener:!1}),He=new we({maxListeners:10,newListener:!1}),ze={};function Ke(e){if(e=e[0].toUpperCase()+e.slice(1),!ze[e]){var t=new WeakMap;ze[e]={getGlobalListeners:function(){return Ge.listeners(e)},getInternalListeners:function(){return He.listeners(e)},emit:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];He.emit.apply(He,[e].concat(n)),Ge.emit.apply(Ge,[e].concat(n))},emitGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ge.emit.apply(Ge,[e].concat(n))},emitInternal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];He.emit.apply(He,[e].concat(n))},internalOnMethod:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"function"==typeof t&&(n.prepend?n.once?He.prependOnceListener(e,t):He.prependListener(e,t):n.once?He.once(e,t):He.on(e,t))},internalOffMethod:function(t){"function"==typeof t&&He.off(e,t)},onMethod:function(n){var r,o,i=(r=e,"function"!=typeof(o=n)?(console.error("on"+r+" should accept a function instead of "+P(o)),null):Reporter.surroundThirdByTryCatch(o,"at api on"+r+" callback function"));i&&(t.set(n,i),Ge.on(e,i))},offMethod:function(n){var r,o;if(r=e,!(o=n)||"function"==typeof o||(console.error("off"+r+" should accept a function instead of "+P(o)),0))if(n){if(t.has(n)){var i=t.get(n);t.delete(n),Ge.off(e,i)}}else t=new WeakMap,Ge.removeAllListeners(e)}}}return ze[e]}var Ye,Je,Qe=Ke("AppEnterForeground"),Xe=Qe.internalOnMethod,Ze=Date.now(),et=Date.now(),tt=0;function nt(e){et=Date.now(),(e=qe(e,!1)).__public=Ve(e),$e=e,Qe.emit(e)}Object(r.o)("getAppEnterForegroundInfo",function(e){var t=e.callbackId;Object(r.n)("appEnterForegroundInfoGot",{data:{info:$e,sceneHistory:We.sceneHistory,appId:We.appId},callbackId:t})}),Object(r.m)("onAppEnterForeground",function(e){1!==e.reLaunch&&!0!==e.reLaunch?nt(e):We.emitter.once("onAppRoute",function(){nt(e)}),Object(r.n)("onAppEnterForeground",e)}),Object(r.m)("onAdBack",function(e){Object(r.n)("onAdBack",e)});var rt=0,ot=[],it=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length?arguments[2]:void 0,o=3<arguments.length?arguments[3]:void 0,i=rt++;ot[i]=o,Object(r.n)("invokeWebviewMethod",{name:e,args:t,callbackId:i},void 0===n?[le.currentWebviewId]:n)};Object(r.o)("callbackWebviewMethod",function(e){var t=e.res,n=e.callbackId,r=ot[n];delete ot[n],r&&r(t)});var at=[],st=[],ct=["expires","domain","path","busid","indate","receivetime","spread"],ut=502,lt=503,ft=(de(Je={},ut,null),de(Je,lt,null),Je);function dt(e){Object(r.j)("getPermissionBytes",{indexes:[ut,lt]},{beforeSuccess:function(t){t.permissionBytes&&(ft[ut]=!(1!==t.permissionBytes[0]),ft[lt]=!(1!==t.permissionBytes[1])),e&&e()}})}function pt(e,t){V?t(!0):null===ft[e]?dt(function(){return t(!!ft[e])}):t(!!ft[e])}function ht(e){var t,n;t=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){t&&vt(t,!1,at),e&&e()}),n=W.accountInfo&&W.accountInfo.appId||"noAppId",it("getCookiesFromGlobalStorage",{appId:n},void 0,t)}function gt(){var e,t,n,r=Date.now(),o=[];at.forEach(function(e){var t=e.expires||e.__wxprivate_calc_expires__;if(t&&r<1e3*t){var n=[];for(var i in e)0<=ct.indexOf(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));n.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)),o.push(n.join("; "))}});var i=o.join(";; ");4096<=i.length||(e=i,t=function(e){},n=W.accountInfo&&W.accountInfo.appId||"noAppId",e&&e.trim()&&it("setCookiesToGlobalStorage",{cookies:e,appId:n},void 0,t))}function vt(e,t,n){if("string"==typeof e){var r=Date.now();e.split(";;").forEach(function(e){var o;if(e.split(";").forEach(function(e){o=o||{};var t=(e=e.split("="))[0].trim(),n=e[1]&&e[1].trim();"expires"!==t&&"indate"!==t||(n=Number(n),n=isNaN(n)?void 0:n),t&&void 0!==n&&(0<=ct.indexOf(t)?o[decodeURIComponent(t)]=decodeURIComponent(n):(o.name=decodeURIComponent(t),o.value=decodeURIComponent(n)))}),o){t&&(o.receivetime=~~(r/1e3)),void 0===o.expires&&void 0!==o.indate&&o.receivetime&&(o.__wxprivate_calc_expires__=Number(o.receivetime)+Number(o.indate));var i=o.expires||o.__wxprivate_calc_expires__;i&&!(r<1e3*i)||function(e,t){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e.busid===o.busid&&e.name===o.name)return!0}return!1}(o,n)||n.push(o),W.accountInfo&&W.accountInfo.appId&&o.spread&&(o.spread="*"===o.spread?"":o.spread+":",o.spread+=W.accountInfo.appId)}})}}function _t(e){var t=[];for(var n in e)0<=ct.indexOf(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value)),t.join("; ")}var yt,bt=function(e){var t=Date.now(),n=[];at.forEach(function(e){var r=e.expires||e.__wxprivate_calc_expires__;e.domain&&"*"===e.domain&&(!r||t<1e3*r)&&n.push(_t(e))});var r=n.join(";; ");return e&&e.success&&e.success({cookies:r}),r},mt=function(e){var t=Date.now(),n=e.cookies||[],r=e.isTemporary;if(n instanceof Array){var o,i=r?st:at,a=[],s={},c={},u=W.accountInfo&&W.accountInfo.appId||"";if(n.forEach(function(e){if(e.key&&"string"==typeof e.key){var n=Number(e.expires);if(!e.value||n&&1e3*n<t)s[e.key]={name:e.key,busid:e.busid};else{var o={name:e.key,value:e.value};ct.forEach(function(t){var n=e[t];"expires"!==t&&"indate"!==t||(n=Number(n),n=isNaN(n)?void 0:n),"spread"===t&&n&&!r&&u&&(o.spread="*"===n?"":n+":",o.spread+=u),"receivetime"!==t&&"spread"!==t&&void 0!==n&&(o[t]=n)}),c[e.key]=o,a.push(o)}}}),i.forEach(function(e){var n=s[e.name];if(!n||(n.busid||e.busid)&&n.busid!==e.busid){var r=c[e.name];if(!r||(r.busid||e.busid)&&r.busid!==e.busid){var o=e.expires||e.__wxprivate_calc_expires__;o&&1e3*o<t||a.push(e)}}}),4096<=(o=[],a.forEach(function(e){o.push(_t(e))}),o.join(";; ")).length)return"setCookies:fail whole cookies storage is out of limit(4KB limit)";r?st=a:(at=a,gt())}},wt=function(e){var t=Date.now(),n=e.keys||[],r=e.busid,o=e.isTemporary;if(n instanceof Array){var i=[];return(o?st:at).forEach(function(e){var o=e.expires||e.__wxprivate_calc_expires__;if((!o||t<1e3*o)&&0<=n.indexOf(e.name)&&(!r||r&&r===e.busid)){var a=de({},e.name,e.value);Object.keys(e).forEach(function(t){0<=ct.indexOf(t)&&(a[t]=e[t]),"indate"!==t&&"expires"!==t||(a[t]=Number(a[t]))}),i.push(a)}}),i}},St=Ke("AppEnterBackground"),Ct=St.internalOnMethod;Object(r.m)("onAppEnterBackground",function(e){tt+=Date.now()-et,e||(e={}),St.emit(e),Object(r.n)("onAppEnterBackground",e)});var Et=function(e,t){var n=[e,t].join(",");Reporter.reportKeyValue({key:"NavigateToMiniProgramAlert",value:n})},It=(yt=[],W.onReady(function(){Array.isArray(W.navigateToMiniProgramAppIdList)&&(yt=W.navigateToMiniProgramAppIdList)}),function(e,t){return new Promise(function(n,r){!Ee("navigateToMiniProgramConfig")||V?t?n():-1<yt.indexOf(e)?n({sourcetype:4}):r({errMsg:'appId "'+e+'" is not in navigateToMiniProgramAppIdList'}):n()})}),Ot=function(e){var t="_checkBeforeNavigateToMiniProgram";return new Promise(function(n,o){var i;(i=e,new Promise(function(e,t){Gn({apiName:"webapi_getnavigatewxaappinfo",reqData:{target_appid:i.appId},success:function(t){t.respData;var n=JSON.parse(t.respData.data),r=n.action_code,o=n.skip_local_check;e({actionCode:r,skipLocalCheck:o,reason:n.reason,wording:n.wording})},fail:function(e){t(e)}})})).then(function(i){var a=i.actionCode,s=i.skipLocalCheck,c=i.reason,u=i.wording;1!==a&&2!==a?(Object(r.c)(t,e,!1,c,null,{},!1),o({errMsg:c})):It(e.appId,s).then(function(){var o,i,s,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(o=u,i=a,s=e.appId,1===i?Promise.resolve():new Promise(function(e,t){Object(r.j)("showModal",{title:"",content:o,confirmText:"允许",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000",success:function(n){n.confirm?(Et(1,s),e()):(Et(2,s),t({errMsg:"cancel"}))},fail:function(){Et(3,s),t()}})})).then(function(){Object(r.c)(t,e,!0,"",null,{sourcetype:c.sourcetype}),n(c)})}).catch(function(n){var i=n.errMsg;Object(r.c)(t,e,!1,i,null,{},!1),o({errMsg:i})})},function(){Object(r.c)(t,e,!0),n()})})},Tt=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("navigateToMiniProgram",e,{appId:""})&&Ot({appId:e.appId}).then(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};delete e.sourcetype,delete e.preScene,delete e.preSceneNote,7!==W.appType&&(delete e.scene,delete e.sceneNote);var n=bt();n?(e.privateExtraData=e.privateExtraData||{},e.privateExtraData.cookies=n):e.privateExtraData&&delete e.privateExtraData.cookies,"string"==typeof e.path&&0<e.path.trim().length?Object(r.j)("navigateToMiniProgram",p({},e,t,{path:Z(e.path).trim()})):Object(r.j)("navigateToMiniProgram",p({},e,t,{path:void 0}))}(e,{sourcetype:t.sourcetype})},function(t){var n=t.errMsg;Object(r.c)("navigateToMiniProgram",e,!1,n)})},kt=!1,At=0;Object(r.o)("tapAnyWhere",function(e){At=e.timeStamp,kt=!0}),Ct(function(){At=0,kt=!1});var xt=function(){At=Date.now(),kt=!0},Pt=Ke("AppRouteDone"),Dt=Pt.internalOnMethod;Object(r.m)("onAppRouteDone",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;le.navigatorLock=!1,e.path&&(e.path=e.path.substring(0,e.path.length-5)),e.webviewId=void 0!==e.webviewId?e.webviewId:t,le.lastRoute=e.path,Pt.emit(e),Object(r.n)("onAppRouteDone",{},[t])});var Nt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"#00000000"};function jt(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o="canvas_"+e+"_"+t+"_"+n+"_";return r&&r!==__virtualDOM__.getRootNodeId(e)&&(o+=r),o}function Rt(e){var t=[],n=1;return Object(r.o)(e,function(e){var n=-1;t.forEach(function(t,r){var o=t[0],i=t[1];o.cid===e.cid&&o.canvasId===e.canvasId&&(i(e),n=r)}),n>=0&&t.splice(n,1)}),function(e,r){e.cid=n++,t.push([e,r])}}var Mt=void 0,Bt={},Lt={};function Ft(e){return"number"==typeof e}function Ut(e){var t=null;if(null!=(t=/^#([0-9|A-F|a-f]{6})$/.exec(e)))return[n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4),16),255];if(null!=(t=/^#([0-9|A-F|a-f]{3})$/.exec(e))){var n=t[1].slice(0,1),r=t[1].slice(1,2),o=t[1].slice(2,3);return[n=parseInt(n+n,16),r=parseInt(r+r,16),o=parseInt(o+o,16),255]}if(null!=(t=/^rgb\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e){return Math.min(255,parseInt(e.trim()))}).concat(255);if(null!=(t=/^rgba\((.+)\)$/.exec(e)))return t[1].split(",").map(function(e,t){return 3==t?Math.floor(255*parseFloat(e.trim())):Math.min(255,parseInt(e.trim()))});var i=e.toLowerCase();if(Nt.hasOwnProperty(i)){t=/^#([0-9|A-F|a-f]{6,8})$/.exec(Nt[i]),n=parseInt(t[1].slice(0,2),16),r=parseInt(t[1].slice(2,4),16),o=parseInt(t[1].slice(4,6),16);var a=parseInt(t[1].slice(6,8),16);return[n,r,o,a=0<=a?a:255]}return console.group("非法颜色: "+e),console.error("不支持颜色："+e),console.groupEnd(),[0,0,0,255]}function Wt(e){if(Array.isArray(e)){var t=[];return e.forEach(function(e){t.push(Wt(e))}),t}if("object"!=P(e))return e;for(var n in t={},e)t[n]=Wt(e[n]);return t}function qt(e,t,n){"string"==typeof n?e.actions.push({method:t,data:["normal",Ut(n)]}):"object"==P(n)&&n instanceof $t?e.actions.push({method:t,data:[n.type,n.data,n.colorStop]}):n instanceof Ht&&e.actions.push({method:t,data:["pattern",n.image,n.repetition]})}function Vt(e,t){if("devtools"!==Mt&&!/(wxfile|qqfile):\/\//.test(t))if(e.pluginId||e.nodeId){var n=e.pluginId.split("/")[0],r=__virtualDOM__.getNodeById(e.nodeId,e.webviewId),o=r&&r.is||"";t=n?__virtualDOM__.getPluginRoutePrefix(n)+Y(o,t,!1).replace(/\.html$/,""):Y(o,t,!1).replace(/\.html$/,"")}else t=Y(le.lastRoute,t,!1).replace(/.html$/,"");return t}var $t=function(){function e(t,n){N(this,e),this.type=t,this.data=n,this.colorStop=[]}return ge(e,[{key:"addColorStop",value:function(e,t){this.colorStop.push([e,Ut(t)])}}]),e}(),Gt=function e(t){N(this,e),this.width=t},Ht=function e(t,n){N(this,e),this.image=t,this.repetition=n},zt=function(){function e(t,n,r,o){if(N(this,e),this.actions=[],this.path=[],this.subpath=[],this.webviewId=t,this.canvasId=n,this.pluginId=o,this.useHardwareAccelerate=!0,this.nodeId=r,this._id=jt(t,n,o,r),this.drawingState=Bt[this._id]=Bt[this._id]||[],this.state=Lt[this._id]=Lt[this._id]||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===Mt?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"},"devtools"===(Mt=Mt||q)){var i=document.createElement("canvas");this._context=i.getContext("2d")}}return ge(e,[{key:"getActions",value:function(){var e=Wt(this.actions);return this.actions=[],this.path=[],this.subpath=[],e}},{key:"clearActions",value:function(){this.actions=[],this.path=[],this.subpath=[]}},{key:"draw",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=1<arguments.length?arguments[1]:void 0,n=this.canvasId,r=(this.pluginId,Wt(this.actions)),o=this.useHardwareAccelerate;this.actions=[],this.path=[],this.useHardwareAccelerate=!0,this.isWidgetCanvas?bn({isWidgetCanvas:!0,actions:r,reserve:e}):bn({canvasId:n,actions:r,reserve:e,useHardwareAccelerate:o,complete:t},this.webviewId,this.pluginId,this.nodeId)}},{key:"createLinearGradient",value:function(e,t,n,r){return new $t("linear",[e,t,n,r])}},{key:"createCircularGradient",value:function(e,t,n){return new $t("radial",[e,t,n])}},{key:"createPattern",value:function(e,t){if(void 0!==t){if(-1!==["repeat","repeat-x","repeat-y","no-repeat"].indexOf(t))return e=Vt(this,e),new Ht(e,t);console.error("Failed to execute 'createPattern' on 'CanvasContext': The provided type ('"+t+"') is not one of 'repeat', 'no-repeat', 'repeat-x', or 'repeat-y'.")}else console.error("Failed to execute 'createPattern' on 'CanvasContext': 2 arguments required, but only 1 present.")}},{key:"measureText",value:function(e){var t;return"devtools"===Mt?(this._context.font=this.state.font,t=this._context.measureText(e)):Object(r.j)("measureText",{text:e,fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,fontWeight:this.state.fontWeight,fontStyle:this.state.fontStyle,complete:function(e){t={width:e.width||0}}}),new Gt(t.width||0)}},{key:"save",value:function(){this.actions.push({method:"save",data:[]}),this.drawingState.push(this.state)}},{key:"restore",value:function(){this.actions.push({method:"restore",data:[]}),this.state=Lt[this._id]=this.drawingState.pop()||{lineDash:[0,0],shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,shadowColor:"ios"===Mt?[]:[0,0,0,0],font:"10px sans-serif",fontSize:10,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif"}}},{key:"getLineDash",value:function(){return this.state.lineDash}},{key:"beginPath",value:function(){this.path=[],this.subpath=[]}},{key:"moveTo",value:function(e,t){this.path.push({method:"moveTo",data:[e,t]}),this.subpath=[[e,t]]}},{key:"closePath",value:function(){this.path.push({method:"closePath",data:[]}),this.subpath.length&&(this.subpath=[this.subpath.shift()])}},{key:"lineTo",value:function(e,t){0===this.path.length&&0===this.subpath.length?this.path.push({method:"moveTo",data:[].slice.apply(arguments)}):this.path.push({method:"lineTo",data:[].slice.apply(arguments)}),this.subpath.push([e,t])}},{key:"quadraticCurveTo",value:function(e,t,n,r){this.path.push({method:"quadraticCurveTo",data:[e,t,n,r]}),this.subpath.push([n,r])}},{key:"bezierCurveTo",value:function(e,t,n,r,o,i){this.path.push({method:"bezierCurveTo",data:[e,t,n,r,o,i]}),this.subpath.push([o,i])}},{key:"arc",value:function(e,t,n,r,o){var i=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if("android"!==Mt)return this.path.push({method:"arc",data:[e,t,n,r,o,i]}),void this.subpath.push([e,t]);var a=e+Math.cos(r)*n,s=t+Math.sin(r)*n;if(this.subpath.push([a,s]),i&&r-o>=2*Math.PI||!i&&o-r>=2*Math.PI)this.subpath.push([a,s]);else{var c=e+Math.cos(o)*n,u=t+Math.sin(o)*n;this.subpath.push([c,u])}this.path.push({method:"arc",data:[e,t,n,r,o,i]})}},{key:"rect",value:function(e,t,n,r){this.path.push({method:"rect",data:[e,t,n,r]}),this.subpath=[[e,t]],"android"===Mt&&this.path.push({method:"closePath",data:[]})}},{key:"arcTo",value:function(e,t,n,r,o,i){if("android"!==Mt&&!i)return this.path.push({method:"arcTo",data:[e,t,n,r,o]}),void this.subpath.push([n,r]);var a,s,c,u,l,f,d=this.subpath[this.subpath.length-1],p=d[0],h=d[1];if(p===e&&h===t||e===n&&t===r||0===o)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);if(p===e&&p===n||h===t&&h===r)return this.actions.push({method:"lineTo",data:[e,t]}),void this.subpath.push([e,t]);var g=Math.sqrt,v=Math.acos,_=Math.sin,y=Math.tan,b=(Math.cos,Math.atan),m=(Math.abs,Math.PI),w=function(e){return Math.pow(e,2)},S=p-e,C=h-t,E=n-e,I=r-t,O=v((S*E+C*I)/(g(w(S)+w(C))*g(w(E)+w(I))))/2,T=Math.round(o/_(O)*1e6)/1e6,k=Math.round(o/y(O)*1e6)/1e6;if(p-e==0)a=e,s=0<h-t?t+k:t-k;else if(h-t==0)a=0<p-e?e+k:e-k,s=t;else{var A=(h-t)/(p-e),x=h-A*p;s=A*(a=(g(w(S)+w(C))*k+S*e+C*t-x*C)/(S+A*C))+x}if(n-e==0)c=e,u=0<r-t?t+k:t-k;else if(r-t==0)c=0<n-e?e+k:e-k,u=t;else{var P=(r-t)/(n-e),D=r-P*n;u=P*(c=(g(w(E)+w(E))*k+E*e+I*t-D*I)/(E+P*I))+D}var N=(a+c)/2-e,j=(s+u)/2-t;if(0===j)l=e,f=0<j?t+T:t-T;else{var R=j/N,M=t-R*e;f=R*(l=(g(w(N)+w(j))*T+e*N+t*j-M*j)/(N+R*j))+M}l=Math.round(1e6*l)/1e6;var B=s-(f=Math.round(1e6*f)/1e6),L=a-l,F=m-2*O,U=b(B/L);0===B&&L<0&&(U=Math.PI);var W=(a-l)*(u-f)-(s-f)*(c-l);this.path.push({method:"arc",data:[l,f,o,U,0<W?U+F:U-F,W<0]}),this.subpath.push([c,u])}},{key:"clip",value:function(){this.actions.push({method:"clip",data:Wt(this.path)})}},{key:"lineDashOffset",set:function(e){if("devtools"!==Mt){var t=this.state.lineDash||[0,0];this.actions.push({method:"setLineDash",data:[t,e]})}else this.actions.push({method:"setLineDashOffset",data:[e]})}},{key:"globalCompositeOperation",set:function(e){this.actions.push({method:"setGlobalCompositeOperation",data:[e]})}},{key:"shadowBlur",set:function(e){"devtools"!==Mt?(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,e,this.state.shadowColor]}),this.state.shadowBlur=e):this.actions.push({method:"setShadowBlur",data:[e]})}},{key:"shadowColor",set:function(e){var t;"devtools"!==Mt?(t="ios"===Mt&&0===this.state.shadowBlur?[]:Ut(e),this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,this.state.shadowOffsetY,this.state.shadowBlur,t]}),this.state.shadowColor=t):this.actions.push({method:"setShadowColor",data:[e]})}},{key:"shadowOffsetX",set:function(e){"devtools"!==Mt?(this.actions.push({method:"setShadow",data:[e,this.state.shadowOffsetY,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetX=e):this.actions.push({method:"setShadowOffsetX",data:[e]})}},{key:"shadowOffsetY",set:function(e){"devtools"!==Mt?(this.actions.push({method:"setShadow",data:[this.state.shadowOffsetX,e,this.state.shadowBlur,this.state.shadowColor]}),this.state.shadowOffsetY=e):this.actions.push({method:"setShadowOffsetY",data:[e]})}},{key:"font",set:function(e){var t=this,n=(this.state.font=e).match(/^(([\w\-]+\s)*)(\d+r?px)(\/(\d+\.?\d*(r?px)?))?\s+(.*)/);if(n){var r=n[1].trim().split(/\s/),o=parseFloat(n[3]),i=n[7],a=[],s="",c=this;if(r.forEach(function(e,n){-1<["italic","oblique","normal"].indexOf(e)?(a.push({method:"setFontStyle",data:[e]}),t.state.fontStyle=e):-1<["bold","normal"].indexOf(e)?(a.push({method:"setFontWeight",data:[e]}),t.state.fontWeight=e):0===n?(a.push({method:"setFontStyle",data:["normal"]}),c.state.fontStyle="normal"):1===n&&u()}),1===r.length&&u(),s=a.map(function(e){return e.data[0]}).join(" "),this.state.fontSize=o,this.state.fontFamily=i,"devtools"===Mt)return s=s+" "+o+"px "+i,void this.actions.push({method:"setFont",data:[s]});this.actions.push.apply(this.actions,a),this.actions.push({method:"setFontSize",data:[o]},{method:"setFontFamily",data:[i]})}else console.warn("Failed to set 'font' on 'CanvasContext': invalid format.");function u(){a.push({method:"setFontWeight",data:["normal"]}),c.state.fontWeight="normal"}},get:function(){return this.state.font}},{key:"fillStyle",set:function(e){qt(this,"setFillStyle",e)}},{key:"strokeStyle",set:function(e){qt(this,"setStrokeStyle",e)}},{key:"globalAlpha",set:function(e){e=Math.floor(255*parseFloat(e)),this.actions.push({method:"setGlobalAlpha",data:[e]})}},{key:"textAlign",set:function(e){this.actions.push({method:"setTextAlign",data:[e]})}},{key:"lineCap",set:function(e){this.actions.push({method:"setLineCap",data:[e]})}},{key:"lineJoin",set:function(e){this.actions.push({method:"setLineJoin",data:[e]})}},{key:"lineWidth",set:function(e){this.actions.push({method:"setLineWidth",data:[e]})}},{key:"miterLimit",set:function(e){this.actions.push({method:"setMiterLimit",data:[e]})}},{key:"textBaseline",set:function(e){this.actions.push({method:"setTextBaseline",data:[e]})}}]),e}();[].concat(["scale","rotate","translate","setTransform","transform"],["drawImage","fillText","fill","stroke","fillRect","strokeRect","clearRect","strokeText"]).forEach(function(e){zt.prototype[e]="fill"==e||"stroke"==e?function(){this.actions.push({method:e+"Path",data:Wt(this.path)})}:"fillRect"===e?function(e,t,n,r){this.actions.push({method:"fillPath",data:[{method:"rect",data:[e,t,n,r]}]})}:"strokeRect"===e?function(e,t,n,r){this.actions.push({method:"strokePath",data:[{method:"rect",data:[e,t,n,r]}]})}:"fillText"===e||"strokeText"===e?function(t,n,r,o){var i=[t.toString(),n,r];"number"==typeof o&&i.push(o),this.actions.push({method:e,data:i})}:"drawImage"==e?function(t,n,r,o,i,a,s,c,u){var l;t=Vt(this,t),void 0===u&&(a=n,s=r,c=o,u=i,i=o=r=n=void 0),l=Ft(n)&&Ft(r)&&Ft(o)&&Ft(i)?[t,a,s,c,u,n,r,o,i]:Ft(c)&&Ft(u)?[t,a,s,c,u]:[t,a,s],this.actions.push({method:e,data:l})}:"clearRect"===e?function(){this.useHardwareAccelerate=!1,this.actions.push({method:e,data:[].slice.apply(arguments)})}:function(){this.actions.push({method:e,data:[].slice.apply(arguments)})}}),["setFillStyle","setTextAlign","setStrokeStyle","setGlobalAlpha","setShadow","setFontSize","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setTextBaseline","setLineDash"].forEach(function(e){"setFillStyle"==e||"setStrokeStyle"==e?zt.prototype[e]=function(){var t=arguments[0];qt(this,e,t)}:"setGlobalAlpha"===e?zt.prototype[e]=function(){var t=[].slice.apply(arguments,[0,1]);t[0]=Math.floor(255*parseFloat(t[0])),this.actions.push({method:e,data:t})}:"setShadow"==e?zt.prototype[e]=function(){var t=[].slice.apply(arguments,[0,4]);t[3]="ios"===Mt&&0===t[2]?[]:Ut(t[3]),this.actions.push({method:e,data:t}),this.state.shadowBlur=t[2],this.state.shadowColor=t[3],this.state.shadowOffsetX=t[0],this.state.shadowOffsetY=t[1]}:"setLineDash"==e?zt.prototype[e]=function(){var t=[].slice.apply(arguments,[0,2]);t[0]=t[0]||[0,0],t[1]=t[1]||0,this.actions.push({method:e,data:t}),this.state.lineDash=t[0]}:"setFontSize"===e?zt.prototype.setFontSize=function(e){this.state.font=this.state.font.replace(/\d+\.?\d*px/,e+"px"),this.state.fontSize=e,this.actions.push({method:"setFontSize",data:[e]})}:zt.prototype[e]=function(){this.actions.push({method:e,data:[].slice.apply(arguments,[0,1])})}});var Kt=void 0===__libVersionInfo__||"develop"===__libVersionInfo__.version?"9.9.9":__libVersionInfo__.version,Yt=void 0===__libVersionInfo__||__libVersionInfo__.build?__libVersionInfo__.build:"99999",Jt=null,Qt=function(){W.isReady||(new Error).stack;var e=q,t={};return Object(r.j)("getSystemInfoSync",{success:function(e){delete e.errMsg,Jt=p({},t=e)}},{beforeSuccess:function(t){if(G&&(t.brand="iPhone"),G&&t.version.indexOf("_")>-1){var n=t.version.match(/\d+\.\d+\.\d+/);n&&n[0]&&(t.version=n[0])}V&&"devtools"!==t.brand&&(e="iPhone"===t.brand?"ios":"android"),t.platform=e,t.SDKVersion=Kt,t.SDKBuild=Yt,W.devicePixelRatio&&(t.devicePixelRatio=W.devicePixelRatio),delete(Jt=p({},t)).errMsg,4!==W.appType&&delete t.benchmarkLevel}}),t},Xt=function(){return Jt||Qt()},Zt=function(){},en={getSystemInfo:function(e){W.isReady||(new Error).stack;var t=q;Object(r.j)("getSystemInfo",e,{beforeSuccess:function(e){if(G&&(e.brand="iPhone"),G&&e.version.indexOf("_")>-1){var n=e.version.match(/\d+\.\d+\.\d+/);n&&n[0]&&(e.version=n[0])}V&&"devtools"!==e.brand&&(t="iPhone"===e.brand?"ios":"android"),e.platform=t,e.SDKVersion=Kt,e.SDKBuild=Yt,W.devicePixelRatio&&(e.devicePixelRatio=W.devicePixelRatio),delete(Jt=p({},e)).errMsg,4!==W.appType&&delete e.benchmarkLevel}})},getSystemInfoSync:Qt,getQua:function(e){W.isReady||(new Error).stack,Object(r.j)("getQua",e)},getStaticSystemInfoSync:Xt},tn={},nn={},rn={},on={},an=0,sn=0,cn=4500,un=Date.now,ln=Rt("onCanvasMethodCallback"),fn=Rt("onDrawCanvas");function dn(){for(var e in rn)-1<e.indexOf("canvas_"+le.currentWebviewId+"_")&&delete rn[e]}function pn(e,t,n){var r={errMsg:e+": "+(n||"fail canvas is empty")},o=Reporter.surroundThirdByTryCatch(t.fail||Zt,"at api "+e+" fail callback function"),i=Reporter.surroundThirdByTryCatch(t.complete||Zt,"at api "+e+" complete callback function");o(r),i(r)}function hn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=jt(le.currentWebviewId,e.canvasId,n,t),i=Object(r.b)({},e);if("number"==typeof rn[o]){if(i.canvasId=rn[o],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.width=Number(i.width)||0,i.height=Number(i.height)||0,0===i.width)return void pn("canvasGetImageData",e,"the source width is 0");if(0===i.height)return void pn("canvasGetImageData",e,"the source height is 0");if(V)i.method="getImageData",ln(i,function(t){var n={width:t.width,height:t.height,data:function(e){for(var t=window.atob(e),n=t.length,r=new Uint8ClampedArray(n),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}(t.data)};"function"==typeof e.success&&e.success(n),"function"==typeof e.complete&&e.complete(n)}),Object(r.n)("invokeCanvasMethod",i);else{var a=i.success,s=i.fail;i.success=function(e){"[object ArrayBuffer]"===Object.prototype.toString.call(e.data)?(e.width=i.width,e.height=i.height,e.data=new Uint8ClampedArray(e.data),"function"==typeof a&&a(e)):(delete e.data,e.errMsg="canvasGetImageData: fail","function"==typeof s&&s(e))},Object(r.j)("canvasGetImageData",i)}}else pn("canvasGetImageData",e)}function gn(e,t){hn(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"")}function vn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=jt(le.currentWebviewId,e.canvasId,n,t),i=Object(r.b)({},e);"number"==typeof i.width?i.data&&"[object Uint8ClampedArray]"===Object.prototype.toString.call(i.data)?"number"==typeof rn[o]?(i.canvasId=rn[o],i.jsInvokedAt=Date.now(),i.x=Number(i.x)||0,i.y=Number(i.y)||0,i.height="number"==typeof i.height?i.height:i.data.length/i.width/4|0,V?(i.data=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return window.__global.btoa(t)}(i.data),i.method="putImageData",Object(r.n)("invokeCanvasMethod",i),"function"==typeof e.success&&e.success({errMsg:"canvasPutImageData:ok"}),"function"==typeof e.complete&&e.complete({errMsg:"canvasPutImageData:ok"})):(i.data=i.data.buffer,Object(r.j)("canvasPutImageData",i))):pn("canvasPutImageData",e):pn("canvasPutImageData",e,"data argument must be an Uint8ClampedArray"):pn("canvasPutImageData",e,"invalid width argument")}function _n(e,t){vn(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"")}function yn(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0,a=5<arguments.length?arguments[5]:void 0,s=6<arguments.length?arguments[6]:void 0;if(V){var c={actions:t,reserve:n,canvasId:e};fn(c,function(e){"function"==typeof s&&s({errMsg:e.errMsg})}),Object(r.n)("canvasActionsChanged",c)}else Object(r.j)("drawCanvas",{canvasId:e,reserve:n,useHardwareAccelerate:o,actions:t,success:i,fail:a,complete:s})}function bn(e){var t=e.isWidgetCanvas,n=e.canvasId,o=e.actions,i=e.reserve,a=e.useHardwareAccelerate,s=e.success,c=e.fail,u=e.complete,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:le.currentWebviewId,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",p=un();if(Array.isArray(o)){if(t){if(p-an<cn){var h={errMsg:"drawCanvas:fail 调用 draw 过于频繁。"};return 500<(sn+=1)&&(sn=0,console.warn(h.errMsg)),void("function"==typeof c&&c(h))}return an=p,void Object(r.j)("drawCanvas",{canvasId:v,reserve:i,actions:o,success:s,fail:c,complete:u})}if(n){var g=jt(l,n,f,d);if("number"==typeof rn[g]){var v=rn[g];yn(v,o,i,a,s,c,u)}else on[g]=on[g]||[],on[g]=on[g].concat({actions:o,reserve:i,useHardwareAccelerate:a,success:s,fail:c,complete:u})}}}function mn(e){bn(e)}"undefined"!=typeof __widgetConfig__&&(cn="number"==typeof __widgetConfig__.drawMinInterval?__widgetConfig__.drawMinInterval:25),Object(r.o)("canvasInsert",function(e,t){var n=e.canvasId,r=e.canvasNumber,o=e.pluginId,i=e.data,a=e.position,s=e.nodeId,c=e.compPath,u=jt(t,n,o,s);tn[r]={lastTouches:[],data:i,compPath:c},rn[u]=r,nn[r]=a,Array.isArray(on[u])&&(on[u].forEach(function(e){yn(r,e.actions,e.reserve,e.useHardwareAccelerate,e.success,e.fail,e.complete)}),delete on[u])}),Object(r.o)("canvasUpdate",function(e,t){e.canvasId;var n=e.canvasNumber,r=e.position;nn.hasOwnProperty(n)&&(nn[n]=r)}),Object(r.o)("canvasRemove",function(e,t){var n=jt(t,e.canvasId,e.pluginId,e.nodeId);rn[n]&&delete rn[n]});var wn=null,Sn=function(e,t){var n,o,i,a,s,c,u,l,f=Object(r.b)({},t);f.success=t.success,f.fail=t.fail,f.complete=t.complete;var d=300,p=150;nn.hasOwnProperty(t.canvasId)&&(d=nn[t.canvasId].width,p=nn[t.canvasId].height),!G||"6.5.10"!==e.version&&"6.5.11"!==e.version&&"6.5.12"!==e.version?(n=f,o=e.pixelRatio,i=d,a=p,n.x=n.x?n.x:0,n.y=n.y?n.y:0,(n.x<0||n.x>i)&&(n.x=0),(n.y<0||n.y>a)&&(n.y=0),n.width=n.width?Math.min(i-n.x,n.width):i-n.x,n.height=n.height?Math.min(a-n.y,n.height):a-n.y,n.destWidth=n.destWidth?n.destWidth:n.width*o,n.destHeight=n.destHeight?n.destHeight:n.height*o):(s=f,u=d,l=p,u*=c=e.pixelRatio,l*=c,s.x=s.x?s.x*c:0,s.y=s.y?s.y*c:0,(s.x<0||s.x>u)&&(s.x=0),(s.y<0||s.y>l)&&(s.y=0),s.width=s.width?Math.min(u-s.x,s.width*c):u-s.x,s.height=s.height?Math.min(l-s.y,s.height*c):l-s.y,s.destWidth=s.destWidth?s.destWidth/c:s.width/c,s.destHeight=s.destHeight?s.destHeight/c:s.height/c),Object(r.j)("canvasToTempFilePath",f)};function Cn(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(e.canvasId){var o,i=jt(le.currentWebviewId,e.canvasId,n,t);"number"==typeof rn[i]?(e.canvasId=rn[i],(o=e).fileType=-1<["jpg","png"].indexOf(o.fileType)?o.fileType:"png",o.quality="jpg"===o.fileType?o.quality<0||1<o.quality?1:o.quality:1,o.jpgQuality=o.quality,V?(o.method="toDataURL",ln(o,function(e){Object(r.j)("base64ToTempFilePath",Object(r.b)({base64Data:e.dataUrl},o),{beforeAll:function(e){e.errMsg=e.errMsg.replace("base64ToTempFilePath","canvasToTempFilePath")}})}),Object(r.n)("invokeCanvasMethod",o)):(wn||(wn=Xt()),Sn(wn,o))):pn("canvasToTempFilePath",e)}}function En(e,t){Cn(e,t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"")}var In=function(){return new zt},On=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return new zt(e,t,n,r)},Tn=function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"";return On(le.currentWebviewId,e,n)},kn=Ke("AppRoute"),An=kn.internalOnMethod,xn=kn.internalOffMethod;Object(r.m)("onAppRoute",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e.path=ee(e.path),e.webviewId=void 0!==e.webviewId?e.webviewId:t,le.lastRoute=e.path,"appLaunch"!==e.openType&&"autoReLaunch"!==e.openType)for(var n in e.query)try{e.query[n]=decodeURIComponent(e.query[n])}catch(e){}le.query=e.query,"navigateBack"!==e.openType&&"redirectTo"!==e.openType||dn(),le.currentWebviewId=e.webviewId,Object(r.n)("onAppRoute",e,[]),We.emitter.emit("onAppRoute"),kn.emit(e)});var Pn,Dn=!1,Nn=null,jn=null;An(function(){Dn=!0}),Dt(function(){Dn=!1,Nn&&(Rn(Nn),Nn=null),jn&&(Mn(jn),jn=null)});var Rn=function(e){Object(r.e)("addCard",e,{cardList:[]})&&(Dn?Nn=e:Object(r.j)("addCard",e))},Mn=function(e){Object(r.e)("openCard",e,{cardList:[]})&&(Dn?jn=e:Object(r.j)("openCard",e))},Bn={addCard:Rn,openCard:Mn},Ln={checkIsSupportSoterAuthentication:function(){Object(r.j)("checkIsSupportSoterAuthentication",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},startSoterAuthentication:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("startSoterAuthentication",e,{challenge:""})){var t=e.success;Object(r.j)("startSoterAuthentication",p({},e,{success:function(n){0!==n.errCode?"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api startSoterAuthentication fail callback function")(n):"function"==typeof t&&Reporter.surroundThirdByTryCatch(t,"at api startSoterAuthentication success callback function")(n)}}),{beforeSuccess:function(e){"number"==typeof e.errCode&&0!==e.errCode&&(e.errMsg="startSoterAuthentication:fail")}})}},checkIsSoterEnrolledInDevice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("checkIsSoterEnrolledInDevice",e,{checkAuthMode:""})&&Object(r.j)("checkIsSoterEnrolledInDevice",e,{})}},Fn={openGoldenRedPacketDetail:function(){Object(r.j)("openGoldenRedPacketDetail",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},sendGoldenRedPacket:function(){Object(r.j)("sendGoldenRedPacket",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},sendBizRedPacket:function(){Object(r.j)("sendBizRedPacket",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},sendRedPacket:function(){Object(r.j)("sendRedPacket",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},openRedPacket:function(){Object(r.j)("openRedPacket",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}},Un=function(e){return JSON.stringify({name:e.name,id_card_number:e.idCardNumber,mobile:e.mobile,outer_verify_id:e.outerVerifyId,user_id_key:e.userIdKey})},Wn={startFacialRecognitionVerify:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("startFacialRecognitionVerify",Object(r.b)(e,{requestVerifyPreInfo:Un(e)}),{})},startCustomFacialRecognitionVerify:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("startCustomFacialRecognitionVerify",Object(r.b)(e,{requestVerifyPreInfo:Un(e)}),{})},checkIsSupportFacialRecognition:function(){Object(r.j)("checkIsSupportFacialRecognition",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},startFacialRecognitionVerifyAndUploadVideo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("startFacialRecognitionVerifyAndUploadVideo",Object(r.b)(e,{requestVerifyPreInfo:Un(e)}),{})},startCustomFacialRecognitionVerifyAndUploadVideo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("startCustomFacialRecognitionVerifyAndUploadVideo",Object(r.b)(e,{requestVerifyPreInfo:Un(e)}),{})}},qn=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("authorize",e,{scope:""})&&Object(r.j)("authorize",Object(r.b)(e,{scope:[e.scope]}),{beforeAll:function(e){delete e.body,void 0!==e.err_code&&(e.errCode=e.err_code,delete e.err_code)}})},Vn=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0,n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return function(){var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("operateWXData",o,{apiName:""})){var i={api_name:o.apiName,data:o.reqData||{},operate_directly:e};n&&(i.plugin_appid=o.pluginId),Object(r.j)("operateWXData",p({data:i},o),{beforeAll:function(e){void 0!==t&&(e.errMsg=e.errMsg.replace("operateWXData",t))},beforeSuccess:function(e){e&&e.data&&($&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),e.respData=e.data,delete e.data)}})}}},$n=Vn(!0),Gn=Vn(!1),Hn=Vn(!1,void 0,!0),zn=Ie("getOpenDeviceId","webapi_getdeviceinfo"),Kn=(Ie("checkIsUserAdvisedToRest ","webapi_getplaytimelimit",{},{},function(e){var t=e.todayPlayedTime;return{today_played_seconds:void 0===t?0:t}},function(e){e.result=!e.is_healthy,delete e.is_healthy}),parseInt(Date.now()/1e3)),Yn={},Jn={},Qn=new me,Xn={},Zn=0;Object(r.o)("mapInsert",function(e,t){var n,r=e.domId,o=e.mapId,i=e.pluginId,a=e.bindregionchange,s=e.bindtap,c=e.showLocation,u=e.bindpoitap,l=e.target,f=e.nodeId,d=t+"_"+i+"_"+r+"_";f&&f!==__virtualDOM__.getRootNodeId(t)&&(d+=f),Yn[d]=o,Jn[t+"_"+o]={bindregionchange:a,bindtap:s,showLocation:c,bindpoitap:u,target:l,nodeId:f},Qn.emit("mapInsert"),Xn[n=t]||(Xn[n]=!0,Fe(n,function(e){delete Xn[e],Object.keys(Yn).forEach(function(t){new RegExp("^"+e).test(t)&&(delete Jn[e+"_"+Yn[t]],delete Yn[t])})}))}),Object(r.o)("mapRemove",function(e,t){var n=e.domId,r=e.mapId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete Yn[a],delete Jn[t+"_"+r]});var er=function(){function e(t,n,o,i){var a=this;if(N(this,e),"string"!=typeof t)throw new ne("Parameter 1 should be a string");this.domId=t,this.pluginId=i,this.webviewId=n,this.nodeId=o,this._lastMarkerPos={},this._lastMarkerDeg={},this._translating={},this._delayTranslate={},this._isGetMarkerPos={},Object(r.o)("doMapActionCallback",function(e,t){var n=e.callbackId;n&&"function"==typeof a[n]&&(a[n](e),delete a[n])})}return ge(e,[{key:"_invoke",value:function(e,t){var n=Jn[this.webviewId+"_"+t.mapId];if("moveToMapLocation"!==e||!n||n.showLocation)if(V||-1!==["includeMapPoints","getMapMarker"].indexOf(e)){t.method=e;var o="callback"+this.webviewId+"_"+t.mapId+"_"+Zn++;this[o]=function(e){delete e.callbackId,delete e.mapId,delete e.method,e.errMsg&&(-1<e.errMsg.indexOf(":ok")?"function"==typeof t.success&&t.success(e):-1<e.errMsg.indexOf(":fail")&&"function"==typeof t.fail&&t.fail(e)),"function"==typeof t.complete&&t.complete(e)},t.callbackId=o,Object(r.n)("doMapAction"+t.mapId,t,[this.webviewId])}else Object(r.j)(e,t);else console.warn("only show-location set to true can invoke moveToLocation")}},{key:"_invokeMethod",value:function(e,t){var n=this,r=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId;"number"==typeof Yn[r]||Yn[r]?(t.mapId=Yn[r],this._invoke(e,t)):Qn.on("mapInsert",function(){t.mapId=Yn[r],n._invoke(e,t)})}},{key:"getCenterLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapCenterLocation",e)}},{key:"getScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapScale",e)}},{key:"getRegion",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("getMapRegion",e)}},{key:"moveToLocation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("moveToMapLocation",e)}},{key:"translateMarker",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.markerId;if(void 0!==n)if(t.destination)if(this._translating[n])this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t];else{var r={markerId:n,keyFrames:[{longitude:t.destination.longitude,latitude:t.destination.latitude,duration:t.duration||1e3}],success:function(n){"function"==typeof t.success&&t.success.call(e,n),"function"==typeof t.animationEnd&&t.animationEnd.call(e)},fail:function(r){e._delayTranslate[n]=[],"function"==typeof t.fail&&t.fail.call(e,r)},complete:function(){e._translating[n]=!1;var t=e._delayTranslate[n];t&&t.length&&e.translateMarker(t.shift())}},o=this._lastMarkerPos[n],i=t.destination;if(t.autoRotate||"number"!=typeof t.rotate){var a=void 0,s=void 0;if(o){var c=i.latitude-o.latitude,u=i.longitude-o.longitude,l=c/u||0;a=Math.abs((u<0?180:0)-Math.abs(180*Math.atan(l)/Math.PI))*(c>0?-1:1)}else if(!this._isGetMarkerPos[n])return this._translating[n]=!0,this._invokeMethod("getMapMarker",{markerId:n,success:function(t){e._lastMarkerPos[n]=t.pos},complete:function(){e._isGetMarkerPos[n]=!0,e._translating[n]=!1;var t=e._delayTranslate[n];t&&t.length&&e.translateMarker(t.shift())}}),void(this._delayTranslate[n]?this._delayTranslate[n].push(t):this._delayTranslate[n]=[t]);"number"==typeof this._lastMarkerDeg[n]&&(s=a-this._lastMarkerDeg[n],Math.abs(s)>180&&(s=s>0?s-360:s+360),Math.abs(s)>3&&t.autoRotate&&r.keyFrames.unshift({rotate:s,duration:Math.abs(s)<10?100:500})),(Math.abs(s)>3&&t.autoRotate||void 0===this._lastMarkerDeg[n])&&(this._lastMarkerDeg[n]=a)}else{var f=t.rotate-(this._lastMarkerDeg[n]||0);Math.abs(f)>3&&(Math.abs(f)>180&&(f=f>0?f-360:f+360),r.keyFrames.unshift({rotate:f,duration:Math.abs(f)<10?100:500}),this._lastMarkerDeg[n]=t.rotate)}o&&o.latitude===i.latitude&&o.longitude===i.longitude&&(r.keyFrames.pop(),t.autoRotate&&(r.keyFrames=[])),r.keyFrames.length>0?(this._translating[n]=!0,this._invokeMethod("translateMapMarker",r)):setTimeout(function(){r.success(),r.complete()}),this._lastMarkerPos[n]=t.destination}else console.warn("MapContext.translateMarker: require destination");else console.warn("MapContext.translateMarker: require markerId")}},{key:"includePoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.points&&e.points instanceof Array){e.points.forEach(function(e){e.latitude=Number(e.latitude),e.longitude=Number(e.longitude)});var t=e.padding;e.padding=[0,0,0,0],t&&(e.padding[0]=Number(t[0])||0,e.padding[1]=Number(t[1])||0,e.padding[2]=Number(t[2])||0,e.padding[3]=Number(t[3])||0),this._invokeMethod("includeMapPoints",e)}}},{key:"setIndoorFloor",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.buildingId?t.floorName?this._invokeMethod("setMapIndoorFloor",t):console.warn("MapContext.setIndoorFloor: require floorName"):console.warn("MapContext.setIndoorFloor: require buildingId")}},{key:"getIndoorFloor",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapIndoorFloor",t)}},{key:"getRotate",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapRotate",t)}},{key:"getSkew",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this._invokeMethod("getMapSkew",t)}},{key:"eraseLines",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};t.lines&&t.lines instanceof Array?this._invokeMethod("eraseMapLines",t):console.warn("MapContext.eraseLines: require lines")}}]),e}(),tr=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return Reporter.reportApiCall({apiname:"createMapContext"}),new er(e,t,n,r)};Object(r.m)("onMapMarkerClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(xt(),e.data&&"function"==typeof le.webviewEventCallback){var n=JSON.parse(e.data);n.bindmarkertap&&le.webviewEventCallback({data:{type:"markertap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindmarkertap,webviewId:t,nodeId:n.nodeId})}}),Object(r.m)("onMapCalloutClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(xt(),e.data&&"function"==typeof le.webviewEventCallback){var n=JSON.parse(e.data);n.bindcallouttap&&le.webviewEventCallback({data:{type:"callouttap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindcallouttap,webviewId:t,nodeId:n.nodeId})}}),Object(r.m)("onMapLabelClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(xt(),e.data&&"function"==typeof le.webviewEventCallback){var n=JSON.parse(e.data);n.bindlabeltap&&le.webviewEventCallback({data:{type:"labeltap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{markerId:n.markerId},markerId:n.markerId},eventName:n.bindlabeltap,webviewId:t,nodeId:n.nodeId})}}),Object(r.m)("onMapControlClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(xt(),e.data&&"function"==typeof le.webviewEventCallback){var n=JSON.parse(e.data);n.bindcontroltap&&le.webviewEventCallback({data:{type:"controltap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{controlId:n.controlId},controlId:n.controlId},eventName:n.bindcontroltap,webviewId:t,nodeId:n.nodeId})}}),Object(r.m)("onMapRegionChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=Jn[t+"_"+e.mapId];n&&n.bindregionchange&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{type:e.type},type:e.type,causedBy:e.causedBy||""},eventName:n.bindregionchange,webviewId:t,nodeId:n.nodeId})}),Object(r.m)("onMapClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;xt();var n=Jn[t+"_"+e.mapId];n&&n.bindtap&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{type:"tap",target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{longitude:e.longitude,latitude:e.latitude}},eventName:n.bindtap,webviewId:t,nodeId:n.nodeId})}),Object(r.m)("onMapPoiClick",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;xt();var n=Jn[t+"_"+e.mapId];n&&n.bindpoitap&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{target:n.target,currentTarget:n.target,timeStamp:Date.now(),touches:[],detail:{name:e.name,longitude:e.longitude,latitude:e.latitude}},eventName:n.bindpoitap,webviewId:t,nodeId:n.nodeId})});var nr={onTouchStart:"touchstart",onTouchMove:"touchmove",onTouchEnd:"touchend",onTouchCancel:"touchcancel",onLongPress:"longtap"};W.onReady(function(){4!==W.appType&&["onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onLongPress"].forEach(function(e){Object(r.m)(e,function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=JSON.parse(t.data||"{}"),o=r.canvasNumber,i=r.type;if("TextView"!==i&&"ImageView"!==i)if(tn.hasOwnProperty(o)){var a=tn[o].data,s=function(e,t,n){var r=[],o=[];if("onTouchStart"===t){for(var i in e)r.push(e[i]);var a={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};o.push(a),r.push(a)}else if("onTouchMove"===t)for(var s in e){var c=e[s],u=!1;for(var l in n.touches){var f={x:n.touches[l].x,y:n.touches[l].y,identifier:n.touches[l].id};if(f.identifier===c.identifier&&(c.x!==f.x||c.y!==f.y)){r.push(f),o.push(f),u=!0;break}}u||r.push(c)}else if("onTouchEnd"===t){var d={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var p in e){var h=e[p];h.identifier===d.identifier?o.push(d):r.push(h)}}else if("onTouchCancel"===t)for(var g in n.touches){var v={x:n.touches[g].x,y:n.touches[g].y,identifier:n.touches[g].id};o.push(v)}else if("onLongPress"===t){var _={x:n.touch.x,y:n.touch.y,identifier:n.touch.id};for(var y in e)e[y].identifier===_.identifier?r.push(_):r.push(e[y]);o.push(_)}return{touches:r,changedTouches:o}}(a.lastTouches,e,t),c=s.touches,u=s.changedTouches;a.lastTouches=c,a[e]&&"function"==typeof le.webviewEventCallback&&("onTouchMove"===e&&0===u.length||le.webviewEventCallback({data:{type:nr[e],timeStamp:new Date-a.startTime,target:a.target,touches:c,changedTouches:u},eventName:a[e],webviewId:n,nodeId:r.nodeId}))}else console.error("No such canvas "+o+" register in "+n+", but trigger "+e+" event.")})})});var rr=["onVideoPlay","onVideoPause","onVideoEnded","onVideoTimeUpdate","onVideoClickFullScreenBtn","onVideoClickDanmuBtn","onVideoFullScreenChange","onVideoWaiting","onVideoError","onVideoLoadedData","onVideoLoadedMetaData","onVideoLoadStart","onVideoSeeked","onVideoSeeking","onVideoProgress"];W.onReady(function(){$&&W.useXWebVideo&&(rr=rr.map(function(e){return e.replace("on","onXWeb")}).concat(rr)),4!==W.appType&&rr.forEach(function(e){Object(r.m)(e,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0,o="bind"+e.replace("XWeb","").substring(7).toLowerCase(),i=JSON.parse(t.data),a=i.handlers,s=i.event,c=i.createdTimestamp,u=i.nodeId;"onVideoFullScreenChange"===e&&Object(r.n)("videoFullScreenChange",t,[n]);var l=JSON.parse(t.data);switch(t.videoPlayerId=t.videoPlayerId||l&&l.videoPlayerId||"-1000",e){case"onVideoLoadedMetaData":Object(r.n)("onVideoLoadedMetaData"+t.videoPlayerId,{},[n]);break;case"onVideoWaiting":Object(r.n)("onVideoWaiting"+t.videoPlayerId,{},[n]);break;case"onVideoError":Object(r.n)("onVideoError"+t.videoPlayerId,{errMsg:t.errMsg},[n]);break;case"onVideoPlay":Object(r.n)("onVideoPlay"+t.videoPlayerId,{},[n]);break;case"onVideoPause":Object(r.n)("onVideoPause"+t.videoPlayerId,{},[n]);break;case"onVideoEnded":Object(r.n)("onVideoEnded"+t.videoPlayerId,{},[n]);break;case"onVideoFullScreenChange":Object(r.n)("onVideoFullScreenChange"+t.videoPlayerId,{fullScreen:t.fullScreen},[n]);break;case"onVideoProgress":Object(r.n)("onVideoProgress"+t.videoPlayerId,{buffered:t.buffered},[n])}if(a[o]&&"function"==typeof le.webviewEventCallback){var f={type:o.substring(4),target:s.target,currentTarget:s.currentTarget,timeStamp:(t.timeStamp||Date.now())-c,detail:{}};if("bindtimeupdate"===o&&(f.detail={currentTime:t.position,duration:t.duration}),"bindfullscreenchange"===o){var d=t.direction;d=0===d||180===d||"vertical"===d?"vertical":"horizontal",f.detail={fullScreen:t.fullScreen,direction:d}}"binderror"===o?f.detail={errMsg:t.errMsg}:"bindprogress"===o&&(f.detail={buffered:t.buffered}),le.webviewEventCallback({data:f,eventName:a[o],webviewId:n,nodeId:u})}})})}),Object(r.m)("onScrollViewScroll",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(e.data&&"function"==typeof le.webviewEventCallback){var n=JSON.parse(e.data);n.bindscroll&&le.webviewEventCallback({data:{type:"scroll",target:n.target,currentTarget:n.target,detail:{scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop},timeStamp:Date.now()-n.timeStamp},eventName:n.bindscroll,webviewId:t,nodeId:n.nodeId})}});var or,ir,ar={},sr={},cr={},ur=[],lr={},fr=new me,dr=new WeakMap,pr=(or=[],ir=1,Object(r.o)("onOperateCameraCallback",function(e){or.forEach(function(t){var n=t[0],r=t[1];n.cid===e.cid&&n.cameraId===e.cameraId&&r(e)}),or=[]}),function(e,t){e.cid=ir++,or.push([e,t])});Object(r.o)("cameraInserted",function(e,t){var n=e.cameraId,r=e.pluginId,o=e.bindings;ar[t+"_"+r]=n,sr[t+"_"+n]=o,fr.emit("cameraInsert")}),Object(r.o)("cameraUpdated",function(e,t){var n=e.cameraId,r=e.hidden;cr[t+"_"+n]=r}),Object(r.o)("cameraRemoved",function(e,t){var n=e.cameraId,r=e.pluginId;delete ar[t+"_"+r],delete sr[t+"_"+n],delete cr[t+"_"+n]}),Dt(function(e){if(void 0!==__appServiceEngine__&&"function"===__appServiceEngine__.getCurrentPagesByDomain){var t=__appServiceEngine__.getCurrentPagesByDomain("").map(function(e){return e.__wxWebviewId__});Object.keys(ar).forEach(function(e){var n=e.split("_").shift();-1===t.indexOf(Number(n))&&(delete sr[n+"_"+ar[e]],delete cr[n+"_"+ar[e]],delete ar[e],lr[n]&&(lr[n].forEach(function(e){clearTimeout(e)}),delete lr[n]))})}}),Object(r.m)("onCameraVideoTaken",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;ur.forEach(function(n){n(e,t)})});var hr=function(){function e(t,n){N(this,e),this.webviewId=t,this.pluginId=n}return ge(e,[{key:"_invoke",value:function(e,t){t.type=e,V?(pr(t,function(n){var o=n.imageData,i=n.videoData;function a(t,n){Object(r.j)("base64ToTempFilePath",p({fileType:"jpg",base64Data:o},t),{beforeAll:function(r){"takePhoto"===t.type?r.tempImagePath=r.tempFilePath:r.tempFilePath&&(r.tempThumbPath=r.tempFilePath),n&&(r.tempVideoPath=n),r.errMsg=r.errMsg.replace("base64ToTempFilePath",e),delete r.tempFilePath}})}i?Object(r.j)("base64ToTempFilePath",{fileType:"webm",base64Data:i,complete:function(e){a(t,e.tempFilePath)}}):"startRecord"===e?("function"==typeof t.success&&t.success({errMsg:"startRecord:ok"}),"function"==typeof t.complete&&t.complete({errMsg:"startRecord:ok"})):a(t)}),Object(r.n)("operateCamera",t,[this.webviewId])):Object(r.j)("operateCamera",t)}},{key:"_invokeMethod",value:function(e,t){var n=this,r=this.webviewId+"_"+this.pluginId;if("number"==typeof ar[r]||ar[r]){var o=sr[this.webviewId+"_"+ar[r]];if(o.isCancelAuth)return"function"==typeof t.fail&&t.fail({errMsg:"user cancel auth"}),void("function"==typeof t.complete&&t.complete({errMsg:"user cancel auth"}));if("scanCode"===o.mode&&("takePhoto"===e||"startRecord"===e))return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto in 'scanCode' mode."}));t.cameraId=ar[r],this._invoke(e,t)}else fr.once("cameraInsert",function(){n._invokeMethod(e,t)})}},{key:"takePhoto",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.webviewId+"_"+this.pluginId;if(cr[this.webviewId+"_"+ar[t]])return"function"==typeof e.fail&&e.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof e.complete&&e.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));this._invokeMethod("takePhoto",e)}},{key:"startRecord",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};qn({scope:"scope.record",success:function(){dr.set(e,!0),e._startRecord(t)},fail:function(){"function"==typeof t.fail&&t.fail({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."}),"function"==typeof t.complete&&t.complete({errMsg:"Failed to invoke 'startRecord' on 'CameraContext': not allowed to use microphone."})}})}},{key:"_startRecord",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(dr.get(this)){var n=this.webviewId+"_"+this.pluginId;if(cr[this.webviewId+"_"+ar[n]])return"function"==typeof t.fail&&t.fail({errMsg:"Not allow to invoke takePhoto if camera is hidden."}),void("function"==typeof t.complete&&t.complete({errMsg:"Not allow to invoke takePhoto if camera is hidden."}));var r=t.timeoutCallback,o=t.fail;if(t.fail=function(t){e._isRecording=!1,clearTimeout(a),"function"==typeof o&&o(t)},this._invokeMethod("startRecord",t),!this._isRecording){this._isRecording=!0;var i="number"==typeof t.timeout?Math.max(0,t.timeout):30,a=this._timer=setTimeout(function(){e._isRecording&&(e.stopRecord({complete:r||function(){}}),e._isRecording=!1)},1e3*i);0===i?clearTimeout(a):lr[this.webviewId]?lr[this.webviewId].push(a):lr[this.webviewId]=[a];var s=this._videoTaken=function(t,n){var o=n+"_"+e.pluginId;if(t.cameraId===ar[o]){var i=ur.indexOf(s);-1<i&&ur.splice(i,1),e._isRecording&&(delete t.cameraId,"function"==typeof r&&r(t),e._isRecording=!1,clearTimeout(a))}};ur.push(s)}}}},{key:"stopRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=ur.indexOf(this._videoTaken);-1<t&&(ur.splice(t,1),this._videoTaken=null),this._invokeMethod("stopRecord",e),this._isRecording=!1,clearTimeout(this._timer)}}]),e}();function gr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return new hr(t,r)}Object(r.m)("onCameraNeedAuthCancel",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=sr[t+"_"+e.cameraId];n&&n.binderror&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{type:"error",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{msg:"user cancel auth"}},eventName:n.binderror,webviewId:t,nodeId:n.nodeId}),n&&(n.isCancelAuth=!0)}),Object(r.m)("onCameraStop",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=sr[t+"_"+e.cameraId];n&&n.bindstop&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{type:"stop",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{}},eventName:n.bindstop,webviewId:t,nodeId:n.nodeId})}),Object(r.m)("onCameraScanCode",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=sr[t+"_"+e.cameraId];if(n&&n.bindscancode&&"function"==typeof le.webviewEventCallback){var r={data:{type:"scancode",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,detail:{type:e.type,result:e.result,rawData:e.rawData,charSet:e.charSet}},eventName:n.bindscancode,webviewId:t,nodeId:n.nodeId};"barcode"==e.type&&(delete r.data.detail.rawData,delete r.data.detail.charSet),le.webviewEventCallback(r)}});var vr={"":null},_r=function(e,t,n){return t?void 0!==vr[t+":"+e]?n():(it("getPluginPermissionBytes",{pluginId:t,apiName:e},null,function(r){vr[t+":"+e]=r.bytes,n()}),null):n()},yr=function(e,t){return t?vr[t+":"+e]:null},br=V,mr={},wr={},Sr=new me,Cr={},Er=new WeakMap,Ir={},Or=["play","stop","mute","pause","resume","requestFullScreen","exitFullScreen","snapshot"];Object(r.o)("livePlayerInsert",function(e,t){var n,r=e.domId,o=e.playerId,i=e.pluginId,a=e.data,s=e.nodeId,c=t+"_"+i+"_"+r+"_";s&&s!==__virtualDOM__.getRootNodeId(t)&&(c+=s),mr[c]=o,wr[t+"_"+o]=a||{},_r("operateLivePlayer",i,function(){Sr.emit("livePlayerInsert")}),Cr[n=t]||(Cr[n]=!0,Fe(n,function(e){delete Cr[e],Object.keys(mr).forEach(function(t){new RegExp("^"+e).test(t)&&(delete wr[e+"_"+mr[t]],delete mr[t])}),delete jr[e]}))}),Object(r.o)("livePlayerRemoved",function(e,t){var n=e.domId,r=e.playerId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete mr[a],delete wr[t+"_"+r];var s="SQ_"+t+"_"+r;delete Ir["api_"+n+"_"+t+"_"+i+"_"+o],delete Ir[s]});var Tr=function e(){N(this,e)},kr=function(){function e(){var t=this;N(this,e);var n=this.exportContext=new Tr;Or.forEach(function(e){return n[e]=t[e].bind(t)})}return ge(e,[{key:"play",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this._getAppStatus();1===t||2===t||this._invokeMethod("play",[],e)}},{key:"stop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("stop",[],e)}},{key:"mute",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("mute",[],e)}},{key:"pause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("pause",[],e)}},{key:"resume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this._invokeMethod("resume",[],e)}},{key:"requestFullScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.direction;if(br)return console.warn("开发者工具暂不支持 LivePlayerContext.requestFullScreen 接口，请到客户端调试。"),"function"==typeof e.fail&&e.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof e.complete&&e.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));-1<[0,90,-90].indexOf(t)?this._invokeMethod("requestFullScreen",[t],e):this._invokeMethod("requestFullScreen",[],e),Er.set(this,!0)}},{key:"exitFullScreen",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(br)return console.warn("开发者工具暂不支持 LivePlayerContext.exitFullScreen 接口，请到客户端调试。"),"function"==typeof e.fail&&e.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof e.complete&&e.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));this._invokeMethod("exitFullScreen",[],e),this.showStatusBar(),Er.set(this,!1)}},{key:"showStatusBar",value:function(){Object(r.j)("showStatusBar",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!Er.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}Object(r.j)("hideStatusBar",e)}},{key:"snapshot",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};if(br)return console.warn("开发者工具暂不支持 LivePlayerContext.snapshot 接口，请到客户端调试。"),"function"==typeof t.fail&&t.fail({errMsg:"operateLivePlayer:fail not support in devtools"}),void("function"==typeof t.complete&&t.complete({errMsg:"operateLivePlayer:fail not support in devtools"}));this._invokeMethod("snapshot",[],t)}},{key:"_invokeMethodWithId",value:function(e,t,n,o){var i=this;if("number"==typeof e&&void 0!==yr("operateLivePlayer",this.pluginId)){var a=o.success;br&&(o.type=t,o.playerId=e,o.permissionBytes=yr("operateLivePlayer",this.pluginId)||void 0,a=function(e){Object(r.n)("operateLivePlayer",o,[i.webviewId]),"function"==typeof o.success&&o.success(e)}),Object(r.j)("operateLivePlayer",{data:n,type:t,livePlayerId:e,permissionBytes:yr("operateLivePlayer",this.pluginId)||void 0,success:a,fail:o.fail,complete:o.complete})}else Sr.once("livePlayerInsert",function(){i._invokeMethod(t,n,o)})}},{key:"_getAppStatus",value:function(){return le.appStatus}},{key:"_getHanged",value:function(){return le.hanged}}]),e}(),Ar=function(e){function t(e,n,r,o){var i;if(N(this,t),i=j(this,R(t).call(this)),"string"!=typeof e)throw new ne("Parameter 1 should be a string");return i.domId=e,i.webviewId=n,i.nodeId=r,i.pluginId=o,i}return B(t,kr),ge(t,[{key:"_invokeMethod",value:function(e,t,n){var r=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId,o=mr[r];this._invokeMethodWithId(o,e,t,n)}}]),t}(),xr=function(e){function t(e,n){var r;return N(this,t),(r=j(this,R(t).call(this))).playerId=e,r.webviewId=n,r}return B(t,kr),ge(t,[{key:"_invokeMethod",value:function(e,t,n){var r=this.playerId;this._invokeMethodWithId(r,e,t,n)}}]),t}();function Pr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o="api_"+e+"_"+t+"_"+n+"_"+r;if(Ir[o])return Ir[o].exportContext;var i=new Ar(e,t,n,r);return(Ir[o]=i).exportContext}function Dr(e,t){var n="SQ_"+t+"_"+e;if(Ir[n])return Ir[n].exportContext;var r=new xr(e,t);return(Ir[n]=r).exportContext}var Nr={onLivePlayerEvent:"bindstatechange",onLivePlayerNetStatus:"bindnetstatus",onLivePlayerAudioVolumeNotify:"bindaudiovolumenotify"},jr={};["onLivePlayerEvent","onLivePlayerNetStatus","onLivePlayerAudioVolumeNotify"].forEach(function(e){Object(r.m)(e,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length?arguments[1]:void 0;!function(e,t,n){var o=wr[n+"_"+t.livePlayerId],i=Nr[e];if(!o)return jr[n]=jr[n]||[],void jr[n].push([e,t,n]);if(o.handlers[i]&&"function"==typeof le.webviewEventCallback){var a={};switch(e){case"onLivePlayerEvent":a.code=t.errCode,a.message=t.errMsg,Object(r.n)("onLivePlayerStateChange"+t.livePlayerId,{code:t.errCode},[n]);break;case"onLivePlayerAudioVolumeNotify":a.volume=t.info.volume,Object(r.n)("onLivePlayerAudioVolumeNotify"+t.livePlayerId,{volume:a.volume},[n]);break;case"onLivePlayerNetStatus":t.info=t.info||{},a.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT},Object(r.n)("onLivePlayerNetStatusChange"+t.livePlayerId,{info:a.info},[n])}le.webviewEventCallback({data:{type:i.replace("bind",""),target:o.target,currentTarget:o.target,timeStamp:Date.now()-o.createdTimeStamp,touches:[],detail:a},eventName:o.handlers[i],webviewId:n,nodeId:o.nodeId})}}(e,t,n)})}),Object(r.m)("onLivePlayerFullScreenChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;Object(r.n)("videoFullScreenChange",e,[t]),Object(r.n)("videoFullScreenChange"+e.livePlayerId,{fullScreen:e.fullScreen},[t]);var n=wr[t+"_"+e.livePlayerId];n&&n.handlers.bindfullscreenchange&&"function"==typeof le.webviewEventCallback&&le.webviewEventCallback({data:{type:"fullscreenchange",target:n.target,currentTarget:n.target,timeStamp:Date.now()-n.createdTimeStamp,touches:[],detail:{fullScreen:e.fullScreen,direction:0===e.direction||180===e.direction||"vertical"===e.direction?"vertical":"horizontal"}},eventName:n.handlers.bindfullscreenchange,webviewId:t,nodeId:n.nodeId})});var Rr={},Mr={},Br=new me,Lr={};function Fr(e,t){var n,o,i=this,a=this.webviewId+"_"+this.pluginId;"number"==typeof Rr[a]?(t.livePusherId=Rr[a],t.type=e,n=e,o=t,V?console.warn("开发者工具暂不支持调用 LivePusherContext."+n+" 方法"):Object(r.j)("operateLivePusher",o)):Br.once("livePusherInserted",function(){Fr.call(i,e,t)})}Object(r.o)("livePusherInserted",function(e,t){var n=e.pusherId,r=e.pluginId,o=e.data;Rr[t+"_"+r]=n,Mr[t+"_"+n]=o,_r("operateLivePusher",r,function(){Br.emit("livePusherInserted")}),function(e){Lr[e]||(Lr[e]=!0,Fe(e,function(e){delete Lr[e],Object.keys(Rr).forEach(function(t){new RegExp("^"+e).test(t)&&(delete Mr[e+"_"+Rr[t]],delete Rr[t])}),delete Vr[e]}))}(t),function(e){var t=Vr[e];if(Vr[e]=[],t)for(var n=0;n<t.length;n++){var r=t[n];$r(r[0],r[1],r[2])}}(t)}),Object(r.o)("livePusherRemoved",function(e,t){var n=e.pusherId,r=e.pluginId;delete Rr[t+"_"+r],delete Mr[t+"_"+n]});var Ur=function(){function e(t,n){N(this,e),this.webviewId=t,this.pluginId=n}return ge(e,[{key:"start",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"start",e)}},{key:"stop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"stop",e)}},{key:"pause",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"pause",e)}},{key:"resume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"resume",e)}},{key:"switchCamera",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"switchCamera",e)}},{key:"snapshot",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"snapshot",e)}},{key:"toggleTorch",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"toggleTorch",e)}},{key:"playBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("LivePusherContext.playBGM",e,{url:""})&&Fr.call(this,"playBGM",e)}},{key:"stopBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"stopBGM",e)}},{key:"pauseBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"pauseBGM",e)}},{key:"resumeBGM",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"resumeBGM",e)}},{key:"setBGMVolume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("LivePusherContext.setBGMVolume",e,{volume:0})&&Fr.call(this,"setBGMVolume",e)}},{key:"startPreview",value:function(e){Fr.call(this,"startPreview",e||{})}},{key:"stopPreview",value:function(e){Fr.call(this,"stopPreview",e||{})}},{key:"setMICVolume",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("LivePusherContext.setMICVolume",e,{volume:0})&&Fr.call(this,"setMICVolume",e)}},{key:"setAudioVolumeType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("LivePusherContext.setAudioVolumeType",e,{audioVolumeType:0})&&Fr.call(this,"setAudioVolumeType",e)}},{key:"setAudioReverbType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("LivePusherContext.setAudioReverbType",e,{audioReverbType:0})&&Fr.call(this,"setAudioReverbType",e)}},{key:"setBGMPosition",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"setBGMPosition",e)}},{key:"sendMessage",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"sendMessage",e)}},{key:"startAudioRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.maxDuration=6e4,Fr.call(this,"startAudioRecord",e)}},{key:"stopAudioRecord",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Fr.call(this,"stopAudioRecord",e)}}]),e}();function Wr(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"";return new Ur(t,r)}var qr={onLivePusherEvent:"bindstatechange",onLivePusherNetStatus:"bindnetstatus",onLivePusherBGMStart:"bindbgmstart",onLivePusherBGMProgress:"bindbgmprogress",onLivePusherBGMComplete:"bindbgmcomplete",onLivePusherError:"binderror"},Vr={};function $r(e,t,n){var o=Mr[n+"_"+t.livePusherId],i=qr[e];if(!o)return Vr[n]=Vr[n]||[],void Vr[n].push([e,t,n]);if(o.handlers[i]&&"function"==typeof le.webviewEventCallback){var a={};switch(e){case"onLivePusherEvent":a.code=t.errCode,a.message=t.errMsg,Object(r.n)("onLivePusherStateChange"+t.livePusherId,{code:t.errCode},[n]);break;case"onLivePusherNetStatus":t.info=t.info||{},a.info={videoBitrate:t.info.VIDEO_BITRATE,audioBitrate:t.info.AUDIO_BITRATE,videoFPS:t.info.VIDEO_FPS,videoGOP:t.info.VIDEO_GOP,netSpeed:t.info.NET_SPEED,netJitter:t.info.NET_JITTER,videoWidth:t.info.VIDEO_WIDTH,videoHeight:t.info.VIDEO_HEIGHT},Object(r.n)("onLivePusherNetStatusChange"+t.livePusherId,{info:a.info},[n]);break;case"onLivePusherBGMProgress":a.progress=t.progress,a.duration=t.duration;break;case"onLivePusherBGMComplete":a.errCode=t.errCode;break;case"onLivePusherError":a.errCode=t.errCode,a.errMsg=t.errMsg,a.data=t.data,Object(r.n)("onLivePusherError"+t.livePusherId,{errcode:t.errcode},[n])}le.webviewEventCallback({data:{type:i.replace("bind",""),target:o.target,currentTarget:o.target,timeStamp:Date.now()-o.createdTimeStamp,touches:[],detail:a},eventName:o.handlers[i],webviewId:n,nodeId:o.nodeId})}}["onLivePusherEvent","onLivePusherNetStatus","onLivePusherBGMStart","onLivePusherBGMProgress","onLivePusherBGMComplete","onLivePusherError"].forEach(function(e){Object(r.m)(e,function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;$r(e,t,n)})});var Gr={},Hr=new me,zr={};Object(r.o)("audioInsert",function(e,t){var n,r=e.audioId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+r+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),Gr[a]=!0,Hr.emit("audioInsert_"+a),zr[n=t]||(zr[n]=!0,Fe(n,function(e){delete zr[e],Object.keys(Gr).forEach(function(t){new RegExp("^"+e).test(t)&&delete Gr[t]})}))}),Object(r.o)("audioRemove",function(e,t){var n=e.audioId,r=e.pluginId,o=e.nodeId,i=t+"_"+r+"_"+n+"_";o&&o!==__virtualDOM__.getRootNodeId(t)&&(i+=o),delete Gr[i]});var Kr=function(){function e(t,n,r,o){if(N(this,e),"string"!=typeof t)throw new ne("Parameter 1 should be a string");this.audioId=t,this.webviewId=n,this.pluginId=o,this.nodeId=r}return ge(e,[{key:"setSrc",value:function(e){this._sendAction({method:"setSrc",data:e})}},{key:"play",value:function(){var e=this._getAppStatus();this._getHanged(),1===e||this._sendAction({method:"play"})}},{key:"pause",value:function(){this._sendAction({method:"pause"})}},{key:"seek",value:function(e){this._sendAction({method:"setCurrentTime",data:e})}},{key:"_ready",value:function(e){var t=this.webviewId+"_"+this.pluginId+"_"+this.audioId+"_"+this.nodeId;Gr[t]?e():Hr.on("audioInsert_"+t,function(){e()})}},{key:"_sendAction",value:function(e){var t=this;this._ready(function(){Object(r.n)("audio_"+t.pluginId+"_"+t.audioId+"_"+t.nodeId+"_actionChanged",e,[t.webviewId])})}}]),e}();function Yr(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o=new Kr(e,t,n,r);return o._getAppStatus=function(){return le.appStatus},o._getHanged=function(){return le.hanged},Ct.call(this,function(){o.pause()}),o}var Jr=V,Qr={},Xr=new me,Zr={},eo=new WeakMap,to={},no=["play","pause","stop","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar"];function ro(e){Zr[e]||(Zr[e]=!0,Fe(e,function(e){delete Zr[e],Object.keys(Qr).forEach(function(t){new RegExp("^"+e).test(t)&&delete Qr[t]})}))}Object(r.o)("videoPlayerInsert",function(e,t){var n=e.domId,r=e.videoPlayerId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),Qr[a]=r,Xr.emit("videoPlayerInsert"),ro(t)}),Object(r.o)("xWebVideoInserted",function(e,t){var n=e.domId,r=e.viewId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),Qr[a]=r,Xr.emit("videoPlayerInsert"),ro(t)}),Object(r.o)("videoPlayerRemoved",function(e,t){var n=e.domId,r=e.videoPlayerId,o=e.pluginId,i=e.nodeId,a=t+"_"+o+"_"+n+"_";i&&i!==__virtualDOM__.getRootNodeId(t)&&(a+=i),delete Qr[a];var s="SQ_"+t+"_"+r;delete to["api_"+n+"_"+t+"_"+i+"_"+o],delete to[s]}),Object(r.o)("xWebVideoRemoved",function(e,t){var n=e.domId,r=e.pluginId,o=e.nodeId,i=t+"_"+r+"_"+n+"_";o&&o!==__virtualDOM__.getRootNodeId(t)&&(i+=o),delete Qr[i]}),Object(r.o)("xWebVideoSupported",function(e){var t=e.isXWebSupported;W.useXWebVideo=W.useXWebVideo&&t}),W.onReady(function(){W.global&&W.global.window&&"seperated"===W.global.window.renderingMode&&(W.useXWebVideo=!1)});var oo=function e(){N(this,e)},io=function(){function e(){var t=this;N(this,e);var n=this.exportContext=new oo;no.forEach(function(e){return n[e]=t[e].bind(t)})}return ge(e,[{key:"play",value:function(){var e=this._getAppStatus();1===e||2===e||this._invokeMethod("play")}},{key:"pause",value:function(){this._invokeMethod("pause")}},{key:"stop",value:function(){this._invokeMethod("stop")}},{key:"seek",value:function(e){this._invokeMethod("seek",[e])}},{key:"sendDanmu",value:function(e){var t=e.text,n=e.color;this._invokeMethod("sendDanmu",[t,n])}},{key:"playbackRate",value:function(e){.5!==(e=parseFloat(e.toFixed(2)))&&.8!==e&&1!==e&&1.25!==e&&1.5!==e||this._invokeMethod("playbackRate",[e])}},{key:"requestFullScreen",value:function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).direction;-1<[0,90,-90].indexOf(e)?this._invokeMethod("requestFullScreen",[e]):this._invokeMethod("requestFullScreen"),eo.set(this,!0)}},{key:"exitFullScreen",value:function(){this._invokeMethod("exitFullScreen"),this.showStatusBar(),eo.set(this,!1)}},{key:"showStatusBar",value:function(){Object(r.j)("showStatusBar",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}},{key:"hideStatusBar",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if($)return"function"==typeof e.success&&e.success({errMsg:"hideStatusBar:ok"}),void("function"==typeof e.complete&&e.complete({errMsg:"hideStatusBar:ok"}));if(!eo.get(this)){var t="hideStatusBar:fail cannot be invoked but in fullscreen.";return"function"==typeof e.fail&&e.fail({errMsg:t}),void("function"==typeof e.complete&&e.complete({errMsg:t}))}Object(r.j)("hideStatusBar",e)}},{key:"_invokeMethodWithId",value:function(e,t,n){var o=this;"number"==typeof e?function(){Jr?(this.action={method:t,data:n},this._sendAction(e)):$&&W.useXWebVideo?-1<["requestFullScreen","exitFullScreen","sendDanmu","seek","stop"].indexOf(t)?Object(r.n)("video_"+this.webviewId+"_"+e+"_actionChanged",{method:t,data:n},[this.webviewId]):Object(r.j)("operateXWebVideo",{viewId:e,type:t,data:n}):Object(r.j)("operateVideoPlayer",{data:n,videoPlayerId:e,type:t})}.apply(this):Xr.once("videoPlayerInsert",function(){o._invokeMethod(t,n)})}},{key:"_sendActionWithEvnetName",value:function(e){Object(r.n)(e,this.action,[this.webviewId])}},{key:"_getAppStatus",value:function(){return le.appStatus}},{key:"_getHanged",value:function(){return le.hanged}}]),e}(),ao=function(e){function t(e,n,r,o){var i;if(N(this,t),i=j(this,R(t).call(this)),"string"!=typeof e)throw new ne("Parameter 1 should be a string");return i.domId=e,i.webviewId=n,i.pluginId=o,i.nodeId=r,i}return B(t,io),ge(t,[{key:"_invokeMethod",value:function(e,t){var n=this.webviewId+"_"+this.pluginId+"_"+this.domId+"_"+this.nodeId,r=Qr[n];this._invokeMethodWithId(r,e,t)}},{key:"_sendAction",value:function(e){this._sendActionWithEvnetName("video_"+this.pluginId+"_"+this.domId+"_"+e+"_"+this.nodeId+"_actionChanged")}}]),t}(),so=function(e){function t(e,n){var r;return N(this,t),(r=j(this,R(t).call(this))).videoPlayerId=e,r.webviewId=n,r}return B(t,io),ge(t,[{key:"_invokeMethod",value:function(e,t){var n=this.videoPlayerId;this._invokeMethodWithId(n,e,t)}},{key:"_sendAction",value:function(e){this._sendActionWithEvnetName("video_selector_query_"+e+"_actionChanged")}}]),t}();function co(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",o="api_"+e+"_"+t+"_"+n+"_"+r;if(to[o])return to[o].exportContext;var i=new ao(e,t,n,r);return(to[o]=i).exportContext}function uo(e,t){var n="SQ_"+t+"_"+e;if(to[n])return to[n].exportContext;var r=new so(e,t);return(to[n]=r).exportContext}Ct.call(void 0,function(){Object.keys(to).forEach(function(e){to[e].pause()})});var lo="undefined"!=typeof NativeGlobal?NativeGlobal:{},fo=[],po="",ho=function(e){Object(r.j)("getNetworkType",e)},go=function(){return po};Object(r.m)("onNetworkStatusChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};1<arguments.length&&void 0!==arguments[1]&&arguments[1],po=e.networkType,fo.forEach(function(t){"function"==typeof t&&t(e)})}),W.onReady(function(){ho({success:function(e){po=e.networkType}})});var vo={getNetworkType:ho,onNetworkStatusChange:function(e){fo.push(Reporter.surroundThirdByTryCatch(e,"onNetworkStatusChange"))},_getCurrentNetworkType:go},_o=0,yo=[],bo=function(){Object(r.j)("reportRealtimeAction",{actionData:JSON.stringify({business:"mmbizwxaservicequality",dataArray:yo,appType:Reporter.getAppType()},null,2)}),yo=[]},mo=function(e,t,n,r,o,i,a){var s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,c=[e,t,n,r,o,Reporter.getAppType(),i,s].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"NetworkAPI",value:c}),Reporter.reportIDKey({key:e+"_"+(1===n?"ok":"fail")}),yo.push([e,t,n,i||"",r,o,go(),a?"1":"0",Reporter.getAppType(),s].map(function(e){var t;try{t=encodeURIComponent(e)}catch(n){t=e}return t}).join(",")),6e4<=Date.now()-_o&&(_o=Date.now(),setTimeout(bo,6e4))},wo=0,So=new WeakMap,Co=new WeakMap,Eo=new WeakMap,Io=new WeakMap,Oo=new WeakMap,To=new WeakMap,ko=new WeakMap,Ao=new WeakMap,xo={},Po=new me,Do=function(){function e(t,n){var r=n.taskType,o=n.beforeSend,i=n.beforeSuccess;N(this,e);var a=wo++;So.set(this,a),Eo.set(this,"waiting"),Io.set(this,t),Oo.set(this,r),ko.set(this,o),Ao.set(this,i),function(){var e=Oo.get(this);return xo[e].currentTaskCount>=xo[e].maxTaskCount}.call(this)?xo[r].taskQueue.push({id:a,item:this}):No.call(this)}return ge(e,[{key:"abort",value:function(){var e=this;if("waiting"===Eo.get(this)){var t=xo[Oo.get(this)].taskQueue.findIndex(function(t){return t.id===So.get(e)});-1<t&&(xo[Oo.get(this)].taskQueue.splice(t,1),xo[Oo.get(this)].currentTaskCount-=1),Eo.set(this,"done")}else{var n;Object(r.j)("operate"+Oo.get(this)+"Task",(de(n={},Oo.get(this).toLowerCase()+"TaskId",Co.get(this)),de(n,"operationType","abort"),n))}}},{key:"onProgressUpdate",value:function(e){var t=this;Po.on(String(Oo.get(this))+Co.get(this)+"progressUpdate",function(n){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at "+Oo.get(t)+"Task.onProgressUpdate callback function")(n)})}},{key:"offProgressUpdate",value:function(e){"function"==typeof e?Po.off(String(Oo.get(this))+Co.get(this)+"progressUpdate",e):Po.removeAllListeners(String(Oo.get(this))+Co.get(this)+"progressUpdate")}},{key:"onHeadersReceived",value:function(e){var t=this;Po.on(String(Oo.get(this))+Co.get(this)+"headersReceived",function(n){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at "+Oo.get(t)+"Task.onHeadersReceived callback function")(n)})}},{key:"offHeadersReceived",value:function(e){"function"==typeof e?Po.off(String(Oo.get(this))+Co.get(this)+"headersReceived",e):Po.removeAllListeners(String(Oo.get(this))+Co.get(this)+"headersReceived")}}]),e}();function No(){var e=Io.get(this),t=Oo.get(this);Eo.set(this,"sending"),To.set(this,Date.now());var n=function(){var e,t=this,n=Oo.get(this),o=Io.get(this),i={data:o.data,url:o.url,header:o.header,method:o.method,__skipDomainCheck__:o.__skipDomainCheck__,success:function(e){var r=e[n.toLowerCase()+"TaskId"];Co.set(t,r),xo[n].currentTaskCount+=1,xo[n].taskIdMap[r]=t},fail:function(r){e=r.errMsg,jo.call(t,{taskType:n,options:o,errMsg:e,success:!1})},complete:function(){Eo.set(t,"done")}};return Object(r.j)("create"+n+"Task",ko.get(this)(i)),e}.call(this);n?Object(r.c)(xo[t].functionName,{success:e.success,fail:e.fail,complete:e.complete},!1,n):function(){var e=this,t=Co.get(this),n=Io.get(this),o=Oo.get(this),i=xo[o].functionName;Po.on(String(o)+t+"success",function(t){Ao.get(e).call(e,t),Object(r.c)(i,{success:n.success,fail:n.fail,complete:n.complete},!0,null,null,t)}),Po.on(String(o)+t+"fail",function(e){Object(r.c)(i,{success:n.success,fail:n.fail,complete:n.complete},!1,e.errMsg)})}.call(this)}function jo(e){var t=e.taskType,n=e.options,r=e.errMsg,o=e.success,i=void 0===o||o,a=e.dataLength,s=void 0===a?0:a,c=n.url,u=i?1:2,l=Date.now()-To.get(this),f=n.__skipDomainCheck__;mo(xo[t].functionName,c,u,l,r,"",f,s)}function Ro(e,t){var n=this,o=xo[e]?xo[e]:{currentTaskCount:0,maxTaskCount:10,taskQueue:[],functionName:"",taskIdMap:{}};Object(r.m)("on"+e+"TaskStateChange",function(t){(function(e,t){var n=t.toLowerCase()+"TaskId",r=e[n],o=e.state;if(delete e.state,delete e[n],Po.emit(String(t)+r+o,e),"success"===o||"fail"===o){xo[t].currentTaskCount-=1,0<xo[t].taskQueue.length&&No.call(xo[t].taskQueue.shift().item);var i=xo[t].taskIdMap[r],a=Io.get(i);i&&(jo.call(i,{taskType:t,options:a,errMsg:e.errMsg,success:"success"===o?1:2,dataLength:Ce(a.data)}),function(){var e=Oo.get(this),t=Co.get(this);delete xo[e].taskIdMap[t],Po.removeAllListeners(String(e)+t+"success"),Po.removeAllListeners(String(e)+t+"fail"),Po.removeAllListeners(String(e)+t+"complete")}.call(i))}}).call(n,t,e)}),xo[e]=_extends(o,t)}Ro("Download",{maxTaskCount:10,functionName:"downloadFile"}),W.onReady(function(){try{"number"==typeof W.wxAppInfo.maxDownloadConcurrent&&Ro("Download",{maxTaskCount:W.wxAppInfo.maxDownloadConcurrent})}catch(e){}});var Mo=function(e){function t(e){return N(this,t),j(this,R(t).call(this,e,{taskType:"Download",beforeSend:function(t){return t.filePath=e.filePath,t},beforeSuccess:function(e){return delete e.timeInterval,e}}))}return B(t,Do),t}(),Bo=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=p({__skipDomainCheck__:!1},e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("downloadFile",t,{url:""})){t.__skipDomainCheck__=e.__skipDomainCheck__;try{return new Mo(t)}catch(e){Object(r.g)("downloadFile",t,e.message)}}}},Lo=Bo(),Fo=Bo({__skipDomainCheck__:!0}),Uo=(new we,{map:{},set:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)});return this.map[t]=e,t},get:function(e){var t=this;return e?this.map[e]:Object.keys(this.map).map(function(e){return t.map[e]})}}),Wo=function(e,t,n){var r=e.filter(function(e){return/^(cloud):\/\//.test(e)});if(r.length>0){var o=[];r.forEach(function(e){o.push({fileID:e,maxAge:999999})}),Na.getCloudFileUrl({fileList:o,success:function(t){var r=t.fileList||[],o=new Map;r.forEach(function(e){o.set(e.fileID,e)});var i=e.map(function(e){return(o.get(e)||{}).tempFileURL||e});n(i)},fail:function(t){n(e)}})}else n(e)},qo=function(e,t){Object(r.e)("getImageInfo",e,{src:""})&&(/^(http|https):\/\//.test(e.src)?t({url:e.src,success:function(t){e.src=t.tempFilePath,Object(r.j)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})},fail:function(t){Object(r.g)("getImageInfo",e,(t.errMsg||"").replace("downloadFile:fail ","")||"download image fail")}}):/^(wxfile|qqfile):\/\//.test(e.src)?Object(r.j)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}}):(e.src=Y(le.lastRoute,e.src,!1),Object(r.j)("getImageInfo",e,{beforeSuccess:function(t){t.path=e.src}})))},Vo={chooseImage:function(){Object(r.j)("chooseImage",Object(r.b)({count:9,sizeType:["original","compressed"],sourceType:["album","camera"]},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeSuccess:function(e){e.tempFileSizes?e.tempFiles=(e.tempFilePaths||[]).filter(function(e){return e}).map(function(t,n){return{path:t,size:e.tempFileSizes[n]}}):e.tempFiles=(e.tempFiles||[]).filter(function(e){return e.path&&"number"==typeof e.size}),delete e.tempFileSizes}})},previewImage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("previewImage",e,{urls:[""]})){var t=p({},e);Wo(t.urls,0,function(e){var n=t.urls;if(t.urls=e,t.current){var o=n.indexOf(t.current);0<=o&&(t.current=t.urls[o])}t.urls&&(t.urls=t.urls.map(function(e){return Uo.get(e)||e})),Object(r.j)("previewImage",t)})}},_getImageInfoWithDownloadFile:qo,getImageInfo:function(e){var t=p({},e),n=[t.src];Wo(n,0,function(e){return t.src=e[0],qo(t,Lo)})},saveImageToPhotosAlbum:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.filePath=Uo.get(e.filePath)||e.filePath,Object(r.j)("saveImageToPhotosAlbum",e,{})},compressImage:function(){var e={src:"",quality:80};Object(r.e)("compressImage",e=re(e,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{src:"",quality:80})&&(/^(wxfile|qqfile):\/\//.test(e.src)||(e.src=Y(le.lastRoute,e.src,!1)),Object(r.j)("compressImage",e))}},$o={chooseVideo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.sourceType=e.sourceType||["album","camera"],e.camera=e.camera||"back","boolean"!=typeof e.compressed&&(e.compressed=!0),Object(r.j)("chooseVideo",e)},saveVideoToPhotosAlbum:function(){Object(r.j)("saveVideoToPhotosAlbum",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}},Go=0,Ho=[{}];Object(r.o)("loadedFontFace",function(e){if(e.cbID){var t=Ho[e.cbID];t&&("loaded"==e.status?"function"==typeof t[0]&&t[0](e):"function"==typeof t[1]&&t[1](e),"function"==typeof t[2]&&t[2](e))}});var zo,Ko={loadFontFace:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("loadFontFace",e,{family:"",source:""})&&(e.cbID=++Go,Ho.push([e.success,e.fail,e.complete]),Object(r.n)("loadFontFace",e))}},Yo={playVoice:function(e){Object(r.e)("playVoice",e,{filePath:""})&&Object(r.j)("playVoice",e)},pauseVoice:function(e){Object(r.j)("pauseVoice",e)},stopVoice:function(e){Object(r.j)("stopVoice",e)},onVoicePlayEnd:function(e){Object(r.m)("onVoicePlayEnd",Reporter.surroundThirdByTryCatch(e,"at onVoicePlayEnd callback function"))}},Jo=new we,Qo={8000:[16e3,48e3],11025:[16e3,48e3],12000:[24e3,64e3],16000:[24e3,96e3],22050:[32e3,128e3],24000:[32e3,128e3],32000:[48e3,192e3],44100:[64e3,32e4],48000:[64e3,32e4]};Object(r.m)("onRecorderStateChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state;delete e.state,Jo.emit("onRecorderStateChange_"+t,e)});var Xo=function(e){Object(r.j)("operateRecorder",p({},e))},Zo={start:function(){var e=p({format:"aac",sampleRate:8e3,encodeBitRate:48e3,numberOfChannels:2,audioSource:"auto"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});if(-1===Object.keys(Qo).map(function(e){return parseInt(e)}).indexOf(e.sampleRate))throw new Error('invalid sampleRate "'+e.sampleRate+'", sampleRate should be one of '+JSON.stringify(Object.keys(Qo)));if(e.encodeBitRate>Qo[e.sampleRate][1]||e.encodeBitRate<Qo[e.sampleRate][0])throw new Error('invalid encodeBitRate "'+e.encodeBitRate+'", encodeBitRate should be greater than '+Qo[e.sampleRate][0]+" and less than "+Qo[e.sampleRate][1]);e.operationType="start",e.fail=function(e){Jo.emit("onRecorderStateChange_error",e)},Xo(e)},pause:function(){Xo({operationType:"pause",fail:function(e){Jo.emit("onRecorderStateChange_error",e)}})},resume:function(){Xo({operationType:"resume",success:function(){Jo.emit("onRecorderStateChange_resume")},fail:function(e){Jo.emit("onRecorderStateChange_error",e)}})},stop:function(){Xo({operationType:"stop",fail:function(e){Jo.emit("onRecorderStateChange_error",e)}})},onStart:function(e){Jo.removeAllListeners("onRecorderStateChange_start"),Jo.on("onRecorderStateChange_start",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()})},onResume:function(e){Jo.removeAllListeners("onRecorderStateChange_resume"),Jo.on("onRecorderStateChange_resume",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onResume callback function")()})},onPause:function(e){Jo.removeAllListeners("onRecorderStateChange_pause"),Jo.on("onRecorderStateChange_pause",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onPause callback function")()})},onStop:function(e){Jo.removeAllListeners("onRecorderStateChange_stop"),Jo.on("onRecorderStateChange_stop",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onStop callback function")(t)})},onFrameRecorded:function(e){Jo.removeAllListeners("onRecorderStateChange_frameRecorded"),Jo.on("onRecorderStateChange_frameRecorded",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onFrameRecorded callback function")(t)})},onError:function(e){Jo.removeAllListeners("onRecorderStateChange_error"),Jo.on("onRecorderStateChange_error",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onError callback function")(t)})},onInterruptionBegin:function(e){Jo.removeAllListeners("onRecorderStateChange_interruptionBegin"),Jo.on("onRecorderStateChange_interruptionBegin",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionBegin callback function")(t)})},onInterruptionEnd:function(e){Jo.removeAllListeners("onRecorderStateChange_interruptionEnd"),Jo.on("onRecorderStateChange_interruptionEnd",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at recorderManager.onInterruptionEnd callback function")(t)})}},ei={getRecorderManager:function(){return Zo},startRecord:function(e){Object(r.j)("startRecord",e)},stopRecord:function(e){Object(r.j)("stopRecord",e)}},ti=new we,ni={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0};Object(r.m)("onBackgroundAudioNext",function(){ti.emit("onBackgroundAudioNext")}),Object(r.m)("onBackgroundAudioPrev",function(){ti.emit("onBackgroundAudioPrev")}),Object(r.m)("onBackgroundAudioStateChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state;"play"!==t&&"pause"!==t&&"stop"!==t||Object(r.n)("client_bg_audio_state_change",{play:"play"===t,audioId:"bg_audio"}),delete e.state,"play"===t?(ni.paused=!1,le.possessingBackgroundAudioPlayer=!0):"preempted"===t||"occupied"===t?(le.possessingBackgroundAudioPlayer=!1,ti.emit("onBackgroundAudioStateChange_stop",e)):"pause"===t?ni.paused=!0:"stop"===t&&(ni.paused=!0),ti.emit("onBackgroundAudioStateChange_"+t,e)});var ri={play:function(){oi({operationType:"play"})},pause:function(){oi({operationType:"pause"})},seek:function(e){if("number"!=typeof e)throw new Error("qq.backgroundAudio.seek(currentTime): unexpected type "+P(e));oi({currentTime:e,operationType:"seek"})},stop:function(){oi({operationType:"stop"})},onCanplay:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_canplay"),ti.on("onBackgroundAudioStateChange_canplay",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onCanplay callback function")()})},onWaiting:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_waiting"),ti.on("onBackgroundAudioStateChange_waiting",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onWaiting callback function")()})},onError:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_error"),ti.on("onBackgroundAudioStateChange_error",function(t){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onError callback function")(t)})},onPlay:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_play"),ti.on("onBackgroundAudioStateChange_play",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPlay callback function")()})},onPause:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_pause"),ti.on("onBackgroundAudioStateChange_pause",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPause callback function")()})},onSeeking:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_seeking"),ti.on("onBackgroundAudioStateChange_seeking",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onSeeking callback function")()})},onSeeked:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_seeked"),ti.on("onBackgroundAudioStateChange_seeked",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onSeeked callback function")()})},onEnded:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_ended"),ti.on("onBackgroundAudioStateChange_ended",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onEnded callback function")()})},onStop:function(e){ti.removeAllListeners("onBackgroundAudioStateChange_stop"),ti.on("onBackgroundAudioStateChange_stop",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onStop callback function")()})},onTimeUpdate:function(e){var t=this;void 0===zo&&(zo=setInterval(function(){var e=ni.currentTime;ii("currentTime",function(n){"active"===le.runningStatus&&!1!==le.possessingBackgroundAudioPlayer&&t.currentTime!==e&&ti.emit("onBackgroundAudioStateChange_timeupdate")})},250)),ti.removeAllListeners("onBackgroundAudioStateChange_timeupdate"),ti.on("onBackgroundAudioStateChange_timeupdate",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onTimeUpdate callback function")()})},onNext:function(e){ti.removeAllListeners("onBackgroundAudioNext"),ti.on("onBackgroundAudioNext",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onNext callback function")()})},onPrev:function(e){ti.removeAllListeners("onBackgroundAudioPrev"),ti.on("onBackgroundAudioPrev",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.backgroundAudio.onPrev callback function")()})}};function oi(e){Object(r.j)("operateBackgroundAudio",e)}function ii(e,t){if(!1!==le.possessingBackgroundAudioPlayer){var n=ni[e];return Object(r.j)("getBackgroundAudioState",{success:function(o){void 0===o.paused||1==o.paused?o.paused=!0:o.paused=!1,ni=Object(r.b)(ni,o),n=ni[e],"function"==typeof t&&t(n)},fail:function(e){e.errMsg},complete:function(e){}}),n}}["src","title","epname","singer","startTime","coverImgUrl","currentTime","duration","paused","buffered","webUrl","protocol"].forEach(function(e){Object.defineProperty(ri,e,{get:function(){return"src"==e&&ri.srcCloudId?ri.srcCloudId:"coverImgUrl"==e&&ri.coverCloudId?ri.coverCloudId:ii(e)},set:function(t){-1<["src","title","epname","singer","coverImgUrl","startTime","webUrl","protocol"].indexOf(e)&&("src"==e?Wo([t],0,function(n){/^(cloud):\/\//.test(t)?ri.srcCloudId=t:ri.srcCloudId="",si(e,n[0])}):"coverImgUrl"==e?Wo([t],0,function(n){/^(cloud):\/\//.test(t)?ri.coverCloudId=t:ri.coverCloudId="",si(e,n[0])}):si(e,t))}})});var ai={};function si(e,t){if("src"===e&&!t)throw new Error("invalid qq.backgroundAudio.src: "+t);if("active"!==le.runningStatus&&!1===le.possessingBackgroundAudioPlayer)throw new te("Can not set qq.backgroundAudio."+e+", background audio is preempted.");ai[e]=t,1===Object.keys(ai).length&&setTimeout(function(){var e=Object(r.b)({},ai);if(ai.src)ai=Object(r.b)({},ni,ai);else{var t={src:"",currentTime:0,duration:0,paused:!0,buffered:0,title:"",coverImgUrl:"",description:"",startTime:0},n=!0;for(var o in ni)if(ni[o]!=t[o]){n=!1;break}if(ni=Object(r.b)({},ni,e),n)return void(ai={})}Object(r.j)("setBackgroundAudioState",Object(r.b)({},ai,{success:function(){ni=Object(r.b)({},ni,e)},fail:function(e){var t=e.errMsg;throw new Error(t.replace(/^setBackgroundAudioState: fail /,""))},complete:function(e){}})),ai={}},0)}var ci=new we;Object(r.m)("onMusicPlay",function(e){le.possessingBackgroundAudioPlayer=!0,ci.emit("onBackgroundAudioPlay"),e&&(ni=Object(r.b)(ni,e))});var ui={getBackgroundAudioManager:function(){return ri},getBackgroundAudioPlayerState:function(e){if(!1===le.possessingBackgroundAudioPlayer){var t={errMsg:"getBackgroundAudioPlayerState: fail not playing"};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}else Object(r.j)("getMusicPlayerState",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("getMusicPlayerState","getBackgroundAudioPlayerState")}})},playBackgroundAudio:function(){Object(r.j)("operateMusicPlayer",Object(r.b)({operationType:"play"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","playBackgroundAudio")}})},pauseBackgroundAudio:function(){Object(r.j)("operateMusicPlayer",Object(r.b)({operationType:"pause"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","pauseBackgroundAudio")}})},seekBackgroundAudio:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("seekBackgroundAudio",e,{position:1})&&Object(r.j)("operateMusicPlayer",Object(r.b)({operationType:"seek"},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","seekBackgroundAudio")}})},stopBackgroundAudio:function(){Object(r.j)("operateMusicPlayer",Object(r.b)({operationType:"stop"},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateMusicPlayer","stopBackgroundAudio")}})},onBackgroundAudioPlay:function(e){ci.removeAllListeners("onBackgroundAudioPlay"),ci.on("onBackgroundAudioPlay",function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at qq.onBackgroundAudioPlay callback function")()})},onBackgroundAudioPause:function(e){Object(r.m)("onMusicPause",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioPause callback function"))},onBackgroundAudioStop:function(e){Object(r.m)("onMusicEnd",Reporter.surroundThirdByTryCatch(e,"at onBackgroundAudioStop callback function"))}},li={joinVoIPChat:function(e){if(Object(r.e)("joinVoIPChat",e,{signature:"",nonceStr:"",timeStamp:0,groupId:""}))try{if(e.timeStamp<0)throw console.error("joinVoIPChat:fail parameter error: parameter.timeStamp should be a positive integer"),new Error("parameter error: timeStamp should be a positive integer");Object(r.j)("joinVoIPChat",{signature:e.signature,nonceStr:e.nonceStr,timeStamp:e.timeStamp,groupId:e.groupId,muteConfig:e.muteConfig,success:function(t){var n=t.errMsg||"ok";Object(r.c)("joinVoIPChat",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,o=t.errMsg||"unknown error";Object(r.c)("joinVoIPChat",e,!1,o,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"joinVoIPChat:fail "+t.message}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"joinVoIPChat:complete "+t.message})}},exitVoIPChat:function(e){try{Object(r.j)("exitVoIPChat",{success:function(t){var n=t.errMsg||"ok";Object(r.c)("exitVoIPChat",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,o=t.errMsg||"unknown error";Object(r.c)("exitVoIPChat",e,!1,o,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"exitVoIPChat:fail "+t.message}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"exitVoIPChat:complete "+t.message})}},updateVoIPChatMuteConfig:function(e){if(Object(r.e)("updateVoIPChatMuteConfig",e,{muteConfig:{}})){var t=e.muteConfig.muteMicrophone,n=e.muteConfig.muteEarphone;if(void 0!==t){if(!Object(r.e)("updateVoIPChatMuteConfig muteConfig",t,Boolean()))return}else e.muteConfig.muteMicrophone=!1;if(void 0!==n){if(!Object(r.e)("updateVoIPChatMuteConfig muteConfig",n,Boolean()))return}else e.muteConfig.muteEarphone=!1;try{Object(r.j)("updateVoIPChatMuteConfig",{muteConfig:e.muteConfig,success:function(t){var n=t.errMsg||"ok";Object(r.c)("updateVoIPChatMuteConfig",e,!0,n,0,t)},fail:function(t){var n=t.errCode||-1,o=t.errMsg||"unknown error";Object(r.c)("updateVoIPChatMuteConfig",e,!1,o,n,t)},complete:function(){}})}catch(t){"function"==typeof e.fail&&e.fail({errCode:-1,errMsg:"updateVoIPChatMuteConfig:fail "+t.message}),"function"==typeof e.complete&&e.complete({errCode:-1,errMsg:"updateVoIPChatMuteConfig:complete "+t.message})}}},onVoIPChatMembersChanged:function(e){try{Object(r.m)("onVoIPChatMembersChanged",function(t){t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatMembersChanged callback function")(t)})}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatMembersChanged callback function")(t)}},onVoIPChatSpeakersChanged:function(e){try{Object(r.m)("onVoIPChatSpeakersChanged",function(t){t.errCode=0,t.errMsg=t.errMsg||"ok","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)})}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatSpeakersChanged callback function")(t)}},onVoIPChatInterrupted:function(e){try{Object(r.m)("onVoIPChatInterrupted",function(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatInterrupted callback function")(t)})}catch(t){t.errCode=t.errCode||-1,t.errMsg=t.errMsg||"unknown error","function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at onVoIPChatInterrupted callback function")(t)}}},fi=null,di=!1;An(function(){di=!0}),Dt(function(){di=!1,fi&&(pi(fi),fi=null)});var pi=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.type||(e.type="all"),Object(r.e)("chooseMessageFile",e,{type:"",count:0})&&(e.count<=0?Object(r.g)("chooseMessageFile",e,"param count should be larger than 0."):(100<e.count&&(e.count=100),di?fi=e:Object(r.j)("chooseMessageFile",e)))},hi=Ke("AudioInterruptionBegin"),gi=(hi.onMethod,hi.offMethod,hi.internalOnMethod,hi.internalOffMethod,Ke("AudioInterruptionEnd")),vi=(gi.onMethod,gi.offMethod,gi.internalOnMethod,gi.internalOffMethod,!1);Object(r.m)("onAudioInterruptionBegin",function(e){!1===vi&&hi.emit(e)}),Object(r.m)("onAudioInterruptionEnd",function(e){!1===vi&&gi.emit(e)});var _i=function(){return vi},yi=new WeakMap,bi=new WeakMap,mi=new WeakMap,wi=new WeakMap,Si=new WeakMap,Ci=new WeakMap,Ei=new Set,Ii=new Map,Oi={};lo.EventHandler&&(lo.EventHandler.onbindingobjectdestruct=function(e){var t=Oi[e];Object(r.j)("getAudioState",{audioId:t,success:function(e){Ei.delete(t),!0===e.paused&&Object(r.j)("destroyAudioInstance",{audioId:t,complete:function(e){}})}})});var Ti=function(e,t){var n=this;bi.set(this,_extends(bi.get(this),de({},e,t))),"src"===e&&bi.set(this,_extends(bi.get(this),{paused:!0})),wi.get(this)&&(setTimeout(function(){p({},bi.get(n),Si.get(n)),yi.get(n);var o=p({},bi.get(n),Si.get(n),{timestamp:Date.now(),audioId:yi.get(n),success:function(){bi.set(n,_extends(bi.get(n),de({},e,t)))},fail:function(){ki.call(n)},complete:function(e){}});_i()&&(o.autoplay=!1),Object(r.j)("setAudioState",o),wi.set(n,!0)},0),wi.set(this,!1)),Si.set(this,_extends(Si.get(this),de({},e,t))),bi.get(this)},ki=function(e,t){var n=this,o=bi.get(this)[e];return Object(r.j)("getAudioState",{audioId:yi.get(this),success:function(r){delete r.errMsg,bi.set(n,_extends(bi.get(n),r)),o=r[e],"function"==typeof t&&t(o)}}),o},Ai=function(e){var t=yi.get(this);Object(r.j)("operateAudio",p({timestamp:Date.now(),audioId:t,fail:function(e){var t=e.errMsg;Ni("error",{errMsg:t,errCode:-1})}},e),{beforeAll:function(t){e.operationType}})},xi=function(){};W.onReady(function(){xi=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",r=W.appLaunchInfo,o="";o=Object.keys(r.query||[]).map(function(e){return e+"="+r.query[e]}).join("&"),o=encodeURIComponent(o);var i=[Math.round(Date.now()/1e3),r.scene,"",r.sessionid||r.sessionId,r.path,o,go(),wx&&wx.version&&wx.version.version||"",5,t,n,e].join(",");Reporter.reportKeyValue({key:"MediaCompStatus",value:i})}});var Pi=new we;Object(r.m)("onAudioStateChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.state=e.state.toLowerCase();var t=e.state,n=e.audioId;delete e.audioId,delete e.state,Pi.emit(n+"_onAudioStateChange_"+t,e);var r=Ii.get(n);ki.call(r,"src",function(){var n=bi.get(r),o=parseInt(n.currentTime/1e3),i=parseInt(n.duration/1e3);switch(t){case"canplay":xi(n.src,121,[n.autoplay?2:1,i].join(";"));break;case"waiting":xi(n.src,122,[o,i,n.buffered].join(";"));break;case"ended":xi(n.src,123,n.duration);break;case"error":xi(n.src,124,e.errCode);break;case"seeking":xi(n.src,125,[o,i,n.buffered].join(";"))}})});var Di=function(e,t){var n=yi.get(this)+"_onAudioStateChange_"+e;if("function"==typeof t){var r=Ci.get(t);Pi.off(n,r)}else Pi.removeAllListeners(n)},Ni=function(e,t){Pi.emit(yi.get(this)+"_onAudioStateChange_"+e,t)},ji=function(){function e(){var t,n=this;if(N(this,e),bi.set(this,{}),Si.set(this,{}),mi.set(this,void 0),wi.set(this,!0),Object(r.j)("createAudioInstance",{timestamp:Date.now(),success:function(e){if(Ei.add(e.audioId),yi.set(n,e.audioId),Ii.set(e.audioId,n),bi.set(n,{src:"",startTime:0,paused:!0,currentTime:0,duration:0,obeyMuteSwitch:!0,volume:1,autoplay:!1,loop:!1,buffered:0}),lo.BindingObject){var t=new lo.BindingObject;n.__bindingObject=t,Oi[t.__id]=e.audioId}else P(lo.BindingObject)},fail:function(e){t=e.errMsg},complete:function(e){}}),t)throw new Error(t);["Play","Pause","Stop","Canplay","Error","Ended","Waiting","Seeking","Seeked"].forEach(function(e){n["on"+e]=function(t){(function(e,t){var n=this,o=yi.get(this)+"_onAudioStateChange_"+e,i=function(o){console.log("client_audio_state_change11",e,yi.get(n)),"play"!==e&&"stop"!==e&&"pause"!==e||Object(r.n)("client_audio_state_change",{play:"play"===e,audioId:yi.get(n)});var i="play"!==e;bi.set(n,_extends(bi.get(n),{paused:i})),Reporter.surroundThirdByTryCatch(t,"at audioContext.on"+e+" callback function")(o)};Ci.set(t,i),Pi.on(o,i)}).call(n,e.toLowerCase(),t)},n["off"+e]=function(t){Di.call(n,e.toLowerCase(),t)}}),this.onPlay(function(){})}return ge(e,[{key:"play",value:function(){var e=this;!1===_i()&&setTimeout(function(){Ai.call(e,{operationType:"play"})},0)}},{key:"pause",value:function(){var e=this;setTimeout(function(){Ai.call(e,{operationType:"pause"})},0)}},{key:"stop",value:function(){var e=this;setTimeout(function(){Ai.call(e,{operationType:"stop"})},0)}},{key:"seek",value:function(e){var t=this;"number"!=typeof e||e<0?Ni("error",{errMsg:"Failed to seek, the currentTime "+e+" is invalid."}):setTimeout(function(){Ai.call(t,{operationType:"seek",currentTime:1e3*e})},0)}},{key:"destroy",value:function(){var e=yi.get(this);["play","pause","stop","canplay","error","ended","waiting","seeking","seeked"].forEach(function(t){var n=e+"_onAudioStateChange_"+t;Pi.removeAllListeners(n)}),Ei.delete(e),Object(r.j)("destroyAudioInstance",{audioId:e})}},{key:"onTimeUpdate",value:function(e){var t=this,n=yi.get(this)+"_onAudioStateChange_timeupdate";void 0===mi.get(this)&&mi.set(this,setInterval(function(){if("active"===le.runningStatus&&!0!==bi.get(t).paused&&1!==bi.get(t).paused){var e=bi.get(t).currentTime;ki.call(t,"currentTime",function(t){t!==e&&Pi.emit(n)})}},250)),Pi.removeAllListeners(n),Pi.on(n,function(){"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at audioContext.onTimeUpdate callback function")()})}},{key:"offTimeUpdate",value:function(e){Di.call(this,"timeupdate",e)}},{key:"src",get:function(){return this.cloudId?this.cloudId:ki.call(this,"src")},set:function(e){var t=this;"string"==typeof e&&0!==e.length?Wo([e],0,function(n){/^(cloud):\/\//.test(e)?t.cloudId=e:t.cloudId="",e=n[0],Ti.call(t,"src",e)}):Ni.call(this,"error",{errMsg:"Failed to set src, the src "+e+" is invalid."})}},{key:"startTime",get:function(){return ki.call(this,"startTime")/1e3},set:function(e){"number"==typeof e?Ti.call(this,"startTime",1e3*e):Ni("error",{errMsg:"Failed to set startTime, the startTime "+e+" is invalid."})}},{key:"autoplay",set:function(e){"boolean"==typeof e&&Ti.call(this,"autoplay",e)},get:function(){return ki.call(this,"autoplay")}},{key:"loop",set:function(e){"boolean"==typeof e&&Ti.call(this,"loop",e)},get:function(){return ki.call(this,"loop")}},{key:"obeyMuteSwitch",set:function(e){"boolean"==typeof e&&Ti.call(this,"obeyMuteSwitch",e)},get:function(){return ki.call(this,"obeyMuteSwitch")}},{key:"volume",set:function(e){"number"!=typeof e||e<0||1<e||Ti.call(this,"volume",e)},get:function(){return ki.call(this,"volume")}},{key:"paused",get:function(){return ki.call(this,"paused")}},{key:"duration",get:function(){return ki.call(this,"duration")/1e3}},{key:"currentTime",get:function(){return ki.call(this,"currentTime")/1e3}},{key:"buffered",get:function(){return ki.call(this,"buffered")/1e3}}],[{key:"pauseAllAudio",value:function(){Ei.forEach(function(e){Object(r.j)("operateAudio",{timestamp:Date.now(),audioId:e,operationType:"pause",complete:function(e){}})})}}]),e}(),Ri=function(){return new ji},Mi=function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];var e={level:100,isCharging:!0};if(Object(r.j)("getBatteryInfo",{complete:function(t){return e=t}}),e.errMsg=e.errMsg?e.errMsg.replace("getBatteryInfo","getBatteryInfoSync"):"getBatteryInfoSync:ok",/fail/.test(e.errMsg))throw new Error(e.errMsg);return e},Bi={getBatteryInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(G)return Object(r.j)("getBatteryInfo",e);setTimeout(function(){var t={};try{t=Mi(),"function"==typeof e.success&&e.success(t)}catch(t){"function"==typeof e.fail&&e.fail(t)}"function"==typeof e.complete&&e.complete(t)},0)},getBatteryInfoSync:Mi},Li={getEnvVersion:function(){return __qqConfig.envVersion}},Fi=!1,Ui=[],Wi={startAccelerometer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(r.j)("enableAccelerometer",Object(r.b)(e,{interval:void 0!==t[e.interval]?t[e.interval]:t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","startAccelerometer")}}),Fi=!0},stopAccelerometer:function(){Object(r.j)("enableAccelerometer",Object(r.b)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableAccelerometer","stopAccelerometer")}}),Fi=!1},onAccelerometerChange:function(e){Fi||(Object(r.j)("enableAccelerometer",{enable:!0}),Fi=!0),Ui.push(Reporter.surroundThirdByTryCatch(e,"at onAccelerometerChange callback function"))}};Object(r.m)("onAccelerometerChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};1<arguments.length&&void 0!==arguments[1]&&arguments[1],369558016<=W.clientVersion&&W.clientVersion<369558272&&(e.x&&(e.x=e.x/(180/Math.PI)),e.y&&(e.y=e.y/(180/Math.PI)),e.z&&(e.z=e.z/(180/Math.PI))),Ui.forEach(function(t){"function"==typeof t&&t(e)})});var qi=!1,Vi=[],$i={startCompass:function(){Object(r.j)("enableCompass",Object(r.b)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","startCompass")}}),qi=!0},stopCompass:function(){Object(r.j)("enableCompass",Object(r.b)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableCompass","stopCompass")}}),qi=!1},onCompassChange:function(e){qi||(Object(r.j)("enableCompass",{enable:!0}),qi=!0),Vi.push(Reporter.surroundThirdByTryCatch(e,"at onCompassChange callback function"))}};Object(r.m)("onCompassChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};1<arguments.length&&void 0!==arguments[1]&&arguments[1],Vi.forEach(function(t){"function"==typeof t&&t(e)})});var Gi={makePhoneCall:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("makePhoneCall",e,{phoneNumber:""})&&Object(r.j)("makePhoneCall",e)},makeVoIPCall:function(){Object(r.j)("makeVoIPCall",Object(r.b)({allowBackCamera:!1,showOther:!1},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))}},Hi={scanCode:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("scanCode",e,{})&&Object(r.j)("scanCode",e,{beforeSuccess:function(e){"string"==typeof e.path&&(e.path=e.path.replace(/\.html$/,""),e.path=e.path.replace(/\.html\?/,"?"))}})},openQRCode:C=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("openQRCode",e,{})&&Object(r.j)("openQRCode",e)}},zi=function(e){if(""!==le.currentClipBoardData){var t;void 0!==__appServiceEngine__&&(t=__appServiceEngine__.getCurrentPagesByDomain("").find(function(e){return e.__wxWebviewId__===le.currentWebviewId})||{});var n=[le.currentClipBoardData,t?t.route:"",e?1:0,t?Object.keys(t.options||{}).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t.options[e])}).join("&"):"",Reporter.getAppType()].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Clipboard",value:n,force:!0})}},Ki={getClipboardData:T=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("getClipboardData",p({},e,{success:function(t){var n=t.data;Object(r.c)("getClipboardData",e,!0,"",null,{data:n})},complete:function(){}}),{})},setClipboardData:E=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setClipboardData",e,{data:""})&&Object(r.j)("setClipboardData",e,{beforeSuccess:function(){Object(r.j)("showToast",{duration:1500,title:"内容已复制",icon:"none",mask:!1});try{le.currentClipBoardData=e.data,zi(!0)}catch(e){}}})}},Yi={startBeaconDiscovery:I=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.uuids)if(Array.isArray(e.uuids)){if(0!==e.uuids.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.uuids.some(function(e){return"string"==typeof e&&t.test(e)}))return void Object(r.g)("startBeaconDiscovery",e,"invalid service uuid")}Object(r.j)("startBeaconDiscovery",e)}else Object(r.g)("startBeaconDiscovery",e,"uuid must be an Array");else Object(r.g)("startBeaconDiscovery",e,"must have uuid")},stopBeaconDiscovery:O=function(){Object(r.j)("stopBeaconDiscovery",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getBeacons:function(){Object(r.j)("getBeacons",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},onBeaconUpdate:function(e){Object(r.e)("onBeaconUpdate",e,r.l)&&Object(r.m)("onBeaconUpdated",Reporter.surroundThirdByTryCatch(e,"at onBeaconUpdate callback function"))},onBeaconServiceChange:function(e){Object(r.e)("onBeaconServiceChange",e,r.l)&&Object(r.m)("onBeaconServiceChanged",Reporter.surroundThirdByTryCatch(e,"at onBeaconServiceChange callback function"))}},Ji={captureScreen:function(){Object(r.j)("captureScreen",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},onUserCaptureScreen:function(e){Object(r.m)("onUserCaptureScreen",Reporter.surroundThirdByTryCatch(e,"at onUserCaptureScreen callback function"))},getScreenBrightness:function(){Object(r.j)("getScreenBrightness",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},setScreenBrightness:function(){Object(r.j)("setScreenBrightness",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},setKeepScreenOn:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setKeepScreenOn",e,{keepScreenOn:!0})&&Object(r.j)("setKeepScreenOn",e,{})}},Qi={vibrateShort:function(){Object(r.j)("vibrateShort",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},vibrateLong:function(){Object(r.j)("vibrateLong",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}},Xi={chooseContact:function(e){Object(r.j)("chooseContact",e)},chooseWeChatContact:function(){Object(r.j)("chooseWeChatContact",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},addPhoneContact:function(){Object(r.j)("addPhoneContact",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})}},Zi={openBluetoothAdapter:function(){Object(r.j)("openBluetoothAdapter",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},closeBluetoothAdapter:function(){Object(r.j)("closeBluetoothAdapter",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},getBluetoothAdapterState:function(){Object(r.j)("getBluetoothAdapterState",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},onBluetoothAdapterStateChange:function(e){Object(r.m)("onBluetoothAdapterStateChange",Reporter.surroundThirdByTryCatch(e,"at onBluetoothAdapterStateChange callback function"))},startBluetoothDevicesDiscovery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.services){if(!Array.isArray(e.services))return void Object(r.g)("startBluetoothDevicesDiscovery",{},"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some(function(e){return"string"==typeof e&&t.test(e)}))return void Object(r.g)("startBluetoothDevicesDiscovery",{},"invalid service uuid");e.services=e.services.map(function(e){return $&&(e=e.toUpperCase()),4===e.length?"0000"+e+"-0000-1000-8000-00805F9B34FB":8===e.length?e+"-0000-1000-8000-00805F9B34FB":e})}}Object(r.j)("startBluetoothDevicesDiscovery",e,{})},stopBluetoothDevicesDiscovery:function(){Object(r.j)("stopBluetoothDevicesDiscovery",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},getBluetoothDevices:function(){Object(r.j)("getBluetoothDevices",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){Array.isArray(e.devices)||(e.devices=[]),e.devices.map(function(e){if(e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=ce(e.advertisData)),e.serviceData){var t=e.serviceData;Object.keys(t).forEach(function(e){t[e]&&(t[e]=ce(t[e]))})}return e})}})},getConnectedBluetoothDevices:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.services){if(!Array.isArray(e.services))return void Object(r.g)("getConnectedBluetoothDevices",e,"services must be an Array");if(0!==e.services.length){var t=new RegExp(/^[0-9a-f]{4}$|^[0-9a-f]{8}$|^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i);if(!e.services.some(function(e){return"string"==typeof e&&t.test(e)}))return void Object(r.g)("getConnectedBluetoothDevices",{},"invalid service uuid");e.services=e.services.map(function(e){return $&&(e=e.toUpperCase()),4===e.length?"0000"+e+"-0000-1000-8000-00805F9B34FB":8===e.length?e+"-0000-1000-8000-00805F9B34FB":e})}}Object(r.j)("getConnectedBluetoothDevices",e,{beforeSuccess:function(e){Array.isArray(e.devices)||(e.devices=[]),e.devices=e.devices.map(function(e){return e.name||(e.name="未知设备"),e.advertisData&&(e.advertisData=ce(e.advertisData)),e})}})},createBLEConnection:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("createBLEConnection",e,{deviceId:""})&&Object(r.j)("createBLEConnection",e,{})},closeBLEConnection:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("closeBLEConnection",e,{deviceId:""})&&Object(r.j)("closeBLEConnection",e,{})},getBLEDeviceServices:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("getBLEDeviceServices",e,{deviceId:""})&&Object(r.j)("getBLEDeviceServices",e,{beforeSuccess:function(e){Array.isArray(e.services)||(e.services=[]),void 0===e.errCode&&(e.errCode=0)}})},getBLEDeviceCharacteristics:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("getBLEDeviceCharacteristics",e,{deviceId:"",serviceId:""})&&Object(r.j)("getBLEDeviceCharacteristics",p({},e,{serviceId:$?e.serviceId.toUpperCase():e.serviceId}),{beforeSuccess:function(e){Array.isArray(e.characteristics)||(e.characteristics=[])}})},notifyBLECharacteristicValueChanged:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("notifyBLECharacteristicValueChanged",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&Object(r.j)("notifyBLECharacteristicValueChanged",p({},e,{serviceId:$?e.serviceId.toUpperCase():e.serviceId,characteristicId:$?e.characteristicId.toUpperCase():e.characteristicId}),{})},notifyBLECharacteristicValueChange:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("notifyBLECharacteristicValueChange",e,{state:!0,deviceId:"",serviceId:"",characteristicId:""})&&Object(r.j)("notifyBLECharacteristicValueChanged",p({},e,{serviceId:$?e.serviceId.toUpperCase():e.serviceId,characteristicId:$?e.characteristicId.toUpperCase():e.characteristicId}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("notifyBLECharacteristicValueChanged","notifyBLECharacteristicValueChange")}})},onBluetoothDeviceFound:function(e){Object(r.m)("onBluetoothDeviceFound",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=[];Array.isArray(t.devices)?n=t.devices:n.push(t),n=n.map(function(e){try{e.advertisData=ce(e.advertisData)}catch(e){}try{var t=e.serviceData||{};Object.keys(t).forEach(function(e){t[e]&&(t[e]=ce(t[e]))})}catch(e){}return e}),Reporter.surroundThirdByTryCatch(e,"at onBluetoothDeviceFound callback function")({devices:n})})},readBLECharacteristicValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("readBLECharacteristicValue",e,{deviceId:"",serviceId:"",characteristicId:""})&&Object(r.j)("readBLECharacteristicValue",p({},e,{serviceId:$?e.serviceId.toUpperCase():e.serviceId,characteristicId:$?e.characteristicId.toUpperCase():e.characteristicId}),{})},writeBLECharacteristicValue:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("writeBLECharacteristicValue",e,{value:new ArrayBuffer(0),deviceId:"",serviceId:"",characteristicId:""})&&Object(r.j)("writeBLECharacteristicValue",p({},e,{value:se(e.value),serviceId:e.serviceId.toUpperCase(),characteristicId:$?e.characteristicId.toUpperCase():e.characteristicId}),{})},onBLEConnectionStateChanged:function(e){Object(r.m)("onBLEConnectionStateChanged",Reporter.surroundThirdByTryCatch(e,"at onBLEConnectionStateChanged callback function"))},onBLEConnectionStateChange:function(e){Object(r.m)("onBLEConnectionStateChanged",Reporter.surroundThirdByTryCatch(e,"at onBLEConnectionStateChange callback function"))},onBLECharacteristicValueChange:function(e){Object(r.m)("onBLECharacteristicValueChange",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t.value&&(t.value=ce(t.value)),Reporter.surroundThirdByTryCatch(e,"at onBLECharacteristicValueChange callback function")(t)})}},ea=null,ta=["none","low","high"],na={startWifi:function(){Object(r.j)("startWifi",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},stopWifi:function(){Object(r.j)("stopWifi",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},getWifiList:function(){Object(r.j)("getWifiList",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},getConnectedWifi:function(){Object(r.j)("getConnectedWifi",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},connectWifi:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("connectWifi",e,{SSID:"",password:""})&&Object(r.j)("connectWifi",e,{})},presetWifiList:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};G?Object(r.e)("presetWifiList",e,{wifiList:[]})&&Object(r.j)("presetWifiList",e,{}):Object(r.g)("presetWifiList",e,"presetWifiList must be invoked on iOS platform")},setWifiList:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};G?Object(r.e)("setWifiList",e,{wifiList:[]})&&Object(r.j)("setWifiList",e,{}):Object(r.g)("setWifiList",e,"setWifiList must be invoked on iOS platform")},onGetWifiList:function(e){Object(r.m)("onGetWifiList",Reporter.surroundThirdByTryCatch(e,"at onGetWifiList callback function"))},onWifiConnected:function(e){Object(r.m)("onWifiConnected",Reporter.surroundThirdByTryCatch(e,"at onWifiConnected callback function"))},onEvaluateWifi:function(e){"function"==typeof e&&(ea=e)}};Object(r.m)("onEvaluateWifi",Reporter.surroundThirdByTryCatch(function(e){var t,n={SSID:e.wifi.SSID,BSSID:e.wifi.BSSID,confidence:"none"};if("function"==typeof ea)try{t=ea(e)||{}}finally{ta.find(function(e){return e===t.confidence})&&(n.confidence=t.confidence),Object(r.j)("evaluateWifi",n,{})}},"at onEvaluateWifi callback function"));var ra={getHCEState:function(){Object(r.j)("getHCEState",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},startHCE:function(){Object(r.j)("startHCE",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},stopHCE:function(){Object(r.j)("stopHCE",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},sendHCEMessage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("sendHCEMessage",e,{data:new ArrayBuffer(0)})&&Object(r.j)("sendHCEMessage",p({},e,{data:se(e.data)}),{})},onHCEMessage:function(e){Object(r.m)("onHCEMessage",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof t.data&&(t.data=ce(t.data)),Reporter.surroundThirdByTryCatch(e,"at onHCEMessage callback function")(t)})}},oa=Ke("local-service-found"),ia=Ke("local-service-lost"),aa=Ke("local-service-discovery"),sa=Ke("local-service-resolve-fail");Object(r.m)("onLocalServiceEvent",function(e){var t=p({},e);switch(delete t.event,e.event){case"found":oa.emit(t);break;case"lost":ia.emit(t);break;case"stopScan":delete t.serviceType,delete t.serviceName,delete t.ip,delete t.port,aa.emit(t);break;case"resolveFail":delete t.ip,delete t.port,sa.emit(t)}});var ca={startLocalServiceDiscovery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("operateLocalServicesScan",p({},e,{action:"start"}),{beforeSuccess:function(e){return e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")},beforeFail:function(e){return e.errMsg=e.errMsg.replace("operateLocalServicesScan","startLocalServiceDiscovery")}})},stopLocalServiceDiscovery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("operateLocalServicesScan",p({},e,{action:"stop"}),{beforeSuccess:function(e){return e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")},beforeFail:function(e){return e.errMsg=e.errMsg.replace("operateLocalServicesScan","stopLocalServiceDiscovery")}})},onLocalServiceFound:oa.onMethod,offLocalServiceFound:oa.offMethod,onLocalServiceLost:ia.onMethod,offLocalServiceLost:ia.offMethod,onLocalServiceDiscoveryStop:aa.onMethod,offLocalServiceDiscoveryStop:aa.offMethod,onLocalServiceResolveFail:sa.onMethod,offLocalServiceResolveFail:sa.offMethod},ua=new Se;Object(r.m)("onGyroscopeChange",function(e){ua.emit("gyroscope-change",e)});var la={startGyroscope:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(r.j)("enableGyroscope",Object(r.b)(e,{interval:t[e.interval]||t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableGyroscope","startGyroscope")}})},stopGyroscope:function(){Object(r.j)("enableGyroscope",Object(r.b)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableGyroscope","stopGyroscope")}})},onGyroscopeChange:function(e){ua.on("gyroscope-change",e)}},fa=new Se;Object(r.m)("onDeviceMotionChange",function(e){fa.emit("motion-change",e)});var da={startDeviceMotionListening:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={fast:0,game:20,ui:60,normal:200};Object(r.j)("enableDeviceMotionChangeListening",Object(r.b)(e,{interval:t[e.interval]||t.normal,enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","startDeviceMotionListening")}})},stopDeviceMotionListening:function(){Object(r.j)("enableDeviceMotionChangeListening",Object(r.b)(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableDeviceMotionChangeListening","stopDeviceMotionListening")}})},onDeviceMotionChange:function(e){fa.on("motion-change",e)}};function pa(){Object(r.j)("getClipboardData",{success:function(e){le.currentClipBoardData=e.data}})}W.onReady(pa),Xe(pa),Ct(function(){Object(r.j)("getClipboardData",{success:function(e){e.data!==le.currentClipBoardData&&(le.currentClipBoardData=e.data,zi(!1))}})});var ha,ga,va=function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1],Object(r.e)("redirectTo",e,{url:""})&&(e.url=J(le.lastRoute,e.url),e.url=X(e.url),Oe("redirectTo",e.url,e)&&(le.navigatorLock=!0,Object(r.j)("redirectTo",e,{afterFail:function(){le.navigatorLock=!1}})))},_a=function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1],"active"===le.runningStatus?Object(r.e)("reLaunch",e,{url:""})&&(e.url=J(le.lastRoute,e.url),e.url=X(e.url),Oe("reLaunch",e.url,e)&&(le.navigatorLock=!0,Object(r.j)("reLaunch",e,{afterFail:function(){le.navigatorLock=!1}}))):Object(r.g)("reLaunch",e,"can not invoke reLaunch in background")},ya=function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1],Object(r.e)("navigateTo",e,{url:""})&&(e.url=J(le.lastRoute,e.url),e.url=X(e.url),Oe("navigateTo",e.url,e)&&(le.navigatorLock=!0,Object(r.j)("navigateTo",e,{afterFail:function(){le.navigatorLock=!1}})))},ba=function(e){__appServiceEngine__.DisplayReporter.setEventRelatedInfo(e._relatedInfo),ya(e)},ma=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("switchTab",e,{url:""})&&(/\?.*$/.test(e.url)&&(console.warn("qq.switchTab: url 不支持 queryString"),e.url=e.url.replace(/\?.*$/,"")),e.url=J(le.lastRoute,e.url),e.url=X(e.url),Oe("switchTab",e.url,e)&&(le.navigatorLock=!0,Object(r.j)("switchTab",e,{afterFail:function(){le.navigatorLock=!1}})))},wa=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.delta?e.delta=1:(e.delta=parseInt(e.delta),e.delta<1&&(e.delta=1)),"function"==typeof __appServiceEngine__.getCurrentPagesByDomain&&__appServiceEngine__.getCurrentPagesByDomain("").length<=1||Object(r.j)("navigateBack",e)};function Sa(e){if(Array.isArray(e)&&e.some(function(e){return"string"!=typeof e||0===e.length}))return"invalid keyList"}var Ca=Ie("getUserCloudStorage","webapi_getselfuserstorage",{},{},function(e){var t=e.keyList;return{key:void 0===t?[]:t}},function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,delete e.rawData,e}),Ea=Ie("getFriendCloudStorage","webapi_getfrienduserstorage",{},{},function(e){var t=e.keyList;return{key:void 0===t?[]:t}},function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e}),delete e.user_item,delete e.rawData,e}),Ia=l.a.ShareInfoStorage,Oa=Ie("getGroupCloudStorage","webapi_getgroupuserstorage",{},{},function(e){var t=e.keyList,n=void 0===t?[]:t,r=e.shareTicket,o=Ia.get(r);return{key:n,share_key:o.shareKey,share_name:o.shareName}},function(e){return e.user_item=e.user_item?e.user_item:[],e.data=e.user_item.map(function(e){return e.KVDataList=e.kv_list||[],delete e.kv_list,e}),delete e.user_item,delete e.rawData,e}),Ta={emitter:new we,pluginIDs:{},pluginVersions:{},pluginInfos:{}},ka=Ta.pluginInfos,Aa=[],xa=(ga=!1,369431584<=W.clientVersion&&W.clientVersion<=369432575&&(ga=!0),637867008<=W.clientVersion&&W.clientVersion<=637868031&&(ga=!0),function(){return ga}),Pa=function(e){var t=e.version;return{customVersion:e.customVersion,version:t,domains:{},hostSign:{}}},Da={navigateBackMiniProgram:function(){Object(r.j)("navigateBackMiniProgram",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},_setWxIsInvokeInTapForNavToMiniProgram:xt,_navigateToMiniProgram:Tt,_checkBeforeNavigateToMiniProgram:Ot,navigateToMiniProgram:function(e){var t=W.accountInfo.appId;0===W.appType&&"wx308bd2aeb83d3345"!==t&&"wxc98889eca359c1e5"!==t?kt?(Tt(e),fe({name:"navigateToMiniProgram",scene:0,strategy:0,timeDiffToLastTap:0===At?-2:Date.now()-At})):Object(r.c)("navigateToMiniProgram",e,!1,"can only be invoked by user TAP gesture."):Tt(e)},navigateToDevMiniProgram:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("navigateToDevMiniProgram",e,{appId:""})&&Object(r.j)("navigateToDevMiniProgram",e,{})}},Na={setPrivateExtraData:function(e){try{__appServiceEngine__.setPrivateExtraData(e.privateExtraData),e.success()}catch(t){e.fail(t)}},getCurrentRoute:function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).success({currentRoute:le.lastRoute})},setWxInterfaceDisabled:ke,navigateTo:ya,navigateToWithRelatedInfo:ba,redirectTo:va,switchTab:ma,navigateBack:wa,reLaunch:_a,getUserCloudStorage:function(e){var t=Sa(e.keyList);t?beforeInvokeFail("getUserCloudStorage",e,t):Ca(e)},getFriendCloudStorage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Sa(e.keyList);t?Object(r.g)("getFriendCloudStorage",e,t):Ea(e)},getGroupCloudStorage:function(e){var t=Sa(e.keyList);t?Object(r.g)("getGroupCloudStorage",e,t):setTimeout(function(){e.shareTicket||Ia.lastShareTicket,e.shareTicket?Ia.get(e.shareTicket)?Oa(e):Object(r.g)("getGroupCloudStorage",e,"参数 shareTicket 不正确"):Ia.lastShareTicket?Oa(p({shareTicket:Ia.lastShareTicket},e)):Object(r.g)("getGroupCloudStorage",e,"当前小程序不是从群分享卡片打开")},1e3/60)},reportAPIRecycle:fe,getPassCookieString:bt,getPluginContactList:function(e){void 0===ha?Aa.push(e.success):e.success(ha)},_checkBeforeNavigateToMiniProgram:Ot,getCloudFileUrl:function(e){Uh.cloud.getTempFileURL(e)}},ja=function(e,t,n,o){Object(r.n)("callbackAppServiceMethod",{res:e,isSuccess:t,callbackId:n},[o])};Object(r.o)("invokeAppServiceMethod",function(e,t){var n=e.name,o=e.type,i=e.args,a=e.callbackId;try{if("bridge"===o)Object(r.a)(n,i,function(e){e.errMsg=e.errMsg||n+":ok",-1!==e.errMsg.indexOf(n+":ok")?ja(e,!0,a,t):ja(e,!1,a,t)});else{i.success=function(e){ja(e,!0,a,t)},i.fail=function(e){ja(e,!1,a,t)};var s=("wx"===o?wx[n]:Na[n])(i);s instanceof Promise&&s.catch(function(e){})}}catch(e){var c={errMsg:n+": fail "+e.message};ja(c,!1,a,t)}}),Object(r.m)("onStartReportPageData",function(){var e=(void 0!==__appServiceEngine__?__appServiceEngine__.getCurrentPagesByDomain(""):[]).find(function(e){return e.__wxWebviewId__===le.currentWebviewId});e&&Object(r.j)("reportPageData",{isUserReport:!0,pageData:JSON.stringify(e.data),pageRoute:e.__route__,complete:function(e){}})});var Ra=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={title:"",content:"",confirmText:"确定",cancelText:"取消",showCancel:!0,confirmColor:"#576B95",cancelColor:"#000000"};Object(r.e)("showModal",t=re(t,e),{title:"",content:"",confirmText:"",cancelText:"",confirmColor:"",cancelColor:""})&&(8<t.confirmText.replace(/[^\x00-\xff]/g,"##").length?Object(r.g)("showModal",e,"confirmText length should not larger than 4 Chinese characters"):8<t.cancelText.replace(/[^\x00-\xff]/g,"##").length?Object(r.g)("showModal",e,"cancelText length should not larger than 4 Chinese characters"):Object(r.j)("showModal",t,{beforeSuccess:function(e){e.confirm=Boolean(e.confirm),e.cancel=G?!e.confirm:!e.confirm&&Boolean(e.cancel),xt()}}))},Ma=1,Ba=!1,La=!1,Fa={showToast:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={duration:1500,title:"",icon:"success",mask:!1};t=re(t,e),e.image&&(t.image=Y(le.lastRoute,e.image,!1)),["success","loading","none"].indexOf(t.icon)<0&&(t.icon="success"),"none"===t.icon&&(t.icon=""),Object(r.e)("showToast",t,{duration:1,title:"",icon:""})&&(Ba=Ma++,setTimeout(function(){Ba=!1},t.duration),Object(r.j)("showToast",t))},hideToast:function(e){if(V&&La&&(!Ba||Ba<La))return Ba=!1,e&&"function"==typeof e.success&&setTimeout(function(){e.success({errMsg:"hideToast:ok"})}),e&&"function"==typeof e.complete&&setTimeout(function(){e.complete({errMsg:"hideToast:ok"})}),void console.warn("请注意 showToast 与 hideToast 必须配对使用");Ba=!1,Object(r.j)("hideToast",e)},showLoading:function(){var e={title:"",icon:"loading",mask:!1,duration:1e8};(e=re(e,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})).icon="loading",delete e.image,Object(r.e)("showLoading",e,{duration:1,title:""})&&(La=Ma++,Object(r.j)("showToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("showToast","showLoading")}}))},hideLoading:function(e){if(V&&Ba&&(!La||La<Ba))return La=!1,e&&"function"==typeof e.success&&setTimeout(function(){e.success({errMsg:"hideLoading:ok"})}),e&&"function"==typeof e.complete&&setTimeout(function(){e.complete({errMsg:"hideLoading:ok"})}),void console.warn("请注意 showLoading 与 hideLoading 必须配对使用");La=!1,Object(r.j)("hideToast",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("hideToast","hideLoading")}})},showModal:Ra,showActionSheet:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t={itemList:[],itemColor:"#000000",actionSheetType:0};delete(t=re(t,e)).cancelText,delete t.cancelColor,Object(r.e)("showActionSheet",t,{itemList:["1"],itemColor:""})&&(6<e.itemList.length?Object(r.g)("showActionSheet",e,"parameter error: itemList should not be large than 6"):Object(r.j)("showActionSheet",t,{beforeAll:function(e){(-1<e.errMsg.indexOf(":ok")||-1<e.errMsg.indexOf(":cancel"))&&xt()}}))},hideHomeButton:function(e){Object(r.j)("hideHomeButton",e,{})}},Ua="#000000";W.onReady(function(){An(function(){void 0!==W&&W.global&&W.global.window&&(Ua=W.global.window.navigationBarBackgroundColor||Ua);var e=le.lastRoute+".html";void 0!==W&&W.page&&W.page[e]&&W.page[e].window&&(Ua=W.page[e].window.navigationBarBackgroundColor||Ua)})});var Wa={setNavigationBarTitle:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setNavigationBarTitle",e,{title:""})&&Object(r.j)("setNavigationBarTitle",e)},showNavigationBarLoading:function(e){Object(r.j)("showNavigationBarLoading",e)},hideNavigationBarLoading:function(e){Object(r.j)("hideNavigationBarLoading",e)},setNavigationBarAlpha:function(){var e=p({},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});e.backgroundColor=Ua,Object(r.j)("setNavigationBarColor",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setNavigationBarColor","setNavigationBarAlpha")}})},setNavigationBarColor:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("setNavigationBarColor",e,{frontColor:"",backgroundColor:""}))if(-1!==["#ffffff","#000000"].indexOf(e.frontColor)){"#ffffff"===e.frontColor?Object(r.j)("setStatusBarStyle",{color:"white"}):"#000000"===e.frontColor&&Object(r.j)("setStatusBarStyle",{color:"black"});var t=p({},e);Ua=e.backgroundColor,Object(r.j)("setNavigationBarColor",t)}else Object(r.g)("setNavigationBarColor",e,'invalid frontColor "'+e.frontColor+'"')},setNavigationBarRightButton:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setNavigationBarRightButton",e,{hide:!0})&&Object(r.j)("setNavigationBarRightButton",e,{})},onTapNavigationBarRightButton:function(e){Object(r.m)("onTapNavigationBarRightButton",Reporter.surroundThirdByTryCatch(e,"at onTapNavigationBarRightButton callback function"))}},qa=0,Va={setTopBarText:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.text?Date.now()-qa<5e3?Object(r.g)("setTopBarText",e,"invoke too frequently"):Object(r.j)("setTopBarText",e,{beforeSuccess:function(){qa=Date.now()}}):Object(r.g)("setTopBarText",e,"invalid text")}},$a={navigateToWithRelatedInfo:ba,navigateTo:ya,redirectTo:va,switchTab:ma,navigateBack:wa,reLaunch:_a,onPageReload:function(e){Le.on("onPageReload",function(t){t.path&&(t.path=ee(t.path)),"function"==typeof e&&e(t)})},_triggerBeforeUnloadPage:function(e){Le.emit("onBeforeUnloadPage_"+e,e),Le.removeAllListeners("onBeforeShareAppMessage_"+e)},_triggerBeforeShareAppMessage:function(e){Le.emit("onBeforeShareAppMessage_"+e,e)}};V&&Object(r.o)("SPECIAL_PAGE_EVENT",function(e){var t=e.data,n=e.eventName,o=e.ext,i=e.nodeId,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(t&&"input"==t.type&&"function"==typeof le.webviewEventCallback){var s=le.webviewEventCallback({data:t,eventName:n,webviewId:a,nodeId:i}),c=t.detail.value;if(o&&o.setKeyboardValue)if(void 0===s);else if("Object"===Object(r.h)(s)){var u={};c!=s.value&&(u.value=String(s.value)),isNaN(parseInt(s.cursor))||(u.cursor=parseInt(s.cursor)),Object(r.n)("setKeyboardValue",u,[a])}else c!=s&&Object(r.n)("setKeyboardValue",{value:String(s),cursor:-1},[a])}});var Ga=1,Ha={};Object(r.o)("pageScrollDone",function(e){if(!(e.callbackId<0||void 0===Ha[e.callbackId])){var t=Ha[e.callbackId];delete Ha[e.callbackId],delete e.callbackId,e.errMsg=e.errMsg||"scrollWebviewTo:ok",e.errMsg=e.errMsg.replace("scrollWebviewTo","pageScrollTo");var n=0===e.errMsg.indexOf("pageScrollTo:ok"),r=0===e.errMsg.indexOf("pageScrollTo:fail");n?"function"==typeof t.success&&t.success(e):r&&"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.fail(e)}}),Object(r.o)("insertHTMLWebView",function(e){var t=0===e.errMsg.indexOf("insertHTMLWebView:ok"),n=0===e.errMsg.indexOf("insertHTMLWebView:fail");t||n&&console.warn(e.errMsg)});var za={onWebviewEvent:function(e,t){le.webviewEventCallback=e,Object(r.o)("PAGE_EVENT",function(t){var n=t.data,r=t.eventName,o=t.nodeId,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;e({data:n,eventName:r,webviewId:i,nodeId:o})})},onNativeEvent:function(e){["onCanvasTouchStart","onCanvasTouchMove","onCanvasTouchEnd"].forEach(function(t){Object(r.m)(t,function(n,r){e({data:n,eventName:t,webviewId:r})})})}},Ka={setTabBarBadge:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("setTabBarBadge",e,{index:0,text:""})){var t=p({},e);t.badgeValue=t.text,t.type="text",4<function(e){return null==e?0:("string"!=typeof e&&(e=String(e)),e.replace(/[^\x00-\xff]/g,"01").length)}(t.badgeValue)&&(t.badgeValue="..."),Object(r.j)("setTabBarBadge",t)}},removeTabBarBadge:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("setTabBarBadge",e,{index:0})){var t=p({},e);t.type="none",Object(r.j)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","removeTabBarBadge")}})}},showTabBarRedDot:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("setTabBarBadge",e,{index:0})){var t=p({},e);t.type="redDot",Object(r.j)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","showTabBarRedDot")}})}},hideTabBarRedDot:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("setTabBarBadge",e,{index:0})){var t=p({},e);t.type="none",Object(r.j)("setTabBarBadge",t,{beforeAll:function(e){e.errMsg=e.errMsg.replace("setTabBarBadge","hideTabBarRedDot")}})}},showTabBar:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};void 0===e.animation&&(e.animation=!1),Object(r.e)("showTabBar",e,{animation:!0})&&Object(r.j)("showTabBar",e)},hideTabBar:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};void 0===e.animation&&(e.animation=!1),Object(r.e)("hideTabBar",e,{animation:!0})&&Object(r.j)("hideTabBar",e)},setTabBarStyle:function(){Object(r.j)("setTabBarStyle",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},setTabBarItem:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setTabBarItem",e,{index:0})&&Object(r.j)("setTabBarItem",e)},_isTabBar:!1},Ya=function(e){var t=__appServiceEngine__.getCurrentPagesByDomain(""),n=t[t.length-1].__wxWebviewId__;e.hasOwnProperty("page")&&e.page.hasOwnProperty("__wxWebviewId__")&&(n=e.page.__wxWebviewId__);var o={};for(var i in e)"function"==typeof e[i]&&(o[i]=e[i],delete e[i]);e.callbackId=Ga,Ha[Ga]=o,Ga++,Object(r.n)("pageScrollTo",e,[n])},Ja=function(){Object(r.j)("startPullDownRefresh",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},Qa=function(e){Object(r.j)("stopPullDownRefresh",e)},Xa=0,Za={},es=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Za[Xa]={success:e.success,fail:e.fail,complete:e.complete},Object(r.n)("setPageStyle",{callbackId:Xa,style:e.style},[le.currentWebviewId]),Xa+=1};function ts(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object(r.o)("callbackSetPageStyle",function(e){var t=e.res,n=e.callbackId,r=t.errMsg,o=0===r.indexOf("setPageStyle:ok"),i=0===r.indexOf("setPageStyle:fail"),a=Za[n];delete Za[n],"object"===P(a)&&(o?"function"==typeof a.success&&a.success(t):i&&"function"==typeof a.fail&&a.fail(t),"function"==typeof a.complete&&a.complete(t))});var ns=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};N(this,e),this.actions=[],this.currentTransform=[],this.currentStepAnimates=[],this.option={transition:{duration:void 0!==t.duration?t.duration:400,timingFunction:void 0!==t.timingFunction?t.timingFunction:"linear",delay:void 0!==t.delay?t.delay:0},transformOrigin:t.transformOrigin||"50% 50% 0"}}return ge(e,[{key:"export",value:function(){var e=this.actions;return this.actions=[],{actions:e}}},{key:"step",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.currentStepAnimates.forEach(function(t){"style"!==t.type?e.currentTransform[t.type]=t:e.currentTransform[t.type+"."+t.args[0]]=t}),this.actions.push({animates:Object.keys(this.currentTransform).reduce(function(t,n){return ts(t).concat([e.currentTransform[n]])},[]),option:{transformOrigin:void 0!==t.transformOrigin?t.transformOrigin:this.option.transformOrigin,transition:{duration:void 0!==t.duration?t.duration:this.option.transition.duration,timingFunction:void 0!==t.timingFunction?t.timingFunction:this.option.transition.timingFunction,delay:void 0!==t.delay?t.delay:this.option.transition.delay}}}),this.currentStepAnimates=[],this}},{key:"matrix",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return this.currentStepAnimates.push({type:"matrix",args:[e,t,n,r,o,i]}),this}},{key:"matrix3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,a=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,c=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0,u=9<arguments.length&&void 0!==arguments[9]?arguments[9]:0,l=10<arguments.length&&void 0!==arguments[10]?arguments[10]:1,f=11<arguments.length&&void 0!==arguments[11]?arguments[11]:0,d=12<arguments.length&&void 0!==arguments[12]?arguments[12]:0,p=13<arguments.length&&void 0!==arguments[13]?arguments[13]:0,h=14<arguments.length&&void 0!==arguments[14]?arguments[14]:0,g=15<arguments.length&&void 0!==arguments[15]?arguments[15]:1;return this.currentStepAnimates.push({type:"matrix3d",args:[e,t,n,r,o,i,a,s,c,u,l,f,d,p,h,g]}),this.stepping=!1,this}},{key:"rotate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotate",args:[e]}),this}},{key:"rotate3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return this.currentStepAnimates.push({type:"rotate3d",args:[e,t,n,r]}),this.stepping=!1,this}},{key:"rotateX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateX",args:[e]}),this.stepping=!1,this}},{key:"rotateY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateY",args:[e]}),this.stepping=!1,this}},{key:"rotateZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"rotateZ",args:[e]}),this.stepping=!1,this}},{key:"scale",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length?arguments[1]:void 0;return t=void 0!==t?t:e,this.currentStepAnimates.push({type:"scale",args:[e,t]}),this}},{key:"scale3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;return this.currentStepAnimates.push({type:"scale3d",args:[e,t,n]}),this}},{key:"scaleX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleX",args:[e]}),this}},{key:"scaleY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleY",args:[e]}),this}},{key:"scaleZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.currentStepAnimates.push({type:"scaleZ",args:[e]}),this}},{key:"skew",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"skew",args:[e,t]}),this}},{key:"skewX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewX",args:[e]}),this}},{key:"skewY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"skewY",args:[e]}),this}},{key:"translate",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.currentStepAnimates.push({type:"translate",args:[e,t]}),this}},{key:"translate3d",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.currentStepAnimates.push({type:"translate3d",args:[e,t,n]}),this}},{key:"translateX",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateX",args:[e]}),this}},{key:"translateY",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateY",args:[e]}),this}},{key:"translateZ",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.currentStepAnimates.push({type:"translateZ",args:[e]}),this}},{key:"opacity",value:function(e){return this.currentStepAnimates.push({type:"style",args:["opacity",e]}),this}},{key:"backgroundColor",value:function(e){return this.currentStepAnimates.push({type:"style",args:["background-color",e]}),this}},{key:"width",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["width",e]}),this}},{key:"height",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["height",e]}),this}},{key:"left",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["left",e]}),this}},{key:"right",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["right",e]}),this}},{key:"top",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["top",e]}),this}},{key:"bottom",value:function(e){return"number"==typeof e&&(e+="px"),this.currentStepAnimates.push({type:"style",args:["bottom",e]}),this}}]),e}(),rs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("createAnimation",e,{}))return new ns(e)},os=[],is=null,as=null,ss=!1,cs="",us=0,ls=0;Object(r.m)("onViewDidResize",function(e){var t,n;n=!0,(is=t=e).deviceOrientation!==cs&&(n=!1,t.deviceOrientation&&(cs=t.deviceOrientation)),t.size.windowWidth!==us&&(n=!1,us=t.size.windowWidth),t.size.windowHeight!==ls&&(n=!1,ls=t.size.windowHeight),n||(ss=!0),as||(as=setTimeout(function(){var e=ss;ss=!1,as=null,e&&os.forEach(function(e){Reporter.surroundThirdByTryCatch(e,"at onWindowResize callback function")(is)});var t=__appServiceEngine__.getCurrentPagesByDomain(""),n=t[t.length-1];n&&"function"==typeof n.onResize&&Reporter.surroundThirdByTryCatch(function(){n.__callPageLifeTime__("onResize",is)},"at Resize callback function")()},16))});var fs=function(e){return/^#[0-9a-fA-F]{6}$/.test(e)},ds=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(e=p({},e)).backgroundColor&&!fs(e.backgroundColor)&&delete e.backgroundColor,e.backgroundColorTop&&!fs(e.backgroundColorTop)&&delete e.backgroundColorTop,e.backgroundColorBottom&&!fs(e.backgroundColorBottom)&&delete e.backgroundColorBottom,(e.backgroundColor||e.backgroundColorTop||e.backgroundColorBottom)&&Object(r.j)("setBackgroundColor",e)},ps=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};-1!==["dark","light"].indexOf(e.textStyle)?Object(r.j)("setBackgroundTextStyle",e):Object(r.g)("setBackgroundTextStyle",e,'invalid textStyle "'+e.textStyle+'"')},hs={},gs={};function vs(e){var t=gs[e],n=hs[e];n&&n.length&&t&&t.bindmessage&&le.webviewEventCallback&&le.webviewEventCallback({data:{type:"message",target:t.target,currentTarget:t.target,timeStamp:Date.now()-t.createdTimestamp,detail:{data:n}},eventName:t.bindmessage,webviewId:e,nodeId:t.nodeId})}function _s(e,t){var n=e.name,r=e.arg;$&&(t=le.currentWebviewId),"navigateBack"===n?$a.navigateBack({delta:r.delta}):"navigateTo"===n?$a.navigateTo({url:r.url}):"redirectTo"===n?$a.redirectTo({url:r.url}):"reLaunch"===n?$a.reLaunch({url:r.url}):"switchTab"===n?$a.switchTab({url:r.url}):"postMessage"===n&&hs[t]&&hs[t].push(r)}Object(r.o)("webViewInserted",function(e,t){var n,r;gs[t]=e,hs[t]=[],Fe(t,function(e){vs(e),delete gs[e],delete hs[e]}),n=t,r=vs,Le.on("onBeforeShareAppMessage_"+n,function(e){"function"==typeof r&&r(e)})}),Object(r.o)("webViewRemoved",function(e,t){vs(t),delete gs[t],delete hs[t]}),Object(r.m)("onWebInvokeAppService",_s),Object(r.m)("WEB_INVOKE_APPSERVICE",_s);var ys=function(e,t,n){setTimeout(function(){Object(r.n)("callbackMiniProgramFunction",{callbackId:t,argArr:n},[e])},0)};Object(r.o)("callMiniProgramFunction",function(e,t){var n=e.callbackId,r=e.paths,o=e.funcName,i=e.argArr,a=null;"object"!==P(r)&&(r=[r]);for(var s=0;s<r.length;s++){var c=r[s];".js"!==c.slice(-3)&&(c+=".js");try{a=nta(c)}catch(e){}if(a)break}a?"function"!=typeof a[o]?ys(t,n,[{errMsg:"callMiniProgramFunction:fail Function not found"}]):(i.push(function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];ys(t,n,r)}),a[o].apply({},i)):ys(t,n,[{errMsg:"callMiniProgramFunction:fail File not found"}])});var bs=!1,ms=[],ws=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!0===bs?ms.push(e):(bs=!0,Object(r.j)("getLocation",e,{beforeSuccess:function(t){e.altitude||delete t.altitude},beforeAll:function(){bs=!1},afterAll:function(e){ms.forEach(function(t){"function"==typeof t.complete&&Reporter.surroundThirdByTryCatch(t.complete,"at getLocation complete callback function")(e)}),ms=[]},afterSuccess:function(e){ms.forEach(function(t){"function"==typeof t.success&&Reporter.surroundThirdByTryCatch(t.success,"at getLocation success callback function")(e)})},afterFail:function(e){ms.forEach(function(t){"function"==typeof t.fail&&Reporter.surroundThirdByTryCatch(t.fail,"at getLocation fail callback function")(e)})}}))},Ss=function(){Object(r.j)("chooseLocation",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},Cs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("openLocation",e,{latitude:1,longitude:1})&&Object(r.j)("openLocation",e)},Es=!1,Is=function(){if(!W.ext)return{};try{return JSON.parse(JSON.stringify(W.ext))}catch(e){return{}}},Os=1,Ts={};Object(r.o)("responseComponentInfo",function(e){var t=e.reqId,n=Ts[t];n&&(delete Ts[t],n(e.res))});var ks=function(){function e(t,n,r,o){N(this,e),this._selectorQuery=t,this._component=n,this._selector=r,this._single=o}return ge(e,[{key:"fields",value:function(e,t){return this._selectorQuery._push(this._selector,this._component,this._single,e,t),this._selectorQuery}},{key:"boundingClientRect",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,rect:!0,size:!0},e),this._selectorQuery}},{key:"scrollOffset",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{id:!0,dataset:!0,scrollOffset:!0},e),this._selectorQuery}},{key:"context",value:function(e){return this._selectorQuery._push(this._selector,this._component,this._single,{context:!0},e),this._selectorQuery}}]),e}(),As={},xs=function(e){return function(){function t(e){if(N(this,t),e&&e.page)this._component=this._defaultComponent=e.page,this._webviewId=this._defaultComponent.__wxWebviewId__;else{var n=__appServiceEngine__.getCurrentPagesByDomain("");this._defaultComponent=n[n.length-1],this._component=null,this._webviewId=null}this._queue=[],this._queueCb=[]}return ge(t,[{key:"in",value:function(e){return null===this._webviewId?(this._webviewId=e.__wxWebviewId__,this._component=e):this._webviewId!==e.__wxWebviewId__?console.error("A single SelectorQuery could not work in components in different pages. A SelectorQuery#in call has been ignored."):this._component=e,this}},{key:"select",value:function(e){return new ks(this,this._component,e,!0)}},{key:"selectAll",value:function(e){return new ks(this,this._component,e,!1)}},{key:"selectViewport",value:function(){return new ks(this,0,"",!0)}},{key:"_push",value:function(t,n,r,o,i){null===this._webviewId&&(this._webviewId=this._defaultComponent?this._defaultComponent.__wxWebviewId__:void 0);var a=e?"":__virtualDOM__.getRootNodeId(this._webviewId);this._queue.push({component:null!=n?0===n?0:n.__wxExparserNodeId__:a,selector:t,single:r,fields:o}),this._queueCb.push(i||null)}},{key:"exec",value:function(t){var n,o,i,a,s=this;n=this._webviewId,o={pluginId:e,queue:this._queue},i=function(e){var n=s._queueCb;e.forEach(function(e,t){!function e(t,n){if(t)if(Array.isArray(t))t.forEach(function(t){return e(t,n)});else{var r=t.contextTagName,o=t.contextId,i=t.contextCanvasId;r&&("wx-video"===r&&(t.context=uo(o,le.currentWebviewId)),"wx-live-player"===r&&(t.context=Dr(o,le.currentWebviewId)),"wx-canvas"===r&&i&&(t.context=Tn(i,n)),"wx-editor"===r&&(t.context=x(o,le.currentWebviewId)),delete t.contextTagName,delete t.contextId,delete t.contextCanvasId)}}(e,s._component),"function"==typeof n[t]&&Reporter.surroundThirdByTryCatch(function(){n[t].call(s,e)},"at SelectorQuery callback function")()}),"function"==typeof t&&Reporter.surroundThirdByTryCatch(function(){t.call(s,e)},"at SelectorQuery callback function")()},a=Os++,null!=n?(Ts[a]=i,Object(r.n)("requestComponentInfo",{reqId:a,reqs:o},[n])):console.warn("An SelectorQuery call is ignored because no proper page or component is found. Please considering using `SelectorQuery.in` to specify a proper one.")}}]),t}()};function Ps(e,t){return As[t]||(As[t]=xs(t)),new As[t](e)}var Ds=1,Ns={},js=function(e,t,n){var o=Ds++;Ns[o]=n,Object(r.n)("requestComponentObserver",{reqId:o,req:t},[e])};Object(r.o)("responseComponentObserver",function(e){var t=e.reqId,n=Ns[t];e.reqEnd&&delete Ns[t],n&&(e.reqEnd||n(e.res))});var Rs={};function Ms(e,t,n){var r;return Rs[n]||(Rs[n]=(r=n,function(){function e(t,n){if(N(this,e),this._component=t,this._options=n,this._relativeInfo=[],this._observerId=null,this._disconnected=!1,t)this._webviewId=t.__wxWebviewId__;else{var r=__appServiceEngine__.getCurrentPagesByDomain("");this._webviewId=r[r.length-1].__wxWebviewId__}}return ge(e,[{key:"relativeTo",value:function(e,t){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:e,margins:t}),this}},{key:"relativeToViewport",value:function(e){if(null!==this._observerId)throw new Error('Relative nodes cannot be added after "observe" call in IntersectionObserver');return this._relativeInfo.push({selector:null,margins:e}),this}},{key:"observe",value:function(e,t){var n=this;if(null!==this._observerId)throw new Error('"observe" call can be only called once in IntersectionObserver');this._observerId="";var o=this._component;js(this._webviewId,{type:"addIntersectionObserver",pluginId:r,nodeId:o?o.__wxExparserNodeId__:__virtualDOM__.getRootNodeId(this._webviewId),targetSelector:e,relativeInfo:this._relativeInfo,options:this._options},function(e){n._disconnected||(e.observerId&&(n._observerId=e.observerId),e.info&&t.call(n,e.info))})}},{key:"disconnect",value:function(){js(this._webviewId,{type:"removeIntersectionObserver",observerId:this._observerId}),this._disconnected=!0}}]),e}())),new Rs[n](e,t)}var Bs=[],Ls=null;function Fs(){var e=Bs;Bs=[],Ls=null;for(var t=0,n=e.length;t<n;t++){var r=e[t];r&&(r=Reporter.surroundThirdByTryCatch(r,"at api nextTick callback function")),r&&r()}}Ro("Request",{maxTaskCount:10,functionName:"request"}),W.onReady(function(){try{"number"==typeof W.wxAppInfo.maxRequestConcurrent&&Ro("Request",{maxTaskCount:W.wxAppInfo.maxRequestConcurrent})}catch(e){}});var Us={uploadEncryptedFileToCDN:function(){Object(r.j)("uploadEncryptedFileToCDN",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},onUploadEncryptedFileToCDNProgress:function(e){Object(r.m)("onUploadEncryptedFileToCDNProgress",e)}},Ws=function(e){function t(e){return N(this,t),j(this,R(t).call(this,e,{taskType:"Request",beforeSend:function(t){return t.responseType=e.responseType,t},beforeSuccess:function(t){var n,r,o;return"string"==typeof(n=t).data&&65279===n.data.charCodeAt(0)&&(n.data=n.data.substr(1)),(r=t).statusCode=parseInt(r.statusCode),"object"===P((o=t).header)&&(o.header=Object.keys(o.header).reduce(function(e,t){return Array.isArray(o.header[t])?e[t]=o.header[t].join(","):"string"==typeof o.header[t]&&(e[t]=o.header[t]),e},{})),"json"===e.dataType&&function(e){try{e.data=JSON.parse(e.data)}catch(e){}}(t),t}}))}return B(t,Do),t}(),qs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=p({__skipDomainCheck__:!1},e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("request",t,{url:""}))if(!1!==Q(t.url))if("function"!=typeof t.data){var n=Object(r.h)(t.header);t.header=t.header||{},t.header=Object(r.f)(t.header),"Undefined"!==n&&"Object"!==n&&(console.warn("qq.request: header must be an object"),t.header={}),t.header=Object.keys(t.header).reduce(function(e,n){return"content-type"===n.toLowerCase()?e[n.toLowerCase()]=t.header[n]:e[n]=t.header[n],e},{});var o,i="text";t.responseType&&(i=t.responseType.toLowerCase());var a=t.header||{},s="GET";"string"==typeof t.method&&(s=t.method.toUpperCase()),t.dataType=t.dataType||"json",a["content-type"]=a["content-type"]||"application/json",o=void 0===t.data?"":"string"!=typeof t.data&&"ArrayBuffer"!==Object(r.h)(t.data)?-1<a["content-type"].indexOf("application/x-www-form-urlencoded")?Object(r.p)(t.data,!0):-1<a["content-type"].indexOf("application/json")?JSON.stringify(t.data):"object"===P(t.data)?JSON.stringify(t.data):t.data.toString():t.data;var u=t.url.match(/^https?:\/\/([^\/\?]*)[\/\?]?/i),l=u?u[1]:"";if("GET"===s&&l&&-1!==w.indexOf(l)&&-1!==t.url.indexOf("_wnscgi=1"))return t.url="https://h5.qzone.qq.com/miniapp/proxy/wnscgi/"+t.url.replace(/^https?:\/\//i,""),void c.b.wnsRequest(t,"wnsCgiRequest");"GET"===s&&(t.url=function(e,t){if("string"==typeof e&&"object"===P(t)&&null!==t&&0<Object.keys(t).length){var n=e.split("?");return n[0]+"?"+Object(r.p)(Object(r.b)((n[1]||"").split("&").reduce(function(e,t){if("string"==typeof t&&0<t.length){var n=t.split("="),r=n[0],o=n[1];e[r]=o}return e},{}),Object.keys(t).reduce(function(e,n){return"object"===P(t[n])?e[encodeURIComponent(n)]=encodeURIComponent(JSON.stringify(t[n])):e[encodeURIComponent(n)]=encodeURIComponent(t[n]),e},{})))}return e}(t.url,t.data));try{return new Ws(p({},t,{header:a,method:s,responseType:i,data:o,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(e){Object(r.g)("request",t,e.message)}}else Object(r.g)("request",t,"data should not be Function");else Object(r.g)("request",t,'invalid url "'+t.url+'"')}},Vs=qs(),$s=qs({__skipDomainCheck__:!0});Ro("Upload",{maxTaskCount:10,functionName:"uploadFile"}),W.onReady(function(){try{"number"==typeof W.wxAppInfo.maxUploadConcurrent&&Ro("Upload",{maxTaskCount:W.wxAppInfo.maxUploadConcurrent})}catch(e){}});var Gs=function(e){function t(e){return N(this,t),j(this,R(t).call(this,e,{taskType:"Upload",beforeSend:function(t){return t.filePath=e.filePath,t.name=e.name,t.formData=e.formData,t},beforeSuccess:function(e){return e}}))}return B(t,Do),t}(),Hs=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return e=p({__skipDomainCheck__:!1},e),function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("uploadFile",t,{url:"",filePath:"",name:""})){"object"!==P(t.header)&&void 0!==t.header&&(console.warn("uploadFile: header must be an object"),delete t.header),"object"!==P(t.formData)&&void 0!==t.formData&&(console.warn("uploadFile: formData must be an object"),delete t.formData);var n={},o={};t.header&&(n=Object(r.f)(t.header)),t.formData&&(o=Object(r.f)(t.formData));try{return new Gs(p({},t,{header:n,formData:o,__skipDomainCheck__:e.__skipDomainCheck__}))}catch(n){Object(r.g)("uploadFile",t,n.message)}}}},zs=Hs(),Ks=Hs({__skipDomainCheck__:!0}),Ys=0,Js=new WeakMap,Qs=new WeakMap,Xs=new WeakMap,Zs=(new WeakMap,new WeakMap),ec={},tc=new we;Object(r.m)("onSocketTaskStateChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.state,n=e.socketTaskId,r=ec[n];if(r){var o=Js.get(r);if(delete e.state,delete e.socketTaskId,r){if("open"===t){r.readyState=r.OPEN;var i=Xs.get(r).url,a=Date.now()-Zs.get(r),s=e.statusCode,c=Xs.get(r).__skipDomainCheck__;mo("connectSocket",i,1,a,"",s,c,0)}else"close"!==t&&"error"!==t||(r.readyState=r.CLOSED);tc.emit(String(o)+t,e),tc.emit("onSocket"+(t[0].toUpperCase()+t.substr(1)),e,r),"close"===t&&(delete ec[n],tc.removeAllListeners(o+"open"),tc.removeAllListeners(o+"close"),tc.removeAllListeners(o+"error"),tc.removeAllListeners(o+"message"))}}});var nc=function(e,t){Js.get(this),tc.on(String(Js.get(this))+e,Reporter.surroundThirdByTryCatch(t,"at socketTask.on"+e+" callback function"))},rc=function(){function e(t,n){var o,i=this;N(this,e),this.CONNECTING=0,this.OPEN=1,this.CLOSING=2,this.CLOSED=3,this.readyState=this.CONNECTING;var a=Ys++;Js.set(this,a),Xs.set(this,n),Object.defineProperty(this,"__socketInstance__",{value:t,writable:!1,configurable:!1,enumerable:!1}),["success","fail","complete"].forEach(function(e){"function"==typeof n[e]&&(n[e]=Reporter.surroundThirdByTryCatch(n[e],"at api connectSocket "+e+" callback function"))}),Zs.set(this,Date.now()),Object(r.j)("createSocketTask",n,{beforeAll:function(e){e.errMsg=e.errMsg.replace("createSocketTask","connectSocket")},beforeSuccess:function(e){Qs.set(i,e.socketTaskId),ec[e.socketTaskId]=i},beforeFail:function(e){var t=n.url,r=Date.now()-Zs.get(i),a=n.__skipDomainCheck__;o=e.errMsg,mo("connectSocket",t,2,r,o,"",a,0)}}),o&&(this.readyState=this.CLOSED,setTimeout(function(){tc.emit(a+"error",{errMsg:o})},0))}return ge(e,[{key:"send",value:function(e){var t=this;if(this.readyState===this.OPEN){var n=Date.now();Object(r.j)("operateSocketTask",p({},e,{operationType:"send",socketTaskId:Qs.get(this)}),{beforeAll:function(r){if(r.errMsg=r.errMsg.replace("operateSocketTask","sendSocketMessage"),.99<Math.random()){var o=Xs.get(t).url,i=-1<r.errMsg.indexOf("ok")?1:2,a=Date.now()-n,s=r.errMsg,c=Xs.get(t).__skipDomainCheck__,u=Ce(e.data);mo("sendSocketMessage",o,i,a,s,"",c,u)}}})}else Object(r.g)("SocketTask.send",e,"SocketTask.readState is not OPEN")}},{key:"close",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("operateSocketTask",p({code:1e3},e,{operationType:"close",socketTaskId:Qs.get(this)}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateSocketTask","closeSocket")}})}},{key:"onOpen",value:function(e){nc.call(this,"open",e)}},{key:"onClose",value:function(e){nc.call(this,"close",e)}},{key:"onMessage",value:function(e){nc.call(this,"message",e)}},{key:"onError",value:function(e){nc.call(this,"error",e)}}]),e}(),oc=new WeakMap,ic={};function ac(e,t){var n;return ic[t]||(ic[t]=new WeakMap,tc.on("onSocket"+t,(n=t,function(e,t){var r=t.__socketInstance__,o=ic[n].get(r),i=oc.get(r);o&&t===i&&Reporter.surroundThirdByTryCatch(o,"at onSocket"+n+" callback function")(e)}))),function(n){Object(r.e)("onSocket"+t,n,r.l)&&ic[t].set(e,n)}}var sc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e=p({__skipDomainCheck__:!1},e);var t={};return{connectSocket:function(n){if(Object(r.e)("connectSocket",n,{url:""}))if(!1!==Q(n.url,"websocket")){"object"!==P(n.header)&&void 0!==n.header&&delete n.header;var o={};n.header&&(o=Object(r.f)(n.header)),n.__skipDomainCheck__=e.__skipDomainCheck__;try{var i=oc.get(t),a=new rc(t,p({},n,{header:o}));return i&&i.readyState!==i.CLOSED?i.readyState:oc.set(t,a),a}catch(o){Object(r.g)("connectSocket",n,o.message)}}else Object(r.g)("request",n,'invalid url "'+n.url+'"')},closeSocket:function(e){var n=oc.get(t);for(var o in n&&n.readyState!==n.CLOSED?(n.readyState=n.CLOSED,n.close(e)):Object(r.g)("closeSocket",e,"WebSocket is not connected"),ec){var i=ec[o];i.__socketInstance__===t&&(i.readyState=i.CLOSED,i!==n&&i.close())}},sendSocketMessage:function(e){var n=oc.get(t);n&&n.readyState===n.OPEN?n.send(e):Object(r.g)("sendSocketMessage",e,"WebSocket is not connected")},onSocketOpen:ac(t,"Open"),onSocketClose:ac(t,"Close"),onSocketMessage:ac(t,"Message"),onSocketError:ac(t,"Error")}},cc=sc(),uc=function(){return sc({__skipDomainCheck__:!0})},lc={_operateWXData:Gn,_requestSkipCheckDomain:$s,_uploadFileSkipCheckDomain:Ks,_downloadFileSkipCheckDomain:Fo,_socketSkipCheckDomainFactory:uc},fc=(new WeakMap,new WeakMap,new we);Object(r.m)("onDownloadAppStateChange",function(e){var t=e.state,n=e.downloadId;switch(e.appId,delete e.state,delete e.downloadId,delete e.appId,t){case"download_succ":fc.emit(n+":progressUpdate",e),fc.emit(n+":success",e);break;case"download_failed":fc.emit(n+":fail",e);break;case"download_progress_changed":fc.emit(n+":progressUpdate",e)}"download_succ"!==t&&"download_failed"!==t||(fc.removeAllListeners(n+":success"),fc.removeAllListeners(n+":fail"),fc.removeAllListeners(n+":progressUpdate"))});var dc=function(e){Object(r.e)("saveFile",e,{tempFilePath:""})&&Object(r.j)("saveFile",e)},pc=function(){Object(r.j)("getSavedFileList",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},hc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("getSavedFileInfo",e,{filePath:""})&&Object(r.j)("getSavedFileInfo",e)},gc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("removeSavedFile",e,{filePath:""})&&Object(r.j)("removeSavedFile",e)},vc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("getFileInfo",e,{filePath:""})){if(void 0!==e.digestAlgorithm){var t=Object(r.d)(e,{digestAlgorithm:""});if(t)return void Object(r.g)("getFileInfo",e,"parameter error: "+t);if(-1===["md5","sha1"].indexOf(e.digestAlgorithm))return void Object(r.g)("getFileInfo",e,'parameter error: invalid digestAlgorithm "'+e.digestAlgorithm+'"')}Object(r.j)("getFileInfo",e,{})}},_c=function(e,t){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");if(t&&"string"!=typeof t)throw new Error("encoding must be a string");var n,o;if(Object(r.j)("readFileSync",{filePath:e,encoding:t,success:function(e){n=e.data},fail:function(e){o=e.errMsg}}),o)throw new Error(o);return n},yc=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],bc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("writeFile",e,{filePath:""})&&(e.encoding&&-1===yc.indexOf(e.encoding)?Object(r.g)("writeFile",e,'invalid encoding "'+e.encoding+'"'):Object(r.j)("writeFile",e,{}))},mc=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");if(Object(r.j)("mkdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},wc=V?"http://":"qqfile://",Sc=[];W.onReady(function(){Sc=function(){if(V)return[];try{var e=[];Object(r.a)("readdirSync",{dirPath:wc},function(t){t.files&&(e=t.files)});var t=new RegExp("^"+wc),n=new RegExp("^"+wc);return e.filter(function(e){return t.test(e)}).map(function(e){return n.test(e)?e:String(wc)+e})}catch(e){return[]}}()});var Cc=function(e,t){var n=Uo.get();e.files=e.files.filter(function(e){return new RegExp("^"+t).test(e)||(e=String(t)+e),-1===n.indexOf(e)&&-1===Sc.indexOf(e)})},Ec=function(e){if(!e||"string"!=typeof e)throw new TypeError("path must be a string");var t;if(Object(r.j)("accessSync",{path:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},Ic=function(e){if(!e||"string"!=typeof e)throw new Error("filePath must be a string");var t;if(Object(r.j)("unlink",{filePath:e,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},Oc=function(){function e(t){var n=t.mode,r=t.size,o=t.lastAccessedTime,i=t.lastModifiedTime;N(this,e),this.mode=n,this.size=r,this.lastAccessedTime=o,this.lastModifiedTime=i}return ge(e,[{key:"_checkModeProperty",value:function(e){return(61440&this.mode)===e}},{key:"isDirectory",value:function(){return this._checkModeProperty(16384)}},{key:"isFile",value:function(){return this._checkModeProperty(32768)}}]),e}(),Tc=function(e,t){var n=!0;if(["mode","size","lastAccessedTime","lastModifiedTime"].forEach(function(t){n=n&&void 0!==e[t]}),n)e.stats=new Oc(e),delete e.mode,delete e.size,delete e.lastAccessedTime,delete e.lastModifiedTime;else if(e.stats&&1===Object.keys(e.stats).length&&e.stats[""])e.stats=new Oc(e.stats[""]);else{var r=[],o=e.stats||e;o[""]||r.push({path:"/",stats:kc(t)}),Object.keys(o).forEach(function(e){if("errMsg"!==e){var t=o[e];""===e&&(e="/"),r.push({path:e,stats:new Oc(t)}),delete o[e]}}),e.stats=r}},kc=function(e){var t,n,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("path must be a string");if(Object(r.j)("statSync",{path:e,recursive:o,success:function(n){Tc(n,e),t=n.stats},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return t},Ac=function(e,t){if(!e||"string"!=typeof e)throw new Error("oldPath must be a string");if(!t||"string"!=typeof t)throw new Error("newPath must be a string");var n;if(Object(r.j)("fs_renameSync",{oldPath:e,newPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},xc=["ascii","base64","binary","hex","ucs2","ucs-2","utf16le","utf-16le","utf8","utf-8","latin1"],Pc=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("appendFile",e,{filePath:""})&&(e.encoding&&-1===xc.indexOf(e.encoding)?Object(r.g)("appendFile",e,'invalid encoding "'+e.encoding+'"'):Object(r.j)("fs_appendFile",e,{}))},Dc={saveFile:dc,saveFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("tempFilePath must be a string");if(void 0!==t&&"string"!=typeof t)throw new Error("filePath must be a string");var n,o;if(Object(r.j)("saveFileSync",{tempFilePath:e,filePath:t,success:function(e){o=e.savedFilePath},fail:function(e){n=e.errMsg}}),n)throw new Error(n);return o},getSavedFileList:pc,getSavedFileInfo:hc,removeSavedFile:gc,getFileInfo:vc,readFile:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("readFile",e,{filePath:""})&&Object(r.j)("readFile",e)},readFileSync:_c,writeFile:bc,writeFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===yc.indexOf(n))throw new Error('invalid encoding "'+n+'"');var o;if(Object(r.j)("writeFileSync",{filePath:e,data:t,encoding:n,fail:function(e){o=e.errMsg}}),o)throw new Error(o)},mkdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("mkdir",e,{dirPath:""})&&Object(r.j)("mkdir",e)},mkdirSync:mc,rmdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("rmdir",e,{dirPath:""})&&Object(r.j)("rmdir",e)},rmdirSync:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!e||"string"!=typeof e)throw new Error("dirPath must be a string");if(Object(r.j)("rmdirSync",{dirPath:e,recursive:n,fail:function(e){t=e.errMsg}}),t)throw new Error(t)},readdir:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("readdir",e,{dirPath:""})&&Object(r.j)("readdir",e,{beforeSuccess:function(t){Cc(t,e.dirPath)}})},readdirSync:function(e){if(!e||"string"!=typeof e)throw new TypeError("dirPath must be a string");var t,n;if(Object(r.j)("readdirSync",{dirPath:e,success:function(e){t=e.files},fail:function(e){n=e.errMsg}},{beforeSuccess:function(t){Cc(t,e)}}),n)throw new Error(n);return t},access:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("access",e,{path:""})&&Object(r.j)("access",e)},accessSync:Ec,unlink:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("unlink",e,{filePath:""})&&Object(r.j)("unlink",e)},unlinkSync:Ic,stat:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("stat",e,{path:""})&&Object(r.j)("stat",e,{beforeSuccess:function(t){Tc(t,e.path)}})},statSync:kc,unzip:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("unzip",e,{zipFilePath:"",targetPath:""})&&Object(r.j)("unzip",p({},e,{targetDirectory:e.targetPath}))},copyFile:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("copyFile",e,{srcPath:"",destPath:""})&&Object(r.j)("fs_copyFile",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},copyFileSync:function(e,t){if(!e||"string"!=typeof e)throw new Error("srcPath must be a string");if(!t||"string"!=typeof t)throw new Error("destPath must be a string");var n;if(Object(r.j)("fs_copyFileSync",{srcPath:e,destPath:t,fail:function(e){n=e.errMsg.replace(/^fs_/,"")}}),n)throw new Error(n)},rename:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("rename",e,{oldPath:"",newPath:""})&&Object(r.j)("fs_rename",e,{beforeAll:function(e){e.errMsg=e.errMsg.replace(/^fs_/,"")}})},renameSync:Ac,appendFile:Pc,appendFileSync:function(e,t,n){if(!e||"string"!=typeof e)throw new Error("path must be a string");if(n&&-1===xc.indexOf(n))throw new Error('invalid encoding "'+n+'"');var o;if(Object(r.j)("fs_appendFileSync",{filePath:e,data:t,encoding:n,fail:function(e){o=e.errMsg}}),o)throw new Error(o)}},Nc=void 0,jc=function(e){return Array.isArray(e)?e.filter(function(e){return"string"==typeof e&&!e.startsWith("__plugins__")}):[]},Rc={setStorage:function(e){if(Object(r.e)("setStorage",e,{key:""}))try{var t=z(e.data),n=t.data,o=t.dataType;Object(r.j)("setStorage",{key:e.key,data:n,dataType:o,success:e.success,fail:e.fail,complete:e.complete})}catch(t){"function"==typeof e.fail&&e.fail({errMsg:"setStorage:fail "+t.message}),"function"==typeof e.complete&&e.complete({errMsg:"setStorage:fail "+t.message})}},setStorageSync:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(Object(r.e)("setStorage",e,"")){var n=z(t),o=n.data,i=n.dataType,a=!1,s="";if(Object(r.j)("setStorageSync",{key:e,data:o,dataType:i,fail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a=!0,s=e.errMsg}}),a)throw new te(s)}},getStorage:function(e){Object(r.e)("getStorage",e,{key:""})&&Object(r.j)("getStorage",e,{beforeSuccess:function(e){e.data=K(e.data,e.dataType),delete e.dataType},afterFail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&0<e.errMsg.indexOf("data not found"))return!1}})},getStorageSync:function(e){var t;if(Object(r.e)("getStorageSync",e,""))return Object(r.j)("getStorageSync",{key:e},{beforeAll:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t=K(e.data,e.dataType)},afterFail:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.errMsg&&0<e.errMsg.indexOf("data not found"))return!1}}),t},getStorageInfo:function(e){Object(r.j)("getStorageInfo",e,{beforeAll:function(e){e.keys=jc(e.keys)}})},getStorageInfoSync:function(){var e;return Object(r.j)("getStorageInfoSync",{},{beforeAll:function(t){(e=t).keys=jc(t.keys),delete t.errMsg}}),e},removeStorage:function(e){Object(r.e)("removeStorage",e,{key:""})&&Object(r.j)("removeStorage",e)},removeStorageSync:function(e){Object(r.e)("removeStorageSync",e,"")&&Object(r.j)("removeStorageSync",{key:e})},clearStorage:function(e){Object(r.j)("clearStorage",e)},clearStorageSync:function(){Object(r.j)("clearStorageSync")}},Mc={};["setStorage","getStorage","getStorageInfo","removeStorage","clearStorage"].forEach(function(e){Mc[e]=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!t.key||!t.key.toString().startsWith("__plugins__"))return Rc[String(e)](t);Object(r.g)(e,t,'invalid key "'+t.key+'"')},Mc[e+"Sync"]=function(t){var n;if(!t||!t.toString().startsWith("__plugins__")){for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=Rc[e+"Sync"]).call.apply(n,[Nc,t].concat(o))}};var t="plugin_"+e;Mc[t]=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return t.key&&(t.key="__plugins__/"+t.key),Rc[String(e)](t)},Mc[t+"Sync"]=function(t){var n;t&&(t="__plugins__/"+t);for(var r=arguments.length,o=new Array(1<r?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return(n=Rc[e+"Sync"]).call.apply(n,[Nc,t].concat(o))}});var Bc,Lc,Fc,Uc=Mc,Wc=n(14),qc=n(15),Vc=function(e,t,n){if(!t)return[];var r=Object.keys(n),o=r.indexOf(t);if(-1===o)return[];var i=n[r[o]];return Object.keys(i).filter(function(t){return function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var r=0;r<n;r++){var o=parseInt(e[r]),i=parseInt(t[r]);if(i<o)return 1;if(o<i)return-1}return 0}(t,e)<=0})},$c=function(e,t,n){for(var r=void 0,o=0;o<e.length;o++)for(var i=t[e[o]],a=0;a<i.length;a++){var s=i[a];if("string"==typeof s&&s===n){void 0===r&&(r=[]);break}if("object"===P(s)&&s.hasOwnProperty(n)){r=void 0===r?s[n]:r.concat(s[n]);break}}return r},Gc=function(e,t){for(var n=0;n<e.length;n++){if("string"==typeof e[n]&&e[n]===t)return[];if("object"===P(e[n])&&e[n].hasOwnProperty(t))return e[n][t]}},Hc=Ie("removeUserCloudStorage","webapi_removeselfuserstorage",{},{},function(e){return{key:e.keyList}},function(e){return delete e.rawData,e}),zc=Ie("setUserCloudStorage","webapi_setselfuserstorage",{},{},function(e){var t=e.KVDataList;return{kv_list:void 0===t?[]:t}},function(e){return delete e.rawData,e}),Kc=!1,Yc=[],Jc=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!t.webviewId||!t.data){console.error("invalid arguments");var n={errMsg:"sendDataToH5: arguments data or webviewId cannot be null"};return"function"==typeof t.fail&&t.fail(n),void("function"==typeof t.complete&&t.complete(n))}"object"===P(t.data)&&(t.data=JSON.stringify(t.data)),Kc?Yc.push(t):(Kc=!0,Object(r.j)("sendDataToH5",t,{afterAll:function(){if(Kc=!1,Yc.length){var t=Yc.shift();e(t)}}}))},Qc=!1,Xc=[];function Zc(e){for(var t=0;t<Xc.length;t++)Xc[t](e)}var eu=function(e){"function"==typeof e&&(Xc.push(function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};t.webviewId&&t.data?("string"==typeof t.data&&(t.data=JSON.parse(t.data)),e(t)):console.error("invalid arguments in onH5Data callback")}),Qc||(Object(r.m)("onH5Data",Zc),Qc=!0))},tu={openDeliveryList:function(){Object(r.j)("openDeliveryList",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{})},openUrl:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!0!==le.openUrlLock)if(e.url=e.url||"",Q(e.url))le.openUrlLock=!0,Object(r.j)("openUrl",e,{afterAll:function(){le.openUrlLock=!1}});else{console.error("invalid url",e.url);var t={errMsg:'openUrl: invalid url "'+e.url+'"'};"function"==typeof e.fail&&e.fail(t),"function"==typeof e.complete&&e.complete(t)}},sendDataToH5:Jc,onH5Data:eu},nu="undefined"!=typeof __initHelper&&1===__initHelper,ru=function(e){try{return Ec.apply(this,arguments),{errMsg:"accessSync:ok"}}catch(e){return{errMsg:e.message}}},ou=function(){try{return Ac.apply(this,arguments)}catch(e){return{errMsg:e.message}}},iu=function(){try{return{stat:kc.apply(this,arguments),errMsg:"statSync:ok"}}catch(e){return{errMsg:e.message}}},au=function(e){var t,n;"string"!=typeof e&&(e=String(e));var r=0;for(t=0;t<e.length;t++)(n=e.charCodeAt(t))<127?r+=1:128<=n&&n<=2047?r+=2:2048<=n&&n<=65535&&(r+=3);return r},su=!1,cu=2e3,uu=1,lu=[],fu={lastLogNum:1,lastLogSize:0},du=!1,pu=!1,hu=!1,gu={},vu=function(e){return Lc+"log"+e},_u=H(function(e){return 0<=ru(e).errMsg.indexOf("accessSync:ok")}),yu=H(function(e){var t=ru(e).errMsg;return 0<=t.indexOf("fail")&&(0<=t.indexOf("access denied")||0<=t.indexOf("no permission"))}),bu=H(function(){if(!nu&&su&&!du){if(Bc=W&&"devtools"===W.platform,Lc=(W&&W.env&&W.env.USER_DATA_PATH||(Bc?"http://usr":"qqfile://usr"))+"/miniprogramLog/",!_u(Lc))return function(){try{mc.apply(this,arguments)}catch(e){return e.message}}(Lc),du=!0,void(hu=yu(Lc));if(!(hu=yu(Lc))){for(var e=1;e<=5&&_u(vu(e));)gu[e]=!0,fu.lastLogNum=e,e++;var t=iu(vu(fu.lastLogNum));t.stat&&(fu.lastLogSize=t.stat.size),du=!0}}}),mu=H(function(){if(!nu&&!hu&&lu.length&&!pu){for(var e=[],t=0,n=0;n<lu.length;n++){var r=au(lu[n]);if(102400<r)console.warn("[qq.log warn] each log size exceed 100KB will be discard.");else{if(102400<t+r)break;t+=r,e.push(lu[n])}}if(e.length){if(1048576<fu.lastLogSize+t){if(6<=fu.lastLogNum+1)return pu=!0,void setTimeout(function(){!function(){try{Ic.apply(this,arguments)}catch(e){return e.message}}(vu(1));for(var e=2;e<=5;e++)ou(vu(e),vu(e-1));fu.lastLogNum=5,gu[fu.lastLogNum]=!1,fu.lastLogSize=0,pu=!1},50);fu.lastLogNum++,fu.lastLogSize=0}n==lu.length?lu=[]:lu.splice(0,n),gu[fu.lastLogNum]||_u(vu(fu.lastLogNum))?Pc({filePath:vu(fu.lastLogNum),data:(fu.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log appendFile err "+e.errMsg)},success:function(e){}}):bc({filePath:vu(fu.lastLogNum),data:(fu.lastLogSize?"\n":"")+e.join("\n"),encoding:"utf8",fail:function(e){console.log("log writeFile err "+e.errMsg)}}),fu.lastLogSize+=t}}});function wu(){Fc&&clearTimeout(Fc),Fc=setTimeout(function(){mu(),Fc=null,wu()},cu)}var Su={logApiInvoke:!0};function Cu(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return"number"==typeof e.level&&(Su.level=e.level),Su.level===uu?Su.logApiInvoke=!1:0===Su.level&&(Su.logApiInvoke=!0),Su}["info","debug","log","warn"].forEach(function(e){Su[e]=function(){if(!nu&&!hu&&su&&arguments.length&&(bu(),fu)){for(var t,n=[],r=0;r<arguments.length;r++)"number"==typeof arguments[r]||"string"==typeof arguments[r]?n.push(arguments[r]):n.push(JSON.stringify(arguments[r]));n.splice(0,0,(t=new Date).getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),"["+e+"]"),lu.push(n.join(" "))}}}),Su._getUserLog=function(){for(var e={},t=1;t<=5;t++)e["log"+t]=iu(vu(t));return e},W.onReady(function(){nu||(su=!0,bu(),H(wu)())}),Ct(function(){nu||mu()});var Eu,Iu=H(Jc),Ou=H(eu);nu||Ou(function(e){e.data&&"uploadUserLog"===e.data.type&&function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!t.index||t.index>fu.lastLogNum)t.complete&&t.complete();else{var n=function(){try{return{data:_c.apply(this,arguments),errMsg:"readFileSync:ok"}}catch(e){return{errMsg:e.message}}}(vu(t.index),"utf8");0<=n.errMsg.indexOf("readFileSync:ok")&&n.data?Iu({webviewId:t.webviewId,data:{type:"uploadUserLogContent",content:n.data,index:t.index,total:fu.lastLogNum},success:function(){Iu({webviewId:t.webviewId,data:{type:"uploadUserLogProgress",progress:parseFloat(t.index/fu.lastLogNum)}}),t.index++,e(t)},fail:function(n){t.retry?Iu({webviewId:t.webviewId,data:{type:"uploadUserLogError",errMsg:n&&n.errMsg,index:t.index}}):(t.retry=!0,e(t))}}):Iu({webviewId:t.webviewId,data:{type:"uploadUserLogError",errMsg:n.errMsg,index:t.index}})}}({index:1,webviewId:e.webviewId})});var Tu=[];Object(r.m)("onMemoryWarningReceive",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};$&&e.level<10||(Tu.length?Tu.forEach(function(t){"function"==typeof t&&t(e)}):"function"==typeof Eu&&Eu(e))});var ku,Au=new we;Object(r.m)("onUpdateStatusChange",function(e){var t=(e.state||"").toLowerCase();delete e.state,Au.emit(t,e)});var xu=[];Au.on("updating",function(){ku={hasUpdate:!0},Du()}),Au.on("noupdate",function(){ku={hasUpdate:!1},Du()});var Pu,Du=function(){xu.forEach(function(e){"function"==typeof e&&e(ku)}),xu.length=0},Nu=[],ju=!1,Ru=!1;Au.on("updateready",function(){ju=!0,Mu()});var Mu=function(){Nu.forEach(function(e){"function"==typeof e&&e()}),Nu.length=0},Bu=[];Au.on("updatefailed",function(){Pu={},Lu()});var Lu=function(){Bu.forEach(function(e){"function"==typeof e&&e(Pu)}),Bu.length=0},Fu={onCheckForUpdate:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onCheckForUpdate callback function"),ku?"function"==typeof e&&e(ku):xu.push(e)},onUpdateReady:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),ju?"function"==typeof e&&e():Nu.push(e)},onUpdateFailed:function(e){e=Reporter.surroundThirdByTryCatch(e,"at onUpdateReady callback function"),Pu?"function"==typeof e&&e(Pu):Bu.push(e)},applyUpdate:function(e){ju&&Ru?Object(r.c)("applyUpdate",e,!1,"applyUpdate has been called"):ju?(Ru=!0,Object(r.j)("updateApp",e)):Object(r.c)("applyUpdate",e,!1,"update is not ready")}};function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){de(e,t,n[t])})}return e}var Wu=0,qu=function(e){Date.now()>Wu&&(Ra({title:"",content:e,confirmText:"确定",showCancel:!1},50),Wu=Date.now()+6e4)},Vu={2:"插件版本过低，无法提供服务"},$u=function(e,t,n){if(!Ta.pluginInfos)return null;var r=Ta.pluginInfos[e];if(!r)return null;var o=r.runningFlag,i=r.banning||{},a=Vu[o];return o||i[t]?{all:o,detail:i[t],hint:i.hint||a||n||"由于小程序违规，该服务暂时无法使用"}:null};Ta.emitter.on("pluginInfoFetchDone",function(){if(void 0!==__virtualDOM__&&__virtualDOM__.initBannedMap){var e={},t=Ta.pluginInfos;for(var n in t)e[n]=$u(n,"components");__virtualDOM__.initBannedMap(e)}});var Gu={request:$s,uploadFile:Ks,downloadFile:Fo,connectSocket:uc().connectSocket},Hu={request:"_requestSkipCheckDomain",uploadFile:"_uploadFileSkipCheckDomain",downloadFile:"_downloadFileSkipCheckDomain"},zu={request:Ws,uploadFile:Gs,downloadFile:Mo,connectSocket:rc},Ku=n(9),Yu=function(e){return Ta.pluginIDs[e.__puid__]},Ju=function(e){return Ta.pluginVersions[e.__puid__]},Qu=function(e){var t=Yu(e);if(void 0!==t)return Ta.pluginInfos[t]},Xu=[],Zu=[],el=new WeakMap,tl=new WeakMap,nl=new WeakMap,rl=new WeakMap,ol=function e(t,n,r,o){N(this,e),el.set(this,t),tl.set(this,n),nl.set(this,r),o&&rl.set(this,o),al.call(this),this.__pendingTask__=!0},il=function(e){var t=[];for(e=e.__proto__;t=ts(t).concat(ts(Object.getOwnPropertyNames(e))),(e=e.__proto__).constructor!==Object;);return t},al=function(){var e=this;il(this).forEach(function(t){"function"==typeof e.__proto__[t]&&"constructor"!==t&&(e[t]=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];Zu.push({args:r,method:t,item:e})})})},sl=function(e,t,n,r){ol.prototype=zu[t].prototype;var o=new ol(e,t,n,r);return Xu.push(o),o},cl=n(9),ul={},ll=!1,fl=function(e,t){var n=$u(e,"domains");if(!n)return!1;if(!n.all){for(var r=n.detail,o=cl.parse(t||""),i=!1,a=0;a<r.length;a++){var s=cl.parse(r[a]||"");if(o.protocol===s.protocol&&o.hostname===s.hostname&&o.port===s.port){i=!0;break}}if(!i)return!1}return qu(n.hint),!0};Object.keys(Gu).forEach(function(e){var t;ul[e]=(t=e,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=Qu(this);if(!ll||!n)return sl(this,t,e);if(function(e,t){if(void 0===t||void 0===e)return!1;for(var n=Ku.parse(e||""),r=0;r<t.length;r++){var o=t[r]||"",i=Ku.parse(o);if(i.protocol===n.protocol&&i.hostname===n.hostname&&i.port===n.port)return!0}return!1}(e.url,n.domains[t])){if(!fl(Yu(this),e.url))return function(e,t){var n=t.header||{},r=e.hostSign||{};n["X-WECHAT-HOSTSIGN"]=JSON.stringify(r),t.header=n}(n,e),Gu[t](e);var o='url "'+e.url+'" is temporarily rejected.';Object(r.g)(t,e,o)}else{var i='url "'+e.url+"\" not in plugin's domain list.";Object(r.g)(t,e,i)}})});var dl=function(e){return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=Qu(this);if(!ll||!n)return sl(this,e,t,pl[Hu[e]]);if(!fl(Yu(this),t.url))return Gu[e](t);var o='url "'+t.url+'" is temporarily rejected.';Object(r.g)(e,t,o)}},pl={};for(var hl in Hu)pl[Hu[hl]]=dl(hl);Ta.emitter.on("pluginInfoFetchDone",function(){ll=!0,Xu.forEach(function(e){(function(){var e,t=el.get(this),n=tl.get(this),r=nl.get(this),o=rl.get(this);if(void 0!==Qu(t))try{e=o?o.call(t,r):t[n].call(t,r)}catch(e){}null!=e&&function(e){var t=this;null!=e&&il(this).forEach(function(n){"function"==typeof t.__proto__[n]&&"constructor"!==n&&(t[n]=function(){return e[n].apply(e,arguments)})})}.call(this,e),el.delete(this),tl.delete(this),nl.delete(this),rl.delete(this)}).call(e)}),Zu.forEach(function(e){e.item[e.method].apply(e.item,e.args)}),Xu.length=0,Zu.length=0});var gl=ul,vl=new WeakMap,_l=function(e,t){var n=this,o=function(o){var i=e[o];if("function"==typeof i){var a=n;n[o]=function(e){var n,s;if(Ae(o,t)&&(n=o,!(s=$u(t,"apis"))||!s.all&&s.detail.indexOf(n)<0||(qu(s.hint),0)))return i.apply(a,arguments);if("Sync"===o.slice(-4))throw new te(o+":fail rejected due to no permission currently in plugin");e&&e.fail&&setTimeout(function(){Object(r.g)(o,e,"rejected due to no permission currently in plugin")},0)}}else n[o]=e[o]};for(var i in e)o(i)},yl=function(){function e(t,n,o){N(this,e),this.__puid__=Object(r.i)();var i=function(e,t,n,r){var o=Uu({},pl,{_operateWXData:t.operateWXData});for(var i in o)o[i]=o[i].bind(e);return Uu({},t,{cloud:__cloudSDK__.getCloudAPI({sdk:o,identifiers:{pluginId:n,pluginVersion:r}})})}(this,t,Ta.pluginIDs[this.__puid__]=n,Ta.pluginVersions[this.__puid__]=o);_l.call(this,i,n),function(e){for(var t in W.plugins){var n=W.plugins[t];n.provider===e&&vl.set(this,n.version)}}.call(this,n)}return ge(e,[{key:"getPluginVersion",value:function(){return vl.get(this)}}]),e}(),bl={},ml=function(e,t){var n=(e=e.replace("plugin_","")).endsWith("Sync");bl[e]=function(e){var r=Yu(this);if(n){e&&(e=r+"/"+e);for(var o=arguments.length,i=new Array(1<o?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];return t.apply(void 0,[e].concat(i))}return e.key&&(e.key=r+"/"+e.key),t(e)}};for(var wl in Uc)wl.startsWith("plugin_")&&ml(wl,Uc[wl]);var Sl=bl,Cl={createInnerAudioContext:Ri};["createAudioContext","createCameraContext","createMapContext","createVideoContext","createLivePlayerContext","createLivePusherContext"].forEach(function(e){Cl[e]=function(t,n){var r=Yu(this),o=Ju(this),i=n&&n.__wxExparserNodeId__?n.__wxExparserNodeId__:"";return zh[e].call(this,t,le.currentWebviewId,i,r+"/"+o)}});var El=Cl,Il={},Ol=[];for(var Tl in Hh)Tl.endsWith("4Plugin")&&Ol.push(Tl);Ol.forEach(function(e){var t=e.replace("4Plugin","");Il[t]=function(t,n){var r=Yu(this),o=Ju(this),i=n&&n.__wxExparserNodeId__?n.__wxExparserNodeId__:"";return Hh[e].call(this,t,r+"/"+o,i)}});var kl,Al=Il,xl={};function Pl(e,t){var n=Yu(this);V?t(!0):xl[n]&&null!==xl[n][e]?t(!!xl[n][e]):function(e,t){var n,r="";if(e===ut&&(r="setCookies"),e===lt&&(r="getCookies"),r){var o=Yu(this);xl[o]=xl[o]||(de(n={},ut,null),de(n,lt,null),n),it("getPluginPermissionBytes",{pluginId:o,apiName:r},void 0,function(n){xl[o][e]=!(1!==n.bytes[0]),t()})}}.call(this,e,function(){return t(!!xl[n][e])})}var Dl=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length?arguments[1]:void 0;return Vn(e,t,!0),function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0],Yu(this)}},Nl=Dl(!0,"login"),jl=Dl(!0,"getUserInfo"),Rl=Ta.emitter,Ml=Ta.pluginInfos,Bl=(de(kl={},1,!1),de(kl,3,!1),kl),Ll=0,Fl=0,Ul=[1,1,2],Wl=!1,ql=!1;xa()||(Bl[2]=!1);var Vl=function(e){Bl[e]=!0,Object.keys(Bl).reduce(function(e,t){return e&&Bl[t]},!0)&&!Wl&&(Rl.emit("pluginInfoFetchDone"),Wl=!0)},$l=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).fromTimer,t=void 0!==e&&e,o=[];for(var i in Ml){var a=Ml[i];o.push({provider:i,inner_version:a.version})}0!==o.length&&(Object(r.j)("verifyPlugin",{data:{plugins:o},success:function(e){var t=e.data;if(void 0!==t){if("string"==typeof t)try{t=JSON.parse(t)}catch(e){}!function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.plugin_id,o=ka[r];if(!o)return;o.banning=n.banning,o.runningFlag=n.running_flag_info,o.hostSign={noncestr:n.noncestr||"",timestamp:n.timestamp||"",signature:n.host_sign||""},xa()&&(o.domains={request:n.request_domain||[],uploadFile:n.upload_domain||[],downloadFile:n.download_domain||[],connectSocket:n.wsrequest_domain||[]})}}(Array.isArray(t.list)?t.list:[]),t.list,Vl(3),Gl()}else console.error("[PluginSDK] Plugin data from backend is not available.")},fail:function(e){var r;console.error("[PluginSDK] invokeVerifyPlugin failed: "+e.errMsg),t||(r=Fl<Ul.length?Ul[Fl]:(Bl[3]||Vl(3),30),setTimeout(n(23),1e3*r),Fl++)},complete:function(){}}),t||setTimeout(function(){Vl(3)},12e4))},Gl=function(){ql||(setInterval(function(){$l({fromTimer:!0})},6e5),ql=!0)},Hl=Ji.captureScreen,zl=Ji.onUserCaptureScreen,Kl=Ji.setKeepScreenOn,Yl=Ji.setScreenBrightness,Jl=Ji.getScreenBrightness,Ql=Qi.vibrateShort,Xl=Qi.vibrateLong,Zl=Vo.chooseImage,ef=Vo.previewImage,tf=Vo._getImageInfoWithDownloadFile,nf=Vo.saveImageToPhotosAlbum,rf=ei.startRecord,of=ei.stopRecord,af=ei.getRecorderManager,sf=$o.chooseVideo,cf=$o.saveVideoToPhotosAlbum,uf=Yo.playVoice,lf=Yo.pauseVoice,ff=Yo.stopVoice,df=Xi.addPhoneContact,pf=ui.getBackgroundAudioPlayerState,hf=ui.playBackgroundAudio,gf=ui.pauseBackgroundAudio,vf=ui.seekBackgroundAudio,_f=ui.stopBackgroundAudio,yf=ui.onBackgroundAudioPlay,bf=ui.onBackgroundAudioPause,mf=ui.onBackgroundAudioStop,wf=Fa.hideToast,Sf=Fa.showLoading,Cf=Fa.hideLoading,Ef=Fa.showModal,If=Fa.showActionSheet,Of=Wa.setNavigationBarTitle,Tf=Wa.showNavigationBarLoading,kf=Wa.hideNavigationBarLoading,Af=Wa.setNavigationBarColor,xf=Wa.setNavigationBarAlpha,Pf=Wa.setNavigationBarRightButton,Df=Wa.onTapNavigationBarRightButton,Nf=$a.navigateTo,jf=$a.redirectTo,Rf=$a.navigateBack,Mf=$a.switchTab,Bf=$a.reLaunch;W.onReady(function(){!function(){if(W.appContactInfo&&W.appContactInfo.call_plugin_info)for(var e=W.appContactInfo.call_plugin_info,t=0;t<e.length;t++){var n=e[t],r=n.plugin_id;Ml[r]=Pa({version:n.inner_version,customVersion:n.plugin_version||""})}else if(W.plugins)for(var o in W.plugins){var i=W.plugins[o],a=i.provider;Ml[a]=Pa({version:0,customVersion:i.version||""})}Vl(1)}(),xa()||function e(t){var n=[],o={};for(var i in Ml)n.push(i),o[i]=Ml[i].customVersion;0!==n.length&&(Object(r.j)("batchGetContact",{appIds:n,success:function(n){if(function(e){if(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.appId;if(void 0===n.appId||void 0===n.plugin_list)return;if(!n.plugin_list[0]||!ka[r])return;var o=n.plugin_list[0].PluginNetWork||{},i=n.plugin_list[0].last_version||{};ka[r].domains={request:o.RequestDomain||[],uploadFile:o.UploadDomain||[],downloadFile:o.DownloadDomain||[],connectSocket:o.WsRequestDomain||[]},ka[r].latestCustomVersion=(a=i.custom_version,(s=String(a).split(".",3)).length<3?-1:Number(1e3*s[0]*1e3+1e3*s[1]+Number(s[2])))}var a,s;ha=e,Aa.forEach(function(e){e(ha)})}}(n.contactList),0<t){var r=!1;if(!r){var i=0;for(var a in Ml){if(0<=Ml[a].latestCustomVersion&&o[a]>Ml[a].latestCustomVersion){o[a],Ml[a].latestCustomVersion,r=!0;break}for(var s in Ml[a].domains)Ml[a].domains[s]&&(i+=Ml[a].domains[s].length)}r||i||(r=!0)}if(r)return void setTimeout(function(){e(t-1)},1e3)}Vl(2)},fail:function(t){console.error("[PluginSDK] batchGetContact failed: "+t.errMsg),Ll<1?(setTimeout(e,0),Ll++):Vl(2)}}),setTimeout(function(){Vl(2)},12e4))}(5),$l()});var Lf=Ta.pluginInfos,Ff={};W.onReady(function(){"object"===P(W.env)&&_extends(Ff,W.env)});var Uf=Ff,Wf=[],qf={add:function(e){e&&Wf.indexOf(e)<0&&Wf.push(e)},remove:function(e){var t=Wf.indexOf(e);0<=t&&Wf.splice(t,1)},get size(){return Wf.length}},Vf=new WeakMap,$f=new WeakMap,Gf={};__safeway__.worker.onWorkerMsg(function(e,t){var n,r=Gf[e],o=$f.get(r);if(t.__log__&&t.logs)return n=t,void console[n.level].apply(console,n.logs);r&&"function"==typeof o&&o(t)});var Hf,zf,Kf=function(){function e(t,n){N(this,e),Vf.set(this,t),Gf[t]=this,function(e){this.postMessage({__cmd__:"requireScript",__script__:e})}.call(this,n),qf.add(this)}return ge(e,[{key:"postMessage",value:function(e){var t=Vf.get(this);__safeway__.worker.postMsgToWorker(t,e)}},{key:"onMessage",value:function(e){$f.set(this,e)}},{key:"terminate",value:function(){var e=Vf.get(this);__safeway__.worker.terminate(e),qf.remove(this),Vf.delete(this),$f.delete(this),delete Gf[e]}}]),e}(),Yf=1;W.onReady(function(){try{"number"==typeof W.wxAppInfo.maxWorkerConcurrent&&(Yf=W.wxAppInfo.maxWorkerConcurrent)}catch(e){}});var Jf=["app-service.js","game.js","subContext.js"],Qf=function(e,t,n){for(var r in t){if("exportToAppServiceSDK"===r)return;e[r]=t[r]}["onPageReload"].forEach(function(r){t[r]&&(e[r]=function(e){t[r].call(n,e)})})};function Xf(){if(!zf)throw new Error("getLaunchOptionsSync:fail get launch options");return zf||{}}Object(r.o)("getLaunchInfo",function(e){var t=e.callbackId;Object(r.n)("launchInfoGot",{data:{info:We.appLaunchInfo,sceneHistory:We.sceneHistory,appId:We.appId},callbackId:t})}),W.onReady(function(){var e=W.appLaunchInfo||{};We.appLaunchInfo=e,We.appLaunchShareInfo=e.shareInfo,zf=qe(e,!0),Hf=Ve(zf),zf.__public=Hf});var Zf=Ke("AppShow"),ed=Zf.onMethod,td=Zf.offMethod,nd=Zf.internalOnMethod;Xe(function(e){Zf.emitInternal(e),Zf.emitGlobal(e.__public)}),An(function e(t){if("appLaunch"===t.openType){var n=Xf();Zf.emitInternal(n),Zf.emitGlobal(n.__public),xn(e)}});var rd=Ke("AppHide"),od=rd.onMethod,id=rd.offMethod,ad=rd.internalOnMethod;Ct(function(e){rd.emitInternal(e),rd.emitGlobal()});var sd=Ke("AppUnhang"),cd=sd.internalOnMethod,ud=sd.onMethod;Object(r.m)("onAppUnhang",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};sd.emit(e)}),le.appStatus=0,le.hanged=!1,nd(function(e){Date.now()}),ad(function(e){Date.now()}),Xe(function(){le.appStatus=0}),Ct(function(e){"hide"===e.mode?le.appStatus=2:le.appStatus=1,"close"===e.mode?le.hanged=!1:"hang"===e.mode&&(le.hanged=!0)}),ud(function(){le.hanged=!1});var ld=Ke("AppRunningStatusChange");ld.internalOnMethod,Object(r.m)("onAppRunningStatusChange",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};le.runningStatus=e.status,ld.emit(e)});var fd=Ke("AppService-Error"),dd=fd.onMethod,pd=fd.offMethod;Reporter.registerErrorListener(function(e){fd.emit(e)});var hd=Ke("PageNotFound"),gd=hd.onMethod,vd=hd.offMethod,_d={page:void 0,time:Date.now(),count:0};Object(r.m)("onPageNotFound",function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(le.lastRoute="",e&&"string"==typeof e.path&&e.path.endsWith(".html")&&(e.path=ee(e.path)),e&&"string"==typeof e.query&&(e.query=function(e){for(var t={},n=e.split("&"),r=0;r<n.length;r++){var o=n[r].split("=");if(1<o.length)try{t[o[0]]=decodeURIComponent(o[1])}catch(e){}}return t}(e.query)),/^[-_+a-z]+:\/\//i.test(e.rawPath))return va({url:e.rawPath.replace(/\.html(\?|$)/i,function(e){return e.slice(5)})}),void Object(r.j)("pageNotFoundCallback",{hasHandler:!0,webviewId:t});_d.page&&_d.page===e.path?_d.count++:_d={page:e.path,time:Date.now(),count:1};var n=!0;Date.now()-_d.time<=3e3&&3<_d.count?(n=!1,console.error('onPageNotFound Error: Can not find page "'+e.page+'".')):hd.emit(e),Object(r.j)("pageNotFoundCallback",{hasHandler:0<hd.getGlobalListeners().length&&n,webviewId:t})});var yd,bd=cd,md=gd,wd=Xe,Sd=Ct,Cd=nd,Ed=ad,Id=dd,Od=Xf,Td=$a._triggerBeforeUnloadPage,kd=$a._triggerBeforeShareAppMessage,Ad=An,xd=Dt,Pd=za.onWebviewEvent,Dd=new we;Object(r.m)("onLoadSubPackageTaskStateChange",function(e){Dd.emit(e.state,e.taskId,e)});var Nd={},jd=new WeakMap,Rd=new WeakMap,Md=new WeakMap,Bd=(new we,[]),Ld=[],Fd=function(e){return Nd[e]},Ud=function(e){var t=p({},e);return delete t.taskId,delete t.state,delete t.moduleName,t};Dd.on("success",function(e,t){yd=void 0;var n=Fd(e);if(delete Nd[e],n){var r=t.moduleName,o=Rd.get(n),i=Ud(t);Ld.push(r),function(e){"string"!=typeof e&&console.error("SubContext onSubPackageReady error: moduleName is empty"),e.endsWith(".js")||(e.endsWith("/")||(e+="/"),e+="game.js"),V||4!==W.appType||__subContextEngine__.getGameContext().evaluateScriptFile(e)}(r),i.errMsg="loadSubpackage:ok","function"==typeof o.success&&o.success(i),"function"==typeof o.complete&&o.complete(i)}Wd()}),Dd.on("fail",function(e,t){yd=void 0;var n=Fd(e);if(delete Nd[e],n){var r=Rd.get(n),o=Ud(t);o.errMsg="loadSubpackage:fail module not found","function"==typeof r.fail&&r.fail(o),"function"==typeof r.complete&&r.complete(o)}Wd()}),Dd.on("progressUpdate",function(e,t){var n=Fd(e);if(n){var r=Md.get(n),o=Ud(t);"function"==typeof r&&r(o)}});var Wd=function(){var e=Bd.shift();e&&setTimeout(function(){qd.call(e)},0)},qd=function(){var e,t=this,n=Rd.get(this);if(0<=Ld.indexOf(n.name)){var o={errMsg:"loadSubpackage:ok",moduleName:n.name};return"function"==typeof n.success&&n.success(o),void("function"==typeof n.complete&&n.complete(o))}if(yd=this,Object(r.j)("createLoadSubPackageTask",{moduleName:n.name,success:function(e){jd.set(t,e.loadTaskId),Nd[e.loadTaskId]=t},fail:function(t){yd=void 0,t.errMsg=t.errMsg.replace("createLoadSubPackageTask","loadSubpackage"),e=t.errMsg,"function"==typeof n.fail&&n.fail(t),"function"==typeof n.complete&&n.complete(t),Wd()}}),e)throw new Error(e.replace("createLoadSubPackageTask:fail ",""))},Vd=function(){function e(t){N(this,e),Rd.set(this,t),["success","fail","complete"].forEach(function(e){"function"==typeof t[e]&&(t[e]=Reporter.surroundThirdByTryCatch(t[e],"at api loadSubpackage "+e+" callback function"))}),yd?Bd.push(this):qd.call(this)}return ge(e,[{key:"onProgressUpdate",value:function(e){Md.set(this,function(t){void 0!==t.totalBytesWriten&&(t.totalBytesWritten=t.totalBytesWriten,delete t.totalBytesWriten),"function"==typeof e&&Reporter.surroundThirdByTryCatch(e,"at LoadTask.onProgressUpdate callback function")(t)})}}]),e}(),$d={};W.onReady(function(){var e=W.preloadRule;e&&An(function(t){var n=t.path;e[n]&&function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!Array.isArray(e.packages))return Promise.reject(new Error("packages must be an array."));"all"!==e.network&&(e.network="wifi"),console.info("preloadSubpackages: "+e.packages.join(", "));var t=e.packages.filter(function(e){return!(e in $d)});return("all"!==e.network?new Promise(function(e,t){var n=vo._getCurrentNetworkType();n?e(n):vo.getNetworkType({success:function(n){n.networkType?e(n.networkType):t(new Error("get network type failed."))},fail:t})}).then(function(e){if("wifi"!==e.toLowerCase())return Promise.reject(new Error("network type does not match, '"+e+"' !== 'wifi'"))},function(e){return Promise.reject(new Error("get network type failed."))}):Promise.resolve()).then(function(){return Promise.all(t.map(function(e){return new Promise(function(n){!function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(Object(r.e)("loadSubPackage",e,{name:""})){var t=W.subPackages||W.subpackages;if(t){t.forEach(function(t){e.name!==t.alias&&e.name!==t.name||(e.name=t.root)}),e.name.startsWith("/")||(e.name="/"+e.name),e.name.endsWith(".js")||e.name.endsWith("/")||(e.name=e.name+"/");try{new Vd(e)}catch(t){Object(r.g)("loadSubpackage",e,t.message)}}else Object(r.g)("loadSubpackage",e,"Your subpackages configuration is invalid.")}}({name:e,success:function(r){$d[e]=!0,n(t)},fail:function(t){var r=new Error(t.errMsg.replace("loadSubpackage:fail",""));r.packageName=e,n(r)}})})})).then(function(e){if(0<(e=e.filter(function(e){return e instanceof Error})).length){var t=new Error("preload subpackages failed.");return t._detail=e,Promise.reject(t)}})})}(e[n]).then(function(){console.info("preloadSubpackages: success")},function(e){e._detail?(console.group("preloadSubpackages fail: "+e.message),e._detail.forEach(function(e){console.warn(e.packageName+": "+e.message)}),console.groupEnd()):console.warn("preloadSubpackages fail: "+e.message)})})});var Gd=function(){return"devtools"==__wxConfig.platform?!__wxConfig.urlCheck:!0===__wxConfig.debug},Hd=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},zd={};function Kd(e){var t=e.api,n=e.url;return Gd()?Promise.resolve({isInDomainList:!0,isLocalHost:!1,isInLAN:!1}):new Promise(function(e,o){Object(r.j)("checkNetworkAPIURL",{api:t,url:n,success:e,fail:o})})}var Yd=1;W.onReady(function(){["close","error","listening","message"].forEach(function(e){Object(r.m)("onUDPSocket"+Hd(e),function(t){var n=t.socketId;delete t.socketId,Hd(e),Ke("jsapi-udp-"+n+"-"+e).emit(t)})})});var Jd=function(){function e(){var t,n=this;if(N(this,e),this._id=Yd++,Object(r.j)("createUDPSocket",{socketId:this._id,fail:function(e){e.errMsg,t=e.errMsg}}),t)throw new Error(t);["close","error","listening","message"].forEach(function(e){var t=Ke("jsapi-udp-"+n._id+"-"+e);n["on"+Hd(e)]=t.onMethod,n["off"+Hd(e)]=t.onMethod})}return ge(e,[{key:"bind",value:function(){var e;return Object(r.j)("bindUDPSocket",{socketId:this._id,success:function(t){e=t.port},fail:function(e){e.errMsg}}),e}},{key:"send",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};return Kd({api:"udp",url:"udp://"+n.address}).then(function(e){var o;[,null].includes(n.message)||n.message.constructor!==ArrayBuffer?ArrayBuffer.isView(n.message)&&(n.type="arrayBuffer",n.message=n.message.buffer):n.type="arrayBuffer",e.isInDomainList,e.isLocalHost,e.isInLAN,o="arrayBuffer"===n.type?se(n.message):n.message,e.isInDomainList||e.isInLAN&&!e.isLocalHost?Object(r.j)("sendUDPSocketMessage",p({},n,{socketId:t._id,message:o,success:function(e){},fail:function(e){var t=e.errMsg;Ke("jsapi-udp-"+this._id+"-error").emit({errMsg:"send: fail "+t})}})):Ke("jsapi-udp-"+t._id+"-error").emit({errMsg:"send: fail invalid address:"+n.address})})}},{key:"close",value:function(){var e;if(Object(r.j)("closeUDPSocket",{socketId:this._id,fail:function(t){e=t.errMsg}}),e)throw new Error(e)}}]),e}(),Qd=lo.UDP,Xd=new WeakMap,Zd=new WeakMap,ep=new WeakMap,tp=1,np=function(){function e(){var t=this;if(N(this,e),!Qd)return null;var n=new Qd;if(null===n)return null;var r=tp++;ep.set(this,{}),["close","error","listening","message"].forEach(function(e){var o=Ke("jsbinding-udp-"+r+"-"+e);n["on"+e]=function(){o.emit.apply(o,arguments),"error"===e?Reporter.reportIDKey({key:"UDPError"}):"message"===e&&Reporter.reportIDKey({key:"receiveUDPMessage"})},ep.set(t,_extends(ep.get(t),de({},e,o))),t["on"+Hd(e)]=o.onMethod,t["off"+Hd(e)]=o.offMethod}),Xd.set(this,n),Zd.set(this,r)}return ge(e,[{key:"bind",value:function(){return mo("bindUDP","",1,0,"","",!1,0),Reporter.reportIDKey({key:"bindUDP"}),Xd.get(this).bind()}},{key:"send",value:function(e){var t=this,n=0<arguments.length&&void 0!==e?e:{};(function(e){if(t=zd[e],"[object Undefined]"!==Object.prototype.toString.call(t))return Promise.resolve(zd[e]);var t,n=[e];return new Promise(function(t,o){Object(r.j)("getPermissionBytes",{indexes:n,success:function(n){if(n.permissionBytes){var r=1===n.permissionBytes[0];zd[e]=r,t(r)}},fail:function(e){o(e.errMsg)}})})})(606).then(function(e){if(!1!==e){var r="udp://"+n.address;n.address,n.port,Kd({api:"udp",url:r}).then(function(e){var o;if(e.isInDomainList,e.isLocalHost,e.isInLAN,o=ArrayBuffer.isView(n.message)?n.message.buffer:n.message,e.isInDomainList||e.isInLAN&&!e.isLocalHost)return Xd.get(t).send(p({},n,{message:o})),.99<Math.random()&&mo("sendUDP",r,1,0,"","",!1,Ce(n.message)),void Reporter.reportIDKey({key:"sendUDPMessage"});Reporter.reportIDKey({key:"sendUDPMessageToInvalidAddress"}),Ke("jsbinding-udp-"+Zd.get(t)+"-error").emit({errMsg:"invalid address:"+n.address})})}else Ke("jsbinding-udp-"+Zd.get(t)+"-error").emit({errMsg:"send socket fail: no permission",errCode:-3})}).catch(function(e){Ke("jsbinding-udp-"+Zd.get(t)+"-error").emit({errMsg:"send: fail "+e})})}},{key:"close",value:function(){return Xd.get(this).close()}}]),e}();Protect.hijack(),W.onReady(function(){var e=W.appLaunchInfo||{},t=Number(e.scene||1e3),n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,o=n&&n.cookies||r&&r.cookies;"string"==typeof o&&vt(o,1037!==t,at),ht(gt),dt()}),Xe(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Number(e.scene),n=e.referrerInfo&&e.referrerInfo.privateExtraData,r=e.referrerInfo&&e.referrerInfo.messageExtraData,o=n&&n.cookies||r&&r.cookies;(1037===t||o&&"string"==typeof o||1===e.reLaunch||!0===e.reLaunch)&&(at=[],st=[]),"string"==typeof o&&vt(o,1037!==t,at),ht(gt)});var rp,op,ip={},ap={},sp=0;function cp(e){e=p({adUnitId:""},e),this.adUnitId=e.adUnitId,this.compId=sp,this.emitter=new Se,V&&console.warn("开发者工具上qq.createRewardedVideoAd接口为测试数据，请在真机上验证最终效果。"),Object(r.j)("createRewardedVideoAd",{adUnitId:this.adUnitId,compId:this.compId})}An(function(e){var t=e.webviewId;sp=t,ap[t]||(ap[t]=!0,Fe(t,function(e){delete ap[e],delete ip[e]}))}),Object(r.m)("onRewardedVideoStateChange",function(e){var t=e.compId,n=e.state;"error"===n&&(n="_error"),void 0===t&&(t=sp),ip[t]&&(delete e.compId,delete e.state,ip[t].emitter.emit(n,e)),"close"===n&&(rp=Number(new Date),op=!1)}),Object(r.m)("onRewardedVideoShowDone",function(e){var t=e.compId,n=e.state;void 0===t&&(t=sp),ip[t]&&ip[t].emitter.emit("promise_".concat(n),e)}),cp.prototype.load=function(){var e=this;return new Promise(function(t,n){e.emitter.on("promise_load",function r(o){"ok"===o.status?t():(delete o.compId,delete o.state,delete o.status,n(o)),e.emitter.off("promise_load",r)}),Object(r.j)("operateRewardedAd",{compId:e.compId,type:"load"})})},cp.prototype.show=function(){var e=this;return op=!0,new Promise(function(t,n){e.emitter.on("promise_show",function r(o){"ok"===o.status?t():n(),e.emitter.off("promise_show",r)}),Object(r.j)("operateRewardedAd",{compId:e.compId,type:"show"})})},cp.prototype.onError=function(e){this.emitter.on("_error",e)},cp.prototype.offError=function(e){this.emitter.off("_error",e)},cp.prototype.onLoad=function(e){this.emitter.on("load",e)},cp.prototype.offLoad=function(e){this.emitter.off("load",e)},cp.prototype.onClose=function(e){this.emitter.on("close",e)},cp.prototype.offClose=function(e){this.emitter.off("close",e)};var up={},lp={},fp=0,dp=0;function pp(e){e=p({adUnitId:""},e),this.id=dp++,this.adUnitId=e.adUnitId,this.compId=fp,this.emitter=new Se,this.isDestroy=!1,this.isLoad=!1,V&&console.warn("开发者工具上qq.createAppBox接口为测试数据，请在真机上验证最终效果。")}An(function(e){var t=e.webviewId;fp=t,lp[t]||(lp[t]=!0,Fe(t,function(e){delete lp[e],delete up[e]}))}),Object(r.m)("onAppBoxClose",function(e){var t=e.id;for(var n in up)up[n].id===t&&up[n].emitter.emit("close")}),pp.prototype.load=function(){var e=this;return new Promise(function(t,n){e.isDestroy?n({errMsg:"load:fail 广告盒子实例已销毁"}):fp===e.compId?Object(r.j)("operateAppBox",{id:e.id,compId:e.compId,adUnitId:e.adUnitId,type:"load",success:function(n){e.isLoad=!0,t()},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"load:fail 广告盒子实例不能跨页面使用"})})},pp.prototype.show=function(){var e=this;return new Promise(function(t,n){e.isDestroy?n({errMsg:"show:fail 广告盒子实例已销毁"}):e.isLoad?fp===e.compId?Object(r.j)("operateAppBox",{id:e.id,compId:e.compId,adUnitId:e.adUnitId,type:"show",success:function(e){t()},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"show:fail 广告盒子实例不能跨页面使用"}):n({errMsg:"show:fail 请先调用广告盒子load方法"})})},pp.prototype.destroy=function(){var e=this;return new Promise(function(t,n){e.isDestroy?n({errMsg:"destroy:fail 广告盒子实例已销毁"}):fp===e.compId?Object(r.j)("operateAppBox",{id:e.id,compId:e.compId,type:"destroy",adUnitId:e.adUnitId,success:function(n){e.isDestroy=!0,e.emitter.off("close"),up[e.compId]=void 0,t()},fail:function(e){n({errMsg:e.errMsg,errCode:e.errCode})}}):n({errMsg:"destroy:fail 广告盒子实例不能跨页面使用"})})},pp.prototype.onError=function(e){console.warn("onError方法已废弃")},pp.prototype.offError=function(e){console.warn("offError方法已废弃")},pp.prototype.onLoad=function(e){console.warn("onLoad方法已废弃")},pp.prototype.offLoad=function(e){console.warn("offLoad方法已废弃")},pp.prototype.onClose=function(e){this.emitter.on("close",e)},pp.prototype.offClose=function(e){this.emitter.off("close",e)};var hp,gp,vp={},_p={},yp=0;function bp(e){e.adUnitId?(e=p({adUnitId:""},e),this.adUnitId=e.adUnitId,this.compId=yp,this.emitter=new Se,e.operateType="create",V&&console.warn("开发者工具上qq.createInterstitialAd接口为测试数据，请在真机上验证最终效果。"),Object(r.n)("InterstitialAd",e,[yp])):console.error("缺少adUnitId参数")}An(function(e){var t=e.webviewId;yp=t,_p[t]||(_p[t]=!0,Fe(t,function(e){vp[e]&&(Object(r.n)("InterstitialAd",{operateType:"destroy"},[e]),gp&&(hp=Number(new Date),gp=!1)),delete _p[e],delete vp[e]}))}),bp.prototype.load=function(){return this._destroyed?new Promise(function(e,t){t({errMsg:"插屏广告实例已销毁",errCode:2005})}):new Promise(function(e,t){Object(r.n)("InterstitialAd",{operateType:"load"},[yp]),e()})},bp.prototype.destroy=function(){var e=this;return new Promise(function(t,n){e._destroyed=!0,Object(r.n)("InterstitialAd",{operateType:"destroy"},[yp]),delete vp[yp],t()})},bp.prototype.show=function(){var e=this;return e._destroyed?new Promise(function(e,t){t({errMsg:"插屏广告实例已销毁",errCode:2005})}):e._error?new Promise(function(t,n){n(e._error)}):e._loaded?Number(new Date)-rp<=0?new Promise(function(e,t){t({errMsg:"距离小程序激励视频广告上次播放时间间隔不足，不允许展示插屏广告",errCode:2002})}):Number(new Date)-hp<=6e4?new Promise(function(e,t){t({errMsg:"距离小程序插屏广告上次播放时间间隔不足，不允许展示插屏广告",errCode:2002})}):gp||op?new Promise(function(e,t){t({errMsg:"当前正在播放激励视频广告或者插屏广告，不允许再次展示插屏广告",errCode:2003})}):Number(new Date)-__appServiceEngine__.gTimeMark.appLaunchTime<=3e4?new Promise(function(e,t){t({errMsg:"小程序启动一定时间内不允许展示插屏广告",errCode:2001})}):yp!==e.compId?new Promise(function(e,t){t({errMsg:"插屏广告实例不允许跨页面调用",errCode:2005})}):(Object(r.n)("InterstitialAd",{operateType:"show"},[yp]),gp=!0,new Promise(function(e,t){e()})):new Promise(function(e,t){t({errMsg:"广告还没加载完成，建议onLoad之后再调用show方法",errCode:2005})})},bp.prototype.onError=function(e){var t=this;t._errorCallback=function(n){t._error=n,e(n)},t.emitter.on("error",t._errorCallback)},bp.prototype.offError=function(e){this.emitter.off("error",this._errorCallback)},bp.prototype.onLoad=function(e){var t=this;t._loadCallback=function(n){t._error=!1,t._loaded=!0,e(n)},t.emitter.on("onLoad",t._loadCallback)},bp.prototype.offLoad=function(e){this.emitter.off("onLoad",this._loadCallback)},bp.prototype.onClose=function(e){this._closeCallback=function(t){hp=Number(new Date),gp=!1,e(t)},this.emitter.on("close",this._closeCallback)},bp.prototype.offClose=function(e){this.emitter.off("close",this._closeCallback)},Object(r.o)("InterstitialAd",function(e){switch(e.operateType){case"onLoad":vp[yp]&&vp[yp].emitter.emit("onLoad");break;case"close":vp[yp]&&vp[yp].emitter.emit("close");break;case"error":vp[yp]&&vp[yp].emitter.emit("error",e.data);break;case"promiseError":vp[yp]&&vp[yp].emitter.emit("promiseError",e.data)}});var mp,wp={debug:1,info:2,warn:3,error:4};function Sp(){this.filterMsg=[],this.webviewId=""}"debug,info,warn,error".split(",").forEach(function(e){Sp.prototype[e]=function(){(function(e,t){var n={page:this.webviewId||le.currentWebviewId||"",filterMsg:this.filterMsg,content:t,level:e,time:Date.now()};Object(r.j)("realtimeLog",p({success:function(){},fail:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},n))}).call(this,wp[e],function(){return Array.prototype.slice.call(arguments).map(function(e){if(!e)return String(e);var t=g(e);if("object"===t)try{return JSON.stringify(e)}catch(e){return e.message}if("function"===t)return t;try{return String(e)}catch(e){return e.message}}).join(" ")}.apply(void 0,arguments))}}),Sp.prototype.setFilterMsg=function(e){if(!e)throw new Error("filterMsg should not be empty");if("string"!=typeof e)throw new Error("filterMsg should be string");this.filterMsg=[e]},Sp.prototype.addFilterMsg=function(e){if(!e)throw new Error("filterMsg should not be empty");if("string"!=typeof e)throw new Error("filterMsg should be string");this.filterMsg.push(e)},Sp.prototype.in=function(e){if(!e||!e.__wxWebviewId__)throw new Error("invalid page");this.webviewId=e.__wxWebviewId__};var Cp=cc.connectSocket,Ep=cc.closeSocket,Ip=cc.sendSocketMessage,Op=cc.onSocketOpen,Tp=cc.onSocketClose,kp=cc.onSocketMessage,Ap=cc.onSocketError,xp=Vo.chooseImage,Pp=Vo.previewImage,Dp=Vo.getImageInfo,Np=Vo.saveImageToPhotosAlbum,jp=Vo.compressImage,Rp=ei.startRecord,Mp=ei.stopRecord,Bp=$o.chooseVideo,Lp=$o.saveVideoToPhotosAlbum,Fp=Yo.playVoice,Up=Yo.pauseVoice,Wp=Yo.stopVoice,qp=Yo.onVoicePlayEnd,Vp=Ko.loadFontFace,$p=ui.getBackgroundAudioPlayerState,Gp=ui.playBackgroundAudio,Hp=ui.pauseBackgroundAudio,zp=ui.seekBackgroundAudio,Kp=ui.stopBackgroundAudio,Yp=ui.onBackgroundAudioPlay,Jp=ui.onBackgroundAudioPause,Qp=ui.onBackgroundAudioStop,Xp=li.joinVoIPChat,Zp=li.exitVoIPChat,eh=li.updateVoIPChatMuteConfig,th=li.onVoIPChatMembersChanged,nh=li.onVoIPChatSpeakersChanged,rh=li.onVoIPChatInterrupted,oh=Ji.captureScreen,ih=Ji.onUserCaptureScreen,ah=Ji.setKeepScreenOn,sh=Ji.setScreenBrightness,ch=Ji.getScreenBrightness,uh=Qi.vibrateShort,lh=Qi.vibrateLong,fh=Xi.chooseContact,dh=Xi.chooseWeChatContact,ph=Xi.addPhoneContact,hh=Fa.showToast,gh=Fa.hideToast,vh=Fa.showLoading,_h=Fa.hideLoading,yh=Fa.showModal,bh=Fa.showActionSheet,mh=Fa.hideHomeButton,wh=Wa.setNavigationBarTitle,Sh=Wa.showNavigationBarLoading,Ch=Wa.hideNavigationBarLoading,Eh=Wa.setNavigationBarColor,Ih=Wa.setNavigationBarAlpha,Oh=Wa.setNavigationBarRightButton,Th=Wa.onTapNavigationBarRightButton,kh=Uc.clearStorage,Ah=Uc.clearStorageSync,xh=Uc.getStorage,Ph=Uc.getStorageInfo,Dh=Uc.getStorageInfoSync,Nh=Uc.getStorageSync,jh=Uc.removeStorage,Rh=Uc.removeStorageSync,Mh=Uc.setStorage,Bh=Uc.setStorageSync,Lh={},Fh={getAppConfig:function(e,t){Object(r.j)("getAppConfig",e,t)},onAppConfig:function(e){Object(r.m)("onAppConfig",e)},onPullDownRefresh:function(e){Object(r.m)("onPullDownRefresh",e)},onShareAppMessage:function(e){Object(r.m)("onShareAppMessage",e)},onTabItemTap:function(e){Object(r.m)("onTabItemTap",e)},publishAnalyticsConfig:function(e,t){Object(r.n)("analyticsConfig",e,t)},reportRealtimeAction:function(e,t){Object(r.j)("reportRealtimeAction",e,t)},shareAppMessage:function(e,t){Object(r.j)("shareAppMessage",e,t)},shareAppMessageDirectly:function(e,t){Object(r.j)("shareAppMessageDirectly",e,t)},shareAppMessageDirectlyToFriendList:function(e,t){Object(r.j)("shareAppMessageDirectlyToFriendList",e,t)},shareAppPictureMessage:function(e,t){Object(r.j)("shareAppPictureMessage",e,t)},shareAppPictureMessageDirectly:function(e,t){Object(r.j)("shareAppPictureMessageDirectly",e,t)},subscribeAnalyticsReport:function(e){Object(r.o)("analyticsReport",e)},subscribeRecycleStatistics:function(e){Object(r.o)("recycleStatistics",e)},subscribeSavePageState:function(e){Object(r.o)("savePageState",e)},subscribeTapShareButton:function(e){Object(r.o)("tapShareButton",e)},showUpdatableMessageSubscribeButton:function(e,t){Object(r.j)("showUpdatableMessageSubscribeButton",e,t)},onAppUnhang:bd,onPageNotFound:md,onAppEnterForeground:wd,onAppEnterBackground:Sd,onAppShow:Cd,onAppHide:Ed,onError:Id,getLaunchOptionsSync:Od,showShareMenu:l.a.showShareMenu,ShareInfoStorage:l.a.ShareInfoStorage,_getRealRoute:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return Y(le.lastRoute,e,t)},_triggerBeforeUnloadPage:Td,_triggerBeforeShareAppMessage:kd,onAppRoute:Ad,onAppRouteDone:xd,onPageReload:function(e){$a.onPageReload.call(this,e)},onWebviewEvent:Pd,createPluginWX:Jh,publishFunctionalPage:function(e,t){Object(r.n)("functionalPage",e,t)},publishPageScrollTo:function(e,t){Object(r.n)("pageScrollTo",e,t)},publishUpdateAppData:function(e,t){Object(r.n)("__updateAppData",e,t)},subscribeCheckWebviewAliveOk:function(e){Object(r.o)("checkWebviewAliveOk",e)},publishCheckWebviewAlive:function(e,t){Object(r.n)("checkWebviewAlive",e,t)},subscribeSubjectInfo:function(e){Object(r.o)("subjectChangeInfo",e)},reportPv:function(e){Object(r.j)("operateWXData",{data:{api_name:"webapi_report_data",data:e}})},invokeWebviewMethod:it,getShareCookieString:function(){var e=Date.now(),t=[];return st.forEach(function(n){var r=n.expires||n.__wxprivate_calc_expires__;(!r||e<1e3*r)&&t.push(_t(n))}),t.join(";; ")},checkAPIAvailable:Ee,reportAPIRecycle:fe,getLogManager:Cu,getSystemInfoSync:Qt,getNetworkType:ho,isIsolatedSubpackage:function(){var e=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=W.subpackages||W.subPackages||[],n=0;n<t.length;n++){var r=t[n];if(0===e.indexOf(r.root))return r}return null}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"");return!!(e&&e.independent&&e.isolated)},onCallMethodFromWxs:function(e){Object(r.o)("vdCallComponentMethodForWxs",e)}},Uh={drawCanvas:mn,createContext:In,createCanvasContext:Tn,canvasToTempFilePath:En,canvasGetImageData:gn,canvasPutImageData:_n,getAccountInfoSync:function(){return{miniProgram:{appId:W.accountInfo&&W.accountInfo.appId||""}}},getShareInfo:l.a.getShareInfo,pageScrollTo:Ya,chooseInvoiceTitle:function(){Object(r.j)("chooseInvoiceTitle",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){var t=e.invoiceTitleInfo||e.choose_invoice_title_info;if(t)try{var n=JSON.parse(t);delete e.invoiceTitleInfo,delete e.choose_invoice_title_info,e=_extends(e,n)}catch(e){}}})},chooseInvoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("chooseInvoice",p({},e,{timeStamp:Kn,nonceStr:String(Kn)}),{beforeSuccess:function(e){}})},arrayBufferToBase64:Reporter.surroundThirdByTryCatch(se),base64ToArrayBuffer:Reporter.surroundThirdByTryCatch(ce),openSetting:function(){!function(){Object(r.j)("openSetting",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){var t=e.authSetting||[];e.authSetting=t.reduce(function(e,t){return e[t.scope]=1===t.state,e},{})}})}(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},getExtConfig:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};setTimeout(function(){var t={errMsg:"getExtConfig: ok",extConfig:Is()};"function"==typeof e.success&&e.success(t),"function"==typeof e.complete&&e.complete(t)},0)},chooseMedia:function(){Object(r.j)("chooseMedia",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},chooseMultiMedia:function(){Object(r.j)("chooseMultiMedia",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},chooseWeChatContact:dh,uploadEncryptedFileToCDN:Us.uploadEncryptedFileToCDN,onUploadEncryptedFileToCDNProgress:Us.onUploadEncryptedFileToCDNProgress,getExtConfigSync:Is,showShareMenu:l.a.showShareMenu,hideShareMenu:l.a.hideShareMenu,updateShareMenu:l.a.updateShareMenu,openUrl:tu.openUrl,setNavigationBarColor:Eh,setNavigationBarAlpha:Ih,vibrateShort:uh,vibrateLong:lh,getSetting:function(){Object(r.j)("getSetting",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},{beforeSuccess:function(e){e.authSetting,e.authSetting=e.authSetting.reduce(function(e,t){return e[t.scope]=1===t.state,e},{})}})},checkIsSupportFacialRecognition:Wn.checkIsSupportFacialRecognition,startFacialRecognitionVerify:Wn.startFacialRecognitionVerify,startFacialRecognitionVerifyAndUploadVideo:Wn.startFacialRecognitionVerifyAndUploadVideo,startCustomFacialRecognitionVerify:Wn.startCustomFacialRecognitionVerify,startCustomFacialRecognitionVerifyAndUploadVideo:Wn.startCustomFacialRecognitionVerifyAndUploadVideo,sendBizRedPacket:Fn.sendBizRedPacket,sendGoldenRedPacket:Fn.sendGoldenRedPacket,openGoldenRedPacketDetail:Fn.openGoldenRedPacketDetail,addPhoneContact:ph,setScreenBrightness:sh,getScreenBrightness:ch,getWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("openWeRunSetting",{checkSupport:!0,success:function(){Object(r.j)("operateWXData",Object(r.b)({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getWeRunData")},beforeSuccess:function(e){$&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api getWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api getWeRunData fail callback function")(t)}})},getQQRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("openWeRunSetting",{checkSupport:!0,success:function(){Object(r.j)("operateWXData",Object(r.b)({data:{api_name:"webapi_getwerunstep_history"}},e),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getQQRunData")},beforeSuccess:function(e){$&&(e.data=JSON.parse(e.data)),void 0!==e.data.data&&(e.rawData=e.data.data),e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","getQQRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api getQQRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api getQQRunData fail callback function")(t)}}),Reporter.reportApiCall({apiname:"getQQRunData"})},uploadWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(r.g)("uploadWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(r.j)("openWeRunSetting",{checkSupport:!1,success:function(){Object(r.j)("uploadWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","uploadWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api uploadWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api uploadWeRunData fail callback function")(t)}})},addWeRunData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"number"!=typeof e.step||e.step<0?Object(r.g)("addWeRunData",e,"parameter error: step should be number and greater or equal to 0"):Object(r.j)("openWeRunSetting",{checkSupport:!1,success:function(){Object(r.j)("addWeRunData",e,{})},fail:function(t){t.errMsg=t.errMsg.replace("openWeRunSetting","addWeRunData"),"function"==typeof e.fail&&Reporter.surroundThirdByTryCatch(e.fail,"at api addWeRunData fail callback function")(t),"function"==typeof e.complete&&Reporter.surroundThirdByTryCatch(e.complete,"at api addWeRunData fail callback function")(t)}})},canIUse:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Kt;if("string"!=typeof e)throw new te("canIUse: schema should be an object");var n=e.split(".");return!!function(e,t,n,r){var o,i;if(0===(o=Vc(e,t,Wc)).length)return!1;if(n){var a=Wc[t];if(void 0===(i=$c(o,a,n)))return!1}return!r||void 0!==Gc(i,r)}.apply(void 0,[t].concat(ts(n)))||!!function(e,t,n,r,o){var i,a,s;if(0===(i=Vc(e,t,qc)).length)return!1;if(n){var c=qc[t];if(void 0===(a=$c(i,c,n)))return!1}return!(r&&void 0===(s=Gc(a,r))||o&&void 0===Gc(s,o))}.apply(void 0,[t].concat(ts(n)))},setPageStyle:es,triggerGettingWidgetData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("triggerGettingWidgetData",e,{cacheKey:""})&&Object(r.j)("triggerGettingWidgetData",e,{})},navigateToMiniProgram:Da.navigateToMiniProgram,navigateToDevMiniProgram:Da.navigateToDevMiniProgram,navigateBackMiniProgram:Da.navigateBackMiniProgram,setNavigationBarRightButton:Oh,onTapNavigationBarRightButton:Th,setTopBarText:Va.setTopBarText,setTabBarBadge:Ka.setTabBarBadge,removeTabBarBadge:Ka.removeTabBarBadge,showTabBarRedDot:Ka.showTabBarRedDot,hideTabBarRedDot:Ka.hideTabBarRedDot,showTabBar:Ka.showTabBar,hideTabBar:Ka.hideTabBar,setTabBarStyle:Ka.setTabBarStyle,setTabBarItem:Ka.setTabBarItem,setBackgroundColor:ds,setBackgroundTextStyle:ps,setEnableDebug:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setEnableDebug",e,{enableDebug:!0})&&(Object(r.j)("setEnableDebug",e,{}),e.enableDebug&&console.warn("已通过 qq.setEnableDebug 打开调试"))},captureScreen:oh,onUserCaptureScreen:ih,setKeepScreenOn:ah,checkIsSupportSoterAuthentication:Ln.checkIsSupportSoterAuthentication,startSoterAuthentication:Ln.startSoterAuthentication,checkIsSoterEnrolledInDevice:Ln.checkIsSoterEnrolledInDevice,openDeliveryList:tu.openDeliveryList,reportIDKey:function(e,t){},reportKeyValue:function(e,t){},setNavigationBarTitle:wh,showNavigationBarLoading:Sh,hideNavigationBarLoading:Ch,startPullDownRefresh:Ja,stopPullDownRefresh:Qa,operateWXData:$n,getOpenDeviceId:zn,getMenuButtonBoundingClientRect:function(e){var t,n={};if(Object(r.j)("getMenuButtonBoundingClientRect",{success:function(e){_extends(n,e),delete n.errMsg},fail:function(e){t=e.errMsg}}),t)throw new ne(t);return n},openBluetoothAdapter:Zi.openBluetoothAdapter,closeBluetoothAdapter:Zi.closeBluetoothAdapter,getBluetoothAdapterState:Zi.getBluetoothAdapterState,onBluetoothAdapterStateChange:Zi.onBluetoothAdapterStateChange,startBluetoothDevicesDiscovery:Zi.startBluetoothDevicesDiscovery,stopBluetoothDevicesDiscovery:Zi.stopBluetoothDevicesDiscovery,getBluetoothDevices:Zi.getBluetoothDevices,getConnectedBluetoothDevices:Zi.getConnectedBluetoothDevices,createBLEConnection:Zi.createBLEConnection,closeBLEConnection:Zi.closeBLEConnection,getBLEDeviceServices:Zi.getBLEDeviceServices,getBLEDeviceCharacteristics:Zi.getBLEDeviceCharacteristics,notifyBLECharacteristicValueChanged:Zi.notifyBLECharacteristicValueChanged,notifyBLECharacteristicValueChange:Zi.notifyBLECharacteristicValueChange,readBLECharacteristicValue:Zi.readBLECharacteristicValue,writeBLECharacteristicValue:Zi.writeBLECharacteristicValue,onBluetoothDeviceFound:Zi.onBluetoothDeviceFound,onBLEConnectionStateChanged:Zi.onBLEConnectionStateChanged,onBLEConnectionStateChange:Zi.onBLEConnectionStateChange,onBLECharacteristicValueChange:Zi.onBLECharacteristicValueChange,startBeaconDiscovery:Yi.startBeaconDiscovery,stopBeaconDiscovery:Yi.stopBeaconDiscovery,getBeacons:Yi.getBeacons,onBeaconUpdate:Yi.onBeaconUpdate,onBeaconServiceChange:Yi.onBeaconServiceChange,startWifi:na.startWifi,stopWifi:na.stopWifi,getWifiList:na.getWifiList,getConnectedWifi:na.getConnectedWifi,connectWifi:na.connectWifi,presetWifiList:na.presetWifiList,setWifiList:na.setWifiList,onGetWifiList:na.onGetWifiList,onWifiConnected:na.onWifiConnected,onEvaluateWifi:na.onEvaluateWifi,getHCEState:ra.getHCEState,startHCE:ra.startHCE,stopHCE:ra.stopHCE,sendHCEMessage:ra.sendHCEMessage,onHCEMessage:ra.onHCEMessage,startLocalServiceDiscovery:ca.startLocalServiceDiscovery,stopLocalServiceDiscovery:ca.stopLocalServiceDiscovery,onLocalServiceFound:ca.onLocalServiceFound,offLocalServiceFound:ca.offLocalServiceFound,onLocalServiceLost:ca.onLocalServiceLost,offLocalServiceLost:ca.offLocalServiceLost,onLocalServiceDiscoveryStop:ca.onLocalServiceDiscoveryStop,offLocalServiceDiscoveryStop:ca.offLocalServiceDiscoveryStop,onLocalServiceResolveFail:ca.onLocalServiceResolveFail,offLocalServiceResolveFail:ca.offLocalServiceResolveFail,redirectTo:$a.redirectTo,reLaunch:$a.reLaunch,navigateTo:$a.navigateTo,switchTab:$a.switchTab,navigateBack:$a.navigateBack,onAppShow:ed,offAppShow:td,onAppHide:od,offAppHide:id,onError:dd,offError:pd,getLaunchOptionsSync:function(){if(!Hf)throw new Error("getLaunchOptionsSync:fail get launch options");return Hf||{}},onWindowResize:function(e){os.push(e)},offWindowResize:function(e){os.splice(os.indexOf(e),1)},getStorage:xh,getStorageSync:Nh,setStorage:Mh,setStorageSync:Bh,removeStorage:jh,removeStorageSync:Rh,clearStorage:kh,clearStorageSync:Ah,getStorageInfo:Ph,getStorageInfoSync:Dh,startDownloadAppTask:o.a.startDownloadAppTask,cancelDownloadAppTask:o.a.cancelDownloadAppTask,queryDownloadAppTask:o.a.queryDownloadAppTask,queryAppInfo:o.a.queryAppInfo,installApp:o.a.installApp,startApp:o.a.startApp,shareInvite:a.a.shareInvite,saveAppToDesktop:i.a.saveAppToDesktop,showMiniAIOEntrance:c.b.showMiniAIOEntrance,hideMiniAIOEntrance:c.b.hideMiniAIOEntrance,addGroupCalendar:f.a.addGroupCalendar,getGroupAppStatus:f.a.getGroupAppStatus,modifyGroupCalendar:f.a.modifyGroupCalendar,removeGroupCalendar:f.a.removeGroupCalendar,getGroupCalendarDetail:f.a.getGroupCalendarDetail,openActivity:i.a.openActivity,getPerformance:u.a.getPerformance,request:Vs,wnsRequest:c.b.wnsRequest,notifyNative:c.b.notifyNative,openScheme:c.b.openScheme,openQzonePublish:c.b.openQzonePublish,setOfficialDress:c.b.setOfficialDress,setCustomDress:c.b.setCustomDress,getUserInfoExtra:c.b.getUserInfoExtra,invokeNativePlugin:c.b.invokeNativePlugin,onNativePluginEvent:c.b.onNativePluginEvent,getCloudTicket:c.b.getCloudTicket,exitMiniProgram:i.a.exitMiniProgram,connectSocket:Cp,closeSocket:Ep,sendSocketMessage:Ip,onSocketOpen:Op,onSocketClose:Tp,onSocketMessage:kp,onSocketError:Ap,uploadFile:zs,downloadFile:Lo,addNativeDownloadTask:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};G?Object(r.g)("addNativeDownloadTask",e,"iOS not supported"):Object(r.j)("addNativeDownloadTask",e,{})},calRqt:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("calRqt",e,{rqt:""})&&Object(r.j)("calRqt",e)},secureTunnel:function(e){Object(r.j)("secureTunnel",e)},chooseImage:xp,previewImage:Pp,getImageInfo:Dp,saveImageToPhotosAlbum:Np,compressImage:jp,startRecord:Rp,stopRecord:Mp,playVoice:Fp,pauseVoice:Up,stopVoice:Wp,onVoicePlayEnd:qp,chooseVideo:Bp,saveVideoToPhotosAlbum:Lp,loadFontFace:Vp,getLocation:ws,openLocation:Cs,chooseLocation:Ss,startLocationUpdate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("enableLocationUpdate",p({},e,{enable:!0}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","startLocationUpdate")}}),Es=!0},stopLocationUpdate:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("enableLocationUpdate",p({},e,{enable:!1}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("enableLocationUpdate","stopLocationUpdate")}}),Es=!1},onLocationChange:function(e){Es||(Object(r.j)("enableLocationUpdate",{enable:!0}),Es=!0),Object(r.m)("onLocationChange",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Reporter.surroundThirdByTryCatch(e,"at onLocationChange callback function")(t)})},getNetworkType:vo.getNetworkType,onNetworkStatusChange:vo.onNetworkStatusChange,getSystemInfo:en.getSystemInfo,getSystemInfoSync:en.getSystemInfoSync,getQua:en.getQua,getEnvVersion:Li.getEnvVersion,getBatteryInfo:Bi.getBatteryInfo,getBatteryInfoSync:Bi.getBatteryInfoSync,startAccelerometer:Wi.startAccelerometer,stopAccelerometer:Wi.stopAccelerometer,onAccelerometerChange:Wi.onAccelerometerChange,startCompass:$i.startCompass,stopCompass:$i.stopCompass,onCompassChange:$i.onCompassChange,startDeviceMotionListening:da.startDeviceMotionListening,stopDeviceMotionListening:da.stopDeviceMotionListening,onDeviceMotionChange:da.onDeviceMotionChange,startGyroscope:la.startGyroscope,stopGyroscope:la.stopGyroscope,onGyroscopeChange:la.onGyroscopeChange,reportAction:function(e){Object(r.j)("reportAction",e)},getBackgroundAudioManager:ui.getBackgroundAudioManager,getRecorderManager:ei.getRecorderManager,getBackgroundAudioPlayerState:$p,playBackgroundAudio:Gp,pauseBackgroundAudio:Hp,seekBackgroundAudio:zp,stopBackgroundAudio:Kp,onBackgroundAudioPlay:Yp,onBackgroundAudioPause:Jp,onBackgroundAudioStop:Qp,joinVoIPChat:Xp,exitVoIPChat:Zp,subscribeAppMsg:function(e){var t=e||{},n=t.tmplIds,o=t.fail,i=t.complete,a="subscribeAppMsg",s=null;void 0!==n&&(Array.isArray(n)?n.length>3?s={errMsg:"subscribeAppMsg:fail tmplIds个数超过限制，最多三个"}:a="subscribeOnceAppMsg":s={errMsg:"subscribeAppMsg:fail tmplIds参数类型错误"}),s?("function"==typeof o&&o(s),"function"==typeof i&&i(s)):(Object(r.j)(a,e,{beforeAll:function(e){e&&e.errMsg&&(e.errMsg=e.errMsg.replace("subscribeOnceAppMsg","subscribeAppMsg"))}}),Reporter.reportApiCall({apiname:a}))},updateVoIPChatMuteConfig:eh,onVoIPChatMembersChanged:th,onVoIPChatSpeakersChanged:nh,onVoIPChatInterrupted:rh,openGroupNotice:f.a.openGroupNotice,openGroupRemind:f.a.openGroupRemind,getGroupInfo:f.a.getGroupInfo,getGroupInfoExtra:f.a.getGroupInfoExtra,setBackgroundFetchToken:u.a.setBackgroundFetchToken,getBackgroundFetchToken:u.a.getBackgroundFetchToken,getBackgroundFetchData:u.a.getBackgroundFetchData,onBackgroundFetchData:u.a.onBackgroundFetchData,login:function(e){Object(r.j)("login",e)},checkSession:function(e){Pn&&clearTimeout(Pn),Object(r.j)("refreshSession",e,{beforeSuccess:function(e){Pn=setTimeout(function(){Object(r.j)("refreshSession")},1e3*e.expireIn),delete e.err_code,delete e.expireIn},beforeAll:function(e){e.errMsg=e.errMsg.replace("refreshSession","checkSession")}})},authorize:qn,getUserInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Ee("getUserInfo");Object(r.j)("operateWXData",Object(r.b)({},e,{data:{api_name:"webapi_getuserinfo",with_credentials:"boolean"!=typeof e.withCredentials||e.withCredentials,show_confirm:t,data:{lang:e.lang||"en"}}}),{beforeAll:function(e){e.errMsg=e.errMsg.replace("operateWXData","getUserInfo")},beforeSuccess:function(e){$&&"string"==typeof e.data&&(e.data=JSON.parse(e.data)),e.data||(e.data={}),void 0!==e.data.data&&(e.rawData=e.data.data);try{e.userInfo=JSON.parse(e.data.data),e.signature=e.data.signature,e.data.encryptedData&&(e.encryptedData=e.data.encryptedData,e.iv=e.data.iv),delete e.data}catch(e){}}})},requestPayment:s.a.requestPayment,requestMidasPayment:s.a.requestMidasPayment,requestMidasGoodsPay:s.a.requestMidasGoodsPay,requestMidasMonthCardPay:s.a.requestMidasMonthCardPay,faceVerifyForPay:function(){Object(r.j)("faceVerifyForPay",0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})},addCard:Bn.addCard,openCard:Bn.openCard,scanCode:Hi.scanCode,openQRCode:Hi.openQRCode,chooseAddress:function(e){Object(r.j)("openAddress",e,{beforeSuccess:function(e){ue(e,"addressPostalCode","postalCode"),ue(e,"proviceFirstStageName","provinceName"),ue(e,"addressCitySecondStageName","cityName"),ue(e,"addressCountiesThirdStageName","countyName"),ue(e,"addressDetailInfo","detailInfo")},beforeAll:function(e){e.errMsg=e.errMsg.replace("openAddress","chooseAddress"),delete e.err_msg}})},saveFile:dc,openDocument:function(e){Object(r.e)("openDocument",e,{filePath:""})&&Object(r.j)("openDocument",e)},getSavedFileList:pc,getSavedFileInfo:hc,getFileInfo:vc,removeSavedFile:gc,getFileSystemManager:function(){return Dc},chooseContact:fh,removeUserCloudStorage:function(e){var t=Sa(e.keyList);t?Object(r.g)("removeUserCloudStorage",e,t):Hc(e)},setUserCloudStorage:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Array.isArray(e.KVDataList)?0!==e.KVDataList.length?e.KVDataList.some(function(e){if("object"!==P(e)||"string"!=typeof e.key||"string"!=typeof e.value)return!0})?Object(r.g)("setUserCloudStorage",e,"invalid KVData item"):zc(e):Object(r.g)("setUserCloudStorage",e,"KVDataList.length must greater than 0"):Object(r.g)("setUserCloudStorage",e,"KVDataList must be an Array")},makePhoneCall:Gi.makePhoneCall,makeVoIPCall:Gi.makeVoIPCall,onAppRoute:An,onAppRouteDone:Dt,onAppEnterBackground:Ct,onAppEnterForeground:Xe,onAppUnhang:ud,onPageReload:function(e){$a.onPageReload.call(Uh,e)},onPageNotFound:gd,offPageNotFound:vd,createAnimation:rs,createInnerAudioContext:Ri,getAvailableAudioSources:function(e){Object(r.j)("getAvailableAudioSources",e)},setInnerAudioOption:function(e){Object(r.j)("setInnerAudioOption",e)},createAudioContext:function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"";return Yr.call(Uh,e,le.currentWebviewId,n)},createVideoContext:function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"";return co.call(Uh,e,le.currentWebviewId,n)},createMapContext:function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"";return tr.call(Uh,e,le.currentWebviewId,n)},createCameraContext:function(){return gr.call(Uh,null,le.currentWebviewId)},createLivePlayerContext:function(e,t){var n=t&&t.__wxExparserNodeId__&&t.__wxExparserNodeId__!==__virtualDOM__.getRootNodeId(le.currentWebviewId)?t.__wxExparserNodeId__:"";return Pr.call(Uh,e,le.currentWebviewId,n)},createLivePusherContext:function(){return Wr.call(Uh,null,le.currentWebviewId)},onWebviewEvent:za.onWebviewEvent,onNativeEvent:za.onNativeEvent,hideKeyboard:function(e){V?Object(r.n)("hideKeyboard",{}):Object(r.j)("hideKeyboard",e)},onKeyboardHeightChange:function(e){Object(r.m)("onKeyboardHeightChange",function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Reporter.surroundThirdByTryCatch(e,"at onKeyboardHeightChange callback function")(t)})},getPublicLibVersion:function(){var e;return Object(r.j)("getPublicLibVersion",{complete:function(t){t.version?e=t.version:delete(e=t).errMsg}}),e},showModal:yh,showToast:hh,hideToast:gh,showLoading:vh,hideLoading:_h,showActionSheet:bh,hideHomeButton:mh,reportAnalytics:c.b.reportAnalytics,reportMonitor:c.b.reportMonitor,getClipboardData:Ki.getClipboardData,setClipboardData:Ki.setClipboardData,createSelectorQuery:function(e){return Ps(e,"")},createIntersectionObserver:function(e,t){return Ms(e,t,"")},nextTick:function(e){e&&"function"==typeof e&&(Bs.push(e),Ls||(Ls=setTimeout(Fs,0)))},updatePerfData:function(e){Object(r.j)("updatePerfData",e)},traceEvent:function(e){Object(r.j)("traceEvent",e)},onMemoryWarning:function(e){1<arguments.length&&void 0!==arguments[1]&&arguments[1]?Eu=e:Tu.push(Reporter.surroundThirdByTryCatch(e,"at onMemoryWarning callback function"))},getUpdateManager:function(){return Fu},createWorker:function(e){if(function(e){for(var t=0;t<Jf.length;t++)if(e===Jf[t])return!0;return!1}(e))throw new Error('createWorker: Worker "'+e+'" hit black list');if(qf.size>=Yf)throw new Error("createWorker: exceed max concurrent workers limit.");var t=__safeway__.worker.create("workers.js");if(0<t)return new Kf(t,e);throw-1===t?new Error('createWorker: Worker "'+e+'" does not exists.'):-2===t?new Error("createWorker: worker is not supported in system webview mode"):new Error("createWorker: unknown error. ret:".concat(t))},voiceSplitJoint:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("voiceSplitJoint",e)},uploadSilkVoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("uploadSilkVoice",e)},downloadSilkVoice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("downloadSilkVoice",e)},getResPath:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("getResPath",e)},setResPath:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.j)("setResPath",e)},setCookies:function(e){pt(ut,function(t){var n="setCookies:ok";if(t){var r=mt(e);r?(n=r,"function"==typeof e.fail&&e.fail({errMsg:n})):"function"==typeof e.success&&e.success({errMsg:n})}else n="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})})},getCookies:function(e){pt(lt,function(t){var n="getCookies:ok";if(t){var r=wt(e);"function"==typeof e.success&&e.success({errMsg:n,cookies:r})}else n="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})})},getLabInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("getLabInfo",e,{labId:""})&&Object(r.j)("getLabInfo",e)},setLabInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Object(r.e)("setLabInfo",e,{labId:"",enabled:Boolean()})&&Object(r.j)("setLabInfo",e)},createUDPSocket:function(){return"devtools"===__wxConfig.platform?new Jd:new np},createRewardedVideoAd:function(e){return ip[sp]||(ip[sp]=new cp(e)),ip[sp]},createAppBox:function(e){return up[fp]||(up[fp]=new pp(e)),up[fp]},createInterstitialAd:function(e){return vp[yp]||(vp[yp]=new bp(e)),vp[yp]},_getCurrentRoutes:function(e){var t=__appServiceEngine__.getCurrentPages().map(function(e){return e.route});setTimeout(function(){e&&e.success&&e.success({routes:t})})},_getLastEnterAppTime:function(e){setTimeout(function(){e&&e.success&&e.success({lastEnterAppTime:et})})},_getStayAppTime:function(e){setTimeout(function(){e&&e.success&&e.success({stayAppTime:tt+(Date.now()-et)})})},_getAdExtraReportRefer:function(e){!Ye&&__qqConfig.adReportInfo&&((Ye=__qqConfig.adReportInfo).appStartTime||(Ye.appStartTime=Ze),delete __qqConfig.adReportInfo),setTimeout(function(){e&&e.success&&e.success(_extends(Ye||{},{scene:__qqConfig.appLaunchInfo.scene}))})},_adExtraReport:function(e){qq.request({url:"https://rpt.gdt.qq.com/mqq_log",method:"POST",data:e,success:function(t){e&&e.success&&e.success(t)},fail:function(t){e&&e.fail&&e.fail(t)}})},getRealtimeLogManager:function(){return mp||(mp=new Sp),mp},env:Uf,getLogManager:Cu,cloud:__cloudSDK__.getCloudAPI(),version:void 0===__libVersionInfo__?{version:"9.9.9"}:__libVersionInfo__,enterContact:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};W.onReady(function(){if(2!==W.appType&&7!==W.appType){var t={errMsg:"enterContact:fail no permission"};return e.fail&&e.fail(t),void(e.complete&&e.complete(t))}e.privateEnterContact=!0,it("appServiceEnterContact",e,[le.currentWebviewId],function(t){t.errMsg&&(t.errMsg=t.errMsg.replace("privateEnterContact","enterContact"));var n=0===t.errMsg.indexOf("enterContact:ok");t.errMsg.indexOf("enterContact:fail"),n?e.success&&e.success(t):e.fail&&e.fail(t),e.complete&&e.complete(t)})})}};function Wh(e){Lh.__defineGetter__(e,function(){var t=Uh[e],n=this;if("function"==typeof t)return H(function(o){if(Ae(e,"")){var i=function(e,t){return function(n){var o=this,i=pe(e,"tap"),a=n;if(10!==i||xe||(fe({name:e,scene:0,strategy:1}),!V&&Ee(e))){(20===i&&xe||30===i)&&("function"==typeof n?a=Ne.call(this,n):"object"===P(n)&&(a=p({},n),["success","fail","complete"].forEach(function(e){"function"==typeof a[e]&&(a[e]=Ne.call(o,a[e]))})));for(var s=arguments.length,c=new Array(1<s?s-1:0),u=1;u<s;u++)c[u-1]=arguments[u];var l=t.apply(this,[a].concat(c));return 4===W.appType&&De(),l}n&&(n.fail||n.complete)&&setTimeout(function(){Object(r.g)(e,n,"can only be invoked by user TAP gesture.")},0)}}(e,t);return function(e,t){var n=pe(e,"log");if(!n)return t;var r=0,o="request"===e;return function(){var i=o?" with seq "+r:"";r++;var a=arguments[0];1===n&&a&&"object"===P(a)&&["success","fail"].forEach(function(t){var n=a[t];"function"==typeof n&&(a[t]=function(r){"function"==typeof n&&n.apply(null,arguments),qh&&qh.logApiInvoke&&qh.log("qq."+e+" "+t+" callback"+(r&&r.errMsg?" with msg "+r.errMsg:" ")+i)})}),qh&&qh.logApiInvoke&&qh.log("qq."+e+" api invoke"+i);var s=t.apply(Uh,arguments);return 2===n&&qh&&qh.logApiInvoke&&qh.log("qq."+e+" return"),s}}(e,i).apply(n,arguments)}if("Sync"===e.slice(-4))throw new te(e+":fail rejected due to no permission currently");o&&o.fail&&setTimeout(function(){Object(r.g)(e,o,"rejected due to no permission currently")},0)}," at qq."+e);if(!Ae(e,""))throw new te(e+":fail rejected due to no permission currently");return t})}["login","getUserInfo","getShareInfo","getWeRunData","getQQRunData"].forEach(function(e){var t=Uh[e];Uh[e]=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){var n=t.timeout;if("number"==typeof n){var r=!1,o=setTimeout(function(){var e={errMsg:"request timeout"};r=!0,"function"==typeof t.fail&&t.fail(e),"function"==typeof t.complete&&t.complete(e)},n),i=["success","fail","complete"].reduce(function(e,n){return e[n]=function(e){r||(clearTimeout(o),"function"==typeof t[n]&&t[n](e))},e},{});e(_extends({},t,i))}else e(t)}(t,e)}}),Object(r.o)("INVOKE_METHOD",function(e,t){var n=e.name,r=e.args;Uh[n](r,!0)}),Object(r.o)("WEBVIEW_ERROR_MSG",function(e,t){var n=e.msg;Reporter.triggerErrorMessage(n)}),Object(r.m)("onError",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};1<arguments.length&&void 0!==arguments[1]&&arguments[1],"function"==typeof __wxSourceMapRetrace__&&(e=__wxSourceMapRetrace__(e)),console.error("thirdScriptError","\n","sdk uncaught third Error","\n",e.message,"\n",e.stack)});var qh=Cu();for(var Vh in Uh)Wh(Vh);var $h,Gh,Hh={canvas:rn,canvasInfo:tn,onCanvasMethodCallbackOnce:ln,clearOldWebviewCanvas:dn,createContext:In,drawCanvasImpl:bn,drawCanvas:mn,canvasToTempFilePath:En,createCanvasContext:Tn,drawCanvas4Plugin:function(e,t,n){bn(e,le.currentWebviewId,t,n)},canvasToTempFilePath4Plugin:function(e,t,n){Cn(e,n,t)},createCanvasContext4Plugin:function(e,t,n){return On(le.currentWebviewId,e,n,t)},canvasGetImageData4Plugin:function(e,t,n){hn(e,n,t)},canvasPutImageData4Plugin:function(e,t,n){vn(e,n,t)},canvasToDataURL:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=jt(le.currentWebviewId,t.canvasId),o=p({},t),i=o.success,a=o.complete;o.success=function(e){var t="data:image/"+(o.fileType||"png")+";base64,"+e.data;"function"==typeof i&&i({dataURL:t}),"function"==typeof a&&a({dataURL:t})},o.complete=Zt,"number"==typeof rn[n]?(o.canvasId=rn[n],e=o,V?(e.method="toDataURL",ln(e,function(t){var n=t.dataUrl;e.success({data:n})}),Object(r.n)("invokeCanvasMethod",e)):Object(r.j)("canvasToData",e)):pn("canvasToDataURL",t)},canvasGetImageData:gn,canvasPutImageData:_n},zh={createVideoContext:co,createSQVideoContext:uo,createCameraContext:gr,createMapContext:tr,createInnerAudioContext:Ri,createLivePlayerContext:Pr,createSQLivePlayerContext:Dr,createLivePusherContext:Wr,createAudioContext:Yr,createSQEditorContext:x},Kh={onSubpackageReady:function(e){Dd.on("success",e)},getSubpackagesConfig:function(){return W.subPackages||W.subpackages}},Yh={getAccountInfoSync:function(){var e,t,n=Yu(this);return{miniProgram:{appId:W.accountInfo&&W.accountInfo.appId||""},plugin:{appId:n||"",version:(e=Ta.pluginInfos[n].customVersion,t=Number(e),[Math.floor(t/1e6),Math.floor(t/1e3)%1e3,t%1e3].join("."))}}},startDownloadAppTask:o.a.startDownloadAppTask,cancelDownloadAppTask:o.a.cancelDownloadAppTask,queryDownloadAppTask:o.a.queryDownloadAppTask,queryAppInfo:o.a.queryAppInfo,installApp:o.a.installApp,startApp:o.a.startApp,shareInvite:a.a.shareInvite,saveAppToDesktop:i.a.saveAppToDesktop,showMiniAIOEntrance:c.b.showMiniAIOEntrance,hideMiniAIOEntrance:c.b.hideMiniAIOEntrance,addGroupCalendar:f.a.addGroupCalendar,getGroupAppStatus:f.a.getGroupAppStatus,modifyGroupCalendar:f.a.modifyGroupCalendar,removeGroupCalendar:f.a.removeGroupCalendar,getGroupCalendarDetail:f.a.getGroupCalendarDetail,openActivity:i.a.openActivity,getPerformance:u.a.getPerformance,request:gl.request,wnsRequest:c.b.wnsRequest,notifyNative:c.b.notifyNative,openScheme:c.b.openScheme,setOfficialDress:c.b.setOfficialDress,setCustomDress:c.b.setCustomDress,getUserInfoExtra:c.b.getUserInfoExtra,openQzonePublish:c.b.openQzonePublish,invokeNativePlugin:c.b.invokeNativePlugin,onNativePluginEvent:c.b.onNativePluginEvent,getCloudTicket:c.b.getCloudTicket,exitMiniProgram:i.a.exitMiniProgram,uploadFile:gl.uploadFile,downloadFile:gl.downloadFile,connectSocket:gl.connectSocket,getStorage:Sl.getStorage,getStorageSync:Sl.getStorageSync,removeStorage:Sl.removeStorage,removeStorageSync:Sl.removeStorageSync,setStorage:Sl.setStorage,setStorageSync:Sl.setStorageSync,createAudioContext:El.createAudioContext,createCameraContext:El.createCameraContext,createMapContext:El.createMapContext,createVideoContext:El.createVideoContext,createInnerAudioContext:El.createInnerAudioContext,createLivePlayerContext:El.createLivePlayerContext,createLivePusherContext:El.createLivePusherContext,createSelectorQuery:function(e){return Ps(e,Yu(this))},createIntersectionObserver:function(e,t){return Ms(e,t,Yu(this))},createCanvasContext:Al.createCanvasContext,drawCanvas:Al.drawCanvas,canvasToTempFilePath:Al.canvasToTempFilePath,canvasGetImageData:Al.canvasGetImageData,canvasPutImageData:Al.canvasPutImageData,createAnimation:rs,reportAnalytics:c.b.reportAnalytics,chooseImage:Zl,previewImage:ef,getImageInfo:function(e){return tf(e,gl.downloadFile.bind(this))},saveImageToPhotosAlbum:nf,startRecord:rf,stopRecord:of,getRecorderManager:af,playVoice:uf,pauseVoice:lf,stopVoice:ff,getBackgroundAudioManager:ui.getBackgroundAudioManager,chooseVideo:sf,saveVideoToPhotosAlbum:cf,getLocation:ws,openLocation:Cs,chooseLocation:Ss,getNetworkType:vo.getNetworkType,onNetworkStatusChange:vo.onNetworkStatusChange,getSystemInfo:en.getSystemInfo,getSystemInfoSync:en.getSystemInfoSync,getQua:en.getQua,getEnvVersion:Li.getEnvVersion,startAccelerometer:Wi.startAccelerometer,stopAccelerometer:Wi.stopAccelerometer,onAccelerometerChange:Wi.onAccelerometerChange,startCompass:$i.startCompass,stopCompass:$i.stopCompass,onCompassChange:$i.onCompassChange,getClipboardData:Ki.getClipboardData,setClipboardData:Ki.setClipboardData,makePhoneCall:Gi.makePhoneCall,makeVoIPCall:Gi.makeVoIPCall,scanCode:Hi.scanCode,openBluetoothAdapter:Zi.openBluetoothAdapter,closeBluetoothAdapter:Zi.closeBluetoothAdapter,getBluetoothAdapterState:Zi.getBluetoothAdapterState,onBluetoothAdapterStateChange:Zi.onBluetoothAdapterStateChange,startBluetoothDevicesDiscovery:Zi.startBluetoothDevicesDiscovery,stopBluetoothDevicesDiscovery:Zi.stopBluetoothDevicesDiscovery,getBluetoothDevices:Zi.getBluetoothDevices,getConnectedBluetoothDevices:Zi.getConnectedBluetoothDevices,createBLEConnection:Zi.createBLEConnection,closeBLEConnection:Zi.closeBLEConnection,getBLEDeviceServices:Zi.getBLEDeviceServices,getBLEDeviceCharacteristics:Zi.getBLEDeviceCharacteristics,getHCEState:ra.getHCEState,startHCE:ra.startHCE,stopHCE:ra.stopHCE,sendHCEMessage:ra.sendHCEMessage,onHCEMessage:ra.onHCEMessage,notifyBLECharacteristicValueChanged:Zi.notifyBLECharacteristicValueChanged,notifyBLECharacteristicValueChange:Zi.notifyBLECharacteristicValueChange,readBLECharacteristicValue:Zi.readBLECharacteristicValue,writeBLECharacteristicValue:Zi.writeBLECharacteristicValue,onBluetoothDeviceFound:Zi.onBluetoothDeviceFound,onBLEConnectionStateChanged:Zi.onBLEConnectionStateChanged,onBLEConnectionStateChange:Zi.onBLEConnectionStateChange,onBLECharacteristicValueChange:Zi.onBLECharacteristicValueChange,startBeaconDiscovery:Yi.startBeaconDiscovery,stopBeaconDiscovery:Yi.stopBeaconDiscovery,getBeacons:Yi.getBeacons,onBeaconUpdate:Yi.onBeaconUpdate,onBeaconServiceChange:Yi.onBeaconServiceChange,captureScreen:Hl,onUserCaptureScreen:zl,setKeepScreenOn:Kl,setScreenBrightness:Yl,getScreenBrightness:Jl,vibrateShort:Ql,vibrateLong:Xl,addPhoneContact:df,login:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=p({},e,{miniprogram_appid:W.accountInfo.appId});Nl.call(this,{apiName:"webapi_plugin_login",reqData:t,success:function(t){_extends(t,JSON.parse(t.respData.data)),delete t.respData,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},getUserInfo:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=p({},e,{miniprogram_appid:W.accountInfo.appId});jl.call(this,{apiName:"webapi_plugin_getuserinfo",reqData:t,success:function(t){t.userInfo=JSON.parse(t.respData.data),delete t.respData,"function"==typeof e.success&&e.success(t)},fail:e.fail,complete:e.complete})},operateWXData:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=Yu(this);e.pluginId=t,Hn(e)},showModal:Ef,showToast:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(e.image){if(0!==e.image.indexOf("/"))return void Object(r.g)("showToast",e,"parameter 'image' must be begin with '/'");var t=Yu(this);e=p({},e,{image:__virtualDOM__.getPluginRoutePrefix(t)+e.image.substr(1)})}Fa.showToast(e)},hideToast:wf,showLoading:Sf,hideLoading:Cf,showActionSheet:If,hideHomeButton:mh,pageScrollTo:Ya,setPageStyle:es,startPullDownRefresh:Ja,stopPullDownRefresh:Qa,setNavigationBarTitle:Of,showNavigationBarLoading:Tf,hideNavigationBarLoading:kf,setNavigationBarColor:Af,setNavigationBarAlpha:xf,setNavigationBarRightButton:Pf,onTapNavigationBarRightButton:Df,getShareInfo:l.a.getShareInfo,showShareMenu:l.a.showShareMenu,hideShareMenu:l.a.hideShareMenu,updateShareMenu:l.a.updateShareMenu,setBackgroundColor:ds,setBackgroundTextStyle:ps,navigateTo:Nf,redirectTo:jf,navigateBack:Rf,switchTab:Mf,reLaunch:Bf,getBackgroundAudioPlayerState:pf,playBackgroundAudio:hf,pauseBackgroundAudio:gf,seekBackgroundAudio:vf,stopBackgroundAudio:_f,onBackgroundAudioPlay:yf,onBackgroundAudioPause:bf,onBackgroundAudioStop:mf,setCookies:function(e){Pl.call(this,ut,function(t){var n="setCookies:ok";if(t){var r=mt(e);r?(n=r,"function"==typeof e.fail&&e.fail({errMsg:n})):"function"==typeof e.success&&e.success({errMsg:n})}else n="setCookies:fail has no permission for setCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})})},getCookies:function(e){Pl.call(this,lt,function(t){var n="getCookies:ok";if(t){var r=wt(e);"function"==typeof e.success&&e.success({errMsg:n,cookies:r})}else n="getCookies:fail has no permission for getCookies API","function"==typeof e.fail&&e.fail({errMsg:n});"function"==typeof e.complete&&e.complete({errMsg:n})})},arrayBufferToBase64:Reporter.surroundThirdByTryCatch(se),base64ToArrayBuffer:Reporter.surroundThirdByTryCatch(ce)};function Jh(e,t){return new yl(Yh,e,t)}var Qh={wx:Lh,createPluginWX:Jh,showShareMenu:l.a.showShareMenu,setWxInterfaceDisabled:ke,setWxInterfaceIsInvokeInTap:Pe,unsetWxInterfaceIsInvokeInTap:De,_setWxIsInvokeInTapForNavToMiniProgram:Da._setWxIsInvokeInTapForNavToMiniProgram,_createSelectorQuery:Ps,_createIntersectionObserver:Ms,pluginInfos:Lf,_virtualDOMTunnel:($h=r.n,Gh=r.o,{vdSync:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.splice(0,0,"vdSync"),$h.apply(void 0,t)},vdSyncBatch:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.splice(0,0,"vdSyncBatch"),$h.apply(void 0,t)},onVdSync:function(e){Gh("vdSync",e)},onVdSyncBatch:function(e){Gh("vdSyncBatch",e)}})};Qf(Qh,Fh,Uh),Qf(Qh,Kh,Uh),Qf(Qh,lc,Uh),t.default=Qh}.call(this,n(13)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports={ad:{"1.1.0":["unit-id"]},audio:{"1.0.0":["id","src","loop","controls","poster","name","author","binderror","bindplay","bindpause","bindtimeupdate","bindended"]},button:{"1.0.0":[{size:["default","mini"]},{type:["primary","default","warn"]},"plain","disabled","loading",{"form-type":["submit","reset"]},"hover-class","hover-start-time","hover-stay-time",{"open-type":["contact","share","getUserInfo","launchApp","openSetting"]},"app-parameter","binderror","bindopensetting","hover-stop-propagation","send-message-title","send-message-path","send-message-img","show-message-card","bindcontact","session-from"],"1.2.0":[{"open-type":["feedback"]}],"1.4.1":["share-type"],"1.4.7":[{"open-type":["getPhoneNumber","openGroupProfile"]},"group-id","bindgetphonenumber"],"1.8.0":[{"open-type":["addFriend"]},"open-id"]},camera:{"1.0.0":["device-position","flash","bindstop","binderror","mode","scan-area","bindscancode"]},canvas:{"1.0.0":["canvas-id","disable-scroll","bindtouchstart","bindtouchmove","bindtouchend","bindtouchcancel","bindlongtap","binderror"]},"checkbox-group":{"1.0.0":["bindchange"]},checkbox:{"1.0.0":["value","disabled","checked","color"]},"contact-button":{"1.0.0":["size",{type:["default-dark","default-light"]},"session-from"]},"cover-view":{"1.0.0":["scroll-top"]},"cover-image":{"1.0.0":["src","bindload","binderror"]},form:{"1.0.0":["report-submit","bindsubmit","bindreset","bindautofill"]},icon:{"1.0.0":[{type:["success","success_no_circle","info","warn","waiting","cancel","download","search","clear"]},"size","color"]},image:{"1.0.0":["src",{mode:["scaleToFill","aspectFit","aspectFill","widthFix","top","bottom","center","left","right","top left","top right","bottom left","bottom right"]},"binderror","bindload","lazy-load"]},input:{"1.0.0":["value",{type:["text","number","idcard","digit"]},"password","placeholder","placeholder-style","placeholder-class","disabled","maxlength","cursor-spacing","auto-focus","focus","bindinput","bindfocus","bindblur","bindconfirm",{"confirm-type":["send","search","next","go","done"]},"confirm-hold","cursor","selection-start","selection-end","adjust-position","auto-fill"]},label:{"1.0.0":["for"]},"live-player":{"1.5.1":["src","mode","autoplay","muted","orientation","object-fit","background-mute","min-cache","max-cache","bindstatechange","bindfullscreenchange","bindnetstatus"],"1.9.0":["mute-audio","mute-video","need-audio-volume","enable-recv-messag","bindaudiovolumenotify"]},"live-pusher":{"1.9.0":["url","mode","autopush","muted","enable-camera","enable-mic","enable-agc","enable-ans","enable-ear-monitor","video-width","video-height","local-mirror","remote-mirror","audio-volume-type","audio-reverb-type","enable-audio-preview","auto-focus","orientation","beauty","whiteness","aspect","min-bitrate","max-bitrate","waiting-image","waiting-image-hash","background-mute","bindstatechange","zoom","bindbgmstart","bindbgmprogress","bindbgmcomplete","bindnetstatus","binderror"]},map:{"2.0.0":["longitude","latitude","scale",{markers:["id","latitude","longitude","title","iconPath","rotate","alpha","width","height"]},"covers",{polyline:["points","color","width","dottedLine"]},{circles:["latitude","longitude","color","fillColor","radius","strokeWidth"]},{controls:["id","position","iconPath","clickable"]},"include-points","show-location","bindmarkertap","bindcontroltap","bindregionchange","bindtap",{markers:["callout","label","anchor"]},{polyline:["arrowLine","borderColor","borderWidth"]},"bindcallouttap",{polyline:["arrowIconPath"]},"bindupdated",{markers:["zIndex"]},{polygons:["points","strokeWidth","strokeColor","fillColor","zIndex","visible"]},"sub-key","enable-3D","show-compass","enable-overlooking","enable-zoom","enable-scroll","enable-rotate","bindpoitap"]},modal:{"1.0.0":[]},"movable-area":{"1.0.0":["scale-area"]},"movable-view":{"1.0.0":["direction","inertia","out-of-bounds","x","y","damping","friction","disabled","scale","scale-min","scale-max","scale-value","bindchange","bindscale","animation"]},navigator:{"1.0.0":["url",{"open-type":["navigate","redirect","switchTab","exit","reLaunch","navigateBack"]},"delta","hover-class","hover-start-time","hover-stay-time","target","app-id","path","extra-data","version","hover-stop-propagation"]},"open-data":{"1.1.0":[{type:["userNickName","userAvatarUrl","userGender","userCity","userProvince","userCountry","userLanguage"]},"open-gid","lang"],"2.0.0":[{type:["groupName"]}]},"picker-view":{"1.0.0":["value","indicator-style","bindchange","indicator-class","mask-style","mask-class"]},"picker-view-column":{"1.0.0":[]},picker:{"1.0.0":["range","range-key","value","bindchange","disabled","bindcolumnchange","start","end",{fields:["year","month","day"]},{mode:["selector","date","time","multiSelector","region"]},"bindcancel","auto-fill","bindcolumnchange","custom-item"]},progress:{"1.0.0":["percent","show-info","stroke-width","color","activeColor","backgroundColor","active","active-mode","bindactiveend"]},"radio-group":{"1.0.0":["bindchange"]},radio:{"1.0.0":["value","checked","disabled","color"]},"rich-text":{"1.0.0":[{nodes:["name","attrs","children"]},"space"]},"scroll-view":{"1.0.0":["scroll-x","scroll-y","upper-threshold","lower-threshold","scroll-top","scroll-left","scroll-into-view","scroll-with-animation","enable-back-to-top","bindscrolltoupper","bindscrolltolower","bindscroll"]},slider:{"1.0.0":["min","max","step","disabled","value","color","selected-color","activeColor","backgroundColor","show-value","bindchange","block-size","block-color","bindchanging"]},swiper:{"1.0.0":["indicator-dots","autoplay","current","interval","duration","circular","vertical","bindchange","indicator-color","indicator-active-color","current-item-id","previous-margin","next-margin","display-multiple-items","skip-hidden-item-layout","bindanimationfinish"]},"swiper-item":{"1.0.0":["item-id"]},switch:{"1.0.0":["checked",{type:["switch","checkbox"]},"bindchange","color"]},text:{"1.0.0":["selectable",{space:["ensp","emsp","nbsp"]},"decode"]},textarea:{"1.0.0":["value","placeholder","placeholder-style","placeholder-class","disabled","maxlength","auto-focus","focus","auto-height","fixed","cursor-spacing","bindfocus","bindblur","bindlinechange","bindinput","bindconfirm","cursor","show-confirm-bar","selection-start","selection-end","adjust-position","auto-fill"]},video:{"1.0.0":["src","controls","danmu-list","danmu-btn","enable-danmu","autoplay","objectFit","poster","bindplay","bindpause","bindended","bindtimeupdate","initial-time","page-gesture","duration","loop","muted","bindfullscreenchange","direction","bindwaiting","binderror","show-progress","show-fullscreen-btn","show-play-btn","show-center-play-btn","enable-progress-gesture","bindprogress"]},view:{"1.0.0":["hover-class","hover-start-time","hover-stay-time","hover-stop-propagation"]},"web-view":{"1.1.1":["src","bindmessage"]},"functional-page-navigator":{"1.0.0":["version",{name:["loginAndGetUserInfo","requestPayment"]},"args","bindsuccess","bindfail"]},"official-account":{"2.0.0":[]}}},function(e,t){e.exports={onAccelerometerChange:{"1.0.0":[{callback:["x","y","z"]}]},startAccelerometer:{"1.0.0":[{object:["interval"]}]},stopAccelerometer:{"1.0.0":[]},chooseAddress:{"1.0.0":[{success:["userName","postalCode","provinceName","cityName","countyName","detailInfo","nationalCode","telNumber"]}]},getMenuButtonBoundingClientRect:{"1.1.0":[]},reportAnalytics:{"3.0.0":[]},createAnimation:{"1.0.0":[{object:["duration",{timingFunction:["linear","ease","ease-in","ease-in-out","ease-out","step-start","step-end"]},"delay","transformOrigin"]}]},createAudioContext:{"1.0.0":[]},createCameraContext:{"1.0.0":[]},canIUse:{"1.0.0":[]},createAppBox:{"1.7.1":[{object:["adUnitId"]}]},createRewardedVideoAd:{"1.7.1":[{object:["adUnitId"]}]},createInterstitialAd:{"1.8.6":[{object:["adUnitId"]}]},createLivePlayerContext:{"1.5.1":["play","stop","mute","requestFullScreen","exitFullScreen","null","pause","resume"]},createLivePusherContext:{"1.9.0":["start","stop","pause","resume","switchCamera","null","snapshot","toggleTorch","pauseBGM","playBGM","resumeBGM","setBGMVolume","startPreview","stopPreview","stopBGM","setMICVolume","setAudioVolumeType","setBGMPosition","sendMessage"]},login:{"1.0.0":[{success:["code"]},{object:["timeout"]}]},createMapContext:{"2.0.0":[]},requestPayment:{"1.1.0":[{object:["timeStamp","nonceStr","package","signType","paySign"]}]},requestMidasGoodsPay:{"2.0.0":[{object:["offerId","payInfo"]}]},requestMidasMonthCardPay:{"2.0.0":[{object:["offerId","isShowNum","unit","serviceCode","serviceName","channel","saveValue","isCanChange","remark","autoPay","aid","productId","couponId","other","payload","drmInfo"]}]},showToast:{"1.0.0":[{object:["title","icon","duration","mask","image"]}]},showLoading:{"1.0.0":[{object:["title","mask"]}]},hideToast:{"1.0.0":[]},hideLoading:{"1.0.0":[]},showModal:{"1.0.0":[{object:["title","content","showCancel","cancelText","cancelColor","confirmText","confirmColor"]},{success:["confirm","cancel"]}]},showActionSheet:{"1.0.0":[{object:["itemList","itemColor"]},{success:["tapIndex"]}]},hideHomeButton:{"2.0.0":[]},arrayBufferToBase64:{"1.1.0":[]},base64ToArrayBuffer:{"1.1.0":[]},createVideoContext:{"1.0.0":[]},authorize:{"1.0.0":[{object:["scope"]}]},openBluetoothAdapter:{"3.0.0":[]},closeBluetoothAdapter:{"3.0.0":[]},getBluetoothAdapterState:{"3.0.0":[{success:["discovering","available"]}]},onBluetoothAdapterStateChange:{"3.0.0":[{callback:["available","discovering"]}]},startBluetoothDevicesDiscovery:{"3.0.0":[{object:["services","allowDuplicatesKey","interval"]}]},stopBluetoothDevicesDiscovery:{"3.0.0":[]},getBluetoothDevices:{"3.0.0":[{success:["devices"]}]},onBluetoothDeviceFound:{"3.0.0":[{callback:["devices"]}]},getConnectedBluetoothDevices:{"3.0.0":[{object:["services"]},{success:["devices"]}]},createBLEConnection:{"3.0.0":[{object:["deviceId","timeout"]}]},closeBLEConnection:{"3.0.0":[{object:["deviceId"]}]},onBLEConnectionStateChange:{"3.0.0":[{callback:["deviceId","connected"]}]},getBLEDeviceServices:{"3.0.0":[{object:["deviceId"]},{success:["services"]}]},getBLEDeviceCharacteristics:{"3.0.0":[{object:["deviceId","serviceId"]},{success:["characteristics"]}]},readBLECharacteristicValue:{"3.0.0":[{object:["deviceId","serviceId","characteristicId"]},{success:["errCode"]}]},writeBLECharacteristicValue:{"3.0.0":[{object:["deviceId","serviceId","characteristicId","value"]}]},notifyBLECharacteristicValueChange:{"3.0.0":[{object:["deviceId","serviceId","characteristicId","state"]}]},onBLECharacteristicValueChange:{"3.0.0":[{callback:["deviceId","serviceId","characteristicId","value"]}]},addCard:{"2.0.0":[{object:["cardList"]},{success:["cardList"]}]},openCard:{"2.0.0":[{object:["cardList"]}]},checkIsSoterEnrolledInDevice:{"1.0.0":[{object:["checkAuthMode"]},{success:["isEnrolled"]}]},checkIsSupportSoterAuthentication:{"2.0.0":[{success:[{supportMode:["fingerPrint","facial","speech"]}]}]},chooseInvoiceTitle:{"2.0.0":[{success:["type","title","taxNumber","companyAddress","telephone","bankName","bankAccount"]}]},setClipboardData:{"1.0.0":[{object:["data"]}]},getClipboardData:{"1.0.0":[{success:["data"]}]},onCompassChange:{"1.0.0":[{callback:["direction","accuracy"]}]},startCompass:{"1.0.0":[]},stopCompass:{"1.0.0":[]},createInnerAudioContext:{"1.0.0":[]},createWorker:{"1.0.0":["postMessage","onMessage","terminate","null"]},setStorage:{"1.0.0":[{object:["key","data"]}]},setStorageSync:{"1.0.0":[]},getStorage:{"1.0.0":[{object:["key"]},{success:["data"]}]},getStorageSync:{"1.0.0":[]},getStorageInfo:{"1.0.0":[{success:["keys","currentSize","limitSize"]}]},getBackgroundFetchData:{"1.0.0":[{success:["fetchedData","timeStamp"]}]},removeStorage:{"1.0.0":[{object:["key"]}]},removeStorageSync:{"1.0.0":[]},clearStorage:{"1.0.0":[]},clearStorageSync:{"1.0.0":[]},getOpenDeviceId:{"1.0.0":[{success:["encryptedData","iv"]}]},getNetworkType:{"1.0.0":[{success:["networkType"]}]},onNetworkStatusChange:{"1.0.0":[{callback:["isConnected",{networkType:["wifi","2g","3g","4g","none","unknown"]}]}]},setScreenBrightness:{"1.0.0":[{object:["value"]}]},getScreenBrightness:{"1.0.0":[{success:["value"]}]},vibrateLong:{"1.0.0":[]},vibrateShort:{"1.0.0":[]},getExtConfig:{"2.0.0":[{success:["extConfig"]}]},getExtConfigSync:{"2.0.0":[]},saveFile:{"1.0.0":[{object:["tempFilePath"]},{success:["savedFilePath"]}]},getSavedFileList:{"1.0.0":[{success:["fileList"]}]},getSavedFileInfo:{"1.0.0":[{object:["filePath"]},{success:["size","createTime"]}]},removeSavedFile:{"1.0.0":[{object:["filePath"]}]},openDocument:{"1.0.0":[{object:["filePath"]}],"1.0.0":[{object:["fileType"]}]},getRecorderManager:{"1.0.0":[]},getBackgroundAudioManager:{"1.0.0":[]},getFileInfo:{"1.0.0":[{object:["filePath",{digestAlgorithm:["md5","sha1"]}]},{success:["size","digest"]}]},getLogManager:{"1.0.0":["log","info","warn","debug"]},getUpdateManager:{"1.0.0":["onCheckForUpdate","onUpdateReady","onUpdateFailed","applyUpdate","null"]},startBeaconDiscovery:{"2.0.0":[{object:["uuids"]}]},stopBeaconDiscovery:{"2.0.0":[]},getBeacons:{"2.0.0":[{success:["beacons"]}]},onBeaconUpdate:{"2.0.0":[{callback:["beacons"]}]},onBeaconServiceChange:{"2.0.0":[{callback:["available","discovering"]}]},getLocation:{"1.0.0":[{object:["type","altitude"]},{success:["latitude","longitude","speed","accuracy","altitude","verticalAccuracy","horizontalAccuracy"]}]},chooseLocation:{"1.0.0":[{success:["name","address","latitude","longitude"]}]},openLocation:{"1.0.0":[{object:["latitude","longitude","scale","name","address"]}]},subscribeAppMsg:{"1.7.0":[]},getBackgroundAudioPlayerState:{"1.0.0":[{success:["duration","currentPosition","status","downloadPercent","dataUrl"]}]},playBackgroundAudio:{"1.0.0":[{object:["dataUrl","title","coverImgUrl"]}]},pauseBackgroundAudio:{"1.0.0":[]},seekBackgroundAudio:{"1.0.0":[{object:["position"]}]},stopBackgroundAudio:{"1.0.0":[]},onBackgroundAudioPlay:{"1.0.0":[]},onBackgroundAudioPause:{"1.0.0":[]},onBackgroundAudioStop:{"1.0.0":[]},loadFontFace:{"2.0.0":[{object:["family","source","desc"]}]},chooseImage:{"1.0.0":[{object:["count","sizeType","sourceType"]},{success:["tempFilePaths","tempFiles"]}]},previewImage:{"1.0.0":[{object:["current","urls"]}]},getImageInfo:{"1.0.0":[{object:["src"]},{success:["width","height","path","orientation","type"]}]},saveImageToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},startRecord:{"1.0.0":[{success:["tempFilePath"]}]},stopRecord:{"1.0.0":[]},chooseVideo:{"1.0.0":[{object:["sourceType","maxDuration","compressed"]},{success:["tempFilePath","duration","size","height","width"]}]},saveVideoToPhotosAlbum:{"1.0.0":[{object:["filePath"]}]},playVoice:{"1.0.0":[{object:["filePath","duration"]}]},pauseVoice:{"1.0.0":[]},stopVoice:{"1.0.0":[]},reportMonitor:{"1.0.0":[]},navigateBackMiniProgram:{"1.1.0":[{object:["extraData"]}]},navigateToMiniProgram:{"1.1.0":[{object:["appId","path","extraData","envVersion"]}]},startDownloadAppTask:{"1.6.3":[{object:["appid","onDownloadAppSucceed","onDownloadAppFailed","onDownloadAppProgress"]}],"1.7.1":[{object:["autoInstall"]}]},cancelDownloadAppTask:{"1.6.3":[{object:["appid"]}]},queryDownloadAppTask:{"1.6.3":[{object:["appid"]}]},queryAppInfo:{"1.6.3":[{object:["packagename"]}]},installApp:{"1.6.3":[{object:["appid"]}]},startApp:{"1.6.3":[{object:["packagename","path"]}]},uploadFile:{"1.0.0":[{object:["url","filePath","name","header","formData"]},{success:["data","statusCode"]}]},downloadFile:{"1.0.0":[{object:["url","header"]},{success:["tempFilePath","statusCode"]}]},request:{"1.0.0":[{object:["url","data","header","responseType",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]},"dataType"]},{success:["data","statusCode","header"]}]},wnsRequest:{"1.0.0":[{object:["url","data","header","responseType",{method:["GET","POST"]},"dataType"]},{success:["data","statusCode","header"]}]},notifyNative:{"1.0.0":[]},openScheme:{"1.3.0":[]},getCloudTicket:{"1.8.0":["evnId"]},setOfficialDress:{"1.4.0":[]},setCustomDress:{"1.4.0":[]},getUserInfoExtra:{"1.3.0":[{success:["errMsg","encryptedData","iv"]}]},invokeNativePlugin:{"1.3.0":[]},openQzonePublish:{"1.5.0":[]},onNativePluginEvent:{"1.3.0":[]},connectSocket:{"1.0.0":[{object:["url","header","protocols",{method:["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT"]}]}]},onSocketOpen:{"1.0.0":[]},onSocketError:{"1.0.0":[]},sendSocketMessage:{"1.0.0":[{object:["data"]}]},onSocketMessage:{"1.0.0":[{callback:["data"]}]},closeSocket:{"1.0.0":[{object:["code","reason"]}]},onSocketClose:{"1.0.0":[]},getHCEState:{"2.0.0":[{success:["errCode"]}]},startHCE:{"2.0.0":[{object:["aid_list"]},{success:["errCode"]}]},stopHCE:{"2.0.0":[{success:["errCode"]}]},onHCEMessage:{"2.0.0":[{callback:["messageType","data","reason"]}]},sendHCEMessage:{"2.0.0":[{object:["data"]},{success:["errCode"]}]},onUserCaptureScreen:{"1.0.0":[]},chooseContact:{"1.0.0":[{success:["phoneNumber","displayName"]}]},getUserInfo:{"1.0.0":[{success:["userInfo","rawData","signature","encryptedData","iv"],object:["timeout"]}],"2.0.0":[{object:["withCredentials"]}],"2.0.0":[{object:["lang"]}]},addPhoneContact:{"1.0.0":[{object:["photoFilePath","nickName","lastName","middleName","firstName","remark","mobilePhoneNumber","weChatNumber","addressCountry","addressState","addressCity","addressStreet","addressPostalCode","organization","title","workFaxNumber","workPhoneNumber","hostNumber","email","url","workAddressCountry","workAddressState","workAddressCity","workAddressStreet","workAddressPostalCode","homeFaxNumber","homePhoneNumber","homeAddressCountry","homeAddressState","homeAddressCity","homeAddressStreet","homeAddressPostalCode"]}]},makePhoneCall:{"1.0.0":[{object:["phoneNumber"]}]},startPullDownRefresh:{"1.0.0":[]},stopPullDownRefresh:{"1.0.0":[]},scanCode:{"1.0.0":[{success:["result","scanType","charSet","path","rawData"],object:["scanType","onlyFromCamera"]}]},pageScrollTo:{"1.0.0":[{object:["scrollTop","duration"]}]},setEnableDebug:{"1.0.0":[{object:["enableDebug"]}]},setKeepScreenOn:{"1.0.0":[{object:["keepScreenOn"]}]},setNavigationBarColor:{"1.0.0":[{object:["frontColor","backgroundColor","animation","animation.duration",{"animation.timingFunc":["linear","easeIn","easeOut","easeInOut"]}]}]},openSetting:{"1.0.0":[{success:["authSetting"]}]},getSetting:{"1.0.0":[{success:["authSetting"]}]},showShareMenu:{"1.0.0":[{object:["withShareTicket"]}]},hideShareMenu:{"1.0.0":[]},updateShareMenu:{"1.0.0":[{object:["withShareTicket","dynamic","widget","isUpdatableMessage","activityId","templateInfo"]}]},getShareInfo:{"1.0.0":[{object:["shareTicket","timeout"]},{callback:["encryptedData","iv"]}]},checkSession:{"1.0.0":[]},startSoterAuthentication:{"1.0.0":[{object:["requestAuthModes","challenge","authContent"]},{success:["errCode","authMode","resultJSON","resultJSONSignature"]}]},getSystemInfo:{"1.0.0":[{success:["model","pixelRatio","windowWidth","windowHeight","language","version","system","platform","brand","fontSizeSetting","screenWidth","screenHeight","SDKVersion","statusBarHeight"]}]},getSystemInfoSync:{"1.0.0":[{return:["model","pixelRatio","windowWidth","windowHeight","language","version","system","platform","brand","fontSizeSetting","screenWidth","screenHeight","SDKVersion","statusBarHeight"]}]},getQua:{"1.0.0":[{success:["qua"]}]},getEnvVersion:{"1.7.0":[]},setBackgroundColor:{"1.0.0":[{object:["backgroundColor","backgroundColorTop","backgroundColorBottom"]}]},setBackgroundTextStyle:{"1.0.0":[{object:["textStyle"]}]},navigateTo:{"1.0.0":[{object:["url"]}]},redirectTo:{"1.0.0":[{object:["url"]}]},reLaunch:{"1.0.0":[{object:["url"]}]},switchTab:{"1.0.0":[{object:["url"]}]},navigateBack:{"1.0.0":[{object:["delta"]}]},setTabBarBadge:{"1.0.0":[{object:["index","text"]}]},removeTabBarBadge:{"1.0.0":[{object:["index"]}]},showTabBarRedDot:{"1.0.0":[{object:["index"]}]},hideTabBarRedDot:{"1.0.0":[{object:["index"]}]},setTabBarStyle:{"1.0.0":[{object:["color","selectedColor","backgroundColor","borderStyle"]}]},setTabBarItem:{"1.0.0":[{object:["index","text","iconPath","selectedIconPath"]}]},showTabBar:{"1.0.0":[{object:["animation"]}]},hideTabBar:{"1.0.0":[{object:["animation"]}]},setTopBarText:{"1.0.0":[{object:["text"]}]},setNavigationBarTitle:{"1.0.0":[{object:["title"]}]},showNavigationBarLoading:{"1.0.0":[]},hideNavigationBarLoading:{"1.0.0":[]},getWeRunData:{"1.7.0":[{success:["encryptedData","iv"],object:["timeout"]}]},getQQRunData:{"1.7.0":[{success:["encryptedData","iv"],object:["timeout"]}]},startWifi:{"1.0.0":[]},stopWifi:{"1.0.0":[]},connectWifi:{"1.0.0":[{object:["SSID","BSSID","password"]}]},getWifiList:{"1.0.0":[]},onGetWifiList:{"1.0.0":[{callback:["wifiList"]}]},setWifiList:{"1.0.0":[{object:["wifiList"]}]},onWifiConnected:{"1.0.0":[{callback:["wifi"]}]},getConnectedWifi:{"1.0.0":[{success:["wifi"]}]},createSelectorQuery:{"1.0.0":[]},makeVoIPCall:{"1.0.0":[{object:["allowBackCamera","showOther","avatarUrl","context"]}]},createCanvasContext:{"1.0.0":[]},canvasGetImageData:{"1.0.0":[{object:["canvasId","x","y","width","height"]},{success:["width","height","data"]}]},canvasPutImageData:{"1.0.0":[{object:["canvasId","data","x","y","width","height"]}]},canvasToTempFilePath:{"1.0.0":[{object:["canvasId","x","y","width","height","destWidth","destHeight","fileType","quality"]}]},canvasContext:{"1.0.0":["addColorStop","arc","beginPath","bezierCurveTo","clearActions","clearRect","closePath","createCircularGradient","createLinearGradient","drawImage","draw","fillRect","fillText","fill","lineTo","moveTo","quadraticCurveTo","rect","rotate","save","scale","setFillStyle","setFontSize","setGlobalAlpha","setLineCap","setLineJoin","setLineWidth","setMiterLimit","setShadow","setStrokeStyle","strokeRect","stroke","translate","arcTo","createPattern","font","globalCompositeOperation","lineDashOffset","measureText","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","setTransform","strokeText","transform","clip","setLineDash","setTextAlign","setTextBaseline"]},animation:{"1.0.0":["opacity","backgroundColor","width","height","top","left","bottom","right","rotate","rotateX","rotateY","rotateZ","rotate3d","scale","scaleX","scaleY","scaleZ","scale3d","translate","translateX","translateY","translateZ","translate3d","skew","skewX","skewY","matrix","matrix3d"]},audioContext:{"1.0.0":["setSrc","play","pause","seek"]},cameraContext:{"1.0.0":["takePhoto","startRecord","stopRecord"]},mapContext:{"1.0.0":["getCenterLocation","moveToLocation","translateMarker","includePoints","getRegion","getScale"]},videoContext:{"1.0.0":["play","pause","seek","sendDanmu","playbackRate","requestFullScreen","exitFullScreen","showStatusBar","hideStatusBar"]},innerAudioContext:{"1.0.0":["play","pause","stop","seek","destroy","onCanplay","onPlay","onPause","onStop","onEnded","onTimeUpdate","onError","onWaiting","onSeeking","onSeeked","src","startTime","autoplay","loop","obeyMuteSwitch","duration","currentTime","paused","buffered","offCanplay","offPlay","offPause","offStop","offEnded","offTimeUpdate","offError","offWaiting","offSeeking","offSeeked",{props:["volume"]},"volume"]},recorderManager:{"1.0.0":["start","pause","resume","stop","onStart","onPause","onStop","onFrameRecorded","onError"]},backgroundAudioManager:{"1.0.0":["play","pause","stop","seek","onCanplay","onPlay","onPause","onStop","onEnded","onTimeUpdate","onPrev","onNext","onError","onWaiting","duration","currentTime","paused","src","startTime","buffered","title","epname","singer","coverImgUrl","webUrl","protocol"]},uploadTask:{"1.0.0":["onProgressUpdate","abort"]},downloadTask:{"1.0.0":["onProgressUpdate","abort"]},requestTask:{"1.0.0":["abort"]},selectorQuery:{"1.0.0":["in","select","selectAll","selectViewport","exec"]},onBLEConnectionStateChanged:{"2.0.0":[{callback:["deviceId","connected"]}]},notifyBLECharacteristicValueChanged:{"2.0.0":[{object:["deviceId","serviceId","characteristicId","state"]}]},sendBizRedPacket:{"1.0.0":[{object:["timeStamp","nonceStr","package","signType","paySign"]}]},captureScreen:{"1.0.0":[{success:["tempFilePath"]}]},getFileSystemManager:{"1.0.0":[]},onMemoryWarning:{"1.0.0":[{callback:["level"]}]},nextTick:{"1.0.0":[]},getAccountInfoSync:{"1.0.0":[]},getAvailableAudioSources:{"1.0.0":[{success:["audioSources"]}]},compressImage:{"1.0.0":[{object:["src","quality"]}]},offLocalServiceDiscoveryStop:{"2.0.0":[]},offLocalServiceFound:{"2.0.0":[]},offLocalServiceLost:{"2.0.0":[]},offLocalServiceResolveFail:{"2.0.0":[]},onLocalServiceDiscoveryStop:{"2.0.0":[]},onLocalServiceFound:{"2.0.0":[]},onLocalServiceLost:{"2.0.0":[]},onLocalServiceResolveFail:{"2.0.0":[]},startLocalServiceDiscovery:{"2.0.0":[]},stopLocalServiceDiscovery:{"2.0.0":[]},saveAppToDesktop:{"1.7.1":[]},addGroupCalendar:{"1.13.0":[{object:["entryDataHash","startTime","endTime","remindTime","title","desc"],success:["event_id"]}]},modifyGroupCalendar:{"1.13.0":[{object:["entryDataHash","startTime","endTime","remindTime","title","desc","eventId"],success:["event_id"]}]},removeGroupCalendar:{"1.13.0":[{object:["entryDataHash","eventId"]}]},getGroupCalendarDetail:{"1.13.0":[{object:["entryDataHash","eventId"],success:["event","role"]}]},openActivity:{"1.9.0":[{object:["url"]}]},getPerformance:{"1.9.0":[]},showMiniAIOEntrance:{"1.11.0":[]},hideMiniAIOEntrance:{"1.11.0":[]},getGroupInfo:{"1.6.2":[{object:["entryDataHash"],success:["isGroupManager"]}]},getGroupInfoExtra:{"1.11.1":[{object:["entryDataHash"],success:["isGroupManager","groupOpenId","role","groupId"]}]},setBackgroundFetchToken:{"1.14.0":[{object:["token"]}]},getBackgroundFetchToken:{"1.14.0":[{success:["token"]}]},getBackgroundFetchData:{"1.14.0":[{object:["fetchType"],success:["fetchedData","timeStamp"]}]},onBackgroundFetchData:{"1.14.0":[]},joinVoIPChat:{"1.5.1":[{object:["appId","groupId","nonceStr","timeStamp","signature",{muteConfig:["muteMicrophone","muteEarphone"]}],success:["openIdList","errCode"]}]},exitVoIPChat:{"1.5.1":[]},updateVoIPChatMuteConfig:{"1.5.1":[{object:[{muteConfig:["muteMicrophone","muteEarphone"]}]}]},onVoIPChatMembersChanged:{"1.5.1":[{callback:["openIdList","errCode"]}]},onVoIPChatSpeakersChanged:{"1.5.1":[{callback:["openIdList","errCode"]}]},onVoIPChatInterrupted:{"1.5.1":[{callback:["errCode"]}]}}},function(e,t,n){(function(e,r){var o;function i(e){return(i="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}!function(a){var s="object"==i(t)&&t&&!t.nodeType&&t,c="object"==i(e)&&e&&!e.nodeType&&e,u="object"==(void 0===r?"undefined":i(r))&&r;u.global!==u&&u.window!==u&&u.self!==u||(a=u);var l,f,d=2147483647,p=36,h=1,g=26,v=38,_=700,y=72,b=128,m="-",w=/^xn--/,S=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=p-h,O=Math.floor,T=String.fromCharCode;function k(e){throw RangeError(E[e])}function A(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function x(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+A((e=e.replace(C,".")).split("."),t).join(".")}function P(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function D(e){return A(e,function(e){var t="";return e>65535&&(t+=T((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+T(e)}).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var r=0;for(e=n?O(e/_):e>>1,e+=O(e/t);e>I*g>>1;r+=p)e=O(e/I);return O(r+(I+1)*e/(e+v))}function R(e){var t,n,r,o,i,a,s,c,u,l,f,v=[],_=e.length,w=0,S=b,C=y;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&k("not-basic"),v.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<_;){for(i=w,a=1,s=p;o>=_&&k("invalid-input"),((c=(f=e.charCodeAt(o++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:p)>=p||c>O((d-w)/a))&&k("overflow"),w+=c*a,!(c<(u=s<=C?h:s>=C+g?g:s-C));s+=p)a>O(d/(l=p-u))&&k("overflow"),a*=l;C=j(w-i,t=v.length+1,0==i),O(w/t)>d-S&&k("overflow"),S+=O(w/t),w%=t,v.splice(w++,0,S)}return D(v)}function M(e){var t,n,r,o,i,a,s,c,u,l,f,v,_,w,S,C=[];for(v=(e=P(e)).length,t=b,n=0,i=y,a=0;a<v;++a)(f=e[a])<128&&C.push(T(f));for(r=o=C.length,o&&C.push(m);r<v;){for(s=d,a=0;a<v;++a)(f=e[a])>=t&&f<s&&(s=f);for(s-t>O((d-n)/(_=r+1))&&k("overflow"),n+=(s-t)*_,t=s,a=0;a<v;++a)if((f=e[a])<t&&++n>d&&k("overflow"),f==t){for(c=n,u=p;!(c<(l=u<=i?h:u>=i+g?g:u-i));u+=p)S=c-l,w=p-l,C.push(T(N(l+S%w,0))),c=O(S/w);C.push(T(N(c,0))),i=j(n,_,r==o),n=0,++r}++n,++t}return C.join("")}if(l={version:"1.3.2",ucs2:{decode:P,encode:D},decode:R,encode:M,toASCII:function(e){return x(e,function(e){return S.test(e)?"xn--"+M(e):e})},toUnicode:function(e){return x(e,function(e){return w.test(e)?R(e.slice(4).toLowerCase()):e})}},"object"==i(n(10))&&n(10))void 0===(o=function(){return l}.call(t,n,t,e))||(e.exports=o);else if(s&&c)if(e.exports==s)c.exports=l;else for(f in l)l.hasOwnProperty(f)&&(s[f]=l[f]);else a.punycode=l}(this)}).call(this,n(17)(e),n(18))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof4(window))&&(n=window)}e.exports=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===n(e)&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){t.decode=t.parse=n(21),t.encode=t.stringify=n(22)},function(e,t,n){e.exports=function(e,t,n,o){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var s,c,u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;0<u&&u<l&&(l=u);for(var f=0;f<l;++f){var d,p,h,g,v=e[f].replace(a,"%20"),_=v.indexOf(n);p=0<=_?(d=v.substr(0,_),v.substr(_+1)):(d=v,""),h=decodeURIComponent(d),g=decodeURIComponent(p),s=i,c=h,Object.prototype.hasOwnProperty.call(s,c)?r(i[h])?i[h].push(g):i[h]=[i[h],g]:i[h]=g}return i};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,n,r){var o=function(e){switch(_typeof3(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==_typeof3(e)?a(s(e),function(r){var s=encodeURIComponent(o(r))+n;return i(e[r])?a(e[r],function(e){return s+encodeURIComponent(o(e))}).join(t):s+encodeURIComponent(o(e[r]))}).join(t):r?encodeURIComponent(o(r))+n+encodeURIComponent(o(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,n){if(e.map)return e.map(n);for(var r=[],o=0;o<e.length;o++)r.push(t(e[o],o));return r}var s=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=23}]).default,wx=__appServiceSDK__.wx;checkCanProxyReport("app")&&(wx=MiniAppProxyReport.getProxy(wx,"app")),void 0!==__exportGlobal__&&(__exportGlobal__.wx=wx)&&(__exportGlobal__.qq=wx);var exparser=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r=n(1),o=n(3),i=n(4),a=n(5),s=n(14),c=n(15),u=n(18),l=n(21),f=n(20),d=n(22),p=n(23),h=n(19),g=n(16),v=n(24),_=n(2),y=n(25);function b(e){var t="";if(e instanceof Nta.Element&&(e.id&&(t+=' id="'+e.id+'"'),e.slot&&(t+=' slot="'+e.slot+'"'),e.__slotName&&(t+=' name="'+e.__slotName+'"'),e.classList&&(t+=' class="'+e.class+'"'),e.$$&&e.$$.getAttribute("style")&&(t+=' style="'+e.$$.getAttribute("style")+'"')),e instanceof Nta.VirtualNode)return t;if(e instanceof Nta.Component)return u.listPublicProperties(e).forEach(function(n){t+=" "+n+"="+JSON.stringify(e[n])}),t;for(var n=e.attributes,r=0;r<n.length;r++)t+=" "+n[r].name+'="'+n[r].value+'"';return t}t.FreeTmpl=y,t.precompileTemplate=y.precompiler?y.precompiler.compile:null,t.precompiler=y.precompiler?y.precompiler:null,t.HtmlLLParser=y.htmlParser?y.htmlParser:null,t.dataPath=a,t.dataUtils=o,t.Event=i,t.Element=c,t.TextNode=l,t.NativeNode=f,t.VirtualNode=d,t.ShadowRoot=p,t.Behavior=s,t.Component=u,t.Observer=g,t.DataGroup=h,t.ElementIterator=v,t.registerBehavior=s.create,t.registerElement=u.register,t.createElement=u.create,t.createTextNode=l.create,t.createVirtualNode=d.create,t.appendChild=c.appendChild,t.insertBefore=c.insertBefore,t.removeChild=c.removeChild,t.replaceChild=c.replaceChild,t.addListenerToElement=i.addListenerToElement,t.removeListenerFromElement=i.removeListenerFromElement,t.triggerEvent=i.triggerEvent,t.safeCallback=r.safeCallback,t.addGlobalErrorListener=r.addGlobalErrorListener,t.removeGlobalErrorListener=r.removeGlobalErrorListener,t.globalOptions=_,u._setDefaultTemplateEngine(y),(t.updateDefaultComponent=function(){delete u._list[""],u.register({is:"",options:{writeOnly:!0,allowInWriteOnly:!0,lazyRegistration:!1,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1}})})();var m=t.dumpElementToString=function(e,t,n){var r=null;_.hasDOMBackend&&(r=window);var o=0,i="";for(o=n=n||0;o;o--)i+="  ";var a="";if(e instanceof Nta.Element)a+=i+"<"+(e.$$?e.$$.tagName.toLowerCase()+":":"")+e.is+b(e)+">",a+=e instanceof Nta.VirtualNode?" [Exp-Virtual]":e instanceof Nta.NativeNode?" [Exp-Native]":" [Exp-Component]",a+="\n"+m(t?e.__wxSlotChildren:e.childNodes,t,n+1);else if(e instanceof Nta.TextNode)a+=i+e.textContent+" [Exp-Text]\n";else if(r&&r.HTMLElement&&e instanceof r.HTMLElement)a+=i+"<"+e.tagName.toLowerCase()+b(e)+"> [DOM-Element]",a+="\n"+m(t&&e.__wxSlotChildren||e.childNodes,t,n+1);else if(r&&r.Text&&e instanceof r.Text)a+=i+e.textContent+" [DOM-Text]\n";else if(void 0!==e.length)for(o=0;o<e.length;o++)a+=m(e[o],t,n);else a=i+"[unknown node]\n";return a};t.dumpElement=function(e,t){console.log(m(e,t))}},function(e,t,n){function r(e){this.empty=!0,this._type=e,this._arr=[],this._index=0}var o=n(2);r.create=function(e){return new r(e)},r.prototype.add=function(e){var t=this._index++;return this._arr.push({id:t,func:e}),this.empty=!1,t},r.prototype.remove=function(e){var t=this._arr,n=0;if("function"==typeof e){for(n=0;n<t.length;n++)if(t[n].func===e)return t.splice(n,1),this.empty=!t.length,!0}else for(n=0;n<t.length;n++)if(t[n].id===e)return t.splice(n,1),this.empty=!t.length,!0;return!1},r.prototype.call=function(e,t,n){for(var r=this._arr,o=!1,a=0;a<r.length;a++)!1===i(this._type,r[a].func,e,t,n)&&(o=!0);if(o)return!1};var i=r.safeCallback=function(e,t,n,r,i){try{return t.apply(n,r)}catch(c){var s="[Exparser] [Error] [Component] "+(e||"Error Listener")+" Error @ ";n&&n.is&&(s+=n.is),s+="#"+(t.name||"(anonymous)"),i&&i.triggerLifeTime("error",[c]),function(e,t){if(!t.type||!1!==a.call(null,[e,t])){if(o.throwGlobalError)throw e;console.error(e.stack)}}(c,{message:s,type:e,element:n,method:t,args:r})}},a=r.create();r.addGlobalErrorListener=function(e){return a.add(e)},r.removeGlobalErrorListener=function(e){return a.remove(e)},e.exports=r},function(e,t){var n={lazyRegistration:!0,publicProperties:!1,domain:"",writeOnly:!1,allowInWriteOnly:!1,classPrefix:null,addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,reflectToAttributes:!1,writeFieldsToNode:!0,writeIdToDOM:!1,separateInnerData:!0,randomizeTagName:!1,throwGlobalError:!1,writeExtraInfoToAttr:!1,documentBackend:"undefined"!=typeof window&&"undefined"!=typeof document?"dom":"none",hasDOMBackend:!("undefined"==typeof window||"undefined"==typeof document)};e.exports=n},function(e,t){var n=Object.prototype.hasOwnProperty;t.deepCopy=function(e,t){return function e(t,r){var o=_typeof4(t);if("object"==o&&null!==t){var i=r?r.get(t):void 0;if(void 0!==i)return i;if(t instanceof Array){i=[],r&&r.set(t,i);for(var a=0;a<t.length;a++)i[a]=e(t[a],r)}else for(var s in i={},r&&r.set(t,i),t)n.call(t,s)&&(i[s]=e(t[s],r));return i}if("symbol"!=o)return t}(e,t&&"undefined"!=typeof WeakMap?new WeakMap:null)}},function(e,t,n){function r(){}var o=n(1);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}});var i=null;r._setElementSystem=function(e){i=e,r._setElementSystem=null};var a=null;r._setComponent=function(e){a=e,r._setComponent=null};var s=Date.now();function c(e,t,n,r){for(var o=e,a=[],s=e;s;){if(o!==s&&(a.push(e),e=s),o=s.parentNode,!1===r(s,e))return;if(s.__wxHost){if(n)break;e=a.pop()||s.__wxHost,o=s=s.__wxHost}else{var c=!0;s instanceof i&&(c=!1),s=c||n?s.parentNode:s.__wxSlotParent}}}r.setInitTimeStamp=function(e){return s=void 0===e?Date.now():e},r.getInitTimeStamp=function(e){return s},r.create=function(e,t,n){var o=(n=n||{}).originalEvent,i=n.extraFields||{},a=Date.now()-s,c=new r;for(var u in c.currentTarget=null,c.type=e,c.timeStamp=a,c.detail=t,c.bubbles=!!n.bubbles,c.composed=!!n.composed,c.__originalEvent=o,c.__hasCapture=!!n.capturePhase,c.__stopped=!1,c.__dispatched=!1,i)c[u]=i[u];return c},r.prototype.preventDefault=function(){this.__originalEvent&&this.__originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.__stopped=!0},r.prototype.isStopped=function(){return!!this.__stopped},r.dispatchEvent=function(e,t){if(!t.__dispatched){var n=function(e,n){var r=t.currentTarget=n instanceof i?n.__methodCaller:n;!1===e.call(r,[t],n instanceof a?n:void 0)&&(t.__originalEvent&&t.__originalEvent.preventDefault(),t.__stopped=!0)};t.__dispatched=!0,e.__wxElement&&e.__wxHost!==e.__wxElement&&(e=e.__wxElement).shadowRoot instanceof i&&(e=e.shadowRoot),t.target=e instanceof i?e.__methodCaller:e;var r=t.type,o=!t.composed;if(t.__hasCapture){var s=[];c(e,0,o,function(e,t){return e.__wxCaptureEvents&&e.__wxCaptureEvents[r]&&s.push([e,t]),!0});for(var u=s.length-1;0<=u;u--){var l=s[u],f=l[0],d=l[1];if(t.target=d instanceof i?d.__methodCaller:d,n(f.__wxCaptureEvents[r],f),t.__stopped)break}}if(t.target=e instanceof i?e.__methodCaller:e,!t.__stopped){var p=!t.bubbles;c(e,0,o,function(e,o){return t.target=o instanceof i?o.__methodCaller:o,e.__wxEvents&&e.__wxEvents[r]&&n(e.__wxEvents[r],e),!p&&!t.__stopped})}}},r.triggerEvent=function(e,t,n,o){var i=r.create(t,n,o);r.dispatchEvent(e,i)},r.addListenerToElement=function(e,t,n,r){return r&&(r.useCapture||r.capture)?(e.__wxCaptureEvents||(e.__wxCaptureEvents=Object.create(null)),e.__wxCaptureEvents[t]||(e.__wxCaptureEvents[t]=o.create("Event Listener")),e.__wxCaptureEvents[t].add(n)):(e.__wxEvents||(e.__wxEvents=Object.create(null)),e.__wxEvents[t]||(e.__wxEvents[t]=o.create("Event Listener")),e.__wxEvents[t].add(n))},r.removeListenerFromElement=function(e,t,n,r){return r&&(r.useCapture||r.capture)?void(e.__wxCaptureEvents&&e.__wxCaptureEvents[t]&&e.__wxCaptureEvents[t].remove(n)):void(e.__wxEvents&&e.__wxEvents[t]&&e.__wxEvents[t].remove(n))},e.exports=r},function(e,t,n){var r=n(6),o=" \n\r\t\f",i=null;t.parseMultiPaths=function(e){return i||(i=r.create({MULTIPLE_PATHS:[{id:"arrayConcat",states:["MULTIPLE_PATHS",",","SINGLE_PATH"]},{id:"array",states:["SINGLE_PATH"]}],SINGLE_PATH:[{id:"arrayConcat",states:["SINGLE_PATH",".","VAR_NAME"]},{id:"arrayConcat",states:["SINGLE_PATH","[","INT","]"]},{id:"array",states:["VAR_NAME"]},{id:"_jump",states:["SINGLE_PATH",o]}],VAR_NAME:[{id:"_blank",states:[o,"VAR_NAME"]},{id:"_jump",states:["VAR_NAME",o]},{id:"_raw",states:["*","*"]},{id:"_raw",states:["_a-zA-Z","VAR_NAME_AFTER"]}],VAR_NAME_AFTER:[{id:"_raw",states:["_a-zA-Z0-9","VAR_NAME_AFTER"]},{id:"_raw",states:["NULL"]}],INT:[{id:"_blank",states:[o,"INT"]},{id:"_jump",states:["INT",o]},{id:"toNumber",states:["0-9","INT_AFTER"]}],INT_AFTER:[{id:"_raw",states:["0-9","INT_AFTER"]},{id:"_raw",states:["NULL"]}]},{arrayConcat:function(e){return e[0].push(e[2]),e[0]},array:function(e){return e},toNumber:function(e){return parseInt(e[0]+e[1],10)}})),i.parse("MULTIPLE_PATHS",e)},t.parseSinglePath=function(e){for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,s=0;s<t;s++){var c=e[s];if("\\"===c)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1]||"\\"===e[s+1])?(r+=e[s+1],s++):r+="\\";else if("."===c)r&&(n.push(r),r="");else if("["===c){if(r&&(n.push(r),r=""),0===n.length)throw new Error("The path string should not start with []: "+e);i=!(a=!0)}else if("]"===c){if(!i)throw new Error("There should be digits inside [] in the path string: "+e);a=!1,n.push(o),o=0}else if(a){if(c<"0"||"9"<c)throw new Error("Only digits (0-9) can be put inside [] in the path string: "+e);i=!0,o=10*o+c.charCodeAt(0)-48}else r+=c}if(r&&n.push(r),0===t)throw new Error("The path string should not be empty");return n}},function(e,t,n){function r(){}function o(e,t){var n=i._llparser_create_descriptor(e,0),r=!1;"^"===t[0]&&(r=!0);for(var o=r?1:0;o<t.length;o++){var a=t.charCodeAt(o);if("-"===t[o+1]){var s=t.charCodeAt(o+2);a<=s?(i._llparser_descriptor_add_range(n,a,s),o+=2):i._llparser_descriptor_add_char(n,a)}else i._llparser_descriptor_add_char(n,a)}return r&&i._llparser_descriptor_revert(n),n}var i=null,a=r.stats={all:0,copyIn:0,parse:0,constructOut:0};r.create=function(e,t,a){i||(i=n(7));var s=new r;a=a||16384;var c,u=s._llp=i._llparser_create(a,256,256),l={},f={},d="";for(d in l.ALL=i._llparser_create_descriptor(u,0),i._llparser_descriptor_set_all(l.ALL),l.NULL=i._llparser_create_descriptor(u,0),i._llparser_descriptor_set_nil(l.NULL),e)l[d]=(c=u,i._llparser_create_descriptor(c,1));for(d in e)for(var p=e[d],h=l[d],g=0;g<p.length;g++){for(var v=p[g].id,_=p[g].states,y=[],b=0;b<_.length;b++){var m=_[b];l[m]||(l[m]=o(u,m)),y.push(l[m])}var w=0;"_raw"===v?w=1:"_jump"===v?w=65536:"_blank"===v&&(w=65537);var S=i._llparser_add_rule(u,w,h,y.length,y[0],y[1],y[2],y[3],y[4],y[5],y[6],y[7]);0===w&&(f[S]=t[v])}return i._llparser_prepare(u),s._inputPtr=i._llparser_get_input_buffer(u),s._resultPtr=i._llparser_get_result(u),s._stateIdMap=l,s._ruleCbMap=f,s._charCountLimit=a,s},r.prototype.parse=function(e,t){var n=Date.now();i.stringToUTF16(t,this._inputPtr,2*this._charCountLimit+2),a.copyIn=a.copyIn+Date.now()-n,n=Date.now();var r=i._llparser_parse(this._llp,this._stateIdMap[e]);if(a.parse=a.parse+Date.now()-n,n=Date.now(),r)throw new Error("Parsing failed at character position "+(r-1)+' near "'+t.slice(r-20,r)+'"');var o=function(e,t,n,r,o){for(var i=[],a={i:0,r:0,n:!1,cc:-1,c:[]},s=a,c=o.pos,u=!1,l=!1,f=!1;;){var d=t[c],p=t[c+1];if(p<0?(l=!0,p=-p-1):l=!1,0<=d){f=!0;var h=n.slice(d,p);s.c.push(h),u=l}else{if(-1===d&&0===p)break;f=!1;var g=-d,v=p,_={i:s.c.length-(u?1:0),r:g,n:l,cc:v,c:[]};if(u){var y=s.c.length-1,b=s.c[y];_.c.push(b),s.c[y]=_}else s.c.push(_);i.push(s),s=_,u=!1}if(!f||!u)for(;s.c.length===s.cc;){u=s.n;var m=i.pop();if(m.c[s.i]=r[s.r].call(e,s.c),s=m,u)break}c+=2}return a.c[0]}(this,i.HEAP32,t,this._ruleCbMap,{pos:this._resultPtr>>2});return a.constructOut=a.constructOut+Date.now()-n,o},r.prototype.destroy=function(){i._llparser_destroy(this._llp)},e.exports=r},function(e,t,n){(function(t,r){var o;o||(o="undefined"!=typeof Module?Module:{}),e.exports={},function(o){function i(e){var t;return t||(t=16),Math.ceil(e/t)*t}function a(e,t){e||d("Assertion failed: "+t)}function s(e,t){return 0<e%t&&(e+=t-e%t),e}function c(){o.HEAP8=m=new Int8Array(D),o.HEAP16=S=new Int16Array(D),o.HEAP32=C=new Int32Array(D),o.HEAPU8=w=new Uint8Array(D),o.HEAPU16=new Uint16Array(D),o.HEAPU32=new Uint32Array(D),o.HEAPF32=E=new Float32Array(D),o.HEAPF64=I=new Float64Array(D)}function u(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var n=t.f;"number"==typeof n?void 0===t.b?o.dynCall_v(n):o.dynCall_vi(n,t.b):n(void 0===t.b?null:t.b)}}}function l(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function f(){function e(){if(!o.calledRun&&(o.calledRun=!0,!b)){if(B||(B=!0,u(j)),u(R),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for("function"==typeof o.postRun&&(o.postRun=[o.postRun]);o.postRun.length;)M.unshift(o.postRun.shift());u(M)}}if(o.preRun)for("function"==typeof o.preRun&&(o.preRun=[o.preRun]);o.preRun.length;)N.unshift(o.preRun.shift());u(N),o.calledRun||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e())}function d(e){throw o.onAbort&&o.onAbort(e),e=void 0!==e?(_(e),y(e),JSON.stringify(e)):"",b=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}var p,h,g,v={};for(p in o)o.hasOwnProperty(p)&&(v[p]=o[p]);o.arguments=[],o.thisProgram="./this.program",o.quit=function(e,t){throw t},o.preRun=[],o.postRun=[],o.read=function(e,r){if(String.prototype.startsWith?e.startsWith(L):0===e.indexOf(L)){var o=e.slice(L.length);try{var i=t.from(o,"base64")}catch(e){i=new t(o,"base64")}o=new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}else o=void 0;return o||(h||(h=n(!function(){var e=new Error('Cannot find module "fs"');throw e.code="MODULE_NOT_FOUND",e}())),g||(g=n(13)),e=g.normalize(e),o=h.readFileSync(e)),r?o:o.toString()},o.readBinary=function(e){return(e=o.read(e,!0)).buffer||(e=new Uint8Array(e)),a(e.buffer),e},1<r.argv.length&&(o.thisProgram=r.argv[1].replace(/\\/g,"/")),o.arguments=r.argv.slice(2),void 0!==e&&(e.exports=o),r.on("uncaughtException",function(e){if(!(e instanceof l))throw e}),r.on("unhandledRejection",function(){r.exit(1)}),o.quit=function(e){r.exit(e)},o.inspect=function(){return"[Emscripten Module object]"};var _=o.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),y=o.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||_);for(p in v)v.hasOwnProperty(p)&&(o[p]=v[p]);v=void 0;var b=0;"undefined"!=typeof TextDecoder&&new TextDecoder("utf8"),"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var m,w,S,C,E,I,O,T,k=O=p=O=0;o.reallocBuffer||(o.reallocBuffer=function(e){try{if(ArrayBuffer.a)var t=ArrayBuffer.a(D,e);else{var n=m;t=new ArrayBuffer(e),new Int8Array(t).set(n)}}catch(e){return!1}return!!_e(t)&&t});try{var A=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get);A(new ArrayBuffer(4))}catch(i){A=function(e){return e.byteLength}}var x=o.TOTAL_STACK||262144,P=o.TOTAL_MEMORY||16777216;if(P<x&&y("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+P+"! (TOTAL_STACK="+x+")"),o.buffer)var D=o.buffer;else D=new ArrayBuffer(P),o.buffer=D;c();var N=[],j=[],R=[],M=[],B=!1;o.preloadedImages={},o.preloadedAudios={},v=null;var L="data:application/octet-stream;base64,";k=520,j.push();var F,U,W,q,V,$,G,H,z,K,Y,J,Q,X,Z,ee,te,ne,re,oe,ie,ae,se,ce,ue,le,fe=k;function de(e,t,n,r){t|=0,n|=0,r|=0;var o=0,i=0,a=0,s=0,c=0;if((0|z[(e|=0)>>2])!=(0|t)&&(z[e>>2]=t,e=0|z[e+136>>2]))if(r)do{s=0|z[8+(0|z[e>>2])>>2],1==(0|z[s+4>>2])&&de(s,t,n,r),a=0;do{do{if(0|V[s+8+a>>0]){if(i=0|z[(c=n+(a<<2)|0)>>2]){if(i>>>0<=(o=0|z[r>>2])>>>0)break}else o=0|z[r>>2];z[c>>2]=o}}while(0);a=a+1|0}while(128!=(0|a));e=0|z[e+4>>2]}while(0!=(0|e));else do{s=0|z[8+(0|z[e>>2])>>2],1==(0|z[s+4>>2])&&de(s,t,n,e),a=0;do{do{if(0|V[s+8+a>>0]){if(i=0|z[(c=n+(a<<2)|0)>>2]){if(i>>>0<=(o=0|z[e>>2])>>>0)break}else o=0|z[e>>2];z[c>>2]=o}}while(0);a=a+1|0}while(128!=(0|a));e=0|z[e+4>>2]}while(0!=(0|e))}function pe(e){e|=0;var t,n=0,r=0,o=0,i=0,a=0,s=0,c=0,u=0,l=0,f=0,d=0,p=0,h=0,g=0,v=0,_=0,y=0,b=0,m=0,w=0;te=(t=te)+16|0,p=t;do{if(e>>>0<245){if(e=(l=e>>>0<11?16:e+11&-8)>>>3,3&(r=(d=0|z[2])>>>e)|0)return o=0|z[(r=8+(e=48+((n=(1&r^1)+e|0)<<1<<2)|0)|0)>>2],(0|(a=0|z[(i=o+8|0)>>2]))==(0|e)?z[2]=d&~(1<<n):(z[a+12>>2]=e,z[r>>2]=a),w=n<<3,z[o+4>>2]=3|w,z[(w=o+w+4|0)>>2]=1|z[w>>2],te=t,0|i;if((f=0|z[4])>>>0<l>>>0){if(0|r)return n=((n=r<<e&((n=2<<e)|0-n))&0-n)-1|0,a=0|z[(e=8+(n=48+((o=((r=(n>>>=c=n>>>12&16)>>>5&8)|c|(a=(n>>>=r)>>>2&4)|(e=(n>>>=a)>>>1&2)|(o=(n>>>=e)>>>1&1))+(n>>>o)|0)<<1<<2)|0)|0)>>2],(0|(r=0|z[(c=a+8|0)>>2]))==(0|n)?(e=d&~(1<<o),z[2]=e):(z[r+12>>2]=n,z[e>>2]=r,e=d),s=(w=o<<3)-l|0,z[a+4>>2]=3|l,z[4+(i=a+l|0)>>2]=1|s,z[a+w>>2]=s,0|f&&(o=0|z[7],r=48+((n=f>>>3)<<1<<2)|0,e&(n=1<<n)?n=0|z[(e=r+8|0)>>2]:(z[2]=e|n,e=(n=r)+8|0),z[e>>2]=o,z[n+12>>2]=o,z[o+8>>2]=n,z[o+12>>2]=r),z[4]=s,z[7]=i,te=t,0|c;if(a=0|z[3]){for(r=(a&0-a)-1|0,u=0|z[312+(((o=(r>>>=i=r>>>12&16)>>>5&8)|i|(s=(r>>>=o)>>>2&4)|(c=(r>>>=s)>>>1&2)|(u=(r>>>=c)>>>1&1))+(r>>>u)<<2)>>2],u=(-8&z[(c=r=u)+4>>2])-l|0;(e=0|z[r+16>>2])||(e=0|z[r+20>>2]);)c=(i=(s=(-8&z[(r=e)+4>>2])-l|0)>>>0<u>>>0)?e:c,u=i?s:u;if(c>>>0<(s=c+l|0)>>>0){i=0|z[c+24>>2],n=0|z[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|z[(e=c+20|0)>>2])&&!(n=0|z[(e=c+16|0)>>2])){r=0;break}for(;;)if(r=0|z[(o=n+20|0)>>2])n=r,e=o;else{if(!(r=0|z[(o=n+16|0)>>2]))break;n=r,e=o}z[e>>2]=0,r=n}else r=0|z[c+8>>2],z[r+12>>2]=n,z[n+8>>2]=r,r=n}while(0);do{if(0|i){if(n=0|z[c+28>>2],(0|c)==(0|z[(e=312+(n<<2)|0)>>2])){if(!(z[e>>2]=r)){z[3]=a&~(1<<n);break}}else if(!(z[((0|z[(w=i+16|0)>>2])==(0|c)?w:i+20|0)>>2]=r))break;z[r+24>>2]=i,0|(n=0|z[c+16>>2])&&(z[r+16>>2]=n,z[n+24>>2]=r),0|(n=0|z[c+20>>2])&&(z[r+20>>2]=n,z[n+24>>2]=r)}}while(0);return u>>>0<16?(w=u+l|0,z[c+4>>2]=3|w,z[(w=c+w+4|0)>>2]=1|z[w>>2]):(z[c+4>>2]=3|l,z[s+4>>2]=1|u,z[s+u>>2]=u,0|f&&(o=0|z[7],r=48+((n=f>>>3)<<1<<2)|0,(n=1<<n)&d?n=0|z[(e=r+8|0)>>2]:(z[2]=n|d,e=(n=r)+8|0),z[e>>2]=o,z[n+12>>2]=o,z[o+8>>2]=n,z[o+12>>2]=r),z[4]=u,z[7]=s),te=t,0|c+8}d=l}else d=l}else d=l}else if(e>>>0<=4294967231)if(l=-8&(e=e+11|0),o=0|z[3]){i=0-l|0,u=(e>>>=8)?16777215<l>>>0?31:l>>>(7+(u=14-((c=(520192+(_=e<<(d=(e+1048320|0)>>>16&8))|0)>>>16&4)|d|(u=(245760+(_<<=c)|0)>>>16&2))+(_<<u>>>15)|0)|0)&1|u<<1:0,r=0|z[312+(u<<2)>>2];e:do{if(r)for(e=0,c=l<<(31==(0|u)?0:25-(u>>>1)|0),a=0;;){if((s=(-8&z[r+4>>2])-l|0)>>>0<i>>>0){if(!s){e=r,i=0,_=65;break e}e=r,i=s}if(a=0==(0|(_=0|z[r+20>>2]))|(0|_)==(0|(r=0|z[r+16+(c>>>31<<2)>>2]))?a:_,!r){r=a,_=61;break}c<<=1}else r=0,e=0,_=61}while(0);if(61==(0|_)){if(0==(0|r)&0==(0|e)){if(!(e=((e=2<<u)|0-e)&o)){d=l;break}d=(e&0-e)-1|0,r=(e=0)|z[312+(((a=(d>>>=s=d>>>12&16)>>>5&8)|s|(c=(d>>>=a)>>>2&4)|(u=(d>>>=c)>>>1&2)|(r=(d>>>=u)>>>1&1))+(d>>>r)<<2)>>2]}r?_=65:(c=e,s=i)}if(65==(0|_))for(a=r;;){if(i=(r=(d=(-8&z[a+4>>2])-l|0)>>>0<i>>>0)?d:i,e=r?a:e,(r=0|z[a+16>>2])||(r=0|z[a+20>>2]),!r){c=e,s=i;break}a=r}if(0!=(0|c)&&s>>>0<((0|z[4])-l|0)>>>0&&c>>>0<(f=c+l|0)>>>0){a=0|z[c+24>>2],n=0|z[c+12>>2];do{if((0|n)==(0|c)){if(!(n=0|z[(e=c+20|0)>>2])&&!(n=0|z[(e=c+16|0)>>2])){n=0;break}for(;;)if(r=0|z[(i=n+20|0)>>2])n=r,e=i;else{if(!(r=0|z[(i=n+16|0)>>2]))break;n=r,e=i}z[e>>2]=0}else w=0|z[c+8>>2],z[w+12>>2]=n,z[n+8>>2]=w}while(0);do{if(a){if(e=0|z[c+28>>2],(0|c)==(0|z[(r=312+(e<<2)|0)>>2])){if(!(z[r>>2]=n)){o&=~(1<<e),z[3]=o;break}}else if(!(z[((0|z[(w=a+16|0)>>2])==(0|c)?w:a+20|0)>>2]=n))break;z[n+24>>2]=a,0|(e=0|z[c+16>>2])&&(z[n+16>>2]=e,z[e+24>>2]=n),(e=0|z[c+20>>2])&&(z[n+20>>2]=e,z[e+24>>2]=n)}}while(0);e:do{if(s>>>0<16)w=s+l|0,z[c+4>>2]=3|w,z[(w=c+w+4|0)>>2]=1|z[w>>2];else{if(z[c+4>>2]=3|l,z[f+4>>2]=1|s,n=(z[f+s>>2]=s)>>>3,s>>>0<256){r=48+(n<<1<<2)|0,(e=0|z[2])&(n=1<<n)?n=0|z[(e=r+8|0)>>2]:(z[2]=e|n,e=(n=r)+8|0),z[e>>2]=f,z[n+12>>2]=f,z[f+8>>2]=n,z[f+12>>2]=r;break}if(n=312+((r=(n=s>>>8)?16777215<s>>>0?31:s>>>(7+(r=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(r=(245760+(w<<=b)|0)>>>16&2))+(w<<r>>>15)|0)|0)&1|r<<1:0)<<2)|0,z[f+28>>2]=r,z[4+(e=f+16|0)>>2]=0,z[e>>2]=0,!((e=1<<r)&o)){z[3]=e|o,z[n>>2]=f,z[f+24>>2]=n,z[f+12>>2]=f,z[f+8>>2]=f;break}n=0|z[n>>2];t:do{if((-8&z[n+4>>2]|0)!=(0|s)){for(o=s<<(31==(0|r)?0:25-(r>>>1)|0);e=0|z[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&z[e+4>>2]|0)==(0|s)){n=e;break t}o<<=1,n=e}z[r>>2]=f,z[f+24>>2]=n,z[f+12>>2]=f,z[f+8>>2]=f;break e}}while(0);w=0|z[(m=n+8|0)>>2],z[w+12>>2]=f,z[m>>2]=f,z[f+8>>2]=w,z[f+12>>2]=n,z[f+24>>2]=0}}while(0);return te=t,0|c+8}d=l}else d=l;else d=-1}while(0);if(d>>>0<=(r=0|z[4])>>>0)return n=r-d|0,e=0|z[7],15<n>>>0?(w=e+d|0,z[7]=w,z[4]=n,z[w+4>>2]=1|n,z[e+r>>2]=n,z[e+4>>2]=3|d):(z[4]=0,z[7]=0,z[e+4>>2]=3|r,z[(w=e+r+4|0)>>2]=1|z[w>>2]),te=t,0|e+8;if(d>>>0<(s=0|z[5])>>>0)return b=s-d|0,z[5]=b,m=(w=0|z[8])+d|0,z[8]=m,z[m+4>>2]=1|b,z[w+4>>2]=3|d,te=t,0|w+8;if(c=d+48|0,(l=(a=(e=0|z[120]?0|z[122]:(z[122]=4096,z[121]=4096,z[123]=-1,z[124]=-1,z[125]=0,z[113]=0,z[120]=-16&p^1431655768,4096))+(u=d+47|0)|0)&(i=0-e|0))>>>0<=d>>>0)return te=t,(w=0)|w;if(0|(e=0|z[112])&&(p=(f=0|z[110])+l|0)>>>0<=f>>>0|e>>>0<p>>>0)return te=t,(w=0)|w;e:do{if(4&z[113])n=0,_=143;else{r=0|z[8];t:do{if(r){for(o=456;!((e=0|z[o>>2])>>>0<=r>>>0&&(e+(0|z[(v=o+4|0)>>2])|0)>>>0>r>>>0);){if(!(e=0|z[o+8>>2])){_=128;break t}o=e}if((n=a-s&i)>>>0<2147483647)if((0|(e=0|ve(0|n)))==((0|z[o>>2])+(0|z[v>>2])|0)){if(-1!=(0|e)){s=n,a=e,_=145;break e}}else o=e,_=136;else n=0}else _=128}while(0);do{if(128==(0|_))if(-1!=(0|(r=0|ve(0)))&&(n=r,g=(n=(0==((g=(h=0|z[121])-1|0)&n|0)?0:(g+n&0-h)-n|0)+l|0)+(h=0|z[110])|0,d>>>0<n>>>0&n>>>0<2147483647)){if(0|(v=0|z[112])&&g>>>0<=h>>>0|v>>>0<g>>>0){n=0;break}if((0|(e=0|ve(0|n)))==(0|r)){s=n,a=r,_=145;break e}o=e,_=136}else n=0}while(0);do{if(136==(0|_)){if(r=0-n|0,!(n>>>0<c>>>0&n>>>0<2147483647&-1!=(0|o))){if(-1==(0|o)){n=0;break}s=n,a=o,_=145;break e}if(2147483647<=(e=u-n+(e=0|z[122])&0-e)>>>0){s=n,a=o,_=145;break e}if(-1==(0|ve(0|e))){ve(0|r),n=0;break}s=e+n|0,a=o,_=145;break e}}while(0);z[113]=4|z[113],_=143}}while(0);if(!(143==(0|_)&&l>>>0<2147483647)||-1==(0|(m=0|ve(0|l)))|1^(b=(d+40|0)>>>0<(y=(v=0|ve(0))-m|0)>>>0)|m>>>0<v>>>0&-1!=(0|m)&-1!=(0|v)^1||(s=b?y:n,a=m,_=145),145==(0|_)){n=(0|z[110])+s|0,(z[110]=n)>>>0>(0|z[111])>>>0&&(z[111]=n),u=0|z[8];e:do{if(u){for(n=456;;){if((0|a)==((e=0|z[n>>2])+(o=0|z[(r=n+4|0)>>2])|0)){_=154;break}if(!(i=0|z[n+8>>2]))break;n=i}if(154==(0|_)&&0==(8&z[n+12>>2]|0)&&u>>>0<a>>>0&e>>>0<=u>>>0){z[r>>2]=o+s,m=u+(b=0==(7&(b=u+8|0)|0)?0:0-b&7)|0,b=(w=(0|z[5])+s|0)-b|0,z[8]=m,z[5]=b,z[m+4>>2]=1|b,z[u+w+4>>2]=40,z[9]=z[124];break}for(a>>>0<(0|z[6])>>>0&&(z[6]=a),r=a+s|0,n=456;;){if((0|z[n>>2])==(0|r)){_=162;break}if(!(e=0|z[n+8>>2]))break;n=e}if(162==(0|_)&&0==(8&z[n+12>>2]|0)){z[n>>2]=a,z[(f=n+4|0)>>2]=(0|z[f>>2])+s,l=(f=a+(0==(7&(f=a+8|0)|0)?0:0-f&7)|0)+d|0,c=(n=r+(0==(7&(n=r+8|0)|0)?0:0-n&7)|0)-f-d|0,z[f+4>>2]=3|d;t:do{if((0|u)==(0|n))w=(0|z[5])+c|0,z[5]=w,z[8]=l,z[l+4>>2]=1|w;else{if((0|z[7])==(0|n)){w=(0|z[4])+c|0,z[4]=w,z[7]=l,z[l+4>>2]=1|w,z[l+w>>2]=w;break}if(1==(3&(e=0|z[n+4>>2])|0)){s=-8&e,o=e>>>3;n:do{if(e>>>0<256){if(e=0|z[n+8>>2],(0|(r=0|z[n+12>>2]))==(0|e)){z[2]=z[2]&~(1<<o);break}z[e+12>>2]=r,z[r+8>>2]=e;break}a=0|z[n+24>>2],e=0|z[n+12>>2];do{if((0|e)==(0|n)){if(e=0|z[(o=4+(r=n+16|0)|0)>>2])r=o;else if(!(e=0|z[r>>2])){e=0;break}for(;;)if(o=0|z[(i=e+20|0)>>2])e=o,r=i;else{if(!(o=0|z[(i=e+16|0)>>2]))break;e=o,r=i}z[r>>2]=0}else w=0|z[n+8>>2],z[w+12>>2]=e,z[e+8>>2]=w}while(0);if(!a)break;o=312+((r=0|z[n+28>>2])<<2)|0;do{if((0|z[o>>2])==(0|n)){if(0|(z[o>>2]=e))break;z[3]=z[3]&~(1<<r);break n}if(!(z[((0|z[(w=a+16|0)>>2])==(0|n)?w:a+20|0)>>2]=e))break n}while(0);if(z[e+24>>2]=a,0|(o=0|z[(r=n+16|0)>>2])&&(z[e+16>>2]=o,z[o+24>>2]=e),!(r=0|z[r+4>>2]))break;z[e+20>>2]=r,z[r+24>>2]=e}while(0);n=n+s|0,i=s+c|0}else i=c;if(z[(n=n+4|0)>>2]=-2&z[n>>2],z[l+4>>2]=1|i,n=(z[l+i>>2]=i)>>>3,i>>>0<256){r=48+(n<<1<<2)|0,(e=0|z[2])&(n=1<<n)?n=0|z[(e=r+8|0)>>2]:(z[2]=e|n,e=(n=r)+8|0),z[e>>2]=l,z[n+12>>2]=l,z[l+8>>2]=n,z[l+12>>2]=r;break}n=i>>>8;do{if(n){if(16777215<i>>>0){o=31;break}o=i>>>(7+(o=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(o=(245760+(w<<=b)|0)>>>16&2))+(w<<o>>>15)|0)|0)&1|o<<1}else o=0}while(0);if(n=312+(o<<2)|0,z[l+28>>2]=o,z[4+(e=l+16|0)>>2]=0,!((e=(z[e>>2]=0)|z[3])&(r=1<<o))){z[3]=e|r,z[n>>2]=l,z[l+24>>2]=n,z[l+12>>2]=l,z[l+8>>2]=l;break}n=0|z[n>>2];n:do{if((-8&z[n+4>>2]|0)!=(0|i)){for(o=i<<(31==(0|o)?0:25-(o>>>1)|0);e=0|z[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&z[e+4>>2]|0)==(0|i)){n=e;break n}o<<=1,n=e}z[r>>2]=l,z[l+24>>2]=n,z[l+12>>2]=l,z[l+8>>2]=l;break t}}while(0);w=0|z[(m=n+8|0)>>2],z[w+12>>2]=l,z[m>>2]=l,z[l+8>>2]=w,z[l+12>>2]=n,z[l+24>>2]=0}}while(0);return te=t,0|f+8}for(n=456;!((e=0|z[n>>2])>>>0<=u>>>0&&u>>>0<(w=e+(0|z[n+4>>2])|0)>>>0);)n=0|z[n+8>>2];for(n=(e=(e=(i=w+-47|0)+(0==(7&(e=i+8|0)|0)?0:0-e&7)|0)>>>0<(i=u+16|0)>>>0?u:e)+8|0,m=a+(b=0==(7&(b=a+8|0)|0)?0:0-b&7)|0,b=(r=s+-40|0)-b|0,z[8]=m,z[5]=b,z[m+4>>2]=1|b,z[a+r+4>>2]=40,z[9]=z[124],z[(r=e+4|0)>>2]=27,z[n>>2]=z[114],z[n+4>>2]=z[115],z[n+8>>2]=z[116],z[n+12>>2]=z[117],z[114]=a,z[115]=s,z[117]=0,z[116]=n,n=e+24|0;z[(n=(m=n)+4|0)>>2]=7,(m+8|0)>>>0<w>>>0;);if((0|e)!=(0|u)){if(a=e-u|0,z[r>>2]=-2&z[r>>2],z[u+4>>2]=1|a,n=(z[e>>2]=a)>>>3,a>>>0<256){r=48+(n<<1<<2)|0,(e=0|z[2])&(n=1<<n)?n=0|z[(e=r+8|0)>>2]:(z[2]=e|n,e=(n=r)+8|0),z[e>>2]=u,z[n+12>>2]=u,z[u+8>>2]=n,z[u+12>>2]=r;break}if(r=312+((o=(n=a>>>8)?16777215<a>>>0?31:a>>>(7+(o=14-((b=(520192+(w=n<<(m=(n+1048320|0)>>>16&8))|0)>>>16&4)|m|(o=(245760+(w<<=b)|0)>>>16&2))+(w<<o>>>15)|0)|0)&1|o<<1:0)<<2)|0,z[u+28>>2]=o,z[u+20>>2]=0,!((n=(z[i>>2]=0)|z[3])&(e=1<<o))){z[3]=n|e,z[r>>2]=u,z[u+24>>2]=r,z[u+12>>2]=u,z[u+8>>2]=u;break}n=0|z[r>>2];t:do{if((-8&z[n+4>>2]|0)!=(0|a)){for(o=a<<(31==(0|o)?0:25-(o>>>1)|0);e=0|z[(r=n+16+(o>>>31<<2)|0)>>2];){if((-8&z[e+4>>2]|0)==(0|a)){n=e;break t}o<<=1,n=e}z[r>>2]=u,z[u+24>>2]=n,z[u+12>>2]=u,z[u+8>>2]=u;break e}}while(0);w=0|z[(m=n+8|0)>>2],z[w+12>>2]=u,z[m>>2]=u,z[u+8>>2]=w,z[u+12>>2]=n,z[u+24>>2]=0}}else 0==(0|(w=0|z[6]))|a>>>0<w>>>0&&(z[6]=a),z[114]=a,z[115]=s,z[117]=0,z[11]=z[120],z[10]=-1,z[15]=48,z[14]=48,z[17]=56,z[16]=56,z[19]=64,z[18]=64,z[21]=72,z[20]=72,z[23]=80,z[22]=80,z[25]=88,z[24]=88,z[27]=96,z[26]=96,z[29]=104,z[28]=104,z[31]=112,z[30]=112,z[33]=120,z[32]=120,z[35]=128,z[34]=128,z[37]=136,z[36]=136,z[39]=144,z[38]=144,z[41]=152,z[40]=152,z[43]=160,z[42]=160,z[45]=168,z[44]=168,z[47]=176,z[46]=176,z[49]=184,z[48]=184,z[51]=192,z[50]=192,z[53]=200,z[52]=200,z[55]=208,z[54]=208,z[57]=216,z[56]=216,z[59]=224,z[58]=224,z[61]=232,z[60]=232,z[63]=240,z[62]=240,z[65]=248,z[64]=248,z[67]=256,z[66]=256,z[69]=264,z[68]=264,z[71]=272,z[70]=272,z[73]=280,z[72]=280,z[75]=288,z[74]=288,z[77]=296,z[76]=296,m=a+(b=0==(7&(b=a+8|0)|0)?0:0-b&7)|0,b=(w=s+-40|0)-b|0,z[8]=m,z[5]=b,z[m+4>>2]=1|b,z[a+w+4>>2]=40,z[9]=z[124]}while(0);if(d>>>0<(n=0|z[5])>>>0)return b=n-d|0,z[5]=b,m=(w=0|z[8])+d|0,z[8]=m,z[m+4>>2]=1|b,z[w+4>>2]=3|d,te=t,0|w+8}return w=0|ce(),z[w>>2]=12,te=t,(w=0)|w}function he(e){var t=0,n=0,r=0,o=0,i=0,a=0,s=0,c=0;if(e|=0){n=e+-8|0,o=0|z[6],c=n+(t=-8&(e=0|z[e+-4>>2]))|0;do{if(1&e)a=s=n;else{if(r=0|z[n>>2],!(3&e))return;if(i=r+t|0,(a=n+(0-r)|0)>>>0<o>>>0)return;if((0|z[7])==(0|a)){if(3==(3&(t=0|z[(e=c+4|0)>>2])|0))return z[4]=i,z[e>>2]=-2&t,z[a+4>>2]=1|i,void(z[a+i>>2]=i);s=a,t=i;break}if(n=r>>>3,r>>>0<256){if(e=0|z[a+8>>2],(0|(t=0|z[a+12>>2]))==(0|e)){z[2]=z[2]&~(1<<n),s=a,t=i;break}z[e+12>>2]=t,z[t+8>>2]=e,s=a,t=i;break}o=0|z[a+24>>2],e=0|z[a+12>>2];do{if((0|e)==(0|a)){if(e=0|z[(n=4+(t=a+16|0)|0)>>2])t=n;else if(!(e=0|z[t>>2])){e=0;break}for(;;)if(n=0|z[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|z[(r=e+16|0)>>2]))break;e=n,t=r}z[t>>2]=0}else s=0|z[a+8>>2],z[s+12>>2]=e,z[e+8>>2]=s}while(0);if(o){if(t=0|z[a+28>>2],(0|z[(n=312+(t<<2)|0)>>2])==(0|a)){if(!(z[n>>2]=e)){z[3]=z[3]&~(1<<t),s=a,t=i;break}}else if(!(z[((0|z[(s=o+16|0)>>2])==(0|a)?s:o+20|0)>>2]=e)){s=a,t=i;break}z[e+24>>2]=o,0|(n=0|z[(t=a+16|0)>>2])&&(z[e+16>>2]=n,z[n+24>>2]=e),(t=0|z[t+4>>2])&&(z[e+20>>2]=t,z[t+24>>2]=e),s=a,t=i}else s=a,t=i}}while(0);if(!(c>>>0<=a>>>0)&&1&(r=0|z[(e=c+4|0)>>2])){if(2&r)z[e>>2]=-2&r,z[s+4>>2]=1|t,o=z[a+t>>2]=t;else{if((0|z[8])==(0|c)){if(c=(0|z[5])+t|0,z[5]=c,z[8]=s,z[s+4>>2]=1|c,(0|s)!=(0|z[7]))return;return z[7]=0,void(z[4]=0)}if((0|z[7])==(0|c))return c=(0|z[4])+t|0,z[4]=c,z[7]=a,z[s+4>>2]=1|c,void(z[a+c>>2]=c);o=(-8&r)+t|0,n=r>>>3;do{if(r>>>0<256){if(t=0|z[c+8>>2],(0|(e=0|z[c+12>>2]))==(0|t)){z[2]=z[2]&~(1<<n);break}z[t+12>>2]=e,z[e+8>>2]=t;break}i=0|z[c+24>>2],e=0|z[c+12>>2];do{if((0|e)==(0|c)){if(e=0|z[(n=4+(t=c+16|0)|0)>>2])t=n;else if(!(e=0|z[t>>2])){n=0;break}for(;;)if(n=0|z[(r=e+20|0)>>2])e=n,t=r;else{if(!(n=0|z[(r=e+16|0)>>2]))break;e=n,t=r}z[t>>2]=0,n=e}else n=0|z[c+8>>2],z[n+12>>2]=e,z[e+8>>2]=n,n=e}while(0);if(0|i){if(e=0|z[c+28>>2],(0|z[(t=312+(e<<2)|0)>>2])==(0|c)){if(!(z[t>>2]=n)){z[3]=z[3]&~(1<<e);break}}else if(!(z[((0|z[(r=i+16|0)>>2])==(0|c)?r:i+20|0)>>2]=n))break;z[n+24>>2]=i,0|(t=0|z[(e=c+16|0)>>2])&&(z[n+16>>2]=t,z[t+24>>2]=n),0|(e=0|z[e+4>>2])&&(z[n+20>>2]=e,z[e+24>>2]=n)}}while(0);if(z[s+4>>2]=1|o,z[a+o>>2]=o,(0|s)==(0|z[7]))return void(z[4]=o)}if(e=o>>>3,o>>>0<256)return n=48+(e<<1<<2)|0,(t=0|z[2])&(e=1<<e)?e=0|z[(t=n+8|0)>>2]:(z[2]=t|e,t=(e=n)+8|0),z[t>>2]=s,z[e+12>>2]=s,z[s+8>>2]=e,void(z[s+12>>2]=n);e=312+((r=(e=o>>>8)?16777215<o>>>0?31:o>>>(7+(r=14-((i=(520192+(c=e<<(a=(e+1048320|0)>>>16&8))|0)>>>16&4)|a|(r=(245760+(c<<=i)|0)>>>16&2))+(c<<r>>>15)|0)|0)&1|r<<1:0)<<2)|0,z[s+28>>2]=r,z[s+20>>2]=0,t=(z[s+16>>2]=0)|z[3],n=1<<r;e:do{if(t&n){e=0|z[e>>2];t:do{if((-8&z[e+4>>2]|0)!=(0|o)){for(r=o<<(31==(0|r)?0:25-(r>>>1)|0);t=0|z[(n=e+16+(r>>>31<<2)|0)>>2];){if((-8&z[t+4>>2]|0)==(0|o)){e=t;break t}r<<=1,e=t}z[n>>2]=s,z[s+24>>2]=e,z[s+12>>2]=s,z[s+8>>2]=s;break e}}while(0);c=0|z[(a=e+8|0)>>2],z[c+12>>2]=s,z[a>>2]=s,z[s+8>>2]=c,z[s+12>>2]=e,z[s+24>>2]=0}else z[3]=t|n,z[e>>2]=s,z[s+24>>2]=e,z[s+12>>2]=s,z[s+8>>2]=s}while(0);if(c=(0|z[10])-1|0,!(0|(z[10]=c))){for(e=464;e=0|z[e>>2];)e=e+8|0;z[10]=-1}}}}function ge(e,t,n){t|=0;var r,o=0,i=0,a=0;if(r=(e|=0)+(n|=0)|0,t&=255,67<=(0|n)){for(;3&e;)V[e>>0]=t,e=e+1|0;for(i=(o=-4&r|0)-64|0,a=t|t<<8|t<<16|t<<24;(0|e)<=(0|i);)z[e>>2]=a,z[e+4>>2]=a,z[e+8>>2]=a,z[e+12>>2]=a,z[e+16>>2]=a,z[e+20>>2]=a,z[e+24>>2]=a,z[e+28>>2]=a,z[e+32>>2]=a,z[e+36>>2]=a,z[e+40>>2]=a,z[e+44>>2]=a,z[e+48>>2]=a,z[e+52>>2]=a,z[e+56>>2]=a,z[e+60>>2]=a,e=e+64|0;for(;(0|e)<(0|o);)z[e>>2]=a,e=e+4|0}for(;(0|e)<(0|r);)V[e>>0]=t,e=e+1|0;return r-n|0}function ve(e){var t,n;return 0<(0|(e|=0))&(0|(t=(n=0|z[ee>>2])+e|0))<(0|n)|(0|t)<0?(se(),ue(12),-1):(0|(z[ee>>2]=t))>(0|ae())&&0==(0|ie())?(z[ee>>2]=n,ue(12),-1):0|n}T=k+=16,O=p=i(k=k+4+15&-16),O+=x,C[T>>2]=i(O),o.a={Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,byteLength:A},o.c={abort:d,assert:a,enlargeMemory:function(){var e=o.usingWasm?65536:16777216,t=2147483648-e;if(C[T>>2]>t)return!1;var n=P;for(P=Math.max(P,16777216);P<C[T>>2];)P=P<=536870912?s(2*P,e):Math.min(s((3*P+2147483648)/4,e),t);return(e=o.reallocBuffer(P))&&e.byteLength==P?(o.buffer=D=e,c(),!0):(P=n,!1)},getTotalMemory:function(){return P},abortOnCannotGrowMemory:function(){d("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+P+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime but prevents some optimizations, (3) set Module.TOTAL_MEMORY to a higher value before the program runs, or (4) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},___errno_location:function(){y("missing function: __errno_location"),d(-1)},___setErrNo:function(e){return o.___errno_location&&(C[o.___errno_location()>>2]=e),e},_emscripten_memcpy_big:function(e,t,n){return w.set(w.subarray(t,t+n),e),e},DYNAMICTOP_PTR:T,tempDoublePtr:fe,ABORT:b,STACKTOP:p,STACK_MAX:O},F=o.a,U=o.c,W=D,q=F.Int8Array,V=new q(W),$=F.Int16Array,G=new $(W),H=F.Int32Array,z=new H(W),new(K=F.Uint8Array)(W),new(Y=F.Uint16Array)(W),new(J=F.Uint32Array)(W),new(Q=F.Float32Array)(W),new(X=F.Float64Array)(W),Z=F.byteLength,ee=0|U.DYNAMICTOP_PTR,U.tempDoublePtr,U.ABORT,te=0|U.STACKTOP,U.STACK_MAX,ne=0,F.NaN,F.Infinity,re=0,F.Math.floor,F.Math.abs,F.Math.sqrt,F.Math.pow,F.Math.cos,F.Math.sin,F.Math.tan,F.Math.acos,F.Math.asin,F.Math.atan,F.Math.atan2,F.Math.exp,F.Math.log,F.Math.ceil,oe=F.Math.imul,F.Math.min,F.Math.max,F.Math.clz32,U.abort,U.assert,ie=U.enlargeMemory,ae=U.getTotalMemory,se=U.abortOnCannotGrowMemory,ce=U.___errno_location,ue=U.___setErrNo,le=U._emscripten_memcpy_big,A={_emscripten_replace_memory:function(e){return!(16777215&Z(e)||Z(e)<=16777215||2147483648<Z(e)||(V=new q(e),G=new $(e),z=new H(e),new K(e),new Y(e),new J(e),new Q(e),new X(e),W=e,0))},_free:he,_llparser_add_rule:function(e,t,n,r,o,i,a,s,c,u,l,f){var d,p,h;return t|=0,n|=0,r|=0,o|=0,i|=0,a|=0,s|=0,c|=0,u|=0,l|=0,f|=0,d=0|z[28+(e|=0)>>2],p=0|z[e>>2],z[e>>2]=1+p,z[(h=d+(44*p|0)|0)>>2]=n,(0|(z[d+(44*p|0)+4>>2]=r))<=0?z[d+(44*p|0)+40>>2]=t:(z[d+(44*p|0)+8>>2]=o,(1!=(0|r)&&(z[d+(44*p|0)+12>>2]=i,2<(0|r))&&(z[d+(44*p|0)+16>>2]=a,3!=(0|r))&&(z[d+(44*p|0)+20>>2]=s,4<(0|r))&&(z[d+(44*p|0)+24>>2]=c,5!=(0|r))&&(z[d+(44*p|0)+28>>2]=u,6<(0|r))?(z[d+(44*p|0)+32>>2]=l,7!=(0|r)):0)&&(z[d+(44*p|0)+36>>2]=f),z[d+(44*p|0)+40>>2]=t,1!=(0|z[n+4>>2])||(a=0|z[e+40>>2],s=0|z[(c=e+8|0)>>2],z[c>>2]=s+1,z[(c=a+(s<<3)|0)>>2]=h,u=n+136|0,z[a+(s<<3)+4>>2]=z[u>>2],z[u>>2]=c)),0|h},_llparser_create:function(e,t,n){var r,o,i,a,s,c,u=0;return t=(c=0==(0|(t|=0))?256:t)<<9,(0|(i=0|pe(o=52+(r=(u=0==(0|(e|=0))?256:e)<<1)+(u<<3)+(s=140*c|0)+(c<<10)+(e=44*(a=0==(0|(n|=0))?256:n)|0)+(n=0|oe(c<<3,a))|0))?3&z[i-4>>2]|0:0)&&ge(0|i,0,0|o),z[12+i>>2]=u,z[16+i>>2]=c,z[20+i>>2]=a,u=52+i|0,u=(z[24+i>>2]=u)+s|0,u=(z[28+i>>2]=u)+e|0,u=(z[32+i>>2]=u)+t|0,u=(z[36+i>>2]=u)+t|0,u=(z[40+i>>2]=u)+n|0,z[44+i>>2]=u,z[48+i>>2]=u+r,0|i},_llparser_create_descriptor:function(e,t){var n,r;return t|=0,n=0|z[24+(e|=0)>>2],e=0|z[(r=e+4|0)>>2],z[r>>2]=e+1,z[n+(140*e|0)+4>>2]=0!=(0|t)&1,n+(140*e|0)|0},_llparser_descriptor_add_char:function(e,t){V[8+(e|=0)+(t|=0)>>0]=1},_llparser_descriptor_add_range:function(e,t,n){(0|(n|=0))<(0|(t|=0))||ge((e|=0)+(t+8)|0,1,1-t+((0|t)<(0|n)?n:t)|0)},_llparser_descriptor_revert:function(e){e|=0;var t=0,n=0;for(t=1;V[(n=e+8+t|0)>>0]=0==(0|V[n>>0])&1,127!=(0|(t=t+1|0)););},_llparser_descriptor_set_all:function(e){z[4+(e|=0)>>2]=-1,V[e+135>>0]=1},_llparser_descriptor_set_nil:function(e){z[4+(e|=0)>>2]=-2,V[e+8>>0]=1},_llparser_destroy:function(e){he(e|=0)},_llparser_get_input_buffer:function(e){return 0|z[44+(e|=0)>>2]},_llparser_get_result:function(e){return 0|z[48+(e|=0)>>2]},_llparser_parse:function(e,t){e|=0,t|=0;var n,r,o,i,a=0;if(te=(o=te)+16|0,z[(a=(n=o)+4|0)>>2]=0,t=(z[n>>2]=0)|function e(t,n,r,o,i,a,s){t|=0,n|=0,r|=0,i|=0,a|=0,s|=0;var c,u,l,f,d=0,p=0,h=0,g=0,v=0,_=0,y=0,b=0,m=0,w=0,S=0,C=0,E=0;if(E=0|z[(o|=0)>>2],g=127<(65535&(g=0|G[r+(E<<1)>>1]))?1:65535&g,(0|(f=s+-4|0))<(0|(l=0|z[i>>2])))return-1;if(1!=(0|(p=0|z[(h=n+4|0)>>2]))){do{if(g){if(d=E+1|0,-1==(0|p)?(z[o>>2]=d,p=0|z[h>>2]):d=E,!p){if(0|V[n+8+g>>0]){d=d+1|0,z[o>>2]=d;break}return-1}}else d=E}while(0);return a||(E=d-(-2!=(0|z[h>>2])&1)|0,t=0|z[t+48>>2],a=0|z[i>>2],z[i>>2]=a+1,z[t+(a<<2)>>2]=E,o=0|z[o>>2],a=0|z[i>>2],z[i>>2]=a+1,z[t+(a<<2)>>2]=o),0|(0|z[i>>2])-1}if(u=t+24|0,p=(0|z[t+32>>2])+(((n-(0|z[u>>2])|0)/140|0)<<7<<2)|0,(g+-1|0)>>>0<126?(d=0|z[p+(g<<2)>>2])?y=d:C=15:C=g?15:16,15==(0|C)&&((d=0|z[p+508>>2])?y=d:C=16),16==(0|C)){if(!(d=0|z[p>>2]))return-1;y=d}m=(c=0!=(0|a))||0!=(0|z[y+40>>2])?0:(z[i>>2]=2+l,l),b=y+4|0;e:do{if(0<(0|z[b>>2])){if(v=y+40|0,c){for(d=0;;){if((0|e(t,0|z[y+8+(d<<2)>>2],r,o,i,a,s))<=-1){d=-1;break}if((0|(d=d+1|0))>=(0|z[b>>2])){d=0;break e}}return 0|d}for(_=(d=g=0)|z[v>>2];;){if(p=g+65536|0,(0|(h=0|e(t,0|z[y+8+(g<<2)>>2],r,o,i,0!=(0|_)&(0|_)!=(0|p)&1,s)))<0){d=-1;break}if(d=(0|(_=0|z[v>>2]))==(0|p)?h:d,(0|(g=g+1|0))>=(0|z[b>>2]))break e}return 0|d}d=0}while(0);e:do{if(!c)switch(0|z[y+40>>2]){case 0:S=0|z[t+48>>2],z[S+(m<<2)>>2]=0-y,z[S+((d=m+1|0)<<2)>>2]=z[b>>2];break e;case 1:S=0|z[t+48>>2],d=0|z[i>>2],z[i>>2]=d+1,z[S+(d<<2)>>2]=E,d=0|z[i>>2],w=0|z[o>>2],z[i>>2]=d+1,z[S+(d<<2)>>2]=w;break e;default:break e}}while(0);if((0|z[i>>2])>(0|f))return-1;w=t+36|0,S=t+48|0,g=m;e:for(;;){if(h=(0|z[w>>2])+(((n-(0|z[u>>2])|0)/140|0)<<7<<2)|0,((p=127<(65535&(p=0|G[r+(z[o>>2]<<1)>>1]))?1:65535&p)-1|0)>>>0<126)(p=0|z[h+(p<<2)>>2])||(C=37);else{if(!p){C=55;break}C=37}if(37==(0|C)&&!(p=(C=0)|z[h+508>>2])){C=55;break}t:do{if(c)m=g;else{h=0|z[p+40>>2];n:do{if((0|h)<65536){switch(0|h){case 0:break;default:break n}m=(0|z[S>>2])+(d<<2)|0,z[m>>2]=~z[m>>2],m=0|z[i>>2],z[i>>2]=m+2;break t}switch(0|h){case 65536:m=g;break t}}while(0);z[i>>2]=l,m=g}}while(0);if(1<(0|z[(b=p+4|0)>>2]))if(y=p+40|0,c){h=1;do{if((0|e(t,0|z[p+8+(h<<2)>>2],r,o,i,a,s))<=-1){d=-1,C=55;break e}h=h+1|0}while((0|h)<(0|z[b>>2]))}else{_=1,v=0|z[y>>2];do{if(h=_+65536|0,(0|(g=0|e(t,0|z[p+8+(_<<2)>>2],r,o,i,0!=(0|v)&(0|v)!=(0|h)&1,s)))<0){d=-1,C=55;break e}d=(0|(v=0|z[y>>2]))==(0|h)?g:d,_=_+1|0}while((0|_)<(0|z[b>>2]))}t:do{if(!c)switch(0|z[p+40>>2]){case 0:y=0|z[S>>2],z[y+(m<<2)>>2]=0-p,z[y+((d=m+1|0)<<2)>>2]=z[b>>2];break t;case 1:b=0|z[S>>2],d=0|z[i>>2],z[i>>2]=d+1,z[b+(d<<2)>>2]=E,d=0|z[i>>2],y=0|z[o>>2],z[i>>2]=d+1,z[b+(d<<2)>>2]=y;break t;default:break t}}while(0);if((0|z[i>>2])>(0|f)){d=-1,C=55;break}g=m}return 55==(0|C)?0|d:0}(e,t,0|z[(r=e+44|0)>>2],n,a,0,z[e+12>>2]<<1),i=0|z[e+48>>2],e=0|z[a>>2],z[a>>2]=e+1,z[i+(e<<2)>>2]=-1,e=0|z[a>>2],z[a>>2]=e+1,-1<((z[i+(e<<2)>>2]=0)|t)){if(e=0|z[n>>2],!(0|G[(0|z[r>>2])+(e<<1)>>1]))return te=o,(a=0)|a}else e=0|z[n>>2];return te=o,0|e+1},_llparser_prepare:function(e){var t=0,n=0,r=0,o=0,i=0,a=0,s=0,c=0,u=0,l=0,f=0,d=0,p=0,h=0,g=0,v=0;if(!((0|(t=0|z[(o=4+(e|=0)|0)>>2]))<=0)){for(i=e+24|0,h=e+32|0,r=0;n=(l=0|z[i>>2])+(140*r|0)|0,1==(0|z[l+(140*r|0)+4>>2])&&(de(n,n,(0|z[h>>2])+(r<<7<<2)|0,0),t=0|z[o>>2]),(0|(r=r+1|0))<(0|t););if(!((0|t)<=0)){l=e+36|0,u=i=0|z[i>>2],e=0;do{if(a=i+(140*e|0)|0,1==(0|z[i+(140*e|0)+4>>2])&&(d=((z[a>>2]=0)|z[l>>2])+(e<<7<<2)|0,0|(f=0|z[i+(140*e|0)+136>>2]))){o=f;do{if(s=0|z[o>>2],(0|z[(c=s)+8>>2])==(0|a))if(r=0|z[s+12>>2],1==(0|z[r+4>>2]))for(r=(0|z[h>>2])+(((r-u|0)/140|0)<<7<<2)|0,n=0;(0|z[r+(n<<2)>>2]?0==(0|(v=0|z[(p=d+(n<<2)|0)>>2]))|s>>>0<v>>>0:0)&&(z[p>>2]=c),128!=(0|(n=n+1|0)););else for(n=0;(0|V[r+8+n>>0]?0==(0|(v=0|z[(g=d+(n<<2)|0)>>2]))|s>>>0<v>>>0:0)&&(z[g>>2]=c),128!=(0|(n=n+1|0)););o=0|z[o+4>>2]}while(0!=(0|o))}e=e+1|0}while((0|e)!=(0|t))}}},_malloc:pe,_memcpy:function(e,t,n){e|=0,t|=0;var r,o,i=0;if(8192<=(0|(n|=0)))return 0|le(0|e,0|t,0|n);if(o=0|e,r=e+n|0,(3&e)==(3&t)){for(;3&e;){if(!n)return 0|o;V[e>>0]=0|V[t>>0],e=e+1|0,t=t+1|0,n=n-1|0}for(i=(n=-4&r|0)-64|0;(0|e)<=(0|i);)z[e>>2]=z[t>>2],z[e+4>>2]=z[t+4>>2],z[e+8>>2]=z[t+8>>2],z[e+12>>2]=z[t+12>>2],z[e+16>>2]=z[t+16>>2],z[e+20>>2]=z[t+20>>2],z[e+24>>2]=z[t+24>>2],z[e+28>>2]=z[t+28>>2],z[e+32>>2]=z[t+32>>2],z[e+36>>2]=z[t+36>>2],z[e+40>>2]=z[t+40>>2],z[e+44>>2]=z[t+44>>2],z[e+48>>2]=z[t+48>>2],z[e+52>>2]=z[t+52>>2],z[e+56>>2]=z[t+56>>2],z[e+60>>2]=z[t+60>>2],e=e+64|0,t=t+64|0;for(;(0|e)<(0|n);)z[e>>2]=z[t>>2],e=e+4|0,t=t+4|0}else for(n=r-4|0;(0|e)<(0|n);)V[e>>0]=0|V[t>>0],V[e+1>>0]=0|V[t+1>>0],V[e+2>>0]=0|V[t+2>>0],V[e+3>>0]=0|V[t+3>>0],e=e+4|0,t=t+4|0;for(;(0|e)<(0|r);)V[e>>0]=0|V[t>>0],e=e+1|0,t=t+1|0;return 0|o},_memset:ge,_sbrk:ve,establishStackSpace:function(e,t){te=e|=0},getTempRet0:function(){return 0|re},runPostSets:function(){},setTempRet0:function(e){re=e|=0},setThrew:function(e,t){ne||(ne=e|=0)},stackAlloc:function(e){var t;return te=15+(te=(t=te)+(e|=0)|0)&-16,0|t},stackRestore:function(e){te=e|=0},stackSave:function(){return 0|te}};var _e=o._emscripten_replace_memory=A._emscripten_replace_memory;if(o._free=A._free,o._llparser_add_rule=A._llparser_add_rule,o._llparser_create=A._llparser_create,o._llparser_create_descriptor=A._llparser_create_descriptor,o._llparser_descriptor_add_char=A._llparser_descriptor_add_char,o._llparser_descriptor_add_range=A._llparser_descriptor_add_range,o._llparser_descriptor_revert=A._llparser_descriptor_revert,o._llparser_descriptor_set_all=A._llparser_descriptor_set_all,o._llparser_descriptor_set_nil=A._llparser_descriptor_set_nil,o._llparser_destroy=A._llparser_destroy,o._llparser_get_input_buffer=A._llparser_get_input_buffer,o._llparser_get_result=A._llparser_get_result,o._llparser_parse=A._llparser_parse,o._llparser_prepare=A._llparser_prepare,o._malloc=A._malloc,o._memcpy=A._memcpy,o._memset=A._memset,o._sbrk=A._sbrk,o.establishStackSpace=A.establishStackSpace,o.getTempRet0=A.getTempRet0,o.runPostSets=A.runPostSets,o.setTempRet0=A.setTempRet0,o.setThrew=A.setThrew,o.stackAlloc=A.stackAlloc,o.stackRestore=A.stackRestore,o.stackSave=A.stackSave,o.asm=A,o.getValue=function(e,t){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return m[e>>0];case"i16":return S[e>>1];case"i32":case"i64":return C[e>>2];case"float":return E[e>>2];case"double":return I[e>>3];default:d("invalid type for getValue: "+t)}return null},o.stringToUTF16=function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var o=0;o<n;++o)S[t>>1]=e.charCodeAt(o),t+=2;return S[t>>1]=0,t-r},v&&((String.prototype.startsWith?v.startsWith(L):0===v.indexOf(L))||("function"==typeof o.locateFile?v=o.locateFile(v):o.memoryInitializerPrefixURL&&(v=o.memoryInitializerPrefixURL+v)),A=o.readBinary(v),w.set(A,8)),(l.prototype=Error()).constructor=l,o.run=f,o.abort=d,o.preInit)for("function"==typeof o.preInit&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();o.noExitRuntime=!0,f()}(e.exports)}).call(t,n(8).Buffer,n(12))},function(e,t,n){(function(e){"use strict";function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return i.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=i.prototype:(null===e&&(e=new i(t)),e.length=t),e}function i(e,t,n){if(!(i.TYPED_ARRAY_SUPPORT||this instanceof i))return new i(e,t,n);if("number"!=typeof e)return a(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}function a(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),i.TYPED_ARRAY_SUPPORT?(e=t).__proto__=i.prototype:e=u(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!i.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),a=(e=o(e,r)).write(t,n);return a!==r&&(e=e.slice(0,a)),e}(e,t,n):function(e,t){if(i.isBuffer(t)){var n=0|l(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?o(e,0):u(e,t);if("Buffer"===t.type&&j(t.data))return u(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(s(t),e=o(e,t<0?0:0|l(t)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function u(e,t){var n=t.length<0?0:0|l(t.length);e=o(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function l(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return x(e).length;default:if(r)return A(e).length;t=(""+t).toLowerCase(),r=!0}}function d(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function p(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:h(e,t,n,r,o);if("number"==typeof t)return t&=255,i.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):h(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function h(e,t,n,r,o){function i(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var a,s=1,c=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;c/=s=2,u/=2,n/=2}if(o){var l=-1;for(a=n;a<c;a++)if(i(e,a)===i(t,-1===l?0:a-l)){if(-1===l&&(l=a),a-l+1===u)return l*s}else-1!==l&&(a-=a-l),l=-1}else for(c<n+u&&(n=c-u),a=n;0<=a;a--){for(var f=!0,d=0;d<u;d++)if(i(e,a+d)!==i(t,d)){f=!1;break}if(f)return a}return-1}function g(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?o<(r=Number(r))&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");i/2<r&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function v(e,t,n,r){return P(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,f=239<u?4:223<u?3:191<u?2:1;if(o+f<=n)switch(f){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&127<(c=(31&u)<<6|63&i)&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(c=(15&u)<<12|(63&i)<<6|63&a)&&(c<55296||57343<c)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)&&c<1114112&&(l=c)}null===l?(l=65533,f=1):65535<l&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=f}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}function y(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function b(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function m(e,t,n){var r,o=e.length;(!t||t<0)&&(t=0),(!n||n<0||o<n)&&(n=o);for(var i="",a=t;a<n;++a)i+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return i}function w(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,n,r,o,a){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<a)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function E(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function O(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,r,o){return o||O(e,0,n,4),N.write(e,t,n,r,23,4),n+4}function k(e,t,n,r,o){return o||O(e,0,n,8),N.write(e,t,n,r,52,8),n+8}function A(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function x(e){return D.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}var D=n(9),N=n(10),j=n(11);t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50,i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=r(),i.poolSize=8192,i._augment=function(e){return e.__proto__=i.prototype,e},i.from=function(e,t,n){return a(null,e,t,n)},i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0})),i.alloc=function(e,t,n){return function(e,t,n,r){return s(t),t<=0?o(e,t):void 0!==n?"string"==typeof r?o(e,t).fill(n,r):o(e,t).fill(n):o(e,t)}(null,e,t,n)},i.allocUnsafe=function(e){return c(null,e)},i.allocUnsafeSlow=function(e){return c(null,e)},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!j(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(n=t=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!i.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)d(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)d(this,t,t+3),d(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)d(this,t,t+7),d(this,t+1,t+6),d(this,t+2,t+5),d(this,t+3,t+4);return this},i.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?_(this,0,e):function(e,t,n){var r,o,i,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return m(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return y(this,t,n);case"latin1":case"binary":return b(this,t,n);case"base64":return r=this,i=n,0===(o=t)&&i===r.length?D.fromByteArray(r):D.fromByteArray(r.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),c=Math.min(a,s),u=this.slice(r,o),l=e.slice(t,n),f=0;f<c;++f)if(u[f]!==l[f]){a=u[f],s=l[f];break}return a<s?-1:s<a?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return p(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return p(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o,i,a,s,c,u,l=this.length-t;if((void 0===n||l<n)&&(n=l),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var f=!1;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return c=t,u=n,P(A(e,this.length-c),this,c,u);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return v(this,e,t,n);case"base64":return this,a=t,s=n,P(x(e),this,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o=t,i=n,P(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(e,this.length-o),this,o,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),f=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;i.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):r<t&&(t=r),t<e&&(t=e),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=i.prototype;else{var o=t-e;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+e]}return n},i.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){t||S(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){t||S(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),N.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),N.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),N.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),N.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||C(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,255,0),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);C(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);C(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;0<=--i&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,1,127,-128),i.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):E(this,e,t,!0),t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):E(this,e,t,!1),t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),i.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},i.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return k(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return k(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,a=r-n;if(this===e&&n<t&&t<r)for(o=a-1;0<=o;--o)e[o+t]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+a),t);return a},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var a;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var s=i.isBuffer(e)?e:A(new i(e,r).toString()),c=s.length;for(a=0;a<n-t;++a)this[a+t]=s[a%c]}return this};var M=/[^+\/0-9A-Za-z-_]/g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function r(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(o[(s=r)>>18&63]+o[s>>12&63]+o[s>>6&63]+o[63&s]);var s;return i.join("")}t.byteLength=function(e){var t=n(e),r=t[0],o=t[1];return 3*(r+o)/4-o},t.toByteArray=function(e){for(var t,r=n(e),o=r[0],s=r[1],c=new a(3*(o+s)/4-s),u=0,l=0<s?o-4:o,f=0;f<l;f+=4)t=i[e.charCodeAt(f)]<<18|i[e.charCodeAt(f+1)]<<12|i[e.charCodeAt(f+2)]<<6|i[e.charCodeAt(f+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(f)]<<2|i[e.charCodeAt(f+1)]>>4,c[u++]=255&t),1===s&&(t=i[e.charCodeAt(f)]<<10|i[e.charCodeAt(f+1)]<<4|i[e.charCodeAt(f+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=0,c=n-i;s<c;s+=16383)a.push(r(e,s,c<s+16383?c:s+16383));return 1==i?(t=e[n-1],a.push(o[t>>2]+o[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],a.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),a.join("")};for(var o=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=s.length;c<u;++c)o[c]=s[c],i[s.charCodeAt(c)]=c;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,f=n?o-1:0,d=n?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-l)-1,p>>=-l,l+=s;0<l;i=256*i+e[t+f],f+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+f],f+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=u}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c,u=8*i-o-1,l=(1<<u)-1,f=l>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-a))<1&&(a--,c*=2),2<=(t+=1<=a+f?d/c:d*Math.pow(2,1-f))*c&&(a++,c/=2),l<=a+f?(s=0,a=l):1<=a+f?(s=(t*c-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;0<u;e[n+p]=255&a,p+=h,a/=256,u-=8);e[n+p-h]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function i(){h&&d&&(h=!1,d.length?p=d.concat(p):g=-1,p.length&&a())}function a(){if(!h){var e=o(i);h=!0;for(var t=p.length;t;){for(d=p,p=[];++g<t;)d&&d[g].run();g=-1,t=p.length}d=null,h=!1,function(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var u,l,f=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var d,p=[],h=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function o(e){return i.exec(e).slice(1)}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;t.resolve=function(){for(var t="",o=!1,i=arguments.length-1;-1<=i&&!o;i--){var a=0<=i?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,o="/"===a.charAt(0))}return(o?"/":"")+(t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"))||"."},t.normalize=function(e){var o=t.isAbsolute(e),i="/"===a(e,-1);return(e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&i&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(12))},function(e,t,n){function r(){}function o(){}var i=n(1),a=n(2),s=n(5),c=["created","ready","attached","moved","detached","saved","restored","error"],u=[String,Number,Boolean,Object,Array,null],l=s.parseMultiPaths,f=(o.matchTypeWithValue=function(e,t){if(e===String){if("string"!=typeof t)return!1}else if(e===Number){if(!Number.isFinite(t))return!1}else if(e===Boolean){if("boolean"!=typeof t)return!1}else if(e===Object){if(null===t||t.constructor!==Object)return!1}else if(e===Array){if(t.constructor!==Array)return!1}else if(void 0===t)return!1;return!0},function(e,t){for(var n in t)hasOwnProperty.call(e,n)?"object"!=_typeof4(e[n])||"object"!=_typeof4(t[n])||null===t[n]||t[n]instanceof Array?e[n]=t[n]:f(e[n],t[n]):e[n]=t[n]});o.create=function(e){var t=new o;return t.is=e.is||"",t.using=e.using||{},t.generics=e.generics||{},t.template=e.template,t.externalClasses=e.externalClasses||[],t.data="object"==_typeof4(e.data)?{}:null,t.properties=Object.create(null),t.methods=Object.create(null),t.listeners=Object.create(null),t.relations=Object.create(null),t.ancestors=[],t.initiator=e.initiator,t.lifetimes=Object.create(null),t.pageLifetimes=Object.create(null),t.observers=[],t.options={publicProperties:!!(e.options&&void 0!==e.options.publicProperties?e.options.publicProperties:a.publicProperties)},t.definitionFilter=e.definitionFilter,((t._unprepared=e).options&&void 0!==e.options.lazyRegistration?e.options.lazyRegistration:a.lazyRegistration)||o.prepare(t),e.is&&(o._list[e.is]=t),t},o.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var n=e.ancestors,i="",a=0;for(a=0;a<(t.behaviors||[]).length;a++){var s=t.behaviors[a],d=s;for(i in"string"==typeof d&&(d=o._list[s]),d._unprepared&&o.prepare(d),"object"==_typeof4(d.data)&&(null===e.data?e.data=d.data:f(e.data,d.data)),d.generics){var p=d.generics[i];"object"!=_typeof4(p)&&(p={}),e.generics[i]={default:p.default}}for(i in d.properties)e.properties[i]=d.properties[i];for(i in d.relations)e.relations[i]=d.relations[i];for(i in d.methods)e.methods[i]=d.methods[i];for(var h=0;h<d.ancestors.length;h++)n.indexOf(d.ancestors[h])<0&&n.push(d.ancestors[h])}for(i in"object"==_typeof4(t.data)&&(null===e.data?e.data=t.data:f(e.data,t.data)),t.properties){var g=t.properties[i];0<=u.indexOf(g)?g={type:g}:u.indexOf(g.type)<0&&g.optionalTypes&&0<g.optionalTypes.length&&(g.type=g.optionalTypes[0]),void 0===g.value&&(g.type===String?g.value="":g.type===Number?g.value=0:g.type===Boolean?g.value=!1:g.type===Array?g.value=[]:g.value=null),e.properties[i]={type:g.type,optionalTypes:g.optionalTypes,value:g.value,filter:g.filter,observer:g.observer,public:!!(void 0===g.public?e.options.publicProperties:g.public),observeAssignments:!!g.observeAssignments}}if(t.lifetimes&&"object"==_typeof4(t.lifetimes))for(i in t.lifetimes)e.lifetimes[i]=t.lifetimes[i];for(a=0;a<c.length;a++)void 0===e.lifetimes[c[a]]&&(e.lifetimes[c[a]]=t[c[a]]);for(i in t.listeners)e.listeners[i]=t.listeners[i];var v=t.observers;if(v instanceof Array)for(a=0;a<v.length;a++){var _=v[a];e.observers.push({paths:l(_.fields||"**"),observer:_.observer})}else for(i in v)e.observers.push({paths:l(i),observer:v[i]});if(t.pageLifetimes&&"object"==_typeof4(t.pageLifetimes))for(i in t.pageLifetimes)e.pageLifetimes[i]=t.pageLifetimes[i];for(i in t.relations){var y=t.relations[i];e.relations[i]={target:y.target||i,type:y.type,linked:y.linked||r,linkChanged:y.linkChanged||r,unlinked:y.unlinked||r,linkFailed:y.linkFailed||r}}for(i in t.methods)"function"==typeof t.methods[i]&&(e.methods[i]=t.methods[i]);n.push(e)}},o._list=Object.create(null),o.prototype.hasBehavior=function(e){this._unprepared&&o.prepare(this);for(var t=0;t<this.ancestors.length;t++)if(e instanceof o){if(this.ancestors[t]===e)return!0}else if(this.ancestors[t]===o._list[e])return!0;return!1},o.prototype._getAllListeners=function(){for(var e={},t=this.ancestors,n=0;n<t.length;n++){var r=this.ancestors[n];for(var o in r.listeners)Object.prototype.hasOwnProperty.call(e,o)?e[o].push(r.listeners[o]):e[o]=[r.listeners[o]]}return e},o.prototype._addObserversToDataProxy=function(e){for(var t=this.ancestors,n=0;n<t.length;n++)for(var r=this.ancestors[n].observers,o=0;o<r.length;o++){var i=r[o];e.addObserver(i.observer,i.paths)}},o.prototype._getAllLifeTimeFuncs=function(){var e={},t=this.ancestors;c.forEach(function(t){e[t]=i.create("Lifetime Method")});for(var n=0;n<t.length;n++){var r=t[n];for(var o in r.lifetimes)r.lifetimes[o]&&(e[o]||(e[o]=i.create("Lifetime Method")),e[o].add(r.lifetimes[o]))}return e},o.prototype._getAllPageLifeTimeFuncs=function(){for(var e={},t=this.ancestors,n=0;n<t.length;n++){var r=t[n];for(var o in r.pageLifetimes)r.pageLifetimes[o]&&(e[o]||(e[o]=i.create("Page Lifetime Method")),e[o].add(r.pageLifetimes[o]))}return e},o.callDefinitionFilter=function(e){var t=e.definitionFilter,n=[];return e.behaviors instanceof Array&&e.behaviors.forEach(function(t){(t="string"==typeof t?o._list[t]:t)&&t.definitionFilter&&(n.push(t.definitionFilter),t.definitionFilter.call(null,e))}),"function"==typeof t?function(e){t(e,n)}:null},e.exports=o},function(e,t,n){function r(e){c(this,e||null)}var o=n(4),i=n(16),a=n(17),s=n(2);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0},id:{get:function(){return this.__id},set:function(e){var t=String(e);if(this.__id!==t){if(this.__id=t,this.ownerShadowRoot){var n=this.ownerShadowRoot.__wxHost;n.__idCacheDirty=!0,this.__domElement&&n.__componentOptions.writeIdToDOM&&(this.__domElement.id=t)}s.writeExtraInfoToAttr&&this.__domElement&&this.__domElement.setAttribute("exparser:info-attr-id",t),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"id"})}},configurable:!0},slot:{get:function(){return this.__slot},set:function(e){e=String(e),this.__slot!==e&&(this.__inheritSlots||(this.__slot=e,_(this),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"slot"})))},configurable:!0},attributes:{get:function(){var e=[];if(!this.__attributes)return e;for(var t in this.__attributes)e.push({name:t,value:this.__attributes[t]});return e},set:function(){},configurable:!0},class:{get:function(){return this.classList.getClassNames()},set:function(e){this.classList&&this.classList.setClassNames(e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"class"})},configurable:!0},style:{get:function(){return this.__domElement?this.__domElement.style:null},set:function(e){return m.call(this,e)},configurable:!0}}),o._setElementSystem(r),a._setElementSystem(r);var c=r.initialize=function(e,t){e.__id="",e.__slot="",e.__virtual=!1,e.__inheritSlots=!1,e.__attributes=null,e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=null,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,(e.__methodCaller=e).__relationHandler=null,e.__createdInOwnerShadowRoot=null,(e.__domElement=t)&&(t.__wxElement=e)};function u(e){if(!e.parentNode||e.parentNode.__attached){!function e(t){if(t instanceof r){t.__attached=!0,t.__lifeTimeFuncs&&t.__lifeTimeFuncs.attached.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("attached"),t.__attachedObservers&&!t.__attachedObservers.empty&&i._callSingleObserver(t,"__attachedObservers",{type:"attachStatus",target:t,status:"attached"}),t.shadowRoot instanceof r&&e(t.shadowRoot);for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o])}}(e)}}function l(e){if(e.__attached){!function e(t){if(t instanceof r){for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o]);t.shadowRoot instanceof r&&e(t.shadowRoot),t.__attached=!1,t.__lifeTimeFuncs&&t.__lifeTimeFuncs.detached.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("detached"),t.__attachedObservers&&!t.__attachedObservers.empty&&i._callSingleObserver(t,"__attachedObservers",{type:"attachStatus",target:t,status:"detached"})}}(e)}}function f(e,t,n){if(e.__childObservers&&!e.__childObservers.empty||e.__subtreeObserversCount){var r,o=[n];r="add"===t?{type:"childList",target:e,addedNodes:o}:"remove"===t?{type:"childList",target:e,removedNodes:o}:{type:"childList",target:e,addedNodes:o,removedNodes:o},i._callObservers(e,"__childObservers",r)}}function d(e,t,n){var o=e.ownerShadowRoot,i=!1,c=!1,u=!1,l=!1;return function e(f){if(f.__createdInOwnerShadowRoot&&t&&f.__createdInOwnerShadowRoot!==t)throw new Error("Cannot move the node from one shadow tree to another shadow tree.");if(f.ownerShadowRoot=t,f instanceof r){if(t){var d=t.__wxHost.__componentOptions;f.__domElement&&f.__id&&d.writeIdToDOM!==!(!o||!o.__wxHost.__componentOptions.writeIdToDOM)&&(d.writeIdToDOM?f.__domElement.id=f.__id:f.__domElement.id=""),f.classList instanceof a&&(f.classList._setOwnerOptions(t.__wxHost.classList,d.classPrefix,d.addGlobalClass),s.writeExtraInfoToAttr&&f.__domElement&&f.__domElement.setAttribute("exparser:info-class-prefix",d.classPrefix&&d.classPrefix+"--"))}n&&(f.__id&&(o&&(i=!0),t&&(u=!0)),void 0!==f.__slotName&&(o&&(c=!0),t&&(l=!0)));for(var p=f.childNodes,h=0;h<p.length;h++)e(p[h])}}(e),i&&(o.__wxHost.__idCacheDirty=!0),c&&(o.__slotCacheDirty=!0),u&&(t.__wxHost.__idCacheDirty=!0),l&&(t.__slotCacheDirty=!0),o}function p(e){e.__slotCacheDirty=!1;var t,n=e.__wxHost,o=Object.create(null);t=void 0!==n.__singleSlot?{"":n.__singleSlot}:n.__slots;(function e(t){void 0!==t.__slotName&&(o[t.__slotName]||(o[t.__slotName]=t));for(var n=t.childNodes,i=0;i<n.length;i++)n[i]instanceof r&&e(n[i])})(e),void 0!==n.__singleSlot?n.__singleSlot!==o[""]&&(o[""]&&(o[""].__wxSlotChildren=n.childNodes),v(n,o,t,!0),n.__singleSlot&&(n.__singleSlot.__wxSlotChildren=[]),n.__singleSlot=o[""]||null):(v(n,o,t,!1),n.__slots=o)}function h(e,t,n,r){for(var o=function e(t,r,o){var i=t.childNodes,a=0;for(r&&(a=i.indexOf(r)+(o?0:1));a<i.length;a++){var s=i[a];if(s.__slot===n)return s;if(s.__inheritSlots){var c=e(s,null,!1);if(c)return c}}return null};t!==e;t=t.parentNode){var i=o(t.parentNode,t,r);if(i)return i;r=!1}return null}function g(e,t,n,o){var a=o?n:t;return function(e,t,n,o){if(void 0!==e.__slotName)return!1;var a=-1;if(n&&(a=e.childNodes.indexOf(n))<0)return!1;o&&t===n&&(o=!1);var s=null,c=e,g=e;if(t){s=t.parentNode;var v=(t.parentNode=e).__subtreeObserversCount;if(s){var _=s.childNodes.indexOf(t);s.childNodes.splice(_,1),s===e&&_<a&&a--,v-=s.__subtreeObserversCount}v&&i._updateSubtreeCaches(t,v)}for(var m=e;m&&m.__inheritSlots;)m=m.parentNode;for(var w=!m||!m.__slots,S=!w||e.__inheritSlots,C=s;C&&C.__inheritSlots;)C=C.parentNode;var E=!C||!C.__slots,I=!E||s&&s.__inheritSlots;if(w)void 0!==e.__singleSlot&&(c=g=e.__singleSlot),c?y(c,t,n,o,S,I,a):t.__wxSlotParent&&y(t.__wxSlotParent,null,t,!0,I,!1),t&&!E&&t.__inheritSlots&&b(t,function(e,t){y(e,t,null,!1,!0,!0,-1)});else{var O="";if(t&&(O=t.__slot||"",c=m.__slots[O]||null),n&&(g=m.__slots[n.__slot||""]||null),n&&g&&o&&y(g,null,n,o,!0,!1),t)if(c){var T=n?h(m,n,O,!o):null;y(c,t,T,!1,!0,I)}else t.__wxSlotParent&&y(t.__wxSlotParent,null,t,!0,I,!1);n&&o&&n.__inheritSlots&&b(n,function(e,t){y(e,t,null,!1,!0,!0,-1)}),t&&t.__inheritSlots&&b(t,function(e,t){var r=t.__slot||"",i=m.__slots[r]||null;if(i){var a=n?h(m,n,r,!o):null;y(i,t,a,!1,!0,!0)}else t.__wxSlotParent&&y(t.__wxSlotParent,null,t,!0,!0,!1)})}o&&(e.__subtreeObserversCount&&i._updateSubtreeCaches(n,-e.__subtreeObserversCount),n.parentNode=null),-1===a&&(a=e.childNodes.length),t?e.childNodes.splice(a,o?1:0,t):e.childNodes.splice(a,o?1:0);var k=null,A=null;return o&&null!==n.ownerShadowRoot&&(k=d(n,null,!0)),t&&t.ownerShadowRoot!==t.parentNode.ownerShadowRoot&&(A=d(t,t.parentNode.ownerShadowRoot,!0)),o&&(k&&k.__slotCacheDirty&&p(k),n.ownerShadowRoot&&n.ownerShadowRoot.__slotCacheDirty&&p(n.ownerShadowRoot)),t&&(A&&A.__slotCacheDirty&&p(A),t.ownerShadowRoot&&t.ownerShadowRoot.__slotCacheDirty&&p(t.ownerShadowRoot)),o&&(l(n),f(e,"remove",n)),t&&(s?function(e){if(!e.__attached)return u(e);!function e(t){if(t instanceof r){for(var n=t.childNodes,o=0;o<n.length;o++)e(n[o]);t.shadowRoot instanceof r&&e(t.shadowRoot),t.__lifeTimeFuncs&&t.__lifeTimeFuncs.moved.call(t.__methodCaller,[],t),t.__relationHandler&&t.__relationHandler("moved")}}(e)}(t):u(t),s===e?f(e,"move",t):(s&&f(s,"remove",t),f(e,"add",t))),!0}(e,t,n,o)?a:null}r._clone=function(e,t,n){for(var r in e.__id=t.__id,e.__slot=t.__slot,e.__virtual=t.__virtual,e.__inheritSlots=t.__inheritSlots,e.__attributes=Object.create(null),t.__attributes)e.__attributes[r]=t.__attributes[r];e.__attached=!1,e.parentNode=null,e.childNodes=[],e.ownerShadowRoot=null,e.__wxSlotParent=null,e.__wxSlotChildren=e.childNodes,e.__subtreeObserversCount=0,e.classList=null,(e.__methodCaller=e).__relationHandler=null,(e.__domElement=n)&&(n.__wxElement=e)},r._updateIdMap=function(e){var t=e.shadowRoot;if(e.__idCacheDirty){e.__idCacheDirty=!1;var n=e.__idCache=Object.create(null);!function e(t){t.__id&&(n[t.__id]||(n[t.__id]=t));for(var o=t.childNodes,i=0;i<o.length;i++)o[i]instanceof r&&e(o[i])}(t)}};var v=function(e,t,n,r){var o=e.childNodes,i=0;if(r){var a=t[""];if(a)for(;i<o.length;i++)y(a,o[i],null,!1,!1,!1,-1);else if(a=n[""])for(;i<o.length;i++)y(a,null,o[i],!0,!1,!1,i)}else{var s=function e(r){for(var o=0;o<r.length;o++){var i=r[o],a=i.__slot||"",s=t[a];s?y(s,i,null,!1,!0,!0):(s=n[a])&&y(s,null,i,!0,!0,!0),i.__inheritSlots&&e(i.childNodes)}};s(o)}},_=function(e){for(var t=e.parentNode;t&&t.__inheritSlots;)t=t.parentNode;if(t&&void 0===t.__singleSlot){var n=e.__slot||"",r=t.__slots[n];if(r){var o=h(t,e,n,!1);y(r,e,o,!1,!0,!0)}else(r=e.__wxSlotParent)&&y(r,null,e,!0,!0,!0)}},y=function(e,t,n,o,i,a,c){if(o&&(n.__wxSlotParent=null),i&&(c=e.__wxSlotChildren.indexOf(n)),t){var u=t.__wxSlotParent;if(t.__wxSlotParent=e,u&&a){var l=u.__wxSlotChildren.indexOf(t);u.__wxSlotChildren.splice(l,1),u===e&&l<c&&c--}}(function(e,t,n,o,i){var a=e;if(a instanceof r){for(;a.__virtual;){var s=a.__wxSlotParent;if(!s){a=null;break}if(t&&!n){var c=s.__wxSlotChildren.indexOf(a);n=s.__wxSlotChildren[c+1]}a=s}a instanceof r&&(a=a.__domElement)}if(a){var u=o,l=null,f=null;if(t)if(t.__virtual){var d=document.createDocumentFragment();(function e(t){for(var n=0;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];r.__virtual?e(r):d.appendChild(r.__domElement)}})(t),l=d}else l=t.__domElement;if(n)if(n.__virtual){var p=e,h=0;if(o){(function e(t){for(var n=0;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];r.__virtual?e(r):a.removeChild(r.__domElement)}})(n),u=!1,h=i+1}else p=n.__wxSlotParent,h=n===t?i:p.__wxSlotChildren.indexOf(n);if(t){var g=function e(t,n){for(;n<t.__wxSlotChildren.length;n++){var r=t.__wxSlotChildren[n];if(!r.__virtual)return r;var o=e(r,0);if(o)return o}};n=null;for(var v=p;!(n=g(v,h))&&v.__virtual;v=v.__wxSlotParent)h=v.__wxSlotParent.__wxSlotChildren.indexOf(v)+1;n&&(f=n.__domElement)}}else f=n.__domElement;u?l?a.replaceChild(l,f):a.removeChild(f):l&&(f?a.insertBefore(l,f):a.appendChild(l))}else if(t&&t.__wxSlotParent){!function e(t){if(t.__virtual)for(var n=0;n<t.__wxSlotChildren.length;n++)e(t.__wxSlotChildren[n]);else{var r=t.__domElement;r&&r.parentNode&&r.parentNode.removeChild(r)}}(t)}})(e,t,n,o,c),s.writeExtraInfoToAttr&&(o&&n instanceof r&&n.__domElement&&n.__domElement.removeAttribute("exparser:info-in-slot-of"),t instanceof r&&t.__domElement&&(void 0!==e.__slotName&&e.ownerShadowRoot?t.__domElement.setAttribute("exparser:info-in-slot-of",e.ownerShadowRoot.__wxHost.__componentInstanceId):t.__domElement.removeAttribute("exparser:info-in-slot-of"))),i&&(-1===c&&(c=e.__wxSlotChildren.length),t?e.__wxSlotChildren.splice(c,o?1:0,t):e.__wxSlotChildren.splice(c,o?1:0))},b=function e(t,n){for(var r=t.childNodes,o=0;o<r.length;o++){var i=r[o];n(t,i),i.__inheritSlots&&e(i,n)}};r._attachShadowRoot=function(e){var t=e.__wxHost;t.__wxSlotChildren=[e],y(t,e,null,!1,!1,0),d(e,e,!1)},r.appendChild=function(e,t){return g(e,t,null,!1)},r.insertBefore=function(e,t,n){return g(e,t,n,!1)},r.removeChild=function(e,t){return g(e,null,t,!0)},r.replaceChild=function(e,t,n){return g(e,t,n,!0)},r.prototype.appendChild=function(e){return g(this,e,null,!1)},r.prototype.insertBefore=function(e,t){return g(this,e,t,!1)},r.prototype.removeChild=function(e){return g(this,null,e,!0)},r.prototype.replaceChild=function(e,t){return g(this,e,t,!0)},r.prototype.triggerEvent=function(e,t,n){o.triggerEvent(this,e,t,n)},r.prototype.dispatchEvent=function(e){o.dispatchEvent(this,e)},r.prototype.addListener=function(e,t,n){o.addListenerToElement(this,e,t,n)},r.prototype.removeListener=function(e,t,n){o.removeListenerFromElement(this,e,t,n)},r.setMethodCaller=function(e,t){e.__methodCaller=t},r.getMethodCaller=function(e){return e.__methodCaller},r.prototype.getAttribute=function(e){if(!this.__attributes)return null;var t=this.__attributes[e];return void 0===t?null:t},r.prototype.setAttribute=function(e,t){this.__attributes||(this.__attributes=Object.create(null)),t=String(t),this.__attributes[e]=t,this.__domElement&&this.__domElement.setAttribute(e,t)},r.prototype.removeAttribute=function(e){this.__attributes&&(delete this.__attributes[e],this.__domElement&&this.__domElement.removeAttribute(e))};var m=r.prototype.setNodeStyle=function(e){if(this.__domElement&&this.__createdInOwnerShadowRoot&&this.__createdInOwnerShadowRoot.__childrenPropsFilter){var t=this.__createdInOwnerShadowRoot.__childrenPropsFilter.style;if("function"==typeof t)return void this.__domElement.setAttribute("style",t.call(this,e))}this.__domElement&&this.__domElement.setAttribute("style",e),(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&i._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:"style"})};function w(e,t){var n=e.match(/^(#[_a-zA-Z][-_a-zA-Z0-9:]*|)((?:\.-?[_a-zA-Z][-_a-zA-Z0-9]*)+|)$/);if(!n)return null;var r=n[1].slice(1),o=n[2].split(".");return o.shift(),r||o.length?{id:r,classes:o,relation:t||""}:null}function S(e,t,n){if(n.__virtual)return!1;for(var r=e.union,o=0;o<r.length;o++){var i=r[o];if(E(t,n,i,i.length-1,">"))return!0}return!1}r.replaceDocumentElement=function(e,t){e.__attached||(t.parentNode.replaceChild(e.__domElement,t),u(e))},r.pretendAttached=function(e){e.__attached||u(e)},r.pretendDetached=function(e){e.__attached&&l(e)},r.isAttached=function(e){return e.__attached},r.setSlotName=function(e,t){if(t=null==t?"":String(t),void 0===e.__slotName){if(0!==e.childNodes.length||0!==e.__wxSlotChildren.length)return;e.__wxSlotChildren=[]}e.__slotName=t,e.ownerShadowRoot&&p(e.ownerShadowRoot)},r.setInheritSlots=function(e){e.__singleSlot||e.__slots||e.__wxSlotChildren.length||(e.__wxSlotChildren=[],e.__inheritSlots=!0)},r.getInheritSlots=function(e){return e.__inheritSlots};var C=r.parseSelector=function(e){for(var t=String(e||"").split(","),n=[],r=!1,o=0;o<t.length;o++){for(var i=t[o].split(/( |\t|>+)/g),a=[],s="",c=0;c<i.length;c++){var u=i[c];if(u&&" "!==u&&"\t"!==u)if(">"!==u[0]){var l=w(u,s);if(s="",!l)break;a.push(l)}else{if(""!==s)break;">>>"===(s=u)&&(r=!0)}}c===i.length&&a.length&&n.push(a)}return n.length?{crossShadow:r,union:n}:null},E=function e(t,n,r,o,i){if(n===t)return!1;var a=r[o],s=!0;a.id&&a.id!==n.__id&&(s=!1);for(var c=a.classes,u=0;s&&u<c.length;u++)n.classList.contains(c[u])||(s=!1);if(!s&&">"===i)return!1;var l=n;if(s&&0===o){if(null===t)return!0;for(l=l.parentNode;l;l=l.parentNode)if(l===t)return!0;if(">>>"!==i)return!1;l=n,s=!1}for(var f=s?a.relation:i;(l=l.parentNode?l.parentNode:">>>"===f?l.__wxHost:">>>"===i?(s=!1,l.__wxHost):null)===t&&(l=null),l&&l.__virtual;);if(!l)return!1;if(s){if(e(t,l,r,o-1,f))return!0;if(">>>"!==i)return!1}return e(t,l,r,o,i)},I=function e(t,n,o,i,a){if(S(n,o,i)&&(t.push(i),a))return!0;if(i.shadowRoot&&n.crossShadow&&(i.ownerShadowRoot?i.ownerShadowRoot.__wxHost.__componentOptions.domain:s.domain)===i.__componentOptions.domain&&e(t,n,o,i.shadowRoot,a)&&a)return!0;for(var c=i.childNodes,u=0;u<c.length;u++)if(c[u]instanceof r&&e(t,n,o,c[u],a)&&a)return!0;return!1};r.prototype.querySelector=function(e){var t="object"==_typeof4(e)?e:C(e);if(!t)return null;var n=[];return I(n,t,this,this,!0),n[0]||null},r.prototype.querySelectorAll=function(e){var t="object"==_typeof4(e)?e:C(e),n=[];return t?(I(n,t,this,this,!1),n):[]},r.matchSelector=function(e,t){var n="object"==_typeof4(e)?e:C(e);return!!n&&S(n,null,t)},r.prototype.matchSelector=function(e,t){var n="object"==_typeof4(e)?e:C(e);return!!n&&S(n,this,t)},e.exports=r},function(e,t,n){function r(){}var o=n(1);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;return t._cb=e,t._noSubtreeCb=function(t){t.target===this&&e.call(this,t)},t._binded=[],t},r.prototype.observe=function(e,t){var n=0,r=(t=t||{}).subtree?this._cb:this._noSubtreeCb;t.properties&&(e.__propObservers||(e.__propObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__propObservers,id:e.__propObservers.add(r),subtree:t.subtree?e:null}),n++),t.childList&&(e.__childObservers||(e.__childObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__childObservers,id:e.__childObservers.add(r),subtree:t.subtree?e:null}),n++),t.characterData&&(e.__textObservers||(e.__textObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__textObservers,id:e.__textObservers.add(r),subtree:t.subtree?e:null}),n++),t.subtree&&i(e,n),t.attachStatus&&(e.__attachedObservers||(e.__attachedObservers=o.create("Observer Callback")),this._binded.push({funcArr:e.__attachedObservers,id:e.__attachedObservers.add(r),subtree:null}))},r.prototype.disconnect=function(){for(var e=this._binded,t=0;t<e.length;t++){var n=e[t];n.funcArr.remove(n.id),n.subtree&&i(n.subtree,-1)}this._binded=[]};var i=r._updateSubtreeCaches=function(e,t){e.__subtreeObserversCount+=t;var n=e.childNodes;if(n)for(var r=0;r<n.length;r++)i(n[r],t)};r._callObservers=function(e,t,n){for(;e[t]&&e[t].call(e,[n]),(e=e.parentNode)&&e.__subtreeObserversCount;);},r._callSingleObserver=function(e,t,n){e[t]&&e[t].call(e,[n])},e.exports=r},function(e,t){function n(){}var r=null;n._setElementSystem=function(e){r=e,n._setElementSystem=null};var o=Object.prototype.hasOwnProperty;function i(e){var t="",n=e._rawNames,r=e._prefix,i=e._owner?e._owner._resolvedAlias:null,a=e._addOriginalClass;r&&(r+="--");for(var s=0;s<n.length;s++){var c=n[s];s&&(t+=" "),i&&o.call(i,c)?t+=i[c]:(a&&(t+=c+" "),t+=r+c)}return t}function a(e){var t=e._elem.__domElement;if(t){var n=i(e);n?t.setAttribute("class",n):t.removeAttribute("class")}}n.create=function(e,t){var r=new n;for(var o in r._prefix="",r._alias=t,r._resolvedAlias={},t)r._resolvedAlias[o]="";return r._rawNames=[],r._elem=e,r._owner=null,r};var s=function e(t){var o=t.classList;o instanceof n&&(o._alias&&c(o),a(o));for(var i=t.childNodes,s=0;s<i.length;s++)i[s]instanceof r&&e(i[s])},c=function(e){var t=e._owner;if(!t)return!1;var n=!1;for(var i in e._alias){var a=e._alias[i];if(o.call(t._alias,a)){var c=t._resolvedAlias[a];e._resolvedAlias[i]!==c&&(n=!0,e._resolvedAlias[i]=c)}else{var u=e._prefix&&a?e._prefix+"--"+a:a;e._resolvedAlias[i]!==u&&(n=!0,e._resolvedAlias[i]=u)}}n&&e._elem.shadowRoot instanceof r&&s(e._elem.shadowRoot)};n.prototype.toggle=function(e,t){var n=this._rawNames.indexOf(e);void 0===t&&(t=n<0),t?n<0&&(this._rawNames.push(e),a(this)):0<=n&&(this._rawNames.splice(n,1),a(this))},n.prototype.contains=function(e){return 0<=this._rawNames.indexOf(e)},n.prototype._setOwnerOptions=function(e,t,n){this._prefix!==(this._prefix=t)&&(this._addOriginalClass=n,this._owner=e,this._alias&&c(this),a(this))},n.prototype._setAlias=function(e,t){this._alias[e]=t;var n=this._owner;n&&o.call(n._alias,t)?this._resolvedAlias[e]=n._resolvedAlias[t]:this._resolvedAlias[e]=this._prefix&&t?this._prefix+"--"+t:t,s(this._elem.shadowRoot)},n.prototype.setClassNames=function(e){e=null==e?"":String(e),this._rawNames=e.match(/-?[_0-9a-z][-_0-9a-z]*/gi)||[],a(this)},n.prototype.getClassNames=function(){return i(this)},e.exports=n},function(e,t,n){function r(){}var o=n(1),i=n(3),a=n(19),s=n(4),c=n(14),u=n(15),l=n(20),f=n(16),d=n(17),p=n(2),h=n(5),g=s.addListenerToElement,v=h.parseSinglePath,_=i.deepCopy;function y(){}r.prototype=Object.create(u.prototype,{constructor:{value:r,writable:!0,configurable:!0},data:{get:function(){return this.__dataProxy._data},set:function(e){var t=this.__dataProxy;for(var n in e)t.scheduleReplace([n],e[n]);t.doUpdates()},configurable:!0},$:{get:function(){return u._updateIdMap(this),this.__idCache},set:function(){}}}),y.prototype=Object.create(Object.prototype),s._setComponent(r);var b=null;function m(e,t,n){t.__relationLinks||(t.__relationLinks={});for(var r=t.__relationLinks[n]=[],o=0;o<e.length;o++)r.push(null)}function w(e,t,n,i,a){for(var s=r.prototype.hasBehavior,u="parent"===i,l="shadowHost"===i,f=0;f<e.length;f++){var d,p=e[f];if(d="object"!=_typeof4(p.target)?c._list[p.target]:p.target){var h=t[f],g=null;if(!a)for(var v=l?n.ownerShadowRoot&&n.ownerShadowRoot.__wxHost:n.parentNode;v;v=l?v.ownerShadowRoot&&v.ownerShadowRoot.__wxHost:v.parentNode)if(!v.__virtual){if(s.call(v,d)){var _;_=u?v.__relationMap.child:l?v.__relationMap.shadowContent:v.__relationMap.descendant;for(var y=0;y<_.length;y++){var b,m=_[y];if((b="object"!=_typeof4(m.target)?c._list[m.target]:m.target)&&s.call(n,b)){g={parent:v,relation:m};break}}}if(u||g)break}t[f]=g,!h||g&&h.parent===g.parent||(o.safeCallback("Relation Unlinked Callback",h.relation.unlinked,h.parent.__methodCaller,[n.__methodCaller],h.parent),o.safeCallback("Relation Unlinked Callback",p.unlinked,n.__methodCaller,[h.parent.__methodCaller],n)),!g||h&&h.parent===g.parent||(o.safeCallback("Relation Linked Callback",g.relation.linked,g.parent.__methodCaller,[n.__methodCaller],g.parent),o.safeCallback("Relation Linked Callback",p.linked,n.__methodCaller,[g.parent.__methodCaller],n)),h&&g&&h.parent===g.parent&&(o.safeCallback("Relation Link Changed Callback",g.relation.linkChanged,g.parent.__methodCaller,[n.__methodCaller],g.parent),o.safeCallback("Relation Link Changed Callback",p.linkChanged,n.__methodCaller,[g.parent.__methodCaller],n)),a||g||o.safeCallback("Relation Link Failed Callback",p.linkFailed,n.__methodCaller,[],n)}}}r._setDefaultTemplateEngine=function(e){b=e,r._setDefaultTemplateEngine=null},a.setPropUpdater(function(e,t,n,r){var i=e[0],a=this.__propData[i];if(n=function(e,t,n){if(n)for(var r=0;r<n.length;r++)if(c.matchTypeWithValue(n[r],e))return e;return t===String?null==e?"":String(e):t===Number?isFinite(e)?Number(e):0:t===Boolean?!!e:t===Array?e instanceof Array?e:[]:t===Object?"object"==_typeof4(e)?e:null:void 0===e?null:e}(n,t.type,t.optionalTypes),t.filter){var s=o.safeCallback("Property Filter",t.filter,this.__methodCaller,r?[]:[n,a,e],this);void 0!==s&&(n=s)}return this.__propData[i]=n,this.__domElement&&this.__componentOptions.reflectToAttributes&&this.__propPublic[i]&&function(e,t,n){var r=t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),o=_typeof4(n);"boolean"==o?n?e.__domElement.setAttribute(r,""):e.__domElement.removeAttribute(r):"object"==o?e.__domElement.setAttribute(r,JSON.stringify(n)):e.__domElement.setAttribute(r,n)}(this,i,n),n}),a.setPropObserver(function(e,t,n,r,i){if(r.observeAssignments||e!==t){var a=n[0];r.observer&&o.safeCallback("Property Observer",r.observer,this.__methodCaller,i?[]:[e,t,n],this),r.public&&(this.__propObservers&&!this.__propObservers.empty||this.__subtreeObserversCount)&&f._callObservers(this,"__propObservers",{type:"properties",target:this,propertyName:a})}});function S(e,t){return function(n){return e.call(t.__methodCaller,n,t)}}r._list={},r.register=function(e){var t=e.options||{},n=c.create(e),o=void 0!==t.classPrefix?t.classPrefix:p.classPrefix;null!=o||(o=n.is||"");var i=new y;return i._unprepared=n,i.is=e.is||"",i.behavior=n,i.protoFunc=null,i.props=null,i.template=null,i.innerEvents=null,i.generics=n.generics,i.initiator=n.initiator||null,i.options={domain:t.domain||p.domain,writeOnly:!!(void 0!==t.writeOnly?t.writeOnly:p.writeOnly),allowInWriteOnly:!!(void 0!==t.allowInWriteOnly?t.allowInWriteOnly:p.allowInWriteOnly),classPrefix:o,addGlobalClass:!!(void 0!==t.addGlobalClass?t.addGlobalClass:p.addGlobalClass),templateEngine:t.templateEngine||p.templateEngine||b,renderingMode:t.renderingMode||p.renderingMode,multipleSlots:!!(void 0!==t.multipleSlots?t.multipleSlots:p.multipleSlots),reflectToAttributes:!!(void 0!==t.reflectToAttributes?t.reflectToAttributes:p.reflectToAttributes),writeFieldsToNode:!!(void 0!==t.writeFieldsToNode?t.writeFieldsToNode:p.writeFieldsToNode),writeIdToDOM:!!(void 0!==t.writeIdToDOM?t.writeIdToDOM:p.writeIdToDOM),separateInnerData:!!(void 0!==t.separateInnerData?t.separateInnerData:p.separateInnerData),randomizeTagName:!!(void 0!==t.randomizeTagName?t.randomizeTagName:p.randomizeTagName)},n._unprepared||r.prepare(i),void 0!==e.is&&(r._list[n.is]=i),i},r.isPrepared=function(e){return!e._unprepared},r.prepare=function(e){var t=e._unprepared;if(t){e._unprepared=null;var n=e.options,o={};t._unprepared&&c.prepare(t),n.writeOnly&&(o.data={value:null});var i=e.props={};Object.keys(t.properties).forEach(function(e){var r=t.properties[e];i[e]={type:r.type,optionalTypes:r.optionalTypes,value:r.value,filter:"function"==typeof r.filter?r.filter:null==r.filter?null:t.methods[r.filter],observer:"function"==typeof r.observer?r.observer:null==r.observer?null:t.methods[r.observer],public:r.public,observeAssignments:r.observeAssignments},n.writeFieldsToNode&&(o[e]={enumerable:!0,get:function(){return this.__propData[e]},set:function(t){var n=this.__dataProxy;n.scheduleReplace([e],t),n.doUpdates()}})});var s=(e.protoFunc=function(){}).prototype=Object.create(r.prototype,o);if(s.is=e.is,s.__componentOptions=n,s.__using=t.using,e.dataGroupObserverTree=a._createObserverTree(i),t._addObserversToDataProxy(e.dataGroupObserverTree),s.__behavior=t,n.writeFieldsToNode)for(var u in t.methods)s[u]=t.methods[u];s.__lifeTimeFuncs=t._getAllLifeTimeFuncs(),s.__pageLifeTimeFuncs=t._getAllPageLifeTimeFuncs();var l=t.relations,f=s.__relationMap={};for(var d in l){var p=l[d],h=p.type;f[h]?f[h].push(p):f[h]=[p]}var g=[];f.parent&&g.push(function(e){w(this.__relationMap.parent,this.__relationLinks.parent,this,"parent","detached"===e)}),f.ancestor&&g.push(function(e){w(this.__relationMap.ancestor,this.__relationLinks.ancestor,this,"ancestor","detached"===e)}),f.shadowHost&&g.push(function(e){w(this.__relationMap.shadowHost,this.__relationLinks.shadowHost,this,"shadowHost","detached"===e)}),e.relationHandler=function(e){for(var t=0;t<g.length;t++)g[t].call(this,e)};var v={},_={},y=t.data,b="";for(b in y)_[b]=y[b];for(b in i){var m=i[b];_[b]=m.value,v[b]=m.public}var S=n.templateEngine;e.template=S.create(t,_,n),s.__propPublic=v;var C=t._getAllListeners(),E=e.innerEvents=[];for(var I in C){for(var O=C[I],T=I.indexOf("."),k=I.slice(T+1),A=T<1?"":I.slice(0,T),x=[],P=0;P<O.length;P++){var D=O[P];"function"!=typeof D&&(D=null==D?null:t.methods[D]),x.push(D)}E.push({id:A,name:k,funcs:x})}}};var C=1,E=Object.prototype.hasOwnProperty,I=r._advancedCreate=function(e,t,n,i,s){var c=t;c._unprepared&&r.prepare(c);var l=c.options,f=new c.protoFunc,h=c.generics;f.__generics=h?function(e,t){var n={};for(var o in e){var i=e[o],a=t[o];"object"!=_typeof4(a)&&(a=r._list[a]),"object"!=_typeof4(a)&&null!=i.default&&(a=r._list[i.default]),a&&(n[o]=a)}return n}(h,i||{}):{};var v=null;"dom"===p.documentBackend?(v=document.createElement(e),u.initialize(f,v)):u.initialize(f,null),n&&(f.__createdInOwnerShadowRoot=n);var y=0,b=f.__externalClassAlias={};if(c.behavior.externalClasses){var w=c.behavior.externalClasses;for(y=0;y<w.length;y++)b[w[y]]=""}f.classList=d.create(f,b),p.writeExtraInfoToAttr&&v&&(f.__componentInstanceId=C++,v.setAttribute("exparser:info-component-id",f.__componentInstanceId));var E=f.__templateInstance=c.template.createInstance(f,s);f.__propData=E.data;var I=l.separateInnerData;f.__innerData=I?_(f.__propData):null,f.__dataProxy=a._advancedCreate(f,f.__propData,f.__innerData,c.dataGroupObserverTree,function(e,t,n,r){f.__templateInstance.updateValues(f,I?f.__innerData:f.__propData,e,t,n,r)}),E.beforeUpdateValues&&f.__dataProxy.setBeforeUpdateCb(function(e){f.__templateInstance.beforeUpdateValues(f,I?f.__innerData:f.__propData,e)}),l.writeOnly&&f.__dataProxy.setHidingValue(!0),f.__idCacheDirty=!1,f.__idCache=E.idMap,f.$$=v,null===E.slots[""]&&(E.slots[""]=v),c.options.multipleSlots?f.__slots=E.slots:(f.__singleSlot=E.slots[""]||null,f.__singleSlot&&(f.__singleSlot.__wxSlotChildren=f.childNodes)),E.shadowRoot instanceof u?(f.shadowRoot=E.shadowRoot,u._attachShadowRoot(E.shadowRoot)):(((f.shadowRoot=v).__wxHost=f).__domElement.appendChild(E.shadowRoot),f.__wxSlotChildren=[v],v.__wxSlotParent=f);for(var O=E.listeners,T=0;T<O.length;T++){var k=O[T];g(k.target,k.name,S(k.func,f))}var A=c.innerEvents;for(y=0;y<A.length;y++){var x=A[y],P=x.id?"this"===x.id?f:f.__idCache[x.id]:f.shadowRoot;if(P)for(var D=x.name,N=x.funcs,j=0;j<N.length;j++)g(P,D,S(N[j],f))}var R=f.__relationMap;return R.parent&&(m(R.parent,f,"parent"),f.__relationHandler=c.relationHandler),R.ancestor&&(m(R.ancestor,f,"ancestor"),f.__relationHandler=c.relationHandler),R.shadowHost&&(m(R.shadowHost,f,"shadowHost"),f.__relationHandler=c.relationHandler),c.initiator&&o.safeCallback("Component Initiator",c.initiator,f.__methodCaller,[],f),f.__lifeTimeFuncs.created.call(f.__methodCaller,[],f),f};r.create=function(e,t,n){return"object"==_typeof4(e)?I(e.is,e,null,null,n):e?e.indexOf("-")<0&&!t?l.create(e):I(e.toLowerCase(),t||E.call(r._list,e)&&r._list[e]||r._list[""],null,null,n):I("virtual",r._list[""],null,null,n)},r.listProperties=function(e){var t=[];for(var n in e.__propPublic)void 0!==e.__propPublic[n]&&t.push(n);return t},r.listPublicProperties=function(e){var t=[];for(var n in e.__propPublic)!0===e.__propPublic[n]&&t.push(n);return t},r.hasProperty=function(e,t){return void 0!==e.__propPublic[t]},r.hasPublicProperty=function(e,t){return!0===e.__propPublic[t]},r.getMethodsFromDef=function(e){return e.behavior._unprepared&&c.prepare(e.behavior),e.behavior.methods},r.getMethod=function(e,t){return e.__behavior.methods[t]},r.getComponentOptions=function(e){return e.__componentOptions},r.prototype.triggerLifeTime=function(e,t){this.__lifeTimeFuncs[e].call(this.__methodCaller,t||[])},r.prototype.triggerPageLifeTime=function(e,t){!function e(t,n,o){if(t instanceof u){if(t instanceof r){t.__pageLifeTimeFuncs[n]&&t.__pageLifeTimeFuncs[n].call(t.__methodCaller,o||[]);for(var i=t.childNodes,a=0;a<i.length;a++)e(i[a],n,o);t=t.shadowRoot}for(i=t.childNodes,a=0;a<i.length;a++)e(i[a],n,o)}}(this,e,t)},r.prototype.hasBehavior=function(e){return"object"!=_typeof4(e)&&Object.prototype.hasOwnProperty.call(this.__using,e)&&(e=this.__using[e]),!!this.__behavior&&this.__behavior.hasBehavior(e)},r.prototype.getRootBehavior=function(){return this.__behavior},r.prototype.getRelationNodes=function(e){var t=this.__behavior.relations[e];if(!t)return null;if("parent"!==t.type&&"ancestor"!==t.type&&"shadowHost"!==t.type)return function(e,t){var n=[],o=t.type,i="child"===o,a="shadowContent"===o;return function o(s){for(var c=s.childNodes,l=0;l<c.length;l++){var f=c[l];if(f instanceof u)if(f.__virtual)o(f);else{var d;if(f.__relationLinks&&(d=i?f.__relationLinks.parent:a?f.__relationLinks.shadowHost:f.__relationLinks.ancestor))for(var p=0;p<d.length;p++){var h=d[p];if(h&&h.parent===e&&h.relation===t){n.push(f);break}}a&&f instanceof r&&o(f.shadowRoot),i||o(f)}}}(a?e.shadowRoot:e),n}(this,t);for(var n=this.__relationMap[t.type],o=0;o<n.length&&n[o]!==t;o++);return this.__relationLinks[t.type][o]?[this.__relationLinks[t.type][o].parent]:[]},r.prototype.hasExternalClass=function(e){return E.call(this.__externalClassAlias,e)},r.prototype.setExternalClass=function(e,t){this.classList._setAlias(e,t)},r.prototype.replaceDataOnPath=function(e,t){this.__dataProxy.scheduleReplace(e,t)},r.getInnerData=function(e){return e.__innerData},r.getDataProxy=function(e){return e.__dataProxy},r.replaceWholeData=function(e,t,n){e.__propData=t,e.__dataProxy.replaceWholeData(t,n)},r.prototype.applyDataUpdates=function(){this.__dataProxy.doUpdates()},r.prototype.setData=function(e){var t=this.__dataProxy;for(var n in e)t.scheduleReplace(v(n),e[n]);t.doUpdates()},e.exports=r},function(e,t,n){function r(e,t,n,r,o){this._data=t,this._innerData=n,this._comp=e,this._updateCb=o,this._beforeUpdateCb=null,this._hidingValue=!1,this._changes=[],this._doingUpdates=null,this._propFields=r._propFields,this._observers=r._observers,this._observerTree=r._observerTree,this._relatedObserverTreeObj=r,this._observerStatus=[]}var o=n(1),i=n(3),a=null,s=null,c=Object.prototype.hasOwnProperty,u=i.deepCopy;function l(e){this._propFields=e,this._observerIdInc=0,this._observers=[],this._observerTree={}}function f(e,t,n){for(var r=e,o=0;o<t.length;o++){var i=t[o];if("**"===i)return r["**"]||(r["**"]=[]),void r["**"].push(n);r[i]||(r[i]={}),r=r[i]}r["~"]||(r["~"]=[]),r["~"].push(n)}function d(e,t,n){for(var r=0;r<t.length;r++)f(e,t[r],n)}function p(e,t,n){for(var r=e,o=0,i="";o<t.length&&"**"!==(i=t[o]);o++){if(!r)return;r=r[i]}var a="**"===i?r["**"]:r["~"];if(a)for(o=0;o<a.length;o++)if(a[o]===n){a.splice(o,1);break}}function h(e,t,n){for(var r=0;r<t.length;r++)p(e,t[r],n)}function g(e,t,n){for(var r=[],i=n.pathObj,a=0;a<i.length;a++){for(var s=i[a],c=t,u=0;u<s.length;u++){var l=s[u];if("**"===l)break;if("object"!=_typeof4(c)){c=void 0;break}c=c[l]}r[a]=c}o.safeCallback("Data Observer",n.func,e.__methodCaller,r,e)}function v(e,t,n){for(var r=e,o=0;o<n.length;o++){if(r["**"])for(var i=r["**"],a=0;a<i.length;a++)t[i[a]]=!0;var s=n[o];if("number"==typeof s){if(!c.call(r,s)){r=null;break}}else if(!/^[_a-zA-Z]/.test(s)||!c.call(r,s)){r=null;break}r=r[s]}r&&y(r,t)}function _(e,t,n,r,o){for(var i=0;i<e.length;i++){var a=e[i],s=t[i];s&&s&&(t[i]=!1,g(n,o?void 0:r,a))}}r._advancedCreate=function(e,t,n,o,i){return new r(e,t,n,o,i)},r._createObserverTree=function(e){return new l(e)},r.create=function(e,t,n){return new r({__methodCaller:e},t,null,new l({}),n)},r.setPropUpdater=function(e){a=e},r.setPropObserver=function(e){s=e},r.prototype.replaceWholeData=function(e,t){this._data=e},r.prototype.setHidingValue=function(e){this._hidingValue=!!e},r.prototype.setBeforeUpdateCb=function(e){this._beforeUpdateCb=e},l.prototype.addObserver=function(e,t){var n=this._observerIdInc++;return this._observers[n]={pathObj:t,func:e},d(this._observerTree,t,n),n},l.prototype.removeObserver=function(e){var t=this._observers[e];h(this._observerTree,t.pathObj,e),this._observers[e]=null},l.prototype.moveObserver=function(e,t){var n=this._observers[e];h(this._observerTree,n.pathObj,e),n.pathObj=t,d(this._observerTree,t,e)},r.prototype.getObserverTree=function(){return this._relatedObserverTreeObj};var y=function e(t,n){var r=null,o=0;for(var i in t)if("~"!==i)if("**"!==i)e(t[i],n);else for(r=t["**"],o=0;o<r.length;o++)n[r[o]]=!0;else for(r=t["~"],o=0;o<r.length;o++)n[r[o]]=!0};r.prototype.scheduleReplace=function(e,t,n){this._changes.push([e,t,n])},r.prototype.setChanges=function(e){this._changes=e},r.prototype.getChanges=function(){return this._changes},r.prototype.doUpdates=function(e){var t=this._propFields,n=this._comp,r=this._hidingValue,o=!!this._doingUpdates,i=this._relatedObserverTreeObj._observerIdInc,l=null,f=null,d=null;d=i?(o||(this._doingUpdates={changedPaths:[],changedValues:[],combinedChanges:[]}),l=this._doingUpdates.changedPaths,f=this._doingUpdates.changedValues,this._doingUpdates.combinedChanges):(l=[],f=[],[]);var p=this._changes;this._changes=[];for(var h=0;h<p.length;h++){var g=p[h],y=g[0],b=g[1],m=b,w=void 0,S=y[0],C=t[S];if(C&&1===y.length)w=this._data[S],b=a.call(this._comp,y,C,b,this._hidingValue),m=this._innerData?this._innerData[S]=u(b):b,g[1]=m,this._data[S]=b;else{for(var E=this._data,I=S,O=null,T=1;T<y.length;T++)"number"==typeof(O=y[T])&&isFinite(O)?c.call(E,I)&&E[I]instanceof Array||(E[I]=[]):(!c.call(E,I)||null===E[I]||"object"!=_typeof4(E[I])||E[I]instanceof Array)&&(E[I]={}),E=E[I],I=O;if(E[I]=b,this._innerData){for(E=this._innerData,I=S,T=1;T<y.length;T++)"number"==typeof(O=y[T])&&isFinite(O)?c.call(E,I)&&E[I]instanceof Array||(E[I]=[]):(!c.call(E,I)||null===E[I]||"object"!=_typeof4(E[I])||E[I]instanceof Array)&&(E[I]={}),E=E[I],I=O;m=E[I]=u(b),g[1]=m}}v(this._observerTree,this._observerStatus,y),l.push(y),f.push([m,w,b]),d.push(g)}if(!o){if(this._beforeUpdateCb&&this._beforeUpdateCb(e),i){for(var k=0;k=d.length,_(this._observers,this._observerStatus,n,this._data,r),k!==d.length;);this._doingUpdates=null}this._updateCb(l,f,d,e);for(var A=0;A<f.length;A++){var x=f[A];if(x){var P=l[A],D=t[P[0]];D&&s.call(n,x[2],x[1],P,D,r)}}}},e.exports=r},function(e,t,n){function r(){}var o=n(15),i=n(17),a=n(2);r.prototype=Object.create(o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;t.is=e.toLowerCase();var n=null;return"dom"===a.documentBackend&&(n=document.createElement(e)),o.initialize(t,n),t.$$=n,t.classList=i.create(t,null),t},r.cloneNode=function(e){var t=new r;t.is=e.is;var n=null;return e.__domElement&&(n=document.importNode?document.importNode(e.__domElement,!1):e.__domElement.cloneNode(!1)),o._clone(t,e,n),t.$$=n,t.classList=i.create(t,null),t},e.exports=r},function(e,t,n){function r(){}var o=n(16),i=n(2);r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),r.create=function(e){var t=new r;t.__slot="";var n=null;return"dom"===i.documentBackend?(n=document.createTextNode(e||"")).__wxElement=t:t.__textContent=e,t.$$=t.__domElement=n,t.__subtreeObserversCount=0,t.parentNode=null,t.ownerShadowRoot=null,t},Object.defineProperty(r.prototype,"textContent",{get:function(){return this.__domElement?this.__domElement.textContent:this.__textContent},set:function(e){this.__domElement?this.__domElement.textContent=e:this.__textContent=String(e),(this.__textObservers&&!this.__textObservers.empty||this.__subtreeObserversCount)&&o._callObservers(this,"__textObservers",{type:"characterData",target:this})}}),e.exports=r},function(e,t,n){function r(e){a(this,e)}var o=n(15),i=n(2);r.prototype=Object.create(o.prototype);var a=r.initialize=function(e,t){e.is=t||"";var n=null;"dom"===i.documentBackend&&(n=void 0),o.initialize(e,n),e.__virtual=!0};r.create=function(e){return new r(e)},e.exports=r},function(e,t,n){function r(e){a.initialize(this,"shadow"),this.__wxHost=e,this.__childrenPropsFilter=null,this.__slotCacheDirty=!1,this.ownerShadowRoot=null}var o=n(15),i=n(18),a=n(22),s=n(21),c=Object.prototype.hasOwnProperty;r.prototype=Object.create(a.prototype),r.create=function(e){var t=new r(e);if(e.__createdInOwnerShadowRoot&&e.__createdInOwnerShadowRoot.__childrenPropsFilter)if(t.__childrenPropsFilter)for(var n in e.__createdInOwnerShadowRoot.__childrenPropsFilter)t.__childrenPropsFilter[n]||(t.__childrenPropsFilter[n]=e.__createdInOwnerShadowRoot.__childrenPropsFilter[n]);else t.__childrenPropsFilter=e.__createdInOwnerShadowRoot.__childrenPropsFilter;return t},r.prototype.createComponent=function(e,t,n,r){var o=null;o=void 0===t?e:t;var a=this.__wxHost;return"object"!=_typeof4(o)&&(c.call(a.__using,o)?o=a.__using[o]:c.call(a.__generics,o)&&(o=a.__generics[o]),"object"!=_typeof4(o)&&(o=i._list[o]||i._list[""])),n&&(n=function(e,t){var n={};for(var r in e){var o=e[r];"object"!=_typeof4(o)&&(c.call(t.__using,o)?o=t.__using[o]:c.call(t.__generics,o)&&(o=t.__generics[o]||i._list[""]),n[r]=o)}return n}(n,a)),"object"==_typeof4(e)&&(e=o.is),a.__componentOptions.randomizeTagName&&(e=function(){for(var e=Date.now(),t="exparser-",n=0;n<8;n++){var r=(e+Math.floor(26*Math.random()))%26;e=Math.floor(e/26),t+="abcdefghijklmnopqrstuvwxyz"[r]}return t}()),a.__componentOptions.writeOnly&&!o.options.allowInWriteOnly&&(o=i._list[""]),i._advancedCreate(e,o,this,n,r)},r.prototype.tagNameUsed=function(e){var t=this.__wxHost;return!!c.call(t.__using,e)||!!c.call(t.__generics,e)},r.prototype.getHostNode=function(){return this.__wxHost},r.prototype.createTextNode=function(e){return s.create(e)},r.prototype.createVirtualNode=function(e){return a.create(e)},r.prototype.getElementById=function(e){return o._updateIdMap(this.__wxHost),this.__wxHost.__idCache[e]},e.exports=r},function(e,t,n){function r(){}var o=n(15),i=n(21);r.create=function(e,t,n){var a=new r;if(!(e instanceof o||e instanceof i))throw new Error("ElementIterator can only be used for exparser.Element or exparser.TextNode");a._elem=e,a._elemTypeLimit=n||o;var s=t.split("-");if("shadow"===s[0])a._composed=!1;else{if("composed"!==s[0])throw new Error("Unrecognized iterator type: "+t);a._composed=!0}if("ancestors"===s[1])a._relation="ancestors",a._order=0;else{if("descendants"!==s[1])throw new Error("Unrecognized iterator type: "+t);if(a._relation="descendants","root"!==s[2])throw new Error("Unrecognized iterator type: "+t);if("first"===s[3])a._order=-1;else{if("last"!==s[3])throw new Error("Unrecognized iterator type: "+t);a._order=1}}return a};r.prototype.forEach=function(e){return"ancestors"===this._relation?function(e,t,n,r){for(;e;e=n&&(e.__wxSlotParent||e.__wxHost)||e.parentNode)if(e instanceof t&&!1===r(e))return!1;return!0}(this._elem,this._elemTypeLimit,this._composed,e):function e(t,n,r,o,i){if(o<0&&t instanceof n&&!1===i(t))return!1;var a=r&&t.__wxSlotChildren||t.childNodes;if(a)for(var s=0;s<a.length;s++)if(!1===e(a[s],n,r,o,i))return!1;return!(0<o&&t instanceof n&&!1===i(t))}(this._elem,this._elemTypeLimit,this._composed,this._order,e)},e.exports=r},function(e,t,n){(function(t){function r(){}var o=n(2),i=n(1),a=n(15),s=n(20),c=n(22),u=n(21),l=n(23),f=n(18),d=n(26),p=n(27);function h(){}function g(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function v(e,t){if(null!==e&&"object"==_typeof4(e)&&k.call(e,t))return e[t]}function _(e,t,n,r){if(k.call(t,n)){var o=t[n];if("function"==typeof o)return i.safeCallback("Template Method",o,e,r)}}function y(e,t){return[{t:1,n:"slot",a:[],c:[],p:null}]}function b(e,t,n){e.classList.toggle(t,!!n)}function m(e,t,n){e[t]=n}function w(e,t,n){var r=e.__dataProxy;r.scheduleReplace([t],n),r.doUpdates()}function S(e,t,n){e.class=n}function C(e,t,n){e.setAttribute("style",n)}function E(e,t,n){e.setAttribute("class",n)}function I(e,t,n){e.textContent=n}function O(e,t,n){e.dataset||(e.dataset={}),e.dataset[t]=n}function T(e,t,n){return[{t:1,n:"slot",v:!0,sn:"",a:[],c:[]}]}r.prototype=Object.create(Object.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),h.prototype=Object.create(Object.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),r.precompiler=null,r.htmlParser=null;var k=Object.prototype.hasOwnProperty,A={t:1,n:'"slot"',v:!0,sn:"",a:[],c:[],p:null},x={$:function(e,t,n){!0===n?e.setAttribute(t,""):!1===n||null==n?e.removeAttribute(t):e.setAttribute(t,n)},":":m,c:b,s:function(e,t,n){var r=e.style;r&&(r[t]=n)},d:O};function P(e,t){return function(n){if(this[e](n),t)return!1}}r.create=function(e,n,o){var i=void 0===e.template?T:e.template,a=i;"function"!=typeof i&&(a=void 0!==t&&void 0!==t.versions&&void 0!==t.versions.node?r.precompileAndGetCreator(i):y);var s=Object.create(r.prototype);return s._initValuesJSON=JSON.stringify(n),s._tagTreeRoot=D(a,n,e.methods,o),s._renderingMode=o.renderingMode,s};var D=function(e,t,n,r){var i="native"===r.renderingMode,a=i,c=!1;Object.create(null);i&&!o.hasDOMBackend&&(e=y);var u={},l=e(v,_,n);return function e(n){for(var r=0;r<n.length;r++){var o=n[r];if(3!==o.t){var l=o.n,f=!(i||"string"==typeof l&&l.indexOf("-")<0);"slot"===l&&""===o.sn&&(c=!0),o.n=l;var d=o.st;d&&d.e&&(d.o=C,a&&(d.v=d.e(t,u,null)));var h=o.cl;h&&h.e&&(h.o=i?E:S,a&&(h.v=h.e(t,u,null)));var v=null;f||(o.p=v=i?document.createElement(o.n):s.create(o.n),d&&void 0!==d.v&&v.setAttribute("style",d.v),i&&h&&void 0!==h.v&&v.setAttribute("class",h.v));for(var _=o.a,y=0;y<_.length;y++){var O=_[y];if(O.d)i||p[O.n].register(O.n,O,o);else{i||("bind"===O.n.slice(0,4)?(O.evCatch=!1,O.ev=g(O.n.slice(4)),":"===O.ev[0]&&(O.ev=O.ev.slice(1))):"catch"===O.n.slice(0,5)&&(O.evCatch=!0,O.ev=g(O.n.slice(5)),":"===O.ev[0]&&(O.ev=O.ev.slice(1))));var T=O.o;if(f)T?O.o="&"===T?x[":"]:x[T]:(O.o=x[":"],O.n=g(O.n)),O.o===m&&(O.o=w),a&&O.e&&(O.v=O.e(t,u,null));else if(!O.ev){var k=x;O.o=T?"&"===T?k[":"]:k[T]:k.$,a?(O.e&&(O.v=O.e(t,u,null)),O.o===b&&!i||O.o(v,O.n,O.v)):O.e||O.o(v,O.n,O.v)}}}e(o.c),i&&(1!==o.c.length||void 0===o.c[0].sn||o.c[0].compressed||(o.sn=o.c[0].sn,o.compressed=!0,o.c.pop()))}else o.e&&(o.o=I,o.c=a?o.e(t,u,null):"")}}(l),i&&(c||l.push(A),1!==l.length||""!==l[0].sn||l[0].compressed||l.pop()),l};r.prototype.createInstance=function(e){var t=Object.create(h.prototype),n=JSON.parse(this._initValuesJSON),r=Object.create(null),i=Object.create(null),g=[],v=d.create("",null,null,null,null,[],function(e,t){}),_=null;if("native"===this._renderingMode)"dom"===o.documentBackend&&(_=document.createDocumentFragment()),function e(t,n,r,o,i,a){for(var s=null,c=0,u=null,l=0;l<t.length;l++){var f=t[l];if(void 0===f.n)s=document.createTextNode(f.c),f.e&&d.addBindings(i,a,f.b,s,f),n.appendChild(s);else{var p=f.cl,h=f.st,g=f.a;for(s=f.v?document.createElement("virtual"):document.importNode?document.importNode(f.p,!1):f.p.cloneNode(!1),c=0;c<g.length;c++)(u=g[c]).e&&d.addBindings(i,a,u.b,s,u);n.appendChild(s),f.id&&(r[f.id]=s),p&&p.e&&d.addBindings(i,a,p.b,s,p),h&&h.e&&d.addBindings(i,a,h.b,s,h),void 0!==f.sn&&(o[f.sn]=s),e(f.c,s,r,o,i,a)}}}(this._tagTreeRoot,_,r,i,v,{}),i[""]||(i[""]=null);else{if(_=l.create(e),e.__createdInOwnerShadowRoot&&e.__createdInOwnerShadowRoot.__childrenPropsFilter)if(_.__childrenPropsFilter)for(var y in e.__createdInOwnerShadowRoot.__childrenPropsFilter)_.__childrenPropsFilter[y]||(_.__childrenPropsFilter[y]=e.__createdInOwnerShadowRoot.__childrenPropsFilter[y]);else _.__childrenPropsFilter=e.__createdInOwnerShadowRoot.__childrenPropsFilter;(function e(t,n,r,o,i,l,h,g){for(var v=null,_=0,y=null,S=0;S<t.length;S++){var C=h,E=t[S];if(3===E.t)v=E.e?u.create(E.e(o,i,null)):u.create(E.c),E.e&&d.addBindings(l,C,E.b,v,E),a.appendChild(r,v);else{var I=E.cl,T=E.st,k=E.a,A=!1;for(_=0;_<k.length;_++)if((y=k[_]).d){var x=p[y.n].create(y.n,y,E,o,i,l,C,g,n,e,r);if(p[y.n].requireBlock){v=x,a.appendChild(r,v),A=!0;break}}if(A)continue;if(E.v)v=c.create(E.n);else if(E.p){for(v=s.cloneNode(E.p),_=0;_<k.length;_++)(y=k[_]).d||(y.ev?g(v,y.ev,y.v,y.evCatch):y.o===m?v.__domElement&&(y.o(v.__domElement,y.n,y.e(o,i,null)),d.addBindings(l,C,y.b,v.__domElement,y)):(y.e&&y.o(v,y.n,y.e(o,i,null)),!y.e&&y.o!==b&&y.o!==O||d.addBindings(l,C,y.b,v,y)));T&&T.e&&(v.setAttribute("style",T.e(o,i,null)),d.addBindings(l,C,T.b,v,T))}else{if(E.cpf){var P={},D=n.__wxHost;for(var N in E.cpf)R=N,M=E.cpf[R],P[R]=D.__behavior.methods[M];n.__childrenPropsFilter=P}for(v=n.createComponent(E.n,void 0,E.g,void 0),_=0;_<k.length;_++)if(!(y=k[_]).d){var j=y.v;y.o===w&&f.hasPublicProperty(v,y.n)?(y.e&&(j=y.e(o,i,null),d.addBindings(l,C,y.b,v,y)),y.e?w(v,y.n,j):v.__behavior.properties[y.n].type===Boolean?w(v,y.n,!0):w(v,y.n,j)):y.ev?g(v,y.ev,j,y.evCatch):y.o!==w&&(y.e&&(j=y.e(o,i,null),d.addBindings(l,C,y.b,v,y)),y.o(v,y.n,j))}T&&(T.e?(v.__domElement.setAttribute("style",T.e(o,i,null)),d.addBindings(l,C,T.b,v.__domElement,T)):v.__domElement.setAttribute("style",T.v))}E.id&&(v.id=E.id),I&&(I.e?v.class=I.e(o,i,null):v.class=I.v,I.o&&d.addBindings(l,C,I.b,v,I)),E.sl&&(v.slot=E.sl),void 0!==E.sn&&a.setSlotName(v,E.sn),a.appendChild(r,v),e(E.c,n,v,o,i,l,C,g)}}var R,M})(this._tagTreeRoot,_,_,n,{},v,{},function(e,t,n,r){_.__wxHost?e.addListener(t,P(n,r).bind(_.__wxHost)):g.push({target:e,name:t,func:P(n,r)})}),function e(t,n,r){for(var o=t.childNodes,i=0;i<o.length;i++){var a=o[i];a instanceof u||(a.__id&&(n[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),e(a,n,r))}}(_,r,i)}return t.data=n,t.shadowRoot=_,t.idMap=r,t.slots=i,t.listeners=g,t._topScope=v,t},h.prototype.updateValues=function(e,t,n){for(var r=a.getMethodCaller(e),o=0;o<n.length;o++){var i=n[o];d.updateBinding(this._topScope,i,t,{},r)}},e.exports=r}).call(t,n(12))},function(e,t){var n={create:function(e,t,n,o,i,a,s){for(var c={inc:1,name:e,exp:o,lp:i,scopes:{},targets:{},children:null,lu:s,__scopeBinded:[]},u=0;u<a.length;u++){var l=a[u];null===l[0]?r(t,l,null,c):r(n[l[0]],l,null,c)}return c},proxyTopScope:function(e){var t={inc:1,linked:e,scopes:{},targets:{},children:null,__scopeBinded:[]};return r(e,[null],null,t),t},proxySubScopes:function(e){var t={};for(var n in e)t[n]={inc:1,linked:e[n],scopes:{},targets:{},children:null,__scopeBinded:[]},r(e[n],[null],null,t[n]);return t}},r=n.addBinding=function(e,t,n,r){for(var o=e,i=1;i<t.length;i++){var a=t[i];o.children||(o.children=Object.create(null));var s=o.children;s[a]||(s[a]={scopes:{},targets:{},children:null}),o=s[a]}var c=e.inc++;return n?o.targets[c]=[n,r]:(o.scopes[c]=r).__scopeBinded.push([o,c]),c};function o(e,t,n,r,o){if(e.linked)i(e,t,n,r,o);else{var a=r[e.name];r[e.name]=e.exp(n,r,o),i(e,t,n,r,o),r[e.name]=a}}n.addBindings=function(e,t,n,o,i){for(var a=0;a<n.length;a++){var s=n[a];s[0]?r(t[s[0]],s,o,i):r(e,s,o,i)}},n.updateLvaluePath=function(e,t){e.lp=t},n.removeBindingsForScope=function(e){for(var t=e.__scopeBinded,n=0;n<t.length;n++){var r=t[n];delete r[0].scopes[r[1]]}};var i=n.updateBinding=function(e,t,n,r,i){for(var a=e,s=0,c=0;c<t.length;c++){for(s in a.scopes)o(a.scopes[s],t,n,r,i);var u=t[c];if(!a.children)return;var l=a.children;if(!l[u])return;a=l[u]}!function e(t){for(s in t.targets){var a=t.targets[s],c=a[1];c.o(a[0],c.n,c.e(n,r,i))}for(s in t.scopes)o(t.scopes[s],[],n,r,i);for(s in t.children)e(t.children[s])}(a)};e.exports=n},function(e,t,n){e.exports={if:n(28),elif:n(28),else:n(28),for:n(30),key:n(31),"for-index":n(32),"for-item":n(33),alias:n(34)}},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,n){},create:function(e,t,n,i,a,s,c,u,l,f,d){var p=r.create("wx:"+e);p.__wxIfCondValue=!0,p.__wxIfNextNode=null,p.__wxIfHasTrueCond=!0;var h=null;function g(e){p.__wxIfCondValue=!!e,p.__wxIfHasTrueCond=p.__wxIfCondValue||h&&h.__wxIfHasTrueCond,v()}"if"!==e&&("wx:if"!==(h=d.childNodes[d.childNodes.length-1]).is&&"wx:elif"!==h.is?h=null:h.__wxIfNextNode=p),n.id&&(p.id=n.id);var v=p.__wxIfUpdateNode=function(){var e=p.__wxIfCondValue;if(h&&h.__wxIfHasTrueCond&&(e=!1),e&&!p.childNodes.length){var t=o.proxyTopScope(s),r=o.proxySubScopes(c);p.__wxTopScope=t,p.__wxSubScopes=r,f(n.c,l,p,i,a,t,r,u)}else if(!e&&p.childNodes.length){for(var d in o.removeBindingsForScope(p.__wxTopScope),p.__wxSubScopes)o.removeBindingsForScope(p.__wxSubScopes[d]);for(;p.childNodes.length;)p.removeChild(p.childNodes[0])}p.__wxIfNextNode&&p.__wxIfNextNode.__wxIfUpdateNode()};return"else"===e?g(!0):(o.addBindings(s,c,t.b,p,{e:t.d,o:function(e,t,n){g(n)}}),g(t.d(i,a,null))),p}}},function(e,t){t.TAG_TYPES={TAG_START:1,TAG_END:-1,TEXT:3,COMMENT:8},t.RUNTIME_NAMES={MEMBER:"m",CALL:"f",METHODS:"e",CALLER:"c",TOP_SCOPE:"t",SUB_SCOPE:"s"};var n=t.STRING_UNESCAPE_MAP={n:"\n",r:"\r",b:"\b",f:"\f",t:"\t",v:"\v",'"':'"',"'":"'","\\":"\\","\r":"\r","\n":"\n"},r=t.STRING_ESCAPE_MAP={},o="";for(var i in n)o+=n[r[n[i]]=i];t.STRING_ESCAPE_REGEXP=new RegExp("["+o+"]","g")},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,addDefaultAttrs:[{n:"wx:for-index",v:"index"},{n:"wx:for-item",v:"item"}],register:function(e,t,n){},create:function(e,t,n,i,a,s,c,u,l,f){var d=n._wxForIndex||"index",p=n._wxForItem||"item",h=n._wxKey,g=r.create("wx:for:list");function v(e,t,i,a,h){var v=r.create("wx:for:item"),_=o.proxyTopScope(s),y=o.proxySubScopes(c);v.__wxTopScope=_,v.__wxSubScopes=y,v.__wxForToRemove=!1,v.__wxForKeyStr="";var b=o.create(d,_,y,null,null,[]),m=o.create(p,_,y,null,[i],[]);return y[d]=b,y[p]=m,t[d]=i,t[p]=a,f(n.c,l,v,e,t,_,y,u),void 0===h?g.appendChild(v):g.insertBefore(v,h),v}function _(e,t,n,r,a,s){var c=e.__wxSubScopes[p];o.updateLvaluePath(c,[r]),a&&(s?g.insertBefore(e,s):g.appendChild(e));var u=e.__wxSubScopes[d];n[d]=r,o.updateBinding(u,[],i,n,t)}function y(e){for(var t in o.removeBindingsForScope(e.__wxTopScope),g.__wxSubScopes)o.removeBindingsForScope(e.__wxSubScopes[t]);g.removeChild(e)}n.id&&(g.id=n.id),o.create("",s,c,function(e,n,r){var o=t.d(e,n,null);return b(o,e,n,r),o},t.l,t.b);var b=function(e,t,n,r){var i="",a=e;"object"==_typeof4(e)&&null!==e||(a=[]);var s={};for(i in n)s[i]=n[i];var c,u,l,f,d,b,m=0;if(h){var w=[],S=e instanceof Array,C=[];if(!S){var E=a;for(i in a=[],E)a.push(E[i]),C.push(i)}for(m=0;m<a.length;m++)w.push(String(a[m][h]));if(0===a.length)for(;g.childNodes.length;)y(g.childNodes[0]);else{var I=Object.create(null),O=Object.create(null),T=g.childNodes,k=null,A="";for(m=0;m<T.length;m++)0<=I[A=(k=T[m]).__wxForKeyStr]?(y(k),m--):(I[A]=m,(O[A]=k).__wxForToRemove=!0);var x=-1,P=0,D=1,N=[];for(0<=(P=I[a[0][h]])||(P=-1),T[P]&&(T[P].__wxForToRemove=!1),m=1;m<a.length;m++)0<=(D=I[a[m][h]])&&(x<P&&(P<D||D<x)&&(N.push(T[P]),x=P),T[P=D]&&(T[P].__wxForToRemove=!1));for(x<P&&N.push(T[P]),m=0;m<T.length;m++)(k=T[m]).__wxForToRemove&&(y(k),m--);var j=N.shift(),R=0;for(m=0;m<a.length;m++){var M=a[m],B=O[M[h]];if(O[M[h]]=null,B){var L=!0;if(B===j){for(;T[R]!==j;)R++;R++,j=N.shift(),L=!1}_(k=B,r,s,S?m:C[m],L,T[R]),L&&T[R]===k&&R++,c=k,u=[],l=t,f=s,d=a[m],b=r,f[p]=d,o.updateBinding(c.__wxSubScopes[p],u,l,f,b)}else k=v(t,s,S?m:C[m],a[m],T[R]),R++,k.__wxForKeyStr=String(M[h])}}}else{for(;g.childNodes.length;)y(g.childNodes[0]);if(e instanceof Array)for(m=0;m<a.length;m++)v(t,s,m,a[m]);else for(i in a)v(t,s,i,a[i])}};return b(t.d(i,a,null),i,a,null),g}}},function(e,t){e.exports={attachedToBlock:!0,register:function(e,t,n){n._wxKey=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,n){n._wxForIndex=t.d},create:function(){}}},function(e,t){e.exports={attachedToBlock:"for",register:function(e,t,n){n._wxForItem=t.d},create:function(){}}},function(e,t,n){var r=n(22),o=n(26),i=n(29).RUNTIME_NAMES;i.TOP_SCOPE,i.SUB_SCOPE,i.CALLER,e.exports={requireBlock:!0,register:function(e,t,n){},create:function(e,t,n,i,a,s,c,u,l,f){var d=t.s[0],p=o.create(d,s,c,t.d,t.l,t.b),h={},g="";for(g in c)h[g]=c[g];h[d]=p;var v={};for(g in a)v[g]=a[g];v[d]=t.d(i,a,null);var _=r.create("wx:alias");return n.id&&(_.id=n.id),f(n.c,l,_,i,v,s,h,u),_}}}]),__virtualDOM__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMergeDataFunc=t.initBannedMap=void 0;var r=n(1);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(28);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=n(27);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var a=n(13);Object.defineProperty(t,"initBannedMap",{enumerable:!0,get:function(){return a.initBannedMap}});var s,c=n(29),u=n(30),l=(s=n(17))&&s.__esModule?s:{default:s};t.getMergeDataFunc=function(){return l.default.mergeData},exparser.addGlobalErrorListener(function(e,t){return Reporter.thirdErrorReport({error:e,extend:t.message.replace(/^\[exparser\] \[(error|warning)\]/i,"")}),!1}),exparser.globalOptions.createFakeDomElement=!1,exparser.globalOptions.inDocument=!1,exparser.globalOptions.documentBackend="none",exparser.updateDefaultComponent(),(0,c.registerDataBehaviors)(),(0,u.registerDataComponents)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeView=t.attachView=t.addView=t.sendTabBarCreationRequest=t.runComponentDef=t.initViewThread=t.getRootNodeId=t.getNodeId=t.getNodeById=t.Page=t.Component=t.Behavior=t.publishDomainComponents=t.getDomainByPluginId=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)};t.CustomComponent=G;var i=n(2),a=n(3),s=n(4),c=n(27),u=_(n(9)),l=_(n(11)),f=n(6),d=_(n(14)),p=n(28),h=n(13),g=n(24),v=n(16);function _(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(q.test(t))return t;var n=e.match(q),r="";n&&(r=n[0],e=e.slice(r.length)),0===t.indexOf("/")&&(e="");var o=e.split("/");o.pop();for(var i=t.split("/");i.length;){var a=i.shift();""!==a&&"."!==a&&(".."!==a?o.push(a):o.pop())}return r+o.join("/")}function b(e,t){var n={},r=(t[e+".json"]||{}).usingComponents;for(var o in r)n["wx-"+o]=y(e,String(r[o]));return n}function m(e,t,n){var r=t.match(/^plugin-private:\/\/(.*?)\//);if(!r)return!1;var o=r[1];if($(o,"0")!==e)return!1;var i=n.match(/^plugin:\/\/(.*?)\//);if(!i)return!1;var a=i[1];return $(a,"0")===e&&(exparser.Component._list[n]?(console.error('"'+n+'" has been used as another component or page. Please do not register multiple components or pages with the same alias.'),!1):(exparser.Component._list[n]=exparser.Component._list[t],M[n]=t,!0))}function w(e,t,n){if("wx://"!==t.slice(0,5)){var r=B[t];if(!r)throw new Error('"'+t+'" is not a behavior registered by Behavior()');e[0].unshift(r),n[t]=!0;var o=U[r.is];if(o)for(var i=0;i<o.length;i++){var a=o[i];n[a]||w(e,a,n)}}}function S(e,t,n,r){V.call(M,t)&&(t=M[t]);var o=R[t];if(!o)throw new Error('Component is not found in path "'+t+'"'+(r?' (using by "'+r+'")':""));"wx://"!==t.slice(0,5)&&e[1].unshift(o),n[t]=!0;var i=L[o.is],a=F[o.is];for(var s in i){var c=i[s];n[c]||S(e,c,n,t)}for(var u in a){var l=a[u].default;l&&(n[l]||S(e,l,n,t))}var f=U[o.is];if(f)for(var d=0;d<f.length;d++){var p=f[d];n[p]||w(e,p,n)}}function C(e,t){var n={};for(var r in e.properties){var o=e.properties[r];null===o?n[r]={type:null}:o===Number||o===String||o===Boolean||o===Object||o===Array?n[r]={type:o.name}:void 0!==o.public&&!o.public||(n[r]={type:null===o.type?null:o.type.name,value:o.value})}return{is:e.is,using:e.using,generics:e.generics,behaviors:e.behaviors,data:e.data,properties:n,externalClasses:e.externalClasses,template:t,options:{domain:e.options.domain,writeOnly:e.options.writeOnly||void 0,multipleSlots:e.options.multipleSlots||void 0,writeIdToDOM:e.options.writeIdToDOM||void 0,styleIsolation:e.options.styleIsolation||void 0,addGlobalClass:e.options.addGlobalClass||void 0,hasObservers:!!e.observers}}}function E(e){if(e.behaviors){for(var t=[],n=0;n<e.behaviors.length;n++){var r=String(e.behaviors[n]);if("/"!==r[0]&&"wx://"!==r.slice(0,5))throw new Error("Behaviors should be constructed with Behavior()");t.push(r)}e.behaviors=t,U[e.is]=t}else e.behaviors=null}function I(e){return exparser.Component.getComponentOptions(e).domain.split("/",1)[0]}function O(e){return j.get(e)}function T(e,t,n){var r=exparser.Component.getComponentOptions(t).domain,o=exparser.Component.getMethod(t,"__export__"),i=r===e?exparser.Element.getMethodCaller(t):null;if(o){var a=r===e?n:null,s=o.call(exparser.Element.getMethodCaller(t),a);return void 0===s?i:s}return i}function k(e,t,n){var r=O(e),o=exparser.Component.getComponentOptions(r).domain,i=r.shadowRoot;if(n)return i.querySelectorAll(t).map(function(t){return T(o,t,e)});var a=i.querySelector(t);return a?T(o,a,e):null}function A(e,t,n){e!==Y&&Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}var x=exparser.dataUtils.deepCopy,P={lazyRegistration:!0,publicProperties:!0},D={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",templateEngine:s.Tmpl,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!0,randomizeTagName:!1},N={domain:"/",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",renderingMode:"full",templateEngine:s.Tmpl,multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1,separateInnerData:!1,randomizeTagName:!1},j="undefined"!=typeof WeakMap?new WeakMap:{},R={},M={},B={},L={},F={},U={},W=1,q=/^[-+a-z]+:\/\//i,V=Object.prototype.hasOwnProperty,$=t.getDomainByPluginId=function(e,t){return e+"/"+t};function G(){}function H(e,t){e.using=L[e.is]=b(e.is,t),e.generics=F[e.is]=function(e,t){var n={},r=(t[e+".json"]||{}).componentGenerics;for(var i in r){var a=r[i];"object"===(void 0===a?"undefined":o(a))?n["wx-"+i]={default:y(e,String(a.default||""))}:null!=a&&(n["wx-"+i]={})}return n}(e.is,t),E(e);var n=e.is+".wxml";e.template={func:t[n]||null},R[e.is]=C(e,n);var r=exparser.registerElement(e),i=Object.create(Y,{constructor:{value:G}});exparser.Behavior.prepare(r.behavior);var a=r.behavior.methods;for(var s in a)i[s]=a[s];return i}function z(e){(0,g.addFlowCount)();var t=Date.now(),n=e.operationFlow.iterator,r=n.expectStart();if(n.nextStepType()===i.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION)Q(e,!1),(0,g.reportFlow)(r,t,Date.now(),2);else if(n.nextStepType()===i.SYNC_EVENT_NAME.FLOW_CREATE_TAB)Q(e,!0),(0,g.reportFlow)(r,t,Date.now(),3);else{var o=n.nextStep();if(o[0]===i.SYNC_EVENT_NAME.FLOW_UPDATE){var a=e.nodeId.getNodeById(o[1]),s=o[2];a&&s.length&&(exparser.Component.getDataProxy(a).setChanges(s),a.applyDataUpdates())}else{if(o[0]!==i.SYNC_EVENT_NAME.FLOW_GROUP)throw new Error("Framework inner error (expect FLOW_UPDATE or FLOW_GROUP but get another)");if(n.nextStep()[0]!==i.SYNC_EVENT_NAME.FLOW_GROUP_END)throw new Error("Framework inner error (expect FLOW_GROUP_END but get another)")}J&&5===(0,g.reportFlowCombined)(r,t,Date.now())&&(J=!1,(0,g.reportFlowFlushCombined)(1))}n.expectEnd()}function K(e,t){t||d.default.registerSavingListener();for(var n=r(e,4),o=n[0],i=n[1],a=n[2],s=n[3],c=0;c<o.length;c++){var u=o[c];u.options=P,exparser.registerBehavior(u)}for(var l=[],f=0;f<i.length;f++)l.push(i[f].is);for(var p=function(e,t){for(var n={},r={},o=[],i=0;i<e.length;i++){var a=e[i],s=r[a]=a.split(/[^a-z0-9]+/i),c=s[s.length-1];V.call(n,c)?(n[c].push(a),o.push(c)):n[c]=[a]}for(var u=2;o.length;u++){var l=o;o=[];for(var f=0;f<l.length;f++){var d=l[f];if(V.call(n,d)){var p=n[d];delete n[d];for(var h=0;h<p.length;h++){var g=p[h],v=r[g].slice(-u).join("-");V.call(n,v)?(n[v].push(g),v!==d&&o.push(v)):n[v]=[g]}}}}var _={};for(var y in n){var b=n[y],m=0<=Number(y[0])?"x-"+y:y;if(1===b.length)_[b[0]]=t+m;else for(var w=0;w<b.length;w++)_[b[w]]=t+m+"-"+w}return _}(l,t?"custom-tab-bar-":""),h=wx.getPlatform(),g=0;g<i.length;g++){var v=i[g];for(var _ in v.properties)v.properties[_].type=X[v.properties[_].type];var y=v.is!==a||t?p[v.is]:"",b=v.options,m=!(!b.writeIdToDOM&&(v.is!==a||t));v.options=N,v.options.multipleSlots=b.multipleSlots||!1,v.options.writeOnly=b.writeOnly||!1,v.options.writeIdToDOM=m,v.options.domain=b.domain;var w=v.options.randomizeTagName=!1;if(b.styleIsolation){var S=b.styleIsolation;"page-"===S.slice(0,5)&&(w=!0,S=S.slice(5)),"isolated"===S?(y=p[v.is],v.options.addGlobalClass=!1):"strong-isolated"===S?(y=p[v.is],v.options.addGlobalClass=!1,v.options.randomizeTagName=!0):"apply-shared"===S?(y=p[v.is],v.options.addGlobalClass=!0):"shared"===S&&"/"===b.domain?(y="",v.options.addGlobalClass=!1):w=!1}else v.options.addGlobalClass=b.addGlobalClass||!1;if(v.options.classPrefix=y,w&&__webviewEngine__.disableStyleElement("app.wxss"),b.hasObservers&&(v.observers={"**":function(){}}),v.template={func:__wxAppCode__[v.template]},"ios"===h){var C=!1;for(var E in v.using)if("wx-"!==E.slice(0,3)){C=!0;break}if(C){var I={};for(var O in v.using)I["wx-"+O]=v.using[O];v.using=I}}exparser.registerElement(v);var T=__wxAppCode__[v.is+".wxss"];T&&(v.is!==a||t)&&T(y&&y+"--",{allowIllegalSelector:m})}for(var k in null==s&&(s={}),s)exparser.Component._list[k]=exparser.Component._list[s[k]]}t.publishDomainComponents=function(e,t){for(var n in t)m(e,t[n],n)},t.Behavior=function(e){var t="/"+W+++"/"+(0,f.guid)(),n={};for(var r in e)n[r]="data"===r?x(e[r]):e[r];return n.is=t,E(n),n.options=P,B[t]=C(n),n.definitionFilter=exparser.Behavior.callDefinitionFilter(n),exparser.registerBehavior(n),n.is};var Y=G.prototype=Object.create(Object.prototype,{is:{get:function(){return O(this).is},set:function(e){A(this,"is",e)}},id:{get:function(){var e=O(this);return exparser.Component.getComponentOptions(e).writeOnly?"":e.id},set:function(e){A(this,"id",e)}},dataset:{get:function(){var e=O(this);return exparser.Component.getComponentOptions(e).writeOnly?null:e.dataset},set:function(e){A(this,"dataset",e)}},properties:{get:function(){return this.__data__},set:function(e){A(this,"properties",e)}},data:{get:function(){return this.__data__},set:function(e){A(this,"data",e)}},setData:{get:function(){return function(e,t){var n,r,o,a,s=O(this),c=s.__treeManager__;return __qqConfig.useFlutter&&(r=(n=s)instanceof exparser.Component,o=r&&!0===exparser.Component.getComponentOptions(n).writeIdToDOM,a="//"===exparser.Component.getComponentOptions(n).domain,!r||o||a)&&__safeway__.bridge.publish("flutterSetData",e,[s.__methodCaller.__wxWebviewId__]),"function"==typeof t&&(c.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_SET_DATA]),c.layoutReadyFuncs.push(t.bind(this))),s.setData(e)}},set:function(e){A(this,"setData",e)}},groupSetData:{get:function(){return function(e){var t=O(this).__treeManager__;t.operationFlow.start(Date.now()),t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_GROUP]);var n=null;try{e.call(this)}catch(e){n=e}if(t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_GROUP_END]),t.operationFlow.end(),n)throw n}},set:function(e){A(this,"setData",e)}},replaceDataOnPath:{get:function(){var e=this;return function(t,n){return O(e).replaceDataOnPath(t,n)}},set:function(e){A(this,"replaceDataOnPath",e)}},mergeDataOnPath:{get:function(){var e=this;return function(t,n){return O(e).mergeDataOnPath(t,n)}},set:function(e){A(this,"mergeDataOnPath",e)}},applyDataUpdates:{get:function(){var e=this;return function(){return O(e).applyDataUpdates()}},set:function(e){A(this,"applyDataUpdates",e)}},hasBehavior:{get:function(){var e=this;return function(t){return O(e).hasBehavior(t)}},set:function(e){A(this,"hasBehavior",e)}},triggerEvent:{get:function(){var e=this;return function(t,n,r){return O(e).triggerEvent(t,n,r)}},set:function(e){A(this,"triggerEvent",e)}},createSelectorQuery:{get:function(){var e=this;return function(){return __appServiceSDK__._createSelectorQuery({},I(O(e))).in(e)}},set:function(e){A(this,"createSelectorQuery",e)}},createIntersectionObserver:{get:function(){var e=this;return function(t){return __appServiceSDK__._createIntersectionObserver(e,t,I(O(e)))}},set:function(e){A(this,"createIntersectionObserver",e)}},selectComponent:{get:function(){var e=this;return function(t){var n=O(e);return exparser.Component.getComponentOptions(n).writeOnly?null:k(e,t,!1)}},set:function(e){A(this,"selectComponent",e)}},selectAllComponents:{get:function(){var e=this;return function(t){var n=O(e);return exparser.Component.getComponentOptions(n).writeOnly?[]:k(e,t,!0)}},set:function(e){A(this,"selectAllComponents",e)}},getRelationNodes:{get:function(){var e=this;return function(t){return function(e,t){var n=O(e).getRelationNodes(t);return null===n?null:n.map(function(e){return exparser.Element.getMethodCaller(e)})}(e,t)}},set:function(e){A(this,"getRelationNodes",e)}},getTabBar:{get:function(){return function(){var e=O(this).__treeManager__;return e.tabRoot?exparser.Element.getMethodCaller(e.tabRoot):null}},set:function(e){A(this,"getTabBar",e)}}}),J=(t.Component=function e(t,n,r,o){var i=o||__wxAppCurrentFile__,a=r||__wxAppCode__,s=a[i+"on"];if(i&&s){if(s.component&&"simple"===s.component.type){var c=i.slice(0,-3);return function(e,t,n,r,o){var i={is:t,using:b(t,o),properties:e.properties,externalClasses:e.externalClasses,options:D},a=e.options||{};i.options=D,i.options.multipleSlots=a.multipleSlots||!1,i.options.writeOnly=!0,i.options.writeIdToDOM=!1,i.options.domain="simple://"+(r||"/"),i.options.styleIsolation=a.styleIsolation||"",i.options.addGlobalClass=a.addGlobalClass||!1,R[t]=C(i,t+".wxml"),i.is}(t,c,0,n,a),c}var u=exparser.Behavior.callDefinitionFilter(t),l={is:i.slice(0,-3),properties:t.properties,data:x(t.data),methods:t.methods,behaviors:t.behaviors,lifetimes:t.lifetimes,pageLifetimes:t.pageLifetimes,created:t.created,attached:t.attached,ready:t.ready,moved:t.moved,detached:t.detached,saved:t.saved,restored:t.restored,relations:t.relations?function(e,t){for(var n in t){var r=t[n];r.target=null!=r.target?String(r.target):y(e,String(n))}return t}(i,t.relations):void 0,externalClasses:t.externalClasses,observers:t.observers,definitionFilter:u,options:D,initiator:function(){this.__customConstructor__=e;var t=Object.create(d);j.set(t,this),exparser.Element.setMethodCaller(this,t),Object.defineProperties(t,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}},f=t.options||{};l.options=D,l.options.multipleSlots=f.multipleSlots||!1,l.options.writeOnly=f.writeOnly||!1,l.options.domain=(f.writeOnly?"wo://":"")+(n||"/"),l.options.styleIsolation=f.styleIsolation||"",l.options.addGlobalClass=f.addGlobalClass||!1;var d=H(l,a);return l.is}console.error("Component constructors should be called while initialization. A constructor call has been ignored.")},t.Page=function e(t,n,r,o){var i=o||__wxAppCurrentFile__;if(i){var a=r||__wxAppCode__,s=Object.create(null),c=Object.create(null);for(var u in t)"data"!==u&&("function"==typeof t[u]?c[u]=t[u]:s[u]=t[u]);var l={is:i.slice(0,-3),data:x(t.data),methods:c,options:D,initiator:function(){this.__customConstructor__=e;var t=Object.create(f);j.set(t,this),exparser.Element.setMethodCaller(this,t),Object.defineProperties(t,{__data__:{value:this.data,writable:!0,enumerable:!1},__wxWebviewId__:{value:this.__treeManager__.viewId,writable:!0,enumerable:!1}})}};l.options.multipleSlots=!1,l.options.writeOnly=!1,l.options.writeIdToDOM=!0,l.options.domain=n||"/",l.options.styleIsolation="shared",l.options.addGlobalClass=!1;var f=H(l,a);return f.__freeData__=s,l.is}console.error("Page constructors should be called while initialization. A constructor call has been ignored.")},t.getNodeById=function(e,t){if((0,a.isDataThread)()){var n=u.default.get(t);return n?n.nodeId.getNodeById(e):null}return u.default.instance?u.default.instance.nodeId.getNodeById(e):null},t.getNodeId=function(e,t){return(0,a.isDataThread)()?u.default.get(t).nodeId.getNodeId(e):u.default.instance?u.default.instance.nodeId.getNodeId(e):""},t.getRootNodeId=function(e){if((0,a.isDataThread)()){var t=u.default.get(e);return t?t.rootNodeId:""}return u.default.instance.rootNodeId},!0),Q=function(e,t){var n=e.operationFlow.iterator,r=n.nextStep(),o=r[1],a=r[2],s=null;if(s=t?(e.tabNodeId=a,window.__TAB_BAR__=exparser.createElement("tab-bar",exparser.Component._list[o])):(e.rootNodeId=a,window.__DOMTree__=exparser.createElement("body",exparser.Component._list[o])),e.nodeId.allocNodeId(s,a),s.setAttribute("is",o),d.default.restoring){var c=d.default.idDataMap[e.nodeId.getNodeId(s)];exparser.Component.replaceWholeData(s,c,null),d.default.callRestoredLifeTimes(d.default.restoring),d.default.restoring=null,d.default.idDataMap=null}if((r=n.nextStep())[0]!==(t?i.SYNC_EVENT_NAME.FLOW_CREATE_TAB:i.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION))throw new Error("Framework inner error (expect FLOW_INITIAL_CREATION but get another)");if(e.nodeId.addNode(s),t){var u=exparser.createElement("wx-tab-bar-wrapper",exparser.Component._list["wx://tab-bar-wrapper"]);u.appendChild(s),document.documentElement.insertBefore(u.$$,document.body),exparser.Element.pretendAttached(u),e.tabDestroyed&&u.removeChild(s)}else document.body=s.$$,exparser.Element.pretendAttached(s)},X=(t.initViewThread=function(){l.default.setStartOperation(z),u.default.instance=new u.default(0)},{String:String,Number:Number,Boolean:Boolean,Object:Object,Array:Array,null:null}),Z=!1,ee=!1,te=null,ne=null;function re(e,t){t.listenerInited||(t.listenerInited=!0,(0,a.setDataListener)(i.SYNC_EVENT_NAME.WX_EVENT,function(n){var r=n[2],o=n[1],i=t.nodeId.getNodeById(n[0]);if(i){var a=exparser.Element.getMethodCaller(i);if(r._requireActive){var s=__appServiceEngine__.getCurrentPagesByDomain("");if(s[s.length-1].__wxWebviewId__!==e)return;delete r._requireActive}r._relatedInfo&&(__appServiceEngine__.DisplayReporter.setEventRelatedInfo(r._relatedInfo),delete r._relatedInfo),"function"!=typeof a[o]?console.warn('Component "'+i.is+'" does not have a method "'+o+'" to handle event "'+r.type+'".'):(__appServiceSDK__.setWxInterfaceIsInvokeInTap(r.type),exparser.safeCallback("Event Handler",a[o],a,[r],i),__appServiceSDK__.unsetWxInterfaceIsInvokeInTap())}},e),(0,a.setDataListener)(i.SYNC_EVENT_NAME.SET_DATA_CALLBACK,function(e){var n=r(e,1)[0],o=t.layoutReadyFuncs,i=o.slice(0,n);o.splice(0,n);for(var a=0;a<i.length;a++)i[a]()},e),(0,a.setDataListener)(i.SYNC_EVENT_NAME.REQUEST_SAVE,function(t){var n=r(t,1)[0];(0,p.saveView)(e,n)},e),(0,a.setDataListener)(i.SYNC_EVENT_NAME.CALL_METHOD_FROM_WXS,function(e){(0,v.callMethodFromWxsCallback)(e)},e))}(0,a.setDataListener)(i.SYNC_EVENT_NAME.COMPONENT_DEF,function(e){ee?K(e,!1):te=e},0),(0,a.setDataListener)(i.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,function(e){ee||Z?K(e,!0):ne=e},0),t.runComponentDef=function(){ee=!0,ie(),te&&(K(te,!1),te=null),ne&&(K(ne,!0),ne=null)};var oe=!1,ie=t.sendTabBarCreationRequest=function(){oe||(oe=!0,(0,a.sendData)(i.SYNC_EVENT_NAME.REQUEST_TAB,[]))};function ae(e,t,n){var r=!0,o=__wxConfig.tabBar&&__wxConfig.tabBar.list;o instanceof Array&&(0<=o.map(function(e){return e&&e.pagePath}).indexOf(t)||0<=o.map(function(e){return e&&e.pagePath}).indexOf(t+".html"))&&(r=!1),r&&(e.tabDestroyed=!0,(0,a.sendData)(i.SYNC_EVENT_NAME.DESTROY_TAB,[],n))}function se(e,t){var n=!1;if(__wxConfig.tabBar&&!0===__wxConfig.tabBar.custom&&(n=!0),n){var r=u.default.get(e)||u.default.create(e);re(e,r),r.tabRoot||r.tabDestroyed||(function(e,t,n){var r=[[],[],n=(0,c.convertRouteToComponentAlias)(n),{}];S(r,n,Object.create(null),""),(0,a.sendData)(i.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,r,e),t.tabCompName=n,t.tabNodeId=(0,f.guid)(),t.operationFlow.start(),t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_CREATE_TAB,n,t.tabNodeId]);var o=exparser.createElement("tab-bar",exparser.Component._list[n],t);t.tabRoot=o,t.tabUsedDef=r,exparser.Element.getMethodCaller(o).__wxExparserNodeId__=t.nodeId.allocNodeId(o,t.tabNodeId),t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_CREATE_TAB]),t.nodeId.addNode(o)}(e,r,"custom-tab-bar/index"),exparser.Element.pretendAttached(r.tabRoot),r.operationFlow.end(),t&&(0,a.sendData)(i.SYNC_EVENT_NAME.FLUSH_BLOCKED,[],e),r.rootCompName&&ae(r,r.rootCompName,e))}}(0,a.isDataThread)()||("undefined"!=typeof __wxAppCode__?(Z=!0,ie()):window.__mainPageFrameReady__=function(){Z=!0,ie()}),(0,a.isDataThread)()||(0,a.setDataListener)(i.SYNC_EVENT_NAME.DESTROY_TAB,function(){u.default.instance.tabDestroyed=!0,window.__TAB_BAR__&&window.__TAB_BAR__.parentNode.removeChild(window.__TAB_BAR__)},0),(0,a.isDataThread)()?(0,a.setDataListener)(i.SYNC_EVENT_NAME.REQUEST_TAB,function(e,t,n){__wxConfig.onReady(function(){se(n,!0)})},"$GLOBAL"):(0,a.setDataListener)(i.SYNC_EVENT_NAME.FLUSH_BLOCKED,function(){u.default.instance.operationFlow.flushBlocked()},0),t.addView=function(e,t){var n=u.default.get(e)||u.default.create(e);n.operationFlow.unblock();try{se(e,!1)}catch(e){Reporter.thirdErrorReport({error:e})}return ae(n,t,e),re(e,n),function(e,t,n){var r=[[],[],n=(0,c.convertRouteToComponentAlias)(n),M];S(r,n,Object.create(null),""),(0,a.sendData)(i.SYNC_EVENT_NAME.COMPONENT_DEF,r,e),(0,h.sendBannedMap)(e),t.rootCompName=n,t.rootNodeId=(0,f.guid)(),t.operationFlow.start(),t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION,n,t.rootNodeId]);var o=exparser.createElement("body",exparser.Component._list[n],t);return(0,g.reportPluginNodeCreation)(o,t),t.root=o,t.usedDef=r,exparser.Element.getMethodCaller(o).__wxExparserNodeId__=t.nodeId.allocNodeId(o,t.rootNodeId),t.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION]),t.nodeId.addNode(o),o}(e,n,t)},t.attachView=function(e){var t=u.default.get(e);t&&(exparser.Element.pretendAttached(t.root),t.root.__treeManager__.operationFlow.end())},t.removeView=function(e){var t=u.default.get(e);t&&(exparser.Element.pretendDetached(t.root),u.default.destroy(e),(0,a.removeDataListeners)(e))}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PATCH_TYPE={NONE:0,TEXT:1,VNODE:2,PROPS:3,REORDER:4,INSERT:5,REMOVE:6,EXTRA_DATA:7},t.WX_KEY="wxKey",t.RPX_RATE=20,t.BASE_DEVICE_WIDTH=750,t.INLINE_STYLE=["placeholderStyle","hoverStyle","style"],t.SYNC_EVENT_NAME={WX_EVENT:11,REQUEST_SAVE:12,COMPONENT_DEF:21,SAVE_STATE:22,RESTORE_STATE:23,LAYOUT_READY:31,SET_DATA_CALLBACK:32,FLOW_SET_DATA:33,FLUSH_BLOCKED:43,FLOW_GROUP:41,FLOW_GROUP_END:42,FLOW_DEPTH:2,FLOW_INITIAL_CREATION:3,FLOW_UPDATE:6,FLOW_DATA_OBSERVER:8,FLOW_APPLY_PROPERTY:4,FLOW_MINIPULATE_CHILD:7,FLOW_CREATE_NODE:5,FLOW_REPEAT:9,REQUEST_TAB:51,COMPONENT_DEF_TAB:52,FLOW_CREATE_TAB:53,DESTROY_TAB:54,REQUEST_BROADCAST_VIEW_ID:61,RESPONSE_BROADCAST_VIEW_ID:62,BANNING_MAP:90,CALL_METHOD_FROM_WXS:50}},function(e,t){"use strict";function n(){(c=s()?__appServiceSDK__._virtualDOMTunnel:__webViewSDK__._virtualDOMTunnel).onVdSync(function(e,t){d(e,t)}),c.onVdSyncBatch(function(e,t){for(var n=0;n<e.length;n++)d(e[n],t)})}Object.defineProperty(t,"__esModule",{value:!0});var r={},o=-1,i=null,a=!1,s=t.isDataThread=function(){return!0},c=(t.inDevtoolsWebview=function(){return a},null),u=null,l=null;s()&&"undefined"!=typeof __clientsubcontext&&__clientsubcontext?__subContextEngine__.onInitReady(n):n(),t.queueSendingData=function(e,t,n){n!==l&&f(),l=n,u?u.push([e].concat(t)):u=[[e].concat(t)]};var f=t.flushSendingData=function(){u&&c.vdSyncBatch(u,void 0!==l?[l]:void 0),l=u=null},d=(t.sendData=function(e,t,n){c.vdSync([e].concat(t),void 0!==n?[n]:void 0)},t.setDataListener=function(e,t,n){if(""===e)return i=t,void(0<=o&&i(o));r[n=n||0]||(r[n]={}),r[n][e]=t},t.removeDataListeners=function(e){delete r[e]},function(e,t){var n=e.shift();if(""===n)return o=t,void(i&&i(t));var a=null;r[t=t||0]&&(a=r[t][n]),!a&&r.$GLOBAL&&(a=r.$GLOBAL[n]),a&&a(e,n,t)})},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tmpl=void 0;var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)},a=n(2),s=g(n(5)),c=g(n(25)),u=n(6),l=n(3),f=n(26),d=g(n(14)),p=g(n(9)),h=n(24);function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e){if((0,u.isString)(e)||Number(e)===e&&Number(e)%1==0)return new c.default(String(e));var t=[];return e.children.forEach(function(e){t.push(_(e))}),function(e,t,n){return"wx-slot"===e&&(e="slot"),new s.default(e,t,n)}("wx-slot"===e.tag?"slot":e.tag,e,t)}function y(t,n){var r=Date.now(),o=t?t(n,null,e):b;return(0,h.addGenFuncTime)(Date.now()-r),o.tag="shadow",_(o)}var b={tag:"shadow",children:[]},m=exparser.dataUtils.deepCopy,w=t.Tmpl=(r(S,[{key:"createInstance",value:function(e,t){var n=new C,r=t;if((0,l.isDataThread)()||(r=p.default.instance),n._generateFunc=this._generateFunc,n.data=m(this._initValues),n.idMap=Object.create(null),n.slots=Object.create(null),d.default.restoring){if(d.default.compIdArrIndex>=d.default.compIdArr.length)throw new Error("Component count unmatched while page recovering");r.nodeId.allocNodeId(e,d.default.compIdArr[d.default.compIdArrIndex++]);var o=d.default.idDataMap[r.nodeId.getNodeId(e)];n._virtualTree=y(this._generateFunc,o)}else n._virtualTree=this._virtualTree;return n.shadowRoot=n._virtualTree.render(e,null,t),function e(t,n,r){for(var o=t.childNodes,i=0;i<o.length;i++){var a=o[i];a instanceof exparser.TextNode||(a.__id&&(n[a.__id]=a),void 0!==a.__slotName&&(r[a.__slotName]=a),e(a,n,r))}}(n.shadowRoot,n.idMap,n.slots),n.listeners=[],this._isSimpleComponent||(e.__component__=!0),(0,l.isDataThread)()&&(e.__treeManager__=r,(n.shadowRoot.__treeManager__=r).operationFlow.push([a.SYNC_EVENT_NAME.FLOW_SET_DATA]),r.layoutReadyFuncs.push(function(){e.triggerLifeTime("ready")})),n}}]),S);function S(){v(this,S)}w.create=function(e,t,n){var r=new w;return r._initValues=t,r._data=t,r._generateFunc=function(e){return"object"===(void 0===e?"undefined":i(e))&&e?((0,l.isDataThread)()||"undefined"==typeof window||(window.__usingDelayedGwx__=2|(window.__usingDelayedGwx__||0)),e.shift().apply(null,e)):((0,l.isDataThread)()||"undefined"==typeof window||(window.__usingDelayedGwx__=1|(window.__usingDelayedGwx__||0)),e)}(e.template.func),r._virtualTree=y(r._generateFunc,r._data),r._isSimpleComponent="simple://"===n.domain.slice(0,9),r};var C=(r(E,[{key:"beforeUpdateValues",value:function(e,t,n){if(!(0,l.isDataThread)()&&"number"==typeof n){var r=p.default.instance.operationFlow.iterator.nextStepIf(a.SYNC_EVENT_NAME.FLOW_DATA_OBSERVER);if(r){var o=r[1];e&&o.length&&(exparser.Component.getDataProxy(e).setChanges(o),e.applyDataUpdates())}}}},{key:"updateValues",value:function(e,t,n,r,o,i){if(!d.default.restoring){var s=null,c="number"!=typeof i;if((0,l.isDataThread)())if(s=e.__treeManager__,c){s.operationFlow.start(Date.now());var p=[];o.forEach(function(e){void 0!==e[1]?p.push(e):console.error('Setting data field "'+e[0].join(".")+'" to undefined is invalid.')}),s.operationFlow.push([a.SYNC_EVENT_NAME.FLOW_UPDATE,s.nodeId.getNodeId(e),m(p)])}else{for(var h=[],g=i;g<o.length;g++){var v=o[g];void 0!==v[1]?h.push(v):console.error('Setting data field "'+v[0].join(".")+'" to undefined is invalid.')}s.operationFlow.push([a.SYNC_EVENT_NAME.FLOW_DATA_OBSERVER,m(h)])}var _=!(0,u.getWxmlVersionTag)("propValueDeepCopy"),b=(0,f.mergeDataWithSpec)(t,o,!0,!1,_),w=y(this._generateFunc,b);(0,f.mergeDataWithSpec)(t,o,!1,c,!1);var S=this._virtualTree.diff(w);this._virtualTree=w,S.apply(this.shadowRoot),c&&(0,l.isDataThread)()&&s.operationFlow.end()}}}]),E);function E(){v(this,E)}}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2),i=n(6),a=n(7),s=n(19),c=n(24),u=h(n(25)),l=n(3),f=h(n(9)),d=n(13),p=h(n(14));function h(e){return e&&e.__esModule?e:{default:e}}var g=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(v,[{key:"render",value:function(e,t,n){var r=null;if("shadow"===this.tagName)t=r=exparser.ShadowRoot.create(e);else if("virtual"===this.tagName){var i="virtual";1===this.wxXCkey||3===this.wxXCkey?i="wx:if":2!==this.wxXCkey&&4!==this.wxXCkey||(i="wx:for"),r=exparser.VirtualNode.create(i),exparser.Element.setInheritSlots(r),(0,l.isDataThread)()?r.__treeManager__=n:r.__wxVkey__=this.wxVkey}else if("slot"===this.tagName)r=exparser.VirtualNode.create("slot"),exparser.Element.setSlotName(r,"");else{var s=t.tagNameUsed(this.tagName);(0,l.isDataThread)()&&!s?(r=exparser.VirtualNode.create(this.tagName)).__treeManager__=n:(r=t.createComponent(this.tagName,void 0,this.generics,n),(0,l.isDataThread)()&&(0,c.reportPluginNodeCreation)(r,n))}if(3!==this.wxXCkey&&4!==this.wxXCkey||(r.__wxDynamicSync__=4===this.wxXCkey?"wx:for":"wx:if"),!(0,l.isDataThread)()){if(this.extraAttr)for(var u in this.extraAttr)r.setAttribute(u,this.extraAttr[u]);void 0!==this.wxScopeData&&(r.__wxScopeData__=this.wxScopeData)}if(r.__component__)if((0,l.isDataThread)())exparser.Element.getMethodCaller(r).__wxExparserNodeId__=n.nodeId.allocNodeId(r,""),n.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_CREATE_NODE,n.nodeId.getNodeId(r)]);else{if(n=f.default.instance,p.default.restoring){var h=p.default.idDataMap[n.nodeId.getNodeId(r)];exparser.Component.replaceWholeData(r,h,null)}else{var g=n.operationFlow.iterator.nextStep();if(g[0]!==o.SYNC_EVENT_NAME.FLOW_CREATE_NODE)throw new Error("Framework inner error (expect FLOW_CREATE_NODE but get another)");n.nodeId.allocNodeId(r,g[1])}(0,l.inDevtoolsWebview)()&&r.setAttribute("exparser:info-custom-component",r.__componentInstanceId),(0,d.checkAndBanComponent)(r),r.setAttribute("is",r.is)}return(0,a.applyProperties)(r,this.props,this.specProps),this.children.forEach(function(e){var o=e.render(null,t,n);r.appendChild(o)}),r}},{key:"diff",value:function(e){return(0,s.diff)(this,e)}}]),v);function v(e,t,n){!function(e,t){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")}(this),this.tagName=e||"",this.props=t.attr||{},this.specProps=t.raw||{},this.children=n||[],this.newProps=t.n||[],this.wxVkey=t.wxVkey,this.wxXCkey=t.wxXCkey,this.generics=t.generics,(0,l.isDataThread)()||(this.extraAttr=t.extraAttr,this.wxScopeData=t.wxScopeData);var r=t.wxKey;(0,i.isUndefined)(r)||(0,i.isNull)(r)?this.wxKey=void 0:this.wxKey=String(r);for(var o=this.descendants=0;o<this.children.length;++o){var a=this.children[o];(0,i.isVirtualNode)(a)?this.descendants+=a.descendants:(0,i.isString)(a)?this.children[o]=new u.default(a):(0,i.isVirtualText)(a)||console.log("invalid child",e,this.props,n,a),++this.descendants}}g.prototype.type="WxVirtualNode",t.default=g},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)};t.isObject=function(e){return"object"===(void 0===e?"undefined":r(e))&&null!==e},t.isEmptyObject=function(e){for(var t in e)return!1;return!0},t.isVirtualNode=function(e){return e&&"WxVirtualNode"===e.type},t.isVirtualText=function(e){return e&&"WxVirtualText"===e.type},t.isUndefined=function(e){return"[object Undefined]"===Object.prototype.toString.call(e)},t.isNull=function(e){return"[object Null]"===Object.prototype.toString.call(e)},t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},t.getPrototype=function(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0},t.getDataType=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]},t.getPageConfig=function(){var e={};if(window.__wxConfig&&window.__wxConfig.window)e=window.__wxConfig.window;else{var t={};window.__wxConfig&&window.__wxConfig.global&&window.__wxConfig.global.window&&(t=window.__wxConfig.global.window);var r={};window.__wxConfig&&window.__wxConfig.page&&window.__wxConfig.page[window.__route__]&&window.__wxConfig.page[window.__route__].window&&(r=window.__wxConfig.page[window.__route__].window),e=n({},t,r)}return e},t.getWxmlVersionTag=function(t){var n=("undefined"==typeof window?e:window).__wcc_version_info__;if(n)return n[t]},t.guid=function(){return Math.floor(4294967296*(1+Math.random())).toString(16).slice(1)},t.dfsComponents=function e(t,n,r){t instanceof exparser.Component&&(0<n&&r(t),n&&t.shadowRoot instanceof exparser.Element&&e(t.shadowRoot,n,r),n<0&&r(t));for(var o=t.childNodes,i=0;i<o.length;i++)o[i]instanceof exparser.Element&&e(o[i],n,r)}}).call(t,function(){return this}())},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyProperties=void 0;var r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)},o=n(2),i=n(8),a=n(3),s=d(n(9)),c=n(12),u=n(13),l=d(n(14)),f=n(16);function d(e){return e&&e.__esModule?e:{default:e}}function p(e){return(0,a.isDataThread)()&&e instanceof exparser.Component?s.default.get(e.__wxWebviewId__).nodeId.getNodeById(e.__wxExparserNodeId__):e}function h(e,t,n){var r=p(e);return n&&r instanceof exparser.VirtualNode&&(r.id||Object.getOwnPropertyNames(r.dataset).length||(r=p(n))),{id:t?"":r.id,offsetLeft:r.$$&&!t?r.$$.offsetLeft:0,offsetTop:r.$$&&!t?r.$$.offsetTop:0,dataset:t?{}:r.dataset}}function g(e,t,n){var r=p(e);return n&&r instanceof exparser.VirtualNode&&(r.id||Object.getOwnPropertyNames(r.dataset).length||(r=p(n))),{id:t?"":r.id,dataset:t?{}:r.dataset}}function v(e){if(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push({identifier:r.identifier,pageX:r.pageX,pageY:r.pageY,clientX:r.clientX,clientY:r.clientY,force:r.force||0})}return t}}function _(e,t,n,r,i,s,c){var u=s?"__wxEventCaptureHandleName":"__wxEventHandleName";t[u]||(t[u]=Object.create(null)),void 0===t[u][n]&&t.addListener(n,function(r){var s=t[u][n];if(s){r._hasListeners=!0;var l=t.ownerShadowRoot;if(l){var d=l.getHostNode(),p=exparser.Component.getComponentOptions(d).writeOnly;if(!p||r._allowWriteOnly)if((0,a.isDataThread)()){if(c&&"function"==typeof s)return void console.warn('Appservice can not use wxs function to handle event "'+r.type+'".');var _=exparser.Element.getMethodCaller(d);"function"!=typeof _[s]?console.warn('Component "'+d.is+'" does not have a method "'+s+'" to handle event "'+r.type+'".'):_[s]({type:r.type,timeStamp:r.timeStamp,target:g(r.target,p,this),currentTarget:g(this,p,null),detail:r.detail,touches:r.touches,changedTouches:r.changedTouches,_requireActive:r._requireActive})}else if(c)if("function"==typeof s&&(0,f.getWxsGdc)()){(b={type:r.type,timeStamp:r.timeStamp,target:h(r.target,p,this),currentTarget:h(this,p,null),detail:r.detail,touches:v(r.touches),changedTouches:v(r.changedTouches)}).instance=(0,f.getWxsHandlerInstance)(t);var y=s((0,f.wxsDeepCopy)(b,!0),(0,f.wxsDeepCopy)((0,f.getWxsHandlerInstance)(t,!0),!0));if((0,f.triggerPageRerender)(),!1===y)return y}else console.warn('Component "'+d.is+'" does not have a wxs function to handle event "'+r.type+'".');else{var b={type:r.type,timeStamp:r.timeStamp,target:h(r.target,p,this),currentTarget:h(this,p,null),detail:r.detail,touches:v(r.touches),changedTouches:v(r.changedTouches),_requireActive:r._requireActive,_relatedInfo:r._relatedInfo};(0,a.sendData)(o.SYNC_EVENT_NAME.WX_EVENT,[e.nodeId.getNodeId(d),s,b])}}return!i&&void 0}},{capture:s}),t[u][n]=c?r:null==r?"":String(r)}var y=void 0!==wx&&wx.transformRpx,b=exparser.Component.getComponentOptions;t.applyProperties=function(e,t,n){var d=(0,a.isDataThread)()?e.__treeManager__:s.default.instance;function p(o){var s=t[o],p=null;if("slot"===e.is&&e instanceof exparser.VirtualNode&&"name"===o)return exparser.Element.setSlotName(e,s),"continue";if("id"===o)return e.id=null==s?"":s,"continue";if("slot"===o)return e.slot=null==s?"":s,"continue";if(g&&"class"===o)return e.class=e.__wxsClass?(0,f.joinClassOrStyle)(" ",null==s?"":s,e.__wxsClass):null==s?"":s,"continue";if(g&&"style"===o){if(e.$$){var b="";if(e.__animationStyle){var w=e.__animationStyle,S={transition:w.transition,transform:w.transform,transitionProperty:w.transitionProperty,transformOrigin:w.transformOrigin};S["-webkit-transition"]=S.transition,S["-webkit-transform"]=S.transform,S["-webkit-transition-property"]=S.transitionProperty,S["-webkit-transform-origin"]=S.transformOrigin,b=Object.keys(S).filter(function(e){return!(/transform|transition/i.test(e)&&""===S[e]||""===e.trim()||void 0===S[e]||""===S[e]||!isNaN(parseInt(e)))}).map(function(e){return e.replace(/([A-Z]{1})/g,function(e){return"-"+e.toLowerCase()})+":"+S[e]}).join(";")}var C=y(s,!0);e.setNodeStyle(e.__wxsStyle?(0,f.joinClassOrStyle)(";",C+b,e.__wxsStyle):C+b),e.__transformedPropValue=C,e.__animationStyleStr=b,C!==s?(0,c.registerResizer)(e,function(){var t=y(s,!0);e.setNodeStyle((0,f.joinClassOrStyle)(";",t+b,e.__wxsStyle)),e.__transformedPropValue=t}):e.__resizer&&(0,c.unregisterResizer)(e),e.__banned&&(0,u.banComponentNode)(e)}return"continue"}if(g&&exparser.Component.hasPublicProperty(e,o))return!v&&l.default.restoring||(m.scheduleReplace([o],s,n[o]),v?m.doUpdates():h++),"continue";if(/^data-/.test(o)){var E=(0,i.dashToCamelCase)(o.slice(5).toLowerCase());return e.dataset[E]=s,e.setAttribute(o,s),"continue"}if("$gdc"===o)return(0,f.setWxsGdc)(s),"continue";if((p=o.match(/^\$wxs:(capture-)?(bind|catch):?(.+)$/))&&("function"==typeof s||!s))return _(d,e,p[3],s,"catch"===p[2],p[1],!0),(0,a.inDevtoolsWebview)()&&!(0,a.isDataThread)()&&e.setAttribute("exparser:info-attr-"+o.slice(4),s.name),"continue";if(p=o.match(/^(capture-)?(bind|catch):?(.+)$/))return _(d,e,p[3],s,"catch"===p[2],p[1]),(0,a.inDevtoolsWebview)()&&!(0,a.isDataThread)()&&e.setAttribute("exparser:info-attr-"+o,s),"continue";if("on"===o.slice(0,2))return _(d,e,o.slice(2),s,!1,!1),"continue";if(g&&"animation"===o){if(e.$$&&null!==s&&"object"===(void 0===s?"undefined":r(s))&&s.actions&&0<s.actions.length){var I=function(){if(O<k){var t=wx.animationToStyle(T[O]),n=t.transition,r=t.transitionProperty,o=t.transform,i=t.transformOrigin,a=t.style;e.$$.style.transition=n,e.$$.style.transitionProperty=r,e.$$.style.transform=o,e.$$.style.transformOrigin=i,e.$$.style.webkitTransition=n,e.$$.style.webkitTransitionProperty=r,e.$$.style.webkitTransform=o,e.$$.style.webkitTransformOrigin=i;var s=function(){for(var t in a)e.$$.style[t]=y(" "+a[t],!0)};s(),(0,c.registerResizer)(e,s),e.__animationStyle={transition:n,transform:o,transitionProperty:r,transformOrigin:i},e.__banned&&(0,u.banComponentNode)(e)}},O=0,T=s.actions,k=s.actions.length;e.addListener("transitionend",function(){O+=1,I()}),I()}return"continue"}if(p=o.match(/^\$wxs:change:(.+)$/))return e.wxsObserver=e.wxsObserver||{},e.wxsObserver[p[1]]=e.wxsObserver[p[1]]||{},e.wxsObserver[p[1]].observer=s,"continue";var A=(0,i.camelToDashCase)(o);return g&&e.hasExternalClass(A)?(e.setExternalClass(A,s),"continue"):void 0}e.dataset=e.dataset||{};var h=0,g=e instanceof exparser.Component,v=g&&"//"===b(e).domain,m=exparser.Component.getDataProxy(e);for(var w in t)p(w);if(h&&m.doUpdates(h),!(0,a.isDataThread)()&&e.wxsObserver&&(0,f.getWxsGdc)()&&(0,f.triggerWxsObserver)(e,t),e.__component__&&!l.default.restoring)if((0,a.isDataThread)())d.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_APPLY_PROPERTY]);else if(d.operationFlow.iterator.nextStep()[0]!==o.SYNC_EVENT_NAME.FLOW_APPLY_PROPERTY)throw new Error("Framework inner error (expect FLOW_APPLY_PROPERTY but get another)")}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=/-[a-z]/g,o=/([A-Z])/g;t.dashToCamelCase=function(e){return n[e]?n[e]:n[e]=e.indexOf("-")<=0?e:e.replace(r,function(e){return e[1].toUpperCase()})},t.camelToDashCase=function(e){return n[e]||(n[e]=e.replace(o,"-$1").toLowerCase())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=a(n(10)),i=a(n(11));function a(e){return e&&e.__esModule?e:{default:e}}var s={},c=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(u,null,[{key:"create",value:function(e){var t=new u(e);return t.viewId=e,s[e]=t}},{key:"destroy",value:function(e){delete s[e]}},{key:"get",value:function(e){return s[e]}},{key:"listViewId",value:function(){var e=[];for(var t in s)e.push(s[t].viewId);return e}}]),u);function u(e){!function(e,t){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this),this.listenerInited=!1,this.root=null,this.tabRoot=null,this.tabDestroyed=!1,this.usedDef=null,this.tabUsedDef=null,this.statesData=null,this.layoutReadyFuncs=[],this.operationFlow=new i.default(e,this),this.nodeId=new o.default,this.rootNodeId="",this.tabNodeId="",this.rootCompName="",this.tabCompName=""}t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(6),i=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"getAll",value:function(){return this._idNodeMap}},{key:"getNodeById",value:function(e){return this._idNodeMap[e]}},{key:"getNodeId",value:function(e){return e.__wxTmplId}},{key:"allocNodeId",value:function(e,t){var n=t||(0,o.guid)();return e.__wxTmplId=n,this._idNodeMap[e.__wxTmplId]=e,n}},{key:"addNode",value:function(){}},{key:"removeNode",value:function(e){if(e.__wxTmplId&&delete this._idNodeMap[e.__wxTmplId],e.childNodes)for(var t=0;t<e.childNodes.length;t++)this.removeNode(e.childNodes[t]);e.shadowRoot instanceof exparser.Element&&this.removeNode(e.shadowRoot)}}]),a);function a(){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this._idNodeMap={}}t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(2),a=n(3);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=(r(u,[{key:"nextStepType",value:function(){return this._arr[0][0]}},{key:"nextStep",value:function(){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH;)this._startCb(this._treeManager);if(this._arr[0][0]!==i.SYNC_EVENT_NAME.FLOW_REPEAT)return this._arr.shift();var e=this._arr[0][2];return--this._arr[0][1]||this._arr.shift(),[e]}},{key:"nextStepIf",value:function(e){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH;)this._startCb(this._treeManager);return this._arr[0][0]===e?this._arr.shift():null}},{key:"expectStart",value:function(){var e=this._arr.shift();if(this._depth++,e[0]!==i.SYNC_EVENT_NAME.FLOW_DEPTH||e[1]!==this._depth)throw new Error("Expect START descriptor with depth "+this._depth+" but get another");return e[2]}},{key:"expectEnd",value:function(){for(;this._arr[0][0]===i.SYNC_EVENT_NAME.FLOW_DEPTH&&this._arr[0][1]!==this._depth-1;)this._startCb(this._treeManager);var e=this._arr.shift();if(this._depth--,e[0]!==i.SYNC_EVENT_NAME.FLOW_DEPTH||e[1]!==this._depth)throw new Error("Expect END descriptor with depth "+this._depth+" but get another")}},{key:"getQueueLength",value:function(){return this._arr.length}},{key:"getDepth",value:function(){return this._depth}}]),u);function u(e,t,n){s(this,u),this._treeManager=e,this._arr=t,this._depth=0,this._startCb=n}var l=(r(f,[{key:"flushBlocked",value:function(){if(this._blocked)for(;this._blocked.length;)try{var e=this._blocked.shift();this.iterator=new c(this._treeManager,e,f._startCb),f._startCb(this._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{})),(0,a.sendData)(i.SYNC_EVENT_NAME.LAYOUT_READY,[]),(0,a.sendData)(i.SYNC_EVENT_NAME.SET_DATA_CALLBACK,[this._pendingSetDataCallbacks]),this._pendingSetDataCallbacks=0}catch(e){console.error(e.message),Reporter.errorReport({key:"webviewScriptError",error:e})}}},{key:"unblock",value:function(){this.flushBlocked(),this._blocked=null}},{key:"start",value:function(){this.flush(),this._depth++,(0,a.queueSendingData)(i.SYNC_EVENT_NAME.FLOW_DEPTH,[this._depth,Date.now()],this._viewId)}},{key:"dedupe",value:function(){var e=this._cache;if(this._curWinSize){if(2===e.length){var t=e[1][2];if(e[0][0]!==t){var n=e.pop(),r=n.shift();(0,a.queueSendingData)(r,n,this._viewId)}else e.shift(),e[0][1]++}}else{var o=0;if(2<e.length&&e[0][0]===e[1][0]&&e[0][0]===e[2][0]&&(o=1),o){var s=e[0][0];e.splice(0,3),this.flush(),this._curWinSize=1,e.unshift([i.SYNC_EVENT_NAME.FLOW_REPEAT,3,s])}else if(3<e.length){var c=e.pop(),u=c.shift();(0,a.queueSendingData)(u,c,this._viewId)}}}},{key:"push",value:function(e){this._cache.unshift(e),1!==e.length?this.flush():this.dedupe()}},{key:"flush",value:function(){for(this._curWinSize=0;this._cache.length;){var e=this._cache.pop(),t=e.shift();(0,a.queueSendingData)(t,e,this._viewId)}}},{key:"end",value:function(){this.flush(),this._depth--,(0,a.queueSendingData)(i.SYNC_EVENT_NAME.FLOW_DEPTH,this._depth,this._viewId),0===this._depth&&(0,a.flushSendingData)()}}],[{key:"setStartOperation",value:function(e){f._startCb=e}}]),f);function f(e,t){var n=this;function r(e,t){if(n._received.push([t].concat(e)),t===i.SYNC_EVENT_NAME.FLOW_DEPTH&&(n._depth=e[0],0===n._depth)){var r=n._received;n._received=[],n._blocked?n._blocked.push(r):(n.iterator=new c(n._treeManager,r,f._startCb),f._startCb(n._treeManager),document.dispatchEvent(new CustomEvent("pageReRender",{})),(0,a.sendData)(i.SYNC_EVENT_NAME.LAYOUT_READY,[]),(0,a.sendData)(i.SYNC_EVENT_NAME.SET_DATA_CALLBACK,[n._pendingSetDataCallbacks]),n._pendingSetDataCallbacks=0)}}for(var o in s(this,f),this._viewId=e,this._treeManager=t,this._depth=0,this._curWinSize=0,this._pendingSetDataCallbacks=0,this._received=[],this._cache=[],this._blocked=[],i.SYNC_EVENT_NAME)"FLOW_"===o.slice(0,5)&&("FLOW_SET_DATA"===o?(0,a.setDataListener)(i.SYNC_EVENT_NAME[o],function(){n._pendingSetDataCallbacks++},e):(0,a.setDataListener)(i.SYNC_EVENT_NAME[o],r,e))}t.default=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=[];t.registerResizer=function(e,t){void 0===e.__resizer?(e.__resizer=t,n.push(e)):e.__resizer=t},t.unregisterResizer=function(e){if(void 0!==e.__resizer){e.__resizer=void 0;var t=n.indexOf(e);n.splice(t,1)}},t.registerResizeListener=function(){wx.onWindowResize(function(e){var t=e.size,r={width:t.windowWidth,height:t.windowHeight};if(window.__rpxRecalculatingFuncs__){window.__rpxRecalculatingFuncs__.forEach(function(e){e(r)});for(var o=document.getElementsByTagName("style"),i=0;i<o.length;i++)"string"==typeof o[i].getAttribute("wxss:path")&&(o[i].innerHTML=o[i].innerHTML+".wx-trigger-chrome-media-query-update { height: "+Math.random()+"px; }")}for(var a=0;a<n.length;a++)n[a].__resizer(r)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initBannedListener=t.checkAndBanComponent=t.banNode=t.banComponentNode=t.sendBannedMap=t.initBannedMap=void 0;var r,o=n(2),i=n(3),a=(r=n(9))&&r.__esModule?r:{default:r};function s(e,t){f(e),function(e,t){u||(u=exparser.registerElement({options:{renderingMode:"native"}}));var n=exparser.createElement("wx-hint",u),r=document.createElement("div");r.innerHTML=t.hint,n.$$.appendChild(r),e.appendChild(n,e.childNodes[0])}(e,t)}var c=null,u=null,l=(t.initBannedMap=function(e){0!==Object.keys(e).length&&(c=e,a.default.listViewId().forEach(function(t){(0,i.sendData)(o.SYNC_EVENT_NAME.BANNING_MAP,[e],t)}))},t.sendBannedMap=function(e){c&&(0,i.sendData)(o.SYNC_EVENT_NAME.BANNING_MAP,[c],e)},t.banComponentNode=function(e){e.$$.style.display="none"}),f=t.banNode=function(e){!function e(t){t instanceof exparser.Component?l(t):t instanceof exparser.VirtualNode?t.childNodes.forEach(function(t){e(t)}):t instanceof exparser.TextNode&&(t.textContent=""),t.__banned=!0}(e)};t.checkAndBanComponent=function(e){if(c){var t=exparser.Component.getComponentOptions(e).domain.split("/",1)[0],n=e.shadowRoot;c[t]&&s(n,c[t])}},t.initBannedListener=function(){(0,i.setDataListener)(o.SYNC_EVENT_NAME.BANNING_MAP,function(e){!function(e){c||(c=e,function e(t){if(t instanceof exparser.Component){var n=exparser.Component.getComponentOptions(t).domain;if("//"!==n){var r=n.split("/",1)[0],o=t.shadowRoot;c[r]?s(o,c[r]):e(o)}}t instanceof exparser.Element&&t.childNodes.forEach(function(t){e(t)})}(window.__DOMTree__))}(function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,1)[0])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restorePageState=t.savePageState=void 0;var r=n(2),o=n(3),i=n(6),a=n(15),s=n(16),c={id:null,prev:null,data:[]};function u(e){f(e),e.compExtraDataMap={};var t=0;window.__TAB_BAR__&&((0,i.dfsComponents)(window.__TAB_BAR__,1,function(n){n.triggerLifeTime("saved",[e]),(0,s.saveNodeExtraData)(e.compExtraDataMap,n,t++)}),(0,s.saveTabRootExtraData)(e.compExtraDataMap)),(0,i.dfsComponents)(window.__DOMTree__,1,function(n){n.triggerLifeTime("saved",[e]),(0,s.saveNodeExtraData)(e.compExtraDataMap,n,t++)}),(0,s.saveRootExtraData)(e.compExtraDataMap)}function l(){__webViewSDK__.publish("recycleStatistics",(0,a.getComponentCount)());var e={};u(e),(0,o.sendData)(r.SYNC_EVENT_NAME.REQUEST_SAVE,e)}(0,o.setDataListener)(r.SYNC_EVENT_NAME.SAVE_STATE,function(){"function"==typeof wx.webViewReadyToTerminate&&wx.webViewReadyToTerminate({})}),(0,o.setDataListener)(r.SYNC_EVENT_NAME.RESTORE_STATE,function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,3),n=t[0],r=t[1],o=t[2];if(n&&n.isSplitData){var i=n.splitInfo,a=i.id,s=i.index,u=i.total,l=i.data;if(1!==s&&(s!==c.prev+1||a!==c.id))return c.id=null,c.prev=null,void(c.data=[]);if(s!==u)return c.id=a,c.prev=s,void c.data.push(l);c.data.push(l);var f=c.data.join("");try{f=JSON.parse(f)}catch(e){console.error("Expected parse completed data with split data but got error"),Reporter.errorReport({key:"webviewScriptError",error:new Error("Expected parse completed data with split data but got error")}),f=null}if(c.id=null,c.prev=null,c.data=[],!f)return;n=f[0],r=f[1],o=f[2]}p.restoring=n||{},p.idDataMap=r,p.compIdArr=o,p.compIdArrIndex=0});var f=t.savePageState=function(e){var t=document.body.scrollTop||document.documentElement.scrollTop;e.__page__={scrollTop:t}},d=t.restorePageState=function(e){var t=e.__page__;if(t){var n=parseInt(t.scrollTop,10);requestAnimationFrame(function(){document.body.scrollTop=document.documentElement.scrollTop=n})}},p={restoring:null,idDataMap:null,compIdArr:null,compExtraDataMap:null,compIdArrIndex:0,registerSavingListener:function(){window.__forceSaveStates__=l,"function"==typeof wx.onWebViewWillManuallyTerminate&&wx.onWebViewWillManuallyTerminate(l)},callSavedLifeTimes:u,callRestoredLifeTimes:function(e){d(e);var t=0;window.__TAB_BAR__&&((0,i.dfsComponents)(window.__TAB_BAR__,1,function(n){n.triggerLifeTime("restored",[e]),(0,s.restoreNodeExtraData)(e.compExtraDataMap,n,t++)}),(0,s.restoreTabRootExtraData)(e.compExtraDataMap)),(0,i.dfsComponents)(window.__DOMTree__,1,function(n){n.triggerLifeTime("restored",[e]),(0,s.restoreNodeExtraData)(e.compExtraDataMap,n,t++)}),(0,s.restoreRootExtraData)(e.compExtraDataMap)}};t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentCount=function(){var e={compCount:0,customCompCount:0,nativeCompCount:0,rootCustomCompCount:0,rootInternalCompCount:0};try{!function e(t,n,r){if(t instanceof exparser.Component){t!==window.__DOMTree__&&(n.compCount++,t.hasBehavior("wx-base")?(r&&n.rootInternalCompCount++,t.hasBehavior("wx-native")&&n.nativeCompCount++):r&&n.rootCustomCompCount++);var o=t===window.__DOMTree__&&r;t.shadowRoot instanceof exparser.Element&&e(t.shadowRoot,n,o)}for(var i=t.childNodes,a=0,s=i.length;a<s;a++){var c=(i[a]instanceof exparser.VirtualNode||t===window.__DOMTree__||t===window.__DOMTree__.shadowRoot)&&r;i[a]instanceof exparser.Element&&e(i[a],n,c)}}(window.__DOMTree__,e,!0)}catch(e){}var t=e.rootCustomCompCount,n=e.rootInternalCompCount,r=t+n;return{compCount:e.compCount,customCompCount:e.customCompCount,nativeCompCount:e.nativeCompCount,rootCompCount:r,rootCustomCompCount:t,rootCustomCompRatio:r?~~(100*t/r):0,rootInternalCompCount:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinClassOrStyle=t.restoreTabRootExtraData=t.saveTabRootExtraData=t.restoreRootExtraData=t.saveRootExtraData=t.restoreNodeExtraData=t.saveNodeExtraData=t.callMethodFromWxsCallback=t.triggerWxsObserver=t.getWxsHandlerInstance=t.triggerPageRerender=t.wxsDeepDecopy=t.wxsDeepCopy=t.getWxsGdc=t.setWxsGdc=void 0;var r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)},o=n(3),i=c(n(9)),a=(c(n(17)),n(2)),s=c(n(14));function c(e){return e&&e.__esModule?e:{default:e}}function u(e){return e instanceof exparser.Component&&exparser.Component.getComponentOptions(e).domain}var l=!1,f=null,d=(t.setWxsGdc=function(e){"function"==typeof e&&(f=e)},t.getWxsGdc=function(){return"function"==typeof f?f:null},t.wxsDeepCopy=function(e,t){return f?f(e,"nv_",t?2:void 0):e}),p=t.wxsDeepDecopy=function(e){return f?f(e):e},h=0,g=!1,v=t.triggerPageRerender=function(){!(0,o.isDataThread)()&&g&&0===h&&(g=!1,document.dispatchEvent(new CustomEvent("pageReRender",{})))},_=null,y=[],b=t.getWxsHandlerInstance=function(e,t){var n=t?e.ownerShadowRoot?e.ownerShadowRoot.__wxHost:window.__DOMTree__:e;return l=!!e.ownerShadowRoot,function e(t,n){var i=t,s=u(i),c=function(e){return e instanceof exparser.Component&&"//"===exparser.Component.getComponentOptions(e).domain}(i),f={selectAllComponents:function(r){if(n!==s)return[];var o=l?t.shadowRoot.querySelectorAll(r):t.querySelectorAll(r),i=[];return o.forEach(function(t){i.push(d(e(t,n),!0))}),i},selectComponent:function(r){if(n!==s)return null;var o=l?t.shadowRoot.querySelector(r):t.querySelector(r);return o?d(e(o,n),!0):null},removeClass:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if((0,o.isDataThread)()||!i||!t.length)return this;var r=i.__wxsClass?i.__wxsClass.split(/\s+/):[],a=[];return t.forEach(function(e){(e=e.replace(/^\s+|\s+$/g,""))&&i.classList.contains(e)&&(i.classList.toggle(e),g=!0,a.push(e))}),a.forEach(function(e){r.forEach(function(t,n){return t!==e||(r.splice(n,1),!1)})}),i.__wxsClass=r.join(" "),this},addClass:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if((0,o.isDataThread)()||!i||!t.length)return this;var r=i.__wxsClass||"",a=[];return t.forEach(function(e){(e=e.replace(/^\s+|\s+$/g,""))&&(i.classList.contains(e)||(i.classList.toggle(e),a.push(e),g=!0))}),i.__wxsClass=r+(r?" ":"")+a.join(" "),this},hasClass:function(e){return!((0,o.isDataThread)()||!i)&&i.classList.contains(e)},setStyle:function(e){if((0,o.isDataThread)()||!i)return this;if(e===i.__wxsStyle)return this;var t=[];if("object"===(void 0===e?"undefined":r(e)))for(var n in e=e?p(e):{})e.hasOwnProperty(n)&&t.push(n+":"+e[n]);else t=[String(e)];return t=window.wx.transformRpx(t.join(";"),!0),i.setNodeStyle(E(";",i.__transformedPropValue+i.__animationStyleStr,t)),i.__wxsStyle=t,g=!0,this},getDataset:function(){return i?d(i.dataset):null},getState:function(){return i?(i.__wxsState=i.__wxsState||{},i.__wxsState):null},triggerEvent:function(e,n,r){return c||!t||(n=n?p(n):n,r=r?p(r):r,h++,i.triggerEvent(e,n,r),h--),this},callMethod:function(e,n){var r=1<arguments.length&&void 0!==n?n:{};return(0,o.isDataThread)()||!e||(r=p(r),l?(0,o.sendData)(a.SYNC_EVENT_NAME.CALL_METHOD_FROM_WXS,[window.__webviewId__,t&&t.__wxTmplId||0,e,r]):wx.callMethodFromWxs([window.__webviewId__,t&&t.__wxTmplId||0,e,r])),this},requestAnimationFrame:function(e){return(0,o.isDataThread)()||"function"!=typeof e||function(e){(0,o.isDataThread)()||"function"!=typeof e||(y.push(e),_||(_=window.requestAnimationFrame(function(){_=null;var e=y;y=[],e.forEach(function(e){e(),v()})})))}(e),this}};return Object.freeze(f),f}(n,u(n))},m=null,w=[],S=(t.triggerWxsObserver=function(e,t){!e.wxsObserver||(0,o.isDataThread)()||s.default.restoring||(w.push({node:e,props:t}),m||(m=window.requestAnimationFrame(function(){m=null;var e=w;w=[],e.forEach(function(e){S(e.node,e.props)})})))},function(e,t){try{for(var n in e.wxsObserver)if(t.hasOwnProperty(n)&&e.wxsObserver[n]&&"function"==typeof e.wxsObserver[n].observer){var r=e.wxsObserver[n].value;e.wxsObserver[n].observer(d(t[n]),d(r),d(b(e,!0),!0),d(b(e),!0)),e.wxsObserver[n].value=t[n]}}catch(e){console.error("[WXS observer] error:"+e)}}),C=t.callMethodFromWxsCallback=function(e){var t=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(e,4),n=t[0],r=t[1],o=t[2],a=t[3];if(a||(a={}),r){var s=i.default.get(n);if(!s)return;var c=s.nodeId.getNodeById(r);if(!c)return;var u=exparser.Element.getMethodCaller(c);u&&"function"==typeof u[o]&&u[o](a)}else{var l=__appServiceEngine__.getCurrentPagesByDomain("");if(!l.length)return;var f=l[l.length-1];f&&"function"==typeof f[o]&&f[o](a)}};(0,o.isDataThread)()&&__appServiceSDK__.onCallMethodFromWxs(C),t.saveNodeExtraData=function(e,t,n){if(t.__wxsStyle||t.__wxsClass){var r={wxsStyle:t.__wxsStyle,wxsClass:t.__wxsClass,index:n,wxsState:p(t.__wxsState)};if(t.ownerShadowRoot&&i.default.instance){var o=i.default.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);e._custom=e._custom||{},(e=e._custom)[o]=e[o]||{},e=e[o]}e[t.is]=e[t.is]||[],e[t.is].push(r)}},t.restoreNodeExtraData=function(e,t,n){if(e){var r=null;if(t.ownerShadowRoot&&i.default.instance&&e._custom){var o=i.default.instance.nodeId.getNodeId(t.ownerShadowRoot.__wxHost);if(!(e=e._custom)[o])return;e=e[o]}e[t.is]&&e[t.is].length&&e[t.is][0]&&e[t.is][0].index===n&&(r=e[t.is].shift()),r&&function(e,t){e.__wxsStyle=t.wxsStyle,e.__wxsClass=t.wxsClass,e.__wxsState=d(t.wxsState),t.wxsStyle&&e.setNodeStyle(E(";",e.__transformedPropValue+e.__animationStyleStr,t.wxsStyle)),t.wxsClass&&(e.class=E(" ",e.class,t.wxsClass))}(t,r)}},t.saveRootExtraData=function(e){if(!(0,o.isDataThread)()&&e){var t=l?i.default.instance.nodeId.getNodeById(i.default.instance.rootNodeId):window.__DOMTree__;t&&(e.wxsPageState=t.__wxsState)}},t.restoreRootExtraData=function(e){if(!(0,o.isDataThread)()&&e){var t=l?i.default.instance.nodeId.getNodeById(i.default.instance.rootNodeId):window.__DOMTree__;t&&(t.__wxsState=e.wxsPageState)}},t.saveTabRootExtraData=function(e){if(!(0,o.isDataThread)()&&e){var t=window.__TAB_BAR__;t&&(e.wxsTabRootState=p(t.__wxsState))}},t.restoreTabRootExtraData=function(e){if(!(0,o.isDataThread)()&&e){var t=window.__TAB_BAR__;t&&(t.__wxsState=d(e.wxsTabRootState))}};var E=t.joinClassOrStyle=function(e,t,n){return t?n?t+e+n:t||"":n||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(18),i={},a=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,null,[{key:"getAppData",value:function(){return i}},{key:"mergeData",value:function(e,t){if(null===t)return e;var n=JSON.parse(JSON.stringify(e));for(var r in t){var i=(0,o.parsePath)(r),a=(t[r],(0,o.getObjectByPath)(e,i,!1)),s=a.obj,c=a.key,u=(0,o.getObjectByPath)(n,i,!0),l=u.obj,f=u.key,d=u.changed;s&&(s[c]=t[r]),l&&(l[f]=d?t[r]:{__value__:t[r],__wxspec__:!0})}return n}}]),s);function s(){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this)}t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectByPath=t.parsePath=void 0;var r=n(6);t.parsePath=function(e){for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,s=0;s<t;s++){var c=e[s];if("\\"===c)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1])?(r+=e[s+1],s++):r+="\\";else if("."===c)r&&(n.push(r),r="");else if("["===c){if(r&&(n.push(r),r=""),0===n.length)throw new Error("path can not start with []: "+e);i=!(a=!0)}else if("]"===c){if(!i)throw new Error("must have number in []: "+e);a=!1,n.push(o),o=0}else if(a){if(c<"0"||"9"<c)throw new Error("only number 0-9 could inside []: "+e);i=!0,o=10*o+c.charCodeAt(0)-48}else r+=c}if(r&&n.push(r),0===n.length)throw new Error("path can not be empty");return n},t.getObjectByPath=function(e,t,n){for(var o=void 0,i=void 0,a=e,s=!1,c=0;c<t.length;c++)Number(t[c])===t[c]&&t[c]%1==0?"Array"!==(0,r.getDataType)(a)&&(a=n&&!s?(s=!0,o[i]={__value__:[],__wxspec__:!0},o[i].__value__):(o[i]=[],o[i])):"Object"!==(0,r.getDataType)(a)&&(a=n&&!s?(s=!0,o[i]={__value__:{},__wxspec__:!0},o[i].__value__):(o[i]={},o[i])),i=t[c],(a=(o=a)[t[c]])&&a.__wxspec__&&(a=a.__value__,s=!0);return{obj:o,key:i,changed:s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendPatch=t.diffProps=t.diffChildren=t.diffNode=t.diff=void 0;var r=c(n(20)),o=c(n(21)),i=n(6),a=n(23),s=n(2);function c(e){return e&&e.__esModule?e:{default:e}}t.diff=function(e,t){var n={};return u(e,t,n,0),new o.default(e,n)};var u=t.diffNode=function(e,t,n,o){if(e!==t){var a=n[o];if(null==t)a=d(a,new r.default(s.PATCH_TYPE.REMOVE,e));else if((0,i.isVirtualNode)(t))if((0,i.isVirtualNode)(e))if(e.tagName===t.tagName&&e.wxKey===t.wxKey)if("virtual"===e.tagName&&e.wxVkey!==t.wxVkey)a=d(a,new r.default(s.PATCH_TYPE.VNODE,e,t));else{var c=f(t.props,t.newProps);c&&(a=d(a,new r.default(s.PATCH_TYPE.PROPS,e,c,t))),void 0!==t.wxScopeData&&(a=d(a,new r.default(s.PATCH_TYPE.EXTRA_DATA,e,{__wxScopeData__:t.wxScopeData}))),a=l(e,t,n,a,o)}else a=d(a,new r.default(s.PATCH_TYPE.VNODE,e,t));else a=d(a,new r.default(s.PATCH_TYPE.VNODE,e,t));else{if(!(0,i.isVirtualText)(t))throw new Error("unknow node type");t.text!==e.text&&(a=d(a,new r.default(s.PATCH_TYPE.TEXT,e,t)))}a&&(n[o]=a)}},l=t.diffChildren=function(e,t,n,o,c){for(var l=((0,i.getWxmlVersionTag)("customComponents"),"virtual"===e.tagName&&1<=e.wxXCkey&&e.wxXCkey<=4),f=e.children,p=l?(0,a.listDiff)(f,t.children):{children:t.children,moves:null},h=p.children,g=0;g<f.length;++g){var v=f[g],_=h[g];++c,_&&u(v,_,n,c),(0,i.isVirtualNode)(v)&&(c+=v.descendants)}return p.moves&&(o=d(o,new r.default(s.PATCH_TYPE.REORDER,e,p.moves,t))),o},f=t.diffProps=function(e,t){for(var n={},r=0;r<t.length;r++){var o=t[r];n[o]=e[o]}return(0,i.isEmptyObject)(n)?void 0:n},d=t.appendPatch=function(e,t){return e?(e.push(t),e):[t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,i=n(2),a=n(7),s=(o=n(9))&&o.__esModule?o:{default:o},c=n(3),u=n(13);function l(e){if((0,c.isDataThread)())e.operationFlow.push([i.SYNC_EVENT_NAME.FLOW_MINIPULATE_CHILD]);else if(e.operationFlow.iterator.nextStep()[0]!==i.SYNC_EVENT_NAME.FLOW_MINIPULATE_CHILD)throw new Error("Framework inner error (expect FLOW_MINIPULATE_CHILD but get another)")}var f=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(d,[{key:"apply",value:function(e){switch(this.type){case i.PATCH_TYPE.TEXT:return d.stringPatch(e,this.patch);case i.PATCH_TYPE.VNODE:return d.vNodePatch(e,this.patch);case i.PATCH_TYPE.PROPS:return d.applyProperties(e,this.patch,this.newVNode.specProps);case i.PATCH_TYPE.EXTRA_DATA:return d.setExtraData(e,this.patch);case i.PATCH_TYPE.REORDER:return d.reorderChildren(e,this.patch,this.newVNode.children);case i.PATCH_TYPE.INSERT:return d.insertNode(e,this.patch);case i.PATCH_TYPE.REMOVE:return d.removeNode(e);default:return e}}}],[{key:"stringPatch",value:function(e,t){var n=e.parentNode,r=t.render();return n&&r!==e&&n.replaceChild(r,e),e.__banned&&(0,u.banNode)(r),r}},{key:"vNodePatch",value:function(e,t){var n=(0,c.isDataThread)()?e.__treeManager__:s.default.instance,r=e.parentNode,o=t.render(null,r.ownerShadowRoot,n);return r&&o!==e&&("wx:for"===r.__wxDynamicSync__||"wx:if"===e.__wxDynamicSync__?(n.nodeId.addNode(o),r.replaceChild(o,e),l(n),n.nodeId.removeNode(e)):r.replaceChild(o,e),e.__banned&&(0,u.banNode)(o)),o}},{key:"applyProperties",value:function(e,t,n){return(0,a.applyProperties)(e,t,n),e}},{key:"setExtraData",value:function(e,t){for(var n in t)e[n]=t[n];return e}},{key:"reorderChildren",value:function(e,t,n){var r=(0,c.isDataThread)()?e.__treeManager__:s.default.instance,o=t.removes,i=t.inserts,a=e.childNodes,f=[];return i.forEach(function(e){f.push({node:void 0!==e.oldIndex?a[e.oldIndex]:null,before:0<=e.pos?a[e.pos]:void 0,index:e.index})}),o.forEach(function(t){var n=a[t];e.removeChild(n),"wx:for"===e.__wxDynamicSync__&&(l(r),r.nodeId.removeNode(n))}),f.forEach(function(t){var o=t.node,i=t.before,a=t.index;null===o&&(o=n[a].render(null,e.ownerShadowRoot,r)),"wx:for"===e.__wxDynamicSync__?(r.nodeId.addNode(o),e.insertBefore(o,i),l(r)):e.insertBefore(o,i)}),e.__banned&&(0,u.banNode)(e),e}},{key:"insertNode",value:function(e,t){var n=(0,c.isDataThread)()?e.__treeManager__:s.default.instance,r=t.render(null,e.ownerShadowRoot,n);return e&&("wx:for"===e.__wxDynamicSync__||"wx:if"===r.__wxDynamicSync__?(n.nodeId.addNode(r),e.appendChild(r),l(n)):e.appendChild(r)),e.__banned&&(0,u.banNode)(r),e}},{key:"removeNode",value:function(e){var t=(0,c.isDataThread)()?e.__treeManager__:s.default.instance,n=e.parentNode;return n&&(n.removeChild(e),"wx:for"!==n.__wxDynamicSync__&&"wx:if"!==e.__wxDynamicSync__||(l(t),t.nodeId.removeNode(e))),null}}]),d);function d(e,t,n,r){!function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this),this.type=Number(e),this.vNode=t,this.patch=n,this.newVNode=r}t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(22),i=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(a,[{key:"apply",value:function(e){var t=this;if(0===this.patchIndexes.length)return e;var n=(0,o.getDomIndex)(e,this.oldTree,this.patchIndexes);return this.patchIndexes.forEach(function(e){var r=n[e];r&&t.patches[e].forEach(function(e){e.apply(r)})}),e}}]),a);function a(e,t){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.oldTree=e,this.patches=t,this.patchIndexes=Object.keys(this.patches).map(function(e){return Number(e)})}t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomIndex=function(e,t,r){if(r&&0!=r.length){r=r.sort(function(e,t){return e-t});var o={};return n(e,t,r,o,0),o}return{}};var n=t.mapIndexToDom=function e(t,n,o,i,a){if(t){r(o,a,a)&&(i[a]=t);var s=n.children;if(s)for(var c=t.childNodes,u=0;u<s.length;++u){var l=s[u],f=++a+(l.descendants||0);r(o,a,f)&&e(c[u],l,o,i,a),a=f}}},r=t.oneOfIndexesInRange=function(e,t,n){for(var r=0,o=e.length-1;r<=o;){var i=o+r>>1,a=e[i];if(a<t)r=1+i;else{if(!(n<a))return!0;o=i-1}}return!1}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty,r=(t.listDiff=function(e,t){for(var i=r(e).keyIndexes,a=r(t),s=a.keyIndexes,c=a.freeIndexes,u=[],l=[],f=[],d=0,p=0,h=0;h<e.length;++h){var g=e[h],v=o(g);if(v)if(n.call(s,v)){var _=s[v];u.push(t[_])}else l.push(h-p),++p,u.push(null);else if(d<c.length){var y=c[d];u.push(t[y]),++d}else l.push(h-p),++p,u.push(null)}for(var b=u,m=0,w=[],S=0;S<t.length;){for(var C=t[S],E=o(C),I=b[m],O=o(I);null===I;)I=b[++m],O=o(I);m>=b.length?(f.push({oldIndex:i[E],index:S,pos:-1}),++m,++S):O===E?(w.push(m),++m,++S):E?(O?s[O]===S+1?f.push({oldIndex:i[E],index:S,pos:m}):(I=b[++m])&&o(I)===E?(w.push(m),++m):(--m,f.push({oldIndex:i[E],index:S,pos:m})):f.push({oldIndex:i[E],index:S,pos:m}),++S):++m}for(var T=0,k=0;k<f.length;k++){var A=f[k].pos;if(-1===A)break;for(;T<w.length&&A>w[T];)T++;T>=w.length?f[k].pos=-1:f[k].pos=w[T]}return{children:u,moves:{removes:l,inserts:f}}},t.makeKeyAndFreeIndexes=function(e){for(var t={},r=[],a=0;a<e.length;++a){var s=e[a],c=o(s);c?n.call(t,c)?(console.warn('For developer:Do not set same key "'+c+'" in wx:key.'),i(s),r.push(a)):t[c]=a:r.push(a)}return{keyIndexes:t,freeIndexes:r}}),o=t.getItemKey=function(e){if(e)return e.wxKey},i=function(e){e.wxKey=void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportFlowFlushCombined=t.reportFlowCombined=t.reportFlow=t.addGenFuncTime=t.addFlowCount=t.reportPluginNodeCreation=void 0;var r,o=n(3),i=(r=n(9))&&r.__esModule?r:{default:r},a={},s=(t.reportPluginNodeCreation=function(e,t){var n=exparser.Component.getComponentOptions(e).domain;if("/"!==n&&"//"!==n&&n){var r=n.split("/",1)[0],s=(0,o.isDataThread)()?t:i.default.instance,c=s.viewId;if(a[c]||(a[c]={}),!a[c][r]){a[c][r]=!0;var u=[r,__appServiceSDK__.pluginInfos[r].version,s.rootCompName,__appServiceSDK__.getLaunchOptionsSync().sessionid||__appServiceSDK__.getLaunchOptionsSync().sessionId||"",0,""].map(encodeURIComponent).join(",");void 0!==Reporter&&(Reporter.reportKeyValue({key:"PluginDisplay",value:u,force:!0}),Reporter.reportIDKey({key:"pluginDisplayInPage",force:!0}))}}},0),c=0,u=0,l=(t.addFlowCount=function(){s+=1},t.addGenFuncTime=function(e){c+=1,u+=e},t.reportFlow=function(e,t,n,r){var i=n-t,a=n-e,l=Math.ceil(u/(c||1)),f=[s,1,i,c,l,(0,o.isDataThread)()?1:2,a,r].map(encodeURIComponent).join(",");void(u=c=s=0)!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:f,force:!0})},0),f=0,d=0,p=0,h=0,g=0;t.reportFlowCombined=function(e,t,n){return l+=s,d+=n-t,p+=c,h+=u,g+=n-e,u=c=s=0,f+=1},t.reportFlowFlushCombined=function(e){var t=Math.ceil(d/(f||1)),n=Math.ceil(h/(p||1)),r=Math.ceil(g/(f||1)),i=[l,f,t,p,n,(0,o.isDataThread)()?1:2,r,e].map(encodeURIComponent).join(",");void 0!==Reporter&&Reporter.reportKeyValue({key:"SetDataPerf",value:i,force:!0})}},function(e,t){"use strict";function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e,t,r){t&&n(e.prototype,t)}(o,[{key:"render",value:function(){return exparser.createTextNode(this.text)}}]),o);function o(e){!function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),this.text=String(e)}r.prototype.type="WxVirtualText",t.default=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)},r=Object.prototype.hasOwnProperty,o=exparser.dataUtils.deepCopy;t.mergeData=function(e,t,i,a){for(var s=0;s<t.length;s++){for(var c=t[s],u=c[0],l=c[1],f=e,d=u[0],p=1;p<u.length;p++){var h=u[p];"number"==typeof h&&isFinite(h)?r.call(f,d)&&f[d]instanceof Array||(f[d]=[]):(!r.call(f,d)||null===f[d]||"object"!==n(f[d])||f[d]instanceof Array)&&(f[d]={}),f=f[d],d=h}var g=f[d];f[d]=a?o(l):l,i[s]=[f[d],g]}},t.mergeDataWithSpec=function(e,t,i,a,s){for(var c=s?o(e):e,u=0;u<t.length;u++){for(var l=t[u],f=l[0],d=l[1],p=l[2],h=c,g=f[0],v=1;v<f.length;v++)if(null!=(h=h[g])&&h.__wxspec__&&(h=h.__value__),g=f[v],null!=h&&!r.call(h,g)){h=null;break}null!=h&&r.call(h,g)&&(i?null!=p&&"object"===(void 0===d?"undefined":n(d))&&d instanceof Array==p instanceof Array?h[g]={__value__:p,__wxspec__:!0}:null!=h[g]&&h[g].__wxspec__||(h[g]={__value__:h[g],__wxspec__:!0}):h[g]=a?o(d,!1):d)}return c}},function(e,t){"use strict";function n(){r={};var e=void 0;if(__wxConfig&&__wxConfig.subPackages)e=__wxConfig.subPackages;else{if("undefined"==typeof window||!window||!window.__subPackages)return;e=window.__subPackages}e.length&&e.forEach(function(e){if(e){var t=e.root||"";if(t&&"/"!==t.slice(-1)&&(t+="/"),e.plugins)for(var n in e.plugins)if(Object.prototype.hasOwnProperty.call(e.plugins,n)){var o=e.plugins[n]&&e.plugins[n].provider;o&&(r[o]=t)}}})}Object.defineProperty(t,"__esModule",{value:!0});var r=null;t.convertRouteToComponentAlias=function(e){var t=e.match(/(?:^|\/)__(wx|plugin)__\/(.*)$/);return t?"wx"===t[1]?"wx://"+t[2]:"plugin-private://"+t[2]:e},t.convertComponentAliasToRoute=function(e){return r||n(),(exparser.Component._list[e]&&exparser.Component._list[e].is||e).replace(/^plugin-private:\/\/([0-9a-zA-Z]+)\//,function(e,t){return(r[t]||"")+"__plugin__/"+t+"/"}).replace(/^wx:\/\//,"__wx__/")},t.getPluginRoutePrefix=function(e){return r||n(),(r[e]||"")+"__plugin__/"+e+"/"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restoreView=t.saveView=void 0;var r,o=n(2),i=n(3),a=n(6),s=(r=n(9))&&r.__esModule?r:{default:r},c=Date.now();t.saveView=function(e,t){var n=s.default.get(e);n&&(n.statesData=t,n.tabRoot&&(0,a.dfsComponents)(n.tabRoot,1,function(e){e.triggerLifeTime("saved")}),(0,a.dfsComponents)(n.root,1,function(e){e.triggerLifeTime("saved")}),(0,i.sendData)(o.SYNC_EVENT_NAME.SAVE_STATE,[],e))},t.restoreView=function(e){var t=s.default.get(e);if(t){var n=t.nodeId.getAll(),r={},u=[],l=function(e){var o=t.nodeId.getNodeId(e);u.push(o),r[o]=n[o].data};t.tabRoot&&!t.tabDestroyed&&(0,a.dfsComponents)(t.tabRoot,1,l),(0,a.dfsComponents)(t.root,1,l);var f=[t.statesData||{},r,u],d=JSON.stringify(f),p=d.length;if(349184<p){for(var h=[],g=0;g<p;)h.push(d.substr(g,349184)),g+=349184;for(var v=++c,_=0,y=h.length;_<y;_++)(0,i.sendData)(o.SYNC_EVENT_NAME.RESTORE_STATE,[{isSplitData:!0,splitInfo:{id:v,index:_+1,total:y,data:h[_]}}],e)}else(0,i.sendData)(o.SYNC_EVENT_NAME.RESTORE_STATE,f,e);if(t.statesData=void 0,!t.tabDestroyed&&t.tabRoot){(0,i.sendData)(o.SYNC_EVENT_NAME.COMPONENT_DEF_TAB,t.tabUsedDef,e);var b=t.tabRoot;t.operationFlow.start(),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_CREATE_TAB,b.is,t.nodeId.getNodeId(b)]),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_CREATE_TAB]),t.operationFlow.end()}(0,i.sendData)(o.SYNC_EVENT_NAME.COMPONENT_DEF,t.usedDef,e);var m=t.root;t.operationFlow.start(),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION,m.is,t.nodeId.getNodeId(m)]),t.operationFlow.push([o.SYNC_EVENT_NAME.FLOW_INITIAL_CREATION]),t.operationFlow.end(),t.tabRoot&&(0,a.dfsComponents)(t.tabRoot,1,function(e){e.triggerLifeTime("restored")}),(0,a.dfsComponents)(t.root,1,function(e){e.triggerLifeTime("restored")})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)};t.registerDataBehaviors=function(){exparser.registerBehavior({is:"wx://form-field",properties:{name:{type:String,public:!0},value:{type:null,public:!0}}}),exparser.registerBehavior({is:"wx://style-filter"}),exparser.registerBehavior({is:"wx://request-filter"}),exparser.registerBehavior({is:"wx://request-sender"}),exparser.registerBehavior({is:"wx://component-export",definitionFilter:function(e){"function"==typeof e.export&&("object"===n(e.methods)?e.methods.__export__=e.export:e.methods={__export__:e.export})}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerDataComponents=void 0;var r=n(1);t.registerDataComponents=function(){var e={domain:"//",writeOnly:!1,allowInWriteOnly:!1,lazyRegistration:!0,classPrefix:"",addGlobalClass:!1,templateEngine:null,renderingMode:"full",multipleSlots:!1,publicProperties:!0,reflectToAttributes:!1,writeFieldsToNode:!1,writeIdToDOM:!1};["functional-page","open-api-redirecting-page"].forEach(function(t){(0,r.Component)({options:e,properties:{}},"//",function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"wx://"+t+".json",{usingComponents:{}}),"wx://"+t+".js")})}}]);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}!function(){var e,t,n=__qqConfig.platform,r={},o={},i={},a={};!function(e){e.show="show",e.hide="hide"}(e||(e={})),function(e){e.created="created",e.attached="attached",e.ready="ready",e.moved="moved",e.detached="detached"}(t||(t={}));var s={generateAlias:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"abcdefghijklmnopqrstuvwxyz0123456789",n="",r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n}};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n="devtools"===__qqConfig.platform;var u=1,l={},f=function e(t){c(this,e),this._queue=[],this._cbQueue=[],this._webviewId=getCurrentPages()[0].__wxWebviewId__,this.push=function(e){this._queue.push(e)},this.pushCb=function(e){this._cbQueue.push(e)},this.in=function(e){return this._webviewId!==getCurrentPages()[0].__wxWebviewId__&&console.log("SelectorQuery could not work in components in different pages."),this},this.select=function(e){return new d(this,t.componentId,e,!0)},this.selectAll=function(e){return new d(this,t.componentId,e,!1)},this.exec=function(e){!function(e,t){var n=u++;if(0===e.length)return;l[n]=t,__safeway__.bridge.publish("flutterCustomComponentRequestComponentInfo",{data:{reqId:n,reqs:{queue:e}}},[getCurrentPages()[0].__wxWebviewId__])}(this._queue,function(t){this._cbQueue.map(function(e,n){"function"==typeof e&&t[n]&&e(t[n])}),"function"==typeof e&&e(t),this._queue=[],this._cbQueue=[]}.bind(this))}};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}__safeway__.bridge.subscribe("flutterCustomComponentResponseComponentInfo",function(e){var t,r=(t=n&&e.data?e.data:e).componentId,o=t.data.reqId;if(r){var i=l&&l[o];"function"==typeof i&&(i(t.data.res),delete l[o])}});var d=function e(t,n,r,o){c(this,e),this._selectorQuery=t,this.boundingClientRect=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{id:!0,dataset:!0,rect:!0,size:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.context=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{context:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.fields=function(e,t){return this._selectorQuery.push({component:n,selector:r,single:o,fields:e}),this._selectorQuery.pushCb(t),this._selectorQuery},this.node=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{node:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery},this.scrollOffset=function(e){return this._selectorQuery.push({component:n,selector:r,single:o,fields:{scrollOffset:!0}}),this._selectorQuery.pushCb(e),this._selectorQuery}};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(){var e={},t=function e(t){c(this,e),this.properties=t.properties||{},this.data=t.data||{},this.methods=t.methods,this.behaviors=t.behaviors,this.created=t.created,this.attached=t.attached,this.ready=t.ready,this.moved=t.moved,this.detached=t.detached};__virtualDOM__.flutterCustomComponentBehavior=function(n){var r=new t(n),o=s.generateAlias(7);return e[o]=r,o}}();var p=function(){function e(t,n){var r=this;c(this,e),this.componentId="",this.componentAlias=t,this.properties=n.properties||{},this.data=n.data||{},this.methods=n.methods,this.behaviors=n.behaviors||[],this.pageLifetimes=n.pageLifetimes,this.lifetimes=n.lifetimes,Object.keys(this.properties).map(function(e){var t=r.properties[e].observer;r.properties[e]=t&&"function"==typeof t?{value:r._initPropertyValue(r.properties[e]),observer:t}:r._initPropertyValue(r.properties[e])}),a[t]=_extends({},this.properties),this.properties=_extends(this.properties,this.data),this.data=_extends(this.data,this.properties),_extends(this,this.methods),this._initBehaviors(this.behaviors)}return _createClass(e,[{key:"_initPropertyValue",value:function(e){return void 0!==e.value?e=e.value:e.type&&"function"==typeof e.type?e=e.type():"function"==typeof e&&(e=e()),e}},{key:"createObserver",value:function(){var e=this,t={},n=a[this.componentAlias];return Object.keys(n).map(function(r){var o=n[r].observer;if(o&&"function"==typeof o){var i=n[r].value;Object.defineProperty(t,r,{enumerable:!0,get:function(){return i},set:function(t){i=t,o.apply(e,[t])}})}else t[r]=n[r]}),t}},{key:"_initBehaviors",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.method&&(this.methods=_extends(this.methods,n.method))}}},{key:"setData",value:function(e,t){var n=this,r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__;function i(e,t){for(var n in t)e[n]=e[n]&&"[object Object]"===e[n].toString()?i(e[n],t[n]):e[n]=t[n];return e}Object.keys(e).map(function(t){if(t.indexOf(".")){var r=function e(t,n){var r=t.split("."),o={};return o[r[r.length-1]]=n,r.pop(),-1===t.indexOf(".")?o:e(r.join("."),o)}(t,e[t]);i(n.data,r),i(n.properties,r)}else _extends(n.data,e),_extends(n.properties,e)}),__safeway__.bridge.publish("flutterCustomComponentSetData",{data:{componentId:this.componentId,data:e}},[o])}},{key:"triggerEvent",value:function(e,t,n){var r=getCurrentPages(),o=r[r.length-1].__wxWebviewId__;__safeway__.bridge.publish("flutterCustomComponentTriggerEvent",{data:{componentId:this.componentId,data:{eventName:e,data:{detail:t,option:n}}}},[o])}},{key:"createSelectorQuery",value:function(){return new f(this)}}]),e}();function h(e,t){return t&&e in t&&"function"==typeof t[e]}__safeway__.bridge.subscribe("flutterCustomComponentRegister",function(e){var t=n&&e.data?e.data:e,a=t.componentId,s=t.componentPath;if(r[s]){o[a]=Object.create(r[s],{componentId:{value:a}});var c=o[a],u=c.createObserver.apply(c),l=new WeakMap;l.set(c,u),i[a]=l,Object.keys(u).map(function(e){o[a].data[e]=u[e],o[a].properties[e]=u[e]})}}),__safeway__.bridge.subscribe("flutterCustomComponentTriggerPageLifetimes",function(e){var t=n&&e.data?e.data:e,r=t.componentId,i=t.pageLifetimes,a=o[r];a&&h(i,a.pageLifetimes)&&a.pageLifetimes[i].apply(a)}),__safeway__.bridge.subscribe("flutterCustomComponentTriggerLifetimes",function(e){var t=n&&e.data?e.data:e,r=t.componentId,i=t.lifetimes,a=o[r];a&&h(i,a.lifetimes)&&a.lifetimes[i].apply(a),"detached"===i&&delete o[r]}),__safeway__.bridge.subscribe("flutterCustomComponentSyncPropertiesValue",function(e){var t=n&&e.data?e.data:e,r=t.componentId,a=t.properties,s=o[r];s&&(s.data=_extends(s.data,a),s.properties=_extends(s.data,a),Object.keys(s.properties).map(function(e){a[e]&&(i[r].get(s)[e]=a[e])}))}),__safeway__.bridge.subscribe("flutterCustomComponentTriggerEvent",function(e){var t,r=(t=n&&e.data?e.data:e).componentId,i=t.data,a=o[r];if(a&&a.methods){var s=a.methods[i.eventName];s&&"function"==typeof s?s.apply(a,[i.data]):console.warn('Component "'.concat(a.componentAlias,'" does not have a method "').concat(i.eventName,'" to handle event'))}}),__virtualDOM__.flutterCustomComponentHolder=function(e,t){var n=new p(e,t);return r["/".concat(e)]=n,String(e)}}();var __appServiceEngine__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==_typeof4(e)&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==_typeof4(Symbol.iterator)?function(e){return _typeof4(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof4(e)})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var i=Object.prototype.toString;function a(e,t){if("function"!=typeof t)throw new TypeError("customizer is must be a Function");if("function"==typeof e)return e;var n=i.call(e);if("[object Array]"===n)return[];if("[object Object]"===n&&e.constructor===Object)return{};if("[object Date]"===n)return new Date(e.getTime());if("[object RegExp]"===n){var r=String(e),o=r.lastIndexOf("/");return new RegExp(r.slice(1,o),r.slice(o+1))}var a=t(e);return void 0!==a?a:null}function s(e){var t=o(e);return null!==e&&"object"!==t&&"function"!==t?e:null}var c=Object.prototype.toString,u="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=o(e);if(null===e||"function"!==t&&"object"!==t)throw new TypeError("obj must be an Object");var n,r=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(n);return r},l="function"==typeof Symbol?function(e){return Object.getOwnPropertySymbols(e)}:function(){return[]};function f(e,t){if("[object Array]"!==c.call(e))throw new TypeError("array must be an Array");var n,r,o;for(n=0,r=e.length;n<r;++n)if((o=e[n])===t||o!=o&&t!=t)return n;return-1}function d(e){}var p=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:d;if(null===e)return null;var n=s(e);if(null!==n)return n;var r=a(e,t),i=null!==r?r:e;return function e(t,n,r,i,c){if(null===t)return null;var d=s(t);if(null!==d)return d;var p,h,g,v,_,y,b,m,w,S,C,E=u(t).concat(l(t));for(p=0,h=E.length;p<h;++p)m=b=y=void 0,-1===(_=f(i,v=t[g=E[p]]))?(S=n,b=null!==(y=null!==(C=s(w=v))?C:a(w,S))?y:v,null!==v&&/^(?:function|object)$/.test(o(v))&&(i.push(v),c.push(b))):m=c[_],r[g]=m||e(v,n,b,i,c);return r}(e,t,i,[e],[i])};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return(m=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&b(o,n.prototype),o}).apply(null,arguments)}function w(e){var t="function"==typeof Map?new Map:void 0;return(w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return m(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}var S=function(e,t){for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e},C=function(){},E=function(e){return Object.prototype.toString.call(e).split(" ")[1].split("]")[0]},I=(Object.prototype.hasOwnProperty,Object.prototype.toString),O=function(e){return"[object Object]"===I.call(e)},T=function(e,t){console.group(new Date+" "+e),console.error(t),console.groupEnd()},k=function(e,t){console.group(new Date+" "+e),console.warn(t),console.groupEnd()},A=function(e){__wxConfig&&__wxConfig.debug&&console.info(e)},x=function(e,t){if("[object Error]"===Object.prototype.toString.apply(e)){if("AppServiceEngineKnownError"===e.type)throw e;Reporter.errorReport({key:"jsEnginScriptError",error:e,extend:t})}},P=function(e,t){return function(){try{for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(e,r)}catch(n){return x(n,t),function(){}}}},D=function(e){function t(e){var n;return h(this,t),(n=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,y(t).call(this,"APP-SERVICE-Engine:"+e))).type="AppServiceEngineKnownError",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,w(Error)),t}();function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t[0];Reporter.__route__=this.__route__,Reporter.__method__=o,t=t.slice(1);try{var i=Date.now();r=this[o].apply(this,_(t));var a=Date.now()-i;1e3<a&&Reporter.slowReport({key:"pageInvoke",cost:a,extend:"at "+this.__route__+" page "+o+" function"})}catch(e){Reporter.thirdErrorReport({error:e,extend:"at "+this.__route__+" page "+o+" function"})}return r}var j,R=Object.assign,M=function(){return!!("undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&-1<window.navigator.userAgent.indexOf("appservice"))},B=function(e){if("string"!=typeof e)return e;var t=e.split("?")[0],n=e.split("?")[1];return t+=".html",void 0!==n?t+"?"+n:t},L={},F={},U={},W=null,q=null,V=null,$=["wxbb58374cdce267a6","wx7c8d593b2c3a7703","wx308bd2aeb83d3345","wx474a5c3c033d43e9","wx76222b2ffe0c7ac7","wx4ffb369b6881ee5e","wx95e493619d0ff929","wxc026e7662ec26a3a","wx3caefcd29ba9c238","wxa56e673470ebe32f","wxb935bc1925fb7b47","wx7a727ff7d940bb3f","wxe5f52902cf4de896","wxcff7381e631cf54e","wx643cf55c38f40bff","wx9fec8c5f7b92b271","wx6aa5a8ae54665311","wx24c20f732d06f2c6","wx00f4317c8d97236c","wxd7911e4c177690e4","wx06a561655ab8f5b2","wx71d589ea01ce3321","wxe1a3943228e59633","wx32540bd863b27570","wxd0f1350895e01d16","wxd8de4dc5277bdd80"],G=function(){function e(t,n){h(this,e),this.showOptions={},this.hideOptions={},this.route=t,this.pageType=n||0,this.deferred=[],this.showTimeStamp=null,this.pageReadyTime=null,this.showReferpagepath="",this.isentrance=0,this.isInitialLoading=!0}return v(e,[{key:"checkShowOptions",value:function(){var e=F,t=this.showOptions;t.scene=e.scene||0,t.scene_note=e.scene_note,t.sessionid=e.sessionid||e.sessionId,t.usedstate=e.usedstate,t.referpagepath=e.referpagepath,t.clickTimestamp=e.clickTimestamp,t.prescene=e.prescene,t.prescene_note=e.prescene_note,t.apptype=Reporter.getAppType(),t.publicLibVersion=e.publicLibVersion;var n=e.query,r=[];n&&"object"===o(n)&&Object.keys(n).forEach(function(e){r.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e]))}),t.query=r.join("&")}},{key:"checkHideOptions",value:function(){var e=U,t=this.hideOptions;t.targetAction=e.targetAction||0,t.targetPagePath=e.targetPagePath||"",void 0!==e.usedstate&&(t.usedstate=e.usedstate),void 0!==e.usedState&&(t.usedstate=e.usedState)}},{key:"_checkDeferred",value:function(){for(var e=this.deferred;e.length;)e.pop()()}},{key:"_reportShowPage",value:function(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0);var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportWithWxData(e)}},{key:"_reportHidePage",value:function(e){this.pageReadyTime?e.costtime=this.pageReadyTime-e.clickTimestamp:e.costtime=0,e.costtime<0&&(e.costtime=0);var t=[e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,e.anchorTargetText,0,e.clickTimestamp,e.anchorRelatedText].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"Display",value:t,force:!0}),this._submit(),this._reportWithWxData(e)}},{key:"_submit",value:function(){Reporter.submit(),setTimeout(function(){Reporter.submit()},100)}},{key:"_reportWithWxData",value:function(e){var t="",n=2;if(__wxConfig){var r=__wxConfig.accountInfo,o=__wxConfig.envVersion;r&&(t=r.appId||""),"release"===o?n=1:"trial"===o&&(n=3)}if(!($.indexOf(t)<0)){var i=[16309,j.model||"",j.brand||"",j.platform||"",j.system||"",j.language||"",t,"",n,e.event_id,e.scene,e.scene_note,e.sessionid,e.usedstate,e.pagepath,e.networktype,e.costtime,e.staytime,e.referpagepath,e.targetAction,e.targetPagePath,e.clickTimestamp,e.publicLibVersion,e.prescene,e.prescene_note,e.isentrance,e.query,e.apptype,e.pagetype,"",0,e.clickTimestamp,""].map(encodeURIComponent).join(":#:");try{__appServiceSDK__.reportPv({kv:i})}catch(e){}}}},{key:"setReadyTime",value:function(e){this.pageReadyTime=e,this._checkDeferred()}},{key:"reportShowPage",value:function(){var t=this;this._checkDeferred(),this.checkShowOptions();var n=this.route,r=this.pageType,o=this.showOptions,i=o.referpagepath||"",a=o.clickTimestamp,s=0;q&&q!==n&&(i=q+".html",a=Date.now());var c=W;W=null;var u={anchorTargetText:"",anchorRelatedText:""};this.isInitialLoading&&c&&c.anchorTapTime&&a-c.anchorTapTime<1e3&&(u.anchorTargetText=c.anchorTargetText,u.anchorRelatedText=c.anchorRelatedText),q=n,this.showTimeStamp=Date.now(),this.showReferpagepath=i,V!==o.sessionid&&(V=o.sessionid,s=1),this.isInitialLoading=!1,this.isentrance=s,e._getNetworkType(function(e){var c=_extends({},o,u,{event_id:1,pagepath:n+".html",networktype:e,staytime:0,referpagepath:i,targetAction:0,targetPagePath:"",isentrance:s,pagetype:r,clickTimestamp:a});t.pageReadyTime?t._reportShowPage(c):t.deferred.push(function(){t._reportShowPage(c)})})}},{key:"reportHidePage",value:function(t,n){var r=this;this._checkDeferred(),this.checkShowOptions(),this.checkHideOptions();var o=this.route,i=this.pageType,a=this.showOptions,s=this.hideOptions,c=this.showReferpagepath||"",u=this.showTimeStamp?Date.now()-this.showTimeStamp:0,l=void 0!==s.usedstate?s.usedstate:a.usedstate,f=s.targetAction,d=s.targetPagePath;t&&(f=n?1:2,d=t+".html"),this.showTimeStamp=null,e._getNetworkType(function(e){var t=_extends({},a,{event_id:2,pagepath:o+".html",usedstate:l,networktype:e,staytime:u,referpagepath:c,targetAction:f,targetPagePath:d,isentrance:r.isentrance||0,pagetype:i,anchorTargetText:"",anchorRelatedText:""});r._reportHidePage(t)})}}],[{key:"setOnLaunch",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};F=_extends(F,t),j=__appServiceSDK__.getSystemInfoSync(),F.publicLibVersion=j.SDKVersion,e._assignForClientOnShow(F,t)}},{key:"setOnAppShow",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};F=_extends(F,t),e._assignForClientOnShow(F,t)}},{key:"setOnAppHide",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};U=_extends(U,e)}},{key:"setEventRelatedInfo",value:function(e){W=e}},{key:"_assignForClientOnShow",value:function(e,t){e.scene_note=t.scene_note||t.sceneNote||"",e.referpagepath=t.referpagepath||"",e.usedstate=t.usedstate||t.usedState,e.prescene=t.prescene,e.prescene_note=t.prescene_note||t.presceneNote||"",e.clickTimestamp=Date.now()}},{key:"_getNetworkType",value:function(e){__appServiceSDK__.getNetworkType({success:function(t){var n=t.networkType;"none"===n&&(n="offline"),e(n)},fail:function(){e("")}})}}]),e}(),H={};__appServiceSDK__.subscribeCheckWebviewAliveOk(function(e,t){1===H[t]&&(H[t]=2)});var z=function(e){Reporter.reportIDKey({key:"pageOnShow"}),H[e]=1;var t=0;!function n(){1===H[e]&&(__appServiceSDK__.publishCheckWebviewAlive({},[e]),++t<3?setTimeout(n,500):setTimeout(function(){1===H[e]&&Reporter.reportIDKey({key:"clientRestoreWebview_fail"})},2e3))}()},K=function(e){delete H[e]},Y={use:{}},J=function(e){try{((t=e).options||{}).addGlobalClass&&(Y.use[1]=1),t.pageLifetimes&&(Y.use[2]=1),t.lifetimes&&(Y.use[3]=1),t.definitionFilter&&(Y.use[4]=1),t.behaviors&&t.behaviors.forEach(function(e){"wx://component-export"===e&&(Y.use[5]=1)})}catch(e){}var t},Q=!0;__appServiceSDK__.onAppShow(function(e){if(Q){Q=!1,G.setOnLaunch(__appServiceSDK__.getLaunchOptionsSync());try{!function(e){var t=exparser.Component._list,n=e.pages||[],r=e.page||{},o=n.length,i=0,a=0,s=0,c=0,u=9999,l=0;Object.keys(exparser.Component._list).forEach(function(e){e&&"wx://functional-page"!==e&&!r[e+".html"]&&(a++,/(^|\/)miniprogram_npm\//g.test(e)&&s++)}),n.forEach(function(e){if(((r[e+".html"]||{}).window||{}).usingComponents){i++;var n=t[e];if(!n)return;var o=n.behavior,a=o.using||{},s=o.generics||{},f=Object.keys(a).length+Object.keys(s).length;c<f&&(c=f),f<u&&(u=f),l+=f}});var f=[o,i,a,s,c,u=9999===u?0:u,l=i?l/i:0,JSON.stringify(Y)].map(encodeURIComponent).join(",");Reporter.reportKeyValue({key:"CustomComponent",value:f,force:!0}),Reporter.submit()}(__wxConfig)}catch(e){}}else G.setOnAppShow(e)}),__appServiceSDK__.onAppHide(function(e){G.setOnAppHide(e)});var X=function(e){if("String"!==E(e))throw T("数据路径错误","Path must be a string"),new D("Path must be a string");for(var t=e.length,n=[],r="",o=0,i=!1,a=!1,s=0;s<t;s++){var c=e[s];if("\\"===c)s+1<t&&("."===e[s+1]||"["===e[s+1]||"]"===e[s+1])?(r+=e[s+1],s++):r+="\\";else if("."===c)r&&(n.push(r),r="");else if("["===c){if(r&&(n.push(r),r=""),0===n.length)throw T("数据路径错误","Path can not start with []: "+e),new D("Path can not start with []: "+e);i=!(a=!0)}else if("]"===c){if(!i)throw T("数据路径错误","Must have number in []: "+e),new D("Must have number in []: "+e);a=!1,n.push(o),o=0}else if(a){if(c<"0"||"9"<c)throw T("数据路径错误","Only number 0-9 could inside []: "+e),new D("Only number 0-9 could inside []: "+e);i=!0,o=10*o+c.charCodeAt(0)-48}else r+=c}if(r&&n.push(r),0===n.length)throw T("数据路径错误","Path can not be empty"),new D("Path can not be empty");return n},Z=function(e,t){for(var n,r={},o=e,i=0;i<t.length;i++)Number(t[i])===t[i]&&t[i]%1==0?Array.isArray(o)||(r[n]=[],o=r[n]):O(o)||(r[n]={},o=r[n]),n=t[i],o=(r=o)[t[i]];return{obj:r,key:n}},ee=function(e,t){for(var n,r,o=X(t),i=e,a=0;a<o.length;a++)Number(o[a])===o[a]&&o[a]%1==0?Array.isArray(i)||(i=[]):O(i)||(i={}),r=o[a],i=(n=i)[o[a]];return{obj:n,key:r}},te=function(){function e(){h(this,e)}return v(e,null,[{key:"emit",value:function(e,t,n){__appServiceSDK__.invokeWebviewMethod("appDataChange",e,[t],n)}}]),e}(),ne=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload","onResize"],re=["__wxWebviewId__","__route__"],oe=["route"],ie=__appServiceSDK__.getLogManager(),ae=function(){function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=1<arguments.length?arguments[1]:void 0,o=2<arguments.length?arguments[2]:void 0;h(this,e);var i={__wxWebviewId__:r,__route__:o};re.forEach(function(e){Object.defineProperty(t,e,{set:function(){k("关键字保护","should not change the protected attribute "+e)},get:function(){return i[e]}})}),n.data=n.data||{},O(n.data)||T("Page data error","Page.data must be an object");var a=JSON.stringify(n.data);this.data=JSON.parse(a),this.__viewData__=JSON.parse(a),this.__displayReporter=new G(o,1),this.__callPageLifeTime__=function(e){var t,n=(this[e]||C).bind(this);if(Reporter.__route__=this.__route__,"onShow"===(Reporter.__method__=e))this.__displayReporter.reportShowPage(),z(r);else if("onReady"===e)this.__displayReporter.setReadyTime(Date.now());else if("onHide"===e||"onUnload"===e){var o=this.__toRoute__,i=this.__isBack__,a=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,a||this.__displayReporter.reportHidePage(o,i),K(r)}A(this.__route__+": "+e+" have been invoked");try{for(var s=Date.now(),c=arguments.length,u=new Array(1<c?c-1:0),l=1;l<c;l++)u[l-1]=arguments[l];t=n.apply(this,u);var f=Date.now()-s;1e3<f&&Reporter.slowReport({key:"pageInvoke",cost:f,extend:"at "+this.__route__+" page lifeCycleMethod "+e+" function"}),ie&&ie.logApiInvoke&&ie.log("page "+this.__route__+" "+e+" have been invoked")}catch(t){Reporter.thirdErrorReport({error:t,extend:"at "+this.__route__+" page lifeCycleMethod "+e+" function"})}return t},ne.forEach(function(e){t[e]=function(){for(var t=(n[e]||C).bind(this),r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t.apply(this,o)}.bind(t)});var s=function(e){var r;r=e,-1!==re.indexOf(r)?k("关键字保护","Page's "+e+" is write-protected"):function(e){for(var t=0;t<ne.length;++t)if(ne[t]===e)return!0;return"data"===e}(e)||("Function"===E(n[e])?t[e]=function(){var t;Reporter.__route__=this.__route__,Reporter.__method__=e;try{for(var r=Date.now(),o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];t=n[e].apply(this,i);var s=Date.now()-r;1e3<s&&Reporter.slowReport({key:"pageInvoke",cost:s,extend:"at "+this.__route__+" page "+e+" function"})}catch(t){Reporter.thirdErrorReport({error:t,extend:"at "+this.__route__+" page "+e+" function"})}return t}.bind(t):t[e]=p(n[e]))};for(var c in n)s(c);var u={route:o};oe.forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)||(t[e]=u[e])}),"function"==typeof n.onShareAppMessage&&__appServiceSDK__.showShareMenu()}return v(e,[{key:"setData",value:function(e,t){var n=this;try{var r=E(e);if("Object"!==r)return void T("类型错误","setData accepts an Object rather than some "+r);Object.keys(e).forEach(function(t){void 0===e[t]&&T("Page setData warning",'Setting data field "'+t+'" to undefined is invalid.');var r=X(t),o=Z(n.data,r),i=o.obj,a=o.key;if(i&&(i[a]=p(e[t])),void 0!==e[t]){var s=Z(n.__viewData__,r),c=s.obj,u=s.key;c&&(c[u]=p(e[t]))}}),te.emit({data:e},this.__wxWebviewId__,t),__qqConfig.useFlutter&&__safeway__.bridge.publish("flutterSetData",e,[this.__wxWebviewId__])}catch(e){x(e)}}},{key:"pageScrollTo",value:function(e){__appServiceSDK__.publishPageScrollTo(e,[this.__wxWebviewId__])}}]),e}(),se=(ne=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload","onResize"],function(){function e(){h(this,e)}return v(e,null,[{key:"create",value:function(e,t){var n=__virtualDOM__.addView(e,t),r=exparser.Element.getMethodCaller(n);if(r.__wxWebviewId__=e,r.__route__=t,r.route=t,r.__displayReporter=new G(t,2),n.__customConstructor__===__virtualDOM__.Page){var o=n.getRootBehavior().methods,i=r.__freeData__;for(var a in o)r[a]=o[a].bind(r);for(var s in i)r[s]=p(i[s])}return r.__callPageLifeTime__=function(t){var o,i=this[t]||C;if(Reporter.__route__=this.__route__,"onShow"===(Reporter.__method__=t))r.__displayReporter.reportShowPage(),z(e);else if("onReady"===t)r.__displayReporter.setReadyTime(Date.now());else if("onHide"===t||"onUnload"===t){var a=this.__toRoute__,s=this.__isBack__,c=this.__notReportHide__;delete this.__toRoute__,delete this.__isBack__,delete this.__notReportHide__,c||r.__displayReporter.reportHidePage(a,s),K(e)}for(var u=arguments.length,l=new Array(1<u?u-1:0),f=1;f<u;f++)l[f-1]=arguments[f];"onShow"===t?n.triggerPageLifeTime("show",l):"onHide"===t?n.triggerPageLifeTime("hide",l):"onResize"===t&&n.triggerPageLifeTime("resize",l),A(this.__route__+": "+t+" have been invoked");try{var d=Date.now();o=i.apply(this,l);var p=Date.now()-d;1e3<p&&Reporter.slowReport({key:"pageInvoke",cost:p,extend:'at "'+this.__route__+'" page lifeCycleMethod '+t+" function"})}catch(o){Reporter.thirdErrorReport({error:o,extend:'at "'+this.__route__+'" page lifeCycleMethod '+t+" function"})}return o},ne.forEach(function(e){var t=r[e];r[e]=function(){for(var e=t||C,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.apply(this,r)}.bind(r)}),"function"==typeof r.onShareAppMessage&&__appServiceSDK__.showShareMenu(),{page:r,node:n}}},{key:"destroy",value:function(e){__virtualDOM__.removeView(e.__wxWebviewId__)}}]),e}()),ce=!1;function ue(e){var t=__appServiceSDK__.isIsolatedSubpackage(e);!ce&&t?he():ce&&!t&&pe(),ce=t}var le=[],fe=!0,de={};function pe(e){e=e||de,le.forEach(function(t){t.preventOnShow||t.app.onShow(e),t.preventOnShow=!1}),de=e}function he(){le.forEach(function(e){e.app.onHide()})}__appServiceSDK__.onAppUnhang(function(){!1}),__appServiceSDK__.onAppShow(function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t.isLaunch&&qe("launch"),st(t.path),e=t.path,(ce=__appServiceSDK__.isIsolatedSubpackage(e))||pe(t.__public||t),qe("foreground"),fe||t.reLaunch)fe=!1;else{var n=dt("");n.length&&(n[n.length-1].__callPageLifeTime__("onShow"),qe("enterPage",n[n.length-1],!0))}}),__appServiceSDK__.onAppHide(function(){"hang"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).mode&&!0;var e=dt("");e.length&&(e[e.length-1].__callPageLifeTime__("onHide"),qe("leavePage",e[e.length-1],!0)),ce||he(),qe("background")});var ge,ve,_e,ye=["onLaunch","onShow","onHide","onUnlaunch","onPageNotFound"],be=__appServiceSDK__.getLogManager(),me=function e(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};h(this,e),ye.forEach(function(e){t[e]=function(){var t=n[e]||C;Reporter.__route__="App",Reporter.__method__=e,A("App: "+e+" have been invoked");try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.apply(this,o),be&&be.logApiInvoke&&be.log("App "+e+" have been invoked")}catch(t){Reporter.thirdErrorReport({error:t,extend:"at App lifeCycleMethod "+e+" function"})}}.bind(t)});var r,o,i=function(e){"getCurrentPage"===e?k("关键字保护","App's "+e+" is write-protected"):function(e){for(var t=0;t<ye.length;++t)if(ye[t]===e)return!0;return!1}(e)||("function"==typeof n[e]?t[e]=function(){var t;Reporter.__route__="App",Reporter.__method__=e;try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t=n[e].apply(this,o)}catch(t){Reporter.thirdErrorReport({error:t,extend:"at App "+e+" function"})}return t}.bind(t):t[e]=n[e])};for(var a in n)i(a);"function"==typeof this.onError&&__appServiceSDK__.onError(this.onError),"function"==typeof this.onPageNotFound&&__appServiceSDK__.onPageNotFound(this.onPageNotFound),r=this,o=__appServiceSDK__.getLaunchOptionsSync(),r.onLaunch(o.__public),r.onShow(o.__public),le.push({app:r,preventOnShow:!0})},we={},Se=P(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_extends(e,we),we={},ge=new me(e)},"create app instance"),Ce=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).allowDefault?ge||we:ge},Ee=function(){return ve},Ie=function(e){ve=e};__appServiceSDK__.onAppShow(function(e){if(ve=e.referrerInfo&&e.referrerInfo.privateExtraData){var t=ht();ve.functionalPage&&t&&__appServiceSDK__.publishFunctionalPage(ve.functionalPage,[t])}e.referrerInfo&&e.referrerInfo.openapiInvokeData&&(_e=e.referrerInfo.openapiInvokeData)});var Oe={},Te={},ke=[],Ae=!1,xe=[],Pe=!1,De=!1,Ne=0,je=0,Re=0,Me=0,Be=0,Le=0,Fe=null,Ue=null,We=function(e,t){if("start"!==e.action&&"start_and_report"!==e.action||(Te[e.eventID]={eventID:e.eventID,data:{},extra:e.extra}),Te[e.eventID]){var n,r,o,i=t||ft()&&ft().page;(function(e,t){Object.keys(e.data||{}).forEach(function(n){var r,o,i=e.data[n],a=t&&t.data||{},s=!1;if("$"!==i.charAt(0)||void 0===(r=function(e){var t=0;switch(i.substr(1)){case"PAGE_TIME":return 0<=(t=Re?Date.now()-Re-Me:0)?t:null;case"APP_TIME":return 0<=(t=Ne?Date.now()-Ne-je:0)?t:null;case"CURRENT_PAGE":return Ue||null;case"LAST_PAGE":return Fe||null;default:return}}()))if(0!==i.indexOf("$APP")){if(t&&(e.page===t.__route__||"ANY_PAGE"===e.page)){if(0===i.indexOf("$DATASET")){var c=i.replace("$DATASET.","");o=e.dataset||{},(r=Z(o,X(c))).obj&&void 0!==r.obj[r.key]&&(Te[e.eventID].data[n]=r.obj[r.key],s=!0)}if(0===i.indexOf("$COMP")&&"number"==typeof e.nodeId){var u=__virtualDOM__.getNodeById(e.nodeId,e.webviewId);if(!u)return void console.warn('[自定义分析] 找不到自定义组件里的 "'+e.element+'" 节点');var l=exparser.Element.getMethodCaller(u);l&&(i=i.replace("$COMP.",""),a=l.data)}if(-1<i.indexOf("[]")){if((e.index||[]).forEach(function(e){i=i.replace("[]","["+e+"]")}),-1<i.indexOf("[-1]")||-1<i.indexOf("[]"))return void console.warn("[自定义分析] 取不到下标，请检查配置（"+i+"）");var f=i.match(/\[(\d+)\]\.\$INDEX$/);f&&(Te[e.eventID].data[n]=Number(f[1]),s=!0)}if(void 0===(r=ee(a,i)).obj||void 0===r.key||void 0===r.obj[r.key])return void(s||console.warn("[自定义分析] 取不到该字段，请检查配置（"+i+"）"));Te[e.eventID].data[n]=r.obj[r.key]}}else!function(e,t){var n=e.data[t],r=Ce()||{},o=n.replace("$APP.",""),i=ee(r,o);if(i.obj&&void 0!==i.obj[i.key]){var a=i.obj[i.key];"number"!=typeof a&&"string"!=typeof a&&"boolean"!=typeof a||(Te[e.eventID].data[t]=a)}}(e,n);else null!==r&&(Te[e.eventID].data[n]=r)})})(e,i),"report"!==e.action&&"start_and_report"!==e.action||(n=e.eventID,r=i&&i.__route__,o=[],Object.keys(Te[n].data).forEach(function(e){o.push({id:e,value:Te[n].data[e]})}),Te[n].data=o,Te[n].page=r,Te[n].version=(void 0!==__libVersionInfo__?__libVersionInfo__.version:0)||0,Te[n].uid=Date.now().toString(16)+Math.random().toString(16).substr(2),Te[n].type=0,M()||(console.info("[自定义分析] 上报成功"),console.info(Te[n])),__appServiceSDK__.reportRealtimeAction({actionData:JSON.stringify(Te[n])}),Te[n]=null)}},qe=function(e,t,n){if("pageReady"===e&&t)!function(e){if(e){var t=e.__route__,n=Oe.click,r=[];n&&(n.forEach(function(e){e.page!==t&&"ANY_PAGE"!==e.page||!e.element||r.push({eventID:e.eventID,page:e.page,element:e.element,action:e.action})}),0!==r.length&&__appServiceSDK__.publishAnalyticsConfig(r,[e.__wxWebviewId__]))}}(t);else if(De)ke.push(e);else{if("launch"===e&&!Pe)return Ne=Date.now(),De=Pe=!0,ke.push(e),void __appServiceSDK__.getAppConfig({type:1,complete:P(function(e){De=!1,e.data&&(console.info("[自定义分析] 配置拉取成功"),Ve(e))})});if(Ae){n||("enterPage"===e?(Re=Date.now(),Me=0,Ue=t&&t.__route__):"leavePage"===e?Fe=t&&t.__route__:"background"===e?Be=Date.now():"foreground"===e&&(Le=Date.now(),Be&&Be<Le&&(Me+=Le-Be,je+=Le-Be)));var r=Oe[e];if(r){var o=["enterPage","leavePage","pageLoad","pageUnload","pullDownRefresh","switchTab"];r.forEach(function(n){n&&(-1<o.indexOf(e)?(t&&n.page===(t&&t.__route__)||"ANY_PAGE"===n.page)&&We(n,t):We(n))})}}else xe.push([e,t,n])}},Ve=function(e,t){var n={};try{n=JSON.parse(e.data)}catch(e){n={}}var r,o,i=ft();r=n,o={},"[object Array]"!==Object.prototype.toString.call(r)||r.forEach(function(e){var t=e.eventTarget;"[object Object]"===Object.prototype.toString.call(t)&&(t=[t]),t.forEach(function(t){var n=t.trigger||"click";o[n]||(o[n]=[]),("click"!==n||/^([.#][a-zA-Z_][^.#]* ?)+$/.test(t.element&&t.element.trim()))&&o[n].push({eventID:e.eventID,page:t.page,element:t.element&&t.element.trim(),data:t.data,action:t.action,extra:e.extra})})}),Oe=o,Te={},t||ke.forEach(function(e){qe(e,i&&i.page,!0)}),qe("pageReady",i&&i.page)};__appServiceSDK__.subscribeAnalyticsReport(function(e,t){var n,r,o=e,i=Oe.click;if(i&&("start"===o.action||"start_and_report"===o.action||Te[o.eventID])){for(var a=dt(""),s=0;s<a.length;s++){var c=a[s];if(c.__wxWebviewId__===t){r=c;break}}if(r){for(var u=0;u<i.length;u++){var l=i[u];if(o.eventID===l.eventID&&(o.page===l.page||"ANY_PAGE"===l.page)&&o.element===l.element){l.dataset=o.dataset||{},n=S({},l);break}}n&&(n.index=o.index,n.nodeId=o.nodeId,n.webviewId=t,We(n,r))}}}),__appServiceSDK__.onAppConfig(P(function(e){console.info("[自定义分析] 收到最新配置"),1===Number(e.type)&&Ve(e,!0)})),__appServiceSDK__.onAppRouteDone(function(){Ae=!0,xe.forEach(function(e){qe.apply(void 0,_(e))})});var $e=Object.prototype.hasOwnProperty,Ge=Date.now(),He=__appServiceSDK__.ShareInfoStorage,ze=__appServiceSDK__._getRealRoute,Ke=__appServiceSDK__._triggerBeforeUnloadPage,Ye=__appServiceSDK__._triggerBeforeShareAppMessage;delete __appServiceSDK__.ShareInfoStorage;var Je,Qe,Xe=__virtualDOM__.convertComponentAliasToRoute,Ze=__virtualDOM__.convertRouteToComponentAlias,et={},tt={},nt={},rt=[],ot=[],it="",at=function(){return it},st=function(e){it=e},ct=function(e,t,n){__appServiceSDK__.setWxInterfaceIsInvokeInTap(n.type);var r=N.call(e,t,n);return __appServiceSDK__.unsetWxInterfaceIsInvokeInTap(),r};__appServiceSDK__.appServiceEnd=function(){if(0!=__qqConfig.useFlutter){for(var e=Object.keys(tt),t={},n=e.length-1;n>=0;n--){var r=e[n];t[r]={},void 0!==tt[r].data?t[r].data=tt[r].data:void 0!==tt[r].behavior&&void 0!==tt[r].behavior.data&&(t[r].data=tt[r].behavior.data)}__safeway__.bridge.invoke("flutter_launch",t)}},__wxConfig.onReady(function(){var e=__wxConfig.page||{},t=__wxConfig.global?__wxConfig.global.window:{};Object.keys(e).forEach(function(n){e[n].window=_extends({},t,e[n].window)}),__wxConfig.tabBar&&__wxConfig.tabBar.list&&"object"===o(__wxConfig.tabBar.list)&&"function"==typeof __wxConfig.tabBar.list.forEach&&__wxConfig.tabBar.list.forEach(function(e){ot.push(e.pagePath)}),__wxConfig.appLaunchInfo&&"string"==typeof __wxConfig.appLaunchInfo.path&&st(__wxConfig.appLaunchInfo.path),Qe=(__wxConfig.appLaunchInfo||{}).scene||0});var ut={appLaunchTime:0,appFgTime:0,appRouteTime:0,newPageTime:0,pageReadyTime:0},lt=function(e,t,n){Reporter.speedReport({key:e,timeMark:{startTime:t,endTime:n}})},ft=function(){return Je},dt=function(e){var t=[];return rt.forEach(function(n){e&&function(e){if(/^__wx__\//.test(e=e||""))return"//";var t=e.match(/(?:^|\/)__plugin__\/(.*?)\//);return t?t[1]:"/"}(n.route)!==e?t.push(null):t.push(n.page)}),t},pt=function(){return dt("/")},ht=function(){if(0!==rt.length)return rt[rt.length-1].webviewId},gt=function(e,t){return e.__wxExparserNodeId__&&$e.call(Object.getPrototypeOf(e),t)||$e.call(e,t)},vt=function(e){return!!/(?:^|\/)__(wx|plugin)__\//.test(e)||!!("undefined"!=typeof __wxAppCode__&&__wxAppCode__[e+".json"]||{}).usingComponents},_t=function(e){return!!function(e){for(var t=0;t<__wxConfig.pages.length;t++)if(__wxConfig.pages[t]===e)return!0;return!1}(e)||void 0!==nt[e]},yt=function(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=!1;(o.__wxRouteBegin||__wxRouteBegin)&&(i=!0),o.__wxRouteBegin?o.__wxRouteBegin=!1:__wxRouteBegin=!1;var a=__virtualDOM__.Component(e,t,n,r),s=Xe(a);return a&&(tt[s]=exparser.Component._list[a]),nt[s]=i,String(a)},bt=function(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},i=o.__wxRoute||__wxRoute;if(!o.__wxRouteBegin&&!__wxRouteBegin){if(!i)throw T("Page 注册错误",'Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json'),new D('Please do not call Page constructor in files that not listed in "pages" section of app.json or plugin.json');throw T("Page 注册错误","Please do not register multiple Pages in "+i+".js"),new D("Please do not register multiple Pages in "+i+".js")}o.__wxRouteBegin?o.__wxRouteBegin=!1:__wxRouteBegin=!1;var a=Ze(i),s=Xe(a);if("Object"!==E(e))throw T("Page 注册错误","Options is not object: "+JSON.stringify(e)+" in "+i+".js"),new D("Options is not object: "+JSON.stringify(e)+" in "+i+".js");if(A("Register Page: "+a),vt(s)){var c=__virtualDOM__.Page(e,t,n,r);tt[s]=exparser.Component._list[c]}else tt[s]=e;nt[s]=!0},mt={isInit:!1};__appServiceSDK__.subscribeSubjectInfo(function(e){mt.isInit=e.isInit});var wt=P(function(e,t,n,r,o){A("Update view with init data");var i=e.page,a={};a.wechatLibVersion=(void 0!==__libVersionInfo__?__libVersionInfo__.version:"")||"",a.webviewId=t,a.enablePullUpRefresh=gt(i,"onReachBottom"),a.enablePageScroll=gt(i,"onPageScroll"),a.onReachBottomDistance=function(e){try{if("number"==typeof __wxConfig.page[e+".html"].window.onReachBottomDistance)return __wxConfig.page[e+".html"].window.onReachBottomDistance}catch(e){return 50}return 50}(i.__route__),a.statesData=o,a.scene=Qe,a.route=i.__route__,a.query=i.options,a.lastRoute=e.lastRoute,a.lastQuery=e.lastQuery,a.wxConfig={accountInfo:__wxConfig&&__wxConfig.accountInfo||{},appContactInfo:__wxConfig&&__wxConfig.appContactInfo||{},appLaunchInfo:__wxConfig&&__wxConfig.appLaunchInfo||{}},a.windowConfig=__wxConfig&&__wxConfig.page&&__wxConfig.page[i.__route__+".html"]&&__wxConfig.page[i.__route__+".html"].window||{},a.debug=__wxConfig&&__wxConfig.debug,a.appId=__wxConfig&&__wxConfig.accountInfo&&__wxConfig.accountInfo.appId,a.appLaunchTime=ut.appLaunchTime,a.appFgTime=ut.appFgTime,a.isTabBarPage=e.isTabBarPage,a.isMainTabBarPage=e.isMainTabBarPage,a.navigationStyle=__wxConfig&&__wxConfig.global&&__wxConfig.global.window&&__wxConfig.global.window.navigationStyle,a.packageType=function(e){if(__wxConfig&&__wxConfig.subPackages&&__wxConfig.subPackages.length){for(var t=0;t<__wxConfig.subPackages.length;t++){var n=__wxConfig.subPackages[t];if(0===e.indexOf(n.root))return n.independent?"independent":"normal"}return"main"}return"none"}(i.__route__),a.needGetSubjectInfo=!mt.isInit,a.subPackages=__wxConfig.subPackages;var s={data:n?void 0:i.__viewData__,ext:a,options:{firstRender:!0,usingCustomComponents:n,timestamp:r,path:i.__route__}};if(o){var c=JSON.stringify(s),u=c.length;if(349184<u){for(var l=[],f=0;f<u;)l.push(c.substr(f,349184)),f+=349184;for(var d=++Ge,p=0,h=l.length;p<h;p++)te.emit({isSplitData:!0,splitInfo:{id:d,index:p+1,total:h,data:l[p]}},t);return void qe("pageReady",i)}}te.emit(s,t),qe("pageReady",i)}),St=function(e){return-1!==ot.indexOf(e.route)||-1!==ot.indexOf(e.route+".html")},Ct=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o=null;$e.call(tt,e)?o=tt[e]:k("Page route 错误","Page["+e+"] not found. May be caused by: 1. Forgot to add page route in app.json. 2. Invoking Page() in async task.");var i=vt(e),a=null;if(ut.newPageTime=Date.now(),st(e),i){if(!o)return void T("Page route 错误","Page is not constructed because it is not found.");a=se.create(t,e)}var s=i?a.page:new ae(o||{},t,e),c=p(n);if((Je={page:s,webviewId:t,route:e,lastRoute:Je?Je.route:"",lastQuery:Je?Je.page.options:{},node:i?a.node:void 0}).isTabBarPage=St(Je),Je.isMainTabBarPage=r.isMainTabBarPage||!1,rt.push(Je),i){var u=a.node,l={},f=!1;if(Object.keys(c).forEach(function(e){exparser.Component.hasProperty(u,e)&&(l[e]=decodeURIComponent(c[e]),f=!0)}),f&&u.setData(l),__virtualDOM__.attachView(t),/^__wx__\//.test(e)){var d={};if(/^__wx__\/open-api-redirecting-page/.test(e))d=_e||{};else if(/^__wx__\/functional-page/.test(e)){var h=Ee();h&&h.functionalPage&&(d=_extends({},h.functionalPage,{accountInfo:__wxConfig.accountInfo}))}s.setData(d)}}s.options=c,wt(Je,t,i,ut.newPageTime,void 0),M()&&(__wxAppData[e]=s.data,__wxAppData[e].__webviewId__=t,__appServiceSDK__.publishUpdateAppData()),s.__callPageLifeTime__("onLoad",n),s.__callPageLifeTime__("onShow"),et[t]={page:s,route:e,statesData:null},qe("pageLoad",s),qe("enterPage",s),lt("appRoute2newPage",ut.appRouteTime,ut.newPageTime)},Et=function(e,t){e.page.__toRoute__=t,e.page.__callPageLifeTime__("onHide"),qe("leavePage",e.page)},It=function(e,t,n,r){Ke(e.webviewId),e.page.__toRoute__=t,e.page.__isBack__=n,e.page.__notReportHide__=r,e.page.__callPageLifeTime__("onUnload"),e.node&&se.destroy(e.page),M()&&(delete __wxAppData[e.route],__appServiceSDK__.publishUpdateAppData()),delete et[e.webviewId],(rt=rt.slice(0,rt.length-1)).length?st(rt[rt.length-1].route):st(""),qe("pageUnload",e.page),qe("leavePage",e.page)},Ot=function(e,t,n,r){var o,i,a,s,c,u,l,f,d;A("On app route: "+e),ut.appRouteTime=Date.now(),"navigateTo"===r?(s=e,c=t,u=n,Je&&Et(Je,s),ue(s),$e.call(et,c)?T("Page route 错误(system error)","navigateTo with an already exist webviewId "+c):Ct(s,c,u)):"redirectTo"===r?(o=e,i=t,a=n,Je&&It(Je,o),ue(o),$e.call(et,i)?T("Page route 错误(system error)","redirectTo with an already exist webviewId "+i):Ct(o,i,a)):"navigateBack"===r?function(e){for(var t=!1,n=et[e]&&et[e].route,r=rt.length-1;0<=r;r--){var o=rt[r];if(o.webviewId===e){t=!0,Je=o;break}It(o,n,!0)}if(ue(n),t){Je.page.__callPageLifeTime__("onShow"),qe("enterPage",Je.page);var i=Ee();Ie({}),i&&i.functionalPage&&e&&__appServiceSDK__.publishFunctionalPage(i.functionalPage,[e])}else T("Page route 错误(system error)","navigateBack with an unexist webviewId "+e)}(t):"switchTab"===r?function(e,t,n){var r=!0,o=!0;if(0!==rt.length){for(;1<rt.length;)It(rt[rt.length-1],e),r=!1;if(rt[0].webviewId===t)Je=rt[0],r||Je.page.__callPageLifeTime__("onShow");else if(St(rt[0])?(o=!1,r&&Et(rt[0],e)):It(rt[0],e),$e.call(et,t)){var i=et[t].page;rt=[Je={webviewId:t,route:e,page:i}],i.__callPageLifeTime__("onShow"),qe("enterPage",i),qe("switchTab",i)}else rt=[],Ct(e,t,n,{isMainTabBarPage:o})}else Ct(e,t,n)}(e,t,n):"appLaunch"===r?(l=e,f=t,d=n,ut.appLaunchTime=Date.now(),ut.appFgTime=Date.now(),function(){var e=__wxConfig.pages;if(void 0!==e)for(var t=0;t<e.length;t++){var n=e[t],r=exparser.Component._list[n];r&&!exparser.Component.isPrepared(r)&&exparser.Component.prepare(r)}}(),$e.call(et,f)?T("Page route 错误(system error)","appLaunch with an already exist webviewId "+f):Ct(l,f,d,{isMainTabBarPage:St({route:l})})):"reLaunch"===r||"autoReLaunch"===r?function(e,t,n,r){var o=!1;for("reLaunch"===r&&(o=!0);0<rt.length;){var i=!0;o&&(o=i=!1),It(rt[rt.length-1],e,!1,i)}ue(e),Ct(e,t,n,{isMainTabBarPage:St({route:e})})}(e,t,n,r):T("Page route 错误(system error)","Illegal open type: "+r)},Tt=function(e,t){if(A("On page reload: "+e),$e.call(et,t)){var n,r,o,i,a=vt(e),s=et[t].statesData;et[t].statesData=void 0,__virtualDOM__.restoreView(t),wt(et[t],t,a,Date.now(),s||{}),n=t,i=[(r={pageCount:rt.length,pageType:a?2:1}).pageCount,r.pageType,(o=L[n]||{}).rootCompCount||0,o.rootCustomCompCount||0,o.rootCustomCompRatio||0,o.rootInternalCompCount||0].map(encodeURIComponent).join(","),L[n]={},Reporter.reportKeyValue({key:"WebviewRestore",value:i}),Reporter.submit()}else T("Page reload(system error)","Can not find webviewId "+t)},kt=function(){var e=rt[rt.length-1],t=e.route,n=e.webviewId;Tt(t,n)};__appServiceSDK__.onAppRoute(P(function(e){var t=e.path,n=e.webviewId,r=e.query||{},o=e.openType;Ot(t,n,r,o)},"onAppRoute")),__appServiceSDK__.onPageReload(P(function(e){var t=e.path,n=e.webviewId;Tt(t,n)},"onPageReload")),__appServiceSDK__.onWebviewEvent(P(function(e){var t=e.webviewId,n=e.eventName,r=e.data;return function(e,t,n,r){if($e.call(et,e)){var o=et[e],i=o.page;if("__DOMReady"===n)return ut.pageReadyTime=Date.now(),A("Invoke event onReady in page: "+o.route),i.__callPageLifeTime__("onReady"),void lt("newPage2pageReady",ut.newPageTime,ut.pageReadyTime);if(r._requireActive){var a=rt[rt.length-1];if(!a||a.webviewId!==e)return}if(r._relatedInfo&&G.setEventRelatedInfo(r._relatedInfo),t){var s=__virtualDOM__.getNodeById(t,e);if(!s)return;var c=exparser.Element.getMethodCaller(s);return A("Invoke event "+n+" in component: "+s.is),gt(c,n)?ct(c,n,r):void k("事件警告","Do not have "+n+" handler in component: "+s.is+". Please make sure that "+n+" handler has been defined in "+s.is+".")}if(A("Invoke event "+n+" in page: "+o.route),gt(i,n))return ct(i,n,r);k("事件警告","Do not have "+n+" handler in current page: "+o.route+". Please make sure that "+n+" handler has been defined in "+o.route+", or "+o.route+" has been added into app.json")}}(t,e.nodeId,n,r)},"onWebviewEvent")),__appServiceSDK__.onAppEnterForeground(function(e){ut.appFgTime=Date.now(),0!==e.scene&&"0"!==e.scene&&(Qe=e.scene)}),__appServiceSDK__.onPullDownRefresh(P(function(e,t){!function(e){if($e.call(et,e)){var t=et[e],n=t.page;gt(n,"onPullDownRefresh")&&(A("Invoke event onPullDownRefresh in page: "+t.route),N.call(n,"onPullDownRefresh"),qe("pullDownRefresh",n))}else k("事件警告","onPullDownRefresh WebviewId: "+e+" not found")}(t)},"onPullDownRefresh")),function(){function e(e,n,r,o){if($e.call(et,r)){o=o||{};var i=et[r].page,a=B(i.route),s={path:a,title:"",target:n?n.target:void 0,fromShareButton:!0};void 0!==e&&(s.shareTarget=e),o&&o.chatDataHash&&(s.chatDataHash=o.chatDataHash),0<Object.keys(i.options).length&&(a+="?"+Object.keys(i.options).map(function(e){return e+"="+i.options[e]}).join("&")),P(t,"onShareAppMessage")(s,r)}else k("事件警告","tapShareButton WebviewId: "+r+" not found")}var t=function(e,t){if(null!=et[t]){Ye(t);var n,r,o=function(e,t){var n,r=e,o=et[t],i=o.page;if(gt(i,"onShareAppMessage")&&(n="onShareAppMessage"),n){A("Invoke event "+n+" in page: "+o.route),"devtools"===__wxConfig.platform&&console.warn("在开发者工具中仅模拟转发界面，不会发送实际转发请求，请在真机上进行转发功能完整测试");var a={from:e.fromShareButton?"button":"menu",target:e.target,shareTarget:e.shareTarget};e.webViewUrl&&(a.webViewUrl=e.webViewUrl);var s=N.call(i,n,a)||{};Reporter.reportApiCall({apiname:"userOnShareAppMessage"}),"miniapp"!==s.shareType&&"picture"!==s.shareType&&(s.shareType="miniapp"),r.shareType=s.shareType,r.shareTarget=e.shareTarget,"miniapp"===s.shareType&&(r.title=s.title&&"string"==typeof s.title?s.title:e.title,r.desc=s.desc&&"string"==typeof s.desc?s.desc:e.desc,r.path=(s.path&&"string"==typeof s.path?B(Xe(s.path)):e.path)||"",r.shareTemplateId=s.shareTemplateId&&"string"==typeof s.shareTemplateId?s.shareTemplateId:e.shareTemplateId||"",r.shareTemplateData=s.shareTemplateData&&"object"==_typeof4(s.shareTemplateData)?s.shareTemplateData:e.shareTemplateData||{},r.entryDataHash=s.entryDataHash&&"string"==typeof s.entryDataHash?s.entryDataHash:e.entryDataHash||"",r.chatDataHash=e.chatDataHash||""),s.generalWebpageUrl&&"string"==typeof s.generalWebpageUrl&&(r.generalWebpageUrl=s.generalWebpageUrl),"string"==typeof s.imageUrl&&(s.imageUrl&&!/^(http|https|wxfile|qqfile):\/\//.test(s.imageUrl)?r.imageUrl=ze(s.imageUrl,!1):r.imageUrl=s.imageUrl),s.cacheKey&&(r.cacheKey=s.cacheKey),r.path&&0<r.path.length&&"/"===r.path[0]&&(r.path=r.path.substr(1)),r.success=s.success,r.cancel=s.cancel,r.fail=s.fail,r.complete=s.complete,qe("share",i)}return r}(e,t);if("picture"===o.shareType)if(!0===e.fromShareButton)o.shareTarget,n="shareAppPictureMessageDirectly",(r=__appServiceSDK__.getShareCookieString())&&(o.messageExtraData=o.messageExtraData||{},o.messageExtraData.cookies=r);else n="shareAppPictureMessage";else if(!0===e.fromShareButton)n=6===o.shareTarget?"shareAppMessageDirectlyToFriendList":"shareAppMessageDirectly",(r=__appServiceSDK__.getShareCookieString())&&(o.messageExtraData=o.messageExtraData||{},o.messageExtraData.cookies=r);else n="shareAppMessage";o.useDefaultSnapshot=!0,!M()&&__appServiceSDK__.checkAPIAvailable("share")||(o=R({},o),["success","fail","cancel","complete"].some(function(e){return"function"==typeof o[e]})&&__appServiceSDK__.reportAPIRecycle({name:n,strategy:1})),Reporter.reportApiCall({apiname:"onShareAppMessage",param:e.fromShareButton?"button":"menu",param2:o.shareTarget}),o.shareTemplateId&&Reporter.reportApiCall({apiname:"arkShare",param:o.shareTemplateId}),2===o.shareTarget&&Reporter.reportApiCall({apiname:"qqFastShare"}),__appServiceSDK__[n](o,{beforeAll:function(e){e.errMsg=e.errMsg.replace("shareAppMessageDirectly","shareAppMessage").replace("shareAppPictureMessage","shareAppMessage").replace("shareAppMessageDirectly","shareAppMessage").replace("shareAppMessageDirectlyToFriendList","shareAppMessage"),void 0!==e.shareInfos&&0<e.shareInfos.length&&(e.shareTickets=e.shareInfos.filter(function(e){return e.shareKey&&e.shareName}).map(function(e){return __appServiceSDK__.showUpdatableMessageSubscribeButton({shareKey:e.shareKey}),He.set(e.shareKey,e.shareName)})),delete e.shareInfos}})}};__appServiceSDK__.onShareAppMessage(P(function(e,n){t(e,n)},"onShareAppMessage")),__appServiceSDK__.subscribeTapShareButton(function(t,n){var r=t.target&&t.target.shareType;if("number"==typeof r&&4&r)delete t.target.shareType,e(2,t,n);else if("number"==typeof r&&32&r)delete t.target.shareType,e(6,t,n);else if("number"==typeof r&&(1&r||2&r||8&r||16&r)){M()&&console.warn("在开发者工具中仅模拟转发界面，不会发送实际转发请求，请在真机上进行转发功能完整测试"),delete t.target.shareTyp;var o=2&r,i=8&r,a=16&r,s=[],c={};1&r&&(c[s.length]=0,s.push("qq")),o&&(c[s.length]=1,s.push("qzone")),i&&(c[s.length]=3,s.push("wechatFriends")),a&&(c[s.length]=4,s.push("wechatMoment")),1===s.length?e(c[0],t,n):wx.showActionSheet({itemList:s,actionSheetType:1,success:function(r){var o=r.tapIndex;c[o]||!r.chatDataHash?e(c[o],t,n):e(5,t,n,{chatDataHash:r.chatDataHash})}})}else e(-1,t,n)})}(),__appServiceSDK__.subscribeSavePageState(P(function(e,t){$e.call(et,t)?et[t].statesData=e:k("事件警告","onPageWillManuallyTerminate WebviewId: "+t+" not found")},"savePageState")),__appServiceSDK__.subscribeRecycleStatistics(P(function(e,t){if($e.call(et,t)){var n,r,o,i,a,s,c,u,l,f,d,p,h,g=et[t];n=t,o=(r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){var r,o,i;r=e,i=n[o=t],o in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i})}return e}({pageCount:rt.length,pageType:vt(g.route)?2:1},e)).pageCount,i=r.pageType,s=void 0===(a=r.rootCompCount)?0:a,u=void 0===(c=r.rootCustomCompCount)?0:c,f=void 0===(l=r.rootCustomCompRatio)?0:l,p=void 0===(d=r.rootInternalCompCount)?0:d,h=[o,i].map(encodeURIComponent).join(","),L[n]={rootCompCount:s,rootCustomCompCount:u,rootCustomCompRatio:f,rootInternalCompCount:p},Reporter.reportKeyValue({key:"WebviewRecycle",value:h}),Reporter.submit()}},"recycleStatistics")),__appServiceSDK__.onTabItemTap(P(function(e,t){if(__appServiceSDK__._setWxIsInvokeInTapForNavToMiniProgram(),$e.call(et,t)){var n=et[t],r=n.page;if(void 0!==__wxConfig&&__wxConfig.tabBar&&__wxConfig.tabBar.list&&__wxConfig.tabBar.list[e.index]){var o={index:e.index,pagePath:(__wxConfig.tabBar.list[e.index].pagePath||"").replace(/\.html$/,""),text:__wxConfig.tabBar.list[e.index].text};if(o.pagePath!==n.route)return;$e.call(r,"onTabItemTap")&&(A("Invoke event onTabItemTap in page: "+n.route),__appServiceSDK__.setWxInterfaceIsInvokeInTap("tap"),N.call(r,"onTabItemTap",o),__appServiceSDK__.unsetWxInterfaceIsInvokeInTap())}}},"tabItemTap"));var At=function(e){return J(e),__qqConfig.useFlutter?__virtualDOM__.flutterCustomComponentBehavior(e):__virtualDOM__.Behavior(e)},xt=__appServiceSDK__.createPluginWX,Pt=function(e,t){var n=e+"/"+t,r={__wxAppCode__:{},__wxAppCurrentFile__:""};return r.wx=xt(e,t),r.Page=function(e){bt(e,n,r.__wxAppCode__,r.__wxAppCurrentFile__,r)},r.getCurrentPages=function(){return dt(e)},r.Component=function(e){return yt(e,n,r.__wxAppCode__,r.__wxAppCurrentFile__,r)},r.Behavior=function(e){return __virtualDOM__.Behavior(e,n,r.__wxAppCode__,r.__wxAppCurrentFile__)},r.publishDomainComponents=function(e){return __virtualDOM__.publishDomainComponents(n,e)},r};n.d(t,"Page",function(){return Dt}),n.d(t,"Component",function(){return Nt}),n.d(t,"DisplayReporter",function(){return G}),n.d(t,"Behavior",function(){return At}),n.d(t,"__createPluginGlobal",function(){return Pt}),n.d(t,"hasPageRoute",function(){return _t}),n.d(t,"gTimeMark",function(){return ut}),n.d(t,"convertComponentAliasToRoute",function(){return Xe}),n.d(t,"getCurrentRoute",function(){return at}),n.d(t,"getCurrentPages",function(){return pt}),n.d(t,"getCurrentPagesByDomain",function(){return dt}),n.d(t,"forcePageReload",function(){return kt}),n.d(t,"App",function(){return Se}),n.d(t,"getApp",function(){return Ce}),n.d(t,"setPrivateExtraData",function(){return Ie}),"function"==typeof logxx&&logxx("app-service-engine start");var Dt=function(e){bt(e)},Nt=function(e){if(J(e),__qqConfig.useFlutter){var t=_extends({},e);delete t.behaviors;var n=yt(t);return __virtualDOM__.flutterCustomComponentHolder(n,e)}return yt(e)}}]);void 0!==__exportGlobal__&&(__exportGlobal__.Page=__appServiceEngine__.Page,__exportGlobal__.Component=__appServiceEngine__.Component,__exportGlobal__.Behavior=__appServiceEngine__.Behavior,__exportGlobal__.__webview_engine_version__=.02,__exportGlobal__.App=__appServiceEngine__.App,__exportGlobal__.getApp=__appServiceEngine__.getApp,__exportGlobal__.getCurrentPages=__appServiceEngine__.getCurrentPages,__exportGlobal__.__pageComponent=null);var __wxModule__=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requirePlugin=t.definePlugin=void 0;var r=n(1),o=n(5);t.definePlugin=r.definePlugin,t.requirePlugin=o.requirePlugin},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.definePlugin=t.innerDefineFactory=void 0;var r,o=n(2),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(4),s=i.default.plugin;t.innerDefineFactory=function(e){return function(t,n){var r=s[e];if(void 0===r)throw new Error('Sorry, plugin "'+e+'" is not defined.');r[t]={status:o.MODULE_STATUS_UNLOAD,factory:n}}},t.definePlugin=function(e,t){var n=(0,a.parseSchema)(e);if(!n||!n.pluginId||!n.version)throw new Error('schema must match "plugin://{name}/{version}"');var r=(0,a.getModKey)(n),i=function(e){if(void 0===__appServiceEngine__||"function"!=typeof __appServiceEngine__.__createPluginGlobal)throw new Error("Create plugin global failed.");return __appServiceEngine__.__createPluginGlobal(e.pluginId,e.version)}(n);s[r]={status:o.MODULE_STATUS_UNLOAD,factory:t,mods:{},global:i}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MODULE_STATUS_LOADED=2,t.MODULE_STATUS_UNLOAD=1},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={app:{},plugin:{}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/^plugin:\/\/([A-Za-z0-9_-]+)[\/]?(.*)/;t.parseSchema=function(e){var t=e.match(n);if(t&&3===t.length)return{pluginId:t[1],version:"0",modId:1<=t[2].length?t[2]:void 0}},t.getModKey=function(e){return e.pluginId+"/"+e.version},t.getModDir=function(e){var t=e.match(/(.*)\/([^\/]+)?$/);return t&&t[1]?t[1]:"./"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requirePlugin=void 0;var r,o=n(1),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(2),s=n(4),c=i.default.plugin,u=function(e){for(var t=[],n=e.split("/"),r=0,o=n.length;r<o;++r){var i=n[r];if(""!=i&&"."!=i)if(".."==i){if(0==t.length){t=null;break}t.pop()}else r+1<o&&".."==n[r+1]?r++:t.push(i)}return t},l=function(e,t){var n=c[e],r=u(t+"/index.js").join("/");return n&&n[r]?r:(r=u(t).join("/"),/\.js$/.test(r)||(r+=".js"),n&&n[r]?r:"")},f=function(e,t){var n=(0,s.getModDir)(t);return function(t){if("string"!=typeof t)throw new Error("require args must be a string.");var r=u(t.startsWith("/")?t:n+"/"+t);if(!r)throw new Error("can't find module : "+t);try{var o=r.join("/");return o=function(e,t,n,r){var o=t,i=c[e];if(/\.js$/.test(o)||(o+=".js"),"string"==typeof o&&i&&i[o])return o;var a=u(n);if(!a)throw new Error("can't find module : "+r);for(var s=t.substring(a.join("/").length),f=void 0;a.length;){var d=a.join("/")+"/miniprogram_npm"+s;if(f=l(e,d))break;a.pop()}return f||(s="/"===s[0]?s:"/"+s,f=l(e,"miniprogram_npm"+s)),f||t}(e,o,n,t),d(e,o)}catch(t){throw t}}},d=function(e,t){!function(e){if("string"!=typeof t)throw new Error("require args must be a string")}();var n=c[e];if(void 0===n)throw new Error('Plugin "'+e+'" is not defined.');var r=n[t];if(void 0===r)throw new Error('Plugin module "'+t+'" is not defined.');if(r.status===a.MODULE_STATUS_UNLOAD){var o=void 0,i=r.factory,s={exports:{}};i&&(o=i(f(e,t),s,s.exports)),r.exports=s.exports||o,r.status=a.MODULE_STATUS_LOADED}return r.exports};t.requirePlugin=function(e){!function(){if(void 0===__wxConfig||void 0===__wxConfig.plugins)throw new Error("This application has not registered any plugins yet.")}(),function(e){if("string"!=typeof e)throw new Error("requirePlugin args must be a string.")}(e);var t=(0,s.parseSchema)(e),n=void 0===t;n&&(t=function(e){var t=__wxConfig.plugins[e];if(void 0===t)throw new Error('Plugin "'+e+'" has not registered.');return{pluginId:t.provider,version:"0"}}(e));var r=(0,s.getModKey)(t),i=c[r];if(void 0===i)throw new Error('Plugin "'+r+'" is not defined.');return i.status===a.MODULE_STATUS_UNLOAD&&(i.exports=function(e,t){var n=t.factory,r=t.global,i={exports:{}};if(!n)return i.exports;var a,s=n((0,o.innerDefineFactory)(e),(a=e,function(e){return d(a,e)}),i,i.exports,r,r.wx,void 0,r.Page,r.Component,r.Behavior,void 0,r.getCurrentPages);return i.exports||s}(r,i),i.status=a.MODULE_STATUS_LOADED),n?"function"==typeof i.exports?i.exports():void 0:i.exports}}]);!function(e){var t={};define=function(e,n){t[e]={status:1,factory:n}};var n=function(e){if(e&&__wxConfig.subPackages)for(var t=0,n=__wxConfig.subPackages.length;t<n;t++)if(0===e.indexOf(__wxConfig.subPackages[t].root))return __wxConfig.subPackages[t]},r=function(e){for(var t=[],n=e.split("/"),r=0,o=n.length;r<o;++r){var i=n[r];if(""!=i&&"."!=i)if(".."==i){if(0==t.length){t=null;break}t.pop()}else r+1<o&&".."==n[r+1]?r++:t.push(i)}return t},o=function(e){var n=r(e+"/index.js").join("/");return t[n]?n:(n=r(e).join("/"),/\.js$/.test(n)||(n+=".js"),t[n]?n:"")},i=function(e){var i,a=(i=e.match(/(.*)\/([^\/]+)?$/))&&i[1]?i[1]:"./";return function(i){if("string"!=typeof i)throw new Error("require args must be a string");var s=r(a+"/"+i);if(!s)throw new Error("can't find module : "+i);try{var c=s.join("/");c=function(e,n,i){var a=e;if(/\.js$/.test(a)||(a+=".js"),"string"==typeof a&&t[a])return a;var s=r(n);if(!s)throw new Error("can't find module : "+i);for(var c,u=e.substring(s.join("/").length);s.length;){var l=s.join("/")+"/miniprogram_npm"+u;if(c=o(l))break;s.pop()}return c||(u="/"===u[0]?u:"/"+u,c=o(l="miniprogram_npm"+u)),c||e}(c,a,i);var u=function(e){return"functional-pages"===r(e)[0]};if(u(c)!==u(e)&&Reporter.thirdErrorReport({error:new Error('should not require across "functional-pages" folder'),extend:'at require("'+i+'") in '+e}),"devtools"===__wxConfig.platform&&__wxConfig.subPackages){var l=n(c),f=n(e);if(l&&l!==f)throw new Error("should not require "+i+" in "+e+" because they are in diffrent subPackages")}return require(c)}catch(i){throw i}}};require=function(e){if("string"!=typeof e)throw new Error("require args must be a string");var n=t[e];if(!n){var r=-1===e.indexOf("/")?e+"/index.js":e;/\.js$/.test(r="miniprogram_npm/"+r)||(r+=".js"),n=t[r]}if(!n)throw new Error('module "'+e+'" is not defined');if(1===n.status){var o=n.factory,a={exports:{}};n.exports=a.exports,n.status=2;var s=void 0;o&&(s=o(i(e),a,a.exports)),n.exports=a.exports||s}return n.exports},appServiceEnd=function(){__appServiceSDK__.appServiceEnd()}}();var nta=require;if(__exportGlobal__.definePlugin=__wxModule__.definePlugin,__exportGlobal__.requirePlugin=__wxModule__.requirePlugin,"function"==typeof __passWAServiceGlobal__){var ota={};ota.__appServiceEngine__=__appServiceEngine__,ota.__appServiceSDK__=__appServiceSDK__,ota.__virtualDOM__=__virtualDOM__,ota.__subContextEngine__=__subContextEngine__,ota.Reporter=Reporter,ota.exparser=exparser,ota.WeixinJSBridge=WeixinJSBridge,ota.Protect=Protect,__passWAServiceGlobal__(ota)}};function __doWAServiceInit__(){var e;"undefined"!=typeof window&&(window.MutationObserver=null,window.WebKitMutationObserver=null),"undefined"!=typeof wx&&wx.version&&(e=wx.version),__waServiceInit__(),e&&void 0!==__exportGlobal__&&__exportGlobal__.wx&&(__exportGlobal__.wx.version=e)}MutationObserver=null;var isAndroid=!1;void 0!==__wxConfig&&void 0!==__wxConfig.platform&&"android"===__wxConfig.platform.toLowerCase()&&(isAndroid=!0),isAndroid?(__subContextEngine__.isIsolateContext(),__subContextEngine__.isIsolateContext()||__doWAServiceInit__()):__doWAServiceInit__(),__subContextEngine__.initAppRelatedContexts(__exportGlobal__)}();var __WAServiceEndTime__=Date.now();